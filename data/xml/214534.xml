<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.1"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>214534</bug_id>
          
          <creation_ts>2008-01-07 15:26:00 -0500</creation_ts>
          <short_desc>Need build replacement for the removed class ClusteringMDB (JMS)</short_desc>
          <delta_ts>2012-04-05 17:14:13 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>12</classification_id>
          <classification>RT</classification>
          <product>EclipseLink</product>
          <component>Foundation</component>
          <version>1.0</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc>http://wiki.eclipse.org/EclipseLink/Development/2.1/JMSCacheCoordinationUsingMDB</bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>Future</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="kyle chen">xiaosong.chen</reporter>
          <assigned_to name="Chris Delahunt">christopher.delahunt</assigned_to>
          <cc>douglas.clarke</cc>
    
    <cc>SebTardif</cc>
          
          <votes>1</votes>

      

      

      <flag name="pmc_approved"
          id="8886"
          type_id="2"
          status="+"
          setter="douglas.clarke"
    />

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1126882</commentid>
    <comment_count>0</comment_count>
    <who name="kyle chen">xiaosong.chen</who>
    <bug_when>2008-01-07 15:26:25 -0500</bug_when>
    <thetext>Need build replacement for the class org.eclipse.persistence.sessions.remote.jms.mdb.ClusteringMDB which has been removed due to using the deprecated clustering services mechanism, the newly built class should use JMSTopicTransportManager to send and receive sync message, the preferred package name for this new class will be org.eclipse.persistence.internal.sessions.coordination.jms.mdb


Note, the source code for the removed class can be found in revision 7319 and M2 source zip file.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1474309</commentid>
    <comment_count>1</comment_count>
    <who name="Tom Ware">tom.ware</who>
    <bug_when>2009-04-16 10:56:02 -0400</bug_when>
    <thetext>Updating priority due to revised bug categorization process.  See the following page for details:

http://wiki.eclipse.org/EclipseLink/Development/Bugs/Guidelines#Priority_and_Target_Milestone 

If you feel the updated priority is incorrect, please send an email to eclipselink-users@eclipse.org.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1652942</commentid>
    <comment_count>2</comment_count>
      <attachid>155612</attachid>
    <who name="Doug Clarke">douglas.clarke</who>
    <bug_when>2010-01-08 11:02:54 -0500</bug_when>
    <thetext>Created attachment 155612
ClusteringMDB.java from revision 33</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1652943</commentid>
    <comment_count>3</comment_count>
      <attachid>155613</attachid>
    <who name="Doug Clarke">douglas.clarke</who>
    <bug_when>2010-01-08 11:03:27 -0500</bug_when>
    <thetext>Created attachment 155613
JMSPublishingOnlyClusteringService.java from revision 33</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1652962</commentid>
    <comment_count>4</comment_count>
    <who name="Doug Clarke">douglas.clarke</who>
    <bug_when>2010-01-08 11:29:13 -0500</bug_when>
    <thetext>I believe the work required includes:

1. Implement a MDB using the RCM APIs
2. Implement a publish only RCM based clustering service
3. Test within containers: I would suggest WLS, WAS, and GlassFish (if time permits). Testing in a mock EJB/JMS environement would also be great so we could have LRG regression tests and not just manual container tests.

Please make sure there are good diagnostic messages available indicating setup and proper handling</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1663638</commentid>
    <comment_count>5</comment_count>
    <who name="Doug Clarke">douglas.clarke</who>
    <bug_when>2010-01-26 10:23:18 -0500</bug_when>
    <thetext>*** Bug 300746 has been marked as a duplicate of this bug. ***</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1665784</commentid>
    <comment_count>6</comment_count>
    <who name="Doug Clarke">douglas.clarke</who>
    <bug_when>2010-01-28 16:50:08 -0500</bug_when>
    <thetext>Initial feedback on wiki content (http://wiki.eclipse.org/EclipseLink/Development/2.1/JMSCacheCoordinationUsingMDB) requested</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1666401</commentid>
    <comment_count>7</comment_count>
    <who name="Doug Clarke">douglas.clarke</who>
    <bug_when>2010-01-29 12:09:18 -0500</bug_when>
    <thetext>As I was reviewing this a work-around occurred to me.
1. Use a custom server platform to disable the creation of the JMS listener thread
2. Add a DB to the application

The following code is not intended to be complete or tested but intended to illustrate the approach.

public class CustomWebSphere7Plpatform extends WebSphere_7_Platform {

    public CustomWebSphere7Plpatform(DatabaseSession newDatabaseSession) {
        super(newDatabaseSession);
    }

    @Override
    public void launchContainerRunnable(Runnable runnable) {
        if (runnable instanceof JMSTopicRemoteConnection) {
            // Ignore local listener thread creation
        } else {
            super.launchContainerRunnable(runnable);
        }
        
    }

}

MDB:

@MessageDriven
public class JMSCacheCoordinationMDB implements MessageListener {
    
    private JMSTopicRemoteConnection connection;
    
    @PersistenceUnit(unitName=&quot;employee&quot;)
    public void initialize(EntityManagerFactory emf) {
        Server session = JpaHelper.getServerSession(emf);
        
        if (session == null) {
            // TODO
            throw new IllegalArgumentException();
        }
        JMSTopicTransportManager manager =(JMSTopicTransportManager) session.getCommandManager().getTransportManager(); 
        this.connection = (JMSTopicRemoteConnection) manager.getConnectionToLocalHost();
    }
    
    
    public void onMessage(Message message) {
        connection.onMessage(message);
    }

}</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1666606</commentid>
    <comment_count>8</comment_count>
      <attachid>157673</attachid>
    <who name="Chris Delahunt">christopher.delahunt</who>
    <bug_when>2010-01-29 16:45:59 -0500</bug_when>
    <thetext>Created attachment 157673
proposed core changes

patch includes the proposed foundation changes, with testing changes to follow.  Please see http://wiki.eclipse.org/EclipseLink/Development/2.1/JMSCacheCoordinationUsingMDB
for the design documentation</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1669336</commentid>
    <comment_count>9</comment_count>
      <attachid>158088</attachid>
    <who name="Chris Delahunt">christopher.delahunt</who>
    <bug_when>2010-02-03 14:16:57 -0500</bug_when>
    <thetext>Created attachment 158088
proposed patch v2

Second version of the patch, incorporating feedback received so far and removing the MDB.  MDB example code will be provided through documentation and will be designed to use the new static JMSPublishingHelper.processJMSMessage(javax.jms.Message message, AbstractSession session) method.

Feedback welcome</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1669900</commentid>
    <comment_count>10</comment_count>
    <who name="Chris Delahunt">christopher.delahunt</who>
    <bug_when>2010-02-04 09:38:27 -0500</bug_when>
    <thetext>latest patch is incorrect - it uses a single TopicConnection to create TopicSessions/TopicPublishers on demand, which will occur every time a transaction commits.  In concurrent apps, this will eventually cause 2 TopicSessions to be open on the same connection at the same time, which is not allowed in the J2EE spec:
&quot;An attempt to use the Connection objectâ€™s createSession method when an active Session object exists for that connection should be prohibited by the container.&quot;

While TopicConnections are not lightweight, TopicConnectionFactory should be responsible for pooling connections if neccessary.  I am working on updating the patch to obtain connections on demand - any feed back on this approach vs creating an EclipseLink pool for these objects instead is appreciated.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1670183</commentid>
    <comment_count>11</comment_count>
      <attachid>158221</attachid>
    <who name="Chris Delahunt">christopher.delahunt</who>
    <bug_when>2010-02-04 15:12:05 -0500</bug_when>
    <thetext>Created attachment 158221
proposed patch v3

This patch reworks things slightly so that TopicConnections are no longer stored either, getting around the J2EE spec requirement that there only be 1 open TopicSession per TopicConnection.  Because this now forces TopicConnections to be obtained each and every time a message needs to be sent, a flag was introduced to JMSPublishingTransportManager, reuseJMSTopicPublisher, to allow enabling the legacy behavior of reusing TopicConnection, TopicSession and the TopicPublisher concurrently.  If using a JMS provider that does not have a problem with multiple threads using the same TopicPublisher to publish messages can set this flag using  the persistence property
&quot;eclipselink.cache.coordination.jms.reuse-topic-publisher&quot;</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1670218</commentid>
    <comment_count>12</comment_count>
      <attachid>158226</attachid>
    <who name="Chris Delahunt">christopher.delahunt</who>
    <bug_when>2010-02-04 16:05:09 -0500</bug_when>
    <thetext>Created attachment 158226
v3.1

previous patch was missing JMSPublishingTransportManagerConfig</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1671047</commentid>
    <comment_count>13</comment_count>
      <attachid>158381</attachid>
    <who name="Chris Delahunt">christopher.delahunt</who>
    <bug_when>2010-02-06 14:28:15 -0500</bug_when>
    <thetext>Created attachment 158381
patch for checkin

This patch includes all comments and code integrating feedback.  Differences from previous patch are accessor methods on the JMSTopicRemoteConnection to make it easer for TransportManger subclasses to use.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1672469</commentid>
    <comment_count>14</comment_count>
    <who name="Chris Delahunt">christopher.delahunt</who>
    <bug_when>2010-02-09 10:02:19 -0500</bug_when>
    <thetext>Patch checked into trunk feb 5th:
http://fisheye2.atlassian.com/changelog/eclipselink/trunk?cs=6527

tests run: LRG and manual testing</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="0"
              isprivate="0"
          >
            <attachid>155612</attachid>
            <date>2010-01-08 11:02:00 -0500</date>
            <delta_ts>2010-01-29 16:45:59 -0500</delta_ts>
            <desc>ClusteringMDB.java from revision 33</desc>
            <filename>ClusteringMDB.java</filename>
            <type>application/octet-stream</type>
            <size>3971</size>
            <attacher name="Doug Clarke">douglas.clarke</attacher>
            
              <data encoding="base64">LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioNCiAqIENvcHlyaWdodCAoYykgMTk5OCwgMjAwNyBPcmFj
bGUuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQogKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBh
bnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUNCiAqIHRlcm1zIG9m
IHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAsIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMg
ZGlzdHJpYnV0aW9uDQogKiBhbmQgaXMgYXZhaWxhYmxlIGF0IGh0dHA6Ly93d3cuZWNsaXBzZS5v
cmcvbGVnYWwvZXBsLXYxMC5odG1sLg0KICoNCiAqIENvbnRyaWJ1dG9yczoNCiAqICAgICBPcmFj
bGUgLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24gZnJvbSBPcmFjbGUgVG9wTGluaw0K
ICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKi8gIA0KcGFja2FnZSBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5j
ZS5zZXNzaW9ucy5yZW1vdGUuam1zLm1kYjsNCg0KaW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3Rl
bmNlLmV4Y2VwdGlvbnMuSk1TUHJvY2Vzc2luZ0V4Y2VwdGlvbjsNCmltcG9ydCBvcmcuZWNsaXBz
ZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5yZW1vdGUuam1zLlJFTU9WRV9NZXNzYWdlTGlzdGVuZXI7
DQppbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuU2Vzc2lvbjsNCmltcG9y
dCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5mYWN0b3JpZXMuU2Vzc2lvbk1hbmFn
ZXI7DQoNCmltcG9ydCBqYXZheC5lamIuRUpCRXhjZXB0aW9uOw0KaW1wb3J0IGphdmF4LmVqYi5N
ZXNzYWdlRHJpdmVuQmVhbjsNCmltcG9ydCBqYXZheC5lamIuTWVzc2FnZURyaXZlbkNvbnRleHQ7
DQppbXBvcnQgamF2YXguam1zLio7DQppbXBvcnQgamF2YXgubmFtaW5nLio7DQoNCg0KLyoqDQog
KiA8cD4NCiAqIDxiPlB1cnBvc2U8L2I+OiBUbyBwcm92aWRlIGEgcmVmZXJlbmNlIGltcGxlbWVu
dGF0aW9uIGZvciBNZXNzYWdlIERyaXZlbiBCZWFuIHRoYXQgY2FuIGxpc3RlbiBhbmQgcHJvY2Vz
cyBUb3BMaW5rIG1lc3NhZ2VzLiANCiAqIDxwPg0KICogPGI+RGVzY3JpcHRvbjwvYj46IFRoZSBN
ZXNzYWdlIERyaXZlbiBCZWFuIChNREIpIG11c3QgYmUgZGVwbG95ZWQgYWxvbmcgd2l0aCBUb3BM
aW5rIGFwcGxpY2F0aW9uIGFuZCBjb25maWd1cmVkIHRvIGxpc3RlbmVyIHRoZSB0aGUgc2FtZQ0K
ICogIGRlc3RpbmF0aW9uIHRoYXQgY2x1c3RlcmluZyBzZXJ2aWNlcyBzZW5kIHRoZWlyIGNhY2hl
IHN5bmMgbWVzc2FnZXMgdG8uICBVc2VyIG11c3QgZGVmaW5lcyBhbiBlbnZpcm9ubWVudCB2YXJp
YWJsZSBuYW1lZCB3aXRoIHRoZSB2YWx1ZSBvZg0KICogIENsdXN0ZXJpbmdNREIuVE9QTElOS19T
RVNTSU9OX05BTUUuICBUaGlzIGVudmlyb25tZW50IHZhcmlhYmxlIHZhbHVlIGlzIHNlc3Npb24g
bmFtZSAgdXNlZCBieSBUb3BMaW5rIHRvIGxvYWQgdGhlIGNvc3Jlc3BvbmRpbmcgc2Vzc2lvbg0K
ICogIGZyb20gdGhlIHNlc3Npb25zLnhtbCB3aGVuIHRoZSBNREIgaXMgY3JlYXRlZC4NCiAqDQog
KiBAc2VlIG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLnJlbW90ZS5DYWNoZVN5bmNo
cm9uaXphdGlvbk1hbmFnZXINCiAqLw0KcHVibGljIGNsYXNzIENsdXN0ZXJpbmdNREIgaW1wbGVt
ZW50cyBNZXNzYWdlRHJpdmVuQmVhbiwgTWVzc2FnZUxpc3RlbmVyIHsNCiAgICBwcm90ZWN0ZWQg
UkVNT1ZFX01lc3NhZ2VMaXN0ZW5lciB0bE1lc3NhZ2VMaXN0ZW5lcjsNCg0KICAgIC8qKg0KICAg
ICAqIFRoaXMgdmFsdWUgaXMgdGhlIGVudi1lbnRyeS1uYW1lIGVsZW1lbnQgb2YgdGhlIE1lc3Nh
Z2UgRHJpdmVuIEJlYW5kIGNvbmZpZ3VyZWQgaW4gdGhlIGVqYi1qYXIueG1sLg0KICAgICAqIFRo
ZSB2YWx1ZSBpcyB1c2VkIHRvIGxvb2t1cCB0aGUgdmFsdWUgb2YgdGhlIHNlc3Npb24ncyBuYW1l
IGZyb20gdGhlIGVudmlyb25tZW50IHZhcmlhYmxlIGRlZmluZSBpbiBKTkRJICJqYXZhOmNvbXAv
ZW52Ii4NCiAgICAgKiovDQogICAgcHVibGljIGZpbmFsIFN0cmluZyBUT1BMSU5LX1NFU1NJT05f
TkFNRSA9ICJ0bF9zZXNzaW9uX25hbWVfZm9yX21kYiI7DQogICAgTWVzc2FnZURyaXZlbkNvbnRl
eHQgbWRiQ3R4Ow0KDQogICAgcHVibGljIENsdXN0ZXJpbmdNREIoKSB7DQogICAgfQ0KDQogICAg
LyogTURCIHNwZWNpZmljIG1ldGhvZCAqLw0KICAgIHB1YmxpYyB2b2lkIHNldE1lc3NhZ2VEcml2
ZW5Db250ZXh0KE1lc3NhZ2VEcml2ZW5Db250ZXh0IGN0eCkgew0KICAgICAgICBtZGJDdHggPSBj
dHg7DQogICAgfQ0KDQogICAgLyogTURCIHNwZWNpZmljIG1ldGhvZCAqLw0KICAgIHB1YmxpYyB2
b2lkIGVqYkNyZWF0ZSgpIHsNCiAgICAgICAgdGxNZXNzYWdlTGlzdGVuZXIgPSBuZXcgUkVNT1ZF
X01lc3NhZ2VMaXN0ZW5lcihnZXRTZXNzaW9uKCkpOw0KICAgIH0NCg0KICAgIC8qIE1EQiBzcGVj
aWZpYyBtZXRob2QgKi8NCiAgICBwdWJsaWMgdm9pZCBlamJSZW1vdmUoKSB7DQogICAgICAgIHRs
TWVzc2FnZUxpc3RlbmVyID0gbnVsbDsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBQVUJMSUM6
DQogICAgICogUmV0dXJuIHRoZSBUb3BMaW5rIHNlc3Npb24gdGhhdCBoYXMgdGhlIHNlc3Npb24n
cyBuYW1lIGNvbmZpZ3VyZWQgYXMgYW4gZW52LWVudHJ5IGVsZW1lbnQgaW4gdGhlIGVqYi1qYXIu
eG1sLg0KICAgICAqIFVzZXIgY2FuIHN1YmNsYXNzIGFuZCBvdmVyd3JpdGUgdGhpcyBtZXRob2Qg
dG8gb2J0YWluIHRoZSBzZXNzaW9uIGRpZmZlcmVudGx5Lg0KICAgICAqDQogICAgICogQGV4Y2Vw
dGlvbiBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5leGNlcHRpb25zLkpNU1Byb2Nlc3NpbmdFeGNl
cHRpb24gaWYgaXQgaXMgdW5hYmxlIHRvIGxvb2t1cCB0aGUgc2Vzc2lvbidzIG5hbWUgb3IgdGhl
IHNlc3Npb24gaXMgbnVsbA0KICAgICAqLw0KICAgIHB1YmxpYyBTZXNzaW9uIGdldFNlc3Npb24o
KSB7DQogICAgICAgIFNlc3Npb24gc2Vzc2lvbjsNCg0KICAgICAgICB0cnkgew0KICAgICAgICAg
ICAgQ29udGV4dCBpbml0Q3R4ID0gbmV3IEluaXRpYWxDb250ZXh0KCk7DQogICAgICAgICAgICBD
b250ZXh0IG15RW52ID0gKENvbnRleHQpIGluaXRDdHgubG9va3VwKCJqYXZhOmNvbXAvZW52Iik7
DQoNCiAgICAgICAgICAgIC8vIE9idGFpbiB0aGUgc2Vzc2lvbiBuYW1lIGNvbmZpZ3VyZWQgYnkg
dGhlIERlcGxveWVyLg0KICAgICAgICAgICAgU3RyaW5nIHNlc3Npb25OYW1lID0gKFN0cmluZykg
bXlFbnYubG9va3VwKFRPUExJTktfU0VTU0lPTl9OQU1FKTsNCiAgICAgICAgICAgIHNlc3Npb24g
PSBTZXNzaW9uTWFuYWdlci5nZXRNYW5hZ2VyKCkuZ2V0U2Vzc2lvbihzZXNzaW9uTmFtZSk7DQog
ICAgICAgIH0gY2F0Y2ggKE5hbWluZ0V4Y2VwdGlvbiBlKSB7DQogICAgICAgICAgICB0aHJvdyBK
TVNQcm9jZXNzaW5nRXhjZXB0aW9uLmVycm9yTG9va3VwU2Vzc2lvbk5hbWVJbkN0eChlKTsNCiAg
ICAgICAgfQ0KDQogICAgICAgIGlmIChzZXNzaW9uID09IG51bGwpIHsNCiAgICAgICAgICAgIHRo
cm93IEpNU1Byb2Nlc3NpbmdFeGNlcHRpb24ubWRiRm91bmROb1Nlc3Npb24oKTsNCiAgICAgICAg
fQ0KDQogICAgICAgIHJldHVybiBzZXNzaW9uOw0KICAgIH0NCg0KICAgIC8qIE1EQiBzcGVjaWZp
YyBtZXRob2QgKi8NCiAgICBwdWJsaWMgdm9pZCBvbk1lc3NhZ2UoamF2YXguam1zLk1lc3NhZ2Ug
bWVzc2FnZSkgew0KICAgICAgICAvLyBEZWxlZ2F0ZSB0aGUgcmVjZWl2ZWQgbWVzc2FnZSB0byBS
RU1PVkVfTWVzc2FnZUxpc3RlbmVyIGZvciBwcm9jZXNzaW5nDQogICAgICAgIHRsTWVzc2FnZUxp
c3RlbmVyLm9uTWVzc2FnZShtZXNzYWdlKTsNCiAgICB9DQp9DQo=
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>155613</attachid>
            <date>2010-01-08 11:03:00 -0500</date>
            <delta_ts>2010-01-08 11:03:27 -0500</delta_ts>
            <desc>JMSPublishingOnlyClusteringService.java from revision 33</desc>
            <filename>JMSPublishingOnlyClusteringService.java</filename>
            <type>application/octet-stream</type>
            <size>1824</size>
            <attacher name="Doug Clarke">douglas.clarke</attacher>
            
              <data encoding="base64">LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioNCiAqIENvcHlyaWdodCAoYykgMTk5OCwgMjAwNyBPcmFj
bGUuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQogKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBh
bnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUNCiAqIHRlcm1zIG9m
IHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAsIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMg
ZGlzdHJpYnV0aW9uDQogKiBhbmQgaXMgYXZhaWxhYmxlIGF0IGh0dHA6Ly93d3cuZWNsaXBzZS5v
cmcvbGVnYWwvZXBsLXYxMC5odG1sLg0KICoNCiAqIENvbnRyaWJ1dG9yczoNCiAqICAgICBPcmFj
bGUgLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24gZnJvbSBPcmFjbGUgVG9wTGluaw0K
ICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKi8gIA0KcGFja2FnZSBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5j
ZS5zZXNzaW9ucy5yZW1vdGUuam1zLm1kYjsNCg0KaW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3Rl
bmNlLmludGVybmFsLnNlc3Npb25zLnJlbW90ZS5SZW1vdGVDb25uZWN0aW9uOw0KaW1wb3J0IG9y
Zy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLnJlbW90ZS5qbXMuSk1TQ2x1c3RlcmluZ1Nl
cnZpY2U7DQppbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuU2Vzc2lvbjsN
Cg0KDQpwdWJsaWMgY2xhc3MgSk1TUHVibGlzaGluZ09ubHlDbHVzdGVyaW5nU2VydmljZSBleHRl
bmRzIEpNU0NsdXN0ZXJpbmdTZXJ2aWNlIHsNCiAgICAvKioNCiAgICAgKiBQVUJMSUM6DQogICAg
ICogQ3JlYXRlcyBhIEpNU1B1Ymxpc2hpbmdDaGFuZ2VzT25seUNsdXN0ZXJpbmdTZXJ2aWNlDQog
ICAgICovDQogICAgcHVibGljIEpNU1B1Ymxpc2hpbmdPbmx5Q2x1c3RlcmluZ1NlcnZpY2UoU2Vz
c2lvbiBzZXNzaW9uKSB7DQogICAgICAgIHN1cGVyKHNlc3Npb24pOw0KICAgIH0NCg0KICAgIC8q
Kg0KICAgICAqIElOVEVSTkFMOg0KICAgICAqIEluaXRpYWxpemVzIHRoZSBjbHVzdGVyaW5nIHNl
cnZpY2UuICBPdmVyd3JpdGUgc3VwZXIgbWV0aG9kIGFuZCBub3Qgc3Bhd25pbmcgdGhyZWFkDQog
ICAgICovDQogICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZSgpIHsNCiAgICAgICAgcnVuKCk7DQog
ICAgfQ0KDQogICAgLyoqDQogICAgICogSU5URVJOQUw6DQogICAgICogVGhpcyBtZXRob2QgaXMg
Y2FsbGVkIGJ5IHRoZSBjYWNoZSBzeW5jaHJvbml6YXRpb24gbWFuYWdlciB3aGVuIHRoaXMgc2Vy
dmVyIHNob3VsZA0KICAgICAqIGNvbm5lY3QgYmFjayAoJ2hhbmRzaGFrZScpIHRvIHRoZSBzZXJ2
ZXIgZnJvbSB3aGljaCB0aGlzIHJlbW90ZSBjb25uZWN0aW9uIGNhbWUuDQogICAgICovDQogICAg
cHVibGljIHZvaWQgY29ubmVjdEJhY2tUb1JlbW90ZShSZW1vdGVDb25uZWN0aW9uIGNvbm5lY3Rp
b24pDQogICAgICAgIHRocm93cyBFeGNlcHRpb24gew0KICAgICAgICAvLyAtLSBEbyBub3RoaW5n
LiAgVGhpcyBtZXRob2QgaXMgaW50ZW5kZWQgdG8gc2V0IGEgSk1TIE1lc3NhZ2VMaXN0ZW5lciB0
aGF0IGhhbmRsZSByZWNldmluZyBtZXNzYWdlcyBpbiB0aGUgc3VwZXIgY2xhc3MuDQogICAgICAg
IC8vIFRoZSBzZW5kaW5nIG1lc3NhZ2VzIHBhcnQgaXMgZXhwZWN0ZWQgdG8gYmUgaGFuZGxlZCBi
eSBhbm90aGVyIHNvdXJjZSBzdWNoIGFzIGEgTWVzc2FnZURyaXZlbkJlYW4uDQogICAgfQ0KfQ0K
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>157673</attachid>
            <date>2010-01-29 16:45:00 -0500</date>
            <delta_ts>2010-02-04 15:12:05 -0500</delta_ts>
            <desc>proposed core changes</desc>
            <filename>214534.patch</filename>
            <type>text/plain</type>
            <size>47284</size>
            <attacher name="Chris Delahunt">christopher.delahunt</attacher>
            
              <data encoding="base64">SW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9leGNlcHRpb25zL2kxOG4vUmVtb3Rl
Q29tbWFuZE1hbmFnZXJFeGNlcHRpb25SZXNvdXJjZS5qYXZhDQo9PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLS0gc3Jj
L29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2V4Y2VwdGlvbnMvaTE4bi9SZW1vdGVDb21tYW5kTWFu
YWdlckV4Y2VwdGlvblJlc291cmNlLmphdmEJKHJldmlzaW9uIDYzMzgpDQorKysgc3JjL29yZy9l
Y2xpcHNlL3BlcnNpc3RlbmNlL2V4Y2VwdGlvbnMvaTE4bi9SZW1vdGVDb21tYW5kTWFuYWdlckV4
Y2VwdGlvblJlc291cmNlLmphdmEJKHdvcmtpbmcgY29weSkNCkBAIC0yOCwxOCArMjgsMTggQEAN
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAiMjIxMDQiLCAi
Q291bGQgbm90IGxvb2sgdXAgaG9zdG5hbWUiIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHsgIjIyMTA1IiwgIkNvdWxkIG5vdCBwcm9wYWdhdGUgY29tbWFu
ZCB0byB7MH0iIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHsgIjIyMTA2IiwgIkNvdWxkIG5vdCBjcmVhdGUgZXh0ZXJuYWwgSk1TIGNvbm5lY3Rpb24gd2l0
aCBUb3BpYyB7MH0sIFRvcGljIEZhY3RvcnkgezF9LCBhbmQgQ29udGV4dCBwcm9wZXJ0aWVzIHsy
fSIgfSwNCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAiMjIx
MDciLCAiQ291bGQgbm90IHJlbW92ZSBsb2NhbCBjb25uZWN0aW9uIGluIGxvY2FsIG5hbWluZyBz
ZXJ2aWNlIHVuZGVyIG5hbWUgezB9IiB9LA0KLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICANCi0gICAgeyAiMjIxMDgiLCAiQ291bGQgbm90IHNlcmlhbGl6ZSBvciBk
ZXNpcmFsaXplIGNvbW1hbmQiIH0sDQotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIA0KLSAgICB7ICIyMjEwOSIsICJGYWlsZWQgdG8gcmVjZWl2ZSBKTVMgbWVzc2Fn
ZSBmcm9tIEpNUyBwcm92aWRlciIgfSwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgeyAiMjIxMDciLCAiQ291bGQgbm90IHJlbW92ZSBsb2NhbCBjb25uZWN0aW9u
IGluIGxvY2FsIG5hbWluZyBzZXJ2aWNlIHVuZGVyIG5hbWUgezB9IiB9LCAgICAgICAgICAgICAN
CisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAiMjIxMDgiLCAi
Q291bGQgbm90IHNlcmlhbGl6ZSBvciBkZXNpcmFsaXplIGNvbW1hbmQiIH0sDQorICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgIjIyMTA5IiwgIkZhaWxlZCB0byBy
ZWNlaXZlIEpNUyBtZXNzYWdlIGZyb20gSk1TIHByb3ZpZGVyIiB9LA0KICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ICIyMjExMCIsICJGYWlsZWQgdG8gZGlzY292
ZXIgbG9jYWwgaG9zdCBJUCBhZGRyZXNzLiIgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgeyAiMjIxMTEiLCAiRmFpbGVkIHRvIGdldCBTZXJ2ZXJQbGF0Zm9y
bS4gVGhlIFNlcnZlclBsYXRmb3JtIG11c3QgYmUgc2V0IGVpdGhlciBvbiBTZXNzaW9uIG9yIFJl
bW90ZUNvbW1hbmRNYW5hZ2VyLiIgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgeyAiMjIxMTIiLCAiQ291bGQgbm90IGNyZWF0ZSBsb2NhbCBKTVMgY29ubmVj
dGlvbiB3aXRoIFRvcGljIHswfSwgVG9waWMgRmFjdG9yeSB7MX0sIGFuZCBDb250ZXh0IHByb3Bl
cnRpZXMgezJ9IiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICB7ICIyMjExMyIsICJDb3VsZCBub3QgY3JlYXRlIE9jNGpKR3JvdXBzUmVtb3RlQ29ubmVjdGlv
biBzZXJ2aWNlIElEIHswfSwgdG9waWMgezF9LCB1c2luZyBmYWN0b3J5IHsyfSBhbmQgQ29udGV4
dCBwcm9wZXJ0aWVzIHszfS4iIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHsgIjIyMTE0IiwgInswfTogZmFpbGVkIHRvIGRlc2VyaWFsaXplIHJldHJpZXZl
ZCBtZXNzYWdlIHsxfS4iIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHsgIjIyMTE1IiwgInswfTogZmFpbGVkIHRvIHByb2Nlc3MgcmVtb3RlIGNvbW1hbmQg
cmV0cmlldmVkIGZyb20gbWVzc2FnZSB7MX0sIGZyb20gezJ9LCBjb21tYW5kIHR5cGUgezN9IiB9
LA0KLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ICIyMjExNiIs
ICJSZWNlaXZlZCBKTVMgbWVzc2FnZSBpcyBudWxsLiBUcmVhdGluZyBpdCBhcyBhIEpNU0V4Y2Vw
dGlvbiIgfQ0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ICIy
MjExNiIsICJSZWNlaXZlZCBKTVMgbWVzc2FnZSBpcyBudWxsLiBUcmVhdGluZyBpdCBhcyBhIEpN
U0V4Y2VwdGlvbiIgfSwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgeyAiMjIxMTciLCAiRmFpbGVkIHRvIGxvb2t1cCB0aGUgc2Vzc2lvbidzIG5hbWUgZGVmaW5l
ZCBpbiB0aGUgZW52LWVudHJ5IGVsZW1lbnQgb2YgdGhlIE1lc3NhZ2UgRHJpdmVuIEJlYW4iIH0s
IA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ICIyMjExOCIs
ICJUaGUgTWVzc2FnZSBEcml2ZW4gQmVhbiAoTURCKSBjYW5ub3QgZmluZCB0aGUgc2Vzc2lvbi4g
IFRoZSBNREIgZ2V0U2Vzc2lvbigpIG1ldGhvZCBtdXN0IHJldHVybiBhIG5vdCBudWxsIHNlc3Np
b24iIH0sDQogICAgIH07DQogDQogICAgIC8qKg0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9wZXJz
aXN0ZW5jZS9leGNlcHRpb25zL1JlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLmphdmENCj09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT0NCi0tLSBzcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvZXhjZXB0aW9ucy9SZW1v
dGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbi5qYXZhCShyZXZpc2lvbiA2MzM4KQ0KKysrIHNyYy9v
cmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9leGNlcHRpb25zL1JlbW90ZUNvbW1hbmRNYW5hZ2VyRXhj
ZXB0aW9uLmphdmEJKHdvcmtpbmcgY29weSkNCkBAIC01MCw2ICs1MCw5IEBADQogICAgIA0KICAg
ICAvLyBKTVMNCiAgICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgRVJST1JfUkVDRUlWRURfSk1T
X01FU1NBR0VfSVNfTlVMTCA9IDIyMTE2Ow0KKyAgICAvL0pNUyBNREINCisgICAgcHVibGljIHN0
YXRpYyBmaW5hbCBpbnQgTURCX0VSUk9SX0xPT0tVUF9TRVNTSU9OX05BTUVfRU5WID0gMjIxMTc7
DQorICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IE1EQl9GT1VORF9OT19TRVNTSU9OID0gMjIx
MTg7DQogDQogICAgIHB1YmxpYyBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbigpIHsNCiAg
ICAgICAgIHN1cGVyKCk7DQpAQCAtMjE5LDQgKzIyMiwyMCBAQA0KICAgICAgICAgZXguc2V0RXJy
b3JDb2RlKEVSUk9SX1JFQ0VJVkVEX0pNU19NRVNTQUdFX0lTX05VTEwpOw0KICAgICAgICAgcmV0
dXJuIGV4Ow0KICAgICB9DQorICAgIA0KKyAgICBwdWJsaWMgc3RhdGljIFJlbW90ZUNvbW1hbmRN
YW5hZ2VyRXhjZXB0aW9uIGVycm9yTG9va3VwU2Vzc2lvbk5hbWVJbkN0eChUaHJvd2FibGUgZXhj
ZXB0aW9uKSB7ICANCisgICAgICAgIE9iamVjdFtdIGFyZ3MgPSB7IH07ICANCisgICAgICAgIFJl
bW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uIGV4ID0gbmV3IFJlbW90ZUNvbW1hbmRNYW5hZ2Vy
RXhjZXB0aW9uKEV4Y2VwdGlvbk1lc3NhZ2VHZW5lcmF0b3IuYnVpbGRNZXNzYWdlKFJlbW90ZUNv
bW1hbmRNYW5hZ2VyRXhjZXB0aW9uLmNsYXNzLE1EQl9FUlJPUl9MT09LVVBfU0VTU0lPTl9OQU1F
X0VOVixhcmdzKSk7ICANCisgICAgICAgIGV4LnNldEVycm9yQ29kZShNREJfRVJST1JfTE9PS1VQ
X1NFU1NJT05fTkFNRV9FTlYpOw0KKyAgICAgICAgZXguc2V0SW50ZXJuYWxFeGNlcHRpb24oZXhj
ZXB0aW9uKTsNCisgICAgICAgIHJldHVybiBleDsgIA0KKyAgICB9DQorICAgIA0KKyAgICBwdWJs
aWMgc3RhdGljIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uIG1kYkZvdW5kTm9TZXNzaW9u
KCkgeyAgDQorICAgICAgICBPYmplY3RbXSBhcmdzID0geyB9OyAgDQorICAgICAgICBSZW1vdGVD
b21tYW5kTWFuYWdlckV4Y2VwdGlvbiBleCA9IG5ldyBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2Vw
dGlvbihFeGNlcHRpb25NZXNzYWdlR2VuZXJhdG9yLmJ1aWxkTWVzc2FnZShSZW1vdGVDb21tYW5k
TWFuYWdlckV4Y2VwdGlvbi5jbGFzcywgTURCX0ZPVU5EX05PX1NFU1NJT04sYXJncykpOyAgDQor
ICAgICAgICBleC5zZXRFcnJvckNvZGUoTURCX0ZPVU5EX05PX1NFU1NJT04pOw0KKyAgICAgICAg
cmV0dXJuIGV4OyAgDQorICAgIH0NCisNCiB9DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BlcnNp
c3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2Nvb3JkaW5hdGlvbi9icm9hZGNhc3QvQnJvYWRjYXN0
UmVtb3RlQ29ubmVjdGlvbi5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLS0gc3JjL29yZy9lY2xpcHNlL3Bl
cnNpc3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2Nvb3JkaW5hdGlvbi9icm9hZGNhc3QvQnJvYWRj
YXN0UmVtb3RlQ29ubmVjdGlvbi5qYXZhCShyZXZpc2lvbiA2MzM4KQ0KKysrIHNyYy9vcmcvZWNs
aXBzZS9wZXJzaXN0ZW5jZS9pbnRlcm5hbC9zZXNzaW9ucy9jb29yZGluYXRpb24vYnJvYWRjYXN0
L0Jyb2FkY2FzdFJlbW90ZUNvbm5lY3Rpb24uamF2YQkod29ya2luZyBjb3B5KQ0KQEAgLTc0LDcg
Kzc0LDcgQEANCiAgICAgICAgICAgICAgICAgLy8gVGhpcyBtZXRob2QgY2F0Y2hlcyBDb21tdW5p
Y2F0aW9uRXhjZXB0aW9uIGFuZCBwcm9jZXNzZXMgaXQgaW4gaGFuZGxlQ29tbXVuaWNhdGlvbkV4
Y2VwdGlvbiBtZXRob2QuDQogICAgICAgICAgICAgICAgIC8vIFRoZSBsYXR0ZXIgbWV0aG9kLCBp
biBjYXNlIHNob3VsZFJlbW92ZUNvbm5lY3Rpb25PbkVycm9yPT10cnVlLCByZW1vdmVzIHRoZSBj
b25uZWN0aW9uOw0KICAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgaXQgd3JhcHMgdGhlIENv
bW11bmljYXRpb25FeGNlcHRpb24gaW50byBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbg0K
LSAgICAgICAgICAgICAgICAvLyAod2l0aCBlcnJvQ29kZSBSZW1vdGVDb21tYW5kTWFuYWdlckV4
Y2VwdGlvbi5FUlJPUl9QUk9QQUdBVElOR19DT01NQU5EKQ0KKyAgICAgICAgICAgICAgICAvLyAo
d2l0aCBlcnJvckNvZGUgUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24uRVJST1JfUFJPUEFH
QVRJTkdfQ09NTUFORCkNCiAgICAgICAgICAgICAgICAgLy8gYW5kIGdpdmVzIHRoZSB1c2UgYSBj
aGFuY2UgdG8gaGFuZGxlIGl0IC0gdGhpcyBpcyBhbiBvcHBvcnR1bml0eSBmb3IgdGhlIHVzZXIg
dG8NCiAgICAgICAgICAgICAgICAgLy8gc3RvcCByZW1vdGUgY29tbWFuZCBwcm9jZXNzaW5nLg0K
ICAgICAgICAgICAgICAgICB0aHJvdyBDb21tdW5pY2F0aW9uRXhjZXB0aW9uLmVycm9yU2VuZGlu
Z01lc3NhZ2UoZ2V0U2VydmljZUlkKCkuZ2V0SWQoKSwgZXhjZXB0aW9uKTsNCkluZGV4OiBzcmMv
b3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vzc2lvbnMvY29vcmRpbmF0aW9uL2pt
cy9KTVNUb3BpY1JlbW90ZUNvbm5lY3Rpb24uamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0tIHNyYy9vcmcv
ZWNsaXBzZS9wZXJzaXN0ZW5jZS9pbnRlcm5hbC9zZXNzaW9ucy9jb29yZGluYXRpb24vam1zL0pN
U1RvcGljUmVtb3RlQ29ubmVjdGlvbi5qYXZhCShyZXZpc2lvbiA2MzM4KQ0KKysrIHNyYy9vcmcv
ZWNsaXBzZS9wZXJzaXN0ZW5jZS9pbnRlcm5hbC9zZXNzaW9ucy9jb29yZGluYXRpb24vam1zL0pN
U1RvcGljUmVtb3RlQ29ubmVjdGlvbi5qYXZhCSh3b3JraW5nIGNvcHkpDQpAQCAtOTAsNiArOTAs
MTUgQEANCiAgICAgICAgICAgICB0aHJvdyBleDsNCiAgICAgICAgIH0NCiAgICAgfQ0KKyAgICAN
CisgICAgLyoqDQorICAgICAqIFVzZWQgZm9yIE1EQiBKTVMgb25NZXNzYWdlIG9ubHkuDQorICAg
ICAqIEBwYXJhbSByY20NCisgICAgICovDQorICAgIHB1YmxpYyBKTVNUb3BpY1JlbW90ZUNvbm5l
Y3Rpb24oUmVtb3RlQ29tbWFuZE1hbmFnZXIgcmNtKXsNCisgICAgICAgIHN1cGVyKHJjbSk7DQor
ICAgICAgICB0aGlzLmlzTG9jYWwgPSB0cnVlOw0KKyAgICB9DQogDQogICAgIC8qKg0KICAgICAg
KiBJTlRFUk5BTDoNCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwv
c2Vzc2lvbnMvZmFjdG9yaWVzL21vZGVsL3RyYW5zcG9ydC9KTVNQdWJsaXNoaW5nVHJhbnNwb3J0
TWFuYWdlckNvbmZpZy5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLS0gc3JjL29yZy9lY2xpcHNlL3BlcnNp
c3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9tb2RlbC90cmFuc3BvcnQvSk1TUHVi
bGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWcuamF2YQkocmV2aXNpb24gMCkNCisrKyBzcmMv
b3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vzc2lvbnMvZmFjdG9yaWVzL21vZGVs
L3RyYW5zcG9ydC9KTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlckNvbmZpZy5qYXZhCShyZXZp
c2lvbiAwKQ0KQEAgLTAsMCArMSw2MiBAQA0KKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQorICog
Q29weXJpZ2h0IChjKSAxOTk4LCAyMDEwIE9yYWNsZS4gQWxsIHJpZ2h0cyByZXNlcnZlZC4NCisg
KiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzIGFyZSBtYWRlIGF2
YWlsYWJsZSB1bmRlciB0aGUgDQorICogdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vu
c2UgdjEuMCBhbmQgRWNsaXBzZSBEaXN0cmlidXRpb24gTGljZW5zZSB2LiAxLjAgDQorICogd2hp
Y2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24uIA0KKyAqIFRoZSBFY2xpcHNlIFB1Ymxp
YyBMaWNlbnNlIGlzIGF2YWlsYWJsZSBhdCBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2Vw
bC12MTAuaHRtbA0KKyAqIGFuZCB0aGUgRWNsaXBzZSBEaXN0cmlidXRpb24gTGljZW5zZSBpcyBh
dmFpbGFibGUgYXQgDQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9vcmcvZG9jdW1lbnRzL2Vk
bC12MTAucGhwLg0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBPcmFjbGUgLSBpbml0
aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24gZnJvbSBPcmFjbGUgVG9wTGluaw0KKyAqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKiovDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5h
bC5zZXNzaW9ucy5mYWN0b3JpZXMubW9kZWwudHJhbnNwb3J0Ow0KKw0KK2ltcG9ydCBvcmcuZWNs
aXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5hbC5zZXNzaW9ucy5mYWN0b3JpZXMubW9kZWwudHJhbnNw
b3J0Lm5hbWluZy5KTkRJTmFtaW5nU2VydmljZUNvbmZpZzsNCisNCisvKioNCisgKiBJTlRFUk5B
TDoNCisgKi8NCitwdWJsaWMgY2xhc3MgSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25m
aWcgZXh0ZW5kcyBUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnICB7DQorDQorICAgIHByaXZhdGUgU3Ry
aW5nIG1fdG9waWNIb3N0VVJMOw0KKyAgICBwcml2YXRlIFN0cmluZyBtX3RvcGljQ29ubmVjdGlv
bkZhY3RvcnlOYW1lOw0KKyAgICBwcml2YXRlIFN0cmluZyBtX3RvcGljTmFtZTsNCisgICAgcHJp
dmF0ZSBKTkRJTmFtaW5nU2VydmljZUNvbmZpZyBtX2puZGlOYW1pbmdTZXJ2aWNlQ29uZmlnOw0K
Kw0KKyAgICBwdWJsaWMgSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWcoKSB7DQor
ICAgICAgICBzdXBlcigpOw0KKyAgICB9DQorDQorICAgIHB1YmxpYyB2b2lkIHNldFRvcGljSG9z
dFVSTChTdHJpbmcgdG9waWNIb3N0VVJMKSB7DQorICAgICAgICBtX3RvcGljSG9zdFVSTCA9IHRv
cGljSG9zdFVSTDsNCisgICAgfQ0KKw0KKyAgICBwdWJsaWMgU3RyaW5nIGdldFRvcGljSG9zdFVS
TCgpIHsNCisgICAgICAgIHJldHVybiBtX3RvcGljSG9zdFVSTDsNCisgICAgfQ0KKw0KKyAgICBw
dWJsaWMgdm9pZCBzZXRUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZShTdHJpbmcgdG9waWNDb25u
ZWN0aW9uRmFjdG9yeU5hbWUpIHsNCisgICAgICAgIG1fdG9waWNDb25uZWN0aW9uRmFjdG9yeU5h
bWUgPSB0b3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZTsNCisgICAgfQ0KKw0KKyAgICBwdWJsaWMg
U3RyaW5nIGdldFRvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lKCkgew0KKyAgICAgICAgcmV0dXJu
IG1fdG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWU7DQorICAgIH0NCisNCisgICAgcHVibGljIHZv
aWQgc2V0VG9waWNOYW1lKFN0cmluZyB0b3BpY05hbWUpIHsNCisgICAgICAgIG1fdG9waWNOYW1l
ID0gdG9waWNOYW1lOw0KKyAgICB9DQorDQorICAgIHB1YmxpYyBTdHJpbmcgZ2V0VG9waWNOYW1l
KCkgew0KKyAgICAgICAgcmV0dXJuIG1fdG9waWNOYW1lOw0KKyAgICB9DQorDQorICAgIHB1Ymxp
YyB2b2lkIHNldEpORElOYW1pbmdTZXJ2aWNlQ29uZmlnKEpORElOYW1pbmdTZXJ2aWNlQ29uZmln
IGpuZGlOYW1pbmdTZXJ2aWNlQ29uZmlnKSB7DQorICAgICAgICBtX2puZGlOYW1pbmdTZXJ2aWNl
Q29uZmlnID0gam5kaU5hbWluZ1NlcnZpY2VDb25maWc7DQorICAgIH0NCisNCisgICAgcHVibGlj
IEpORElOYW1pbmdTZXJ2aWNlQ29uZmlnIGdldEpORElOYW1pbmdTZXJ2aWNlQ29uZmlnKCkgew0K
KyAgICAgICAgcmV0dXJuIG1fam5kaU5hbWluZ1NlcnZpY2VDb25maWc7DQorICAgIH0NCit9DQpJ
bmRleDogc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rv
cmllcy9tb2RlbC90cmFuc3BvcnQvSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmphdmEN
Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT0NCi0tLSBzcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vz
c2lvbnMvZmFjdG9yaWVzL21vZGVsL3RyYW5zcG9ydC9KTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJD
b25maWcuamF2YQkocmV2aXNpb24gNjMzOCkNCisrKyBzcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVu
Y2UvaW50ZXJuYWwvc2Vzc2lvbnMvZmFjdG9yaWVzL21vZGVsL3RyYW5zcG9ydC9KTVNUb3BpY1Ry
YW5zcG9ydE1hbmFnZXJDb25maWcuamF2YQkod29ya2luZyBjb3B5KQ0KQEAgLTEyLDUwICsxMiwx
MCBAQA0KICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKiovICANCiBwYWNrYWdlIG9yZy5lY2xpcHNlLnBl
cnNpc3RlbmNlLmludGVybmFsLnNlc3Npb25zLmZhY3Rvcmllcy5tb2RlbC50cmFuc3BvcnQ7DQog
DQotaW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmludGVybmFsLnNlc3Npb25zLmZhY3Rv
cmllcy5tb2RlbC50cmFuc3BvcnQubmFtaW5nLio7DQogDQogLyoqDQogICogSU5URVJOQUw6DQog
ICovDQotcHVibGljIGNsYXNzIEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlckNvbmZpZyBleHRlbmRz
IFRyYW5zcG9ydE1hbmFnZXJDb25maWcgew0KLSAgICBwcml2YXRlIFN0cmluZyBtX3RvcGljSG9z
dFVSTDsNCi0gICAgcHJpdmF0ZSBTdHJpbmcgbV90b3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZTsN
Ci0gICAgcHJpdmF0ZSBTdHJpbmcgbV90b3BpY05hbWU7DQotICAgIHByaXZhdGUgSk5ESU5hbWlu
Z1NlcnZpY2VDb25maWcgbV9qbmRpTmFtaW5nU2VydmljZUNvbmZpZzsNCi0NCi0gICAgcHVibGlj
IEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlckNvbmZpZygpIHsNCi0gICAgICAgIHN1cGVyKCk7DQot
ICAgIH0NCi0NCi0gICAgcHVibGljIHZvaWQgc2V0VG9waWNIb3N0VVJMKFN0cmluZyB0b3BpY0hv
c3RVUkwpIHsNCi0gICAgICAgIG1fdG9waWNIb3N0VVJMID0gdG9waWNIb3N0VVJMOw0KLSAgICB9
DQotDQotICAgIHB1YmxpYyBTdHJpbmcgZ2V0VG9waWNIb3N0VVJMKCkgew0KLSAgICAgICAgcmV0
dXJuIG1fdG9waWNIb3N0VVJMOw0KLSAgICB9DQotDQotICAgIHB1YmxpYyB2b2lkIHNldFRvcGlj
Q29ubmVjdGlvbkZhY3RvcnlOYW1lKFN0cmluZyB0b3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZSkg
ew0KLSAgICAgICAgbV90b3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZSA9IHRvcGljQ29ubmVjdGlv
bkZhY3RvcnlOYW1lOw0KLSAgICB9DQotDQotICAgIHB1YmxpYyBTdHJpbmcgZ2V0VG9waWNDb25u
ZWN0aW9uRmFjdG9yeU5hbWUoKSB7DQotICAgICAgICByZXR1cm4gbV90b3BpY0Nvbm5lY3Rpb25G
YWN0b3J5TmFtZTsNCi0gICAgfQ0KLQ0KLSAgICBwdWJsaWMgdm9pZCBzZXRUb3BpY05hbWUoU3Ry
aW5nIHRvcGljTmFtZSkgew0KLSAgICAgICAgbV90b3BpY05hbWUgPSB0b3BpY05hbWU7DQotICAg
IH0NCi0NCi0gICAgcHVibGljIFN0cmluZyBnZXRUb3BpY05hbWUoKSB7DQotICAgICAgICByZXR1
cm4gbV90b3BpY05hbWU7DQotICAgIH0NCi0NCi0gICAgcHVibGljIHZvaWQgc2V0Sk5ESU5hbWlu
Z1NlcnZpY2VDb25maWcoSk5ESU5hbWluZ1NlcnZpY2VDb25maWcgam5kaU5hbWluZ1NlcnZpY2VD
b25maWcpIHsNCi0gICAgICAgIG1fam5kaU5hbWluZ1NlcnZpY2VDb25maWcgPSBqbmRpTmFtaW5n
U2VydmljZUNvbmZpZzsNCi0gICAgfQ0KLQ0KLSAgICBwdWJsaWMgSk5ESU5hbWluZ1NlcnZpY2VD
b25maWcgZ2V0Sk5ESU5hbWluZ1NlcnZpY2VDb25maWcoKSB7DQotICAgICAgICByZXR1cm4gbV9q
bmRpTmFtaW5nU2VydmljZUNvbmZpZzsNCi0gICAgfQ0KK3B1YmxpYyBjbGFzcyBKTVNUb3BpY1Ry
YW5zcG9ydE1hbmFnZXJDb25maWcgZXh0ZW5kcyBKTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdl
ckNvbmZpZyB7DQorICAgIA0KIH0NCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uv
aW50ZXJuYWwvc2Vzc2lvbnMvZmFjdG9yaWVzL1Nlc3Npb25zRmFjdG9yeS5qYXZhDQo9PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09DQotLS0gc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2Zh
Y3Rvcmllcy9TZXNzaW9uc0ZhY3RvcnkuamF2YQkocmV2aXNpb24gNjMzOCkNCisrKyBzcmMvb3Jn
L2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vzc2lvbnMvZmFjdG9yaWVzL1Nlc3Npb25z
RmFjdG9yeS5qYXZhCSh3b3JraW5nIGNvcHkpDQpAQCAtMjYsNiArMjYsNyBAQA0KIGltcG9ydCBv
cmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5leGNlcHRpb25zLio7DQogaW1wb3J0IG9yZy5lY2xpcHNl
LnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi4qOw0KIGltcG9ydCBvcmcuZWNsaXBz
ZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24ucm1pLlJNSVRyYW5zcG9ydE1hbmFn
ZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlv
bi5qbXMuSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXI7DQogaW1wb3J0IG9yZy5lY2xpcHNl
LnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5qbXMuSk1TVG9waWNUcmFuc3BvcnRN
YW5hZ2VyOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGlu
YXRpb24uY29yYmEuc3VuLlN1bkNPUkJBVHJhbnNwb3J0TWFuYWdlcjsNCiBpbXBvcnQgb3JnLmVj
bGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuc2VydmVyLio7DQpAQCAtODg5LDggKzg5MCwxMCBA
QA0KICAgICAgICAgICAgIGJ1aWxkUk1JVHJhbnNwb3J0TWFuYWdlckNvbmZpZygoUk1JVHJhbnNw
b3J0TWFuYWdlckNvbmZpZyl0bUNvbmZpZywgcmNtKTsNCiAgICAgICAgIH0gZWxzZSBpZiAodG1D
b25maWcgaW5zdGFuY2VvZiBSTUlJSU9QVHJhbnNwb3J0TWFuYWdlckNvbmZpZykgew0KICAgICAg
ICAgICAgIGJ1aWxkUk1JSUlPUFRyYW5zcG9ydE1hbmFnZXJDb25maWcoKFJNSUlJT1BUcmFuc3Bv
cnRNYW5hZ2VyQ29uZmlnKXRtQ29uZmlnLCByY20pOw0KLSAgICAgICAgfSBlbHNlIGlmICh0bUNv
bmZpZyBpbnN0YW5jZW9mIEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlckNvbmZpZykgew0KKyAgICAg
ICAgfSAgZWxzZSBpZiAodG1Db25maWcgaW5zdGFuY2VvZiBKTVNUb3BpY1RyYW5zcG9ydE1hbmFn
ZXJDb25maWcpIHsNCiAgICAgICAgICAgICBidWlsZEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlckNv
bmZpZygoSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKXRtQ29uZmlnLCByY20pOw0KKyAg
ICAgICAgfSBlbHNlIGlmICh0bUNvbmZpZyBpbnN0YW5jZW9mIEpNU1B1Ymxpc2hpbmdUcmFuc3Bv
cnRNYW5hZ2VyQ29uZmlnKSB7DQorICAgICAgICAgICAgYnVpbGRKTVNQdWJsaXNoaW5nVHJhbnNw
b3J0TWFuYWdlckNvbmZpZygoSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWcpdG1D
b25maWcsIHJjbSk7DQogICAgICAgICB9IGVsc2UgaWYgKHRtQ29uZmlnIGluc3RhbmNlb2YgT2M0
akpHcm91cHNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKSB7DQogICAgICAgICAgICAgYnVpbGRPYzRq
Skdyb3Vwc1RyYW5zcG9ydE1hbmFnZXJDb25maWcoKE9jNGpKR3JvdXBzVHJhbnNwb3J0TWFuYWdl
ckNvbmZpZyl0bUNvbmZpZywgcmNtKTsNCiAgICAgICAgIH0gZWxzZSBpZiAodG1Db25maWcgaW5z
dGFuY2VvZiBTdW5DT1JCQVRyYW5zcG9ydE1hbmFnZXJDb25maWcpIHsNCkBAIC05ODMsNyArOTg2
LDI2IEBADQogDQogICAgICAgICAvLyBTZXQgdGhlIHRyYW5zcG9ydCBtYW5hZ2VyLiBUaGlzIHdp
bGwgaW5pdGlhbGl6ZSB0aGUgRGlzY292ZXJ5TWFuYWdlcg0KICAgICAgICAgcmNtLnNldFRyYW5z
cG9ydE1hbmFnZXIodG0pOw0KKyAgICAgICAgDQorICAgICAgICBwcm9jZXNzSk1TVHJhbnNwb3J0
TWFuYWdlckNvbmZpZyh0bUNvbmZpZywgdG0pOw0KKyAgICB9DQorICAgIA0KKyAgICAvKioNCisg
ICAgICogSU5URVJOQUw6DQorICAgICAqLw0KKyAgICBwcm90ZWN0ZWQgdm9pZCBidWlsZEpNU1B1
Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5h
Z2VyQ29uZmlnIHRtQ29uZmlnLCBSZW1vdGVDb21tYW5kTWFuYWdlciByY20pIHsNCisgICAgICAg
IEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyIHRtID0gbmV3IEpNU1B1Ymxpc2hpbmdUcmFu
c3BvcnRNYW5hZ2VyKHJjbSk7DQogDQorICAgICAgICAvLyBTZXQgdGhlIHRyYW5zcG9ydCBtYW5h
Z2VyLiBUaGlzIHdpbGwgaW5pdGlhbGl6ZSB0aGUgRGlzY292ZXJ5TWFuYWdlcg0KKyAgICAgICAg
cmNtLnNldFRyYW5zcG9ydE1hbmFnZXIodG0pOw0KKyAgICAgICAgcHJvY2Vzc0pNU1RyYW5zcG9y
dE1hbmFnZXJDb25maWcodG1Db25maWcsIHRtKTsNCisgICAgfQ0KKyAgICANCisgICAgLyoqDQor
ICAgICAqIElOVEVSTkFMOg0KKyAgICAgKiBDb21tb24gSk1TIGNvbmZpZ3VyYXRpb24NCisgICAg
ICovDQorICAgIHByb3RlY3RlZCB2b2lkIHByb2Nlc3NKTVNUcmFuc3BvcnRNYW5hZ2VyQ29uZmln
KEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnIHRtQ29uZmlnLCBKTVNQdWJsaXNo
aW5nVHJhbnNwb3J0TWFuYWdlciB0bSApew0KICAgICAgICAgLy8gSk5ESSBuYW1pbmcgc2Vydmlj
ZQ0KICAgICAgICAgaWYgKHRtQ29uZmlnLmdldEpORElOYW1pbmdTZXJ2aWNlQ29uZmlnKCkgIT0g
bnVsbCkgew0KICAgICAgICAgICAgIHRtLnNldE5hbWluZ1NlcnZpY2VUeXBlKFRyYW5zcG9ydE1h
bmFnZXIuSk5ESV9OQU1JTkdfU0VSVklDRSk7DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BlcnNp
c3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9YTUxTZXNzaW9uQ29uZmlnUHJvamVj
dC5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09DQotLS0gc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVy
bmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9YTUxTZXNzaW9uQ29uZmlnUHJvamVjdC5qYXZhCShyZXZp
c2lvbiA2MzM4KQ0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9pbnRlcm5hbC9zZXNz
aW9ucy9mYWN0b3JpZXMvWE1MU2Vzc2lvbkNvbmZpZ1Byb2plY3QuamF2YQkod29ya2luZyBjb3B5
KQ0KQEAgLTcwLDYgKzcwLDcgQEANCiBpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50
ZXJuYWwuc2Vzc2lvbnMuZmFjdG9yaWVzLm1vZGVsLnNlc3Npb24uU2VydmVyU2Vzc2lvbkNvbmZp
ZzsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJuYWwuc2Vzc2lvbnMuZmFj
dG9yaWVzLm1vZGVsLnNlc3Npb24uU2Vzc2lvbkJyb2tlckNvbmZpZzsNCiBpbXBvcnQgb3JnLmVj
bGlwc2UucGVyc2lzdGVuY2UuaW50ZXJuYWwuc2Vzc2lvbnMuZmFjdG9yaWVzLm1vZGVsLnNlc3Np
b24uU2Vzc2lvbkNvbmZpZzsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJu
YWwuc2Vzc2lvbnMuZmFjdG9yaWVzLm1vZGVsLnRyYW5zcG9ydC5KTVNQdWJsaXNoaW5nVHJhbnNw
b3J0TWFuYWdlckNvbmZpZzsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJu
YWwuc2Vzc2lvbnMuZmFjdG9yaWVzLm1vZGVsLnRyYW5zcG9ydC5KTVNUb3BpY1RyYW5zcG9ydE1h
bmFnZXJDb25maWc7DQogaW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmludGVybmFsLnNl
c3Npb25zLmZhY3Rvcmllcy5tb2RlbC50cmFuc3BvcnQuUk1JSUlPUFRyYW5zcG9ydE1hbmFnZXJD
b25maWc7DQogaW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmludGVybmFsLnNlc3Npb25z
LmZhY3Rvcmllcy5tb2RlbC50cmFuc3BvcnQuUk1JVHJhbnNwb3J0TWFuYWdlckNvbmZpZzsNCkBA
IC0xODUsNiArMTg2LDcgQEANCiAgICAgICAgIGFkZERlc2NyaXB0b3IoYnVpbGRTZXNzaW9uQnJv
a2VyQ29uZmlnRGVzY3JpcHRvcigpKTsNCiAgICAgICAgIGFkZERlc2NyaXB0b3IoYnVpbGRTZXNz
aW9uQ29uZmlnRGVzY3JpcHRvcigpKTsNCiAgICAgICAgIGFkZERlc2NyaXB0b3IoYnVpbGRKTVNU
b3BpY1RyYW5zcG9ydE1hbmFnZXJDb25maWdEZXNjcmlwdG9yKCkpOw0KKyAgICAgICAgYWRkRGVz
Y3JpcHRvcihidWlsZEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnRGVzY3JpcHRv
cigpKTsNCiAgICAgICAgIGFkZERlc2NyaXB0b3IoYnVpbGRSTUlJSU9QVHJhbnNwb3J0TWFuYWdl
ckNvbmZpZ0Rlc2NyaXB0b3IoKSk7DQogICAgICAgICBhZGREZXNjcmlwdG9yKGJ1aWxkUk1JVHJh
bnNwb3J0TWFuYWdlckNvbmZpZ0Rlc2NyaXB0b3IoKSk7DQogICAgICAgICBhZGREZXNjcmlwdG9y
KGJ1aWxkVHJhbnNwb3J0TWFuYWdlckNvbmZpZ0Rlc2NyaXB0b3IoKSk7DQpAQCAtNjY5LDEwICs2
NzEsMTAgQEANCiANCiAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yOw0KICAgICB9DQotDQotICAg
IHB1YmxpYyBDbGFzc0Rlc2NyaXB0b3IgYnVpbGRKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJDb25m
aWdEZXNjcmlwdG9yKCkgew0KKyAgICANCisgICAgcHVibGljIENsYXNzRGVzY3JpcHRvciBidWls
ZEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnRGVzY3JpcHRvcigpIHsNCiAgICAg
ICAgIFhNTERlc2NyaXB0b3IgZGVzY3JpcHRvciA9IG5ldyBYTUxEZXNjcmlwdG9yKCk7DQotICAg
ICAgICBkZXNjcmlwdG9yLnNldEphdmFDbGFzcyhKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJDb25m
aWcuY2xhc3MpOw0KKyAgICAgICAgZGVzY3JpcHRvci5zZXRKYXZhQ2xhc3MoSk1TUHVibGlzaGlu
Z1RyYW5zcG9ydE1hbmFnZXJDb25maWcuY2xhc3MpOw0KICAgICAgICAgZGVzY3JpcHRvci5nZXRJ
bmhlcml0YW5jZVBvbGljeSgpLnNldFBhcmVudENsYXNzKFRyYW5zcG9ydE1hbmFnZXJDb25maWcu
Y2xhc3MpOw0KIA0KICAgICAgICAgWE1MRGlyZWN0TWFwcGluZyB0b3BpY0hvc3RVUkxNYXBwaW5n
ID0gbmV3IFhNTERpcmVjdE1hcHBpbmcoKTsNCkBAIC03MDksNyArNzExLDE0IEBADQogICAgICAg
ICByZXR1cm4gZGVzY3JpcHRvcjsNCiAgICAgfQ0KIA0KKyAgICBwdWJsaWMgQ2xhc3NEZXNjcmlw
dG9yIGJ1aWxkSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnRGVzY3JpcHRvcigpIHsNCisg
ICAgICAgIFhNTERlc2NyaXB0b3IgZGVzY3JpcHRvciA9IG5ldyBYTUxEZXNjcmlwdG9yKCk7DQor
ICAgICAgICBkZXNjcmlwdG9yLnNldEphdmFDbGFzcyhKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJD
b25maWcuY2xhc3MpOw0KKyAgICAgICAgZGVzY3JpcHRvci5nZXRJbmhlcml0YW5jZVBvbGljeSgp
LnNldFBhcmVudENsYXNzKEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmNsYXNz
KTsNCiANCisgICAgICAgIHJldHVybiBkZXNjcmlwdG9yOw0KKyAgICB9DQorDQogICAgIHB1Ymxp
YyBDbGFzc0Rlc2NyaXB0b3IgYnVpbGRKTkRJTmFtaW5nU2VydmljZUNvbmZpZ0Rlc2NyaXB0b3Io
KSB7DQogICAgICAgICBYTUxEZXNjcmlwdG9yIGRlc2NyaXB0b3IgPSBuZXcgWE1MRGVzY3JpcHRv
cigpOw0KICAgICAgICAgZGVzY3JpcHRvci5zZXRKYXZhQ2xhc3MoSk5ESU5hbWluZ1NlcnZpY2VD
b25maWcuY2xhc3MpOw0KQEAgLTEzNjgsNiArMTM3Nyw3IEBADQogICAgICAgICBkZXNjcmlwdG9y
LmdldEluaGVyaXRhbmNlUG9saWN5KCkuc2V0Q2xhc3NJbmRpY2F0b3JGaWVsZChuZXcgWE1MRmll
bGQoIkB4c2k6dHlwZSIpKTsNCiAgICAgICAgIGRlc2NyaXB0b3IuZ2V0SW5oZXJpdGFuY2VQb2xp
Y3koKS5hZGRDbGFzc0luZGljYXRvcihSTUlUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmNsYXNzLCAi
cm1pLXRyYW5zcG9ydCIpOw0KICAgICAgICAgZGVzY3JpcHRvci5nZXRJbmhlcml0YW5jZVBvbGlj
eSgpLmFkZENsYXNzSW5kaWNhdG9yKFJNSUlJT1BUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmNsYXNz
LCAicm1pLWlpb3AtdHJhbnNwb3J0Iik7DQorICAgICAgICBkZXNjcmlwdG9yLmdldEluaGVyaXRh
bmNlUG9saWN5KCkuYWRkQ2xhc3NJbmRpY2F0b3IoSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFn
ZXJDb25maWcuY2xhc3MsICJqbXMtcHVibGlzaGluZy10cmFuc3BvcnQiKTsNCiAgICAgICAgIGRl
c2NyaXB0b3IuZ2V0SW5oZXJpdGFuY2VQb2xpY3koKS5hZGRDbGFzc0luZGljYXRvcihKTVNUb3Bp
Y1RyYW5zcG9ydE1hbmFnZXJDb25maWcuY2xhc3MsICJqbXMtdG9waWMtdHJhbnNwb3J0Iik7DQog
ICAgICAgICBkZXNjcmlwdG9yLmdldEluaGVyaXRhbmNlUG9saWN5KCkuYWRkQ2xhc3NJbmRpY2F0
b3IoU3VuQ09SQkFUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmNsYXNzLCAic3VuLWNvcmJhLXRyYW5z
cG9ydCIpOw0KICAgICAgICAgZGVzY3JpcHRvci5nZXRJbmhlcml0YW5jZVBvbGljeSgpLmFkZENs
YXNzSW5kaWNhdG9yKFVzZXJEZWZpbmVkVHJhbnNwb3J0TWFuYWdlckNvbmZpZy5jbGFzcywgInVz
ZXItZGVmaW5lZC10cmFuc3BvcnQiKTsNCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVu
Y2Uvc2Vzc2lvbnMvY29vcmRpbmF0aW9uL2ptcy9KTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdl
ci5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09DQotLS0gc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL3Nlc3Np
b25zL2Nvb3JkaW5hdGlvbi9qbXMvSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXIuamF2YQko
cmV2aXNpb24gMCkNCisrKyBzcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uvc2Vzc2lvbnMvY29v
cmRpbmF0aW9uL2ptcy9KTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlci5qYXZhCShyZXZpc2lv
biAwKQ0KQEAgLTAsMCArMSwyMTQgQEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAgDQorICog
Q29weXJpZ2h0IChjKSAxOTk4LCAyMDEwIE9yYWNsZS4gQWxsIHJpZ2h0cyByZXNlcnZlZC4gIA0K
KyAqIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUg
YXZhaWxhYmxlIHVuZGVyIHRoZSAgDQorICogdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExp
Y2Vuc2UgdjEuMCwgd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24gIA0KKyAqIGFu
ZCBpcyBhdmFpbGFibGUgYXQgaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0
bWwuICANCisgKiAgDQorICogQ29udHJpYnV0b3JzOiAgDQorICogICAgIE9yYWNsZSAtIGluaXRp
YWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbiBmcm9tIE9yYWNsZSBUb3BMaW5rICANCisgKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqLyAgICANCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNl
c3Npb25zLmNvb3JkaW5hdGlvbi5qbXM7ICANCisNCisvL2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJz
aXN0ZW5jZS5pbnRlcm5hbC5zZXNzaW9ucy5yZW1vdGUuUmVtb3RlQ29ubmVjdGlvbjsgIA0KKy8v
aW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLnJlbW90ZS5qbXMuSk1TQ2x1
c3RlcmluZ1NlcnZpY2U7ICANCitpbXBvcnQgamF2YS51dGlsLkhhc2h0YWJsZTsNCisNCitpbXBv
cnQgamF2YXguam1zLlRvcGljOw0KK2ltcG9ydCBqYXZheC5qbXMuVG9waWNDb25uZWN0aW9uOw0K
K2ltcG9ydCBqYXZheC5qbXMuVG9waWNDb25uZWN0aW9uRmFjdG9yeTsNCitpbXBvcnQgamF2YXgu
bmFtaW5nLkNvbnRleHQ7DQoraW1wb3J0IGphdmF4Lm5hbWluZy5OYW1pbmdFeGNlcHRpb247DQor
DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmV4Y2VwdGlvbnMuUmVtb3RlQ29tbWFu
ZE1hbmFnZXJFeGNlcHRpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmV4Y2Vw
dGlvbnMuVmFsaWRhdGlvbkV4Y2VwdGlvbjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVu
Y2UuaW50ZXJuYWwuc2Vzc2lvbnMuY29vcmRpbmF0aW9uLmptcy5KTVNUb3BpY1JlbW90ZUNvbm5l
Y3Rpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5h
dGlvbi5icm9hZGNhc3QuQnJvYWRjYXN0VHJhbnNwb3J0TWFuYWdlcjsNCitpbXBvcnQgb3JnLmVj
bGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuY29vcmRpbmF0aW9uLmptcy5KTVNUb3BpY1RyYW5z
cG9ydE1hbmFnZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNv
b3JkaW5hdGlvbi5SZW1vdGVDb21tYW5kTWFuYWdlcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGVy
c2lzdGVuY2Uuc2Vzc2lvbnMuY29vcmRpbmF0aW9uLlRyYW5zcG9ydE1hbmFnZXI7DQorDQorIA0K
KyANCitwdWJsaWMgY2xhc3MgSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXIgZXh0ZW5kcyBC
cm9hZGNhc3RUcmFuc3BvcnRNYW5hZ2VyIHsNCisgICAgcHJvdGVjdGVkIFN0cmluZyBjb25uZWN0
aW9uRmFjdG9yeU5hbWU7DQorDQorICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIERFRkFV
TFRfVE9QSUMgPSAiam1zL0VjbGlwc2VMaW5rVG9waWMiOw0KKyAgICBwdWJsaWMgc3RhdGljIGZp
bmFsIFN0cmluZyBERUZBVUxUX0NPTk5FQ1RJT05fRkFDVE9SWSA9ICJqbXMvRWNsaXBzZUxpbmtU
b3BpY0Nvbm5lY3Rpb25GYWN0b3J5IjsNCisgICAgLyoqICANCisgICAgICogUFVCTElDOiAgDQor
ICAgICAqIENyZWF0ZXMgYSBKTVNQdWJsaXNoaW5nT25seVRvcGljVHJhbnNwb3J0TWFuYWdlciAg
DQorICAgICAqLyAgDQorICAgIHB1YmxpYyBKTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlcihS
ZW1vdGVDb21tYW5kTWFuYWdlciByY20pIHsgIA0KKyAgICAgICAgc3VwZXIocmNtKTsgIA0KKyAg
ICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5BTDoNCisgICAgICogVGhpcyBtZXRob2Qg
Y3JlYXRlcyBKTVNUb3BpY1JlbW90ZUNvbm5lY3Rpb24gdG8gYmUgdXNlZCBieSB0aGlzIFRyYW5z
cG9ydE1hbmFnZXIuDQorICAgICAqIERvbid0IGNvbmZ1c2UgdGhpcyBtZXRob2Qgd2l0aCBuby1v
cCBjcmVhdGVDb25uZWN0aW9uKFNlcnZpY2VJZCBzZXJ2aWNlSWQpLg0KKyAgICAgKi8NCisgICAg
cHJvdGVjdGVkIEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbiBjcmVhdGVDb25uZWN0aW9uKGJvb2xl
YW4gaXNMb2NhbENvbm5lY3Rpb25CZWluZ0NyZWF0ZWQpIHRocm93cyBSZW1vdGVDb21tYW5kTWFu
YWdlckV4Y2VwdGlvbiB7DQorICAgICAgICBDb250ZXh0IHJlbW90ZUhvc3RDb250ZXh0ID0gbnVs
bDsNCisgICAgICAgIHRyeSB7DQorICAgICAgICAgICAgcmVtb3RlSG9zdENvbnRleHQgPSBnZXRS
ZW1vdGVIb3N0Q29udGV4dChnZXRUb3BpY0hvc3RVcmwoKSk7DQorICAgICAgICAgICAgVG9waWND
b25uZWN0aW9uRmFjdG9yeSBjb25uZWN0aW9uRmFjdG9yeSA9IGdldFRvcGljQ29ubmVjdGlvbkZh
Y3RvcnkocmVtb3RlSG9zdENvbnRleHQpOw0KKyAgICAgICAgICAgIFRvcGljIHRvcGljID0gZ2V0
VG9waWMocmVtb3RlSG9zdENvbnRleHQpOyAgICANCisgICAgICAgICAgICBUb3BpY0Nvbm5lY3Rp
b24gdG9waWNDb25uZWN0aW9uID0gY29ubmVjdGlvbkZhY3RvcnkuY3JlYXRlVG9waWNDb25uZWN0
aW9uKCk7DQorICAgICAgICAgICAgLy8gZXh0ZXJuYWwgY29ubmVjdGlvbiBpcyBhIHB1Ymxpc2hl
cjsgbG9jYWwgY29ubmVjdGlvbiBpcyBhIHN1YnNjcmliZXINCisgICAgICAgICAgICByZXR1cm4g
bmV3IEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbihyY20sIHRvcGljQ29ubmVjdGlvbiwgdG9waWMs
IGlzTG9jYWxDb25uZWN0aW9uQmVpbmdDcmVhdGVkKTsNCisgICAgICAgIH0gY2F0Y2ggKEV4Y2Vw
dGlvbiBleCkgew0KKyAgICAgICAgICAgIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uIHJj
bUV4Y2VwdGlvbjsNCisgICAgICAgICAgICBpZihpc0xvY2FsQ29ubmVjdGlvbkJlaW5nQ3JlYXRl
ZCkgew0KKyAgICAgICAgICAgICAgICByY21FeGNlcHRpb24gPSBSZW1vdGVDb21tYW5kTWFuYWdl
ckV4Y2VwdGlvbi5lcnJvckNyZWF0aW5nTG9jYWxKTVNDb25uZWN0aW9uKHRvcGljTmFtZSwgY29u
bmVjdGlvbkZhY3RvcnlOYW1lLCBnZXRSZW1vdGVDb250ZXh0UHJvcGVydGllcygpLCBleCk7DQor
ICAgICAgICAgICAgfSBlbHNlIHsNCisgICAgICAgICAgICAgICAgcmNtRXhjZXB0aW9uID0gUmVt
b3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24uZXJyb3JDcmVhdGluZ0pNU0Nvbm5lY3Rpb24odG9w
aWNOYW1lLCBjb25uZWN0aW9uRmFjdG9yeU5hbWUsIGdldFJlbW90ZUNvbnRleHRQcm9wZXJ0aWVz
KCksIGV4KTsNCisgICAgICAgICAgICB9DQorICAgICAgICAgICAgdGhyb3cgcmNtRXhjZXB0aW9u
Ow0KKyAgICAgICAgfSBmaW5hbGx5IHsNCisgICAgICAgICAgICBpZihyZW1vdGVIb3N0Q29udGV4
dCAhPSBudWxsKSB7DQorICAgICAgICAgICAgICAgIHRyeSB7DQorICAgICAgICAgICAgICAgICAg
ICByZW1vdGVIb3N0Q29udGV4dC5jbG9zZSgpOw0KKyAgICAgICAgICAgICAgICB9IGNhdGNoIChO
YW1pbmdFeGNlcHRpb24gbmFtaW5nRXhjZXB0aW9uKSB7DQorICAgICAgICAgICAgICAgICAgICAv
LyBpZ25vcmUNCisgICAgICAgICAgICAgICAgfQ0KKyAgICAgICAgICAgIH0NCisgICAgICAgIH0N
CisgICAgfQ0KKw0KKyAgICAvKioNCisgICAgICogSU5URVJOQUw6DQorICAgICAqIEpNU1RvcGlj
VHJhbnNwb3J0TWFuYWdlciBkb2Vzbid0IHVzZSBEaXNjb3ZlcnlNYW5hZ2VyLCB0aGVyZWZvcmUN
CisgICAgICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIGR1cmluZyBSQ00gaW5pdGlhbGl6YXRpb24g
dG8gY3JlYXRlIGFsbCB0aGUgbmVjZXNzYXJ5IGNvbm5lY3Rpb25zLg0KKyAgICAgKi8NCisgICAg
cHVibGljIHZvaWQgY3JlYXRlQ29ubmVjdGlvbnMoKSB7DQorICAgICAgICBjcmVhdGVFeHRlcm5h
bENvbm5lY3Rpb24oKTsNCisgICAgICAgIGNyZWF0ZUxvY2FsQ29ubmVjdGlvbigpOw0KKyAgICB9
DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5BTDoNCisgICAgICogSk1TVG9waWNUcmFuc3Bv
cnRNYW5hZ2VyIGhhcyBtYXhpbXVtIG9uZSBleHRlcm5hbCBjb25uZWN0aW9uLg0KKyAgICAgKiBW
ZXJpZnkgdGhlcmUgYXJlIG5vIGV4dGVybmFsIGNvbm5lY3Rpb25zLA0KKyAgICAgKiBjcmVhdGUg
YSBuZXcgZXh0ZXJuYWwgY29ubmVjdGlvbiwgDQorICAgICAqIGFkZCBpdCB0byBleHRlcm5hbCBj
b25uZWN0aW9ucycgbWFwLg0KKyAgICAgKi8NCisgICAgcHVibGljIHZvaWQgY3JlYXRlRXh0ZXJu
YWxDb25uZWN0aW9uKCkgew0KKyAgICAgICAgc3luY2hyb25pemVkKGNvbm5lY3Rpb25zVG9FeHRl
cm5hbFNlcnZpY2VzKSB7DQorICAgICAgICAgICAgaWYoY29ubmVjdGlvbnNUb0V4dGVybmFsU2Vy
dmljZXMuaXNFbXB0eSgpKSB7DQorICAgICAgICAgICAgICAgIHRyeSB7DQorICAgICAgICAgICAg
ICAgICAgICBjb25uZWN0aW9uc1RvRXh0ZXJuYWxTZXJ2aWNlcy5wdXQocmNtLmdldFNlcnZpY2VJ
ZCgpLmdldElkKCksIGNyZWF0ZUNvbm5lY3Rpb24oZmFsc2UpKTsNCisgICAgICAgICAgICAgICAg
fSBjYXRjaCAoUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24gcmNtRXhjZXB0aW9uKSB7DQor
ICAgICAgICAgICAgICAgICAgICAvLyB0byByZWNvdmVyIGhhbmRsZSBSZW1vdGVDb21tYW5kTWFu
YWdlckV4Y2VwdGlvbi5FUlJPUl9DUkVBVElOR19KTVNfQ09OTkVDVElPTjoNCisgICAgICAgICAg
ICAgICAgICAgIC8vIGFmdGVyIGNoYW5naW5nIHNvbWV0aGluZyAoZm9yIGluc3RhbmNlIGptc0hv
c3RVcmwpDQorICAgICAgICAgICAgICAgICAgICAvLyBjYWxsIGNyZWF0ZUV4dGVybmFsQ29ubmVj
dGlvbiBtZXRob2QgYWdhaW4uDQorICAgICAgICAgICAgICAgICAgICByY20uaGFuZGxlRXhjZXB0
aW9uKHJjbUV4Y2VwdGlvbik7DQorICAgICAgICAgICAgICAgIH0NCisgICAgICAgICAgICB9ICAg
ICAgICAgICAgDQorICAgICAgICB9DQorICAgIH0NCisNCisgICAgLyoqDQorICAgICAqIElOVEVS
TkFMOg0KKyAgICAgKi8NCisgICAgcHVibGljIHZvaWQgY3JlYXRlTG9jYWxDb25uZWN0aW9uKCkg
e30NCisNCisgICAgLyoqDQorICAgICAqIElOVEVSTkFMOg0KKyAgICAgKiBJbiBjYXNlIHRoZXJl
J3Mgbm8gZXh0ZXJuYWwgY29ubmVjdGlvbiBhdHRlbXB0cyB0byBjcmVhdGUgb25lLA0KKyAgICAg
KiBpZiB0aGF0J3Mgc3VjY2Vzc2Z1bCB0aGVuIChpbiBjYXNlIHRoZXJlIGlzIG5vIGxvY2FsIGNv
bm5lY3Rpb24sIHRvbykNCisgICAgICogYXR0ZW1wdHMgdG8gY3JlYXRlIGxvY2FsIGNvbm5lY3Rp
b24gaW4gYSBzZXBhcmF0ZSB0aHJlYWQuDQorICAgICAqIFJldHVybnMgY2xvbmUgb2YgdGhlIG9y
aWdpbmFsIG1hcC4NCisgICAgICovDQorICAgIHB1YmxpYyBIYXNodGFibGUgZ2V0Q29ubmVjdGlv
bnNUb0V4dGVybmFsU2VydmljZXNGb3JDb21tYW5kUHJvcGFnYXRpb24oKSB7DQorICAgICAgICBp
Zih0aGlzLmdldENvbm5lY3Rpb25zVG9FeHRlcm5hbFNlcnZpY2VzKCkuaXNFbXB0eSgpICYmICF0
aGlzLnJjbS5pc1N0b3BwZWQoKSkgew0KKyAgICAgICAgICAgIHRoaXMuY3JlYXRlRXh0ZXJuYWxD
b25uZWN0aW9uKCk7DQorICAgICAgICB9DQorICAgICAgICByZXR1cm4gc3VwZXIuZ2V0Q29ubmVj
dGlvbnNUb0V4dGVybmFsU2VydmljZXNGb3JDb21tYW5kUHJvcGFnYXRpb24oKTsNCisgICAgfQ0K
Kw0KKyAgICAvKioNCisgICAgICogSU5URVJOQUw6DQorICAgICAqLw0KKyAgICBwcm90ZWN0ZWQg
VG9waWMgZ2V0VG9waWMoQ29udGV4dCByZW1vdGVIb3N0Q29udGV4dCkgew0KKyAgICAgICAgdHJ5
IHsNCisgICAgICAgICAgICByZXR1cm4gKFRvcGljKXJlbW90ZUhvc3RDb250ZXh0Lmxvb2t1cCh0
b3BpY05hbWUpOw0KKyAgICAgICAgfSBjYXRjaCAoTmFtaW5nRXhjZXB0aW9uIGUpIHsNCisgICAg
ICAgICAgICBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbiByY21FeGNlcHRpb24gPSBSZW1v
dGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbi5lcnJvckxvb2tpbmdVcFJlbW90ZUNvbm5lY3Rpb24o
dG9waWNOYW1lLCByY20uZ2V0VXJsKCksIGUpOw0KKyAgICAgICAgICAgIHJjbS5oYW5kbGVFeGNl
cHRpb24ocmNtRXhjZXB0aW9uKTsNCisgICAgICAgICAgICAvLyBJZiB0aGUgaGFuZGxlciBoYXNu
J3QgdGhyb3duIHRoZSBleGNlcHRpb24gcmV0aHJvdyBpdCBoZXJlIC0gaXQncyBpbXBvc3NpYmxl
IHRvIHJlY292ZXIuDQorICAgICAgICAgICAgdGhyb3cgcmNtRXhjZXB0aW9uOw0KKyAgICAgICAg
fQ0KKyAgICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5BTDoNCisgICAgICovDQorICAg
IHByb3RlY3RlZCBUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5IGdldFRvcGljQ29ubmVjdGlvbkZhY3Rv
cnkoQ29udGV4dCByZW1vdGVIb3N0Q29udGV4dCkgew0KKyAgICAgICAgdHJ5IHsNCisgICAgICAg
ICAgICByZXR1cm4gKFRvcGljQ29ubmVjdGlvbkZhY3RvcnkpcmVtb3RlSG9zdENvbnRleHQubG9v
a3VwKGNvbm5lY3Rpb25GYWN0b3J5TmFtZSk7DQorICAgICAgICB9IGNhdGNoIChOYW1pbmdFeGNl
cHRpb24gZSkgew0KKyAgICAgICAgICAgIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uIHJj
bUV4Y2VwdGlvbiA9IFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLmVycm9yTG9va2luZ1Vw
UmVtb3RlQ29ubmVjdGlvbihjb25uZWN0aW9uRmFjdG9yeU5hbWUsIHJjbS5nZXRVcmwoKSwgZSk7
DQorICAgICAgICAgICAgcmNtLmhhbmRsZUV4Y2VwdGlvbihyY21FeGNlcHRpb24pOw0KKyAgICAg
ICAgICAgIC8vIElmIHRoZSBoYW5kbGVyIGhhc24ndCB0aHJvd24gdGhlIGV4Y2VwdGlvbiByZXRo
cm93IGl0IGhlcmUgLSBpdCdzIGltcG9zc2libGUgdG8gcmVjb3Zlci4NCisgICAgICAgICAgICB0
aHJvdyByY21FeGNlcHRpb247DQorICAgICAgICB9DQorICAgIH0NCisNCisgICAgLyoqDQorICAg
ICAqIFBVQkxJQzoNCisgICAgICogUmV0dXJuIHRoZSBKTVMgVG9waWMgQ29ubmVjdGlvbiBGYWN0
b3J5IE5hbWUgZm9yIHRoZSBKTVMgVG9waWMgY29ubmVjdGlvbnMuDQorICAgICAqLw0KKyAgICBw
dWJsaWMgU3RyaW5nIGdldFRvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lKCkgew0KKyAgICAgICAg
cmV0dXJuIGNvbm5lY3Rpb25GYWN0b3J5TmFtZTsNCisgICAgfQ0KKw0KKyAgICAvKioNCisgICAg
ICogUFVCTElDOg0KKyAgICAgKiBSZXR1cm4gdGhlIFVSTCBvZiB0aGUgbWFjaGluZSBvbiB0aGUg
bmV0d29yayB0aGF0IGhvc3RzIHRoZSBKTVMgVG9waWMuICBUaGlzIGlzIGEgcmVxdWlyZWQgcHJv
cGVydHkgYW5kIG11c3QgYmUgY29uZmlndXJlZC4NCisgICAgICovDQorICAgIHB1YmxpYyBTdHJp
bmcgZ2V0VG9waWNIb3N0VXJsKCkgew0KKyAgICAgICAgcmV0dXJuIChTdHJpbmcpZ2V0UmVtb3Rl
Q29udGV4dFByb3BlcnRpZXMoKS5nZXQoQ29udGV4dC5QUk9WSURFUl9VUkwpOw0KKyAgICB9DQor
DQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5BTDoNCisgICAgICogSW5pdGlhbGl6ZSBkZWZhdWx0
IHByb3BlcnRpZXMuDQorICAgICAqLw0KKyAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplKCkgew0K
KyAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZSgpOw0KKyAgICAgICAgdG9waWNOYW1lID0gREVGQVVM
VF9UT1BJQzsNCisgICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5TmFtZSA9IERFRkFVTFRfQ09OTkVD
VElPTl9GQUNUT1JZOw0KKyAgICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5BTDoNCisg
ICAgICovDQorICAgIHB1YmxpYyB2b2lkIHJlbW92ZUxvY2FsQ29ubmVjdGlvbigpIHt9DQorDQor
ICAgIC8qKg0KKyAgICAgKiBBRFZBTkNFRDoNCisgICAgICogVGhpcyBmdW5jdGlvbiBpcyBub3Qg
c3VwcG9ydGVkIGZvciBuYW1pbmcgc2VydmljZSBvdGhlciB0aGFuIEpOREkgb3IgVHJhbnNwb3J0
TWFuYWdlci5KTkRJX05BTUlOR19TRVJWSUNFLg0KKyAgICAgKi8NCisgICAgcHVibGljIHZvaWQg
c2V0TmFtaW5nU2VydmljZVR5cGUoaW50IHNlcnZpY2VUeXBlKSB7DQorICAgICAgICBpZiAoc2Vy
dmljZVR5cGUgIT0gVHJhbnNwb3J0TWFuYWdlci5KTkRJX05BTUlOR19TRVJWSUNFKSB7DQorICAg
ICAgICAgICAgdGhyb3cgVmFsaWRhdGlvbkV4Y2VwdGlvbi5vcGVyYXRpb25Ob3RTdXBwb3J0ZWQo
InNldE5hbWluZ1NlcnZpY2VUeXBlIik7DQorICAgICAgICB9DQorICAgIH0NCisNCisgICAgLyoq
DQorICAgICAqIFBVQkxJQzoNCisgICAgICogQ29uZmlndXJlIHRoZSBKTVMgVG9waWMgQ29ubmVj
dGlvbiBGYWN0b3J5IE5hbWUgZm9yIHRoZSBKTVMgVG9waWMgY29ubmVjdGlvbnMuDQorICAgICAq
Lw0KKyAgICBwdWJsaWMgdm9pZCBzZXRUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZShTdHJpbmcg
bmV3VG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWUpIHsNCisgICAgICAgIGNvbm5lY3Rpb25GYWN0
b3J5TmFtZSA9IG5ld1RvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lOw0KKyAgICB9DQorDQorICAg
IC8qKg0KKyAgICAgKiBQVUJMSUM6DQorICAgICAqIENvbmZpZ3VyZSB0aGUgVVJMIG9mIHRoZSBt
YWNoaW5lIG9uIHRoZSBuZXR3b3JrIHRoYXQgaG9zdHMgdGhlIEpNUyBUb3BpYy4gVGhpcyBpcyBh
IHJlcXVpcmVkIHByb3BlcnR5IGFuZCBtdXN0IGJlIGNvbmZpZ3VyZWQuDQorICAgICAqLw0KKyAg
ICBwdWJsaWMgdm9pZCBzZXRUb3BpY0hvc3RVcmwoU3RyaW5nIGptc0hvc3RVcmwpIHsNCisgICAg
ICAgIGdldFJlbW90ZUNvbnRleHRQcm9wZXJ0aWVzKCkucHV0KENvbnRleHQuUFJPVklERVJfVVJM
LCBqbXNIb3N0VXJsKTsNCisgICAgICAgIHJjbS5nZXRTZXJ2aWNlSWQoKS5zZXRVUkwoam1zSG9z
dFVybCk7DQorICAgIH0NCit9ICANCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uv
c2Vzc2lvbnMvY29vcmRpbmF0aW9uL2ptcy9KTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXIuamF2YQ0K
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQ0KLS0tIHNyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9zZXNzaW9ucy9jb29y
ZGluYXRpb24vam1zL0pNU1RvcGljVHJhbnNwb3J0TWFuYWdlci5qYXZhCShyZXZpc2lvbiA2MzM4
KQ0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9zZXNzaW9ucy9jb29yZGluYXRpb24v
am1zL0pNU1RvcGljVHJhbnNwb3J0TWFuYWdlci5qYXZhCSh3b3JraW5nIGNvcHkpDQpAQCAtMzUs
NyArMzUsNyBAQA0KICAqIEBhdXRob3IgU3RldmVuIFZvDQogICogQHNpbmNlIE9yYWNsZUFTIFRv
cExpbmsgMTA8aT5nPC9pPiAoMTAuMC4zKQ0KICAqLw0KLXB1YmxpYyBjbGFzcyBKTVNUb3BpY1Ry
YW5zcG9ydE1hbmFnZXIgZXh0ZW5kcyBCcm9hZGNhc3RUcmFuc3BvcnRNYW5hZ2VyIHsNCitwdWJs
aWMgY2xhc3MgSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyIGV4dGVuZHMgSk1TUHVibGlzaGluZ1Ry
YW5zcG9ydE1hbmFnZXIgew0KICAgICBwcm90ZWN0ZWQgU3RyaW5nIGNvbm5lY3Rpb25GYWN0b3J5
TmFtZTsNCiANCiAgICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgREVGQVVMVF9UT1BJQyA9
ICJqbXMvRWNsaXBzZUxpbmtUb3BpYyI7DQpAQCAtNDQsMzEgKzQ0LDkgQEANCiAgICAgcHVibGlj
IEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlcihSZW1vdGVDb21tYW5kTWFuYWdlciByY20pIHsNCiAg
ICAgICAgIHN1cGVyKHJjbSk7DQogICAgIH0NCi0NCisgICAgDQogICAgIC8qKg0KICAgICAgKiBJ
TlRFUk5BTDoNCi0gICAgICogSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyIGhhcyBtYXhpbXVtIG9u
ZSBleHRlcm5hbCBjb25uZWN0aW9uLg0KLSAgICAgKiBWZXJpZnkgdGhlcmUgYXJlIG5vIGV4dGVy
bmFsIGNvbm5lY3Rpb25zLA0KLSAgICAgKiBjcmVhdGUgYSBuZXcgZXh0ZXJuYWwgY29ubmVjdGlv
biwgDQotICAgICAqIGFkZCBpdCB0byBleHRlcm5hbCBjb25uZWN0aW9ucycgbWFwLg0KLSAgICAg
Ki8NCi0gICAgcHVibGljIHZvaWQgY3JlYXRlRXh0ZXJuYWxDb25uZWN0aW9uKCkgew0KLSAgICAg
ICAgc3luY2hyb25pemVkKGNvbm5lY3Rpb25zVG9FeHRlcm5hbFNlcnZpY2VzKSB7DQotICAgICAg
ICAgICAgaWYoY29ubmVjdGlvbnNUb0V4dGVybmFsU2VydmljZXMuaXNFbXB0eSgpKSB7DQotICAg
ICAgICAgICAgICAgIHRyeSB7DQotICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uc1RvRXh0
ZXJuYWxTZXJ2aWNlcy5wdXQocmNtLmdldFNlcnZpY2VJZCgpLmdldElkKCksIGNyZWF0ZUNvbm5l
Y3Rpb24oZmFsc2UpKTsNCi0gICAgICAgICAgICAgICAgfSBjYXRjaCAoUmVtb3RlQ29tbWFuZE1h
bmFnZXJFeGNlcHRpb24gcmNtRXhjZXB0aW9uKSB7DQotICAgICAgICAgICAgICAgICAgICAvLyB0
byByZWNvdmVyIGhhbmRsZSBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbi5FUlJPUl9DUkVB
VElOR19KTVNfQ09OTkVDVElPTjoNCi0gICAgICAgICAgICAgICAgICAgIC8vIGFmdGVyIGNoYW5n
aW5nIHNvbWV0aGluZyAoZm9yIGluc3RhbmNlIGptc0hvc3RVcmwpDQotICAgICAgICAgICAgICAg
ICAgICAvLyBjYWxsIGNyZWF0ZUV4dGVybmFsQ29ubmVjdGlvbiBtZXRob2QgYWdhaW4uDQotICAg
ICAgICAgICAgICAgICAgICByY20uaGFuZGxlRXhjZXB0aW9uKHJjbUV4Y2VwdGlvbik7DQotICAg
ICAgICAgICAgICAgIH0NCi0gICAgICAgICAgICB9ICAgICAgICAgICAgDQotICAgICAgICB9DQot
ICAgIH0NCi0NCi0gICAgLyoqDQotICAgICAqIElOVEVSTkFMOg0KICAgICAgKiBKTVNUb3BpY1Ry
YW5zcG9ydE1hbmFnZXIgbWF5IGhhdmUgb25seSB0d28gY29ubmVjdGlvbnM6IG9uZSBsb2NhbCBh
bmQgb25lIGV4dGVybmFsLg0KICAgICAgKiBJbiBjYXNlIHRoZSBsb2NhbCBjb25uZWN0aW9uIGRv
ZXNuJ3QgZXhpc3QsIHRoaXMgbWV0aG9kIGNyZWF0ZXMgaXQuDQogICAgICAqLw0KQEAgLTg3LDM1
ICs2NSwyNyBAQA0KIA0KICAgICAvKioNCiAgICAgICogSU5URVJOQUw6DQotICAgICAqIFRoaXMg
bWV0aG9kIGNyZWF0ZXMgSk1TVG9waWNSZW1vdGVDb25uZWN0aW9uIHRvIGJlIHVzZWQgYnkgdGhp
cyBUcmFuc3BvcnRNYW5hZ2VyLg0KLSAgICAgKiBEb24ndCBjb25mdXNlIHRoaXMgbWV0aG9kIHdp
dGggbm8tb3AgY3JlYXRlQ29ubmVjdGlvbihTZXJ2aWNlSWQgc2VydmljZUlkKS4NCisgICAgICog
SW4gY2FzZSB0aGVyZSdzIG5vIGV4dGVybmFsIGNvbm5lY3Rpb24gYXR0ZW1wdHMgdG8gY3JlYXRl
IG9uZSwNCisgICAgICogaWYgdGhhdCdzIHN1Y2Nlc3NmdWwgdGhlbiAoaW4gY2FzZSB0aGVyZSBp
cyBubyBsb2NhbCBjb25uZWN0aW9uLCB0b28pDQorICAgICAqIGF0dGVtcHRzIHRvIGNyZWF0ZSBs
b2NhbCBjb25uZWN0aW9uIGluIGEgc2VwYXJhdGUgdGhyZWFkLg0KKyAgICAgKiBSZXR1cm5zIGNs
b25lIG9mIHRoZSBvcmlnaW5hbCBtYXAuDQogICAgICAqLw0KLSAgICBwcm90ZWN0ZWQgSk1TVG9w
aWNSZW1vdGVDb25uZWN0aW9uIGNyZWF0ZUNvbm5lY3Rpb24oYm9vbGVhbiBpc0xvY2FsQ29ubmVj
dGlvbkJlaW5nQ3JlYXRlZCkgdGhyb3dzIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uIHsN
Ci0gICAgICAgIENvbnRleHQgcmVtb3RlSG9zdENvbnRleHQgPSBudWxsOw0KLSAgICAgICAgdHJ5
IHsNCi0gICAgICAgICAgICByZW1vdGVIb3N0Q29udGV4dCA9IGdldFJlbW90ZUhvc3RDb250ZXh0
KGdldFRvcGljSG9zdFVybCgpKTsNCi0gICAgICAgICAgICBUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5
IGNvbm5lY3Rpb25GYWN0b3J5ID0gZ2V0VG9waWNDb25uZWN0aW9uRmFjdG9yeShyZW1vdGVIb3N0
Q29udGV4dCk7DQotICAgICAgICAgICAgVG9waWMgdG9waWMgPSBnZXRUb3BpYyhyZW1vdGVIb3N0
Q29udGV4dCk7ICAgIA0KLSAgICAgICAgICAgIFRvcGljQ29ubmVjdGlvbiB0b3BpY0Nvbm5lY3Rp
b24gPSBjb25uZWN0aW9uRmFjdG9yeS5jcmVhdGVUb3BpY0Nvbm5lY3Rpb24oKTsNCi0gICAgICAg
ICAgICAvLyBleHRlcm5hbCBjb25uZWN0aW9uIGlzIGEgcHVpYmxpc2hlcjsgbG9jYWwgY29ubmVj
dGlvbiBpcyBhIHN1YnNjcmliZXINCi0gICAgICAgICAgICByZXR1cm4gbmV3IEpNU1RvcGljUmVt
b3RlQ29ubmVjdGlvbihyY20sIHRvcGljQ29ubmVjdGlvbiwgdG9waWMsIGlzTG9jYWxDb25uZWN0
aW9uQmVpbmdDcmVhdGVkKTsNCi0gICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkgew0KLSAg
ICAgICAgICAgIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uIHJjbUV4Y2VwdGlvbjsNCi0g
ICAgICAgICAgICBpZihpc0xvY2FsQ29ubmVjdGlvbkJlaW5nQ3JlYXRlZCkgew0KLSAgICAgICAg
ICAgICAgICByY21FeGNlcHRpb24gPSBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbi5lcnJv
ckNyZWF0aW5nTG9jYWxKTVNDb25uZWN0aW9uKHRvcGljTmFtZSwgY29ubmVjdGlvbkZhY3RvcnlO
YW1lLCBnZXRSZW1vdGVDb250ZXh0UHJvcGVydGllcygpLCBleCk7DQotICAgICAgICAgICAgfSBl
bHNlIHsNCi0gICAgICAgICAgICAgICAgcmNtRXhjZXB0aW9uID0gUmVtb3RlQ29tbWFuZE1hbmFn
ZXJFeGNlcHRpb24uZXJyb3JDcmVhdGluZ0pNU0Nvbm5lY3Rpb24odG9waWNOYW1lLCBjb25uZWN0
aW9uRmFjdG9yeU5hbWUsIGdldFJlbW90ZUNvbnRleHRQcm9wZXJ0aWVzKCksIGV4KTsNCi0gICAg
ICAgICAgICB9DQotICAgICAgICAgICAgdGhyb3cgcmNtRXhjZXB0aW9uOw0KLSAgICAgICAgfSBm
aW5hbGx5IHsNCi0gICAgICAgICAgICBpZihyZW1vdGVIb3N0Q29udGV4dCAhPSBudWxsKSB7DQot
ICAgICAgICAgICAgICAgIHRyeSB7DQotICAgICAgICAgICAgICAgICAgICByZW1vdGVIb3N0Q29u
dGV4dC5jbG9zZSgpOw0KLSAgICAgICAgICAgICAgICB9IGNhdGNoIChOYW1pbmdFeGNlcHRpb24g
bmFtaW5nRXhjZXB0aW9uKSB7DQotICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUNCisgICAg
cHVibGljIEhhc2h0YWJsZSBnZXRDb25uZWN0aW9uc1RvRXh0ZXJuYWxTZXJ2aWNlc0ZvckNvbW1h
bmRQcm9wYWdhdGlvbigpIHsNCisgICAgICAgIGlmKHRoaXMubG9jYWxDb25uZWN0aW9uID09IG51
bGwgJiYgIXRoaXMucmNtLmlzU3RvcHBlZCgpKSB7DQorICAgICAgICAgICAgLy8gSXQncyBhIGdv
b2QgdGltZSB0byBjcmVhdGUgbG9jYWxDb25uZWN0aW9uLA0KKyAgICAgICAgICAgIC8vIGluIGEg
bmV3IHRocmVhZCAtIHRvIHJldHVybiBleHRlcm5hbENvbm5lY3Rpb25zIHByb21wdGx5Lg0KKyAg
ICAgICAgICAgIHRoaXMucmNtLmdldFNlcnZlclBsYXRmb3JtKCkubGF1bmNoQ29udGFpbmVyUnVu
bmFibGUobmV3IFJ1bm5hYmxlKCkgew0KKyAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBydW4o
KSB7DQorICAgICAgICAgICAgICAgICAgICB0cnkgew0KKyAgICAgICAgICAgICAgICAgICAgICAg
IGNyZWF0ZUxvY2FsQ29ubmVjdGlvbigpOw0KKyAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAo
UmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24gZXgpIHsNCisgICAgICAgICAgICAgICAgICAg
ICAgICAvLyBJZ25vcmUgZXhjZXB0aW9uIC0gdXNlciBoYWQgYSBjaGFuY2UgdG8gaGFuZGxlIGl0
IGluIGNyZWF0ZUxvY2FsQ29ubmVjdGlvbiBtZXRob2Q6DQorICAgICAgICAgICAgICAgICAgICAg
ICAgLy8gZm9yIGluc3RhbmNlIHRvIGNoYW5nZSBob3N0IHVybCBhbmQgY3JlYXRlIGEgbmV3IGxv
Y2FsIGNvbm5lY3Rpb24uDQorICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAg
IH0NCi0gICAgICAgICAgICB9DQorICAgICAgICAgICAgfSk7DQogICAgICAgICB9DQorICAgICAg
ICByZXR1cm4gc3VwZXIuZ2V0Q29ubmVjdGlvbnNUb0V4dGVybmFsU2VydmljZXNGb3JDb21tYW5k
UHJvcGFnYXRpb24oKTsNCiAgICAgfQ0KICAgICANCiAgICAgLyoqDQpAQCAtMTM2LDEyMyArMTA2
LDQgQEANCiAgICAgICAgICAgICBjb25uZWN0aW9uVG9SZW1vdmUuY2xvc2UoKTsNCiAgICAgICAg
IH0NCiAgICAgfQ0KLQ0KLSAgICAvKioNCi0gICAgICogSU5URVJOQUw6DQotICAgICAqIEpNVG9w
aWNUcmFuc3BvcnRNYW5hZ2VyIGRvZXNuJ3QgdXNlIERpc2NvdmVyeU1hbmFnZXIsIHRoZXJlZm9y
ZQ0KLSAgICAgKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgZHVyaW5nIFJDTSBpbml0aWFsaXphdGlv
biB0byBjcmVhdGUgYWxsIHRoZSBuZWNlc3NhcnkgY29ubmVjdGlvbnMuDQotICAgICAqLw0KLSAg
ICBwdWJsaWMgdm9pZCBjcmVhdGVDb25uZWN0aW9ucygpIHsNCi0gICAgICAgIGNyZWF0ZUV4dGVy
bmFsQ29ubmVjdGlvbigpOw0KLSAgICAgICAgY3JlYXRlTG9jYWxDb25uZWN0aW9uKCk7DQotICAg
IH0NCi0NCi0gICAgLyoqDQotICAgICAqIFBVQkxJQzoNCi0gICAgICogQ29uZmlndXJlIHRoZSBK
TVMgVG9waWMgQ29ubmVjdGlvbiBGYWN0b3J5IE5hbWUgZm9yIHRoZSBKTVMgVG9waWMgY29ubmVj
dGlvbnMuDQotICAgICAqLw0KLSAgICBwdWJsaWMgdm9pZCBzZXRUb3BpY0Nvbm5lY3Rpb25GYWN0
b3J5TmFtZShTdHJpbmcgbmV3VG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWUpIHsNCi0gICAgICAg
IGNvbm5lY3Rpb25GYWN0b3J5TmFtZSA9IG5ld1RvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lOw0K
LSAgICB9DQotDQotICAgIC8qKg0KLSAgICAgKiBQVUJMSUM6DQotICAgICAqIFJldHVybiB0aGUg
Sk1TIFRvcGljIENvbm5lY3Rpb24gRmFjdG9yeSBOYW1lIGZvciB0aGUgSk1TIFRvcGljIGNvbm5l
Y3Rpb25zLg0KLSAgICAgKi8NCi0gICAgcHVibGljIFN0cmluZyBnZXRUb3BpY0Nvbm5lY3Rpb25G
YWN0b3J5TmFtZSgpIHsNCi0gICAgICAgIHJldHVybiBjb25uZWN0aW9uRmFjdG9yeU5hbWU7DQot
ICAgIH0NCi0NCi0gICAgLyoqDQotICAgICAqIElOVEVSTkFMOg0KLSAgICAgKiBJbml0aWFsaXpl
IGRlZmF1bHQgcHJvcGVydGllcy4NCi0gICAgICovDQotICAgIHB1YmxpYyB2b2lkIGluaXRpYWxp
emUoKSB7DQotICAgICAgICBzdXBlci5pbml0aWFsaXplKCk7DQotICAgICAgICB0b3BpY05hbWUg
PSBERUZBVUxUX1RPUElDOw0KLSAgICAgICAgY29ubmVjdGlvbkZhY3RvcnlOYW1lID0gREVGQVVM
VF9DT05ORUNUSU9OX0ZBQ1RPUlk7DQotICAgIH0NCi0NCi0gICAgLyoqDQotICAgICAqIFBVQkxJ
QzoNCi0gICAgICogUmV0dXJuIHRoZSBVUkwgb2YgdGhlIG1hY2hpbmUgb24gdGhlIG5ldHdvcmsg
dGhhdCBob3N0cyB0aGUgSk1TIFRvcGljLiAgVGhpcyBpcyBhIHJlcXVpcmVkIHByb3BlcnR5IGFu
ZCBtdXN0IGJlIGNvbmZpZ3VyZWQuDQotICAgICAqLw0KLSAgICBwdWJsaWMgU3RyaW5nIGdldFRv
cGljSG9zdFVybCgpIHsNCi0gICAgICAgIHJldHVybiAoU3RyaW5nKWdldFJlbW90ZUNvbnRleHRQ
cm9wZXJ0aWVzKCkuZ2V0KENvbnRleHQuUFJPVklERVJfVVJMKTsNCi0gICAgfQ0KLQ0KLSAgICAv
KioNCi0gICAgICogUFVCTElDOg0KLSAgICAgKiBDb25maWd1cmUgdGhlIFVSTCBvZiB0aGUgbWFj
aGluZSBvbiB0aGUgbmV0d29yayB0aGF0IGhvc3RzIHRoZSBKTVMgVG9waWMuIFRoaXMgaXMgYSBy
ZXF1aXJlZCBwcm9wZXJ0eSBhbmQgbXVzdCBiZSBjb25maWd1cmVkLg0KLSAgICAgKi8NCi0gICAg
cHVibGljIHZvaWQgc2V0VG9waWNIb3N0VXJsKFN0cmluZyBqbXNIb3N0VXJsKSB7DQotICAgICAg
ICBnZXRSZW1vdGVDb250ZXh0UHJvcGVydGllcygpLnB1dChDb250ZXh0LlBST1ZJREVSX1VSTCwg
am1zSG9zdFVybCk7DQotICAgICAgICByY20uZ2V0U2VydmljZUlkKCkuc2V0VVJMKGptc0hvc3RV
cmwpOw0KLSAgICB9DQotDQotICAgIC8qKg0KLSAgICAgKiBBRFZBTkNFRDoNCi0gICAgICogVGhp
cyBmdW5jYXRpb24gaXMgbm90IHN1cHBvcnRlZCBmb3IgbmFtaW5nIHNlcnZpY2Ugb3RoZXIgdGhh
biBKTkRJIG9yIFRyYW5zcG9ydE1hbmFnZXIuSk5ESV9OQU1JTkdfU0VSVklDRS4NCi0gICAgICov
DQotICAgIHB1YmxpYyB2b2lkIHNldE5hbWluZ1NlcnZpY2VUeXBlKGludCBzZXJ2aWNlVHlwZSkg
ew0KLSAgICAgICAgaWYgKHNlcnZpY2VUeXBlICE9IFRyYW5zcG9ydE1hbmFnZXIuSk5ESV9OQU1J
TkdfU0VSVklDRSkgew0KLSAgICAgICAgICAgIHRocm93IFZhbGlkYXRpb25FeGNlcHRpb24ub3Bl
cmF0aW9uTm90U3VwcG9ydGVkKCJzZXROYW1pbmdTZXJ2aWNlVHlwZSIpOw0KLSAgICAgICAgfQ0K
LSAgICB9DQotDQotICAgIC8qKg0KLSAgICAgKiBJTlRFUk5BTDoNCi0gICAgICovDQotICAgIHBy
b3RlY3RlZCBUb3BpYyBnZXRUb3BpYyhDb250ZXh0IHJlbW90ZUhvc3RDb250ZXh0KSB7DQotICAg
ICAgICB0cnkgew0KLSAgICAgICAgICAgIHJldHVybiAoVG9waWMpcmVtb3RlSG9zdENvbnRleHQu
bG9va3VwKHRvcGljTmFtZSk7DQotICAgICAgICB9IGNhdGNoIChOYW1pbmdFeGNlcHRpb24gZSkg
ew0KLSAgICAgICAgICAgIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uIHJjbUV4Y2VwdGlv
biA9IFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLmVycm9yTG9va2luZ1VwUmVtb3RlQ29u
bmVjdGlvbih0b3BpY05hbWUsIHJjbS5nZXRVcmwoKSwgZSk7DQotICAgICAgICAgICAgcmNtLmhh
bmRsZUV4Y2VwdGlvbihyY21FeGNlcHRpb24pOw0KLSAgICAgICAgICAgIC8vIElmIHRoZSBoYW5k
bGVyIGhhc24ndCB0aHJvd24gdGhlIGV4Y2VwdGlvbiByZXRocm93IGl0IGhlcmUgLSBpdCdzIGlt
cG9zc2libGUgdG8gcmVjb3Zlci4NCi0gICAgICAgICAgICB0aHJvdyByY21FeGNlcHRpb247DQot
ICAgICAgICB9DQotICAgIH0NCi0NCi0gICAgLyoqDQotICAgICAqIElOVEVSTkFMOg0KLSAgICAg
Ki8NCi0gICAgcHJvdGVjdGVkIFRvcGljQ29ubmVjdGlvbkZhY3RvcnkgZ2V0VG9waWNDb25uZWN0
aW9uRmFjdG9yeShDb250ZXh0IHJlbW90ZUhvc3RDb250ZXh0KSB7DQotICAgICAgICB0cnkgew0K
LSAgICAgICAgICAgIHJldHVybiAoVG9waWNDb25uZWN0aW9uRmFjdG9yeSlyZW1vdGVIb3N0Q29u
dGV4dC5sb29rdXAoY29ubmVjdGlvbkZhY3RvcnlOYW1lKTsNCi0gICAgICAgIH0gY2F0Y2ggKE5h
bWluZ0V4Y2VwdGlvbiBlKSB7DQotICAgICAgICAgICAgUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNl
cHRpb24gcmNtRXhjZXB0aW9uID0gUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24uZXJyb3JM
b29raW5nVXBSZW1vdGVDb25uZWN0aW9uKGNvbm5lY3Rpb25GYWN0b3J5TmFtZSwgcmNtLmdldFVy
bCgpLCBlKTsNCi0gICAgICAgICAgICByY20uaGFuZGxlRXhjZXB0aW9uKHJjbUV4Y2VwdGlvbik7
DQotICAgICAgICAgICAgLy8gSWYgdGhlIGhhbmRsZXIgaGFzbid0IHRocm93biB0aGUgZXhjZXB0
aW9uIHJldGhyb3cgaXQgaGVyZSAtIGl0J3MgaW1wb3NzaWJsZSB0byByZWNvdmVyLg0KLSAgICAg
ICAgICAgIHRocm93IHJjbUV4Y2VwdGlvbjsNCi0gICAgICAgIH0NCi0gICAgfQ0KLQ0KLSAgICAv
KioNCi0gICAgICogSU5URVJOQUw6DQotICAgICAqIEluIGNhc2UgdGhlcmUncyBubyBleHRlcm5h
bCBjb25uZWN0aW9uIGF0dGVtcHRzIHRvIGNyZWF0ZSBvbmUsDQotICAgICAqIGlmIHRoYXQncyBz
dWNjZXNzZnVsIHRoZW4gKGluIGNhc2UgdGhlcmUgaXMgbm8gbG9jYWwgY29ubmVjdGlvbiwgdG9v
KQ0KLSAgICAgKiBhdHRlbXB0cyB0byBjcmVhdGUgbG9jYWwgY29ubmVjdGlvbiBpbiBhIHNlcGFy
YXRlIHRocmVhZC4NCi0gICAgICogUmV0dXJucyBjbG9uZSBvZiB0aGUgb3JpZ2luYWwgbWFwLg0K
LSAgICAgKi8NCi0gICAgcHVibGljIEhhc2h0YWJsZSBnZXRDb25uZWN0aW9uc1RvRXh0ZXJuYWxT
ZXJ2aWNlc0ZvckNvbW1hbmRQcm9wYWdhdGlvbigpIHsNCi0gICAgICAgIGlmKHRoaXMuZ2V0Q29u
bmVjdGlvbnNUb0V4dGVybmFsU2VydmljZXMoKS5pc0VtcHR5KCkgJiYgIXRoaXMucmNtLmlzU3Rv
cHBlZCgpKSB7DQotICAgICAgICAgICAgdGhpcy5jcmVhdGVFeHRlcm5hbENvbm5lY3Rpb24oKTsN
Ci0gICAgICAgICAgICBpZih0aGlzLmxvY2FsQ29ubmVjdGlvbiA9PSBudWxsKSB7DQotICAgICAg
ICAgICAgICAgIC8vIEl0J3MgYSBnb29kIHRpbWUgdG8gY3JlYXRlIGxvY2FsQ29ubmVjdGlvbiwN
Ci0gICAgICAgICAgICAgICAgLy8gaW4gYSBuZXcgdGhyZWFkIC0gdG8gcmV0dXJuIGV4dGVybmFs
Q29ubmVjdGlvbnMgcHJvbXB0bHkuDQotICAgICAgICAgICAgICAgIHRoaXMucmNtLmdldFNlcnZl
clBsYXRmb3JtKCkubGF1bmNoQ29udGFpbmVyUnVubmFibGUobmV3IFJ1bm5hYmxlKCkgew0KLSAg
ICAgICAgICAgICAgICAgICAgcHVibGljIHZvaWQgcnVuKCkgew0KLSAgICAgICAgICAgICAgICAg
ICAgICAgIHRyeSB7DQotICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUxvY2FsQ29u
bmVjdGlvbigpOw0KLSAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKFJlbW90ZUNvbW1h
bmRNYW5hZ2VyRXhjZXB0aW9uIGV4KSB7DQotICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v
IElnbm9yZSBleGNlcHRpb24gLSB1c2VyIGhhZCBhIGNoYW5jZSB0byBoYW5kbGUgaXQgaW4gY3Jl
YXRlTG9jYWxDb25uZWN0aW9uIG1ldGhvZDoNCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAg
Ly8gZm9yIGluc3RhbmNlIHRvIGNoYW5nZSBob3N0IHVybCBhbmQgY3JlYXRlIGEgbmV3IGxvY2Fs
IGNvbm5lY3Rpb24uDQotICAgICAgICAgICAgICAgICAgICAgICAgfQ0KLSAgICAgICAgICAgICAg
ICAgICAgfQ0KLSAgICAgICAgICAgICAgICB9KTsNCi0gICAgICAgICAgICB9DQotICAgICAgICB9
DQotICAgICAgICByZXR1cm4gc3VwZXIuZ2V0Q29ubmVjdGlvbnNUb0V4dGVybmFsU2VydmljZXNG
b3JDb21tYW5kUHJvcGFnYXRpb24oKTsNCi0gICAgfQ0KIH0NCkluZGV4OiBzcmMvb3JnL2VjbGlw
c2UvcGVyc2lzdGVuY2Uvc2Vzc2lvbnMvY29vcmRpbmF0aW9uL2ptcy9tZGIvQ2x1c3RlcmluZ01E
Qi5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09DQotLS0gc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL3Nlc3Np
b25zL2Nvb3JkaW5hdGlvbi9qbXMvbWRiL0NsdXN0ZXJpbmdNREIuamF2YQkocmV2aXNpb24gMCkN
CisrKyBzcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uvc2Vzc2lvbnMvY29vcmRpbmF0aW9uL2pt
cy9tZGIvQ2x1c3RlcmluZ01EQi5qYXZhCShyZXZpc2lvbiAwKQ0KQEAgLTAsMCArMSwxMDAgQEAN
CisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMTk5OCwgMjAwNyBP
cmFjbGUuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQorICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNj
b21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlDQorICogdGVy
bXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMCwgd2hpY2ggYWNjb21wYW5pZXMg
dGhpcyBkaXN0cmlidXRpb24NCisgKiBhbmQgaXMgYXZhaWxhYmxlIGF0IGh0dHA6Ly93d3cuZWNs
aXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sLg0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAq
ICAgICBPcmFjbGUgLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24gZnJvbSBPcmFjbGUg
VG9wTGluaw0KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovICANCitwYWNrYWdlIG9yZy5lY2xpcHNl
LnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5qbXMubWRiOw0KKw0KKy8qaW1wb3J0
IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmV4Y2VwdGlvbnMuSk1TUHJvY2Vzc2luZ0V4Y2VwdGlv
bjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMucmVtb3RlLmptcy5S
RU1PVkVfTWVzc2FnZUxpc3RlbmVyOyovDQorLy9pbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVu
Y2Uuc2Vzc2lvbnMuU2Vzc2lvbjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vz
c2lvbnMuZmFjdG9yaWVzLlNlc3Npb25NYW5hZ2VyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJz
aXN0ZW5jZS5leGNlcHRpb25zLlJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uOw0KK2ltcG9y
dCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24uUmVtb3RlQ29t
bWFuZE1hbmFnZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmludGVybmFsLnNl
c3Npb25zLmNvb3JkaW5hdGlvbi5qbXMuSk1TVG9waWNSZW1vdGVDb25uZWN0aW9uOw0KK2ltcG9y
dCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5hbC5zZXNzaW9ucy5BYnN0cmFjdFNlc3Np
b247DQorDQorDQoraW1wb3J0IGphdmF4LmVqYi5NZXNzYWdlRHJpdmVuQmVhbjsNCitpbXBvcnQg
amF2YXguZWpiLk1lc3NhZ2VEcml2ZW5Db250ZXh0Ow0KK2ltcG9ydCBqYXZheC5qbXMuKjsNCitp
bXBvcnQgamF2YXgubmFtaW5nLio7DQorDQorDQorLyoqDQorICogPHA+DQorICogPGI+UHVycG9z
ZTwvYj46IFRvIHByb3ZpZGUgYSByZWZlcmVuY2UgaW1wbGVtZW50YXRpb24gZm9yIE1lc3NhZ2Ug
RHJpdmVuIEJlYW4gdGhhdCBjYW4gbGlzdGVuIGFuZCBwcm9jZXNzIFRvcExpbmsgbWVzc2FnZXMu
IA0KKyAqIDxwPg0KKyAqIDxiPkRlc2NyaXB0b248L2I+OiBUaGUgTWVzc2FnZSBEcml2ZW4gQmVh
biAoTURCKSBtdXN0IGJlIGRlcGxveWVkIGFsb25nIHdpdGggVG9wTGluayBhcHBsaWNhdGlvbiBh
bmQgY29uZmlndXJlZCB0byBsaXN0ZW5lciB0aGUgdGhlIHNhbWUNCisgKiAgZGVzdGluYXRpb24g
dGhhdCBjbHVzdGVyaW5nIHNlcnZpY2VzIHNlbmQgdGhlaXIgY2FjaGUgc3luYyBtZXNzYWdlcyB0
by4gIFVzZXIgbXVzdCBkZWZpbmVzIGFuIGVudmlyb25tZW50IHZhcmlhYmxlIG5hbWVkIHdpdGgg
dGhlIHZhbHVlIG9mDQorICogIENsdXN0ZXJpbmdNREIuVE9QTElOS19TRVNTSU9OX05BTUUuICBU
aGlzIGVudmlyb25tZW50IHZhcmlhYmxlIHZhbHVlIGlzIHNlc3Npb24gbmFtZSAgdXNlZCBieSBU
b3BMaW5rIHRvIGxvYWQgdGhlIGNvc3Jlc3BvbmRpbmcgc2Vzc2lvbg0KKyAqICBmcm9tIHRoZSBz
ZXNzaW9ucy54bWwgd2hlbiB0aGUgTURCIGlzIGNyZWF0ZWQuDQorICoNCisgKiBAc2VlIG9yZy5l
Y2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLnJlbW90ZS5DYWNoZVN5bmNocm9uaXphdGlvbk1h
bmFnZXINCisgKi8NCitwdWJsaWMgY2xhc3MgQ2x1c3RlcmluZ01EQiBpbXBsZW1lbnRzIE1lc3Nh
Z2VEcml2ZW5CZWFuLCBNZXNzYWdlTGlzdGVuZXIgew0KKyAgICAvL3Byb3RlY3RlZCBSRU1PVkVf
TWVzc2FnZUxpc3RlbmVyIHRsTWVzc2FnZUxpc3RlbmVyOw0KKyAgICBwcm90ZWN0ZWQgSk1TVG9w
aWNSZW1vdGVDb25uZWN0aW9uIGNvbm5lY3Rpb247DQorDQorICAgIC8qKg0KKyAgICAgKiBUaGlz
IHZhbHVlIGlzIHRoZSBlbnYtZW50cnktbmFtZSBlbGVtZW50IG9mIHRoZSBNZXNzYWdlIERyaXZl
biBCZWFuIGNvbmZpZ3VyZWQgaW4gdGhlIGVqYi1qYXIueG1sLg0KKyAgICAgKiBUaGUgdmFsdWUg
aXMgdXNlZCB0byBsb29rdXAgdGhlIHZhbHVlIG9mIHRoZSBzZXNzaW9uJ3MgbmFtZSBmcm9tIHRo
ZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBkZWZpbmUgaW4gSk5ESSAiamF2YTpjb21wL2VudiIuDQor
ICAgICAqKi8NCisgICAgcHVibGljIGZpbmFsIFN0cmluZyBUT1BMSU5LX1NFU1NJT05fTkFNRSA9
ICJ0bF9zZXNzaW9uX25hbWVfZm9yX21kYiI7DQorICAgIE1lc3NhZ2VEcml2ZW5Db250ZXh0IG1k
YkN0eDsNCisNCisgICAgcHVibGljIENsdXN0ZXJpbmdNREIoKSB7DQorICAgIH0NCisNCisgICAg
LyogTURCIHNwZWNpZmljIG1ldGhvZCAqLw0KKyAgICBwdWJsaWMgdm9pZCBzZXRNZXNzYWdlRHJp
dmVuQ29udGV4dChNZXNzYWdlRHJpdmVuQ29udGV4dCBjdHgpIHsNCisgICAgICAgIG1kYkN0eCA9
IGN0eDsNCisgICAgfQ0KKw0KKyAgICAvKiBNREIgc3BlY2lmaWMgbWV0aG9kICovDQorICAgIHB1
YmxpYyB2b2lkIGVqYkNyZWF0ZSgpIHsNCisgICAgICAgIGNvbm5lY3Rpb24gPSBuZXcgSk1TVG9w
aWNSZW1vdGVDb25uZWN0aW9uKChSZW1vdGVDb21tYW5kTWFuYWdlcilnZXRTZXNzaW9uKCkuZ2V0
Q29tbWFuZE1hbmFnZXIoKSk7DQorICAgIH0NCisNCisgICAgLyogTURCIHNwZWNpZmljIG1ldGhv
ZCAqLw0KKyAgICBwdWJsaWMgdm9pZCBlamJSZW1vdmUoKSB7DQorICAgICAgICBjb25uZWN0aW9u
ID0gbnVsbDsNCisgICAgfQ0KKw0KKyAgICAvKioNCisgICAgICogUFVCTElDOg0KKyAgICAgKiBS
ZXR1cm4gdGhlIFRvcExpbmsgc2Vzc2lvbiB0aGF0IGhhcyB0aGUgc2Vzc2lvbidzIG5hbWUgY29u
ZmlndXJlZCBhcyBhbiBlbnYtZW50cnkgZWxlbWVudCBpbiB0aGUgZWpiLWphci54bWwuDQorICAg
ICAqIFVzZXIgY2FuIHN1YmNsYXNzIGFuZCBvdmVyd3JpdGUgdGhpcyBtZXRob2QgdG8gb2J0YWlu
IHRoZSBzZXNzaW9uIGRpZmZlcmVudGx5Lg0KKyAgICAgKg0KKyAgICAgKiBAZXhjZXB0aW9uIG9y
Zy5lY2xpcHNlLnBlcnNpc3RlbmNlLmV4Y2VwdGlvbnMuSk1TUHJvY2Vzc2luZ0V4Y2VwdGlvbiBp
ZiBpdCBpcyB1bmFibGUgdG8gbG9va3VwIHRoZSBzZXNzaW9uJ3MgbmFtZSBvciB0aGUgc2Vzc2lv
biBpcyBudWxsDQorICAgICAqLw0KKyAgICBwdWJsaWMgQWJzdHJhY3RTZXNzaW9uIGdldFNlc3Np
b24oKSB7DQorICAgICAgICBBYnN0cmFjdFNlc3Npb24gc2Vzc2lvbjsNCisgICAgICAgIHRyeSB7
DQorICAgICAgICAgICAgQ29udGV4dCBpbml0Q3R4ID0gbmV3IEluaXRpYWxDb250ZXh0KCk7DQor
ICAgICAgICAgICAgQ29udGV4dCBteUVudiA9IChDb250ZXh0KSBpbml0Q3R4Lmxvb2t1cCgiamF2
YTpjb21wL2VudiIpOw0KKw0KKyAgICAgICAgICAgIC8vIE9idGFpbiB0aGUgc2Vzc2lvbiBuYW1l
IGNvbmZpZ3VyZWQgYnkgdGhlIERlcGxveWVyLg0KKyAgICAgICAgICAgIFN0cmluZyBzZXNzaW9u
TmFtZSA9IChTdHJpbmcpIG15RW52Lmxvb2t1cChUT1BMSU5LX1NFU1NJT05fTkFNRSk7DQorICAg
ICAgICAgICAgc2Vzc2lvbiA9IFNlc3Npb25NYW5hZ2VyLmdldE1hbmFnZXIoKS5nZXRTZXNzaW9u
KHNlc3Npb25OYW1lKTsNCisgICAgICAgIH0gY2F0Y2ggKE5hbWluZ0V4Y2VwdGlvbiBlKSB7DQor
ICAgICAgICAgICAgLy9SZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbi5lcnJvckNyZWF0aW5n
Sk1TQ29ubmVjdGlvbih0b3BpY05hbWUsIHRvcGljRmFjdG9yeSwgY29udGV4dFByb3BlcnRpZXMs
IGludGVybmFsRXgpDQorICAgICAgICAgICAgdGhyb3cgUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNl
cHRpb24uZXJyb3JMb29rdXBTZXNzaW9uTmFtZUluQ3R4KGUpOw0KKyAgICAgICAgfQ0KKyAgICAg
ICAgaWYgKHNlc3Npb24gPT0gbnVsbCkgew0KKyAgICAgICAgICAgIHRocm93IFJlbW90ZUNvbW1h
bmRNYW5hZ2VyRXhjZXB0aW9uLm1kYkZvdW5kTm9TZXNzaW9uKCk7DQorICAgICAgICB9DQorICAg
ICAgICByZXR1cm4gc2Vzc2lvbjsNCisgICAgfQ0KKw0KKyAgICAvKiBNREIgc3BlY2lmaWMgbWV0
aG9kICovDQorICAgIHB1YmxpYyB2b2lkIG9uTWVzc2FnZShqYXZheC5qbXMuTWVzc2FnZSBtZXNz
YWdlKSB7DQorICAgICAgICAvLyBEZWxlZ2F0ZSB0aGUgcmVjZWl2ZWQgbWVzc2FnZSB0byBSRU1P
VkVfTWVzc2FnZUxpc3RlbmVyIGZvciBwcm9jZXNzaW5nDQorICAgICAgICBjb25uZWN0aW9uLm9u
TWVzc2FnZShtZXNzYWdlKTsNCisgICAgfQ0KK30NCisNCkluZGV4OiBzcmMvb3JnL2VjbGlwc2Uv
cGVyc2lzdGVuY2Uvc2Vzc2lvbnMvY29vcmRpbmF0aW9uL2ptcy9tZGIvQ2x1c3RlcmluZ01EQi5q
YXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09DQotLS0gc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL3Nlc3Npb25z
L2Nvb3JkaW5hdGlvbi9qbXMvbWRiL0NsdXN0ZXJpbmdNREIuamF2YQkocmV2aXNpb24gMCkNCisr
KyBzcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uvc2Vzc2lvbnMvY29vcmRpbmF0aW9uL2ptcy9t
ZGIvQ2x1c3RlcmluZ01EQi5qYXZhCShyZXZpc2lvbiAwKQ0KQEAgLTAsMCArMSwxMDAgQEANCisv
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMTk5OCwgMjAwNyBPcmFj
bGUuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQorICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21w
YW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlDQorICogdGVybXMg
b2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMCwgd2hpY2ggYWNjb21wYW5pZXMgdGhp
cyBkaXN0cmlidXRpb24NCisgKiBhbmQgaXMgYXZhaWxhYmxlIGF0IGh0dHA6Ly93d3cuZWNsaXBz
ZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sLg0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAg
ICBPcmFjbGUgLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24gZnJvbSBPcmFjbGUgVG9w
TGluaw0KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKiovICANCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBl
cnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5qbXMubWRiOw0KKw0KKy8qaW1wb3J0IG9y
Zy5lY2xpcHNlLnBlcnNpc3RlbmNlLmV4Y2VwdGlvbnMuSk1TUHJvY2Vzc2luZ0V4Y2VwdGlvbjsN
CitpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMucmVtb3RlLmptcy5SRU1P
VkVfTWVzc2FnZUxpc3RlbmVyOyovDQorLy9pbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uu
c2Vzc2lvbnMuU2Vzc2lvbjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lv
bnMuZmFjdG9yaWVzLlNlc3Npb25NYW5hZ2VyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0
ZW5jZS5leGNlcHRpb25zLlJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24uUmVtb3RlQ29tbWFu
ZE1hbmFnZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmludGVybmFsLnNlc3Np
b25zLmNvb3JkaW5hdGlvbi5qbXMuSk1TVG9waWNSZW1vdGVDb25uZWN0aW9uOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5hbC5zZXNzaW9ucy5BYnN0cmFjdFNlc3Npb247
DQorDQorDQoraW1wb3J0IGphdmF4LmVqYi5NZXNzYWdlRHJpdmVuQmVhbjsNCitpbXBvcnQgamF2
YXguZWpiLk1lc3NhZ2VEcml2ZW5Db250ZXh0Ow0KK2ltcG9ydCBqYXZheC5qbXMuKjsNCitpbXBv
cnQgamF2YXgubmFtaW5nLio7DQorDQorDQorLyoqDQorICogPHA+DQorICogPGI+UHVycG9zZTwv
Yj46IFRvIHByb3ZpZGUgYSByZWZlcmVuY2UgaW1wbGVtZW50YXRpb24gZm9yIE1lc3NhZ2UgRHJp
dmVuIEJlYW4gdGhhdCBjYW4gbGlzdGVuIGFuZCBwcm9jZXNzIFRvcExpbmsgbWVzc2FnZXMuIA0K
KyAqIDxwPg0KKyAqIDxiPkRlc2NyaXB0b248L2I+OiBUaGUgTWVzc2FnZSBEcml2ZW4gQmVhbiAo
TURCKSBtdXN0IGJlIGRlcGxveWVkIGFsb25nIHdpdGggVG9wTGluayBhcHBsaWNhdGlvbiBhbmQg
Y29uZmlndXJlZCB0byBsaXN0ZW5lciB0aGUgdGhlIHNhbWUNCisgKiAgZGVzdGluYXRpb24gdGhh
dCBjbHVzdGVyaW5nIHNlcnZpY2VzIHNlbmQgdGhlaXIgY2FjaGUgc3luYyBtZXNzYWdlcyB0by4g
IFVzZXIgbXVzdCBkZWZpbmVzIGFuIGVudmlyb25tZW50IHZhcmlhYmxlIG5hbWVkIHdpdGggdGhl
IHZhbHVlIG9mDQorICogIENsdXN0ZXJpbmdNREIuVE9QTElOS19TRVNTSU9OX05BTUUuICBUaGlz
IGVudmlyb25tZW50IHZhcmlhYmxlIHZhbHVlIGlzIHNlc3Npb24gbmFtZSAgdXNlZCBieSBUb3BM
aW5rIHRvIGxvYWQgdGhlIGNvc3Jlc3BvbmRpbmcgc2Vzc2lvbg0KKyAqICBmcm9tIHRoZSBzZXNz
aW9ucy54bWwgd2hlbiB0aGUgTURCIGlzIGNyZWF0ZWQuDQorICoNCisgKiBAc2VlIG9yZy5lY2xp
cHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLnJlbW90ZS5DYWNoZVN5bmNocm9uaXphdGlvbk1hbmFn
ZXINCisgKi8NCitwdWJsaWMgY2xhc3MgQ2x1c3RlcmluZ01EQiBpbXBsZW1lbnRzIE1lc3NhZ2VE
cml2ZW5CZWFuLCBNZXNzYWdlTGlzdGVuZXIgew0KKyAgICAvL3Byb3RlY3RlZCBSRU1PVkVfTWVz
c2FnZUxpc3RlbmVyIHRsTWVzc2FnZUxpc3RlbmVyOw0KKyAgICBwcm90ZWN0ZWQgSk1TVG9waWNS
ZW1vdGVDb25uZWN0aW9uIGNvbm5lY3Rpb247DQorDQorICAgIC8qKg0KKyAgICAgKiBUaGlzIHZh
bHVlIGlzIHRoZSBlbnYtZW50cnktbmFtZSBlbGVtZW50IG9mIHRoZSBNZXNzYWdlIERyaXZlbiBC
ZWFuIGNvbmZpZ3VyZWQgaW4gdGhlIGVqYi1qYXIueG1sLg0KKyAgICAgKiBUaGUgdmFsdWUgaXMg
dXNlZCB0byBsb29rdXAgdGhlIHZhbHVlIG9mIHRoZSBzZXNzaW9uJ3MgbmFtZSBmcm9tIHRoZSBl
bnZpcm9ubWVudCB2YXJpYWJsZSBkZWZpbmUgaW4gSk5ESSAiamF2YTpjb21wL2VudiIuDQorICAg
ICAqKi8NCisgICAgcHVibGljIGZpbmFsIFN0cmluZyBUT1BMSU5LX1NFU1NJT05fTkFNRSA9ICJ0
bF9zZXNzaW9uX25hbWVfZm9yX21kYiI7DQorICAgIE1lc3NhZ2VEcml2ZW5Db250ZXh0IG1kYkN0
eDsNCisNCisgICAgcHVibGljIENsdXN0ZXJpbmdNREIoKSB7DQorICAgIH0NCisNCisgICAgLyog
TURCIHNwZWNpZmljIG1ldGhvZCAqLw0KKyAgICBwdWJsaWMgdm9pZCBzZXRNZXNzYWdlRHJpdmVu
Q29udGV4dChNZXNzYWdlRHJpdmVuQ29udGV4dCBjdHgpIHsNCisgICAgICAgIG1kYkN0eCA9IGN0
eDsNCisgICAgfQ0KKw0KKyAgICAvKiBNREIgc3BlY2lmaWMgbWV0aG9kICovDQorICAgIHB1Ymxp
YyB2b2lkIGVqYkNyZWF0ZSgpIHsNCisgICAgICAgIGNvbm5lY3Rpb24gPSBuZXcgSk1TVG9waWNS
ZW1vdGVDb25uZWN0aW9uKChSZW1vdGVDb21tYW5kTWFuYWdlcilnZXRTZXNzaW9uKCkuZ2V0Q29t
bWFuZE1hbmFnZXIoKSk7DQorICAgIH0NCisNCisgICAgLyogTURCIHNwZWNpZmljIG1ldGhvZCAq
Lw0KKyAgICBwdWJsaWMgdm9pZCBlamJSZW1vdmUoKSB7DQorICAgICAgICBjb25uZWN0aW9uID0g
bnVsbDsNCisgICAgfQ0KKw0KKyAgICAvKioNCisgICAgICogUFVCTElDOg0KKyAgICAgKiBSZXR1
cm4gdGhlIFRvcExpbmsgc2Vzc2lvbiB0aGF0IGhhcyB0aGUgc2Vzc2lvbidzIG5hbWUgY29uZmln
dXJlZCBhcyBhbiBlbnYtZW50cnkgZWxlbWVudCBpbiB0aGUgZWpiLWphci54bWwuDQorICAgICAq
IFVzZXIgY2FuIHN1YmNsYXNzIGFuZCBvdmVyd3JpdGUgdGhpcyBtZXRob2QgdG8gb2J0YWluIHRo
ZSBzZXNzaW9uIGRpZmZlcmVudGx5Lg0KKyAgICAgKg0KKyAgICAgKiBAZXhjZXB0aW9uIG9yZy5l
Y2xpcHNlLnBlcnNpc3RlbmNlLmV4Y2VwdGlvbnMuSk1TUHJvY2Vzc2luZ0V4Y2VwdGlvbiBpZiBp
dCBpcyB1bmFibGUgdG8gbG9va3VwIHRoZSBzZXNzaW9uJ3MgbmFtZSBvciB0aGUgc2Vzc2lvbiBp
cyBudWxsDQorICAgICAqLw0KKyAgICBwdWJsaWMgQWJzdHJhY3RTZXNzaW9uIGdldFNlc3Npb24o
KSB7DQorICAgICAgICBBYnN0cmFjdFNlc3Npb24gc2Vzc2lvbjsNCisgICAgICAgIHRyeSB7DQor
ICAgICAgICAgICAgQ29udGV4dCBpbml0Q3R4ID0gbmV3IEluaXRpYWxDb250ZXh0KCk7DQorICAg
ICAgICAgICAgQ29udGV4dCBteUVudiA9IChDb250ZXh0KSBpbml0Q3R4Lmxvb2t1cCgiamF2YTpj
b21wL2VudiIpOw0KKw0KKyAgICAgICAgICAgIC8vIE9idGFpbiB0aGUgc2Vzc2lvbiBuYW1lIGNv
bmZpZ3VyZWQgYnkgdGhlIERlcGxveWVyLg0KKyAgICAgICAgICAgIFN0cmluZyBzZXNzaW9uTmFt
ZSA9IChTdHJpbmcpIG15RW52Lmxvb2t1cChUT1BMSU5LX1NFU1NJT05fTkFNRSk7DQorICAgICAg
ICAgICAgc2Vzc2lvbiA9IFNlc3Npb25NYW5hZ2VyLmdldE1hbmFnZXIoKS5nZXRTZXNzaW9uKHNl
c3Npb25OYW1lKTsNCisgICAgICAgIH0gY2F0Y2ggKE5hbWluZ0V4Y2VwdGlvbiBlKSB7DQorICAg
ICAgICAgICAgLy9SZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbi5lcnJvckNyZWF0aW5nSk1T
Q29ubmVjdGlvbih0b3BpY05hbWUsIHRvcGljRmFjdG9yeSwgY29udGV4dFByb3BlcnRpZXMsIGlu
dGVybmFsRXgpDQorICAgICAgICAgICAgdGhyb3cgUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRp
b24uZXJyb3JMb29rdXBTZXNzaW9uTmFtZUluQ3R4KGUpOw0KKyAgICAgICAgfQ0KKyAgICAgICAg
aWYgKHNlc3Npb24gPT0gbnVsbCkgew0KKyAgICAgICAgICAgIHRocm93IFJlbW90ZUNvbW1hbmRN
YW5hZ2VyRXhjZXB0aW9uLm1kYkZvdW5kTm9TZXNzaW9uKCk7DQorICAgICAgICB9DQorICAgICAg
ICByZXR1cm4gc2Vzc2lvbjsNCisgICAgfQ0KKw0KKyAgICAvKiBNREIgc3BlY2lmaWMgbWV0aG9k
ICovDQorICAgIHB1YmxpYyB2b2lkIG9uTWVzc2FnZShqYXZheC5qbXMuTWVzc2FnZSBtZXNzYWdl
KSB7DQorICAgICAgICAvLyBEZWxlZ2F0ZSB0aGUgcmVjZWl2ZWQgbWVzc2FnZSB0byBSRU1PVkVf
TWVzc2FnZUxpc3RlbmVyIGZvciBwcm9jZXNzaW5nDQorICAgICAgICBjb25uZWN0aW9uLm9uTWVz
c2FnZShtZXNzYWdlKTsNCisgICAgfQ0KK30NCisNCg==
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>158088</attachid>
            <date>2010-02-03 14:16:00 -0500</date>
            <delta_ts>2010-02-04 15:12:05 -0500</delta_ts>
            <desc>proposed patch v2</desc>
            <filename>214534_v2.patch</filename>
            <type>text/plain</type>
            <size>49225</size>
            <attacher name="Chris Delahunt">christopher.delahunt</attacher>
            
              <data encoding="base64">SW5kZXg6IGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2Vj
bGlwc2UvcGVyc2lzdGVuY2UvZXhjZXB0aW9ucy9pMThuL1JlbW90ZUNvbW1hbmRNYW5hZ2VyRXhj
ZXB0aW9uUmVzb3VyY2UuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0tIGZvdW5kYXRpb24vb3JnLmVjbGlw
c2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvZXhjZXB0aW9u
cy9pMThuL1JlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uUmVzb3VyY2UuamF2YQkocmV2aXNp
b24gNjQ2MikNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3Jj
L29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2V4Y2VwdGlvbnMvaTE4bi9SZW1vdGVDb21tYW5kTWFu
YWdlckV4Y2VwdGlvblJlc291cmNlLmphdmEJKHdvcmtpbmcgY29weSkNCkBAIC0yOCwxOCArMjgs
MTcgQEANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAiMjIx
MDQiLCAiQ291bGQgbm90IGxvb2sgdXAgaG9zdG5hbWUiIH0sDQogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHsgIjIyMTA1IiwgIkNvdWxkIG5vdCBwcm9wYWdhdGUg
Y29tbWFuZCB0byB7MH0iIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHsgIjIyMTA2IiwgIkNvdWxkIG5vdCBjcmVhdGUgZXh0ZXJuYWwgSk1TIGNvbm5lY3Rp
b24gd2l0aCBUb3BpYyB7MH0sIFRvcGljIEZhY3RvcnkgezF9LCBhbmQgQ29udGV4dCBwcm9wZXJ0
aWVzIHsyfSIgfSwNCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
eyAiMjIxMDciLCAiQ291bGQgbm90IHJlbW92ZSBsb2NhbCBjb25uZWN0aW9uIGluIGxvY2FsIG5h
bWluZyBzZXJ2aWNlIHVuZGVyIG5hbWUgezB9IiB9LA0KLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICANCi0gICAgeyAiMjIxMDgiLCAiQ291bGQgbm90IHNlcmlhbGl6
ZSBvciBkZXNpcmFsaXplIGNvbW1hbmQiIH0sDQotICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIA0KLSAgICB7ICIyMjEwOSIsICJGYWlsZWQgdG8gcmVjZWl2ZSBKTVMg
bWVzc2FnZSBmcm9tIEpNUyBwcm92aWRlciIgfSwNCisgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgeyAiMjIxMDciLCAiQ291bGQgbm90IHJlbW92ZSBsb2NhbCBjb25u
ZWN0aW9uIGluIGxvY2FsIG5hbWluZyBzZXJ2aWNlIHVuZGVyIG5hbWUgezB9IiB9LCAgICAgICAg
ICAgICANCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAiMjIx
MDgiLCAiQ291bGQgbm90IHNlcmlhbGl6ZSBvciBkZXNpcmFsaXplIGNvbW1hbmQiIH0sDQorICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgIjIyMTA5IiwgIkZhaWxl
ZCB0byByZWNlaXZlIEpNUyBtZXNzYWdlIGZyb20gSk1TIHByb3ZpZGVyIiB9LA0KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ICIyMjExMCIsICJGYWlsZWQgdG8g
ZGlzY292ZXIgbG9jYWwgaG9zdCBJUCBhZGRyZXNzLiIgfSwNCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgeyAiMjIxMTEiLCAiRmFpbGVkIHRvIGdldCBTZXJ2ZXJQ
bGF0Zm9ybS4gVGhlIFNlcnZlclBsYXRmb3JtIG11c3QgYmUgc2V0IGVpdGhlciBvbiBTZXNzaW9u
IG9yIFJlbW90ZUNvbW1hbmRNYW5hZ2VyLiIgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgeyAiMjIxMTIiLCAiQ291bGQgbm90IGNyZWF0ZSBsb2NhbCBKTVMg
Y29ubmVjdGlvbiB3aXRoIFRvcGljIHswfSwgVG9waWMgRmFjdG9yeSB7MX0sIGFuZCBDb250ZXh0
IHByb3BlcnRpZXMgezJ9IiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICB7ICIyMjExMyIsICJDb3VsZCBub3QgY3JlYXRlIE9jNGpKR3JvdXBzUmVtb3RlQ29u
bmVjdGlvbiBzZXJ2aWNlIElEIHswfSwgdG9waWMgezF9LCB1c2luZyBmYWN0b3J5IHsyfSBhbmQg
Q29udGV4dCBwcm9wZXJ0aWVzIHszfS4iIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHsgIjIyMTE0IiwgInswfTogZmFpbGVkIHRvIGRlc2VyaWFsaXplIHJl
dHJpZXZlZCBtZXNzYWdlIHsxfS4iIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHsgIjIyMTE1IiwgInswfTogZmFpbGVkIHRvIHByb2Nlc3MgcmVtb3RlIGNv
bW1hbmQgcmV0cmlldmVkIGZyb20gbWVzc2FnZSB7MX0sIGZyb20gezJ9LCBjb21tYW5kIHR5cGUg
ezN9IiB9LA0KLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ICIy
MjExNiIsICJSZWNlaXZlZCBKTVMgbWVzc2FnZSBpcyBudWxsLiBUcmVhdGluZyBpdCBhcyBhIEpN
U0V4Y2VwdGlvbiIgfQ0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICB7ICIyMjExNiIsICJSZWNlaXZlZCBKTVMgbWVzc2FnZSBpcyBudWxsLiBUcmVhdGluZyBpdCBh
cyBhIEpNU0V4Y2VwdGlvbiIgfSwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgeyAiMjIxMTciLCAiU2Vzc2lvbidzIFJlbW90ZUNvbW1hbmRNYW5hZ2VyIGlzIGNs
b3NlZCBvciBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQgd2hpbGUgcHJvY2Vzc2luZyBpbmNvbWlu
ZyBtZXNzYWdlcyIgfQ0KICAgICB9Ow0KIA0KICAgICAvKioNCkluZGV4OiBmb3VuZGF0aW9uL29y
Zy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2V4
Y2VwdGlvbnMvUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24uamF2YQ0KPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0K
LS0tIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlw
c2UvcGVyc2lzdGVuY2UvZXhjZXB0aW9ucy9SZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbi5q
YXZhCShyZXZpc2lvbiA2NDYyKQ0KKysrIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVu
Y2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvZXhjZXB0aW9ucy9SZW1vdGVDb21t
YW5kTWFuYWdlckV4Y2VwdGlvbi5qYXZhCSh3b3JraW5nIGNvcHkpDQpAQCAtNTAsNiArNTAsOCBA
QA0KICAgICANCiAgICAgLy8gSk1TDQogICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IEVSUk9S
X1JFQ0VJVkVEX0pNU19NRVNTQUdFX0lTX05VTEwgPSAyMjExNjsNCisgICAgLy9KTVMgUFVCTElT
SElORyANCisgICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgUkNNX1VOSU5JVElBTElaRURfT1Jf
Q0xPU0VEID0gMjIxMTc7DQogDQogICAgIHB1YmxpYyBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2Vw
dGlvbigpIHsNCiAgICAgICAgIHN1cGVyKCk7DQpAQCAtMjE5LDQgKzIyMSwxMSBAQA0KICAgICAg
ICAgZXguc2V0RXJyb3JDb2RlKEVSUk9SX1JFQ0VJVkVEX0pNU19NRVNTQUdFX0lTX05VTEwpOw0K
ICAgICAgICAgcmV0dXJuIGV4Ow0KICAgICB9DQorICAgIA0KKyAgICBwdWJsaWMgc3RhdGljIFJl
bW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uIHJlbW90ZUNvbW1hbmRNYW5hZ2VySXNDbG9zZWQo
KSB7ICANCisgICAgICAgIE9iamVjdFtdIGFyZ3MgPSB7IH07ICANCisgICAgICAgIFJlbW90ZUNv
bW1hbmRNYW5hZ2VyRXhjZXB0aW9uIGV4ID0gbmV3IFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0
aW9uKEV4Y2VwdGlvbk1lc3NhZ2VHZW5lcmF0b3IuYnVpbGRNZXNzYWdlKFJlbW90ZUNvbW1hbmRN
YW5hZ2VyRXhjZXB0aW9uLmNsYXNzLFJDTV9VTklOSVRJQUxJWkVEX09SX0NMT1NFRCxhcmdzKSk7
ICANCisgICAgICAgIGV4LnNldEVycm9yQ29kZShSQ01fVU5JTklUSUFMSVpFRF9PUl9DTE9TRUQp
Ow0KKyAgICAgICAgcmV0dXJuIGV4OyAgDQorICAgIH0NCiB9DQpJbmRleDogZm91bmRhdGlvbi9v
cmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9p
bnRlcm5hbC9zZXNzaW9ucy9jb29yZGluYXRpb24vYnJvYWRjYXN0L0Jyb2FkY2FzdFJlbW90ZUNv
bm5lY3Rpb24uamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0tIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVy
c2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vzc2lv
bnMvY29vcmRpbmF0aW9uL2Jyb2FkY2FzdC9Ccm9hZGNhc3RSZW1vdGVDb25uZWN0aW9uLmphdmEJ
KHJldmlzaW9uIDY0NjIpDQorKysgZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5j
b3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9pbnRlcm5hbC9zZXNzaW9ucy9jb29yZGlu
YXRpb24vYnJvYWRjYXN0L0Jyb2FkY2FzdFJlbW90ZUNvbm5lY3Rpb24uamF2YQkod29ya2luZyBj
b3B5KQ0KQEAgLTc0LDcgKzc0LDcgQEANCiAgICAgICAgICAgICAgICAgLy8gVGhpcyBtZXRob2Qg
Y2F0Y2hlcyBDb21tdW5pY2F0aW9uRXhjZXB0aW9uIGFuZCBwcm9jZXNzZXMgaXQgaW4gaGFuZGxl
Q29tbXVuaWNhdGlvbkV4Y2VwdGlvbiBtZXRob2QuDQogICAgICAgICAgICAgICAgIC8vIFRoZSBs
YXR0ZXIgbWV0aG9kLCBpbiBjYXNlIHNob3VsZFJlbW92ZUNvbm5lY3Rpb25PbkVycm9yPT10cnVl
LCByZW1vdmVzIHRoZSBjb25uZWN0aW9uOw0KICAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2Ug
aXQgd3JhcHMgdGhlIENvbW11bmljYXRpb25FeGNlcHRpb24gaW50byBSZW1vdGVDb21tYW5kTWFu
YWdlckV4Y2VwdGlvbg0KLSAgICAgICAgICAgICAgICAvLyAod2l0aCBlcnJvQ29kZSBSZW1vdGVD
b21tYW5kTWFuYWdlckV4Y2VwdGlvbi5FUlJPUl9QUk9QQUdBVElOR19DT01NQU5EKQ0KKyAgICAg
ICAgICAgICAgICAvLyAod2l0aCBlcnJvckNvZGUgUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRp
b24uRVJST1JfUFJPUEFHQVRJTkdfQ09NTUFORCkNCiAgICAgICAgICAgICAgICAgLy8gYW5kIGdp
dmVzIHRoZSB1c2UgYSBjaGFuY2UgdG8gaGFuZGxlIGl0IC0gdGhpcyBpcyBhbiBvcHBvcnR1bml0
eSBmb3IgdGhlIHVzZXIgdG8NCiAgICAgICAgICAgICAgICAgLy8gc3RvcCByZW1vdGUgY29tbWFu
ZCBwcm9jZXNzaW5nLg0KICAgICAgICAgICAgICAgICB0aHJvdyBDb21tdW5pY2F0aW9uRXhjZXB0
aW9uLmVycm9yU2VuZGluZ01lc3NhZ2UoZ2V0U2VydmljZUlkKCkuZ2V0SWQoKSwgZXhjZXB0aW9u
KTsNCkluZGV4OiBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29y
Zy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2Nvb3JkaW5hdGlvbi9qbXMv
Sk1TVG9waWNSZW1vdGVDb25uZWN0aW9uLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tLSBmb3VuZGF0aW9u
L29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNl
L2ludGVybmFsL3Nlc3Npb25zL2Nvb3JkaW5hdGlvbi9qbXMvSk1TVG9waWNSZW1vdGVDb25uZWN0
aW9uLmphdmEJKHJldmlzaW9uIDY0NjIpDQorKysgZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJz
aXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9pbnRlcm5hbC9zZXNzaW9u
cy9jb29yZGluYXRpb24vam1zL0pNU1RvcGljUmVtb3RlQ29ubmVjdGlvbi5qYXZhCSh3b3JraW5n
IGNvcHkpDQpAQCAtNTMsNyArNTMsNiBAQA0KICAgICBwcm90ZWN0ZWQgVG9waWNDb25uZWN0aW9u
IHRvcGljQ29ubmVjdGlvbjsNCiAgICAgcHJvdGVjdGVkIFRvcGljIHRvcGljOw0KICAgICBwcm90
ZWN0ZWQgVG9waWNTZXNzaW9uIHRvcGljU2Vzc2lvbjsNCi0gICAgcHJvdGVjdGVkIFRvcGljUHVi
bGlzaGVyIHB1Ymxpc2hlcjsNCiAgICAgcHJvdGVjdGVkIFRvcGljU3Vic2NyaWJlciBzdWJzY3Jp
YmVyOw0KICAgICAvLyBpbmRpY2F0ZXMgd2hldGhlciBpdCdzIGEgbG9jYWwgY29ubmVjdGlvbi4N
CiAgICAgcHJvdGVjdGVkIGJvb2xlYW4gaXNMb2NhbDsNCkBAIC02NSw2ICs2NCwxMiBAQA0KICAg
ICAvLyBVc2VyIGNhbiBhdm9pZCB0aGUgd2FpdCBieSBoYW5kbGluZyBFUlJPUl9SRUNFSVZJTkdf
Sk1TX01FU1NBR0UgZXhjZXB0aW9uLg0KICAgICBwdWJsaWMgc3RhdGljIGxvbmcgV0FJVF9PTl9F
UlJPUl9SRUNFSVZJTkdfSk1TX01FU1NBR0UgPSAxMDAwMDsNCiANCisgICAgLyoqDQorICAgICAq
IElOVEVSTkFMOg0KKyAgICAgKiBDb25zdHJ1Y3RvciBjcmVhdGluZyBlaXRoZXIgYSBsb2NhbCBv
ciBleHRlcm5hbCBjb25uZWN0aW9uLiAgTG9jYWwgY29ubmVjdGlvbnMgY3JlYXRlZCB0aGlzIHdh
eSBjb25uZWN0IHRvIHRoZSB0b3BpY1Nlc3Npb24gYW5kIGNhY2hlDQorICAgICAqIHRoZSBzZXNz
aW9uIGFuZCBzdWJzY3JpYmVyLiAgRXh0ZXJuYWwgY29ubmVjdGlvbnMgY2FjaGUgb25seSB0aGUg
dG9waWNDb25uZWN0aW9uIGFuZCB3aWxsIG9idGFpbiB0aGUgc2Vzc2lvbi9wdWJsaXNoZXIgd2hl
biBuZWVkZWQuDQorICAgICAqIEBwYXJhbSByY20NCisgICAgICovDQogICAgIHB1YmxpYyBKTVNU
b3BpY1JlbW90ZUNvbm5lY3Rpb24oUmVtb3RlQ29tbWFuZE1hbmFnZXIgcmNtLCBUb3BpY0Nvbm5l
Y3Rpb24gdG9waWNDb25uZWN0aW9uLCBUb3BpYyB0b3BpYywgYm9vbGVhbiBpc0xvY2FsQ29ubmVj
dGlvbkJlaW5nQ3JlYXRlZCkgdGhyb3dzIEpNU0V4Y2VwdGlvbiB7DQogICAgICAgICBzdXBlcihy
Y20pOw0KICAgICAgICAgdGhpcy50b3BpY0Nvbm5lY3Rpb24gPSB0b3BpY0Nvbm5lY3Rpb247DQpA
QCAtNzIsMjQgKzc3LDMxIEBADQogICAgICAgICB0aGlzLmlzTG9jYWwgPSBpc0xvY2FsQ29ubmVj
dGlvbkJlaW5nQ3JlYXRlZDsNCiAgICAgICAgIHJjbS5sb2dEZWJ1ZygiY3JlYXRpbmdfYnJvYWRj
YXN0X2Nvbm5lY3Rpb24iLCBnZXRJbmZvKCkpOw0KICAgICAgICAgdHJ5IHsNCi0gICAgICAgICAg
ICB0aGlzLnRvcGljU2Vzc2lvbiA9IHRvcGljQ29ubmVjdGlvbi5jcmVhdGVUb3BpY1Nlc3Npb24o
ZmFsc2UsIGphdmF4Lmptcy5TZXNzaW9uLkFVVE9fQUNLTk9XTEVER0UpOw0KICAgICAgICAgICAg
IGlmKGlzTG9jYWxDb25uZWN0aW9uQmVpbmdDcmVhdGVkKSB7DQogICAgICAgICAgICAgICAgIC8v
IGl0J3MgYSBsb2NhbCBjb25uZWN0aW9uDQorICAgICAgICAgICAgICAgIHRoaXMudG9waWNTZXNz
aW9uID0gdG9waWNDb25uZWN0aW9uLmNyZWF0ZVRvcGljU2Vzc2lvbihmYWxzZSwgamF2YXguam1z
LlNlc3Npb24uQVVUT19BQ0tOT1dMRURHRSk7DQogICAgICAgICAgICAgICAgIHRoaXMuc3Vic2Ny
aWJlciA9IHRvcGljU2Vzc2lvbi5jcmVhdGVTdWJzY3JpYmVyKHRvcGljKTsNCiAgICAgICAgICAg
ICAgICAgdGhpcy50b3BpY0Nvbm5lY3Rpb24uc3RhcnQoKTsNCiAgICAgICAgICAgICAgICAgcmNt
LmxvZ0RlYnVnKCJicm9hZGNhc3RfY29ubmVjdGlvbl9jcmVhdGVkIiwgZ2V0SW5mbygpKTsNCiAg
ICAgICAgICAgICAgICAgcmNtLmdldFNlcnZlclBsYXRmb3JtKCkubGF1bmNoQ29udGFpbmVyUnVu
bmFibGUodGhpcyk7DQotICAgICAgICAgICAgfSBlbHNlIHsNCi0gICAgICAgICAgICAgICAgLy8g
aXQncyBhbiBleHRlcm5hbCBjb25uZWN0aW9uDQotICAgICAgICAgICAgICAgIHRoaXMucHVibGlz
aGVyID0gdG9waWNTZXNzaW9uLmNyZWF0ZVB1Ymxpc2hlcih0b3BpYyk7DQotICAgICAgICAgICAg
ICAgIHJjbS5sb2dEZWJ1ZygiYnJvYWRjYXN0X2Nvbm5lY3Rpb25fY3JlYXRlZCIsIGdldEluZm8o
KSk7DQotICAgICAgICAgICAgfQ0KKyAgICAgICAgICAgIH0gLy9lbHNlIGJ1ZzIxNDUzNDogaXQn
cyBhbiBleHRlcm5hbCBjb25uZWN0aW9uLCB3aXRoIHNlc3Npb25zIGFuZCBwdWJsaXNoZXJzIGNy
ZWF0ZWQgYXMgbmVlZGVkIA0KICAgICAgICAgfSBjYXRjaCAoSk1TRXhjZXB0aW9uIGV4KSB7DQog
ICAgICAgICAgICAgcmNtLmxvZ0RlYnVnKCJmYWlsZWRfdG9fY3JlYXRlX2Jyb2FkY2FzdF9jb25u
ZWN0aW9uIiwgZ2V0SW5mbygpKTsNCiAgICAgICAgICAgICBjbG9zZSgpOw0KICAgICAgICAgICAg
IHRocm93IGV4Ow0KICAgICAgICAgfQ0KICAgICB9DQorICAgIA0KKyAgICAvKioNCisgICAgICog
Q3JlYXRlcyBsb2NhbCBjb25uZWN0aW9ucyB0aGF0IGRvIG5vdCB1c2UgYSBUb3BpY0Nvbm5lY3Rp
b24gb3IgVG9waWNTZXNzaW9uLA0KKyAgICAgKiB1c2VmdWwgb25seSBmb3IgcHJvY2Vzc2luZyBh
bHJlYWR5IHJlY2VpdmVkIEpNUyBtZXNzYWdlcw0KKyAgICAgKiBAcGFyYW0gcmNtDQorICAgICAq
IEBzZWUgb25NZXNzYWdlDQorICAgICAqLw0KKyAgICBwdWJsaWMgSk1TVG9waWNSZW1vdGVDb25u
ZWN0aW9uKFJlbW90ZUNvbW1hbmRNYW5hZ2VyIHJjbSl7DQorICAgICAgICBzdXBlcihyY20pOw0K
KyAgICAgICAgdGhpcy5pc0xvY2FsID0gdHJ1ZTsNCisgICAgfQ0KIA0KICAgICAvKioNCiAgICAg
ICogSU5URVJOQUw6DQpAQCAtMTA1LDI1ICsxMTcsMzggQEANCiAgICAgICogRXhlY3V0ZSB0aGUg
cmVtb3RlIGNvbW1hbmQuIFRoZSByZXN1bHQgb2YgZXhlY3V0aW9uIGlzIHJldHVybmVkLg0KICAg
ICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIG9ubHkgYnkgZXh0ZXJuYWwgKHB1Ymxpc2hpbmcpIGNv
bm5lY3Rpb24uDQogICAgICAqLw0KLSAgICBwcm90ZWN0ZWQgT2JqZWN0IGV4ZWN1dGVDb21tYW5k
SW50ZXJuYWwoQ29tbWFuZCBjb21tYW5kKSB0aHJvd3MgRXhjZXB0aW9uIHsgICAgICAgIA0KLSAg
ICAgICAgT2JqZWN0TWVzc2FnZSBtZXNzYWdlID0gdG9waWNTZXNzaW9uLmNyZWF0ZU9iamVjdE1l
c3NhZ2UoKTsNCi0gICAgICAgIG1lc3NhZ2Uuc2V0T2JqZWN0KGNvbW1hbmQpOw0KLSAgICAgICAg
DQotICAgICAgICBPYmplY3RbXSBkZWJ1Z0luZm8gPSBudWxsOw0KLSAgICAgICAgaWYocmNtLnNo
b3VsZExvZ0RlYnVnTWVzc2FnZSgpKSB7DQotICAgICAgICAgICAgLy8gbnVsbCBwYXNzZWQgYmVj
YXVzZSBKTVNNZXNzYWdlSWQgaXMgbm90IHlldCBjcmVhdGVkLg0KLSAgICAgICAgICAgIGRlYnVn
SW5mbyA9IGxvZ0RlYnVnQmVmb3JlUHVibGlzaChudWxsKTsNCisgICAgcHJvdGVjdGVkIE9iamVj
dCBleGVjdXRlQ29tbWFuZEludGVybmFsKENvbW1hbmQgY29tbWFuZCkgdGhyb3dzIEV4Y2VwdGlv
biB7DQorICAgICAgICBUb3BpY1Nlc3Npb24gcHVibGlzaGluZ1Nlc3Npb249bnVsbDsNCisgICAg
ICAgIFRvcGljUHVibGlzaGVyIHB1Ymxpc2hlcj1udWxsOw0KKyAgICAgICAgdHJ5IHsNCisgICAg
ICAgICAgICBwdWJsaXNoaW5nU2Vzc2lvbiA9IHRvcGljQ29ubmVjdGlvbi5jcmVhdGVUb3BpY1Nl
c3Npb24oZmFsc2UsIGphdmF4Lmptcy5TZXNzaW9uLkFVVE9fQUNLTk9XTEVER0UpOw0KKyAgICAg
ICAgICAgIHB1Ymxpc2hlciA9IHB1Ymxpc2hpbmdTZXNzaW9uLmNyZWF0ZVB1Ymxpc2hlcih0b3Bp
Yyk7DQorICAgICAgICAgICAgcmNtLmxvZ0RlYnVnKCJicm9hZGNhc3RfY29ubmVjdGlvbl9jcmVh
dGVkIiwgZ2V0SW5mbygpKTsNCisNCisgICAgICAgICAgICBPYmplY3RNZXNzYWdlIG1lc3NhZ2Ug
PSB0b3BpY1Nlc3Npb24uY3JlYXRlT2JqZWN0TWVzc2FnZSgpOw0KKyAgICAgICAgICAgIG1lc3Nh
Z2Uuc2V0T2JqZWN0KGNvbW1hbmQpOw0KKyAgICAgICAgICAgICAgICANCisgICAgICAgICAgICBP
YmplY3RbXSBkZWJ1Z0luZm8gPSBudWxsOw0KKyAgICAgICAgICAgIGlmKHJjbS5zaG91bGRMb2dE
ZWJ1Z01lc3NhZ2UoKSkgew0KKyAgICAgICAgICAgICAgICAvLyBudWxsIHBhc3NlZCBiZWNhdXNl
IEpNU01lc3NhZ2VJZCBpcyBub3QgeWV0IGNyZWF0ZWQuDQorICAgICAgICAgICAgICAgIGRlYnVn
SW5mbyA9IGxvZ0RlYnVnQmVmb3JlUHVibGlzaChudWxsKTsNCisgICAgICAgICAgICB9DQorICAg
ICAgICAgICAgICAgIA0KKyAgICAgICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKG1lc3NhZ2UpOw0K
KyAgICAgICAgICAgICAgICANCisgICAgICAgICAgICAvLyBkZWJ1ZyBsb2dnaW5nIGlzIG9uDQor
ICAgICAgICAgICAgaWYoZGVidWdJbmZvICE9IG51bGwpIHsNCisgICAgICAgICAgICAgICAgLy8g
bm93IG1lc3NhZ2VJZCBoYXMgYmVlbiBjcmVhdGVkIC0gbGV0J3MgdXNlIGl0Lg0KKyAgICAgICAg
ICAgICAgICBsb2dEZWJ1Z0FmdGVyUHVibGlzaChkZWJ1Z0luZm8sIG1lc3NhZ2UuZ2V0Sk1TTWVz
c2FnZUlEKCkpOw0KKyAgICAgICAgICAgIH0NCisgICAgICAgICAgICANCisgICAgICAgICAgICBy
ZXR1cm4gbnVsbDsNCisgICAgICAgIH1maW5hbGx5IHsNCisgICAgICAgICAgICAvL29ubHkgbmVl
ZCB0byBjbG9zZSB0aGUgc2Vzc2lvbiBub3QgdGhlIHB1Ymxpc2hlcg0KKyAgICAgICAgICAgIGlm
IChwdWJsaXNoaW5nU2Vzc2lvbiE9bnVsbCl7DQorICAgICAgICAgICAgICAgIHB1Ymxpc2hpbmdT
ZXNzaW9uLmNsb3NlKCk7DQorICAgICAgICAgICAgfQ0KICAgICAgICAgfQ0KLSAgICAgICAgDQot
ICAgICAgICBwdWJsaXNoZXIucHVibGlzaChtZXNzYWdlKTsNCi0gICAgICAgIA0KLSAgICAgICAg
Ly8gZGVidWcgbG9nZ2luZyBpcyBvbg0KLSAgICAgICAgaWYoZGVidWdJbmZvICE9IG51bGwpIHsN
Ci0gICAgICAgICAgICAvLyBub3cgbWVzc2FnZUlkIGhhcyBiZWVuIGNyZWF0ZWQgLSBsZXQncyB1
c2UgaXQuDQotICAgICAgICAgICAgbG9nRGVidWdBZnRlclB1Ymxpc2goZGVidWdJbmZvLCBtZXNz
YWdlLmdldEpNU01lc3NhZ2VJRCgpKTsNCi0gICAgICAgIH0NCi0gICAgICAgIA0KLSAgICAgICAg
cmV0dXJuIG51bGw7DQogICAgIH0NCiANCiAgICAgLyoqDQpAQCAtMTk5LDcgKzIyNCw3IEBADQog
ICAgICAqIGZyZWVzIGFsbCB0aGUgcmVzb3VyY2VzLg0KICAgICAgKi8NCiAgICAgcHJvdGVjdGVk
IHZvaWQgY2xvc2VJbnRlcm5hbCgpIHRocm93cyBKTVNFeGNlcHRpb24gew0KLSAgICAgICAgaWYo
YXJlQWxsUmVzb3VyY2VzRnJlZWRPbkNsb3NlKCkpIHsNCisgICAgICAgIGlmKGFyZUFsbFJlc291
cmNlc0ZyZWVkT25DbG9zZSgpICYmIHRvcGljQ29ubmVjdGlvbiE9bnVsbCkgew0KICAgICAgICAg
ICAgIC8vIFRoZXJlIGlzIG5vIG5lZWQgdG8gY2xvc2UgdGhlIHNlc3Npb25zLCBwcm9kdWNlcnMs
IGFuZCBjb25zdW1lcnMgb2YgYSBjbG9zZWQgVG9waWNDb25uZWN0aW9uLg0KICAgICAgICAgICAg
IHRvcGljQ29ubmVjdGlvbi5jbG9zZSgpOw0KICAgICAgICAgfQ0KQEAgLTMyMCw2ICszNDUsNyBA
QA0KIA0KICAgICAvKioNCiAgICAgICogSU5URVJOQUw6DQorICAgICAqIFVzZWQgZm9yIGRlYnVn
IGxvZ2dpbmcNCiAgICAgICovDQogICAgIHByb3RlY3RlZCB2b2lkIGNyZWF0ZURpc3BsYXlTdHJp
bmcoKSB7DQogICAgICAgICBzdXBlci5jcmVhdGVEaXNwbGF5U3RyaW5nKCk7DQpJbmRleDogZm91
bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJz
aXN0ZW5jZS9pbnRlcm5hbC9zZXNzaW9ucy9mYWN0b3JpZXMvbW9kZWwvdHJhbnNwb3J0L0pNU1B1
Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmphdmENCj09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tLSBmb3Vu
ZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNp
c3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9tb2RlbC90cmFuc3BvcnQvSk1TUHVi
bGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWcuamF2YQkocmV2aXNpb24gMCkNCisrKyBmb3Vu
ZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNp
c3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9tb2RlbC90cmFuc3BvcnQvSk1TUHVi
bGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWcuamF2YQkocmV2aXNpb24gMCkNCkBAIC0wLDAg
KzEsNjIgQEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMTk5
OCwgMjAxMCBPcmFjbGUuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQorICogVGhpcyBwcm9ncmFtIGFu
ZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhl
IA0KKyAqIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAgYW5kIEVjbGlw
c2UgRGlzdHJpYnV0aW9uIExpY2Vuc2Ugdi4gMS4wIA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRo
aXMgZGlzdHJpYnV0aW9uLiANCisgKiBUaGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSBpcyBhdmFp
bGFibGUgYXQgaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKiBh
bmQgdGhlIEVjbGlwc2UgRGlzdHJpYnV0aW9uIExpY2Vuc2UgaXMgYXZhaWxhYmxlIGF0IA0KKyAq
IGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvb3JnL2RvY3VtZW50cy9lZGwtdjEwLnBocC4NCisgKg0K
KyAqIENvbnRyaWJ1dG9yczoNCisgKiAgICAgT3JhY2xlIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxl
bWVudGF0aW9uIGZyb20gT3JhY2xlIFRvcExpbmsNCisgKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0K
K3BhY2thZ2Ugb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJuYWwuc2Vzc2lvbnMuZmFjdG9y
aWVzLm1vZGVsLnRyYW5zcG9ydDsNCisNCitpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uu
aW50ZXJuYWwuc2Vzc2lvbnMuZmFjdG9yaWVzLm1vZGVsLnRyYW5zcG9ydC5uYW1pbmcuSk5ESU5h
bWluZ1NlcnZpY2VDb25maWc7DQorDQorLyoqDQorICogSU5URVJOQUw6DQorICovDQorcHVibGlj
IGNsYXNzIEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnIGV4dGVuZHMgVHJhbnNw
b3J0TWFuYWdlckNvbmZpZyAgew0KKw0KKyAgICBwcml2YXRlIFN0cmluZyBtX3RvcGljSG9zdFVS
TDsNCisgICAgcHJpdmF0ZSBTdHJpbmcgbV90b3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZTsNCisg
ICAgcHJpdmF0ZSBTdHJpbmcgbV90b3BpY05hbWU7DQorICAgIHByaXZhdGUgSk5ESU5hbWluZ1Nl
cnZpY2VDb25maWcgbV9qbmRpTmFtaW5nU2VydmljZUNvbmZpZzsNCisNCisgICAgcHVibGljIEpN
U1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKCkgew0KKyAgICAgICAgc3VwZXIoKTsN
CisgICAgfQ0KKw0KKyAgICBwdWJsaWMgdm9pZCBzZXRUb3BpY0hvc3RVUkwoU3RyaW5nIHRvcGlj
SG9zdFVSTCkgew0KKyAgICAgICAgbV90b3BpY0hvc3RVUkwgPSB0b3BpY0hvc3RVUkw7DQorICAg
IH0NCisNCisgICAgcHVibGljIFN0cmluZyBnZXRUb3BpY0hvc3RVUkwoKSB7DQorICAgICAgICBy
ZXR1cm4gbV90b3BpY0hvc3RVUkw7DQorICAgIH0NCisNCisgICAgcHVibGljIHZvaWQgc2V0VG9w
aWNDb25uZWN0aW9uRmFjdG9yeU5hbWUoU3RyaW5nIHRvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1l
KSB7DQorICAgICAgICBtX3RvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lID0gdG9waWNDb25uZWN0
aW9uRmFjdG9yeU5hbWU7DQorICAgIH0NCisNCisgICAgcHVibGljIFN0cmluZyBnZXRUb3BpY0Nv
bm5lY3Rpb25GYWN0b3J5TmFtZSgpIHsNCisgICAgICAgIHJldHVybiBtX3RvcGljQ29ubmVjdGlv
bkZhY3RvcnlOYW1lOw0KKyAgICB9DQorDQorICAgIHB1YmxpYyB2b2lkIHNldFRvcGljTmFtZShT
dHJpbmcgdG9waWNOYW1lKSB7DQorICAgICAgICBtX3RvcGljTmFtZSA9IHRvcGljTmFtZTsNCisg
ICAgfQ0KKw0KKyAgICBwdWJsaWMgU3RyaW5nIGdldFRvcGljTmFtZSgpIHsNCisgICAgICAgIHJl
dHVybiBtX3RvcGljTmFtZTsNCisgICAgfQ0KKw0KKyAgICBwdWJsaWMgdm9pZCBzZXRKTkRJTmFt
aW5nU2VydmljZUNvbmZpZyhKTkRJTmFtaW5nU2VydmljZUNvbmZpZyBqbmRpTmFtaW5nU2Vydmlj
ZUNvbmZpZykgew0KKyAgICAgICAgbV9qbmRpTmFtaW5nU2VydmljZUNvbmZpZyA9IGpuZGlOYW1p
bmdTZXJ2aWNlQ29uZmlnOw0KKyAgICB9DQorDQorICAgIHB1YmxpYyBKTkRJTmFtaW5nU2Vydmlj
ZUNvbmZpZyBnZXRKTkRJTmFtaW5nU2VydmljZUNvbmZpZygpIHsNCisgICAgICAgIHJldHVybiBt
X2puZGlOYW1pbmdTZXJ2aWNlQ29uZmlnOw0KKyAgICB9DQorfQ0KSW5kZXg6IGZvdW5kYXRpb24v
b3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uv
aW50ZXJuYWwvc2Vzc2lvbnMvZmFjdG9yaWVzL21vZGVsL3RyYW5zcG9ydC9KTVNUb3BpY1RyYW5z
cG9ydE1hbmFnZXJDb25maWcuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0tIGZvdW5kYXRpb24vb3JnLmVj
bGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJu
YWwvc2Vzc2lvbnMvZmFjdG9yaWVzL21vZGVsL3RyYW5zcG9ydC9KTVNUb3BpY1RyYW5zcG9ydE1h
bmFnZXJDb25maWcuamF2YQkocmV2aXNpb24gNjQ2MikNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xp
cHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFs
L3Nlc3Npb25zL2ZhY3Rvcmllcy9tb2RlbC90cmFuc3BvcnQvSk1TVG9waWNUcmFuc3BvcnRNYW5h
Z2VyQ29uZmlnLmphdmEJKHdvcmtpbmcgY29weSkNCkBAIC0xMiw1MCArMTIsMTAgQEANCiAgKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqLyAgDQogcGFja2FnZSBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5p
bnRlcm5hbC5zZXNzaW9ucy5mYWN0b3JpZXMubW9kZWwudHJhbnNwb3J0Ow0KIA0KLWltcG9ydCBv
cmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5hbC5zZXNzaW9ucy5mYWN0b3JpZXMubW9kZWwu
dHJhbnNwb3J0Lm5hbWluZy4qOw0KIA0KIC8qKg0KICAqIElOVEVSTkFMOg0KICAqLw0KLXB1Ymxp
YyBjbGFzcyBKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJDb25maWcgZXh0ZW5kcyBUcmFuc3BvcnRN
YW5hZ2VyQ29uZmlnIHsNCi0gICAgcHJpdmF0ZSBTdHJpbmcgbV90b3BpY0hvc3RVUkw7DQotICAg
IHByaXZhdGUgU3RyaW5nIG1fdG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWU7DQotICAgIHByaXZh
dGUgU3RyaW5nIG1fdG9waWNOYW1lOw0KLSAgICBwcml2YXRlIEpORElOYW1pbmdTZXJ2aWNlQ29u
ZmlnIG1fam5kaU5hbWluZ1NlcnZpY2VDb25maWc7DQotDQotICAgIHB1YmxpYyBKTVNUb3BpY1Ry
YW5zcG9ydE1hbmFnZXJDb25maWcoKSB7DQotICAgICAgICBzdXBlcigpOw0KLSAgICB9DQotDQot
ICAgIHB1YmxpYyB2b2lkIHNldFRvcGljSG9zdFVSTChTdHJpbmcgdG9waWNIb3N0VVJMKSB7DQot
ICAgICAgICBtX3RvcGljSG9zdFVSTCA9IHRvcGljSG9zdFVSTDsNCi0gICAgfQ0KLQ0KLSAgICBw
dWJsaWMgU3RyaW5nIGdldFRvcGljSG9zdFVSTCgpIHsNCi0gICAgICAgIHJldHVybiBtX3RvcGlj
SG9zdFVSTDsNCi0gICAgfQ0KLQ0KLSAgICBwdWJsaWMgdm9pZCBzZXRUb3BpY0Nvbm5lY3Rpb25G
YWN0b3J5TmFtZShTdHJpbmcgdG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWUpIHsNCi0gICAgICAg
IG1fdG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWUgPSB0b3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFt
ZTsNCi0gICAgfQ0KLQ0KLSAgICBwdWJsaWMgU3RyaW5nIGdldFRvcGljQ29ubmVjdGlvbkZhY3Rv
cnlOYW1lKCkgew0KLSAgICAgICAgcmV0dXJuIG1fdG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWU7
DQotICAgIH0NCi0NCi0gICAgcHVibGljIHZvaWQgc2V0VG9waWNOYW1lKFN0cmluZyB0b3BpY05h
bWUpIHsNCi0gICAgICAgIG1fdG9waWNOYW1lID0gdG9waWNOYW1lOw0KLSAgICB9DQotDQotICAg
IHB1YmxpYyBTdHJpbmcgZ2V0VG9waWNOYW1lKCkgew0KLSAgICAgICAgcmV0dXJuIG1fdG9waWNO
YW1lOw0KLSAgICB9DQotDQotICAgIHB1YmxpYyB2b2lkIHNldEpORElOYW1pbmdTZXJ2aWNlQ29u
ZmlnKEpORElOYW1pbmdTZXJ2aWNlQ29uZmlnIGpuZGlOYW1pbmdTZXJ2aWNlQ29uZmlnKSB7DQot
ICAgICAgICBtX2puZGlOYW1pbmdTZXJ2aWNlQ29uZmlnID0gam5kaU5hbWluZ1NlcnZpY2VDb25m
aWc7DQotICAgIH0NCi0NCi0gICAgcHVibGljIEpORElOYW1pbmdTZXJ2aWNlQ29uZmlnIGdldEpO
RElOYW1pbmdTZXJ2aWNlQ29uZmlnKCkgew0KLSAgICAgICAgcmV0dXJuIG1fam5kaU5hbWluZ1Nl
cnZpY2VDb25maWc7DQotICAgIH0NCitwdWJsaWMgY2xhc3MgSk1TVG9waWNUcmFuc3BvcnRNYW5h
Z2VyQ29uZmlnIGV4dGVuZHMgSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWcgew0K
KyAgICANCiB9DQpJbmRleDogZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3Jl
L3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9pbnRlcm5hbC9zZXNzaW9ucy9mYWN0b3JpZXMv
U2Vzc2lvbnNGYWN0b3J5LmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tLSBmb3VuZGF0aW9uL29yZy5lY2xp
cHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFs
L3Nlc3Npb25zL2ZhY3Rvcmllcy9TZXNzaW9uc0ZhY3RvcnkuamF2YQkocmV2aXNpb24gNjQ2MikN
CisrKyBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xp
cHNlL3BlcnNpc3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9TZXNzaW9uc0ZhY3Rv
cnkuamF2YQkod29ya2luZyBjb3B5KQ0KQEAgLTI2LDYgKzI2LDcgQEANCiBpbXBvcnQgb3JnLmVj
bGlwc2UucGVyc2lzdGVuY2UuZXhjZXB0aW9ucy4qOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJz
aXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24uKjsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGVy
c2lzdGVuY2Uuc2Vzc2lvbnMuY29vcmRpbmF0aW9uLnJtaS5STUlUcmFuc3BvcnRNYW5hZ2VyOw0K
K2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24uam1z
LkpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJz
aXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24uam1zLkpNU1RvcGljVHJhbnNwb3J0TWFuYWdl
cjsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuY29vcmRpbmF0aW9u
LmNvcmJhLnN1bi5TdW5DT1JCQVRyYW5zcG9ydE1hbmFnZXI7DQogaW1wb3J0IG9yZy5lY2xpcHNl
LnBlcnNpc3RlbmNlLnNlc3Npb25zLnNlcnZlci4qOw0KQEAgLTg4OSw4ICs4OTAsMTAgQEANCiAg
ICAgICAgICAgICBidWlsZFJNSVRyYW5zcG9ydE1hbmFnZXJDb25maWcoKFJNSVRyYW5zcG9ydE1h
bmFnZXJDb25maWcpdG1Db25maWcsIHJjbSk7DQogICAgICAgICB9IGVsc2UgaWYgKHRtQ29uZmln
IGluc3RhbmNlb2YgUk1JSUlPUFRyYW5zcG9ydE1hbmFnZXJDb25maWcpIHsNCiAgICAgICAgICAg
ICBidWlsZFJNSUlJT1BUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKChSTUlJSU9QVHJhbnNwb3J0TWFu
YWdlckNvbmZpZyl0bUNvbmZpZywgcmNtKTsNCi0gICAgICAgIH0gZWxzZSBpZiAodG1Db25maWcg
aW5zdGFuY2VvZiBKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJDb25maWcpIHsNCisgICAgICAgIH0g
IGVsc2UgaWYgKHRtQ29uZmlnIGluc3RhbmNlb2YgSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyQ29u
ZmlnKSB7DQogICAgICAgICAgICAgYnVpbGRKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJDb25maWco
KEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlckNvbmZpZyl0bUNvbmZpZywgcmNtKTsNCisgICAgICAg
IH0gZWxzZSBpZiAodG1Db25maWcgaW5zdGFuY2VvZiBKTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFu
YWdlckNvbmZpZykgew0KKyAgICAgICAgICAgIGJ1aWxkSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1h
bmFnZXJDb25maWcoKEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKXRtQ29uZmln
LCByY20pOw0KICAgICAgICAgfSBlbHNlIGlmICh0bUNvbmZpZyBpbnN0YW5jZW9mIE9jNGpKR3Jv
dXBzVHJhbnNwb3J0TWFuYWdlckNvbmZpZykgew0KICAgICAgICAgICAgIGJ1aWxkT2M0akpHcm91
cHNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKChPYzRqSkdyb3Vwc1RyYW5zcG9ydE1hbmFnZXJDb25m
aWcpdG1Db25maWcsIHJjbSk7DQogICAgICAgICB9IGVsc2UgaWYgKHRtQ29uZmlnIGluc3RhbmNl
b2YgU3VuQ09SQkFUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKSB7DQpAQCAtOTgzLDcgKzk4NiwyNiBA
QA0KIA0KICAgICAgICAgLy8gU2V0IHRoZSB0cmFuc3BvcnQgbWFuYWdlci4gVGhpcyB3aWxsIGlu
aXRpYWxpemUgdGhlIERpc2NvdmVyeU1hbmFnZXINCiAgICAgICAgIHJjbS5zZXRUcmFuc3BvcnRN
YW5hZ2VyKHRtKTsNCisgICAgICAgIA0KKyAgICAgICAgcHJvY2Vzc0pNU1RyYW5zcG9ydE1hbmFn
ZXJDb25maWcodG1Db25maWcsIHRtKTsNCisgICAgfQ0KKyAgICANCisgICAgLyoqDQorICAgICAq
IElOVEVSTkFMOg0KKyAgICAgKi8NCisgICAgcHJvdGVjdGVkIHZvaWQgYnVpbGRKTVNQdWJsaXNo
aW5nVHJhbnNwb3J0TWFuYWdlckNvbmZpZyhKTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlckNv
bmZpZyB0bUNvbmZpZywgUmVtb3RlQ29tbWFuZE1hbmFnZXIgcmNtKSB7DQorICAgICAgICBKTVNQ
dWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlciB0bSA9IG5ldyBKTVNQdWJsaXNoaW5nVHJhbnNwb3J0
TWFuYWdlcihyY20pOw0KIA0KKyAgICAgICAgLy8gU2V0IHRoZSB0cmFuc3BvcnQgbWFuYWdlci4g
VGhpcyB3aWxsIGluaXRpYWxpemUgdGhlIERpc2NvdmVyeU1hbmFnZXINCisgICAgICAgIHJjbS5z
ZXRUcmFuc3BvcnRNYW5hZ2VyKHRtKTsNCisgICAgICAgIHByb2Nlc3NKTVNUcmFuc3BvcnRNYW5h
Z2VyQ29uZmlnKHRtQ29uZmlnLCB0bSk7DQorICAgIH0NCisgICAgDQorICAgIC8qKg0KKyAgICAg
KiBJTlRFUk5BTDoNCisgICAgICogQ29tbW9uIEpNUyBjb25maWd1cmF0aW9uDQorICAgICAqLw0K
KyAgICBwcm90ZWN0ZWQgdm9pZCBwcm9jZXNzSk1TVHJhbnNwb3J0TWFuYWdlckNvbmZpZyhKTVNQ
dWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlckNvbmZpZyB0bUNvbmZpZywgSk1TUHVibGlzaGluZ1Ry
YW5zcG9ydE1hbmFnZXIgdG0gKXsNCiAgICAgICAgIC8vIEpOREkgbmFtaW5nIHNlcnZpY2UNCiAg
ICAgICAgIGlmICh0bUNvbmZpZy5nZXRKTkRJTmFtaW5nU2VydmljZUNvbmZpZygpICE9IG51bGwp
IHsNCiAgICAgICAgICAgICB0bS5zZXROYW1pbmdTZXJ2aWNlVHlwZShUcmFuc3BvcnRNYW5hZ2Vy
LkpORElfTkFNSU5HX1NFUlZJQ0UpOw0KSW5kZXg6IGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVy
c2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vzc2lv
bnMvZmFjdG9yaWVzL1hNTFNlc3Npb25Db25maWdQcm9qZWN0LmphdmENCj09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0t
LSBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNl
L3BlcnNpc3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9YTUxTZXNzaW9uQ29uZmln
UHJvamVjdC5qYXZhCShyZXZpc2lvbiA2NDYyKQ0KKysrIGZvdW5kYXRpb24vb3JnLmVjbGlwc2Uu
cGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vz
c2lvbnMvZmFjdG9yaWVzL1hNTFNlc3Npb25Db25maWdQcm9qZWN0LmphdmEJKHdvcmtpbmcgY29w
eSkNCkBAIC03MCw2ICs3MCw3IEBADQogaW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmlu
dGVybmFsLnNlc3Npb25zLmZhY3Rvcmllcy5tb2RlbC5zZXNzaW9uLlNlcnZlclNlc3Npb25Db25m
aWc7DQogaW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmludGVybmFsLnNlc3Npb25zLmZh
Y3Rvcmllcy5tb2RlbC5zZXNzaW9uLlNlc3Npb25Ccm9rZXJDb25maWc7DQogaW1wb3J0IG9yZy5l
Y2xpcHNlLnBlcnNpc3RlbmNlLmludGVybmFsLnNlc3Npb25zLmZhY3Rvcmllcy5tb2RlbC5zZXNz
aW9uLlNlc3Npb25Db25maWc7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmludGVy
bmFsLnNlc3Npb25zLmZhY3Rvcmllcy5tb2RlbC50cmFuc3BvcnQuSk1TUHVibGlzaGluZ1RyYW5z
cG9ydE1hbmFnZXJDb25maWc7DQogaW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmludGVy
bmFsLnNlc3Npb25zLmZhY3Rvcmllcy5tb2RlbC50cmFuc3BvcnQuSk1TVG9waWNUcmFuc3BvcnRN
YW5hZ2VyQ29uZmlnOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5hbC5z
ZXNzaW9ucy5mYWN0b3JpZXMubW9kZWwudHJhbnNwb3J0LlJNSUlJT1BUcmFuc3BvcnRNYW5hZ2Vy
Q29uZmlnOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5hbC5zZXNzaW9u
cy5mYWN0b3JpZXMubW9kZWwudHJhbnNwb3J0LlJNSVRyYW5zcG9ydE1hbmFnZXJDb25maWc7DQpA
QCAtMTg1LDYgKzE4Niw3IEBADQogICAgICAgICBhZGREZXNjcmlwdG9yKGJ1aWxkU2Vzc2lvbkJy
b2tlckNvbmZpZ0Rlc2NyaXB0b3IoKSk7DQogICAgICAgICBhZGREZXNjcmlwdG9yKGJ1aWxkU2Vz
c2lvbkNvbmZpZ0Rlc2NyaXB0b3IoKSk7DQogICAgICAgICBhZGREZXNjcmlwdG9yKGJ1aWxkSk1T
VG9waWNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnRGVzY3JpcHRvcigpKTsNCisgICAgICAgIGFkZERl
c2NyaXB0b3IoYnVpbGRKTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlckNvbmZpZ0Rlc2NyaXB0
b3IoKSk7DQogICAgICAgICBhZGREZXNjcmlwdG9yKGJ1aWxkUk1JSUlPUFRyYW5zcG9ydE1hbmFn
ZXJDb25maWdEZXNjcmlwdG9yKCkpOw0KICAgICAgICAgYWRkRGVzY3JpcHRvcihidWlsZFJNSVRy
YW5zcG9ydE1hbmFnZXJDb25maWdEZXNjcmlwdG9yKCkpOw0KICAgICAgICAgYWRkRGVzY3JpcHRv
cihidWlsZFRyYW5zcG9ydE1hbmFnZXJDb25maWdEZXNjcmlwdG9yKCkpOw0KQEAgLTY2OSwxMCAr
NjcxLDEwIEBADQogDQogICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjsNCiAgICAgfQ0KLQ0KLSAg
ICBwdWJsaWMgQ2xhc3NEZXNjcmlwdG9yIGJ1aWxkSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyQ29u
ZmlnRGVzY3JpcHRvcigpIHsNCisgICAgDQorICAgIHB1YmxpYyBDbGFzc0Rlc2NyaXB0b3IgYnVp
bGRKTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlckNvbmZpZ0Rlc2NyaXB0b3IoKSB7DQogICAg
ICAgICBYTUxEZXNjcmlwdG9yIGRlc2NyaXB0b3IgPSBuZXcgWE1MRGVzY3JpcHRvcigpOw0KLSAg
ICAgICAgZGVzY3JpcHRvci5zZXRKYXZhQ2xhc3MoSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyQ29u
ZmlnLmNsYXNzKTsNCisgICAgICAgIGRlc2NyaXB0b3Iuc2V0SmF2YUNsYXNzKEpNU1B1Ymxpc2hp
bmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmNsYXNzKTsNCiAgICAgICAgIGRlc2NyaXB0b3IuZ2V0
SW5oZXJpdGFuY2VQb2xpY3koKS5zZXRQYXJlbnRDbGFzcyhUcmFuc3BvcnRNYW5hZ2VyQ29uZmln
LmNsYXNzKTsNCiANCiAgICAgICAgIFhNTERpcmVjdE1hcHBpbmcgdG9waWNIb3N0VVJMTWFwcGlu
ZyA9IG5ldyBYTUxEaXJlY3RNYXBwaW5nKCk7DQpAQCAtNzA5LDcgKzcxMSwxNCBAQA0KICAgICAg
ICAgcmV0dXJuIGRlc2NyaXB0b3I7DQogICAgIH0NCiANCisgICAgcHVibGljIENsYXNzRGVzY3Jp
cHRvciBidWlsZEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlckNvbmZpZ0Rlc2NyaXB0b3IoKSB7DQor
ICAgICAgICBYTUxEZXNjcmlwdG9yIGRlc2NyaXB0b3IgPSBuZXcgWE1MRGVzY3JpcHRvcigpOw0K
KyAgICAgICAgZGVzY3JpcHRvci5zZXRKYXZhQ2xhc3MoSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2Vy
Q29uZmlnLmNsYXNzKTsNCisgICAgICAgIGRlc2NyaXB0b3IuZ2V0SW5oZXJpdGFuY2VQb2xpY3ko
KS5zZXRQYXJlbnRDbGFzcyhKTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlckNvbmZpZy5jbGFz
cyk7DQogDQorICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjsNCisgICAgfQ0KKw0KICAgICBwdWJs
aWMgQ2xhc3NEZXNjcmlwdG9yIGJ1aWxkSk5ESU5hbWluZ1NlcnZpY2VDb25maWdEZXNjcmlwdG9y
KCkgew0KICAgICAgICAgWE1MRGVzY3JpcHRvciBkZXNjcmlwdG9yID0gbmV3IFhNTERlc2NyaXB0
b3IoKTsNCiAgICAgICAgIGRlc2NyaXB0b3Iuc2V0SmF2YUNsYXNzKEpORElOYW1pbmdTZXJ2aWNl
Q29uZmlnLmNsYXNzKTsNCkBAIC0xMzY4LDYgKzEzNzcsNyBAQA0KICAgICAgICAgZGVzY3JpcHRv
ci5nZXRJbmhlcml0YW5jZVBvbGljeSgpLnNldENsYXNzSW5kaWNhdG9yRmllbGQobmV3IFhNTEZp
ZWxkKCJAeHNpOnR5cGUiKSk7DQogICAgICAgICBkZXNjcmlwdG9yLmdldEluaGVyaXRhbmNlUG9s
aWN5KCkuYWRkQ2xhc3NJbmRpY2F0b3IoUk1JVHJhbnNwb3J0TWFuYWdlckNvbmZpZy5jbGFzcywg
InJtaS10cmFuc3BvcnQiKTsNCiAgICAgICAgIGRlc2NyaXB0b3IuZ2V0SW5oZXJpdGFuY2VQb2xp
Y3koKS5hZGRDbGFzc0luZGljYXRvcihSTUlJSU9QVHJhbnNwb3J0TWFuYWdlckNvbmZpZy5jbGFz
cywgInJtaS1paW9wLXRyYW5zcG9ydCIpOw0KKyAgICAgICAgZGVzY3JpcHRvci5nZXRJbmhlcml0
YW5jZVBvbGljeSgpLmFkZENsYXNzSW5kaWNhdG9yKEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5h
Z2VyQ29uZmlnLmNsYXNzLCAiam1zLXB1Ymxpc2hpbmctdHJhbnNwb3J0Iik7DQogICAgICAgICBk
ZXNjcmlwdG9yLmdldEluaGVyaXRhbmNlUG9saWN5KCkuYWRkQ2xhc3NJbmRpY2F0b3IoSk1TVG9w
aWNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmNsYXNzLCAiam1zLXRvcGljLXRyYW5zcG9ydCIpOw0K
ICAgICAgICAgZGVzY3JpcHRvci5nZXRJbmhlcml0YW5jZVBvbGljeSgpLmFkZENsYXNzSW5kaWNh
dG9yKFN1bkNPUkJBVHJhbnNwb3J0TWFuYWdlckNvbmZpZy5jbGFzcywgInN1bi1jb3JiYS10cmFu
c3BvcnQiKTsNCiAgICAgICAgIGRlc2NyaXB0b3IuZ2V0SW5oZXJpdGFuY2VQb2xpY3koKS5hZGRD
bGFzc0luZGljYXRvcihVc2VyRGVmaW5lZFRyYW5zcG9ydE1hbmFnZXJDb25maWcuY2xhc3MsICJ1
c2VyLWRlZmluZWQtdHJhbnNwb3J0Iik7DQpJbmRleDogZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5w
ZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9zZXNzaW9ucy9jb29y
ZGluYXRpb24vam1zL0pNU1B1Ymxpc2hpbmdIZWxwZXIuamF2YQ0KPT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0tIGZv
dW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVy
c2lzdGVuY2Uvc2Vzc2lvbnMvY29vcmRpbmF0aW9uL2ptcy9KTVNQdWJsaXNoaW5nSGVscGVyLmph
dmEJKHJldmlzaW9uIDApDQorKysgZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5j
b3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9zZXNzaW9ucy9jb29yZGluYXRpb24vam1z
L0pNU1B1Ymxpc2hpbmdIZWxwZXIuamF2YQkocmV2aXNpb24gMCkNCkBAIC0wLDAgKzEsNDcgQEAN
CisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMTk5OCwgMjAxMCBP
cmFjbGUuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQorICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNj
b21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIA0KKyAqIHRl
cm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAgYW5kIEVjbGlwc2UgRGlzdHJp
YnV0aW9uIExpY2Vuc2Ugdi4gMS4wIA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJp
YnV0aW9uLiANCisgKiBUaGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSBpcyBhdmFpbGFibGUgYXQg
aHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKiBhbmQgdGhlIEVj
bGlwc2UgRGlzdHJpYnV0aW9uIExpY2Vuc2UgaXMgYXZhaWxhYmxlIGF0IA0KKyAqIGh0dHA6Ly93
d3cuZWNsaXBzZS5vcmcvb3JnL2RvY3VtZW50cy9lZGwtdjEwLnBocC4NCisgKg0KKyAqIENvbnRy
aWJ1dG9yczoNCisgKiAgICAgRmViIDIsIDIwMTAtMi4xIENocmlzIERlbGFodW50IA0KKyAqICAg
ICAgIC0gMjE0NTM0OiBKTVNDYWNoZUNvb3JkaW5hdGlvblVzaW5nTURCIA0KKyAqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKiovICANCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25z
LmNvb3JkaW5hdGlvbi5qbXM7DQorDQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmV4
Y2VwdGlvbnMuUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb247DQoraW1wb3J0IG9yZy5lY2xp
cHNlLnBlcnNpc3RlbmNlLmludGVybmFsLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5qbXMuSk1TVG9w
aWNSZW1vdGVDb25uZWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRl
cm5hbC5zZXNzaW9ucy5BYnN0cmFjdFNlc3Npb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNp
c3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5SZW1vdGVDb21tYW5kTWFuYWdlcjsNCisNCisv
KiogDQorICogVGhpcyBoZWxwZXIgY2xhc3MgYWxsb3dzIGFjY2VzcyB0byBhYnN0cmFjdCBKTVNQ
dWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlciBpbnRlcm5hbHMgd2hlbiBwcm9jZXNzaW5nIA0KKyAq
IEpNUyBtZXNzYWdlcyBmb3IgUkNNLCBhbmQgY2FuIGJlIGV4cGFuZGVkIHVwb24gdG8gaW5jbHVk
ZSBvdGhlciBFY2xpcHNlTGluayBKTVMgZnVuY3Rpb25hbGl0eS4gICANCisgKiANCisgKiBAYXV0
aG9yIENocmlzIERlbGFodW50IA0KKyAqLyANCitwdWJsaWMgY2xhc3MgSk1TUHVibGlzaGluZ0hl
bHBlciB7DQorICAgIC8qKg0KKyAgICAgKiBQVUJMSUM6DQorICAgICAqIFByb2Nlc3NlcyB0aGUg
cmVjZWl2ZWQgUkNNIG1lc3NhZ2VkIGZyb20gYSBKTVMgcHJvdmlkZXIgZm9yIGNhY2hlIGNvb3Jk
aW5hdGlvbi4NCisgICAgICogVGhpcyB3aWxsIHVzZSB0aGUgbG9jYWwgY29ubmVjdGlvbiBmcm9t
IHRoZSBjb25maWd1cmVkIFRyYW5zcG9ydE1hbmFnZXIgZnJvbSB0aGUgc2Vzc2lvbidzIFJlbW90
ZUNvbW1hbmRNYW5hZ2VyLg0KKyAgICAgKiANCisgICAgICogQHBhcmFtIG1lc3NhZ2UNCisgICAg
ICogQHBhcmFtIHNlc3Npb24NCisgICAgICogDQorICAgICAqIA0KKyAgICAgKi8NCisgICAgcHVi
bGljIHN0YXRpYyB2b2lkIHByb2Nlc3NKTVNNZXNzYWdlKGphdmF4Lmptcy5NZXNzYWdlIG1lc3Nh
Z2UsIEFic3RyYWN0U2Vzc2lvbiBzZXNzaW9uKXsNCisgICAgICAgIFJlbW90ZUNvbW1hbmRNYW5h
Z2VyIHJjbSA9IChSZW1vdGVDb21tYW5kTWFuYWdlcilzZXNzaW9uLmdldENvbW1hbmRNYW5hZ2Vy
KCk7DQorICAgICAgICBpZihyY20uaXNTdG9wcGVkKCkpew0KKyAgICAgICAgICAgIHRocm93IFJl
bW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLnJlbW90ZUNvbW1hbmRNYW5hZ2VySXNDbG9zZWQo
KTsNCisgICAgICAgIH0NCisgICAgICAgIEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbiBjb25uZWN0
aW9uID0gKEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbilyY20uZ2V0VHJhbnNwb3J0TWFuYWdlcigp
LmdldENvbm5lY3Rpb25Ub0xvY2FsSG9zdCgpOw0KKyAgICAgICAgY29ubmVjdGlvbi5vbk1lc3Nh
Z2UobWVzc2FnZSk7DQorICAgIH0NCisgICAgDQorfQ0KSW5kZXg6IGZvdW5kYXRpb24vb3JnLmVj
bGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uvc2Vzc2lv
bnMvY29vcmRpbmF0aW9uL2ptcy9KTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlci5qYXZhDQo9
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09DQotLS0gZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3Ny
Yy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9zZXNzaW9ucy9jb29yZGluYXRpb24vam1zL0pNU1B1
Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyLmphdmEJKHJldmlzaW9uIDApDQorKysgZm91bmRhdGlv
bi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5j
ZS9zZXNzaW9ucy9jb29yZGluYXRpb24vam1zL0pNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2Vy
LmphdmEJKHJldmlzaW9uIDApDQpAQCAtMCwwICsxLDIzMCBAQA0KKy8qKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqICANCisgKiBDb3B5cmlnaHQgKGMpIDE5OTgsIDIwMTAgT3JhY2xlLiBBbGwgcmlnaHRz
IHJlc2VydmVkLiAgDQorICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVy
aWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlICANCisgKiB0ZXJtcyBvZiB0aGUgRWNs
aXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wLCB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1
dGlvbiAgDQorICogYW5kIGlzIGF2YWlsYWJsZSBhdCBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xl
Z2FsL2VwbC12MTAuaHRtbC4gIA0KKyAqICANCisgKiBDb250cmlidXRvcnM6ICANCisgKiAgICAg
RmViIDIsIDIwMTAtMi4xIENocmlzIERlbGFodW50IA0KKyAqICAgICAgIC0gMjE0NTM0OiBKTVND
YWNoZUNvb3JkaW5hdGlvblVzaW5nTURCIA0KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovICAgIA0K
K3BhY2thZ2Ugb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuY29vcmRpbmF0aW9uLmpt
czsgIA0KKyANCitpbXBvcnQgamF2YS51dGlsLkhhc2h0YWJsZTsNCisNCitpbXBvcnQgamF2YXgu
am1zLlRvcGljOw0KK2ltcG9ydCBqYXZheC5qbXMuVG9waWNDb25uZWN0aW9uOw0KK2ltcG9ydCBq
YXZheC5qbXMuVG9waWNDb25uZWN0aW9uRmFjdG9yeTsNCitpbXBvcnQgamF2YXgubmFtaW5nLkNv
bnRleHQ7DQoraW1wb3J0IGphdmF4Lm5hbWluZy5OYW1pbmdFeGNlcHRpb247DQorDQoraW1wb3J0
IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmV4Y2VwdGlvbnMuUmVtb3RlQ29tbWFuZE1hbmFnZXJF
eGNlcHRpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmV4Y2VwdGlvbnMuVmFs
aWRhdGlvbkV4Y2VwdGlvbjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJu
YWwuc2Vzc2lvbnMuY29vcmRpbmF0aW9uLmptcy5KTVNUb3BpY1JlbW90ZUNvbm5lY3Rpb247DQor
aW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5icm9h
ZGNhc3QuQnJvYWRjYXN0VHJhbnNwb3J0TWFuYWdlcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGVy
c2lzdGVuY2Uuc2Vzc2lvbnMuY29vcmRpbmF0aW9uLlJlbW90ZUNvbW1hbmRNYW5hZ2VyOw0KK2lt
cG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24uVHJhbnNw
b3J0TWFuYWdlcjsNCisNCisvKioNCisgKiA8cD4NCisgKiA8Yj5QdXJwb3NlPC9iPjogUHJvdmlk
ZSBhIHRyYW5zcG9ydCBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIFJlbW90ZSBDb21tYW5kIE1vZHVs
ZSAoUkNNKSB0aGF0IHB1Ymxpc2hlcw0KKyAqIHRvIGEgSk1TIHRvcGljLiAgDQorICogPHA+DQor
ICogPGI+RGVzY3JpcHRpb248L2I+OiBUaGlzIGNsYXNzIG1hbmFnZXMgdHdvIGNvbm5lY3Rpb25z
OiBhbiBleHRlcm5hbCBjb25uZWN0aW9uIGZvciBwdWJsaXNoaW5nIHRvIEpNUywgDQorICogIGFu
ZCBhIGxvY2FsIGNvbm5lY3Rpb24gd2hpY2ggY2FuIGJlIHVzZWQgdG8gcHJvY2VzcyBKTVMgbWVz
c2FnZXMgcmVjZWl2ZWQgZnJvbSBhbiBhcHBsaWNhdGlvbiBKTVMgbGlzdGVuZXIuDQorICogPHA+
DQorICogQGF1dGhvciBDaHJpcyBEZWxhaHVudA0KKyAqIEBzaW5jZSBFY2xpcHNlTGluayAyLjAN
CisgKi8NCitwdWJsaWMgY2xhc3MgSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXIgZXh0ZW5k
cyBCcm9hZGNhc3RUcmFuc3BvcnRNYW5hZ2VyIHsNCisgICAgcHJvdGVjdGVkIFN0cmluZyBjb25u
ZWN0aW9uRmFjdG9yeU5hbWU7DQorDQorICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIERF
RkFVTFRfVE9QSUMgPSAiam1zL0VjbGlwc2VMaW5rVG9waWMiOw0KKyAgICBwdWJsaWMgc3RhdGlj
IGZpbmFsIFN0cmluZyBERUZBVUxUX0NPTk5FQ1RJT05fRkFDVE9SWSA9ICJqbXMvRWNsaXBzZUxp
bmtUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5IjsNCisgICAgLyoqICANCisgICAgICogUFVCTElDOiAg
DQorICAgICAqIENyZWF0ZXMgYSBKTVNQdWJsaXNoaW5nT25seVRvcGljVHJhbnNwb3J0TWFuYWdl
ciAgDQorICAgICAqLyAgDQorICAgIHB1YmxpYyBKTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdl
cihSZW1vdGVDb21tYW5kTWFuYWdlciByY20pIHsgIA0KKyAgICAgICAgc3VwZXIocmNtKTsgIA0K
KyAgICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5BTDoNCisgICAgICogVGhpcyBtZXRo
b2QgY3JlYXRlcyBKTVNUb3BpY1JlbW90ZUNvbm5lY3Rpb24gdG8gYmUgdXNlZCBieSB0aGlzIFRy
YW5zcG9ydE1hbmFnZXIuDQorICAgICAqIERvbid0IGNvbmZ1c2UgdGhpcyBtZXRob2Qgd2l0aCBu
by1vcCBjcmVhdGVDb25uZWN0aW9uKFNlcnZpY2VJZCBzZXJ2aWNlSWQpLg0KKyAgICAgKi8NCisg
ICAgcHJvdGVjdGVkIEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbiBjcmVhdGVDb25uZWN0aW9uKGJv
b2xlYW4gaXNMb2NhbENvbm5lY3Rpb25CZWluZ0NyZWF0ZWQpIHRocm93cyBSZW1vdGVDb21tYW5k
TWFuYWdlckV4Y2VwdGlvbiB7DQorICAgICAgICBDb250ZXh0IHJlbW90ZUhvc3RDb250ZXh0ID0g
bnVsbDsNCisgICAgICAgIHRyeSB7DQorICAgICAgICAgICAgcmVtb3RlSG9zdENvbnRleHQgPSBn
ZXRSZW1vdGVIb3N0Q29udGV4dChnZXRUb3BpY0hvc3RVcmwoKSk7DQorICAgICAgICAgICAgVG9w
aWNDb25uZWN0aW9uRmFjdG9yeSBjb25uZWN0aW9uRmFjdG9yeSA9IGdldFRvcGljQ29ubmVjdGlv
bkZhY3RvcnkocmVtb3RlSG9zdENvbnRleHQpOw0KKyAgICAgICAgICAgIFRvcGljIHRvcGljID0g
Z2V0VG9waWMocmVtb3RlSG9zdENvbnRleHQpOyAgICANCisgICAgICAgICAgICBUb3BpY0Nvbm5l
Y3Rpb24gdG9waWNDb25uZWN0aW9uID0gY29ubmVjdGlvbkZhY3RvcnkuY3JlYXRlVG9waWNDb25u
ZWN0aW9uKCk7DQorICAgICAgICAgICAgLy8gZXh0ZXJuYWwgY29ubmVjdGlvbiBpcyBhIHB1Ymxp
c2hlcjsgbG9jYWwgY29ubmVjdGlvbiBpcyBhIHN1YnNjcmliZXINCisgICAgICAgICAgICByZXR1
cm4gbmV3IEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbihyY20sIHRvcGljQ29ubmVjdGlvbiwgdG9w
aWMsIGlzTG9jYWxDb25uZWN0aW9uQmVpbmdDcmVhdGVkKTsNCisgICAgICAgIH0gY2F0Y2ggKEV4
Y2VwdGlvbiBleCkgew0KKyAgICAgICAgICAgIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9u
IHJjbUV4Y2VwdGlvbjsNCisgICAgICAgICAgICBpZihpc0xvY2FsQ29ubmVjdGlvbkJlaW5nQ3Jl
YXRlZCkgew0KKyAgICAgICAgICAgICAgICByY21FeGNlcHRpb24gPSBSZW1vdGVDb21tYW5kTWFu
YWdlckV4Y2VwdGlvbi5lcnJvckNyZWF0aW5nTG9jYWxKTVNDb25uZWN0aW9uKHRvcGljTmFtZSwg
Y29ubmVjdGlvbkZhY3RvcnlOYW1lLCBnZXRSZW1vdGVDb250ZXh0UHJvcGVydGllcygpLCBleCk7
DQorICAgICAgICAgICAgfSBlbHNlIHsNCisgICAgICAgICAgICAgICAgcmNtRXhjZXB0aW9uID0g
UmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24uZXJyb3JDcmVhdGluZ0pNU0Nvbm5lY3Rpb24o
dG9waWNOYW1lLCBjb25uZWN0aW9uRmFjdG9yeU5hbWUsIGdldFJlbW90ZUNvbnRleHRQcm9wZXJ0
aWVzKCksIGV4KTsNCisgICAgICAgICAgICB9DQorICAgICAgICAgICAgdGhyb3cgcmNtRXhjZXB0
aW9uOw0KKyAgICAgICAgfSBmaW5hbGx5IHsNCisgICAgICAgICAgICBpZihyZW1vdGVIb3N0Q29u
dGV4dCAhPSBudWxsKSB7DQorICAgICAgICAgICAgICAgIHRyeSB7DQorICAgICAgICAgICAgICAg
ICAgICByZW1vdGVIb3N0Q29udGV4dC5jbG9zZSgpOw0KKyAgICAgICAgICAgICAgICB9IGNhdGNo
IChOYW1pbmdFeGNlcHRpb24gbmFtaW5nRXhjZXB0aW9uKSB7DQorICAgICAgICAgICAgICAgICAg
ICAvLyBpZ25vcmUNCisgICAgICAgICAgICAgICAgfQ0KKyAgICAgICAgICAgIH0NCisgICAgICAg
IH0NCisgICAgfQ0KKw0KKyAgICAvKioNCisgICAgICogSU5URVJOQUw6DQorICAgICAqIEpNU1Rv
cGljVHJhbnNwb3J0TWFuYWdlciBkb2Vzbid0IHVzZSBEaXNjb3ZlcnlNYW5hZ2VyLCB0aGVyZWZv
cmUNCisgICAgICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIGR1cmluZyBSQ00gaW5pdGlhbGl6YXRp
b24gdG8gY3JlYXRlIGFsbCB0aGUgbmVjZXNzYXJ5IGNvbm5lY3Rpb25zLg0KKyAgICAgKi8NCisg
ICAgcHVibGljIHZvaWQgY3JlYXRlQ29ubmVjdGlvbnMoKSB7DQorICAgICAgICBjcmVhdGVFeHRl
cm5hbENvbm5lY3Rpb24oKTsNCisgICAgICAgIGNyZWF0ZUxvY2FsQ29ubmVjdGlvbigpOw0KKyAg
ICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5BTDoNCisgICAgICogSk1TUHVibGlzaGlu
Z1RyYW5zcG9ydE1hbmFnZXIgaGFzIG1heGltdW0gb25lIGV4dGVybmFsIGNvbm5lY3Rpb24uDQor
ICAgICAqIFZlcmlmeSB0aGVyZSBhcmUgbm8gZXh0ZXJuYWwgY29ubmVjdGlvbnMsDQorICAgICAq
IGNyZWF0ZSBhIG5ldyBleHRlcm5hbCBjb25uZWN0aW9uLCANCisgICAgICogYWRkIGl0IHRvIGV4
dGVybmFsIGNvbm5lY3Rpb25zJyBtYXAuDQorICAgICAqLw0KKyAgICBwdWJsaWMgdm9pZCBjcmVh
dGVFeHRlcm5hbENvbm5lY3Rpb24oKSB7DQorICAgICAgICBzeW5jaHJvbml6ZWQoY29ubmVjdGlv
bnNUb0V4dGVybmFsU2VydmljZXMpIHsNCisgICAgICAgICAgICBpZihjb25uZWN0aW9uc1RvRXh0
ZXJuYWxTZXJ2aWNlcy5pc0VtcHR5KCkpIHsNCisgICAgICAgICAgICAgICAgdHJ5IHsNCisgICAg
ICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zVG9FeHRlcm5hbFNlcnZpY2VzLnB1dChyY20uZ2V0
U2VydmljZUlkKCkuZ2V0SWQoKSwgY3JlYXRlQ29ubmVjdGlvbihmYWxzZSkpOw0KKyAgICAgICAg
ICAgICAgICB9IGNhdGNoIChSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbiByY21FeGNlcHRp
b24pIHsNCisgICAgICAgICAgICAgICAgICAgIC8vIHRvIHJlY292ZXIgaGFuZGxlIFJlbW90ZUNv
bW1hbmRNYW5hZ2VyRXhjZXB0aW9uLkVSUk9SX0NSRUFUSU5HX0pNU19DT05ORUNUSU9OOg0KKyAg
ICAgICAgICAgICAgICAgICAgLy8gYWZ0ZXIgY2hhbmdpbmcgc29tZXRoaW5nIChmb3IgaW5zdGFu
Y2Ugam1zSG9zdFVybCkNCisgICAgICAgICAgICAgICAgICAgIC8vIGNhbGwgY3JlYXRlRXh0ZXJu
YWxDb25uZWN0aW9uIG1ldGhvZCBhZ2Fpbi4NCisgICAgICAgICAgICAgICAgICAgIHJjbS5oYW5k
bGVFeGNlcHRpb24ocmNtRXhjZXB0aW9uKTsNCisgICAgICAgICAgICAgICAgfQ0KKyAgICAgICAg
ICAgIH0gICAgICAgICAgICANCisgICAgICAgIH0NCisgICAgfQ0KKw0KKyAgICAvKioNCisgICAg
ICogSU5URVJOQUw6DQorICAgICAqIEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyIGhhcyBv
bmx5IHR3byBjb25uZWN0aW9uczogb25lIGxvY2FsIGFuZCBvbmUgZXh0ZXJuYWwuDQorICAgICAq
IEluIGNhc2UgdGhlIGxvY2FsIGNvbm5lY3Rpb24gZG9lc24ndCBleGlzdCwgdGhpcyBtZXRob2Qg
Y3JlYXRlcyBpdCBhbmQgaG9sZHMgaXQgdG8gYmUgdXNlZA0KKyAgICAgKiB3aGVuIHByb2Nlc3Np
bmcgaW5jb21pbmcgSk1TIG1lc3NhZ2VzLiAgVGhlIHN0b3JlZCBsb2NhbCBjb25uZWN0aW9uIG9u
IEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyDQorICAgICAqIGRvZXMgbm90IGNvbm5lY3Qg
dG8gdG9waWNDb25uZWN0aW9uLCBhbmQgaW5zdGVhZCBtdXN0IGJlIHVzZWQgZnJvbSBhbiBNREIg
d2hlbiBhIG1lc3NhZ2UgaXMgcmVjZWl2ZWQNCisgICAgICovDQorICAgIHB1YmxpYyB2b2lkIGNy
ZWF0ZUxvY2FsQ29ubmVjdGlvbigpIHsNCisgICAgICAgIGlmKGxvY2FsQ29ubmVjdGlvbiA9PSBu
dWxsKSB7DQorICAgICAgICAgICAgbG9jYWxDb25uZWN0aW9uID0gbmV3IEpNU1RvcGljUmVtb3Rl
Q29ubmVjdGlvbihyY20pOw0KKyAgICAgICAgfQ0KKyAgICB9DQorICAgIA0KKw0KKyAgICAvKioN
CisgICAgICogSU5URVJOQUw6DQorICAgICAqIEluIGNhc2UgdGhlcmUncyBubyBleHRlcm5hbCBj
b25uZWN0aW9uIGF0dGVtcHRzIHRvIGNyZWF0ZSBvbmUuDQorICAgICAqIFJldHVybnMgY2xvbmUg
b2YgdGhlIG9yaWdpbmFsIG1hcC4NCisgICAgICovDQorICAgIHB1YmxpYyBIYXNodGFibGUgZ2V0
Q29ubmVjdGlvbnNUb0V4dGVybmFsU2VydmljZXNGb3JDb21tYW5kUHJvcGFnYXRpb24oKSB7DQor
ICAgICAgICBpZih0aGlzLmdldENvbm5lY3Rpb25zVG9FeHRlcm5hbFNlcnZpY2VzKCkuaXNFbXB0
eSgpICYmICF0aGlzLnJjbS5pc1N0b3BwZWQoKSkgew0KKyAgICAgICAgICAgIHRoaXMuY3JlYXRl
RXh0ZXJuYWxDb25uZWN0aW9uKCk7DQorICAgICAgICB9DQorICAgICAgICByZXR1cm4gc3VwZXIu
Z2V0Q29ubmVjdGlvbnNUb0V4dGVybmFsU2VydmljZXNGb3JDb21tYW5kUHJvcGFnYXRpb24oKTsN
CisgICAgfQ0KKw0KKyAgICAvKioNCisgICAgICogSU5URVJOQUw6DQorICAgICAqLw0KKyAgICBw
cm90ZWN0ZWQgVG9waWMgZ2V0VG9waWMoQ29udGV4dCByZW1vdGVIb3N0Q29udGV4dCkgew0KKyAg
ICAgICAgdHJ5IHsNCisgICAgICAgICAgICByZXR1cm4gKFRvcGljKXJlbW90ZUhvc3RDb250ZXh0
Lmxvb2t1cCh0b3BpY05hbWUpOw0KKyAgICAgICAgfSBjYXRjaCAoTmFtaW5nRXhjZXB0aW9uIGUp
IHsNCisgICAgICAgICAgICBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbiByY21FeGNlcHRp
b24gPSBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbi5lcnJvckxvb2tpbmdVcFJlbW90ZUNv
bm5lY3Rpb24odG9waWNOYW1lLCByY20uZ2V0VXJsKCksIGUpOw0KKyAgICAgICAgICAgIHJjbS5o
YW5kbGVFeGNlcHRpb24ocmNtRXhjZXB0aW9uKTsNCisgICAgICAgICAgICAvLyBJZiB0aGUgaGFu
ZGxlciBoYXNuJ3QgdGhyb3duIHRoZSBleGNlcHRpb24gcmV0aHJvdyBpdCBoZXJlIC0gaXQncyBp
bXBvc3NpYmxlIHRvIHJlY292ZXIuDQorICAgICAgICAgICAgdGhyb3cgcmNtRXhjZXB0aW9uOw0K
KyAgICAgICAgfQ0KKyAgICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5BTDoNCisgICAg
ICovDQorICAgIHByb3RlY3RlZCBUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5IGdldFRvcGljQ29ubmVj
dGlvbkZhY3RvcnkoQ29udGV4dCByZW1vdGVIb3N0Q29udGV4dCkgew0KKyAgICAgICAgdHJ5IHsN
CisgICAgICAgICAgICByZXR1cm4gKFRvcGljQ29ubmVjdGlvbkZhY3RvcnkpcmVtb3RlSG9zdENv
bnRleHQubG9va3VwKGNvbm5lY3Rpb25GYWN0b3J5TmFtZSk7DQorICAgICAgICB9IGNhdGNoIChO
YW1pbmdFeGNlcHRpb24gZSkgew0KKyAgICAgICAgICAgIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhj
ZXB0aW9uIHJjbUV4Y2VwdGlvbiA9IFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLmVycm9y
TG9va2luZ1VwUmVtb3RlQ29ubmVjdGlvbihjb25uZWN0aW9uRmFjdG9yeU5hbWUsIHJjbS5nZXRV
cmwoKSwgZSk7DQorICAgICAgICAgICAgcmNtLmhhbmRsZUV4Y2VwdGlvbihyY21FeGNlcHRpb24p
Ow0KKyAgICAgICAgICAgIC8vIElmIHRoZSBoYW5kbGVyIGhhc24ndCB0aHJvd24gdGhlIGV4Y2Vw
dGlvbiByZXRocm93IGl0IGhlcmUgLSBpdCdzIGltcG9zc2libGUgdG8gcmVjb3Zlci4NCisgICAg
ICAgICAgICB0aHJvdyByY21FeGNlcHRpb247DQorICAgICAgICB9DQorICAgIH0NCisNCisgICAg
LyoqDQorICAgICAqIFBVQkxJQzoNCisgICAgICogUmV0dXJuIHRoZSBKTVMgVG9waWMgQ29ubmVj
dGlvbiBGYWN0b3J5IE5hbWUgZm9yIHRoZSBKTVMgVG9waWMgY29ubmVjdGlvbnMuDQorICAgICAq
Lw0KKyAgICBwdWJsaWMgU3RyaW5nIGdldFRvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lKCkgew0K
KyAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25GYWN0b3J5TmFtZTsNCisgICAgfQ0KKw0KKyAgICAv
KioNCisgICAgICogUFVCTElDOg0KKyAgICAgKiBSZXR1cm4gdGhlIFVSTCBvZiB0aGUgbWFjaGlu
ZSBvbiB0aGUgbmV0d29yayB0aGF0IGhvc3RzIHRoZSBKTVMgVG9waWMuICBUaGlzIGlzIGEgcmVx
dWlyZWQgcHJvcGVydHkgYW5kIG11c3QgYmUgY29uZmlndXJlZC4NCisgICAgICovDQorICAgIHB1
YmxpYyBTdHJpbmcgZ2V0VG9waWNIb3N0VXJsKCkgew0KKyAgICAgICAgcmV0dXJuIChTdHJpbmcp
Z2V0UmVtb3RlQ29udGV4dFByb3BlcnRpZXMoKS5nZXQoQ29udGV4dC5QUk9WSURFUl9VUkwpOw0K
KyAgICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5BTDoNCisgICAgICogSW5pdGlhbGl6
ZSBkZWZhdWx0IHByb3BlcnRpZXMuDQorICAgICAqLw0KKyAgICBwdWJsaWMgdm9pZCBpbml0aWFs
aXplKCkgew0KKyAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZSgpOw0KKyAgICAgICAgdG9waWNOYW1l
ID0gREVGQVVMVF9UT1BJQzsNCisgICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5TmFtZSA9IERFRkFV
TFRfQ09OTkVDVElPTl9GQUNUT1JZOw0KKyAgICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRF
Uk5BTDoNCisgICAgICogTm8tb3AsIGFzIHRoZSBsb2NhbCBjb25uZWN0aW9uIGRvZXMgbm90IG5l
ZWQgdG8gYmUgcmVtb3ZlZCBmcm9tIEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyLg0KKyAg
ICAgKiBBbiBhcHBsaWNhdGlvbiBtdXN0IGNsb3NlIHRoZSBjb25uZWN0aW9uIGRpcmVjdGx5IGlm
IGl0IGlzIHVzaW5nIHRoZSBsb2NhbCBjb25uZWN0aW9uIGFzIGEgbGlzdGVuZXIuDQorICAgICAq
Lw0KKyAgICBwdWJsaWMgdm9pZCByZW1vdmVMb2NhbENvbm5lY3Rpb24oKSB7fQ0KKw0KKyAgICAv
KioNCisgICAgICogQURWQU5DRUQ6DQorICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbm90IHN1cHBv
cnRlZCBmb3IgbmFtaW5nIHNlcnZpY2Ugb3RoZXIgdGhhbiBKTkRJIG9yIFRyYW5zcG9ydE1hbmFn
ZXIuSk5ESV9OQU1JTkdfU0VSVklDRS4NCisgICAgICovDQorICAgIHB1YmxpYyB2b2lkIHNldE5h
bWluZ1NlcnZpY2VUeXBlKGludCBzZXJ2aWNlVHlwZSkgew0KKyAgICAgICAgaWYgKHNlcnZpY2VU
eXBlICE9IFRyYW5zcG9ydE1hbmFnZXIuSk5ESV9OQU1JTkdfU0VSVklDRSkgew0KKyAgICAgICAg
ICAgIHRocm93IFZhbGlkYXRpb25FeGNlcHRpb24ub3BlcmF0aW9uTm90U3VwcG9ydGVkKCJzZXRO
YW1pbmdTZXJ2aWNlVHlwZSIpOw0KKyAgICAgICAgfQ0KKyAgICB9DQorDQorICAgIC8qKg0KKyAg
ICAgKiBQVUJMSUM6DQorICAgICAqIENvbmZpZ3VyZSB0aGUgSk1TIFRvcGljIENvbm5lY3Rpb24g
RmFjdG9yeSBOYW1lIGZvciB0aGUgSk1TIFRvcGljIGNvbm5lY3Rpb25zLg0KKyAgICAgKi8NCisg
ICAgcHVibGljIHZvaWQgc2V0VG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWUoU3RyaW5nIG5ld1Rv
cGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lKSB7DQorICAgICAgICBjb25uZWN0aW9uRmFjdG9yeU5h
bWUgPSBuZXdUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZTsNCisgICAgfQ0KKw0KKyAgICAvKioN
CisgICAgICogUFVCTElDOg0KKyAgICAgKiBDb25maWd1cmUgdGhlIFVSTCBvZiB0aGUgbWFjaGlu
ZSBvbiB0aGUgbmV0d29yayB0aGF0IGhvc3RzIHRoZSBKTVMgVG9waWMuIFRoaXMgaXMgYSByZXF1
aXJlZCBwcm9wZXJ0eSBhbmQgbXVzdCBiZSBjb25maWd1cmVkLg0KKyAgICAgKi8NCisgICAgcHVi
bGljIHZvaWQgc2V0VG9waWNIb3N0VXJsKFN0cmluZyBqbXNIb3N0VXJsKSB7DQorICAgICAgICBn
ZXRSZW1vdGVDb250ZXh0UHJvcGVydGllcygpLnB1dChDb250ZXh0LlBST1ZJREVSX1VSTCwgam1z
SG9zdFVybCk7DQorICAgICAgICByY20uZ2V0U2VydmljZUlkKCkuc2V0VVJMKGptc0hvc3RVcmwp
Ow0KKyAgICB9DQorfSAgDQpJbmRleDogZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5j
ZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9zZXNzaW9ucy9jb29yZGluYXRpb24v
am1zL0pNU1RvcGljVHJhbnNwb3J0TWFuYWdlci5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLS0gZm91bmRh
dGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0
ZW5jZS9zZXNzaW9ucy9jb29yZGluYXRpb24vam1zL0pNU1RvcGljVHJhbnNwb3J0TWFuYWdlci5q
YXZhCShyZXZpc2lvbiA2NDYyKQ0KKysrIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVu
Y2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uvc2Vzc2lvbnMvY29vcmRpbmF0aW9u
L2ptcy9KTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXIuamF2YQkod29ya2luZyBjb3B5KQ0KQEAgLTEz
LDIxICsxMywxNCBAQA0KIHBhY2thZ2Ugb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMu
Y29vcmRpbmF0aW9uLmptczsNCiANCiBpbXBvcnQgamF2YS51dGlsLkhhc2h0YWJsZTsNCi1pbXBv
cnQgamF2YXgubmFtaW5nLkNvbnRleHQ7DQotaW1wb3J0IGphdmF4Lm5hbWluZy5OYW1pbmdFeGNl
cHRpb247DQotaW1wb3J0IGphdmF4Lmptcy5Ub3BpYzsNCi1pbXBvcnQgamF2YXguam1zLlRvcGlj
Q29ubmVjdGlvbjsNCi1pbXBvcnQgamF2YXguam1zLlRvcGljQ29ubmVjdGlvbkZhY3Rvcnk7DQog
aW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmV4Y2VwdGlvbnMuUmVtb3RlQ29tbWFuZE1h
bmFnZXJFeGNlcHRpb247DQotaW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmV4Y2VwdGlv
bnMuVmFsaWRhdGlvbkV4Y2VwdGlvbjsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uu
aW50ZXJuYWwuc2Vzc2lvbnMuY29vcmRpbmF0aW9uLmptcy5KTVNUb3BpY1JlbW90ZUNvbm5lY3Rp
b247DQotaW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlv
bi5icm9hZGNhc3QuQnJvYWRjYXN0VHJhbnNwb3J0TWFuYWdlcjsNCiBpbXBvcnQgb3JnLmVjbGlw
c2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuY29vcmRpbmF0aW9uLlJlbW90ZUNvbW1hbmRNYW5hZ2Vy
Ow0KLWltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24u
VHJhbnNwb3J0TWFuYWdlcjsNCiANCiAvKioNCiAgKiA8cD4NCi0gKiA8Yj5QdXJwb3NlPC9iPjog
UHJvdmlkZSBhIEpNUyB0cmFuc3BvcnQgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBSZW1vdGUgQ29t
bWFuZCBNb2R1bGUgKFJDTSkuDQorICogPGI+UHVycG9zZTwvYj46IFByb3ZpZGUgYSB0cmFuc3Bv
cnQgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBSZW1vdGUgQ29tbWFuZCBNb2R1bGUgKFJDTSkgdGhh
dCBib3RoIHB1Ymxpc2hlcw0KKyAqIGFuZCBzdWJzY3JpYmVzIHRvIGEgSk1TIHRvcGljLiAgDQog
ICogPHA+DQogICogPGI+RGVzY3JpcHRpb248L2I+OiBUaGlzIGNsYXNzIG1hbmFnZXMgdHdvIGNv
bm5lY3Rpb25zIHRvIHRoZSBzYW1lIGtub3duIEpNUyBUb3BpYzoNCiAgKiBleHRlcm5hbCBjb25u
ZWN0aW9uIGZvciBwdWJsaXNoaW5nLCBsb2NhbCBjb25uZWN0aW9uIGZvciByZWNlaXZpbmcgbWVz
c2FnZXMuDQpAQCAtMzUsNDAgKzI4LDE0IEBADQogICogQGF1dGhvciBTdGV2ZW4gVm8NCiAgKiBA
c2luY2UgT3JhY2xlQVMgVG9wTGluayAxMDxpPmc8L2k+ICgxMC4wLjMpDQogICovDQotcHVibGlj
IGNsYXNzIEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlciBleHRlbmRzIEJyb2FkY2FzdFRyYW5zcG9y
dE1hbmFnZXIgew0KLSAgICBwcm90ZWN0ZWQgU3RyaW5nIGNvbm5lY3Rpb25GYWN0b3J5TmFtZTsN
CitwdWJsaWMgY2xhc3MgSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyIGV4dGVuZHMgSk1TUHVibGlz
aGluZ1RyYW5zcG9ydE1hbmFnZXIgew0KIA0KLSAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmlu
ZyBERUZBVUxUX1RPUElDID0gImptcy9FY2xpcHNlTGlua1RvcGljIjsNCi0gICAgcHVibGljIHN0
YXRpYyBmaW5hbCBTdHJpbmcgREVGQVVMVF9DT05ORUNUSU9OX0ZBQ1RPUlkgPSAiam1zL0VjbGlw
c2VMaW5rVG9waWNDb25uZWN0aW9uRmFjdG9yeSI7DQotDQogICAgIHB1YmxpYyBKTVNUb3BpY1Ry
YW5zcG9ydE1hbmFnZXIoUmVtb3RlQ29tbWFuZE1hbmFnZXIgcmNtKSB7DQogICAgICAgICBzdXBl
cihyY20pOw0KICAgICB9DQotDQorICAgIA0KICAgICAvKioNCiAgICAgICogSU5URVJOQUw6DQot
ICAgICAqIEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlciBoYXMgbWF4aW11bSBvbmUgZXh0ZXJuYWwg
Y29ubmVjdGlvbi4NCi0gICAgICogVmVyaWZ5IHRoZXJlIGFyZSBubyBleHRlcm5hbCBjb25uZWN0
aW9ucywNCi0gICAgICogY3JlYXRlIGEgbmV3IGV4dGVybmFsIGNvbm5lY3Rpb24sIA0KLSAgICAg
KiBhZGQgaXQgdG8gZXh0ZXJuYWwgY29ubmVjdGlvbnMnIG1hcC4NCi0gICAgICovDQotICAgIHB1
YmxpYyB2b2lkIGNyZWF0ZUV4dGVybmFsQ29ubmVjdGlvbigpIHsNCi0gICAgICAgIHN5bmNocm9u
aXplZChjb25uZWN0aW9uc1RvRXh0ZXJuYWxTZXJ2aWNlcykgew0KLSAgICAgICAgICAgIGlmKGNv
bm5lY3Rpb25zVG9FeHRlcm5hbFNlcnZpY2VzLmlzRW1wdHkoKSkgew0KLSAgICAgICAgICAgICAg
ICB0cnkgew0KLSAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbnNUb0V4dGVybmFsU2Vydmlj
ZXMucHV0KHJjbS5nZXRTZXJ2aWNlSWQoKS5nZXRJZCgpLCBjcmVhdGVDb25uZWN0aW9uKGZhbHNl
KSk7DQotICAgICAgICAgICAgICAgIH0gY2F0Y2ggKFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0
aW9uIHJjbUV4Y2VwdGlvbikgew0KLSAgICAgICAgICAgICAgICAgICAgLy8gdG8gcmVjb3ZlciBo
YW5kbGUgUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24uRVJST1JfQ1JFQVRJTkdfSk1TX0NP
Tk5FQ1RJT046DQotICAgICAgICAgICAgICAgICAgICAvLyBhZnRlciBjaGFuZ2luZyBzb21ldGhp
bmcgKGZvciBpbnN0YW5jZSBqbXNIb3N0VXJsKQ0KLSAgICAgICAgICAgICAgICAgICAgLy8gY2Fs
bCBjcmVhdGVFeHRlcm5hbENvbm5lY3Rpb24gbWV0aG9kIGFnYWluLg0KLSAgICAgICAgICAgICAg
ICAgICAgcmNtLmhhbmRsZUV4Y2VwdGlvbihyY21FeGNlcHRpb24pOw0KLSAgICAgICAgICAgICAg
ICB9DQotICAgICAgICAgICAgfSAgICAgICAgICAgIA0KLSAgICAgICAgfQ0KLSAgICB9DQotDQot
ICAgIC8qKg0KLSAgICAgKiBJTlRFUk5BTDoNCiAgICAgICogSk1TVG9waWNUcmFuc3BvcnRNYW5h
Z2VyIG1heSBoYXZlIG9ubHkgdHdvIGNvbm5lY3Rpb25zOiBvbmUgbG9jYWwgYW5kIG9uZSBleHRl
cm5hbC4NCiAgICAgICogSW4gY2FzZSB0aGUgbG9jYWwgY29ubmVjdGlvbiBkb2Vzbid0IGV4aXN0
LCB0aGlzIG1ldGhvZCBjcmVhdGVzIGl0Lg0KICAgICAgKi8NCkBAIC04NywzNSArNTQsMjcgQEAN
CiANCiAgICAgLyoqDQogICAgICAqIElOVEVSTkFMOg0KLSAgICAgKiBUaGlzIG1ldGhvZCBjcmVh
dGVzIEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbiB0byBiZSB1c2VkIGJ5IHRoaXMgVHJhbnNwb3J0
TWFuYWdlci4NCi0gICAgICogRG9uJ3QgY29uZnVzZSB0aGlzIG1ldGhvZCB3aXRoIG5vLW9wIGNy
ZWF0ZUNvbm5lY3Rpb24oU2VydmljZUlkIHNlcnZpY2VJZCkuDQorICAgICAqIEluIGNhc2UgdGhl
cmUncyBubyBleHRlcm5hbCBjb25uZWN0aW9uIGF0dGVtcHRzIHRvIGNyZWF0ZSBvbmUsDQorICAg
ICAqIGlmIHRoYXQncyBzdWNjZXNzZnVsIHRoZW4gKGluIGNhc2UgdGhlcmUgaXMgbm8gbG9jYWwg
Y29ubmVjdGlvbiwgdG9vKQ0KKyAgICAgKiBhdHRlbXB0cyB0byBjcmVhdGUgbG9jYWwgY29ubmVj
dGlvbiBpbiBhIHNlcGFyYXRlIHRocmVhZC4NCisgICAgICogUmV0dXJucyBjbG9uZSBvZiB0aGUg
b3JpZ2luYWwgbWFwLg0KICAgICAgKi8NCi0gICAgcHJvdGVjdGVkIEpNU1RvcGljUmVtb3RlQ29u
bmVjdGlvbiBjcmVhdGVDb25uZWN0aW9uKGJvb2xlYW4gaXNMb2NhbENvbm5lY3Rpb25CZWluZ0Ny
ZWF0ZWQpIHRocm93cyBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbiB7DQotICAgICAgICBD
b250ZXh0IHJlbW90ZUhvc3RDb250ZXh0ID0gbnVsbDsNCi0gICAgICAgIHRyeSB7DQotICAgICAg
ICAgICAgcmVtb3RlSG9zdENvbnRleHQgPSBnZXRSZW1vdGVIb3N0Q29udGV4dChnZXRUb3BpY0hv
c3RVcmwoKSk7DQotICAgICAgICAgICAgVG9waWNDb25uZWN0aW9uRmFjdG9yeSBjb25uZWN0aW9u
RmFjdG9yeSA9IGdldFRvcGljQ29ubmVjdGlvbkZhY3RvcnkocmVtb3RlSG9zdENvbnRleHQpOw0K
LSAgICAgICAgICAgIFRvcGljIHRvcGljID0gZ2V0VG9waWMocmVtb3RlSG9zdENvbnRleHQpOyAg
ICANCi0gICAgICAgICAgICBUb3BpY0Nvbm5lY3Rpb24gdG9waWNDb25uZWN0aW9uID0gY29ubmVj
dGlvbkZhY3RvcnkuY3JlYXRlVG9waWNDb25uZWN0aW9uKCk7DQotICAgICAgICAgICAgLy8gZXh0
ZXJuYWwgY29ubmVjdGlvbiBpcyBhIHB1aWJsaXNoZXI7IGxvY2FsIGNvbm5lY3Rpb24gaXMgYSBz
dWJzY3JpYmVyDQotICAgICAgICAgICAgcmV0dXJuIG5ldyBKTVNUb3BpY1JlbW90ZUNvbm5lY3Rp
b24ocmNtLCB0b3BpY0Nvbm5lY3Rpb24sIHRvcGljLCBpc0xvY2FsQ29ubmVjdGlvbkJlaW5nQ3Jl
YXRlZCk7DQotICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZXgpIHsNCi0gICAgICAgICAgICBS
ZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbiByY21FeGNlcHRpb247DQotICAgICAgICAgICAg
aWYoaXNMb2NhbENvbm5lY3Rpb25CZWluZ0NyZWF0ZWQpIHsNCi0gICAgICAgICAgICAgICAgcmNt
RXhjZXB0aW9uID0gUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24uZXJyb3JDcmVhdGluZ0xv
Y2FsSk1TQ29ubmVjdGlvbih0b3BpY05hbWUsIGNvbm5lY3Rpb25GYWN0b3J5TmFtZSwgZ2V0UmVt
b3RlQ29udGV4dFByb3BlcnRpZXMoKSwgZXgpOw0KLSAgICAgICAgICAgIH0gZWxzZSB7DQotICAg
ICAgICAgICAgICAgIHJjbUV4Y2VwdGlvbiA9IFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9u
LmVycm9yQ3JlYXRpbmdKTVNDb25uZWN0aW9uKHRvcGljTmFtZSwgY29ubmVjdGlvbkZhY3RvcnlO
YW1lLCBnZXRSZW1vdGVDb250ZXh0UHJvcGVydGllcygpLCBleCk7DQotICAgICAgICAgICAgfQ0K
LSAgICAgICAgICAgIHRocm93IHJjbUV4Y2VwdGlvbjsNCi0gICAgICAgIH0gZmluYWxseSB7DQot
ICAgICAgICAgICAgaWYocmVtb3RlSG9zdENvbnRleHQgIT0gbnVsbCkgew0KLSAgICAgICAgICAg
ICAgICB0cnkgew0KLSAgICAgICAgICAgICAgICAgICAgcmVtb3RlSG9zdENvbnRleHQuY2xvc2Uo
KTsNCi0gICAgICAgICAgICAgICAgfSBjYXRjaCAoTmFtaW5nRXhjZXB0aW9uIG5hbWluZ0V4Y2Vw
dGlvbikgew0KLSAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlDQorICAgIHB1YmxpYyBIYXNo
dGFibGUgZ2V0Q29ubmVjdGlvbnNUb0V4dGVybmFsU2VydmljZXNGb3JDb21tYW5kUHJvcGFnYXRp
b24oKSB7DQorICAgICAgICBpZih0aGlzLmxvY2FsQ29ubmVjdGlvbiA9PSBudWxsICYmICF0aGlz
LnJjbS5pc1N0b3BwZWQoKSkgew0KKyAgICAgICAgICAgIC8vIEl0J3MgYSBnb29kIHRpbWUgdG8g
Y3JlYXRlIGxvY2FsQ29ubmVjdGlvbiwNCisgICAgICAgICAgICAvLyBpbiBhIG5ldyB0aHJlYWQg
LSB0byByZXR1cm4gZXh0ZXJuYWxDb25uZWN0aW9ucyBwcm9tcHRseS4NCisgICAgICAgICAgICB0
aGlzLnJjbS5nZXRTZXJ2ZXJQbGF0Zm9ybSgpLmxhdW5jaENvbnRhaW5lclJ1bm5hYmxlKG5ldyBS
dW5uYWJsZSgpIHsNCisgICAgICAgICAgICAgICAgcHVibGljIHZvaWQgcnVuKCkgew0KKyAgICAg
ICAgICAgICAgICAgICAgdHJ5IHsNCisgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVMb2Nh
bENvbm5lY3Rpb24oKTsNCisgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKFJlbW90ZUNvbW1h
bmRNYW5hZ2VyRXhjZXB0aW9uIGV4KSB7DQorICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWdu
b3JlIGV4Y2VwdGlvbiAtIHVzZXIgaGFkIGEgY2hhbmNlIHRvIGhhbmRsZSBpdCBpbiBjcmVhdGVM
b2NhbENvbm5lY3Rpb24gbWV0aG9kOg0KKyAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvciBp
bnN0YW5jZSB0byBjaGFuZ2UgaG9zdCB1cmwgYW5kIGNyZWF0ZSBhIG5ldyBsb2NhbCBjb25uZWN0
aW9uLg0KKyAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICB9DQotICAgICAg
ICAgICAgfQ0KKyAgICAgICAgICAgIH0pOw0KICAgICAgICAgfQ0KKyAgICAgICAgcmV0dXJuIHN1
cGVyLmdldENvbm5lY3Rpb25zVG9FeHRlcm5hbFNlcnZpY2VzRm9yQ29tbWFuZFByb3BhZ2F0aW9u
KCk7DQogICAgIH0NCiAgICAgDQogICAgIC8qKg0KQEAgLTEzMSwxMjggKzkwLDkgQEANCiAgICAg
ICAgICAgICAgICAgY29ubmVjdGlvblRvUmVtb3ZlID0gbnVsbDsNCiAgICAgICAgICAgICB9DQog
ICAgICAgICB9DQotICAgICAgICAvLyBjbG9zaW5nIGNvbm5lY3Rpb24gbWF5IHRha2UgdGltZSAt
IGRvIGl0IG91dHNpZGUgb2YgdGhlIHN5bmNocm9uemVkIGJsb2NrDQorICAgICAgICAvLyBjbG9z
aW5nIGNvbm5lY3Rpb24gbWF5IHRha2UgdGltZSAtIGRvIGl0IG91dHNpZGUgb2YgdGhlIHN5bmNo
cm9uaXplZCBibG9jaw0KICAgICAgICAgaWYoY29ubmVjdGlvblRvUmVtb3ZlICE9IG51bGwpIHsN
CiAgICAgICAgICAgICBjb25uZWN0aW9uVG9SZW1vdmUuY2xvc2UoKTsNCiAgICAgICAgIH0NCiAg
ICAgfQ0KLQ0KLSAgICAvKioNCi0gICAgICogSU5URVJOQUw6DQotICAgICAqIEpNVG9waWNUcmFu
c3BvcnRNYW5hZ2VyIGRvZXNuJ3QgdXNlIERpc2NvdmVyeU1hbmFnZXIsIHRoZXJlZm9yZQ0KLSAg
ICAgKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgZHVyaW5nIFJDTSBpbml0aWFsaXphdGlvbiB0byBj
cmVhdGUgYWxsIHRoZSBuZWNlc3NhcnkgY29ubmVjdGlvbnMuDQotICAgICAqLw0KLSAgICBwdWJs
aWMgdm9pZCBjcmVhdGVDb25uZWN0aW9ucygpIHsNCi0gICAgICAgIGNyZWF0ZUV4dGVybmFsQ29u
bmVjdGlvbigpOw0KLSAgICAgICAgY3JlYXRlTG9jYWxDb25uZWN0aW9uKCk7DQotICAgIH0NCi0N
Ci0gICAgLyoqDQotICAgICAqIFBVQkxJQzoNCi0gICAgICogQ29uZmlndXJlIHRoZSBKTVMgVG9w
aWMgQ29ubmVjdGlvbiBGYWN0b3J5IE5hbWUgZm9yIHRoZSBKTVMgVG9waWMgY29ubmVjdGlvbnMu
DQotICAgICAqLw0KLSAgICBwdWJsaWMgdm9pZCBzZXRUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFt
ZShTdHJpbmcgbmV3VG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWUpIHsNCi0gICAgICAgIGNvbm5l
Y3Rpb25GYWN0b3J5TmFtZSA9IG5ld1RvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lOw0KLSAgICB9
DQotDQotICAgIC8qKg0KLSAgICAgKiBQVUJMSUM6DQotICAgICAqIFJldHVybiB0aGUgSk1TIFRv
cGljIENvbm5lY3Rpb24gRmFjdG9yeSBOYW1lIGZvciB0aGUgSk1TIFRvcGljIGNvbm5lY3Rpb25z
Lg0KLSAgICAgKi8NCi0gICAgcHVibGljIFN0cmluZyBnZXRUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5
TmFtZSgpIHsNCi0gICAgICAgIHJldHVybiBjb25uZWN0aW9uRmFjdG9yeU5hbWU7DQotICAgIH0N
Ci0NCi0gICAgLyoqDQotICAgICAqIElOVEVSTkFMOg0KLSAgICAgKiBJbml0aWFsaXplIGRlZmF1
bHQgcHJvcGVydGllcy4NCi0gICAgICovDQotICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoKSB7
DQotICAgICAgICBzdXBlci5pbml0aWFsaXplKCk7DQotICAgICAgICB0b3BpY05hbWUgPSBERUZB
VUxUX1RPUElDOw0KLSAgICAgICAgY29ubmVjdGlvbkZhY3RvcnlOYW1lID0gREVGQVVMVF9DT05O
RUNUSU9OX0ZBQ1RPUlk7DQotICAgIH0NCi0NCi0gICAgLyoqDQotICAgICAqIFBVQkxJQzoNCi0g
ICAgICogUmV0dXJuIHRoZSBVUkwgb2YgdGhlIG1hY2hpbmUgb24gdGhlIG5ldHdvcmsgdGhhdCBo
b3N0cyB0aGUgSk1TIFRvcGljLiAgVGhpcyBpcyBhIHJlcXVpcmVkIHByb3BlcnR5IGFuZCBtdXN0
IGJlIGNvbmZpZ3VyZWQuDQotICAgICAqLw0KLSAgICBwdWJsaWMgU3RyaW5nIGdldFRvcGljSG9z
dFVybCgpIHsNCi0gICAgICAgIHJldHVybiAoU3RyaW5nKWdldFJlbW90ZUNvbnRleHRQcm9wZXJ0
aWVzKCkuZ2V0KENvbnRleHQuUFJPVklERVJfVVJMKTsNCi0gICAgfQ0KLQ0KLSAgICAvKioNCi0g
ICAgICogUFVCTElDOg0KLSAgICAgKiBDb25maWd1cmUgdGhlIFVSTCBvZiB0aGUgbWFjaGluZSBv
biB0aGUgbmV0d29yayB0aGF0IGhvc3RzIHRoZSBKTVMgVG9waWMuIFRoaXMgaXMgYSByZXF1aXJl
ZCBwcm9wZXJ0eSBhbmQgbXVzdCBiZSBjb25maWd1cmVkLg0KLSAgICAgKi8NCi0gICAgcHVibGlj
IHZvaWQgc2V0VG9waWNIb3N0VXJsKFN0cmluZyBqbXNIb3N0VXJsKSB7DQotICAgICAgICBnZXRS
ZW1vdGVDb250ZXh0UHJvcGVydGllcygpLnB1dChDb250ZXh0LlBST1ZJREVSX1VSTCwgam1zSG9z
dFVybCk7DQotICAgICAgICByY20uZ2V0U2VydmljZUlkKCkuc2V0VVJMKGptc0hvc3RVcmwpOw0K
LSAgICB9DQotDQotICAgIC8qKg0KLSAgICAgKiBBRFZBTkNFRDoNCi0gICAgICogVGhpcyBmdW5j
YXRpb24gaXMgbm90IHN1cHBvcnRlZCBmb3IgbmFtaW5nIHNlcnZpY2Ugb3RoZXIgdGhhbiBKTkRJ
IG9yIFRyYW5zcG9ydE1hbmFnZXIuSk5ESV9OQU1JTkdfU0VSVklDRS4NCi0gICAgICovDQotICAg
IHB1YmxpYyB2b2lkIHNldE5hbWluZ1NlcnZpY2VUeXBlKGludCBzZXJ2aWNlVHlwZSkgew0KLSAg
ICAgICAgaWYgKHNlcnZpY2VUeXBlICE9IFRyYW5zcG9ydE1hbmFnZXIuSk5ESV9OQU1JTkdfU0VS
VklDRSkgew0KLSAgICAgICAgICAgIHRocm93IFZhbGlkYXRpb25FeGNlcHRpb24ub3BlcmF0aW9u
Tm90U3VwcG9ydGVkKCJzZXROYW1pbmdTZXJ2aWNlVHlwZSIpOw0KLSAgICAgICAgfQ0KLSAgICB9
DQotDQotICAgIC8qKg0KLSAgICAgKiBJTlRFUk5BTDoNCi0gICAgICovDQotICAgIHByb3RlY3Rl
ZCBUb3BpYyBnZXRUb3BpYyhDb250ZXh0IHJlbW90ZUhvc3RDb250ZXh0KSB7DQotICAgICAgICB0
cnkgew0KLSAgICAgICAgICAgIHJldHVybiAoVG9waWMpcmVtb3RlSG9zdENvbnRleHQubG9va3Vw
KHRvcGljTmFtZSk7DQotICAgICAgICB9IGNhdGNoIChOYW1pbmdFeGNlcHRpb24gZSkgew0KLSAg
ICAgICAgICAgIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uIHJjbUV4Y2VwdGlvbiA9IFJl
bW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLmVycm9yTG9va2luZ1VwUmVtb3RlQ29ubmVjdGlv
bih0b3BpY05hbWUsIHJjbS5nZXRVcmwoKSwgZSk7DQotICAgICAgICAgICAgcmNtLmhhbmRsZUV4
Y2VwdGlvbihyY21FeGNlcHRpb24pOw0KLSAgICAgICAgICAgIC8vIElmIHRoZSBoYW5kbGVyIGhh
c24ndCB0aHJvd24gdGhlIGV4Y2VwdGlvbiByZXRocm93IGl0IGhlcmUgLSBpdCdzIGltcG9zc2li
bGUgdG8gcmVjb3Zlci4NCi0gICAgICAgICAgICB0aHJvdyByY21FeGNlcHRpb247DQotICAgICAg
ICB9DQotICAgIH0NCi0NCi0gICAgLyoqDQotICAgICAqIElOVEVSTkFMOg0KLSAgICAgKi8NCi0g
ICAgcHJvdGVjdGVkIFRvcGljQ29ubmVjdGlvbkZhY3RvcnkgZ2V0VG9waWNDb25uZWN0aW9uRmFj
dG9yeShDb250ZXh0IHJlbW90ZUhvc3RDb250ZXh0KSB7DQotICAgICAgICB0cnkgew0KLSAgICAg
ICAgICAgIHJldHVybiAoVG9waWNDb25uZWN0aW9uRmFjdG9yeSlyZW1vdGVIb3N0Q29udGV4dC5s
b29rdXAoY29ubmVjdGlvbkZhY3RvcnlOYW1lKTsNCi0gICAgICAgIH0gY2F0Y2ggKE5hbWluZ0V4
Y2VwdGlvbiBlKSB7DQotICAgICAgICAgICAgUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24g
cmNtRXhjZXB0aW9uID0gUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24uZXJyb3JMb29raW5n
VXBSZW1vdGVDb25uZWN0aW9uKGNvbm5lY3Rpb25GYWN0b3J5TmFtZSwgcmNtLmdldFVybCgpLCBl
KTsNCi0gICAgICAgICAgICByY20uaGFuZGxlRXhjZXB0aW9uKHJjbUV4Y2VwdGlvbik7DQotICAg
ICAgICAgICAgLy8gSWYgdGhlIGhhbmRsZXIgaGFzbid0IHRocm93biB0aGUgZXhjZXB0aW9uIHJl
dGhyb3cgaXQgaGVyZSAtIGl0J3MgaW1wb3NzaWJsZSB0byByZWNvdmVyLg0KLSAgICAgICAgICAg
IHRocm93IHJjbUV4Y2VwdGlvbjsNCi0gICAgICAgIH0NCi0gICAgfQ0KLQ0KLSAgICAvKioNCi0g
ICAgICogSU5URVJOQUw6DQotICAgICAqIEluIGNhc2UgdGhlcmUncyBubyBleHRlcm5hbCBjb25u
ZWN0aW9uIGF0dGVtcHRzIHRvIGNyZWF0ZSBvbmUsDQotICAgICAqIGlmIHRoYXQncyBzdWNjZXNz
ZnVsIHRoZW4gKGluIGNhc2UgdGhlcmUgaXMgbm8gbG9jYWwgY29ubmVjdGlvbiwgdG9vKQ0KLSAg
ICAgKiBhdHRlbXB0cyB0byBjcmVhdGUgbG9jYWwgY29ubmVjdGlvbiBpbiBhIHNlcGFyYXRlIHRo
cmVhZC4NCi0gICAgICogUmV0dXJucyBjbG9uZSBvZiB0aGUgb3JpZ2luYWwgbWFwLg0KLSAgICAg
Ki8NCi0gICAgcHVibGljIEhhc2h0YWJsZSBnZXRDb25uZWN0aW9uc1RvRXh0ZXJuYWxTZXJ2aWNl
c0ZvckNvbW1hbmRQcm9wYWdhdGlvbigpIHsNCi0gICAgICAgIGlmKHRoaXMuZ2V0Q29ubmVjdGlv
bnNUb0V4dGVybmFsU2VydmljZXMoKS5pc0VtcHR5KCkgJiYgIXRoaXMucmNtLmlzU3RvcHBlZCgp
KSB7DQotICAgICAgICAgICAgdGhpcy5jcmVhdGVFeHRlcm5hbENvbm5lY3Rpb24oKTsNCi0gICAg
ICAgICAgICBpZih0aGlzLmxvY2FsQ29ubmVjdGlvbiA9PSBudWxsKSB7DQotICAgICAgICAgICAg
ICAgIC8vIEl0J3MgYSBnb29kIHRpbWUgdG8gY3JlYXRlIGxvY2FsQ29ubmVjdGlvbiwNCi0gICAg
ICAgICAgICAgICAgLy8gaW4gYSBuZXcgdGhyZWFkIC0gdG8gcmV0dXJuIGV4dGVybmFsQ29ubmVj
dGlvbnMgcHJvbXB0bHkuDQotICAgICAgICAgICAgICAgIHRoaXMucmNtLmdldFNlcnZlclBsYXRm
b3JtKCkubGF1bmNoQ29udGFpbmVyUnVubmFibGUobmV3IFJ1bm5hYmxlKCkgew0KLSAgICAgICAg
ICAgICAgICAgICAgcHVibGljIHZvaWQgcnVuKCkgew0KLSAgICAgICAgICAgICAgICAgICAgICAg
IHRyeSB7DQotICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUxvY2FsQ29ubmVjdGlv
bigpOw0KLSAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKFJlbW90ZUNvbW1hbmRNYW5h
Z2VyRXhjZXB0aW9uIGV4KSB7DQotICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElnbm9y
ZSBleGNlcHRpb24gLSB1c2VyIGhhZCBhIGNoYW5jZSB0byBoYW5kbGUgaXQgaW4gY3JlYXRlTG9j
YWxDb25uZWN0aW9uIG1ldGhvZDoNCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9y
IGluc3RhbmNlIHRvIGNoYW5nZSBob3N0IHVybCBhbmQgY3JlYXRlIGEgbmV3IGxvY2FsIGNvbm5l
Y3Rpb24uDQotICAgICAgICAgICAgICAgICAgICAgICAgfQ0KLSAgICAgICAgICAgICAgICAgICAg
fQ0KLSAgICAgICAgICAgICAgICB9KTsNCi0gICAgICAgICAgICB9DQotICAgICAgICB9DQotICAg
ICAgICByZXR1cm4gc3VwZXIuZ2V0Q29ubmVjdGlvbnNUb0V4dGVybmFsU2VydmljZXNGb3JDb21t
YW5kUHJvcGFnYXRpb24oKTsNCi0gICAgfQ0KIH0NCkluZGV4OiBmb3VuZGF0aW9uL29yZy5lY2xp
cHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL3Nlc3Npb25z
L2Nvb3JkaW5hdGlvbi9SZW1vdGVDb21tYW5kTWFuYWdlci5qYXZhDQo9PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLS0g
Zm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9w
ZXJzaXN0ZW5jZS9zZXNzaW9ucy9jb29yZGluYXRpb24vUmVtb3RlQ29tbWFuZE1hbmFnZXIuamF2
YQkocmV2aXNpb24gNjQ2MikNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNl
LmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL3Nlc3Npb25zL2Nvb3JkaW5hdGlvbi9S
ZW1vdGVDb21tYW5kTWFuYWdlci5qYXZhCSh3b3JraW5nIGNvcHkpDQpAQCAtMjgsNyArMjgsNyBA
QA0KIA0KIC8qKg0KICAqIDxwPg0KLSAqIDxiPlB1cnBvc2U8L2I+OiBQcm92aWRlIGEgQ29tbWFu
ZE1hbmFnZXIgaW1wbGVtZW50YXRpb24gZm9yIGNhY2VoIGNvb3JkaW5hdGlvbi4NCisgKiA8Yj5Q
dXJwb3NlPC9iPjogUHJvdmlkZSBhIENvbW1hbmRNYW5hZ2VyIGltcGxlbWVudGF0aW9uIGZvciBj
YWNoZSBjb29yZGluYXRpb24uDQogICogPHA+DQogICogPGI+RGVzY3JpcHRpb248L2I+OiBBIFJl
bW90ZUNvbW1hbmRNYW5hZ2VyIChvciBSQ00pIGluc3RhbmNlIGlzIHRoZSBwcmltYXJ5IGNvbXBv
bmVudA0KICAqIG9mIGFuIFJDTSBzZXJ2aWNlIGluc3RhbmNlLiBJdCBtYW5hZ2VzIHRoZSBvdGhl
ciBjb21wb25lbnRzIG9mIHRoZSBzZXJ2aWNlLCBhbmQNCg==
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>158221</attachid>
            <date>2010-02-04 15:12:00 -0500</date>
            <delta_ts>2010-02-04 16:05:09 -0500</delta_ts>
            <desc>proposed patch v3</desc>
            <filename>214534_v3.patch</filename>
            <type>text/plain</type>
            <size>60929</size>
            <attacher name="Chris Delahunt">christopher.delahunt</attacher>
            
              <data encoding="base64">SW5kZXg6IGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2Vj
bGlwc2UvcGVyc2lzdGVuY2UvY29uZmlnL1BlcnNpc3RlbmNlVW5pdFByb3BlcnRpZXMuamF2YQ0K
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQ0KLS0tIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9z
cmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvY29uZmlnL1BlcnNpc3RlbmNlVW5pdFByb3BlcnRp
ZXMuamF2YQkocmV2aXNpb24gNjQ2MikNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNp
c3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2NvbmZpZy9QZXJzaXN0ZW5j
ZVVuaXRQcm9wZXJ0aWVzLmphdmEJKHdvcmtpbmcgY29weSkNCkBAIC0xMCw2ICsxMCw3IEBADQog
ICogQ29udHJpYnV0b3JzOg0KICAqICAgICBPcmFjbGUgLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVt
ZW50YXRpb24gZnJvbSBPcmFjbGUgVG9wTGluaw0KICAqICAgICBkY2xhcmtlIC0gQnVnIDI5NDk4
NTogdXBkYXRlIG9mIGNvbW1lbnRzIGFuZCBhZGRpdGlvbiBvZiBjb25uZWN0aW9uIGxvZ2dpbmcg
cHJvcGVydHkNCisgKiAgICAgY2RlbGFodW4gLSBCdWcgMjE0NTM0OiBhZGRlZCBDT09SRElOQVRJ
T05fSk1TX1JFVVNFX1BVQkxJU0hFUiBwcm9wZXJ0eSB0byBlbmFibGUgSk1TIHJjbSBsZWdhY3kg
YmVoYXZpb3INCiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KIHBhY2thZ2Ugb3JnLmVjbGlwc2Uu
cGVyc2lzdGVuY2UuY29uZmlnOw0KIA0KQEAgLTE0MjgsNiArMTQyOSwxNyBAQA0KICAgICAgKiBA
c2VlIG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5icm9hZGNh
c3QuQnJvYWRjYXN0VHJhbnNwb3J0TWFuYWdlciNzZXRUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFt
ZShTdHJpbmcpDQogICAgICAqLw0KICAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBDT09S
RElOQVRJT05fSk1TX0ZBQ1RPUlkgPSAiZWNsaXBzZWxpbmsuY2FjaGUuY29vcmRpbmF0aW9uLmpt
cy5mYWN0b3J5IjsNCisgICAgDQorICAgIC8qKg0KKyAgICAgKiBUaGUgPGNvZGU+ImVjbGlwc2Vs
aW5rLmNhY2hlLmNvb3JkaW5hdGlvbi5qbXMucmV1c2UtdG9waWMtcHVibGlzaGVyIjwvY29kZT4g
cHJvcGVydHkNCisgICAgICogY29uZmlndXJlcyBjYWNoZSBjb29yZGluYXRpb24gZm9yIGEgY2x1
c3RlcmVkIGVudmlyb25tZW50LiBPbmx5IHVzZWQgZm9yDQorICAgICAqIEpNUyBjb29yZGluYXRp
b24uIFNldHMgdGhlIEpTTSB0cmFuc3BvcnQgbWFuYWdlciB0byBjYWNoZSBhIFRvcGljUHVibGlz
ZXIgDQorICAgICAqIGFuZCByZXVzZSBpdCBmb3IgYWxsIGNhY2hlIGNvb3JkaW5hdGlvbiBwdWJs
aXNoaW5nLg0KKyAgICAgKg0KKyAgICAgKiBAc2VlICNDT09SRElOQVRJT05fUFJPVE9DT0wNCisg
ICAgICogQHNlZSBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24u
am1zLkpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyI3NldFNob3VsZFJldXNlSk1TVG9waWNQ
dWJsaXNoZXIoYm9vbGVhbikNCisgICAgICovDQorICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3Ry
aW5nIENPT1JESU5BVElPTl9KTVNfUkVVU0VfUFVCTElTSEVSID0gImVjbGlwc2VsaW5rLmNhY2hl
LmNvb3JkaW5hdGlvbi5qbXMucmV1c2UtdG9waWMtcHVibGlzaGVyIjsNCiANCiAgICAgLyoqDQog
ICAgICAqIFRoZSA8Y29kZT4iZWNsaXBzZWxpbmsuY2FjaGUuY29vcmRpbmF0aW9uLnJtaS5hbm5v
dW5jZW1lbnQtZGVsYXkiPC9jb2RlPg0KSW5kZXg6IGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVy
c2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvZXhjZXB0aW9ucy9pMThu
L1JlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uUmVzb3VyY2UuamF2YQ0KPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0K
LS0tIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlw
c2UvcGVyc2lzdGVuY2UvZXhjZXB0aW9ucy9pMThuL1JlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0
aW9uUmVzb3VyY2UuamF2YQkocmV2aXNpb24gNjQ2MikNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xp
cHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2V4Y2VwdGlv
bnMvaTE4bi9SZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvblJlc291cmNlLmphdmEJKHdvcmtp
bmcgY29weSkNCkBAIC05LDYgKzksNyBAQA0KICAqDQogICogQ29udHJpYnV0b3JzOg0KICAqICAg
ICBPcmFjbGUgLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24gZnJvbSBPcmFjbGUgVG9w
TGluaw0KKyAqICAgICBjZGVsYWh1biAtIEJ1ZyAyMTQ1MzQ6IGFkZGVkIG1lc3NhZ2UgZm9yIEpN
U1B1Ymxpc2hpbmdIZWxwZXIgZXJyb3IgY2hlY2tpbmcNCiAgKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
LyAgDQogcGFja2FnZSBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5leGNlcHRpb25zLmkxOG47DQog
DQpAQCAtMjgsMTggKzI5LDE3IEBADQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHsgIjIyMTA0IiwgIkNvdWxkIG5vdCBsb29rIHVwIGhvc3RuYW1lIiB9LA0KICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ICIyMjEwNSIsICJDb3Vs
ZCBub3QgcHJvcGFnYXRlIGNvbW1hbmQgdG8gezB9IiB9LA0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB7ICIyMjEwNiIsICJDb3VsZCBub3QgY3JlYXRlIGV4dGVy
bmFsIEpNUyBjb25uZWN0aW9uIHdpdGggVG9waWMgezB9LCBUb3BpYyBGYWN0b3J5IHsxfSwgYW5k
IENvbnRleHQgcHJvcGVydGllcyB7Mn0iIH0sDQotICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHsgIjIyMTA3IiwgIkNvdWxkIG5vdCByZW1vdmUgbG9jYWwgY29ubmVj
dGlvbiBpbiBsb2NhbCBuYW1pbmcgc2VydmljZSB1bmRlciBuYW1lIHswfSIgfSwNCi0gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQotICAgIHsgIjIyMTA4IiwgIkNv
dWxkIG5vdCBzZXJpYWxpemUgb3IgZGVzaXJhbGl6ZSBjb21tYW5kIiB9LA0KLSAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCi0gICAgeyAiMjIxMDkiLCAiRmFpbGVk
IHRvIHJlY2VpdmUgSk1TIG1lc3NhZ2UgZnJvbSBKTVMgcHJvdmlkZXIiIH0sDQorICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgIjIyMTA3IiwgIkNvdWxkIG5vdCBy
ZW1vdmUgbG9jYWwgY29ubmVjdGlvbiBpbiBsb2NhbCBuYW1pbmcgc2VydmljZSB1bmRlciBuYW1l
IHswfSIgfSwgICAgICAgICAgICAgDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHsgIjIyMTA4IiwgIkNvdWxkIG5vdCBzZXJpYWxpemUgb3IgZGVzaXJhbGl6ZSBj
b21tYW5kIiB9LA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7
ICIyMjEwOSIsICJGYWlsZWQgdG8gcmVjZWl2ZSBKTVMgbWVzc2FnZSBmcm9tIEpNUyBwcm92aWRl
ciIgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAiMjIx
MTAiLCAiRmFpbGVkIHRvIGRpc2NvdmVyIGxvY2FsIGhvc3QgSVAgYWRkcmVzcy4iIH0sDQogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgIjIyMTExIiwgIkZhaWxl
ZCB0byBnZXQgU2VydmVyUGxhdGZvcm0uIFRoZSBTZXJ2ZXJQbGF0Zm9ybSBtdXN0IGJlIHNldCBl
aXRoZXIgb24gU2Vzc2lvbiBvciBSZW1vdGVDb21tYW5kTWFuYWdlci4iIH0sDQogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgIjIyMTEyIiwgIkNvdWxkIG5vdCBj
cmVhdGUgbG9jYWwgSk1TIGNvbm5lY3Rpb24gd2l0aCBUb3BpYyB7MH0sIFRvcGljIEZhY3Rvcnkg
ezF9LCBhbmQgQ29udGV4dCBwcm9wZXJ0aWVzIHsyfSIgfSwNCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgeyAiMjIxMTMiLCAiQ291bGQgbm90IGNyZWF0ZSBPYzRq
Skdyb3Vwc1JlbW90ZUNvbm5lY3Rpb24gc2VydmljZSBJRCB7MH0sIHRvcGljIHsxfSwgdXNpbmcg
ZmFjdG9yeSB7Mn0gYW5kIENvbnRleHQgcHJvcGVydGllcyB7M30uIiB9LA0KICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ICIyMjExNCIsICJ7MH06IGZhaWxlZCB0
byBkZXNlcmlhbGl6ZSByZXRyaWV2ZWQgbWVzc2FnZSB7MX0uIiB9LA0KICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ICIyMjExNSIsICJ7MH06IGZhaWxlZCB0byBw
cm9jZXNzIHJlbW90ZSBjb21tYW5kIHJldHJpZXZlZCBmcm9tIG1lc3NhZ2UgezF9LCBmcm9tIHsy
fSwgY29tbWFuZCB0eXBlIHszfSIgfSwNCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgeyAiMjIxMTYiLCAiUmVjZWl2ZWQgSk1TIG1lc3NhZ2UgaXMgbnVsbC4gVHJl
YXRpbmcgaXQgYXMgYSBKTVNFeGNlcHRpb24iIH0NCisgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgeyAiMjIxMTYiLCAiUmVjZWl2ZWQgSk1TIG1lc3NhZ2UgaXMgbnVs
bC4gVHJlYXRpbmcgaXQgYXMgYSBKTVNFeGNlcHRpb24iIH0sDQorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHsgIjIyMTE3IiwgIlNlc3Npb24ncyBSZW1vdGVDb21t
YW5kTWFuYWdlciBpcyBjbG9zZWQgb3IgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHdoaWxlIHBy
b2Nlc3NpbmcgaW5jb21pbmcgbWVzc2FnZXMiIH0NCiAgICAgfTsNCiANCiAgICAgLyoqDQpJbmRl
eDogZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBz
ZS9wZXJzaXN0ZW5jZS9leGNlcHRpb25zL1JlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLmph
dmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT0NCi0tLSBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNv
cmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2V4Y2VwdGlvbnMvUmVtb3RlQ29tbWFuZE1h
bmFnZXJFeGNlcHRpb24uamF2YQkocmV2aXNpb24gNjQ2MikNCisrKyBmb3VuZGF0aW9uL29yZy5l
Y2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2V4Y2Vw
dGlvbnMvUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24uamF2YQkod29ya2luZyBjb3B5KQ0K
QEAgLTksNiArOSw3IEBADQogICoNCiAgKiBDb250cmlidXRvcnM6DQogICogICAgIE9yYWNsZSAt
IGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbiBmcm9tIE9yYWNsZSBUb3BMaW5rDQorICog
ICAgIGNkZWxhaHVuIC0gQnVnIDIxNDUzNDogYWRkZWQgbWVzc2FnZSBmb3IgSk1TUHVibGlzaGlu
Z0hlbHBlciBlcnJvciBjaGVja2luZw0KICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovICANCiBwYWNr
YWdlIG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmV4Y2VwdGlvbnM7DQogDQpAQCAtMjIsNyArMjMs
NyBAQA0KICAqLw0KIHB1YmxpYyBjbGFzcyBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbiBl
eHRlbmRzIG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmV4Y2VwdGlvbnMuRWNsaXBzZUxpbmtFeGNl
cHRpb24gaW1wbGVtZW50cyBqYXZhLmlvLlNlcmlhbGl6YWJsZSB7DQogICAgIC8vIEV4Y2VwdGlv
bnMgZm9yIFJDTSBhcmUgaW4gcmFuZ2UgMjIwMDAgLSAyMzAwMC4gDQotICAgIC8vIExlYXZlIHRo
ZSBmaXJzdCAxMDAgZm9yIERpc2NvdmVyeU1hbmFnZXJFeGNlcHRpb24gc3ViZXhjZXB0aW9uDQor
ICAgIC8vIExlYXZlIHRoZSBmaXJzdCAxMDAgZm9yIERpc2NvdmVyeU1hbmFnZXJFeGNlcHRpb24g
c3ViIGV4Y2VwdGlvbnMNCiAgICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgRVJST1JfT0JUQUlO
SU5HX0NPTlRFWFRfRk9SX0pOREkgPSAyMjEwMTsNCiAgICAgcHVibGljIHN0YXRpYyBmaW5hbCBp
bnQgRVJST1JfQklORElOR19DT05ORUNUSU9OID0gMjIxMDI7DQogICAgIHB1YmxpYyBzdGF0aWMg
ZmluYWwgaW50IEVSUk9SX0xPT0tJTkdfVVBfUkVNT1RFX0NPTk5FQ1RJT04gPSAyMjEwMzsNCkBA
IC01MCw2ICs1MSw4IEBADQogICAgIA0KICAgICAvLyBKTVMNCiAgICAgcHVibGljIHN0YXRpYyBm
aW5hbCBpbnQgRVJST1JfUkVDRUlWRURfSk1TX01FU1NBR0VfSVNfTlVMTCA9IDIyMTE2Ow0KKyAg
ICAvL0pNUyBQVUJMSVNISU5HIA0KKyAgICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCBSQ01fVU5J
TklUSUFMSVpFRF9PUl9DTE9TRUQgPSAyMjExNzsNCiANCiAgICAgcHVibGljIFJlbW90ZUNvbW1h
bmRNYW5hZ2VyRXhjZXB0aW9uKCkgew0KICAgICAgICAgc3VwZXIoKTsNCkBAIC0yMTksNCArMjIy
LDExIEBADQogICAgICAgICBleC5zZXRFcnJvckNvZGUoRVJST1JfUkVDRUlWRURfSk1TX01FU1NB
R0VfSVNfTlVMTCk7DQogICAgICAgICByZXR1cm4gZXg7DQogICAgIH0NCisgICAgDQorICAgIHB1
YmxpYyBzdGF0aWMgUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24gcmVtb3RlQ29tbWFuZE1h
bmFnZXJJc0Nsb3NlZCgpIHsgIA0KKyAgICAgICAgT2JqZWN0W10gYXJncyA9IHsgfTsgIA0KKyAg
ICAgICAgUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24gZXggPSBuZXcgUmVtb3RlQ29tbWFu
ZE1hbmFnZXJFeGNlcHRpb24oRXhjZXB0aW9uTWVzc2FnZUdlbmVyYXRvci5idWlsZE1lc3NhZ2Uo
UmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24uY2xhc3MsUkNNX1VOSU5JVElBTElaRURfT1Jf
Q0xPU0VELGFyZ3MpKTsgIA0KKyAgICAgICAgZXguc2V0RXJyb3JDb2RlKFJDTV9VTklOSVRJQUxJ
WkVEX09SX0NMT1NFRCk7DQorICAgICAgICByZXR1cm4gZXg7ICANCisgICAgfQ0KIH0NCkluZGV4
OiBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNl
L3BlcnNpc3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2Nvb3JkaW5hdGlvbi9icm9hZGNhc3QvQnJv
YWRjYXN0UmVtb3RlQ29ubmVjdGlvbi5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLS0gZm91bmRhdGlvbi9v
cmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9p
bnRlcm5hbC9zZXNzaW9ucy9jb29yZGluYXRpb24vYnJvYWRjYXN0L0Jyb2FkY2FzdFJlbW90ZUNv
bm5lY3Rpb24uamF2YQkocmV2aXNpb24gNjQ2MikNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xpcHNl
LnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFsL3Nl
c3Npb25zL2Nvb3JkaW5hdGlvbi9icm9hZGNhc3QvQnJvYWRjYXN0UmVtb3RlQ29ubmVjdGlvbi5q
YXZhCSh3b3JraW5nIGNvcHkpDQpAQCAtNzQsNyArNzQsNyBAQA0KICAgICAgICAgICAgICAgICAv
LyBUaGlzIG1ldGhvZCBjYXRjaGVzIENvbW11bmljYXRpb25FeGNlcHRpb24gYW5kIHByb2Nlc3Nl
cyBpdCBpbiBoYW5kbGVDb21tdW5pY2F0aW9uRXhjZXB0aW9uIG1ldGhvZC4NCiAgICAgICAgICAg
ICAgICAgLy8gVGhlIGxhdHRlciBtZXRob2QsIGluIGNhc2Ugc2hvdWxkUmVtb3ZlQ29ubmVjdGlv
bk9uRXJyb3I9PXRydWUsIHJlbW92ZXMgdGhlIGNvbm5lY3Rpb247DQogICAgICAgICAgICAgICAg
IC8vIG90aGVyd2lzZSBpdCB3cmFwcyB0aGUgQ29tbXVuaWNhdGlvbkV4Y2VwdGlvbiBpbnRvIFJl
bW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uDQotICAgICAgICAgICAgICAgIC8vICh3aXRoIGVy
cm9Db2RlIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLkVSUk9SX1BST1BBR0FUSU5HX0NP
TU1BTkQpDQorICAgICAgICAgICAgICAgIC8vICh3aXRoIGVycm9yQ29kZSBSZW1vdGVDb21tYW5k
TWFuYWdlckV4Y2VwdGlvbi5FUlJPUl9QUk9QQUdBVElOR19DT01NQU5EKQ0KICAgICAgICAgICAg
ICAgICAvLyBhbmQgZ2l2ZXMgdGhlIHVzZSBhIGNoYW5jZSB0byBoYW5kbGUgaXQgLSB0aGlzIGlz
IGFuIG9wcG9ydHVuaXR5IGZvciB0aGUgdXNlciB0bw0KICAgICAgICAgICAgICAgICAvLyBzdG9w
IHJlbW90ZSBjb21tYW5kIHByb2Nlc3NpbmcuDQogICAgICAgICAgICAgICAgIHRocm93IENvbW11
bmljYXRpb25FeGNlcHRpb24uZXJyb3JTZW5kaW5nTWVzc2FnZShnZXRTZXJ2aWNlSWQoKS5nZXRJ
ZCgpLCBleGNlcHRpb24pOw0KSW5kZXg6IGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVu
Y2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vzc2lvbnMvY29v
cmRpbmF0aW9uL2ptcy9KTVNUb3BpY1JlbW90ZUNvbm5lY3Rpb24uamF2YQ0KPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0K
LS0tIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlw
c2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vzc2lvbnMvY29vcmRpbmF0aW9uL2ptcy9KTVNUb3Bp
Y1JlbW90ZUNvbm5lY3Rpb24uamF2YQkocmV2aXNpb24gNjQ2MikNCisrKyBmb3VuZGF0aW9uL29y
Zy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2lu
dGVybmFsL3Nlc3Npb25zL2Nvb3JkaW5hdGlvbi9qbXMvSk1TVG9waWNSZW1vdGVDb25uZWN0aW9u
LmphdmEJKHdvcmtpbmcgY29weSkNCkBAIC05LDYgKzksNyBAQA0KICAqDQogICogQ29udHJpYnV0
b3JzOg0KICAqICAgICBPcmFjbGUgLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24gZnJv
bSBPcmFjbGUgVG9wTGluaw0KKyAqICAgICBjZGVsYWh1biAtIEJ1ZyAyMTQ1MzQ6IGFkZGVkIEpN
UyBDYWNoZSBDb29yZGluYXRpb24gZm9yIHB1Ymxpc2hpbmcgb25seQ0KICAqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKiovICANCiBwYWNrYWdlIG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmludGVybmFsLnNl
c3Npb25zLmNvb3JkaW5hdGlvbi5qbXM7DQogDQpAQCAtMTksNiArMjAsNyBAQA0KIGltcG9ydCBv
cmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5leGNlcHRpb25zLlJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhj
ZXB0aW9uOw0KIGltcG9ydCBqYXZheC5qbXMuVG9waWM7DQogaW1wb3J0IGphdmF4Lmptcy5Ub3Bp
Y0Nvbm5lY3Rpb247DQoraW1wb3J0IGphdmF4Lmptcy5Ub3BpY0Nvbm5lY3Rpb25GYWN0b3J5Ow0K
IGltcG9ydCBqYXZheC5qbXMuVG9waWNQdWJsaXNoZXI7DQogaW1wb3J0IGphdmF4Lmptcy5Ub3Bp
Y1Nlc3Npb247DQogaW1wb3J0IGphdmF4Lmptcy5Ub3BpY1N1YnNjcmliZXI7DQpAQCAtNDIsMjEg
KzQ0LDMxIEBADQogICogICBBcHBsaWNhdGlvbiBjb21wb25lbnRzIGluIHRoZSB3ZWIgYW5kIEVK
QiBjb250YWluZXJzIG11c3Qgbm90IGF0dGVtcHQgdG8gY3JlYXRlIG1vcmUgdGhhbiBvbmUNCiAg
KiAgICAgYWN0aXZlIChub3QgY2xvc2VkKSBTZXNzaW9uIG9iamVjdCBwZXIgY29ubmVjdGlvbi4i
DQogICogQmVjYXVzZSBvZiB0aGVzZSByZXN0cmljdGlvbnMgDQotICogYSkgdHdvIFRvcGljQ29u
bmVjdGlvbnMgYXJlIHJlcXVpcmVkIC0gb25lIGZvciBwdWJsaXNoaW5nIChleHRlcm5hbCkgYW5k
IGFub3RoZXIgb25lIGZvciBsaXN0ZW5pbmcgKGxvY2FsKTsNCisgKiBhKSB0d28gSk1TVG9waWNS
ZW1vdGVDb25uZWN0aW9uIGFyZSByZXF1aXJlZCAtIG9uZSBmb3IgcHVibGlzaGluZyAoZXh0ZXJu
YWwpIGFuZCBhbm90aGVyIG9uZSBmb3IgbGlzdGVuaW5nIChsb2NhbCk7DQogICogYikgbGlzdGVu
aW5nIHNob3VsZCBiZSBkb25lIHVzaW5nIHN1YnNjcmliZXIucmVjZWl2ZSgpIGluIGFuIGluZmlu
aXRlIGxvb3AgaW4gYSBzZXBhcmF0ZSB0aHJlYWQsDQogICogdGhhdCdzIHdoeSB0aGUgY2xhc3Mg
aW1wbGVtZW50cyBSdW5uYWJsZSBpbnRlcmZhY2UuDQorICogYykgcHVibGlzaGluZyBjb25uZWN0
aW9uIChleHRlcm5hbCkgY291bGQgYmUgdXNlZCBjb25jdXJyZW50bHkgdG8gc2VuZCBtZXNzYWdl
cywgc28gaXQgY2Fubm90IHVzZSB0aGUgc2FtZSBwdWJsaXNoZXIvc2Vzc2lvbi90b3BpY0Nvbm5l
Y3Rpb24NCisgKiAgIEluc3RlYWQsIGl0IHdpbGwgc3RvcmUgdGhlIFRvcGljQ29ubmVjdGlvbkZh
Y3RvcnkgYW5kIHVzZSBpdCB0byBjcmVhdGUgY29ubmVjdGlvbnMgd2hlbiBleGVjdXRlQ29tbWFu
ZEludGVybmFsIGlzIGNhbGxlZCAobXVjaCBsaWtlDQorICogICBEYXRhYmFzZUFjY2Vzc29yIHdo
ZW4gYW4gZXh0ZXJuYWwgcG9vbCBpcyB1c2VkKQ0KICAqIA0KICAqIEBhdXRob3IgU3RldmVuIFZv
DQogICogQHNpbmNlIE9yYWNsZUFTIFRvcExpbmsgMTA8aT5nPC9pPiAoMTAuMC4zKQ0KICAqLw0K
IHB1YmxpYyBjbGFzcyBKTVNUb3BpY1JlbW90ZUNvbm5lY3Rpb24gZXh0ZW5kcyBCcm9hZGNhc3RS
ZW1vdGVDb25uZWN0aW9uIGltcGxlbWVudHMgUnVubmFibGUgew0KKyAgICBwcm90ZWN0ZWQgVG9w
aWNDb25uZWN0aW9uRmFjdG9yeSB0b3BpY0Nvbm5lY3Rpb25GYWN0b3J5Ow0KKyAgICBwcm90ZWN0
ZWQgVG9waWMgdG9waWM7DQorICAgIC8vIGluZGljYXRlcyB3aGV0aGVyIGl0J3MgYSBsb2NhbCBj
b25uZWN0aW9uLg0KKyAgICBwcm90ZWN0ZWQgYm9vbGVhbiBpc0xvY2FsOw0KKyAgICANCisgICAg
Ly8gbm90IHVzZWQgYnkgRXh0ZXJuYWwgKHB1Ymxpc2hpbmcpIGNvbm5lY3Rpb24gdW5sZXNzIGl0
IGlzIHNldCB0byByZXVzZSB0aGUgSk1TVG9waWNQdWJsaXNoZXINCisgICAgcHJvdGVjdGVkIFRv
cGljUHVibGlzaGVyIHB1Ymxpc2hlcjsNCiAgICAgcHJvdGVjdGVkIFRvcGljQ29ubmVjdGlvbiB0
b3BpY0Nvbm5lY3Rpb247DQotICAgIHByb3RlY3RlZCBUb3BpYyB0b3BpYzsNCiAgICAgcHJvdGVj
dGVkIFRvcGljU2Vzc2lvbiB0b3BpY1Nlc3Npb247DQotICAgIHByb3RlY3RlZCBUb3BpY1B1Ymxp
c2hlciBwdWJsaXNoZXI7DQorICAgIA0KKyAgICAvLyBVc2VkIG9ubHkgYnkgbG9jYWwgKGxpc3Rl
bmluZykgY29ubmVjdGlvbg0KICAgICBwcm90ZWN0ZWQgVG9waWNTdWJzY3JpYmVyIHN1YnNjcmli
ZXI7DQotICAgIC8vIGluZGljYXRlcyB3aGV0aGVyIGl0J3MgYSBsb2NhbCBjb25uZWN0aW9uLg0K
LSAgICBwcm90ZWN0ZWQgYm9vbGVhbiBpc0xvY2FsOw0KKyAgICANCisgICAgDQogICAgIC8vIFVz
ZWQgb25seSBieSBsb2NhbCAobGlzdGVuaW5nKSBjb25uZWN0aW9uIGFuZCANCiAgICAgLy8gb25s
eSBpbiBjYXNlIHNob3VsZFJlbW92ZUNvbm5lY3Rpb25PbkVycm9yPT1mYWxzZS4NCiAgICAgLy8g
VGltZSB0byB3YWl0IGFmdGVyIGVycm9yIHJlY2VpdmluZyBqbXMgbWVzc2FnZToNCkBAIC02NSwz
MSArNzcsNTEgQEANCiAgICAgLy8gVXNlciBjYW4gYXZvaWQgdGhlIHdhaXQgYnkgaGFuZGxpbmcg
RVJST1JfUkVDRUlWSU5HX0pNU19NRVNTQUdFIGV4Y2VwdGlvbi4NCiAgICAgcHVibGljIHN0YXRp
YyBsb25nIFdBSVRfT05fRVJST1JfUkVDRUlWSU5HX0pNU19NRVNTQUdFID0gMTAwMDA7DQogDQot
ICAgIHB1YmxpYyBKTVNUb3BpY1JlbW90ZUNvbm5lY3Rpb24oUmVtb3RlQ29tbWFuZE1hbmFnZXIg
cmNtLCBUb3BpY0Nvbm5lY3Rpb24gdG9waWNDb25uZWN0aW9uLCBUb3BpYyB0b3BpYywgYm9vbGVh
biBpc0xvY2FsQ29ubmVjdGlvbkJlaW5nQ3JlYXRlZCkgdGhyb3dzIEpNU0V4Y2VwdGlvbiB7DQor
ICAgIC8qKg0KKyAgICAgKiBJTlRFUk5BTDoNCisgICAgICogQ29uc3RydWN0b3IgY3JlYXRpbmcg
ZWl0aGVyIGEgbG9jYWwgb3IgZXh0ZXJuYWwgY29ubmVjdGlvbi4gIExvY2FsIGNvbm5lY3Rpb25z
IGNyZWF0ZWQgdGhpcyB3YXkgY29ubmVjdCB0byB0aGUgdG9waWNTZXNzaW9uIGFuZCBjYWNoZQ0K
KyAgICAgKiB0aGUgc2Vzc2lvbiBhbmQgc3Vic2NyaWJlci4gIEV4dGVybmFsIGNvbm5lY3Rpb25z
IGNhY2hlIG9ubHkgdGhlIHRvcGljQ29ubmVjdGlvbiBhbmQgd2lsbCBvYnRhaW4gdGhlIHNlc3Np
b24vcHVibGlzaGVyIHdoZW4gbmVlZGVkLg0KKyAgICAgKiBAcGFyYW0gcmNtDQorICAgICAqLw0K
KyAgICBwdWJsaWMgSk1TVG9waWNSZW1vdGVDb25uZWN0aW9uKFJlbW90ZUNvbW1hbmRNYW5hZ2Vy
IHJjbSwgVG9waWNDb25uZWN0aW9uRmFjdG9yeSB0b3BpY0Nvbm5lY3Rpb25GYWN0b3J5LCBUb3Bp
YyB0b3BpYywgYm9vbGVhbiBpc0xvY2FsQ29ubmVjdGlvbkJlaW5nQ3JlYXRlZCwgYm9vbGVhbiBy
ZXVzZUpNU1RvcGljUHVibGlzaGVyKSB0aHJvd3MgSk1TRXhjZXB0aW9uIHsNCiAgICAgICAgIHN1
cGVyKHJjbSk7DQotICAgICAgICB0aGlzLnRvcGljQ29ubmVjdGlvbiA9IHRvcGljQ29ubmVjdGlv
bjsNCisgICAgICAgIHRoaXMudG9waWNDb25uZWN0aW9uRmFjdG9yeSA9IHRvcGljQ29ubmVjdGlv
bkZhY3Rvcnk7DQogICAgICAgICB0aGlzLnRvcGljID0gdG9waWM7DQogICAgICAgICB0aGlzLmlz
TG9jYWwgPSBpc0xvY2FsQ29ubmVjdGlvbkJlaW5nQ3JlYXRlZDsNCiAgICAgICAgIHJjbS5sb2dE
ZWJ1ZygiY3JlYXRpbmdfYnJvYWRjYXN0X2Nvbm5lY3Rpb24iLCBnZXRJbmZvKCkpOw0KICAgICAg
ICAgdHJ5IHsNCi0gICAgICAgICAgICB0aGlzLnRvcGljU2Vzc2lvbiA9IHRvcGljQ29ubmVjdGlv
bi5jcmVhdGVUb3BpY1Nlc3Npb24oZmFsc2UsIGphdmF4Lmptcy5TZXNzaW9uLkFVVE9fQUNLTk9X
TEVER0UpOw0KICAgICAgICAgICAgIGlmKGlzTG9jYWxDb25uZWN0aW9uQmVpbmdDcmVhdGVkKSB7
DQogICAgICAgICAgICAgICAgIC8vIGl0J3MgYSBsb2NhbCBjb25uZWN0aW9uDQorICAgICAgICAg
ICAgICAgIHRoaXMudG9waWNDb25uZWN0aW9uID0gdG9waWNDb25uZWN0aW9uRmFjdG9yeS5jcmVh
dGVUb3BpY0Nvbm5lY3Rpb24oKTsNCisgICAgICAgICAgICAgICAgdGhpcy50b3BpY1Nlc3Npb24g
PSB0b3BpY0Nvbm5lY3Rpb24uY3JlYXRlVG9waWNTZXNzaW9uKGZhbHNlLCBqYXZheC5qbXMuU2Vz
c2lvbi5BVVRPX0FDS05PV0xFREdFKTsNCiAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVy
ID0gdG9waWNTZXNzaW9uLmNyZWF0ZVN1YnNjcmliZXIodG9waWMpOw0KLSAgICAgICAgICAgICAg
ICB0aGlzLnRvcGljQ29ubmVjdGlvbi5zdGFydCgpOw0KKyAgICAgICAgICAgICAgICB0b3BpY0Nv
bm5lY3Rpb24uc3RhcnQoKTsNCiAgICAgICAgICAgICAgICAgcmNtLmxvZ0RlYnVnKCJicm9hZGNh
c3RfY29ubmVjdGlvbl9jcmVhdGVkIiwgZ2V0SW5mbygpKTsNCiAgICAgICAgICAgICAgICAgcmNt
LmdldFNlcnZlclBsYXRmb3JtKCkubGF1bmNoQ29udGFpbmVyUnVubmFibGUodGhpcyk7DQotICAg
ICAgICAgICAgfSBlbHNlIHsNCi0gICAgICAgICAgICAgICAgLy8gaXQncyBhbiBleHRlcm5hbCBj
b25uZWN0aW9uDQorICAgICAgICAgICAgfSBlbHNlIGlmIChyZXVzZUpNU1RvcGljUHVibGlzaGVy
KSB7DQorICAgICAgICAgICAgICAgIC8vIGl0J3MgYW4gZXh0ZXJuYWwgY29ubmVjdGlvbiBhbmQg
aXMgc2V0IHRvIHJldXNlIHRoZSBUb3BpY1B1Ymxpc2hlciAobGVnYWN5KQ0KKyAgICAgICAgICAg
ICAgICB0aGlzLnRvcGljQ29ubmVjdGlvbiA9IHRvcGljQ29ubmVjdGlvbkZhY3RvcnkuY3JlYXRl
VG9waWNDb25uZWN0aW9uKCk7DQorICAgICAgICAgICAgICAgIHRoaXMudG9waWNTZXNzaW9uID0g
dG9waWNDb25uZWN0aW9uLmNyZWF0ZVRvcGljU2Vzc2lvbihmYWxzZSwgamF2YXguam1zLlNlc3Np
b24uQVVUT19BQ0tOT1dMRURHRSk7DQogICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaGVyID0g
dG9waWNTZXNzaW9uLmNyZWF0ZVB1Ymxpc2hlcih0b3BpYyk7DQogICAgICAgICAgICAgICAgIHJj
bS5sb2dEZWJ1ZygiYnJvYWRjYXN0X2Nvbm5lY3Rpb25fY3JlYXRlZCIsIGdldEluZm8oKSk7DQot
ICAgICAgICAgICAgfQ0KKyAgICAgICAgICAgIH0gLy9lbHNlIGJ1ZzIxNDUzNDogaXQncyBhbiBl
eHRlcm5hbCBjb25uZWN0aW9uLCB3aXRoIFRvcGljQ29ubmVjdGlvbnMsIHNlc3Npb25zIGFuZCBw
dWJsaXNoZXJzIGNyZWF0ZWQgYXMgbmVlZGVkIA0KICAgICAgICAgfSBjYXRjaCAoSk1TRXhjZXB0
aW9uIGV4KSB7DQogICAgICAgICAgICAgcmNtLmxvZ0RlYnVnKCJmYWlsZWRfdG9fY3JlYXRlX2Jy
b2FkY2FzdF9jb25uZWN0aW9uIiwgZ2V0SW5mbygpKTsNCiAgICAgICAgICAgICBjbG9zZSgpOw0K
ICAgICAgICAgICAgIHRocm93IGV4Ow0KICAgICAgICAgfQ0KICAgICB9DQorICAgIA0KKyAgICAv
KioNCisgICAgICogQ3JlYXRlcyBsb2NhbCBjb25uZWN0aW9ucyB0aGF0IGRvIG5vdCB1c2UgYSBU
b3BpY0Nvbm5lY3Rpb24gb3IgVG9waWNTZXNzaW9uLA0KKyAgICAgKiB1c2VmdWwgb25seSBmb3Ig
cHJvY2Vzc2luZyBhbHJlYWR5IHJlY2VpdmVkIEpNUyBtZXNzYWdlcw0KKyAgICAgKiBAcGFyYW0g
cmNtDQorICAgICAqIEBzZWUgb25NZXNzYWdlDQorICAgICAqLw0KKyAgICBwdWJsaWMgSk1TVG9w
aWNSZW1vdGVDb25uZWN0aW9uKFJlbW90ZUNvbW1hbmRNYW5hZ2VyIHJjbSl7DQorICAgICAgICBz
dXBlcihyY20pOw0KKyAgICAgICAgdGhpcy5pc0xvY2FsID0gdHJ1ZTsNCisgICAgfQ0KIA0KICAg
ICAvKioNCiAgICAgICogSU5URVJOQUw6DQpAQCAtMTA1LDI1ICsxMzcsNDAgQEANCiAgICAgICog
RXhlY3V0ZSB0aGUgcmVtb3RlIGNvbW1hbmQuIFRoZSByZXN1bHQgb2YgZXhlY3V0aW9uIGlzIHJl
dHVybmVkLg0KICAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIG9ubHkgYnkgZXh0ZXJuYWwgKHB1
Ymxpc2hpbmcpIGNvbm5lY3Rpb24uDQogICAgICAqLw0KLSAgICBwcm90ZWN0ZWQgT2JqZWN0IGV4
ZWN1dGVDb21tYW5kSW50ZXJuYWwoQ29tbWFuZCBjb21tYW5kKSB0aHJvd3MgRXhjZXB0aW9uIHsg
ICAgICAgIA0KLSAgICAgICAgT2JqZWN0TWVzc2FnZSBtZXNzYWdlID0gdG9waWNTZXNzaW9uLmNy
ZWF0ZU9iamVjdE1lc3NhZ2UoKTsNCi0gICAgICAgIG1lc3NhZ2Uuc2V0T2JqZWN0KGNvbW1hbmQp
Ow0KLSAgICAgICAgDQotICAgICAgICBPYmplY3RbXSBkZWJ1Z0luZm8gPSBudWxsOw0KLSAgICAg
ICAgaWYocmNtLnNob3VsZExvZ0RlYnVnTWVzc2FnZSgpKSB7DQotICAgICAgICAgICAgLy8gbnVs
bCBwYXNzZWQgYmVjYXVzZSBKTVNNZXNzYWdlSWQgaXMgbm90IHlldCBjcmVhdGVkLg0KLSAgICAg
ICAgICAgIGRlYnVnSW5mbyA9IGxvZ0RlYnVnQmVmb3JlUHVibGlzaChudWxsKTsNCisgICAgcHJv
dGVjdGVkIE9iamVjdCBleGVjdXRlQ29tbWFuZEludGVybmFsKENvbW1hbmQgY29tbWFuZCkgdGhy
b3dzIEV4Y2VwdGlvbiB7DQorICAgICAgICBUb3BpY0Nvbm5lY3Rpb24gam1zQ29ubmVjdGlvbiA9
IG51bGw7DQorICAgICAgICB0cnkgew0KKyAgICAgICAgICAgIFRvcGljUHVibGlzaGVyIHRvcGlj
UHVibGlzaGVyID0gdGhpcy5wdWJsaXNoZXI7DQorICAgICAgICAgICAgaWYgKHRvcGljUHVibGlz
aGVyPT1udWxsKXsNCisgICAgICAgICAgICAgICAgam1zQ29ubmVjdGlvbiA9IHRvcGljQ29ubmVj
dGlvbkZhY3RvcnkuY3JlYXRlVG9waWNDb25uZWN0aW9uKCk7DQorICAgICAgICAgICAgICAgIFRv
cGljU2Vzc2lvbiBwdWJsaXNoaW5nU2Vzc2lvbiA9IGptc0Nvbm5lY3Rpb24uY3JlYXRlVG9waWNT
ZXNzaW9uKGZhbHNlLCBqYXZheC5qbXMuU2Vzc2lvbi5BVVRPX0FDS05PV0xFREdFKTsNCisgICAg
ICAgICAgICAgICAgdG9waWNQdWJsaXNoZXIgPSBwdWJsaXNoaW5nU2Vzc2lvbi5jcmVhdGVQdWJs
aXNoZXIodG9waWMpOw0KKyAgICAgICAgICAgIH0NCisNCisgICAgICAgICAgICBPYmplY3RNZXNz
YWdlIG1lc3NhZ2UgPSB0b3BpY1Nlc3Npb24uY3JlYXRlT2JqZWN0TWVzc2FnZSgpOw0KKyAgICAg
ICAgICAgIG1lc3NhZ2Uuc2V0T2JqZWN0KGNvbW1hbmQpOw0KKyAgICAgICAgICAgICAgICANCisg
ICAgICAgICAgICBPYmplY3RbXSBkZWJ1Z0luZm8gPSBudWxsOw0KKyAgICAgICAgICAgIGlmKHJj
bS5zaG91bGRMb2dEZWJ1Z01lc3NhZ2UoKSkgew0KKyAgICAgICAgICAgICAgICAvLyBudWxsIHBh
c3NlZCBiZWNhdXNlIEpNU01lc3NhZ2VJZCBpcyBub3QgeWV0IGNyZWF0ZWQuDQorICAgICAgICAg
ICAgICAgIGRlYnVnSW5mbyA9IGxvZ0RlYnVnQmVmb3JlUHVibGlzaChudWxsKTsNCisgICAgICAg
ICAgICB9DQorICAgICAgICAgICAgICAgIA0KKyAgICAgICAgICAgIHRvcGljUHVibGlzaGVyLnB1
Ymxpc2gobWVzc2FnZSk7DQorICAgICAgICAgICAgICAgIA0KKyAgICAgICAgICAgIC8vIGRlYnVn
IGxvZ2dpbmcgaXMgb24NCisgICAgICAgICAgICBpZihkZWJ1Z0luZm8gIT0gbnVsbCkgew0KKyAg
ICAgICAgICAgICAgICAvLyBub3cgbWVzc2FnZUlkIGhhcyBiZWVuIGNyZWF0ZWQgLSBsZXQncyB1
c2UgaXQuDQorICAgICAgICAgICAgICAgIGxvZ0RlYnVnQWZ0ZXJQdWJsaXNoKGRlYnVnSW5mbywg
bWVzc2FnZS5nZXRKTVNNZXNzYWdlSUQoKSk7DQorICAgICAgICAgICAgfQ0KKyAgICAgICAgICAg
IA0KKyAgICAgICAgICAgIHJldHVybiBudWxsOw0KKyAgICAgICAgfWZpbmFsbHkgew0KKyAgICAg
ICAgICAgIC8vb25seSBuZWVkIHRvIGNsb3NlIHRoZSB0b3BpY0Nvbm5lY3Rpb24sIG5vdCB0aGUg
c2Vzc2lvbiBvciBwdWJsaXNoZXINCisgICAgICAgICAgICBpZiAoam1zQ29ubmVjdGlvbiE9bnVs
bCl7DQorICAgICAgICAgICAgICAgIGptc0Nvbm5lY3Rpb24uY2xvc2UoKTsNCisgICAgICAgICAg
ICB9DQogICAgICAgICB9DQotICAgICAgICANCi0gICAgICAgIHB1Ymxpc2hlci5wdWJsaXNoKG1l
c3NhZ2UpOw0KLSAgICAgICAgDQotICAgICAgICAvLyBkZWJ1ZyBsb2dnaW5nIGlzIG9uDQotICAg
ICAgICBpZihkZWJ1Z0luZm8gIT0gbnVsbCkgew0KLSAgICAgICAgICAgIC8vIG5vdyBtZXNzYWdl
SWQgaGFzIGJlZW4gY3JlYXRlZCAtIGxldCdzIHVzZSBpdC4NCi0gICAgICAgICAgICBsb2dEZWJ1
Z0FmdGVyUHVibGlzaChkZWJ1Z0luZm8sIG1lc3NhZ2UuZ2V0Sk1TTWVzc2FnZUlEKCkpOw0KLSAg
ICAgICAgfQ0KLSAgICAgICAgDQotICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgfQ0KIA0KICAg
ICAvKioNCkBAIC0xOTksNyArMjQ2LDkgQEANCiAgICAgICogZnJlZXMgYWxsIHRoZSByZXNvdXJj
ZXMuDQogICAgICAqLw0KICAgICBwcm90ZWN0ZWQgdm9pZCBjbG9zZUludGVybmFsKCkgdGhyb3dz
IEpNU0V4Y2VwdGlvbiB7DQotICAgICAgICBpZihhcmVBbGxSZXNvdXJjZXNGcmVlZE9uQ2xvc2Uo
KSkgew0KKyAgICAgICAgLy90aGlzIG1ldGhvZCBzaG91bGQgYmUgYSBuby1vcCBub3cgdGhhdCBl
eHRlcm5hbCBjb25uZWN0aW9ucyBvcGVuL2Nsb3NlIFRvcGljQ29ubmVjdGlvbiB3aGVuIG5lZWRl
ZC4gIENsb3NlIG9uIExvY2FsIA0KKyAgICAgICAgLy9jb25uZWN0aW9ucyB3aWxsIGV2ZW50dWFs
bHkgY2F1c2UgdG9waWNDb25uZWN0aW9uLmNsb3NlKCkgaW4gdGhlaXIgbGlzdGVuaW5nIHRocmVh
ZCwgc28gaXQgc2hvdWxkIG5vdCBiZSBjYWxsZWQgaGVyZQ0KKyAgICAgICAgaWYoYXJlQWxsUmVz
b3VyY2VzRnJlZWRPbkNsb3NlKCkgJiYgdG9waWNDb25uZWN0aW9uIT1udWxsKSB7DQogICAgICAg
ICAgICAgLy8gVGhlcmUgaXMgbm8gbmVlZCB0byBjbG9zZSB0aGUgc2Vzc2lvbnMsIHByb2R1Y2Vy
cywgYW5kIGNvbnN1bWVycyBvZiBhIGNsb3NlZCBUb3BpY0Nvbm5lY3Rpb24uDQogICAgICAgICAg
ICAgdG9waWNDb25uZWN0aW9uLmNsb3NlKCk7DQogICAgICAgICB9DQpAQCAtMzIwLDYgKzM2OSw3
IEBADQogDQogICAgIC8qKg0KICAgICAgKiBJTlRFUk5BTDoNCisgICAgICogVXNlZCBmb3IgZGVi
dWcgbG9nZ2luZw0KICAgICAgKi8NCiAgICAgcHJvdGVjdGVkIHZvaWQgY3JlYXRlRGlzcGxheVN0
cmluZygpIHsNCiAgICAgICAgIHN1cGVyLmNyZWF0ZURpc3BsYXlTdHJpbmcoKTsNCkluZGV4OiBm
b3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3Bl
cnNpc3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9tb2RlbC90cmFuc3BvcnQvSk1T
VG9waWNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tLSBmb3VuZGF0
aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3Rl
bmNlL2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9tb2RlbC90cmFuc3BvcnQvSk1TVG9waWNU
cmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmphdmEJKHJldmlzaW9uIDY0NjIpDQorKysgZm91bmRhdGlv
bi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5j
ZS9pbnRlcm5hbC9zZXNzaW9ucy9mYWN0b3JpZXMvbW9kZWwvdHJhbnNwb3J0L0pNU1RvcGljVHJh
bnNwb3J0TWFuYWdlckNvbmZpZy5qYXZhCSh3b3JraW5nIGNvcHkpDQpAQCAtOSw1MyArOSwxNCBA
QA0KICAqDQogICogQ29udHJpYnV0b3JzOg0KICAqICAgICBPcmFjbGUgLSBpbml0aWFsIEFQSSBh
bmQgaW1wbGVtZW50YXRpb24gZnJvbSBPcmFjbGUgVG9wTGluaw0KKyAqICAgICBjZGVsYWh1biAt
IEJ1ZyAyMTQ1MzQ6IG1vdmVkIGFsbCBhcGkgdG8gSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFn
ZXJDb25maWcgDQogICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8gIA0KIHBhY2thZ2Ugb3JnLmVjbGlw
c2UucGVyc2lzdGVuY2UuaW50ZXJuYWwuc2Vzc2lvbnMuZmFjdG9yaWVzLm1vZGVsLnRyYW5zcG9y
dDsNCiANCi1pbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJuYWwuc2Vzc2lvbnMu
ZmFjdG9yaWVzLm1vZGVsLnRyYW5zcG9ydC5uYW1pbmcuKjsNCiANCiAvKioNCiAgKiBJTlRFUk5B
TDoNCiAgKi8NCi1wdWJsaWMgY2xhc3MgSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnIGV4
dGVuZHMgVHJhbnNwb3J0TWFuYWdlckNvbmZpZyB7DQotICAgIHByaXZhdGUgU3RyaW5nIG1fdG9w
aWNIb3N0VVJMOw0KLSAgICBwcml2YXRlIFN0cmluZyBtX3RvcGljQ29ubmVjdGlvbkZhY3RvcnlO
YW1lOw0KLSAgICBwcml2YXRlIFN0cmluZyBtX3RvcGljTmFtZTsNCi0gICAgcHJpdmF0ZSBKTkRJ
TmFtaW5nU2VydmljZUNvbmZpZyBtX2puZGlOYW1pbmdTZXJ2aWNlQ29uZmlnOw0KLQ0KLSAgICBw
dWJsaWMgSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKCkgew0KLSAgICAgICAgc3VwZXIo
KTsNCi0gICAgfQ0KLQ0KLSAgICBwdWJsaWMgdm9pZCBzZXRUb3BpY0hvc3RVUkwoU3RyaW5nIHRv
cGljSG9zdFVSTCkgew0KLSAgICAgICAgbV90b3BpY0hvc3RVUkwgPSB0b3BpY0hvc3RVUkw7DQot
ICAgIH0NCi0NCi0gICAgcHVibGljIFN0cmluZyBnZXRUb3BpY0hvc3RVUkwoKSB7DQotICAgICAg
ICByZXR1cm4gbV90b3BpY0hvc3RVUkw7DQotICAgIH0NCi0NCi0gICAgcHVibGljIHZvaWQgc2V0
VG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWUoU3RyaW5nIHRvcGljQ29ubmVjdGlvbkZhY3RvcnlO
YW1lKSB7DQotICAgICAgICBtX3RvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lID0gdG9waWNDb25u
ZWN0aW9uRmFjdG9yeU5hbWU7DQotICAgIH0NCi0NCi0gICAgcHVibGljIFN0cmluZyBnZXRUb3Bp
Y0Nvbm5lY3Rpb25GYWN0b3J5TmFtZSgpIHsNCi0gICAgICAgIHJldHVybiBtX3RvcGljQ29ubmVj
dGlvbkZhY3RvcnlOYW1lOw0KLSAgICB9DQotDQotICAgIHB1YmxpYyB2b2lkIHNldFRvcGljTmFt
ZShTdHJpbmcgdG9waWNOYW1lKSB7DQotICAgICAgICBtX3RvcGljTmFtZSA9IHRvcGljTmFtZTsN
Ci0gICAgfQ0KLQ0KLSAgICBwdWJsaWMgU3RyaW5nIGdldFRvcGljTmFtZSgpIHsNCi0gICAgICAg
IHJldHVybiBtX3RvcGljTmFtZTsNCi0gICAgfQ0KLQ0KLSAgICBwdWJsaWMgdm9pZCBzZXRKTkRJ
TmFtaW5nU2VydmljZUNvbmZpZyhKTkRJTmFtaW5nU2VydmljZUNvbmZpZyBqbmRpTmFtaW5nU2Vy
dmljZUNvbmZpZykgew0KLSAgICAgICAgbV9qbmRpTmFtaW5nU2VydmljZUNvbmZpZyA9IGpuZGlO
YW1pbmdTZXJ2aWNlQ29uZmlnOw0KLSAgICB9DQotDQotICAgIHB1YmxpYyBKTkRJTmFtaW5nU2Vy
dmljZUNvbmZpZyBnZXRKTkRJTmFtaW5nU2VydmljZUNvbmZpZygpIHsNCi0gICAgICAgIHJldHVy
biBtX2puZGlOYW1pbmdTZXJ2aWNlQ29uZmlnOw0KLSAgICB9DQorcHVibGljIGNsYXNzIEpNU1Rv
cGljVHJhbnNwb3J0TWFuYWdlckNvbmZpZyBleHRlbmRzIEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRN
YW5hZ2VyQ29uZmlnIHsNCisgICAgDQogfQ0KSW5kZXg6IGZvdW5kYXRpb24vb3JnLmVjbGlwc2Uu
cGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vz
c2lvbnMvZmFjdG9yaWVzL1Nlc3Npb25zRmFjdG9yeS5qYXZhDQo9PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLS0gZm91
bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJz
aXN0ZW5jZS9pbnRlcm5hbC9zZXNzaW9ucy9mYWN0b3JpZXMvU2Vzc2lvbnNGYWN0b3J5LmphdmEJ
KHJldmlzaW9uIDY0NjIpDQorKysgZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5j
b3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9pbnRlcm5hbC9zZXNzaW9ucy9mYWN0b3Jp
ZXMvU2Vzc2lvbnNGYWN0b3J5LmphdmEJKHdvcmtpbmcgY29weSkNCkBAIC05LDYgKzksNyBAQA0K
ICAqDQogICogQ29udHJpYnV0b3JzOg0KICAqICAgICBPcmFjbGUgLSBpbml0aWFsIEFQSSBhbmQg
aW1wbGVtZW50YXRpb24gZnJvbSBPcmFjbGUgVG9wTGluaw0KKyAqICAgICBjZGVsYWh1biAtIEJ1
ZyAyMTQ1MzQ6IGNoYW5nZXMgZm9yIEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyIGNvbmZp
Z3VyYXRpb24gdmlhIHNlc3Npb24ueG1sDQogICoqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8gIA0KIHBh
Y2thZ2Ugb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJuYWwuc2Vzc2lvbnMuZmFjdG9yaWVz
Ow0KIA0KQEAgLTI2LDYgKzI3LDcgQEANCiBpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uu
ZXhjZXB0aW9ucy4qOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5j
b29yZGluYXRpb24uKjsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMu
Y29vcmRpbmF0aW9uLnJtaS5STUlUcmFuc3BvcnRNYW5hZ2VyOw0KK2ltcG9ydCBvcmcuZWNsaXBz
ZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24uam1zLkpNU1B1Ymxpc2hpbmdUcmFu
c3BvcnRNYW5hZ2VyOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5j
b29yZGluYXRpb24uam1zLkpNU1RvcGljVHJhbnNwb3J0TWFuYWdlcjsNCiBpbXBvcnQgb3JnLmVj
bGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuY29vcmRpbmF0aW9uLmNvcmJhLnN1bi5TdW5DT1JC
QVRyYW5zcG9ydE1hbmFnZXI7DQogaW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Np
b25zLnNlcnZlci4qOw0KQEAgLTg4OSw4ICs4OTEsMTAgQEANCiAgICAgICAgICAgICBidWlsZFJN
SVRyYW5zcG9ydE1hbmFnZXJDb25maWcoKFJNSVRyYW5zcG9ydE1hbmFnZXJDb25maWcpdG1Db25m
aWcsIHJjbSk7DQogICAgICAgICB9IGVsc2UgaWYgKHRtQ29uZmlnIGluc3RhbmNlb2YgUk1JSUlP
UFRyYW5zcG9ydE1hbmFnZXJDb25maWcpIHsNCiAgICAgICAgICAgICBidWlsZFJNSUlJT1BUcmFu
c3BvcnRNYW5hZ2VyQ29uZmlnKChSTUlJSU9QVHJhbnNwb3J0TWFuYWdlckNvbmZpZyl0bUNvbmZp
ZywgcmNtKTsNCi0gICAgICAgIH0gZWxzZSBpZiAodG1Db25maWcgaW5zdGFuY2VvZiBKTVNUb3Bp
Y1RyYW5zcG9ydE1hbmFnZXJDb25maWcpIHsNCisgICAgICAgIH0gIGVsc2UgaWYgKHRtQ29uZmln
IGluc3RhbmNlb2YgSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKSB7DQogICAgICAgICAg
ICAgYnVpbGRKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJDb25maWcoKEpNU1RvcGljVHJhbnNwb3J0
TWFuYWdlckNvbmZpZyl0bUNvbmZpZywgcmNtKTsNCisgICAgICAgIH0gZWxzZSBpZiAodG1Db25m
aWcgaW5zdGFuY2VvZiBKTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlckNvbmZpZykgew0KKyAg
ICAgICAgICAgIGJ1aWxkSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWcoKEpNU1B1
Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKXRtQ29uZmlnLCByY20pOw0KICAgICAgICAg
fSBlbHNlIGlmICh0bUNvbmZpZyBpbnN0YW5jZW9mIE9jNGpKR3JvdXBzVHJhbnNwb3J0TWFuYWdl
ckNvbmZpZykgew0KICAgICAgICAgICAgIGJ1aWxkT2M0akpHcm91cHNUcmFuc3BvcnRNYW5hZ2Vy
Q29uZmlnKChPYzRqSkdyb3Vwc1RyYW5zcG9ydE1hbmFnZXJDb25maWcpdG1Db25maWcsIHJjbSk7
DQogICAgICAgICB9IGVsc2UgaWYgKHRtQ29uZmlnIGluc3RhbmNlb2YgU3VuQ09SQkFUcmFuc3Bv
cnRNYW5hZ2VyQ29uZmlnKSB7DQpAQCAtOTgzLDcgKzk4NywyNiBAQA0KIA0KICAgICAgICAgLy8g
U2V0IHRoZSB0cmFuc3BvcnQgbWFuYWdlci4gVGhpcyB3aWxsIGluaXRpYWxpemUgdGhlIERpc2Nv
dmVyeU1hbmFnZXINCiAgICAgICAgIHJjbS5zZXRUcmFuc3BvcnRNYW5hZ2VyKHRtKTsNCisgICAg
ICAgIA0KKyAgICAgICAgcHJvY2Vzc0pNU1RyYW5zcG9ydE1hbmFnZXJDb25maWcodG1Db25maWcs
IHRtKTsNCisgICAgfQ0KKyAgICANCisgICAgLyoqDQorICAgICAqIElOVEVSTkFMOg0KKyAgICAg
Ki8NCisgICAgcHJvdGVjdGVkIHZvaWQgYnVpbGRKTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdl
ckNvbmZpZyhKTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlckNvbmZpZyB0bUNvbmZpZywgUmVt
b3RlQ29tbWFuZE1hbmFnZXIgcmNtKSB7DQorICAgICAgICBKTVNQdWJsaXNoaW5nVHJhbnNwb3J0
TWFuYWdlciB0bSA9IG5ldyBKTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlcihyY20pOw0KIA0K
KyAgICAgICAgLy8gU2V0IHRoZSB0cmFuc3BvcnQgbWFuYWdlci4gVGhpcyB3aWxsIGluaXRpYWxp
emUgdGhlIERpc2NvdmVyeU1hbmFnZXINCisgICAgICAgIHJjbS5zZXRUcmFuc3BvcnRNYW5hZ2Vy
KHRtKTsNCisgICAgICAgIHByb2Nlc3NKTVNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKHRtQ29uZmln
LCB0bSk7DQorICAgIH0NCisgICAgDQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5BTDoNCisgICAg
ICogQ29tbW9uIEpNUyBjb25maWd1cmF0aW9uDQorICAgICAqLw0KKyAgICBwcm90ZWN0ZWQgdm9p
ZCBwcm9jZXNzSk1TVHJhbnNwb3J0TWFuYWdlckNvbmZpZyhKTVNQdWJsaXNoaW5nVHJhbnNwb3J0
TWFuYWdlckNvbmZpZyB0bUNvbmZpZywgSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXIgdG0g
KXsNCiAgICAgICAgIC8vIEpOREkgbmFtaW5nIHNlcnZpY2UNCiAgICAgICAgIGlmICh0bUNvbmZp
Zy5nZXRKTkRJTmFtaW5nU2VydmljZUNvbmZpZygpICE9IG51bGwpIHsNCiAgICAgICAgICAgICB0
bS5zZXROYW1pbmdTZXJ2aWNlVHlwZShUcmFuc3BvcnRNYW5hZ2VyLkpORElfTkFNSU5HX1NFUlZJ
Q0UpOw0KSW5kZXg6IGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMv
b3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vzc2lvbnMvZmFjdG9yaWVzL1hNTFNl
c3Npb25Db25maWdQcm9qZWN0LmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tLSBmb3VuZGF0aW9uL29yZy5l
Y2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVy
bmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9YTUxTZXNzaW9uQ29uZmlnUHJvamVjdC5qYXZhCShyZXZp
c2lvbiA2NDYyKQ0KKysrIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9z
cmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vzc2lvbnMvZmFjdG9yaWVzL1hN
TFNlc3Npb25Db25maWdQcm9qZWN0LmphdmEJKHdvcmtpbmcgY29weSkNCkBAIC0xMyw2ICsxMyw3
IEBADQogICogICAgICAgLSAyNTEwMDU6IFRoZSBkZWZhdWx0IEpOREkgSW5pdGlhbENvbnRleHRG
YWN0b3J5IGlzIG1vZGlmaWVkIGZyb20NCiAgKiAgICAgICBPQzRKOiBvcmFjbGUuajJlZS5ybWku
Uk1JSW5pdGlhbENvbnRleHRGYWN0b3J5IHRvDQogICogICAgICAgV2ViTG9naWM6IHdlYmxvZ2lj
LmpuZGkuV0xJbml0aWFsQ29udGV4dEZhY3RvcnkNCisgKiAgICAgY2RlbGFodW4gLSBCdWcgMjE0
NTM0OiBjaGFuZ2VzIGZvciBKTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlciBjb25maWd1cmF0
aW9uDQogICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKi8gIA0KIHBhY2thZ2Ugb3JnLmVjbGlwc2UucGVy
c2lzdGVuY2UuaW50ZXJuYWwuc2Vzc2lvbnMuZmFjdG9yaWVzOw0KIA0KQEAgLTcwLDYgKzcxLDcg
QEANCiBpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJuYWwuc2Vzc2lvbnMuZmFj
dG9yaWVzLm1vZGVsLnNlc3Npb24uU2VydmVyU2Vzc2lvbkNvbmZpZzsNCiBpbXBvcnQgb3JnLmVj
bGlwc2UucGVyc2lzdGVuY2UuaW50ZXJuYWwuc2Vzc2lvbnMuZmFjdG9yaWVzLm1vZGVsLnNlc3Np
b24uU2Vzc2lvbkJyb2tlckNvbmZpZzsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uu
aW50ZXJuYWwuc2Vzc2lvbnMuZmFjdG9yaWVzLm1vZGVsLnNlc3Npb24uU2Vzc2lvbkNvbmZpZzsN
CitpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJuYWwuc2Vzc2lvbnMuZmFjdG9y
aWVzLm1vZGVsLnRyYW5zcG9ydC5KTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlckNvbmZpZzsN
CiBpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJuYWwuc2Vzc2lvbnMuZmFjdG9y
aWVzLm1vZGVsLnRyYW5zcG9ydC5KTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJDb25maWc7DQogaW1w
b3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmludGVybmFsLnNlc3Npb25zLmZhY3Rvcmllcy5t
b2RlbC50cmFuc3BvcnQuUk1JSUlPUFRyYW5zcG9ydE1hbmFnZXJDb25maWc7DQogaW1wb3J0IG9y
Zy5lY2xpcHNlLnBlcnNpc3RlbmNlLmludGVybmFsLnNlc3Npb25zLmZhY3Rvcmllcy5tb2RlbC50
cmFuc3BvcnQuUk1JVHJhbnNwb3J0TWFuYWdlckNvbmZpZzsNCkBAIC0xODUsNiArMTg3LDcgQEAN
CiAgICAgICAgIGFkZERlc2NyaXB0b3IoYnVpbGRTZXNzaW9uQnJva2VyQ29uZmlnRGVzY3JpcHRv
cigpKTsNCiAgICAgICAgIGFkZERlc2NyaXB0b3IoYnVpbGRTZXNzaW9uQ29uZmlnRGVzY3JpcHRv
cigpKTsNCiAgICAgICAgIGFkZERlc2NyaXB0b3IoYnVpbGRKTVNUb3BpY1RyYW5zcG9ydE1hbmFn
ZXJDb25maWdEZXNjcmlwdG9yKCkpOw0KKyAgICAgICAgYWRkRGVzY3JpcHRvcihidWlsZEpNU1B1
Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnRGVzY3JpcHRvcigpKTsNCiAgICAgICAgIGFk
ZERlc2NyaXB0b3IoYnVpbGRSTUlJSU9QVHJhbnNwb3J0TWFuYWdlckNvbmZpZ0Rlc2NyaXB0b3Io
KSk7DQogICAgICAgICBhZGREZXNjcmlwdG9yKGJ1aWxkUk1JVHJhbnNwb3J0TWFuYWdlckNvbmZp
Z0Rlc2NyaXB0b3IoKSk7DQogICAgICAgICBhZGREZXNjcmlwdG9yKGJ1aWxkVHJhbnNwb3J0TWFu
YWdlckNvbmZpZ0Rlc2NyaXB0b3IoKSk7DQpAQCAtNjY5LDEwICs2NzIsMTAgQEANCiANCiAgICAg
ICAgIHJldHVybiBkZXNjcmlwdG9yOw0KICAgICB9DQotDQotICAgIHB1YmxpYyBDbGFzc0Rlc2Ny
aXB0b3IgYnVpbGRKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJDb25maWdEZXNjcmlwdG9yKCkgew0K
KyAgICANCisgICAgcHVibGljIENsYXNzRGVzY3JpcHRvciBidWlsZEpNU1B1Ymxpc2hpbmdUcmFu
c3BvcnRNYW5hZ2VyQ29uZmlnRGVzY3JpcHRvcigpIHsNCiAgICAgICAgIFhNTERlc2NyaXB0b3Ig
ZGVzY3JpcHRvciA9IG5ldyBYTUxEZXNjcmlwdG9yKCk7DQotICAgICAgICBkZXNjcmlwdG9yLnNl
dEphdmFDbGFzcyhKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJDb25maWcuY2xhc3MpOw0KKyAgICAg
ICAgZGVzY3JpcHRvci5zZXRKYXZhQ2xhc3MoSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJD
b25maWcuY2xhc3MpOw0KICAgICAgICAgZGVzY3JpcHRvci5nZXRJbmhlcml0YW5jZVBvbGljeSgp
LnNldFBhcmVudENsYXNzKFRyYW5zcG9ydE1hbmFnZXJDb25maWcuY2xhc3MpOw0KIA0KICAgICAg
ICAgWE1MRGlyZWN0TWFwcGluZyB0b3BpY0hvc3RVUkxNYXBwaW5nID0gbmV3IFhNTERpcmVjdE1h
cHBpbmcoKTsNCkBAIC03MDksNyArNzEyLDE0IEBADQogICAgICAgICByZXR1cm4gZGVzY3JpcHRv
cjsNCiAgICAgfQ0KIA0KKyAgICBwdWJsaWMgQ2xhc3NEZXNjcmlwdG9yIGJ1aWxkSk1TVG9waWNU
cmFuc3BvcnRNYW5hZ2VyQ29uZmlnRGVzY3JpcHRvcigpIHsNCisgICAgICAgIFhNTERlc2NyaXB0
b3IgZGVzY3JpcHRvciA9IG5ldyBYTUxEZXNjcmlwdG9yKCk7DQorICAgICAgICBkZXNjcmlwdG9y
LnNldEphdmFDbGFzcyhKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJDb25maWcuY2xhc3MpOw0KKyAg
ICAgICAgZGVzY3JpcHRvci5nZXRJbmhlcml0YW5jZVBvbGljeSgpLnNldFBhcmVudENsYXNzKEpN
U1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmNsYXNzKTsNCiANCisgICAgICAgIHJl
dHVybiBkZXNjcmlwdG9yOw0KKyAgICB9DQorDQogICAgIHB1YmxpYyBDbGFzc0Rlc2NyaXB0b3Ig
YnVpbGRKTkRJTmFtaW5nU2VydmljZUNvbmZpZ0Rlc2NyaXB0b3IoKSB7DQogICAgICAgICBYTUxE
ZXNjcmlwdG9yIGRlc2NyaXB0b3IgPSBuZXcgWE1MRGVzY3JpcHRvcigpOw0KICAgICAgICAgZGVz
Y3JpcHRvci5zZXRKYXZhQ2xhc3MoSk5ESU5hbWluZ1NlcnZpY2VDb25maWcuY2xhc3MpOw0KQEAg
LTEzNjgsNiArMTM3OCw3IEBADQogICAgICAgICBkZXNjcmlwdG9yLmdldEluaGVyaXRhbmNlUG9s
aWN5KCkuc2V0Q2xhc3NJbmRpY2F0b3JGaWVsZChuZXcgWE1MRmllbGQoIkB4c2k6dHlwZSIpKTsN
CiAgICAgICAgIGRlc2NyaXB0b3IuZ2V0SW5oZXJpdGFuY2VQb2xpY3koKS5hZGRDbGFzc0luZGlj
YXRvcihSTUlUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmNsYXNzLCAicm1pLXRyYW5zcG9ydCIpOw0K
ICAgICAgICAgZGVzY3JpcHRvci5nZXRJbmhlcml0YW5jZVBvbGljeSgpLmFkZENsYXNzSW5kaWNh
dG9yKFJNSUlJT1BUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmNsYXNzLCAicm1pLWlpb3AtdHJhbnNw
b3J0Iik7DQorICAgICAgICBkZXNjcmlwdG9yLmdldEluaGVyaXRhbmNlUG9saWN5KCkuYWRkQ2xh
c3NJbmRpY2F0b3IoSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWcuY2xhc3MsICJq
bXMtcHVibGlzaGluZy10cmFuc3BvcnQiKTsNCiAgICAgICAgIGRlc2NyaXB0b3IuZ2V0SW5oZXJp
dGFuY2VQb2xpY3koKS5hZGRDbGFzc0luZGljYXRvcihKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJD
b25maWcuY2xhc3MsICJqbXMtdG9waWMtdHJhbnNwb3J0Iik7DQogICAgICAgICBkZXNjcmlwdG9y
LmdldEluaGVyaXRhbmNlUG9saWN5KCkuYWRkQ2xhc3NJbmRpY2F0b3IoU3VuQ09SQkFUcmFuc3Bv
cnRNYW5hZ2VyQ29uZmlnLmNsYXNzLCAic3VuLWNvcmJhLXRyYW5zcG9ydCIpOw0KICAgICAgICAg
ZGVzY3JpcHRvci5nZXRJbmhlcml0YW5jZVBvbGljeSgpLmFkZENsYXNzSW5kaWNhdG9yKFVzZXJE
ZWZpbmVkVHJhbnNwb3J0TWFuYWdlckNvbmZpZy5jbGFzcywgInVzZXItZGVmaW5lZC10cmFuc3Bv
cnQiKTsNCkluZGV4OiBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3Jj
L29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL3Nlc3Npb25zL2Nvb3JkaW5hdGlvbi9qbXMvSk1TUHVi
bGlzaGluZ0hlbHBlci5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQotLS0gZm91bmRhdGlvbi9vcmcuZWNsaXBz
ZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9zZXNzaW9ucy9j
b29yZGluYXRpb24vam1zL0pNU1B1Ymxpc2hpbmdIZWxwZXIuamF2YQkocmV2aXNpb24gMCkNCisr
KyBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNl
L3BlcnNpc3RlbmNlL3Nlc3Npb25zL2Nvb3JkaW5hdGlvbi9qbXMvSk1TUHVibGlzaGluZ0hlbHBl
ci5qYXZhCShyZXZpc2lvbiAwKQ0KQEAgLTAsMCArMSw0NiBAQA0KKy8qKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqDQorICogQ29weXJpZ2h0IChjKSAxOTk4LCAyMDEwIE9yYWNsZS4gQWxsIHJpZ2h0cyBy
ZXNlcnZlZC4NCisgKiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxz
IGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgDQorICogdGVybXMgb2YgdGhlIEVjbGlwc2Ug
UHVibGljIExpY2Vuc2UgdjEuMCBhbmQgRWNsaXBzZSBEaXN0cmlidXRpb24gTGljZW5zZSB2LiAx
LjAgDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24uIA0KKyAqIFRoZSBF
Y2xpcHNlIFB1YmxpYyBMaWNlbnNlIGlzIGF2YWlsYWJsZSBhdCBodHRwOi8vd3d3LmVjbGlwc2Uu
b3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqIGFuZCB0aGUgRWNsaXBzZSBEaXN0cmlidXRpb24g
TGljZW5zZSBpcyBhdmFpbGFibGUgYXQgDQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9vcmcv
ZG9jdW1lbnRzL2VkbC12MTAucGhwLg0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBj
ZGVsYWh1biAtIEJ1ZyAyMTQ1MzQ6IGFkZGVkIGFzIGEgcHVibGljIGhlbHBlciBmb3IgSk1TIFJD
TSBtZXNzYWdlIHByb2Nlc3NpbmcNCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLyAgDQorcGFja2Fn
ZSBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24uam1zOw0KKw0K
K2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5leGNlcHRpb25zLlJlbW90ZUNvbW1hbmRN
YW5hZ2VyRXhjZXB0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5h
bC5zZXNzaW9ucy5jb29yZGluYXRpb24uam1zLkpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbjsNCitp
bXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJuYWwuc2Vzc2lvbnMuQWJzdHJhY3RT
ZXNzaW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGlu
YXRpb24uUmVtb3RlQ29tbWFuZE1hbmFnZXI7DQorDQorLyoqIA0KKyAqIFRoaXMgaGVscGVyIGNs
YXNzIGFsbG93cyBhY2Nlc3MgdG8gYWJzdHJhY3QgSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFn
ZXIgaW50ZXJuYWxzIHdoZW4gcHJvY2Vzc2luZyANCisgKiBKTVMgbWVzc2FnZXMgZm9yIFJDTSwg
YW5kIGNhbiBiZSBleHBhbmRlZCB1cG9uIHRvIGluY2x1ZGUgb3RoZXIgRWNsaXBzZUxpbmsgSk1T
IGZ1bmN0aW9uYWxpdHkuICAgDQorICogDQorICogQGF1dGhvciBDaHJpcyBEZWxhaHVudCANCisg
Ki8gDQorcHVibGljIGNsYXNzIEpNU1B1Ymxpc2hpbmdIZWxwZXIgew0KKyAgICAvKioNCisgICAg
ICogUFVCTElDOg0KKyAgICAgKiBQcm9jZXNzZXMgdGhlIHJlY2VpdmVkIFJDTSBtZXNzYWdlZCBm
cm9tIGEgSk1TIHByb3ZpZGVyIGZvciBjYWNoZSBjb29yZGluYXRpb24uDQorICAgICAqIFRoaXMg
d2lsbCB1c2UgdGhlIGxvY2FsIGNvbm5lY3Rpb24gZnJvbSB0aGUgY29uZmlndXJlZCBUcmFuc3Bv
cnRNYW5hZ2VyIGZyb20gdGhlIHNlc3Npb24ncyBSZW1vdGVDb21tYW5kTWFuYWdlci4NCisgICAg
ICogDQorICAgICAqIEBwYXJhbSBtZXNzYWdlDQorICAgICAqIEBwYXJhbSBzZXNzaW9uDQorICAg
ICAqIA0KKyAgICAgKiANCisgICAgICovDQorICAgIHB1YmxpYyBzdGF0aWMgdm9pZCBwcm9jZXNz
Sk1TTWVzc2FnZShqYXZheC5qbXMuTWVzc2FnZSBtZXNzYWdlLCBBYnN0cmFjdFNlc3Npb24gc2Vz
c2lvbil7DQorICAgICAgICBSZW1vdGVDb21tYW5kTWFuYWdlciByY20gPSAoUmVtb3RlQ29tbWFu
ZE1hbmFnZXIpc2Vzc2lvbi5nZXRDb21tYW5kTWFuYWdlcigpOw0KKyAgICAgICAgaWYocmNtLmlz
U3RvcHBlZCgpKXsNCisgICAgICAgICAgICB0aHJvdyBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2Vw
dGlvbi5yZW1vdGVDb21tYW5kTWFuYWdlcklzQ2xvc2VkKCk7DQorICAgICAgICB9DQorICAgICAg
ICBKTVNUb3BpY1JlbW90ZUNvbm5lY3Rpb24gY29ubmVjdGlvbiA9IChKTVNUb3BpY1JlbW90ZUNv
bm5lY3Rpb24pcmNtLmdldFRyYW5zcG9ydE1hbmFnZXIoKS5nZXRDb25uZWN0aW9uVG9Mb2NhbEhv
c3QoKTsNCisgICAgICAgIGNvbm5lY3Rpb24ub25NZXNzYWdlKG1lc3NhZ2UpOw0KKyAgICB9DQor
ICAgIA0KK30NCkluZGV4OiBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUv
c3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL3Nlc3Npb25zL2Nvb3JkaW5hdGlvbi9qbXMvSk1T
UHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXIuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0tIGZvdW5kYXRp
b24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVu
Y2Uvc2Vzc2lvbnMvY29vcmRpbmF0aW9uL2ptcy9KTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdl
ci5qYXZhCShyZXZpc2lvbiAwKQ0KKysrIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVu
Y2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uvc2Vzc2lvbnMvY29vcmRpbmF0aW9u
L2ptcy9KTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlci5qYXZhCShyZXZpc2lvbiAwKQ0KQEAg
LTAsMCArMSwyNjYgQEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAgDQorICogQ29weXJpZ2h0
IChjKSAxOTk4LCAyMDEwIE9yYWNsZS4gQWxsIHJpZ2h0cyByZXNlcnZlZC4gIA0KKyAqIFRoaXMg
cHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxl
IHVuZGVyIHRoZSAgDQorICogdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEu
MCwgd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24gIA0KKyAqIGFuZCBpcyBhdmFp
bGFibGUgYXQgaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwuICANCisg
KiAgDQorICogQ29udHJpYnV0b3JzOiANCisgKiAgICAgY2RlbGFodW4gLSBCdWcgMjE0NTM0OiBh
ZGRlZCBKTVMgQ2FjaGUgQ29vcmRpbmF0aW9uIGZvciBwdWJsaXNoaW5nIG9ubHkNCisgKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqLyAgICANCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNl
c3Npb25zLmNvb3JkaW5hdGlvbi5qbXM7DQorIA0KK2ltcG9ydCBqYXZhLnV0aWwuSGFzaHRhYmxl
Ow0KKw0KK2ltcG9ydCBqYXZheC5qbXMuVG9waWM7DQoraW1wb3J0IGphdmF4Lmptcy5Ub3BpY0Nv
bm5lY3Rpb25GYWN0b3J5Ow0KK2ltcG9ydCBqYXZheC5uYW1pbmcuQ29udGV4dDsNCitpbXBvcnQg
amF2YXgubmFtaW5nLk5hbWluZ0V4Y2VwdGlvbjsNCisNCitpbXBvcnQgb3JnLmVjbGlwc2UucGVy
c2lzdGVuY2UuZXhjZXB0aW9ucy5SZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbjsNCitpbXBv
cnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuZXhjZXB0aW9ucy5WYWxpZGF0aW9uRXhjZXB0aW9u
Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5hbC5zZXNzaW9ucy5jb29y
ZGluYXRpb24uam1zLkpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbjsNCitpbXBvcnQgb3JnLmVjbGlw
c2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuY29vcmRpbmF0aW9uLmJyb2FkY2FzdC5Ccm9hZGNhc3RU
cmFuc3BvcnRNYW5hZ2VyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9u
cy5jb29yZGluYXRpb24uUmVtb3RlQ29tbWFuZE1hbmFnZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNl
LnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5UcmFuc3BvcnRNYW5hZ2VyOw0KKw0K
Ky8qKg0KKyAqIDxwPg0KKyAqIDxiPlB1cnBvc2U8L2I+OiBQcm92aWRlIGEgdHJhbnNwb3J0IGlt
cGxlbWVudGF0aW9uIGZvciB0aGUgUmVtb3RlIENvbW1hbmQgTW9kdWxlIChSQ00pIHRoYXQgcHVi
bGlzaGVzDQorICogdG8gYSBKTVMgdG9waWMuICANCisgKiA8cD4NCisgKiA8Yj5EZXNjcmlwdGlv
bjwvYj46IFRoaXMgY2xhc3MgbWFuYWdlcyB0d28gY29ubmVjdGlvbnM6IGFuIGV4dGVybmFsIGNv
bm5lY3Rpb24gZm9yIHB1Ymxpc2hpbmcgdG8gSk1TLCANCisgKiAgYW5kIGEgbG9jYWwgY29ubmVj
dGlvbiB3aGljaCBjYW4gYmUgdXNlZCB0byBwcm9jZXNzIEpNUyBtZXNzYWdlcyByZWNlaXZlZCBm
cm9tIGFuIGFwcGxpY2F0aW9uIEpNUyBsaXN0ZW5lci4NCisgKiA8cD4NCisgKiBAYXV0aG9yIENo
cmlzIERlbGFodW50DQorICogQHNpbmNlIEVjbGlwc2VMaW5rIDIuMQ0KKyAqLw0KK3B1YmxpYyBj
bGFzcyBKTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlciBleHRlbmRzIEJyb2FkY2FzdFRyYW5z
cG9ydE1hbmFnZXIgew0KKyAgICBwcm90ZWN0ZWQgU3RyaW5nIGNvbm5lY3Rpb25GYWN0b3J5TmFt
ZTsNCisgICAgDQorICAgIC8qIA0KKyAgICAgKiBmbGFnIHVzZWQgdG8gdG9nZ2xlIGJldHdlZW4g
c3BlYyBjb21wbGlhbnQgYmVoYXZpb3IgYW5kIGxlZ2FjeSBiZWhhdmlvci4gIERlZmF1bHQgZmFs
c2UgY2F1c2VzIGV4dGVybmFsIEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbiB0byBjYWNoZSB0aGUg
DQorICAgICAqIFRvcGljQ29ubmVjdGlvbkZhY3RvcnkgYW5kIG9idGFpbiBUb3BpY0Nvbm5lY3Rp
b25zIGV0YyBvbmx5IHdoZW4gZXhlY3V0ZUNvbW1hbmQgaXMgY2FsbGVkLCByZWxlYXNpbmcgdGhl
bSBpbW1lZGlhdGVseS4gIA0KKyAgICAgKiBUcnVlIGNhdXNlcyBUb3BpY0Nvbm5lY3Rpb24sIFRv
cGljU2Vzc2lvbiBhbmQgVG9waWNQdWJsaXNoZXIgdG8gYmUgaGVsZCBhbmQgdXNlZCBmb3IgZXZl
cnkgZXhlY3V0ZUNvbW1hbmQgY2FsbC4NCisgICAgICogQSB2YWx1ZSBvZiB0cnVlIGhhcyBzcGVj
IGltcGxpY2F0aW9ucywgYXMgVG9waWNQdWJsaXNoZXJzIGFyZSBub3QgY29uY3VycmVudCBvYmpl
Y3RzLCBidXQgd2FzIGFkZGVkIGluIGZvciBhcHBsaWNhdGlvbnMNCisgICAgICogdGhhdCBtYXkg
aGF2ZSB3b3JrZWQgcHJldmlvdXNseSBidXQgZW5jb3VudGVyIHBlcmZvcm1hbmNlIGlzc3VlcyB3
aXRoIHJlcGVhdGVkbHkgY3JlYXRpbmcgVG9waWNDb25uZWN0aW9ucyBldGMuDQorICAgICAqLw0K
KyAgICBwcm90ZWN0ZWQgYm9vbGVhbiByZXVzZUpNU1RvcGljUHVibGlzaGVyID0gZmFsc2U7DQor
DQorICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIERFRkFVTFRfVE9QSUMgPSAiam1zL0Vj
bGlwc2VMaW5rVG9waWMiOw0KKyAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBERUZBVUxU
X0NPTk5FQ1RJT05fRkFDVE9SWSA9ICJqbXMvRWNsaXBzZUxpbmtUb3BpY0Nvbm5lY3Rpb25GYWN0
b3J5IjsNCisgICAgLyoqICANCisgICAgICogUFVCTElDOiAgDQorICAgICAqIENyZWF0ZXMgYSBK
TVNQdWJsaXNoaW5nT25seVRvcGljVHJhbnNwb3J0TWFuYWdlciAgDQorICAgICAqLyAgDQorICAg
IHB1YmxpYyBKTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlcihSZW1vdGVDb21tYW5kTWFuYWdl
ciByY20pIHsgIA0KKyAgICAgICAgc3VwZXIocmNtKTsgIA0KKyAgICB9DQorDQorICAgIC8qKg0K
KyAgICAgKiBJTlRFUk5BTDoNCisgICAgICogVGhpcyBtZXRob2QgY3JlYXRlcyBKTVNUb3BpY1Jl
bW90ZUNvbm5lY3Rpb24gdG8gYmUgdXNlZCBieSB0aGlzIFRyYW5zcG9ydE1hbmFnZXIuDQorICAg
ICAqIERvbid0IGNvbmZ1c2UgdGhpcyBtZXRob2Qgd2l0aCBuby1vcCBjcmVhdGVDb25uZWN0aW9u
KFNlcnZpY2VJZCBzZXJ2aWNlSWQpLg0KKyAgICAgKi8NCisgICAgcHJvdGVjdGVkIEpNU1RvcGlj
UmVtb3RlQ29ubmVjdGlvbiBjcmVhdGVDb25uZWN0aW9uKGJvb2xlYW4gaXNMb2NhbENvbm5lY3Rp
b25CZWluZ0NyZWF0ZWQpIHRocm93cyBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbiB7DQor
ICAgICAgICBDb250ZXh0IHJlbW90ZUhvc3RDb250ZXh0ID0gbnVsbDsNCisgICAgICAgIHRyeSB7
DQorICAgICAgICAgICAgcmVtb3RlSG9zdENvbnRleHQgPSBnZXRSZW1vdGVIb3N0Q29udGV4dChn
ZXRUb3BpY0hvc3RVcmwoKSk7DQorICAgICAgICAgICAgVG9waWNDb25uZWN0aW9uRmFjdG9yeSBj
b25uZWN0aW9uRmFjdG9yeSA9IGdldFRvcGljQ29ubmVjdGlvbkZhY3RvcnkocmVtb3RlSG9zdENv
bnRleHQpOw0KKyAgICAgICAgICAgIFRvcGljIHRvcGljID0gZ2V0VG9waWMocmVtb3RlSG9zdENv
bnRleHQpOw0KKyAgICAgICAgICAgIC8vIGV4dGVybmFsIGNvbm5lY3Rpb24gaXMgYSBwdWJsaXNo
ZXI7IGxvY2FsIGNvbm5lY3Rpb24gaXMgYSBzdWJzY3JpYmVyDQorICAgICAgICAgICAgcmV0dXJu
IG5ldyBKTVNUb3BpY1JlbW90ZUNvbm5lY3Rpb24ocmNtLCBjb25uZWN0aW9uRmFjdG9yeSwgdG9w
aWMsIGlzTG9jYWxDb25uZWN0aW9uQmVpbmdDcmVhdGVkLCByZXVzZUpNU1RvcGljUHVibGlzaGVy
KTsNCisgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkgew0KKyAgICAgICAgICAgIFJlbW90
ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uIHJjbUV4Y2VwdGlvbjsNCisgICAgICAgICAgICBpZihp
c0xvY2FsQ29ubmVjdGlvbkJlaW5nQ3JlYXRlZCkgew0KKyAgICAgICAgICAgICAgICByY21FeGNl
cHRpb24gPSBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbi5lcnJvckNyZWF0aW5nTG9jYWxK
TVNDb25uZWN0aW9uKHRvcGljTmFtZSwgY29ubmVjdGlvbkZhY3RvcnlOYW1lLCBnZXRSZW1vdGVD
b250ZXh0UHJvcGVydGllcygpLCBleCk7DQorICAgICAgICAgICAgfSBlbHNlIHsNCisgICAgICAg
ICAgICAgICAgcmNtRXhjZXB0aW9uID0gUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24uZXJy
b3JDcmVhdGluZ0pNU0Nvbm5lY3Rpb24odG9waWNOYW1lLCBjb25uZWN0aW9uRmFjdG9yeU5hbWUs
IGdldFJlbW90ZUNvbnRleHRQcm9wZXJ0aWVzKCksIGV4KTsNCisgICAgICAgICAgICB9DQorICAg
ICAgICAgICAgdGhyb3cgcmNtRXhjZXB0aW9uOw0KKyAgICAgICAgfSBmaW5hbGx5IHsNCisgICAg
ICAgICAgICBpZihyZW1vdGVIb3N0Q29udGV4dCAhPSBudWxsKSB7DQorICAgICAgICAgICAgICAg
IHRyeSB7DQorICAgICAgICAgICAgICAgICAgICByZW1vdGVIb3N0Q29udGV4dC5jbG9zZSgpOw0K
KyAgICAgICAgICAgICAgICB9IGNhdGNoIChOYW1pbmdFeGNlcHRpb24gbmFtaW5nRXhjZXB0aW9u
KSB7DQorICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUNCisgICAgICAgICAgICAgICAgfQ0K
KyAgICAgICAgICAgIH0NCisgICAgICAgIH0NCisgICAgfQ0KKw0KKyAgICAvKioNCisgICAgICog
SU5URVJOQUw6DQorICAgICAqIEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlciBkb2Vzbid0IHVzZSBE
aXNjb3ZlcnlNYW5hZ2VyLCB0aGVyZWZvcmUNCisgICAgICogdGhpcyBtZXRob2QgaXMgY2FsbGVk
IGR1cmluZyBSQ00gaW5pdGlhbGl6YXRpb24gdG8gY3JlYXRlIGFsbCB0aGUgbmVjZXNzYXJ5IGNv
bm5lY3Rpb25zLg0KKyAgICAgKi8NCisgICAgcHVibGljIHZvaWQgY3JlYXRlQ29ubmVjdGlvbnMo
KSB7DQorICAgICAgICBjcmVhdGVFeHRlcm5hbENvbm5lY3Rpb24oKTsNCisgICAgICAgIGNyZWF0
ZUxvY2FsQ29ubmVjdGlvbigpOw0KKyAgICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5B
TDoNCisgICAgICogSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXIgaGFzIG1heGltdW0gb25l
IGV4dGVybmFsIGNvbm5lY3Rpb24uDQorICAgICAqIFZlcmlmeSB0aGVyZSBhcmUgbm8gZXh0ZXJu
YWwgY29ubmVjdGlvbnMsDQorICAgICAqIGNyZWF0ZSBhIG5ldyBleHRlcm5hbCBjb25uZWN0aW9u
LCANCisgICAgICogYWRkIGl0IHRvIGV4dGVybmFsIGNvbm5lY3Rpb25zJyBtYXAuDQorICAgICAq
Lw0KKyAgICBwdWJsaWMgdm9pZCBjcmVhdGVFeHRlcm5hbENvbm5lY3Rpb24oKSB7DQorICAgICAg
ICBzeW5jaHJvbml6ZWQoY29ubmVjdGlvbnNUb0V4dGVybmFsU2VydmljZXMpIHsNCisgICAgICAg
ICAgICBpZihjb25uZWN0aW9uc1RvRXh0ZXJuYWxTZXJ2aWNlcy5pc0VtcHR5KCkpIHsNCisgICAg
ICAgICAgICAgICAgdHJ5IHsNCisgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zVG9FeHRl
cm5hbFNlcnZpY2VzLnB1dChyY20uZ2V0U2VydmljZUlkKCkuZ2V0SWQoKSwgY3JlYXRlQ29ubmVj
dGlvbihmYWxzZSkpOw0KKyAgICAgICAgICAgICAgICB9IGNhdGNoIChSZW1vdGVDb21tYW5kTWFu
YWdlckV4Y2VwdGlvbiByY21FeGNlcHRpb24pIHsNCisgICAgICAgICAgICAgICAgICAgIC8vIHRv
IHJlY292ZXIgaGFuZGxlIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLkVSUk9SX0NSRUFU
SU5HX0pNU19DT05ORUNUSU9OOg0KKyAgICAgICAgICAgICAgICAgICAgLy8gYWZ0ZXIgY2hhbmdp
bmcgc29tZXRoaW5nIChmb3IgaW5zdGFuY2Ugam1zSG9zdFVybCkNCisgICAgICAgICAgICAgICAg
ICAgIC8vIGNhbGwgY3JlYXRlRXh0ZXJuYWxDb25uZWN0aW9uIG1ldGhvZCBhZ2Fpbi4NCisgICAg
ICAgICAgICAgICAgICAgIHJjbS5oYW5kbGVFeGNlcHRpb24ocmNtRXhjZXB0aW9uKTsNCisgICAg
ICAgICAgICAgICAgfQ0KKyAgICAgICAgICAgIH0gICAgICAgICAgICANCisgICAgICAgIH0NCisg
ICAgfQ0KKw0KKyAgICAvKioNCisgICAgICogSU5URVJOQUw6DQorICAgICAqIEpNU1B1Ymxpc2hp
bmdUcmFuc3BvcnRNYW5hZ2VyIGhhcyBvbmx5IHR3byBjb25uZWN0aW9uczogb25lIGxvY2FsIGFu
ZCBvbmUgZXh0ZXJuYWwuDQorICAgICAqIEluIGNhc2UgdGhlIGxvY2FsIGNvbm5lY3Rpb24gZG9l
c24ndCBleGlzdCwgdGhpcyBtZXRob2QgY3JlYXRlcyBpdCBhbmQgaG9sZHMgaXQgdG8gYmUgdXNl
ZA0KKyAgICAgKiB3aGVuIHByb2Nlc3NpbmcgaW5jb21pbmcgSk1TIG1lc3NhZ2VzLiAgVGhlIHN0
b3JlZCBsb2NhbCBjb25uZWN0aW9uIG9uIEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyDQor
ICAgICAqIGRvZXMgbm90IGNvbm5lY3QgdG8gdG9waWNDb25uZWN0aW9uLCBhbmQgaW5zdGVhZCBt
dXN0IGJlIHVzZWQgZnJvbSBhbiBNREIgd2hlbiBhIG1lc3NhZ2UgaXMgcmVjZWl2ZWQNCisgICAg
ICovDQorICAgIHB1YmxpYyB2b2lkIGNyZWF0ZUxvY2FsQ29ubmVjdGlvbigpIHsNCisgICAgICAg
IGlmKGxvY2FsQ29ubmVjdGlvbiA9PSBudWxsKSB7DQorICAgICAgICAgICAgbG9jYWxDb25uZWN0
aW9uID0gbmV3IEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbihyY20pOw0KKyAgICAgICAgfQ0KKyAg
ICB9DQorICAgIA0KKw0KKyAgICAvKioNCisgICAgICogSU5URVJOQUw6DQorICAgICAqIEluIGNh
c2UgdGhlcmUncyBubyBleHRlcm5hbCBjb25uZWN0aW9uIGF0dGVtcHRzIHRvIGNyZWF0ZSBvbmUu
DQorICAgICAqIFJldHVybnMgY2xvbmUgb2YgdGhlIG9yaWdpbmFsIG1hcC4NCisgICAgICovDQor
ICAgIHB1YmxpYyBIYXNodGFibGUgZ2V0Q29ubmVjdGlvbnNUb0V4dGVybmFsU2VydmljZXNGb3JD
b21tYW5kUHJvcGFnYXRpb24oKSB7DQorICAgICAgICBpZih0aGlzLmdldENvbm5lY3Rpb25zVG9F
eHRlcm5hbFNlcnZpY2VzKCkuaXNFbXB0eSgpICYmICF0aGlzLnJjbS5pc1N0b3BwZWQoKSkgew0K
KyAgICAgICAgICAgIHRoaXMuY3JlYXRlRXh0ZXJuYWxDb25uZWN0aW9uKCk7DQorICAgICAgICB9
DQorICAgICAgICByZXR1cm4gc3VwZXIuZ2V0Q29ubmVjdGlvbnNUb0V4dGVybmFsU2VydmljZXNG
b3JDb21tYW5kUHJvcGFnYXRpb24oKTsNCisgICAgfQ0KKyAgICANCisgICAgLyoqDQorICAgICAq
IFBVQkxJQzoNCisgICAgICogZmxhZyB1c2VkIHRvIHRvZ2dsZSBiZXR3ZWVuIGoyRUUvSk1TIHNw
ZWMgY29tcGxpYW50IGJlaGF2aW9yIGFuZCBsZWdhY3kgYmVoYXZpb3IuICBEZWZhdWx0IHZhbHVl
IGZhbHNlIGNhdXNlcyBleHRlcm5hbA0KKyAgICAgKiAgSk1TVG9waWNSZW1vdGVDb25uZWN0aW9u
IHRvIGNhY2hlIHRoZSBUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5IGFuZCBvYnRhaW4gVG9waWNDb25u
ZWN0aW9ucywgVG9waWNTZXNzaW9uIGFuZCBUb3BpY1B1Ymxpc2hlcnMgDQorICAgICAqICBldmVy
eSB0aW1lIGV4ZWN1dGVDb21tYW5kIGlzIGNhbGxlZCwgYW5kIHRoZW4gY2xvc2luZyB0aGVtIGlt
bWVkaWF0ZWx5LiAgVGhpcyBpcyBKTVMgYW5kIEoyRUUgY29tcGxpYW50LCBhcyB0aGUgVG9waWND
b25uZWN0aW9uDQorICAgICAqICBpcyBuZXZlciByZXVzZWQgaW4gZGlmZmVyZW50IHRocmVhZHMu
DQorICAgICAqIFRydWUgY2F1c2VzIFRvcGljQ29ubmVjdGlvbiwgVG9waWNTZXNzaW9uIGFuZCBU
b3BpY1B1Ymxpc2hlciB0byBiZSBjYWNoZWQgd2l0aGluIHRoZSBKTVNUb3BpY1JlbW90ZUNvbm5l
Y3Rpb24gYW5kIHVzZWQgZm9yIA0KKyAgICAgKiAgZXZlcnkgZXhlY3V0ZUNvbW1hbmQgY2FsbC4g
IFRoZXNlIG9iamVjdHMgY2FuIHBvdGVudGlhbGx5IHVzZWQgY29uY3VycmVudGx5LCB3aGljaCB0
aGUgSk1TIHNwZWMgZG9lcyBub3QgZm9yY2UgDQorICAgICAqICBwcm92aWRlcnMgdG8gc3VwcG9y
dC4gIA0KKyAgICAgKi8NCisgICAgcHVibGljIGJvb2xlYW4gZ2V0UmV1c2VKTVNUb3BpY1B1Ymxp
c2hlcigpew0KKyAgICAgICAgcmV0dXJuIHRoaXMucmV1c2VKTVNUb3BpY1B1Ymxpc2hlcjsNCisg
ICAgfQ0KKw0KKyAgICAvKioNCisgICAgICogSU5URVJOQUw6DQorICAgICAqLw0KKyAgICBwcm90
ZWN0ZWQgVG9waWMgZ2V0VG9waWMoQ29udGV4dCByZW1vdGVIb3N0Q29udGV4dCkgew0KKyAgICAg
ICAgdHJ5IHsNCisgICAgICAgICAgICByZXR1cm4gKFRvcGljKXJlbW90ZUhvc3RDb250ZXh0Lmxv
b2t1cCh0b3BpY05hbWUpOw0KKyAgICAgICAgfSBjYXRjaCAoTmFtaW5nRXhjZXB0aW9uIGUpIHsN
CisgICAgICAgICAgICBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbiByY21FeGNlcHRpb24g
PSBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbi5lcnJvckxvb2tpbmdVcFJlbW90ZUNvbm5l
Y3Rpb24odG9waWNOYW1lLCByY20uZ2V0VXJsKCksIGUpOw0KKyAgICAgICAgICAgIHJjbS5oYW5k
bGVFeGNlcHRpb24ocmNtRXhjZXB0aW9uKTsNCisgICAgICAgICAgICAvLyBJZiB0aGUgaGFuZGxl
ciBoYXNuJ3QgdGhyb3duIHRoZSBleGNlcHRpb24gcmV0aHJvdyBpdCBoZXJlIC0gaXQncyBpbXBv
c3NpYmxlIHRvIHJlY292ZXIuDQorICAgICAgICAgICAgdGhyb3cgcmNtRXhjZXB0aW9uOw0KKyAg
ICAgICAgfQ0KKyAgICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5BTDoNCisgICAgICov
DQorICAgIHByb3RlY3RlZCBUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5IGdldFRvcGljQ29ubmVjdGlv
bkZhY3RvcnkoQ29udGV4dCByZW1vdGVIb3N0Q29udGV4dCkgew0KKyAgICAgICAgdHJ5IHsNCisg
ICAgICAgICAgICByZXR1cm4gKFRvcGljQ29ubmVjdGlvbkZhY3RvcnkpcmVtb3RlSG9zdENvbnRl
eHQubG9va3VwKGNvbm5lY3Rpb25GYWN0b3J5TmFtZSk7DQorICAgICAgICB9IGNhdGNoIChOYW1p
bmdFeGNlcHRpb24gZSkgew0KKyAgICAgICAgICAgIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0
aW9uIHJjbUV4Y2VwdGlvbiA9IFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLmVycm9yTG9v
a2luZ1VwUmVtb3RlQ29ubmVjdGlvbihjb25uZWN0aW9uRmFjdG9yeU5hbWUsIHJjbS5nZXRVcmwo
KSwgZSk7DQorICAgICAgICAgICAgcmNtLmhhbmRsZUV4Y2VwdGlvbihyY21FeGNlcHRpb24pOw0K
KyAgICAgICAgICAgIC8vIElmIHRoZSBoYW5kbGVyIGhhc24ndCB0aHJvd24gdGhlIGV4Y2VwdGlv
biByZXRocm93IGl0IGhlcmUgLSBpdCdzIGltcG9zc2libGUgdG8gcmVjb3Zlci4NCisgICAgICAg
ICAgICB0aHJvdyByY21FeGNlcHRpb247DQorICAgICAgICB9DQorICAgIH0NCisNCisgICAgLyoq
DQorICAgICAqIFBVQkxJQzoNCisgICAgICogUmV0dXJuIHRoZSBKTVMgVG9waWMgQ29ubmVjdGlv
biBGYWN0b3J5IE5hbWUgZm9yIHRoZSBKTVMgVG9waWMgY29ubmVjdGlvbnMuDQorICAgICAqLw0K
KyAgICBwdWJsaWMgU3RyaW5nIGdldFRvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lKCkgew0KKyAg
ICAgICAgcmV0dXJuIGNvbm5lY3Rpb25GYWN0b3J5TmFtZTsNCisgICAgfQ0KKw0KKyAgICAvKioN
CisgICAgICogUFVCTElDOg0KKyAgICAgKiBSZXR1cm4gdGhlIFVSTCBvZiB0aGUgbWFjaGluZSBv
biB0aGUgbmV0d29yayB0aGF0IGhvc3RzIHRoZSBKTVMgVG9waWMuICBUaGlzIGlzIGEgcmVxdWly
ZWQgcHJvcGVydHkgYW5kIG11c3QgYmUgY29uZmlndXJlZC4NCisgICAgICovDQorICAgIHB1Ymxp
YyBTdHJpbmcgZ2V0VG9waWNIb3N0VXJsKCkgew0KKyAgICAgICAgcmV0dXJuIChTdHJpbmcpZ2V0
UmVtb3RlQ29udGV4dFByb3BlcnRpZXMoKS5nZXQoQ29udGV4dC5QUk9WSURFUl9VUkwpOw0KKyAg
ICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5BTDoNCisgICAgICogSW5pdGlhbGl6ZSBk
ZWZhdWx0IHByb3BlcnRpZXMuDQorICAgICAqLw0KKyAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXpl
KCkgew0KKyAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZSgpOw0KKyAgICAgICAgdG9waWNOYW1lID0g
REVGQVVMVF9UT1BJQzsNCisgICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5TmFtZSA9IERFRkFVTFRf
Q09OTkVDVElPTl9GQUNUT1JZOw0KKyAgICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5B
TDoNCisgICAgICogTm8tb3AsIGFzIHRoZSBsb2NhbCBjb25uZWN0aW9uIGRvZXMgbm90IG5lZWQg
dG8gYmUgcmVtb3ZlZCBmcm9tIEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyLg0KKyAgICAg
KiBBbiBhcHBsaWNhdGlvbiBtdXN0IGNsb3NlIHRoZSBjb25uZWN0aW9uIGRpcmVjdGx5IGlmIGl0
IGlzIHVzaW5nIHRoZSBsb2NhbCBjb25uZWN0aW9uIGFzIGEgbGlzdGVuZXIuDQorICAgICAqLw0K
KyAgICBwdWJsaWMgdm9pZCByZW1vdmVMb2NhbENvbm5lY3Rpb24oKSB7fQ0KKw0KKyAgICAvKioN
CisgICAgICogQURWQU5DRUQ6DQorICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbm90IHN1cHBvcnRl
ZCBmb3IgbmFtaW5nIHNlcnZpY2Ugb3RoZXIgdGhhbiBKTkRJIG9yIFRyYW5zcG9ydE1hbmFnZXIu
Sk5ESV9OQU1JTkdfU0VSVklDRS4NCisgICAgICovDQorICAgIHB1YmxpYyB2b2lkIHNldE5hbWlu
Z1NlcnZpY2VUeXBlKGludCBzZXJ2aWNlVHlwZSkgew0KKyAgICAgICAgaWYgKHNlcnZpY2VUeXBl
ICE9IFRyYW5zcG9ydE1hbmFnZXIuSk5ESV9OQU1JTkdfU0VSVklDRSkgew0KKyAgICAgICAgICAg
IHRocm93IFZhbGlkYXRpb25FeGNlcHRpb24ub3BlcmF0aW9uTm90U3VwcG9ydGVkKCJzZXROYW1p
bmdTZXJ2aWNlVHlwZSIpOw0KKyAgICAgICAgfQ0KKyAgICB9DQorICAgIA0KKyAgICAvKioNCisg
ICAgICogUFVCTElDOg0KKyAgICAgKiBmbGFnIHVzZWQgdG8gdG9nZ2xlIGJldHdlZW4gajJFRS9K
TVMgc3BlYyBjb21wbGlhbnQgYmVoYXZpb3IgYW5kIGxlZ2FjeSBiZWhhdmlvci4gIERlZmF1bHQg
dmFsdWUgZmFsc2UgY2F1c2VzIGV4dGVybmFsDQorICAgICAqICBKTVNUb3BpY1JlbW90ZUNvbm5l
Y3Rpb24gdG8gY2FjaGUgdGhlIFRvcGljQ29ubmVjdGlvbkZhY3RvcnkgYW5kIG9idGFpbiBUb3Bp
Y0Nvbm5lY3Rpb25zLCBUb3BpY1Nlc3Npb24gYW5kIFRvcGljUHVibGlzaGVycyANCisgICAgICog
IGV2ZXJ5IHRpbWUgZXhlY3V0ZUNvbW1hbmQgaXMgY2FsbGVkLCBhbmQgdGhlbiBjbG9zaW5nIHRo
ZW0gaW1tZWRpYXRlbHkuICBUaGlzIGlzIEpNUyBhbmQgSjJFRSBjb21wbGlhbnQsIGFzIHRoZSBU
b3BpY0Nvbm5lY3Rpb24NCisgICAgICogIGlzIG5ldmVyIHJldXNlZCBpbiBkaWZmZXJlbnQgdGhy
ZWFkcy4NCisgICAgICogVHJ1ZSBjYXVzZXMgVG9waWNDb25uZWN0aW9uLCBUb3BpY1Nlc3Npb24g
YW5kIFRvcGljUHVibGlzaGVyIHRvIGJlIGNhY2hlZCB3aXRoaW4gdGhlIEpNU1RvcGljUmVtb3Rl
Q29ubmVjdGlvbiBhbmQgdXNlZCBmb3IgDQorICAgICAqICBldmVyeSBleGVjdXRlQ29tbWFuZCBj
YWxsLiAgVGhlc2Ugb2JqZWN0cyBjYW4gcG90ZW50aWFsbHkgdXNlZCBjb25jdXJyZW50bHksIHdo
aWNoIHRoZSBKTVMgc3BlYyBkb2VzIG5vdCBmb3JjZSANCisgICAgICogIHByb3ZpZGVycyB0byBz
dXBwb3J0LiAgDQorICAgICAqICANCisgICAgICogIEBwYXJhbSByZXVzZUpNU1RvcGljUHVibGlz
aGVyDQorICAgICAqLw0KKyAgICBwdWJsaWMgdm9pZCBzZXRTaG91bGRSZXVzZUpNU1RvcGljUHVi
bGlzaGVyKGJvb2xlYW4gcmV1c2VKTVNUb3BpY1B1Ymxpc2hlcil7DQorICAgICAgICB0aGlzLnJl
dXNlSk1TVG9waWNQdWJsaXNoZXIgPSByZXVzZUpNU1RvcGljUHVibGlzaGVyOw0KKyAgICB9DQor
DQorICAgIC8qKg0KKyAgICAgKiBQVUJMSUM6DQorICAgICAqIENvbmZpZ3VyZSB0aGUgSk1TIFRv
cGljIENvbm5lY3Rpb24gRmFjdG9yeSBOYW1lIGZvciB0aGUgSk1TIFRvcGljIGNvbm5lY3Rpb25z
Lg0KKyAgICAgKi8NCisgICAgcHVibGljIHZvaWQgc2V0VG9waWNDb25uZWN0aW9uRmFjdG9yeU5h
bWUoU3RyaW5nIG5ld1RvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lKSB7DQorICAgICAgICBjb25u
ZWN0aW9uRmFjdG9yeU5hbWUgPSBuZXdUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZTsNCisgICAg
fQ0KKw0KKyAgICAvKioNCisgICAgICogUFVCTElDOg0KKyAgICAgKiBDb25maWd1cmUgdGhlIFVS
TCBvZiB0aGUgbWFjaGluZSBvbiB0aGUgbmV0d29yayB0aGF0IGhvc3RzIHRoZSBKTVMgVG9waWMu
IFRoaXMgaXMgYSByZXF1aXJlZCBwcm9wZXJ0eSBhbmQgbXVzdCBiZSBjb25maWd1cmVkLg0KKyAg
ICAgKi8NCisgICAgcHVibGljIHZvaWQgc2V0VG9waWNIb3N0VXJsKFN0cmluZyBqbXNIb3N0VXJs
KSB7DQorICAgICAgICBnZXRSZW1vdGVDb250ZXh0UHJvcGVydGllcygpLnB1dChDb250ZXh0LlBS
T1ZJREVSX1VSTCwgam1zSG9zdFVybCk7DQorICAgICAgICByY20uZ2V0U2VydmljZUlkKCkuc2V0
VVJMKGptc0hvc3RVcmwpOw0KKyAgICB9DQorfSAgDQpJbmRleDogZm91bmRhdGlvbi9vcmcuZWNs
aXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9zZXNzaW9u
cy9jb29yZGluYXRpb24vam1zL0pNU1RvcGljVHJhbnNwb3J0TWFuYWdlci5qYXZhDQo9PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09DQotLS0gZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcv
ZWNsaXBzZS9wZXJzaXN0ZW5jZS9zZXNzaW9ucy9jb29yZGluYXRpb24vam1zL0pNU1RvcGljVHJh
bnNwb3J0TWFuYWdlci5qYXZhCShyZXZpc2lvbiA2NDYyKQ0KKysrIGZvdW5kYXRpb24vb3JnLmVj
bGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uvc2Vzc2lv
bnMvY29vcmRpbmF0aW9uL2ptcy9KTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXIuamF2YQkod29ya2lu
ZyBjb3B5KQ0KQEAgLTksMjUgKzksMTkgQEANCiAgKg0KICAqIENvbnRyaWJ1dG9yczoNCiAgKiAg
ICAgT3JhY2xlIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uIGZyb20gT3JhY2xlIFRv
cExpbmsNCisgKiAgICAgY2RlbGFodW4gLSBCdWcgMjE0NTM0OiBhZGRlZCBKTVMgQ2FjaGUgQ29v
cmRpbmF0aW9uIGZvciBwdWJsaXNoaW5nIG9ubHkNCiAgKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLyAg
DQogcGFja2FnZSBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24u
am1zOw0KIA0KIGltcG9ydCBqYXZhLnV0aWwuSGFzaHRhYmxlOw0KLWltcG9ydCBqYXZheC5uYW1p
bmcuQ29udGV4dDsNCi1pbXBvcnQgamF2YXgubmFtaW5nLk5hbWluZ0V4Y2VwdGlvbjsNCi1pbXBv
cnQgamF2YXguam1zLlRvcGljOw0KLWltcG9ydCBqYXZheC5qbXMuVG9waWNDb25uZWN0aW9uOw0K
LWltcG9ydCBqYXZheC5qbXMuVG9waWNDb25uZWN0aW9uRmFjdG9yeTsNCiBpbXBvcnQgb3JnLmVj
bGlwc2UucGVyc2lzdGVuY2UuZXhjZXB0aW9ucy5SZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlv
bjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuZXhjZXB0aW9ucy5WYWxpZGF0aW9u
RXhjZXB0aW9uOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5hbC5zZXNz
aW9ucy5jb29yZGluYXRpb24uam1zLkpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbjsNCi1pbXBvcnQg
b3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuY29vcmRpbmF0aW9uLmJyb2FkY2FzdC5C
cm9hZGNhc3RUcmFuc3BvcnRNYW5hZ2VyOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5j
ZS5zZXNzaW9ucy5jb29yZGluYXRpb24uUmVtb3RlQ29tbWFuZE1hbmFnZXI7DQotaW1wb3J0IG9y
Zy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5UcmFuc3BvcnRNYW5h
Z2VyOw0KIA0KIC8qKg0KICAqIDxwPg0KLSAqIDxiPlB1cnBvc2U8L2I+OiBQcm92aWRlIGEgSk1T
IHRyYW5zcG9ydCBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIFJlbW90ZSBDb21tYW5kIE1vZHVsZSAo
UkNNKS4NCisgKiA8Yj5QdXJwb3NlPC9iPjogUHJvdmlkZSBhIHRyYW5zcG9ydCBpbXBsZW1lbnRh
dGlvbiBmb3IgdGhlIFJlbW90ZSBDb21tYW5kIE1vZHVsZSAoUkNNKSB0aGF0IGJvdGggcHVibGlz
aGVzDQorICogYW5kIHN1YnNjcmliZXMgdG8gYSBKTVMgdG9waWMuICANCiAgKiA8cD4NCiAgKiA8
Yj5EZXNjcmlwdGlvbjwvYj46IFRoaXMgY2xhc3MgbWFuYWdlcyB0d28gY29ubmVjdGlvbnMgdG8g
dGhlIHNhbWUga25vd24gSk1TIFRvcGljOg0KICAqIGV4dGVybmFsIGNvbm5lY3Rpb24gZm9yIHB1
Ymxpc2hpbmcsIGxvY2FsIGNvbm5lY3Rpb24gZm9yIHJlY2VpdmluZyBtZXNzYWdlcy4NCkBAIC0z
NSw0MCArMjksMTQgQEANCiAgKiBAYXV0aG9yIFN0ZXZlbiBWbw0KICAqIEBzaW5jZSBPcmFjbGVB
UyBUb3BMaW5rIDEwPGk+ZzwvaT4gKDEwLjAuMykNCiAgKi8NCi1wdWJsaWMgY2xhc3MgSk1TVG9w
aWNUcmFuc3BvcnRNYW5hZ2VyIGV4dGVuZHMgQnJvYWRjYXN0VHJhbnNwb3J0TWFuYWdlciB7DQot
ICAgIHByb3RlY3RlZCBTdHJpbmcgY29ubmVjdGlvbkZhY3RvcnlOYW1lOw0KK3B1YmxpYyBjbGFz
cyBKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXIgZXh0ZW5kcyBKTVNQdWJsaXNoaW5nVHJhbnNwb3J0
TWFuYWdlciB7DQogDQotICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIERFRkFVTFRfVE9Q
SUMgPSAiam1zL0VjbGlwc2VMaW5rVG9waWMiOw0KLSAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0
cmluZyBERUZBVUxUX0NPTk5FQ1RJT05fRkFDVE9SWSA9ICJqbXMvRWNsaXBzZUxpbmtUb3BpY0Nv
bm5lY3Rpb25GYWN0b3J5IjsNCi0NCiAgICAgcHVibGljIEpNU1RvcGljVHJhbnNwb3J0TWFuYWdl
cihSZW1vdGVDb21tYW5kTWFuYWdlciByY20pIHsNCiAgICAgICAgIHN1cGVyKHJjbSk7DQogICAg
IH0NCi0NCisgICAgDQogICAgIC8qKg0KICAgICAgKiBJTlRFUk5BTDoNCi0gICAgICogSk1TVG9w
aWNUcmFuc3BvcnRNYW5hZ2VyIGhhcyBtYXhpbXVtIG9uZSBleHRlcm5hbCBjb25uZWN0aW9uLg0K
LSAgICAgKiBWZXJpZnkgdGhlcmUgYXJlIG5vIGV4dGVybmFsIGNvbm5lY3Rpb25zLA0KLSAgICAg
KiBjcmVhdGUgYSBuZXcgZXh0ZXJuYWwgY29ubmVjdGlvbiwgDQotICAgICAqIGFkZCBpdCB0byBl
eHRlcm5hbCBjb25uZWN0aW9ucycgbWFwLg0KLSAgICAgKi8NCi0gICAgcHVibGljIHZvaWQgY3Jl
YXRlRXh0ZXJuYWxDb25uZWN0aW9uKCkgew0KLSAgICAgICAgc3luY2hyb25pemVkKGNvbm5lY3Rp
b25zVG9FeHRlcm5hbFNlcnZpY2VzKSB7DQotICAgICAgICAgICAgaWYoY29ubmVjdGlvbnNUb0V4
dGVybmFsU2VydmljZXMuaXNFbXB0eSgpKSB7DQotICAgICAgICAgICAgICAgIHRyeSB7DQotICAg
ICAgICAgICAgICAgICAgICBjb25uZWN0aW9uc1RvRXh0ZXJuYWxTZXJ2aWNlcy5wdXQocmNtLmdl
dFNlcnZpY2VJZCgpLmdldElkKCksIGNyZWF0ZUNvbm5lY3Rpb24oZmFsc2UpKTsNCi0gICAgICAg
ICAgICAgICAgfSBjYXRjaCAoUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24gcmNtRXhjZXB0
aW9uKSB7DQotICAgICAgICAgICAgICAgICAgICAvLyB0byByZWNvdmVyIGhhbmRsZSBSZW1vdGVD
b21tYW5kTWFuYWdlckV4Y2VwdGlvbi5FUlJPUl9DUkVBVElOR19KTVNfQ09OTkVDVElPTjoNCi0g
ICAgICAgICAgICAgICAgICAgIC8vIGFmdGVyIGNoYW5naW5nIHNvbWV0aGluZyAoZm9yIGluc3Rh
bmNlIGptc0hvc3RVcmwpDQotICAgICAgICAgICAgICAgICAgICAvLyBjYWxsIGNyZWF0ZUV4dGVy
bmFsQ29ubmVjdGlvbiBtZXRob2QgYWdhaW4uDQotICAgICAgICAgICAgICAgICAgICByY20uaGFu
ZGxlRXhjZXB0aW9uKHJjbUV4Y2VwdGlvbik7DQotICAgICAgICAgICAgICAgIH0NCi0gICAgICAg
ICAgICB9ICAgICAgICAgICAgDQotICAgICAgICB9DQotICAgIH0NCi0NCi0gICAgLyoqDQotICAg
ICAqIElOVEVSTkFMOg0KICAgICAgKiBKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXIgbWF5IGhhdmUg
b25seSB0d28gY29ubmVjdGlvbnM6IG9uZSBsb2NhbCBhbmQgb25lIGV4dGVybmFsLg0KICAgICAg
KiBJbiBjYXNlIHRoZSBsb2NhbCBjb25uZWN0aW9uIGRvZXNuJ3QgZXhpc3QsIHRoaXMgbWV0aG9k
IGNyZWF0ZXMgaXQuDQogICAgICAqLw0KQEAgLTg3LDM1ICs1NSwyNyBAQA0KIA0KICAgICAvKioN
CiAgICAgICogSU5URVJOQUw6DQotICAgICAqIFRoaXMgbWV0aG9kIGNyZWF0ZXMgSk1TVG9waWNS
ZW1vdGVDb25uZWN0aW9uIHRvIGJlIHVzZWQgYnkgdGhpcyBUcmFuc3BvcnRNYW5hZ2VyLg0KLSAg
ICAgKiBEb24ndCBjb25mdXNlIHRoaXMgbWV0aG9kIHdpdGggbm8tb3AgY3JlYXRlQ29ubmVjdGlv
bihTZXJ2aWNlSWQgc2VydmljZUlkKS4NCisgICAgICogSW4gY2FzZSB0aGVyZSdzIG5vIGV4dGVy
bmFsIGNvbm5lY3Rpb24gYXR0ZW1wdHMgdG8gY3JlYXRlIG9uZSwNCisgICAgICogaWYgdGhhdCdz
IHN1Y2Nlc3NmdWwgdGhlbiAoaW4gY2FzZSB0aGVyZSBpcyBubyBsb2NhbCBjb25uZWN0aW9uLCB0
b28pDQorICAgICAqIGF0dGVtcHRzIHRvIGNyZWF0ZSBsb2NhbCBjb25uZWN0aW9uIGluIGEgc2Vw
YXJhdGUgdGhyZWFkLg0KKyAgICAgKiBSZXR1cm5zIGNsb25lIG9mIHRoZSBvcmlnaW5hbCBtYXAu
DQogICAgICAqLw0KLSAgICBwcm90ZWN0ZWQgSk1TVG9waWNSZW1vdGVDb25uZWN0aW9uIGNyZWF0
ZUNvbm5lY3Rpb24oYm9vbGVhbiBpc0xvY2FsQ29ubmVjdGlvbkJlaW5nQ3JlYXRlZCkgdGhyb3dz
IFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uIHsNCi0gICAgICAgIENvbnRleHQgcmVtb3Rl
SG9zdENvbnRleHQgPSBudWxsOw0KLSAgICAgICAgdHJ5IHsNCi0gICAgICAgICAgICByZW1vdGVI
b3N0Q29udGV4dCA9IGdldFJlbW90ZUhvc3RDb250ZXh0KGdldFRvcGljSG9zdFVybCgpKTsNCi0g
ICAgICAgICAgICBUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5IGNvbm5lY3Rpb25GYWN0b3J5ID0gZ2V0
VG9waWNDb25uZWN0aW9uRmFjdG9yeShyZW1vdGVIb3N0Q29udGV4dCk7DQotICAgICAgICAgICAg
VG9waWMgdG9waWMgPSBnZXRUb3BpYyhyZW1vdGVIb3N0Q29udGV4dCk7ICAgIA0KLSAgICAgICAg
ICAgIFRvcGljQ29ubmVjdGlvbiB0b3BpY0Nvbm5lY3Rpb24gPSBjb25uZWN0aW9uRmFjdG9yeS5j
cmVhdGVUb3BpY0Nvbm5lY3Rpb24oKTsNCi0gICAgICAgICAgICAvLyBleHRlcm5hbCBjb25uZWN0
aW9uIGlzIGEgcHVpYmxpc2hlcjsgbG9jYWwgY29ubmVjdGlvbiBpcyBhIHN1YnNjcmliZXINCi0g
ICAgICAgICAgICByZXR1cm4gbmV3IEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbihyY20sIHRvcGlj
Q29ubmVjdGlvbiwgdG9waWMsIGlzTG9jYWxDb25uZWN0aW9uQmVpbmdDcmVhdGVkKTsNCi0gICAg
ICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkgew0KLSAgICAgICAgICAgIFJlbW90ZUNvbW1hbmRN
YW5hZ2VyRXhjZXB0aW9uIHJjbUV4Y2VwdGlvbjsNCi0gICAgICAgICAgICBpZihpc0xvY2FsQ29u
bmVjdGlvbkJlaW5nQ3JlYXRlZCkgew0KLSAgICAgICAgICAgICAgICByY21FeGNlcHRpb24gPSBS
ZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbi5lcnJvckNyZWF0aW5nTG9jYWxKTVNDb25uZWN0
aW9uKHRvcGljTmFtZSwgY29ubmVjdGlvbkZhY3RvcnlOYW1lLCBnZXRSZW1vdGVDb250ZXh0UHJv
cGVydGllcygpLCBleCk7DQotICAgICAgICAgICAgfSBlbHNlIHsNCi0gICAgICAgICAgICAgICAg
cmNtRXhjZXB0aW9uID0gUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24uZXJyb3JDcmVhdGlu
Z0pNU0Nvbm5lY3Rpb24odG9waWNOYW1lLCBjb25uZWN0aW9uRmFjdG9yeU5hbWUsIGdldFJlbW90
ZUNvbnRleHRQcm9wZXJ0aWVzKCksIGV4KTsNCi0gICAgICAgICAgICB9DQotICAgICAgICAgICAg
dGhyb3cgcmNtRXhjZXB0aW9uOw0KLSAgICAgICAgfSBmaW5hbGx5IHsNCi0gICAgICAgICAgICBp
ZihyZW1vdGVIb3N0Q29udGV4dCAhPSBudWxsKSB7DQotICAgICAgICAgICAgICAgIHRyeSB7DQot
ICAgICAgICAgICAgICAgICAgICByZW1vdGVIb3N0Q29udGV4dC5jbG9zZSgpOw0KLSAgICAgICAg
ICAgICAgICB9IGNhdGNoIChOYW1pbmdFeGNlcHRpb24gbmFtaW5nRXhjZXB0aW9uKSB7DQotICAg
ICAgICAgICAgICAgICAgICAvLyBpZ25vcmUNCisgICAgcHVibGljIEhhc2h0YWJsZSBnZXRDb25u
ZWN0aW9uc1RvRXh0ZXJuYWxTZXJ2aWNlc0ZvckNvbW1hbmRQcm9wYWdhdGlvbigpIHsNCisgICAg
ICAgIGlmKHRoaXMubG9jYWxDb25uZWN0aW9uID09IG51bGwgJiYgIXRoaXMucmNtLmlzU3RvcHBl
ZCgpKSB7DQorICAgICAgICAgICAgLy8gSXQncyBhIGdvb2QgdGltZSB0byBjcmVhdGUgbG9jYWxD
b25uZWN0aW9uLA0KKyAgICAgICAgICAgIC8vIGluIGEgbmV3IHRocmVhZCAtIHRvIHJldHVybiBl
eHRlcm5hbENvbm5lY3Rpb25zIHByb21wdGx5Lg0KKyAgICAgICAgICAgIHRoaXMucmNtLmdldFNl
cnZlclBsYXRmb3JtKCkubGF1bmNoQ29udGFpbmVyUnVubmFibGUobmV3IFJ1bm5hYmxlKCkgew0K
KyAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBydW4oKSB7DQorICAgICAgICAgICAgICAgICAg
ICB0cnkgew0KKyAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUxvY2FsQ29ubmVjdGlvbigp
Ow0KKyAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNl
cHRpb24gZXgpIHsNCisgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZXhjZXB0aW9u
IC0gdXNlciBoYWQgYSBjaGFuY2UgdG8gaGFuZGxlIGl0IGluIGNyZWF0ZUxvY2FsQ29ubmVjdGlv
biBtZXRob2Q6DQorICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGluc3RhbmNlIHRvIGNo
YW5nZSBob3N0IHVybCBhbmQgY3JlYXRlIGEgbmV3IGxvY2FsIGNvbm5lY3Rpb24uDQorICAgICAg
ICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgIH0NCi0gICAgICAgICAgICB9DQorICAg
ICAgICAgICAgfSk7DQogICAgICAgICB9DQorICAgICAgICByZXR1cm4gc3VwZXIuZ2V0Q29ubmVj
dGlvbnNUb0V4dGVybmFsU2VydmljZXNGb3JDb21tYW5kUHJvcGFnYXRpb24oKTsNCiAgICAgfQ0K
ICAgICANCiAgICAgLyoqDQpAQCAtMTMxLDEyOCArOTEsOSBAQA0KICAgICAgICAgICAgICAgICBj
b25uZWN0aW9uVG9SZW1vdmUgPSBudWxsOw0KICAgICAgICAgICAgIH0NCiAgICAgICAgIH0NCi0g
ICAgICAgIC8vIGNsb3NpbmcgY29ubmVjdGlvbiBtYXkgdGFrZSB0aW1lIC0gZG8gaXQgb3V0c2lk
ZSBvZiB0aGUgc3luY2hyb256ZWQgYmxvY2sNCisgICAgICAgIC8vIGNsb3NpbmcgY29ubmVjdGlv
biBtYXkgdGFrZSB0aW1lIC0gZG8gaXQgb3V0c2lkZSBvZiB0aGUgc3luY2hyb25pemVkIGJsb2Nr
DQogICAgICAgICBpZihjb25uZWN0aW9uVG9SZW1vdmUgIT0gbnVsbCkgew0KICAgICAgICAgICAg
IGNvbm5lY3Rpb25Ub1JlbW92ZS5jbG9zZSgpOw0KICAgICAgICAgfQ0KICAgICB9DQotDQotICAg
IC8qKg0KLSAgICAgKiBJTlRFUk5BTDoNCi0gICAgICogSk1Ub3BpY1RyYW5zcG9ydE1hbmFnZXIg
ZG9lc24ndCB1c2UgRGlzY292ZXJ5TWFuYWdlciwgdGhlcmVmb3JlDQotICAgICAqIHRoaXMgbWV0
aG9kIGlzIGNhbGxlZCBkdXJpbmcgUkNNIGluaXRpYWxpemF0aW9uIHRvIGNyZWF0ZSBhbGwgdGhl
IG5lY2Vzc2FyeSBjb25uZWN0aW9ucy4NCi0gICAgICovDQotICAgIHB1YmxpYyB2b2lkIGNyZWF0
ZUNvbm5lY3Rpb25zKCkgew0KLSAgICAgICAgY3JlYXRlRXh0ZXJuYWxDb25uZWN0aW9uKCk7DQot
ICAgICAgICBjcmVhdGVMb2NhbENvbm5lY3Rpb24oKTsNCi0gICAgfQ0KLQ0KLSAgICAvKioNCi0g
ICAgICogUFVCTElDOg0KLSAgICAgKiBDb25maWd1cmUgdGhlIEpNUyBUb3BpYyBDb25uZWN0aW9u
IEZhY3RvcnkgTmFtZSBmb3IgdGhlIEpNUyBUb3BpYyBjb25uZWN0aW9ucy4NCi0gICAgICovDQot
ICAgIHB1YmxpYyB2b2lkIHNldFRvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lKFN0cmluZyBuZXdU
b3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZSkgew0KLSAgICAgICAgY29ubmVjdGlvbkZhY3RvcnlO
YW1lID0gbmV3VG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWU7DQotICAgIH0NCi0NCi0gICAgLyoq
DQotICAgICAqIFBVQkxJQzoNCi0gICAgICogUmV0dXJuIHRoZSBKTVMgVG9waWMgQ29ubmVjdGlv
biBGYWN0b3J5IE5hbWUgZm9yIHRoZSBKTVMgVG9waWMgY29ubmVjdGlvbnMuDQotICAgICAqLw0K
LSAgICBwdWJsaWMgU3RyaW5nIGdldFRvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lKCkgew0KLSAg
ICAgICAgcmV0dXJuIGNvbm5lY3Rpb25GYWN0b3J5TmFtZTsNCi0gICAgfQ0KLQ0KLSAgICAvKioN
Ci0gICAgICogSU5URVJOQUw6DQotICAgICAqIEluaXRpYWxpemUgZGVmYXVsdCBwcm9wZXJ0aWVz
Lg0KLSAgICAgKi8NCi0gICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZSgpIHsNCi0gICAgICAgIHN1
cGVyLmluaXRpYWxpemUoKTsNCi0gICAgICAgIHRvcGljTmFtZSA9IERFRkFVTFRfVE9QSUM7DQot
ICAgICAgICBjb25uZWN0aW9uRmFjdG9yeU5hbWUgPSBERUZBVUxUX0NPTk5FQ1RJT05fRkFDVE9S
WTsNCi0gICAgfQ0KLQ0KLSAgICAvKioNCi0gICAgICogUFVCTElDOg0KLSAgICAgKiBSZXR1cm4g
dGhlIFVSTCBvZiB0aGUgbWFjaGluZSBvbiB0aGUgbmV0d29yayB0aGF0IGhvc3RzIHRoZSBKTVMg
VG9waWMuICBUaGlzIGlzIGEgcmVxdWlyZWQgcHJvcGVydHkgYW5kIG11c3QgYmUgY29uZmlndXJl
ZC4NCi0gICAgICovDQotICAgIHB1YmxpYyBTdHJpbmcgZ2V0VG9waWNIb3N0VXJsKCkgew0KLSAg
ICAgICAgcmV0dXJuIChTdHJpbmcpZ2V0UmVtb3RlQ29udGV4dFByb3BlcnRpZXMoKS5nZXQoQ29u
dGV4dC5QUk9WSURFUl9VUkwpOw0KLSAgICB9DQotDQotICAgIC8qKg0KLSAgICAgKiBQVUJMSUM6
DQotICAgICAqIENvbmZpZ3VyZSB0aGUgVVJMIG9mIHRoZSBtYWNoaW5lIG9uIHRoZSBuZXR3b3Jr
IHRoYXQgaG9zdHMgdGhlIEpNUyBUb3BpYy4gVGhpcyBpcyBhIHJlcXVpcmVkIHByb3BlcnR5IGFu
ZCBtdXN0IGJlIGNvbmZpZ3VyZWQuDQotICAgICAqLw0KLSAgICBwdWJsaWMgdm9pZCBzZXRUb3Bp
Y0hvc3RVcmwoU3RyaW5nIGptc0hvc3RVcmwpIHsNCi0gICAgICAgIGdldFJlbW90ZUNvbnRleHRQ
cm9wZXJ0aWVzKCkucHV0KENvbnRleHQuUFJPVklERVJfVVJMLCBqbXNIb3N0VXJsKTsNCi0gICAg
ICAgIHJjbS5nZXRTZXJ2aWNlSWQoKS5zZXRVUkwoam1zSG9zdFVybCk7DQotICAgIH0NCi0NCi0g
ICAgLyoqDQotICAgICAqIEFEVkFOQ0VEOg0KLSAgICAgKiBUaGlzIGZ1bmNhdGlvbiBpcyBub3Qg
c3VwcG9ydGVkIGZvciBuYW1pbmcgc2VydmljZSBvdGhlciB0aGFuIEpOREkgb3IgVHJhbnNwb3J0
TWFuYWdlci5KTkRJX05BTUlOR19TRVJWSUNFLg0KLSAgICAgKi8NCi0gICAgcHVibGljIHZvaWQg
c2V0TmFtaW5nU2VydmljZVR5cGUoaW50IHNlcnZpY2VUeXBlKSB7DQotICAgICAgICBpZiAoc2Vy
dmljZVR5cGUgIT0gVHJhbnNwb3J0TWFuYWdlci5KTkRJX05BTUlOR19TRVJWSUNFKSB7DQotICAg
ICAgICAgICAgdGhyb3cgVmFsaWRhdGlvbkV4Y2VwdGlvbi5vcGVyYXRpb25Ob3RTdXBwb3J0ZWQo
InNldE5hbWluZ1NlcnZpY2VUeXBlIik7DQotICAgICAgICB9DQotICAgIH0NCi0NCi0gICAgLyoq
DQotICAgICAqIElOVEVSTkFMOg0KLSAgICAgKi8NCi0gICAgcHJvdGVjdGVkIFRvcGljIGdldFRv
cGljKENvbnRleHQgcmVtb3RlSG9zdENvbnRleHQpIHsNCi0gICAgICAgIHRyeSB7DQotICAgICAg
ICAgICAgcmV0dXJuIChUb3BpYylyZW1vdGVIb3N0Q29udGV4dC5sb29rdXAodG9waWNOYW1lKTsN
Ci0gICAgICAgIH0gY2F0Y2ggKE5hbWluZ0V4Y2VwdGlvbiBlKSB7DQotICAgICAgICAgICAgUmVt
b3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24gcmNtRXhjZXB0aW9uID0gUmVtb3RlQ29tbWFuZE1h
bmFnZXJFeGNlcHRpb24uZXJyb3JMb29raW5nVXBSZW1vdGVDb25uZWN0aW9uKHRvcGljTmFtZSwg
cmNtLmdldFVybCgpLCBlKTsNCi0gICAgICAgICAgICByY20uaGFuZGxlRXhjZXB0aW9uKHJjbUV4
Y2VwdGlvbik7DQotICAgICAgICAgICAgLy8gSWYgdGhlIGhhbmRsZXIgaGFzbid0IHRocm93biB0
aGUgZXhjZXB0aW9uIHJldGhyb3cgaXQgaGVyZSAtIGl0J3MgaW1wb3NzaWJsZSB0byByZWNvdmVy
Lg0KLSAgICAgICAgICAgIHRocm93IHJjbUV4Y2VwdGlvbjsNCi0gICAgICAgIH0NCi0gICAgfQ0K
LQ0KLSAgICAvKioNCi0gICAgICogSU5URVJOQUw6DQotICAgICAqLw0KLSAgICBwcm90ZWN0ZWQg
VG9waWNDb25uZWN0aW9uRmFjdG9yeSBnZXRUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5KENvbnRleHQg
cmVtb3RlSG9zdENvbnRleHQpIHsNCi0gICAgICAgIHRyeSB7DQotICAgICAgICAgICAgcmV0dXJu
IChUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5KXJlbW90ZUhvc3RDb250ZXh0Lmxvb2t1cChjb25uZWN0
aW9uRmFjdG9yeU5hbWUpOw0KLSAgICAgICAgfSBjYXRjaCAoTmFtaW5nRXhjZXB0aW9uIGUpIHsN
Ci0gICAgICAgICAgICBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbiByY21FeGNlcHRpb24g
PSBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbi5lcnJvckxvb2tpbmdVcFJlbW90ZUNvbm5l
Y3Rpb24oY29ubmVjdGlvbkZhY3RvcnlOYW1lLCByY20uZ2V0VXJsKCksIGUpOw0KLSAgICAgICAg
ICAgIHJjbS5oYW5kbGVFeGNlcHRpb24ocmNtRXhjZXB0aW9uKTsNCi0gICAgICAgICAgICAvLyBJ
ZiB0aGUgaGFuZGxlciBoYXNuJ3QgdGhyb3duIHRoZSBleGNlcHRpb24gcmV0aHJvdyBpdCBoZXJl
IC0gaXQncyBpbXBvc3NpYmxlIHRvIHJlY292ZXIuDQotICAgICAgICAgICAgdGhyb3cgcmNtRXhj
ZXB0aW9uOw0KLSAgICAgICAgfQ0KLSAgICB9DQotDQotICAgIC8qKg0KLSAgICAgKiBJTlRFUk5B
TDoNCi0gICAgICogSW4gY2FzZSB0aGVyZSdzIG5vIGV4dGVybmFsIGNvbm5lY3Rpb24gYXR0ZW1w
dHMgdG8gY3JlYXRlIG9uZSwNCi0gICAgICogaWYgdGhhdCdzIHN1Y2Nlc3NmdWwgdGhlbiAoaW4g
Y2FzZSB0aGVyZSBpcyBubyBsb2NhbCBjb25uZWN0aW9uLCB0b28pDQotICAgICAqIGF0dGVtcHRz
IHRvIGNyZWF0ZSBsb2NhbCBjb25uZWN0aW9uIGluIGEgc2VwYXJhdGUgdGhyZWFkLg0KLSAgICAg
KiBSZXR1cm5zIGNsb25lIG9mIHRoZSBvcmlnaW5hbCBtYXAuDQotICAgICAqLw0KLSAgICBwdWJs
aWMgSGFzaHRhYmxlIGdldENvbm5lY3Rpb25zVG9FeHRlcm5hbFNlcnZpY2VzRm9yQ29tbWFuZFBy
b3BhZ2F0aW9uKCkgew0KLSAgICAgICAgaWYodGhpcy5nZXRDb25uZWN0aW9uc1RvRXh0ZXJuYWxT
ZXJ2aWNlcygpLmlzRW1wdHkoKSAmJiAhdGhpcy5yY20uaXNTdG9wcGVkKCkpIHsNCi0gICAgICAg
ICAgICB0aGlzLmNyZWF0ZUV4dGVybmFsQ29ubmVjdGlvbigpOw0KLSAgICAgICAgICAgIGlmKHRo
aXMubG9jYWxDb25uZWN0aW9uID09IG51bGwpIHsNCi0gICAgICAgICAgICAgICAgLy8gSXQncyBh
IGdvb2QgdGltZSB0byBjcmVhdGUgbG9jYWxDb25uZWN0aW9uLA0KLSAgICAgICAgICAgICAgICAv
LyBpbiBhIG5ldyB0aHJlYWQgLSB0byByZXR1cm4gZXh0ZXJuYWxDb25uZWN0aW9ucyBwcm9tcHRs
eS4NCi0gICAgICAgICAgICAgICAgdGhpcy5yY20uZ2V0U2VydmVyUGxhdGZvcm0oKS5sYXVuY2hD
b250YWluZXJSdW5uYWJsZShuZXcgUnVubmFibGUoKSB7DQotICAgICAgICAgICAgICAgICAgICBw
dWJsaWMgdm9pZCBydW4oKSB7DQotICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCi0gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlTG9jYWxDb25uZWN0aW9uKCk7DQotICAgICAg
ICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24g
ZXgpIHsNCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGV4Y2VwdGlvbiAt
IHVzZXIgaGFkIGEgY2hhbmNlIHRvIGhhbmRsZSBpdCBpbiBjcmVhdGVMb2NhbENvbm5lY3Rpb24g
bWV0aG9kOg0KLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgaW5zdGFuY2UgdG8g
Y2hhbmdlIGhvc3QgdXJsIGFuZCBjcmVhdGUgYSBuZXcgbG9jYWwgY29ubmVjdGlvbi4NCi0gICAg
ICAgICAgICAgICAgICAgICAgICB9DQotICAgICAgICAgICAgICAgICAgICB9DQotICAgICAgICAg
ICAgICAgIH0pOw0KLSAgICAgICAgICAgIH0NCi0gICAgICAgIH0NCi0gICAgICAgIHJldHVybiBz
dXBlci5nZXRDb25uZWN0aW9uc1RvRXh0ZXJuYWxTZXJ2aWNlc0ZvckNvbW1hbmRQcm9wYWdhdGlv
bigpOw0KLSAgICB9DQogfQ0KSW5kZXg6IGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVu
Y2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uvc2Vzc2lvbnMvY29vcmRpbmF0aW9u
L1JlbW90ZUNvbW1hbmRNYW5hZ2VyLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tLSBmb3VuZGF0aW9uL29y
Zy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL3Nl
c3Npb25zL2Nvb3JkaW5hdGlvbi9SZW1vdGVDb21tYW5kTWFuYWdlci5qYXZhCShyZXZpc2lvbiA2
NDYyKQ0KKysrIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3Jn
L2VjbGlwc2UvcGVyc2lzdGVuY2Uvc2Vzc2lvbnMvY29vcmRpbmF0aW9uL1JlbW90ZUNvbW1hbmRN
YW5hZ2VyLmphdmEJKHdvcmtpbmcgY29weSkNCkBAIC0yOCw3ICsyOCw3IEBADQogDQogLyoqDQog
ICogPHA+DQotICogPGI+UHVycG9zZTwvYj46IFByb3ZpZGUgYSBDb21tYW5kTWFuYWdlciBpbXBs
ZW1lbnRhdGlvbiBmb3IgY2FjZWggY29vcmRpbmF0aW9uLg0KKyAqIDxiPlB1cnBvc2U8L2I+OiBQ
cm92aWRlIGEgQ29tbWFuZE1hbmFnZXIgaW1wbGVtZW50YXRpb24gZm9yIGNhY2hlIGNvb3JkaW5h
dGlvbi4NCiAgKiA8cD4NCiAgKiA8Yj5EZXNjcmlwdGlvbjwvYj46IEEgUmVtb3RlQ29tbWFuZE1h
bmFnZXIgKG9yIFJDTSkgaW5zdGFuY2UgaXMgdGhlIHByaW1hcnkgY29tcG9uZW50DQogICogb2Yg
YW4gUkNNIHNlcnZpY2UgaW5zdGFuY2UuIEl0IG1hbmFnZXMgdGhlIG90aGVyIGNvbXBvbmVudHMg
b2YgdGhlIHNlcnZpY2UsIGFuZA0KSW5kZXg6IGpwYS9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5q
cGEvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFsL2pwYS9FbnRpdHlNYW5hZ2Vy
U2V0dXBJbXBsLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tLSBqcGEvb3JnLmVjbGlwc2UucGVyc2lzdGVu
Y2UuanBhL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9pbnRlcm5hbC9qcGEvRW50aXR5TWFu
YWdlclNldHVwSW1wbC5qYXZhCShyZXZpc2lvbiA2NDk3KQ0KKysrIGpwYS9vcmcuZWNsaXBzZS5w
ZXJzaXN0ZW5jZS5qcGEvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFsL2pwYS9F
bnRpdHlNYW5hZ2VyU2V0dXBJbXBsLmphdmEJKHdvcmtpbmcgY29weSkNCkBAIC0yMyw2ICsyMyw3
IEBADQogICogICAgICAgIC0gMjY2OTEyOiBhZGQgTWV0YW1vZGVsIGluc3RhbmNlIGZpZWxkIGFz
IHBhcnQgb2YgdGhlIEpQQSAyLjAgaW1wbGVtZW50YXRpb24KICAqICAgICAxMC8yMS8yMDA5LTIu
MCBHdXkgUGVsbGV0aWVyIAogICogICAgICAgLSAyOTA1Njc6IG1hcHBlZGJ5aWQgc3VwcG9ydCBp
bmNvbXBsZXRlCisgKiAgICAgY2RlbGFodW4gLSBCdWcgMjE0NTM0OiBjaGFuZ2VzIHRvIGFsbG93
IEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyIGNvbmZpZ3VyYXRpb24gdGhyb3VnaCBwcm9w
ZXJ0aWVzCiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLyAgCiBwYWNrYWdlIG9yZy5lY2xpcHNlLnBl
cnNpc3RlbmNlLmludGVybmFsLmpwYTsKIApAQCAtNzMsNiArNzQsNyBAQA0KIGltcG9ydCBvcmcu
ZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24uUmVtb3RlQ29tbWFuZE1h
bmFnZXI7CiBpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuY29vcmRpbmF0
aW9uLlRyYW5zcG9ydE1hbmFnZXI7CiBpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vz
c2lvbnMuY29vcmRpbmF0aW9uLmptcy5KTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXI7CitpbXBvcnQg
b3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuY29vcmRpbmF0aW9uLmptcy5KTVNQdWJs
aXNoaW5nVHJhbnNwb3J0TWFuYWdlcjsKIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5z
ZXNzaW9ucy5mYWN0b3JpZXMuU2Vzc2lvbk1hbmFnZXI7CiBpbXBvcnQgb3JnLmVjbGlwc2UucGVy
c2lzdGVuY2Uuc2Vzc2lvbnMuZmFjdG9yaWVzLlhNTFNlc3Npb25Db25maWdMb2FkZXI7CiBpbXBv
cnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuYW5ub3RhdGlvbnMuSWRWYWxpZGF0aW9uOwpAQCAt
Mzg0LDkgKzM4Niw5IEBADQogICAgICAgICAgICAgCiAgICAgICAgICAgICAvLyAyNjY5MTI6IElu
aXRpYWxpemUgdGhlIE1ldGFtb2RlbAogICAgICAgICAgICAgdHJ5IHsKLSAgICAgICAgICAgIAl0
aGlzLmdldE1ldGFtb2RlbCgpOworICAgICAgICAgICAgICAgIHRoaXMuZ2V0TWV0YW1vZGVsKCk7
CiAgICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gZSkgewotICAgICAgICAgICAgCXNlc3Np
b24ubG9nKFNlc3Npb25Mb2cuRklORVNULCBTZXNzaW9uTG9nLk1FVEFNT0RFTCwgIm1ldGFtb2Rl
bF9pbml0X2ZhaWxlZCIsIG5ldyBPYmplY3RbXXtlLmdldE1lc3NhZ2UoKX0pOworICAgICAgICAg
ICAgICAgIHNlc3Npb24ubG9nKFNlc3Npb25Mb2cuRklORVNULCBTZXNzaW9uTG9nLk1FVEFNT0RF
TCwgIm1ldGFtb2RlbF9pbml0X2ZhaWxlZCIsIG5ldyBPYmplY3RbXXtlLmdldE1lc3NhZ2UoKX0p
OwogICAgICAgICAgICAgfQogICAgICAgICAgICAgcmV0dXJuIHNlc3Npb247CiAgICAgICAgIH0g
Y2F0Y2ggKEV4Y2VwdGlvbiBleGNlcHRpb24pIHsKQEAgLTEwNTAsOSArMTA1MiwxNCBAQA0KICAg
ICAgICAgU3RyaW5nIHByb3RvY29sID0gZ2V0Q29uZmlnUHJvcGVydHlBc1N0cmluZ0xvZ0RlYnVn
KFBlcnNpc3RlbmNlVW5pdFByb3BlcnRpZXMuQ09PUkRJTkFUSU9OX1BST1RPQ09MLCBtLCB0aGlz
LnNlc3Npb24pOwogICAgICAgICAKICAgICAgICAgaWYgKHByb3RvY29sICE9IG51bGwpIHsKLSAg
ICAgICAgICAgIFJlbW90ZUNvbW1hbmRNYW5hZ2VyIHJjbSA9IG5ldyBSZW1vdGVDb21tYW5kTWFu
YWdlcih0aGlzLnNlc3Npb24pOyAgICAgICAgICAgIAotICAgICAgICAgICAgaWYgKHByb3RvY29s
LmVxdWFsc0lnbm9yZUNhc2UoImptcyIpKSB7Ci0gICAgICAgICAgICAgICAgSk1TVG9waWNUcmFu
c3BvcnRNYW5hZ2VyIHRyYW5zcG9ydCA9IG5ldyBKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXIocmNt
KTsKKyAgICAgICAgICAgIFJlbW90ZUNvbW1hbmRNYW5hZ2VyIHJjbSA9IG5ldyBSZW1vdGVDb21t
YW5kTWFuYWdlcih0aGlzLnNlc3Npb24pOyAgICAgICAgCisgICAgICAgICAgICBpZiAocHJvdG9j
b2wuZXF1YWxzSWdub3JlQ2FzZSgiam1zIikgfHwgcHJvdG9jb2wuZXF1YWxzSWdub3JlQ2FzZSgi
am1zLXB1Ymxpc2hpbmciKSkgeworICAgICAgICAgICAgICAgIEpNU1B1Ymxpc2hpbmdUcmFuc3Bv
cnRNYW5hZ2VyIHRyYW5zcG9ydCA9IG51bGw7CisgICAgICAgICAgICAgICAgaWYgKHByb3RvY29s
LmVxdWFsc0lnbm9yZUNhc2UoImptcyIpKXsKKyAgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9y
dCA9IG5ldyBKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXIocmNtKTsKKyAgICAgICAgICAgICAgICB9
IGVsc2UgeworICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQgPSBuZXcgSk1TUHVibGlzaGlu
Z1RyYW5zcG9ydE1hbmFnZXIocmNtKTsKKyAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAg
ICAgcmNtLnNldFRyYW5zcG9ydE1hbmFnZXIodHJhbnNwb3J0KTsKICAgICAgICAgICAgICAgICAK
ICAgICAgICAgICAgICAgICBTdHJpbmcgaG9zdCA9IGdldENvbmZpZ1Byb3BlcnR5QXNTdHJpbmdM
b2dEZWJ1ZyhQZXJzaXN0ZW5jZVVuaXRQcm9wZXJ0aWVzLkNPT1JESU5BVElPTl9KTVNfSE9TVCwg
bSwgdGhpcy5zZXNzaW9uKTsKQEAgLTEwNjgsNiArMTA3NSwxMSBAQA0KICAgICAgICAgICAgICAg
ICAgICAgdHJhbnNwb3J0LnNldFRvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lKGZhY3RvcnkpOwog
ICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAKKyAgICAgICAgICAgICAgICBTdHJp
bmcgcmV1c2VfcHVibGlzaGVyID0gZ2V0Q29uZmlnUHJvcGVydHlBc1N0cmluZ0xvZ0RlYnVnKFBl
cnNpc3RlbmNlVW5pdFByb3BlcnRpZXMuQ09PUkRJTkFUSU9OX0pNU19SRVVTRV9QVUJMSVNIRVIs
IG0sIHRoaXMuc2Vzc2lvbik7CisgICAgICAgICAgICAgICAgaWYgKGhvc3QgIT0gbnVsbCkgewor
ICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQuc2V0U2hvdWxkUmV1c2VKTVNUb3BpY1B1Ymxp
c2hlcihyZXVzZV9wdWJsaXNoZXIuZXF1YWxzSWdub3JlQ2FzZSgidHJ1ZSIpKTsKKyAgICAgICAg
ICAgICAgICB9CisgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICB9IGVsc2UgaWYgKHByb3Rv
Y29sLmVxdWFsc0lnbm9yZUNhc2UoInJtaSIpKSB7CiAgICAgICAgICAgICAgICAgLy8gRGVmYXVs
dCBwcm90b2NvbC4KICAgICAgICAgICAgICAgICBTdHJpbmcgZGVsYXkgPSBnZXRDb25maWdQcm9w
ZXJ0eUFzU3RyaW5nTG9nRGVidWcoUGVyc2lzdGVuY2VVbml0UHJvcGVydGllcy5DT09SRElOQVRJ
T05fUk1JX0FOTk9VTkNFTUVOVF9ERUxBWSwgbSwgdGhpcy5zZXNzaW9uKTsKQEAgLTE5NTEsNyAr
MTk2Myw3IEBADQogICAgICAqLwogICAgIHB1YmxpYyBNZXRhbW9kZWwgZ2V0TWV0YW1vZGVsKCkg
ewogICAgICAgICAvLyBwZXJmb3JtIGxhenkgaW5pdGlhbGlzYXRpb24KLSAgICAJTWV0YW1vZGVs
IHRlbXBNZXRhTW9kZWwgPSBudWxsOworICAgICAgICBNZXRhbW9kZWwgdGVtcE1ldGFNb2RlbCA9
IG51bGw7CiAgICAgICAgIGlmKG51bGwgPT0gbWV0YU1vZGVsKSB7CiAgICAgICAgICAgICB0ZW1w
TWV0YU1vZGVsID0gbmV3IE1ldGFtb2RlbEltcGwodGhpcyk7CiAgICAgICAgICAgICAvL0lmIHRo
ZSBjYW5vbmljYWwgbWV0YW1vZGVsIGNsYXNzZXMgZXhpc3QsIGluaXRpYWxpemUgdGhlbQo=
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>158226</attachid>
            <date>2010-02-04 16:05:00 -0500</date>
            <delta_ts>2010-02-06 14:28:15 -0500</delta_ts>
            <desc>v3.1</desc>
            <filename>214534_v3.1.patch</filename>
            <type>text/plain</type>
            <size>64087</size>
            <attacher name="Chris Delahunt">christopher.delahunt</attacher>
            
              <data encoding="base64">SW5kZXg6IGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2Vj
bGlwc2UvcGVyc2lzdGVuY2UvY29uZmlnL1BlcnNpc3RlbmNlVW5pdFByb3BlcnRpZXMuamF2YQ0K
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQ0KLS0tIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9z
cmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvY29uZmlnL1BlcnNpc3RlbmNlVW5pdFByb3BlcnRp
ZXMuamF2YQkocmV2aXNpb24gNjQ2MikNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNp
c3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2NvbmZpZy9QZXJzaXN0ZW5j
ZVVuaXRQcm9wZXJ0aWVzLmphdmEJKHdvcmtpbmcgY29weSkNCkBAIC0xMCw2ICsxMCw3IEBADQog
ICogQ29udHJpYnV0b3JzOg0KICAqICAgICBPcmFjbGUgLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVt
ZW50YXRpb24gZnJvbSBPcmFjbGUgVG9wTGluaw0KICAqICAgICBkY2xhcmtlIC0gQnVnIDI5NDk4
NTogdXBkYXRlIG9mIGNvbW1lbnRzIGFuZCBhZGRpdGlvbiBvZiBjb25uZWN0aW9uIGxvZ2dpbmcg
cHJvcGVydHkNCisgKiAgICAgY2RlbGFodW4gLSBCdWcgMjE0NTM0OiBhZGRlZCBDT09SRElOQVRJ
T05fSk1TX1JFVVNFX1BVQkxJU0hFUiBwcm9wZXJ0eSB0byBlbmFibGUgSk1TIHJjbSBsZWdhY3kg
YmVoYXZpb3INCiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KIHBhY2thZ2Ugb3JnLmVjbGlwc2Uu
cGVyc2lzdGVuY2UuY29uZmlnOw0KIA0KQEAgLTE0MjgsNiArMTQyOSwxNyBAQA0KICAgICAgKiBA
c2VlIG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5icm9hZGNh
c3QuQnJvYWRjYXN0VHJhbnNwb3J0TWFuYWdlciNzZXRUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFt
ZShTdHJpbmcpDQogICAgICAqLw0KICAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBDT09S
RElOQVRJT05fSk1TX0ZBQ1RPUlkgPSAiZWNsaXBzZWxpbmsuY2FjaGUuY29vcmRpbmF0aW9uLmpt
cy5mYWN0b3J5IjsNCisgICAgDQorICAgIC8qKg0KKyAgICAgKiBUaGUgPGNvZGU+ImVjbGlwc2Vs
aW5rLmNhY2hlLmNvb3JkaW5hdGlvbi5qbXMucmV1c2UtdG9waWMtcHVibGlzaGVyIjwvY29kZT4g
cHJvcGVydHkNCisgICAgICogY29uZmlndXJlcyBjYWNoZSBjb29yZGluYXRpb24gZm9yIGEgY2x1
c3RlcmVkIGVudmlyb25tZW50LiBPbmx5IHVzZWQgZm9yDQorICAgICAqIEpNUyBjb29yZGluYXRp
b24uIFNldHMgdGhlIEpTTSB0cmFuc3BvcnQgbWFuYWdlciB0byBjYWNoZSBhIFRvcGljUHVibGlz
ZXIgDQorICAgICAqIGFuZCByZXVzZSBpdCBmb3IgYWxsIGNhY2hlIGNvb3JkaW5hdGlvbiBwdWJs
aXNoaW5nLiBEZWZhdWx0IHZhbHVlIGlmIHVuc2V0IGlzIGZhbHNlLg0KKyAgICAgKg0KKyAgICAg
KiBAc2VlICNDT09SRElOQVRJT05fUFJPVE9DT0wNCisgICAgICogQHNlZSBvcmcuZWNsaXBzZS5w
ZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24uam1zLkpNU1B1Ymxpc2hpbmdUcmFuc3Bv
cnRNYW5hZ2VyI3NldFNob3VsZFJldXNlSk1TVG9waWNQdWJsaXNoZXIoYm9vbGVhbikNCisgICAg
ICovDQorICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIENPT1JESU5BVElPTl9KTVNfUkVV
U0VfUFVCTElTSEVSID0gImVjbGlwc2VsaW5rLmNhY2hlLmNvb3JkaW5hdGlvbi5qbXMucmV1c2Ut
dG9waWMtcHVibGlzaGVyIjsNCiANCiAgICAgLyoqDQogICAgICAqIFRoZSA8Y29kZT4iZWNsaXBz
ZWxpbmsuY2FjaGUuY29vcmRpbmF0aW9uLnJtaS5hbm5vdW5jZW1lbnQtZGVsYXkiPC9jb2RlPg0K
SW5kZXg6IGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2Vj
bGlwc2UvcGVyc2lzdGVuY2UvZXhjZXB0aW9ucy9pMThuL1JlbW90ZUNvbW1hbmRNYW5hZ2VyRXhj
ZXB0aW9uUmVzb3VyY2UuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0tIGZvdW5kYXRpb24vb3JnLmVjbGlw
c2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvZXhjZXB0aW9u
cy9pMThuL1JlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uUmVzb3VyY2UuamF2YQkocmV2aXNp
b24gNjQ2MikNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3Jj
L29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2V4Y2VwdGlvbnMvaTE4bi9SZW1vdGVDb21tYW5kTWFu
YWdlckV4Y2VwdGlvblJlc291cmNlLmphdmEJKHdvcmtpbmcgY29weSkNCkBAIC05LDYgKzksNyBA
QA0KICAqDQogICogQ29udHJpYnV0b3JzOg0KICAqICAgICBPcmFjbGUgLSBpbml0aWFsIEFQSSBh
bmQgaW1wbGVtZW50YXRpb24gZnJvbSBPcmFjbGUgVG9wTGluaw0KKyAqICAgICBjZGVsYWh1biAt
IEJ1ZyAyMTQ1MzQ6IGFkZGVkIG1lc3NhZ2UgZm9yIEpNU1B1Ymxpc2hpbmdIZWxwZXIgZXJyb3Ig
Y2hlY2tpbmcNCiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLyAgDQogcGFja2FnZSBvcmcuZWNsaXBz
ZS5wZXJzaXN0ZW5jZS5leGNlcHRpb25zLmkxOG47DQogDQpAQCAtMjgsMTggKzI5LDE3IEBADQog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgIjIyMTA0IiwgIkNv
dWxkIG5vdCBsb29rIHVwIGhvc3RuYW1lIiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB7ICIyMjEwNSIsICJDb3VsZCBub3QgcHJvcGFnYXRlIGNvbW1hbmQg
dG8gezB9IiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7
ICIyMjEwNiIsICJDb3VsZCBub3QgY3JlYXRlIGV4dGVybmFsIEpNUyBjb25uZWN0aW9uIHdpdGgg
VG9waWMgezB9LCBUb3BpYyBGYWN0b3J5IHsxfSwgYW5kIENvbnRleHQgcHJvcGVydGllcyB7Mn0i
IH0sDQotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgIjIyMTA3
IiwgIkNvdWxkIG5vdCByZW1vdmUgbG9jYWwgY29ubmVjdGlvbiBpbiBsb2NhbCBuYW1pbmcgc2Vy
dmljZSB1bmRlciBuYW1lIHswfSIgfSwNCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgDQotICAgIHsgIjIyMTA4IiwgIkNvdWxkIG5vdCBzZXJpYWxpemUgb3IgZGVz
aXJhbGl6ZSBjb21tYW5kIiB9LA0KLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICANCi0gICAgeyAiMjIxMDkiLCAiRmFpbGVkIHRvIHJlY2VpdmUgSk1TIG1lc3NhZ2Ug
ZnJvbSBKTVMgcHJvdmlkZXIiIH0sDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHsgIjIyMTA3IiwgIkNvdWxkIG5vdCByZW1vdmUgbG9jYWwgY29ubmVjdGlvbiBp
biBsb2NhbCBuYW1pbmcgc2VydmljZSB1bmRlciBuYW1lIHswfSIgfSwgICAgICAgICAgICAgDQor
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgIjIyMTA4IiwgIkNv
dWxkIG5vdCBzZXJpYWxpemUgb3IgZGVzaXJhbGl6ZSBjb21tYW5kIiB9LA0KKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ICIyMjEwOSIsICJGYWlsZWQgdG8gcmVj
ZWl2ZSBKTVMgbWVzc2FnZSBmcm9tIEpNUyBwcm92aWRlciIgfSwNCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAiMjIxMTAiLCAiRmFpbGVkIHRvIGRpc2NvdmVy
IGxvY2FsIGhvc3QgSVAgYWRkcmVzcy4iIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHsgIjIyMTExIiwgIkZhaWxlZCB0byBnZXQgU2VydmVyUGxhdGZvcm0u
IFRoZSBTZXJ2ZXJQbGF0Zm9ybSBtdXN0IGJlIHNldCBlaXRoZXIgb24gU2Vzc2lvbiBvciBSZW1v
dGVDb21tYW5kTWFuYWdlci4iIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHsgIjIyMTEyIiwgIkNvdWxkIG5vdCBjcmVhdGUgbG9jYWwgSk1TIGNvbm5lY3Rp
b24gd2l0aCBUb3BpYyB7MH0sIFRvcGljIEZhY3RvcnkgezF9LCBhbmQgQ29udGV4dCBwcm9wZXJ0
aWVzIHsyfSIgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
eyAiMjIxMTMiLCAiQ291bGQgbm90IGNyZWF0ZSBPYzRqSkdyb3Vwc1JlbW90ZUNvbm5lY3Rpb24g
c2VydmljZSBJRCB7MH0sIHRvcGljIHsxfSwgdXNpbmcgZmFjdG9yeSB7Mn0gYW5kIENvbnRleHQg
cHJvcGVydGllcyB7M30uIiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICB7ICIyMjExNCIsICJ7MH06IGZhaWxlZCB0byBkZXNlcmlhbGl6ZSByZXRyaWV2ZWQg
bWVzc2FnZSB7MX0uIiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB7ICIyMjExNSIsICJ7MH06IGZhaWxlZCB0byBwcm9jZXNzIHJlbW90ZSBjb21tYW5kIHJl
dHJpZXZlZCBmcm9tIG1lc3NhZ2UgezF9LCBmcm9tIHsyfSwgY29tbWFuZCB0eXBlIHszfSIgfSwN
Ci0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAiMjIxMTYiLCAi
UmVjZWl2ZWQgSk1TIG1lc3NhZ2UgaXMgbnVsbC4gVHJlYXRpbmcgaXQgYXMgYSBKTVNFeGNlcHRp
b24iIH0NCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAiMjIx
MTYiLCAiUmVjZWl2ZWQgSk1TIG1lc3NhZ2UgaXMgbnVsbC4gVHJlYXRpbmcgaXQgYXMgYSBKTVNF
eGNlcHRpb24iIH0sDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHsgIjIyMTE3IiwgIlNlc3Npb24ncyBSZW1vdGVDb21tYW5kTWFuYWdlciBpcyBjbG9zZWQgb3Ig
aGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHdoaWxlIHByb2Nlc3NpbmcgaW5jb21pbmcgbWVzc2Fn
ZXMiIH0NCiAgICAgfTsNCiANCiAgICAgLyoqDQpJbmRleDogZm91bmRhdGlvbi9vcmcuZWNsaXBz
ZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9leGNlcHRpb25z
L1JlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLmphdmENCj09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tLSBmb3Vu
ZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNp
c3RlbmNlL2V4Y2VwdGlvbnMvUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24uamF2YQkocmV2
aXNpb24gNjQ2MikNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUv
c3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2V4Y2VwdGlvbnMvUmVtb3RlQ29tbWFuZE1hbmFn
ZXJFeGNlcHRpb24uamF2YQkod29ya2luZyBjb3B5KQ0KQEAgLTksNiArOSw3IEBADQogICoNCiAg
KiBDb250cmlidXRvcnM6DQogICogICAgIE9yYWNsZSAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1l
bnRhdGlvbiBmcm9tIE9yYWNsZSBUb3BMaW5rDQorICogICAgIGNkZWxhaHVuIC0gQnVnIDIxNDUz
NDogYWRkZWQgbWVzc2FnZSBmb3IgSk1TUHVibGlzaGluZ0hlbHBlciBlcnJvciBjaGVja2luZw0K
ICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKiovICANCiBwYWNrYWdlIG9yZy5lY2xpcHNlLnBlcnNpc3Rl
bmNlLmV4Y2VwdGlvbnM7DQogDQpAQCAtMjIsNyArMjMsNyBAQA0KICAqLw0KIHB1YmxpYyBjbGFz
cyBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbiBleHRlbmRzIG9yZy5lY2xpcHNlLnBlcnNp
c3RlbmNlLmV4Y2VwdGlvbnMuRWNsaXBzZUxpbmtFeGNlcHRpb24gaW1wbGVtZW50cyBqYXZhLmlv
LlNlcmlhbGl6YWJsZSB7DQogICAgIC8vIEV4Y2VwdGlvbnMgZm9yIFJDTSBhcmUgaW4gcmFuZ2Ug
MjIwMDAgLSAyMzAwMC4gDQotICAgIC8vIExlYXZlIHRoZSBmaXJzdCAxMDAgZm9yIERpc2NvdmVy
eU1hbmFnZXJFeGNlcHRpb24gc3ViZXhjZXB0aW9uDQorICAgIC8vIExlYXZlIHRoZSBmaXJzdCAx
MDAgZm9yIERpc2NvdmVyeU1hbmFnZXJFeGNlcHRpb24gc3ViIGV4Y2VwdGlvbnMNCiAgICAgcHVi
bGljIHN0YXRpYyBmaW5hbCBpbnQgRVJST1JfT0JUQUlOSU5HX0NPTlRFWFRfRk9SX0pOREkgPSAy
MjEwMTsNCiAgICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgRVJST1JfQklORElOR19DT05ORUNU
SU9OID0gMjIxMDI7DQogICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IEVSUk9SX0xPT0tJTkdf
VVBfUkVNT1RFX0NPTk5FQ1RJT04gPSAyMjEwMzsNCkBAIC01MCw2ICs1MSw4IEBADQogICAgIA0K
ICAgICAvLyBKTVMNCiAgICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgRVJST1JfUkVDRUlWRURf
Sk1TX01FU1NBR0VfSVNfTlVMTCA9IDIyMTE2Ow0KKyAgICAvL0pNUyBQVUJMSVNISU5HIA0KKyAg
ICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCBSQ01fVU5JTklUSUFMSVpFRF9PUl9DTE9TRUQgPSAy
MjExNzsNCiANCiAgICAgcHVibGljIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uKCkgew0K
ICAgICAgICAgc3VwZXIoKTsNCkBAIC0yMTksNCArMjIyLDExIEBADQogICAgICAgICBleC5zZXRF
cnJvckNvZGUoRVJST1JfUkVDRUlWRURfSk1TX01FU1NBR0VfSVNfTlVMTCk7DQogICAgICAgICBy
ZXR1cm4gZXg7DQogICAgIH0NCisgICAgDQorICAgIHB1YmxpYyBzdGF0aWMgUmVtb3RlQ29tbWFu
ZE1hbmFnZXJFeGNlcHRpb24gcmVtb3RlQ29tbWFuZE1hbmFnZXJJc0Nsb3NlZCgpIHsgIA0KKyAg
ICAgICAgT2JqZWN0W10gYXJncyA9IHsgfTsgIA0KKyAgICAgICAgUmVtb3RlQ29tbWFuZE1hbmFn
ZXJFeGNlcHRpb24gZXggPSBuZXcgUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24oRXhjZXB0
aW9uTWVzc2FnZUdlbmVyYXRvci5idWlsZE1lc3NhZ2UoUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNl
cHRpb24uY2xhc3MsUkNNX1VOSU5JVElBTElaRURfT1JfQ0xPU0VELGFyZ3MpKTsgIA0KKyAgICAg
ICAgZXguc2V0RXJyb3JDb2RlKFJDTV9VTklOSVRJQUxJWkVEX09SX0NMT1NFRCk7DQorICAgICAg
ICByZXR1cm4gZXg7ICANCisgICAgfQ0KIH0NCkluZGV4OiBmb3VuZGF0aW9uL29yZy5lY2xpcHNl
LnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFsL3Nl
c3Npb25zL2Nvb3JkaW5hdGlvbi9icm9hZGNhc3QvQnJvYWRjYXN0UmVtb3RlQ29ubmVjdGlvbi5q
YXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09DQotLS0gZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5j
b3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9pbnRlcm5hbC9zZXNzaW9ucy9jb29yZGlu
YXRpb24vYnJvYWRjYXN0L0Jyb2FkY2FzdFJlbW90ZUNvbm5lY3Rpb24uamF2YQkocmV2aXNpb24g
NjQ2MikNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29y
Zy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2Nvb3JkaW5hdGlvbi9icm9h
ZGNhc3QvQnJvYWRjYXN0UmVtb3RlQ29ubmVjdGlvbi5qYXZhCSh3b3JraW5nIGNvcHkpDQpAQCAt
NzQsNyArNzQsNyBAQA0KICAgICAgICAgICAgICAgICAvLyBUaGlzIG1ldGhvZCBjYXRjaGVzIENv
bW11bmljYXRpb25FeGNlcHRpb24gYW5kIHByb2Nlc3NlcyBpdCBpbiBoYW5kbGVDb21tdW5pY2F0
aW9uRXhjZXB0aW9uIG1ldGhvZC4NCiAgICAgICAgICAgICAgICAgLy8gVGhlIGxhdHRlciBtZXRo
b2QsIGluIGNhc2Ugc2hvdWxkUmVtb3ZlQ29ubmVjdGlvbk9uRXJyb3I9PXRydWUsIHJlbW92ZXMg
dGhlIGNvbm5lY3Rpb247DQogICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBpdCB3cmFwcyB0
aGUgQ29tbXVuaWNhdGlvbkV4Y2VwdGlvbiBpbnRvIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0
aW9uDQotICAgICAgICAgICAgICAgIC8vICh3aXRoIGVycm9Db2RlIFJlbW90ZUNvbW1hbmRNYW5h
Z2VyRXhjZXB0aW9uLkVSUk9SX1BST1BBR0FUSU5HX0NPTU1BTkQpDQorICAgICAgICAgICAgICAg
IC8vICh3aXRoIGVycm9yQ29kZSBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbi5FUlJPUl9Q
Uk9QQUdBVElOR19DT01NQU5EKQ0KICAgICAgICAgICAgICAgICAvLyBhbmQgZ2l2ZXMgdGhlIHVz
ZSBhIGNoYW5jZSB0byBoYW5kbGUgaXQgLSB0aGlzIGlzIGFuIG9wcG9ydHVuaXR5IGZvciB0aGUg
dXNlciB0bw0KICAgICAgICAgICAgICAgICAvLyBzdG9wIHJlbW90ZSBjb21tYW5kIHByb2Nlc3Np
bmcuDQogICAgICAgICAgICAgICAgIHRocm93IENvbW11bmljYXRpb25FeGNlcHRpb24uZXJyb3JT
ZW5kaW5nTWVzc2FnZShnZXRTZXJ2aWNlSWQoKS5nZXRJZCgpLCBleGNlcHRpb24pOw0KSW5kZXg6
IGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2Uv
cGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vzc2lvbnMvY29vcmRpbmF0aW9uL2ptcy9KTVNUb3BpY1Jl
bW90ZUNvbm5lY3Rpb24uamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0tIGZvdW5kYXRpb24vb3JnLmVjbGlw
c2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwv
c2Vzc2lvbnMvY29vcmRpbmF0aW9uL2ptcy9KTVNUb3BpY1JlbW90ZUNvbm5lY3Rpb24uamF2YQko
cmV2aXNpb24gNjQ2MikNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNv
cmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2Nvb3JkaW5h
dGlvbi9qbXMvSk1TVG9waWNSZW1vdGVDb25uZWN0aW9uLmphdmEJKHdvcmtpbmcgY29weSkNCkBA
IC05LDYgKzksNyBAQA0KICAqDQogICogQ29udHJpYnV0b3JzOg0KICAqICAgICBPcmFjbGUgLSBp
bml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24gZnJvbSBPcmFjbGUgVG9wTGluaw0KKyAqICAg
ICBjZGVsYWh1biAtIEJ1ZyAyMTQ1MzQ6IGFkZGVkIEpNUyBDYWNoZSBDb29yZGluYXRpb24gZm9y
IHB1Ymxpc2hpbmcgb25seQ0KICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovICANCiBwYWNrYWdlIG9y
Zy5lY2xpcHNlLnBlcnNpc3RlbmNlLmludGVybmFsLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5qbXM7
DQogDQpAQCAtMTksNiArMjAsNyBAQA0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5l
eGNlcHRpb25zLlJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uOw0KIGltcG9ydCBqYXZheC5q
bXMuVG9waWM7DQogaW1wb3J0IGphdmF4Lmptcy5Ub3BpY0Nvbm5lY3Rpb247DQoraW1wb3J0IGph
dmF4Lmptcy5Ub3BpY0Nvbm5lY3Rpb25GYWN0b3J5Ow0KIGltcG9ydCBqYXZheC5qbXMuVG9waWNQ
dWJsaXNoZXI7DQogaW1wb3J0IGphdmF4Lmptcy5Ub3BpY1Nlc3Npb247DQogaW1wb3J0IGphdmF4
Lmptcy5Ub3BpY1N1YnNjcmliZXI7DQpAQCAtNDIsMjEgKzQ0LDMxIEBADQogICogICBBcHBsaWNh
dGlvbiBjb21wb25lbnRzIGluIHRoZSB3ZWIgYW5kIEVKQiBjb250YWluZXJzIG11c3Qgbm90IGF0
dGVtcHQgdG8gY3JlYXRlIG1vcmUgdGhhbiBvbmUNCiAgKiAgICAgYWN0aXZlIChub3QgY2xvc2Vk
KSBTZXNzaW9uIG9iamVjdCBwZXIgY29ubmVjdGlvbi4iDQogICogQmVjYXVzZSBvZiB0aGVzZSBy
ZXN0cmljdGlvbnMgDQotICogYSkgdHdvIFRvcGljQ29ubmVjdGlvbnMgYXJlIHJlcXVpcmVkIC0g
b25lIGZvciBwdWJsaXNoaW5nIChleHRlcm5hbCkgYW5kIGFub3RoZXIgb25lIGZvciBsaXN0ZW5p
bmcgKGxvY2FsKTsNCisgKiBhKSB0d28gSk1TVG9waWNSZW1vdGVDb25uZWN0aW9uIGFyZSByZXF1
aXJlZCAtIG9uZSBmb3IgcHVibGlzaGluZyAoZXh0ZXJuYWwpIGFuZCBhbm90aGVyIG9uZSBmb3Ig
bGlzdGVuaW5nIChsb2NhbCk7DQogICogYikgbGlzdGVuaW5nIHNob3VsZCBiZSBkb25lIHVzaW5n
IHN1YnNjcmliZXIucmVjZWl2ZSgpIGluIGFuIGluZmluaXRlIGxvb3AgaW4gYSBzZXBhcmF0ZSB0
aHJlYWQsDQogICogdGhhdCdzIHdoeSB0aGUgY2xhc3MgaW1wbGVtZW50cyBSdW5uYWJsZSBpbnRl
cmZhY2UuDQorICogYykgcHVibGlzaGluZyBjb25uZWN0aW9uIChleHRlcm5hbCkgY291bGQgYmUg
dXNlZCBjb25jdXJyZW50bHkgdG8gc2VuZCBtZXNzYWdlcywgc28gaXQgY2Fubm90IHVzZSB0aGUg
c2FtZSBwdWJsaXNoZXIvc2Vzc2lvbi90b3BpY0Nvbm5lY3Rpb24NCisgKiAgIEluc3RlYWQsIGl0
IHdpbGwgc3RvcmUgdGhlIFRvcGljQ29ubmVjdGlvbkZhY3RvcnkgYW5kIHVzZSBpdCB0byBjcmVh
dGUgY29ubmVjdGlvbnMgd2hlbiBleGVjdXRlQ29tbWFuZEludGVybmFsIGlzIGNhbGxlZCAobXVj
aCBsaWtlDQorICogICBEYXRhYmFzZUFjY2Vzc29yIHdoZW4gYW4gZXh0ZXJuYWwgcG9vbCBpcyB1
c2VkKQ0KICAqIA0KICAqIEBhdXRob3IgU3RldmVuIFZvDQogICogQHNpbmNlIE9yYWNsZUFTIFRv
cExpbmsgMTA8aT5nPC9pPiAoMTAuMC4zKQ0KICAqLw0KIHB1YmxpYyBjbGFzcyBKTVNUb3BpY1Jl
bW90ZUNvbm5lY3Rpb24gZXh0ZW5kcyBCcm9hZGNhc3RSZW1vdGVDb25uZWN0aW9uIGltcGxlbWVu
dHMgUnVubmFibGUgew0KKyAgICBwcm90ZWN0ZWQgVG9waWNDb25uZWN0aW9uRmFjdG9yeSB0b3Bp
Y0Nvbm5lY3Rpb25GYWN0b3J5Ow0KKyAgICBwcm90ZWN0ZWQgVG9waWMgdG9waWM7DQorICAgIC8v
IGluZGljYXRlcyB3aGV0aGVyIGl0J3MgYSBsb2NhbCBjb25uZWN0aW9uLg0KKyAgICBwcm90ZWN0
ZWQgYm9vbGVhbiBpc0xvY2FsOw0KKyAgICANCisgICAgLy8gbm90IHVzZWQgYnkgRXh0ZXJuYWwg
KHB1Ymxpc2hpbmcpIGNvbm5lY3Rpb24gdW5sZXNzIGl0IGlzIHNldCB0byByZXVzZSB0aGUgSk1T
VG9waWNQdWJsaXNoZXINCisgICAgcHJvdGVjdGVkIFRvcGljUHVibGlzaGVyIHB1Ymxpc2hlcjsN
CiAgICAgcHJvdGVjdGVkIFRvcGljQ29ubmVjdGlvbiB0b3BpY0Nvbm5lY3Rpb247DQotICAgIHBy
b3RlY3RlZCBUb3BpYyB0b3BpYzsNCiAgICAgcHJvdGVjdGVkIFRvcGljU2Vzc2lvbiB0b3BpY1Nl
c3Npb247DQotICAgIHByb3RlY3RlZCBUb3BpY1B1Ymxpc2hlciBwdWJsaXNoZXI7DQorICAgIA0K
KyAgICAvLyBVc2VkIG9ubHkgYnkgbG9jYWwgKGxpc3RlbmluZykgY29ubmVjdGlvbg0KICAgICBw
cm90ZWN0ZWQgVG9waWNTdWJzY3JpYmVyIHN1YnNjcmliZXI7DQotICAgIC8vIGluZGljYXRlcyB3
aGV0aGVyIGl0J3MgYSBsb2NhbCBjb25uZWN0aW9uLg0KLSAgICBwcm90ZWN0ZWQgYm9vbGVhbiBp
c0xvY2FsOw0KKyAgICANCisgICAgDQogICAgIC8vIFVzZWQgb25seSBieSBsb2NhbCAobGlzdGVu
aW5nKSBjb25uZWN0aW9uIGFuZCANCiAgICAgLy8gb25seSBpbiBjYXNlIHNob3VsZFJlbW92ZUNv
bm5lY3Rpb25PbkVycm9yPT1mYWxzZS4NCiAgICAgLy8gVGltZSB0byB3YWl0IGFmdGVyIGVycm9y
IHJlY2VpdmluZyBqbXMgbWVzc2FnZToNCkBAIC02NSwzMSArNzcsNTEgQEANCiAgICAgLy8gVXNl
ciBjYW4gYXZvaWQgdGhlIHdhaXQgYnkgaGFuZGxpbmcgRVJST1JfUkVDRUlWSU5HX0pNU19NRVNT
QUdFIGV4Y2VwdGlvbi4NCiAgICAgcHVibGljIHN0YXRpYyBsb25nIFdBSVRfT05fRVJST1JfUkVD
RUlWSU5HX0pNU19NRVNTQUdFID0gMTAwMDA7DQogDQotICAgIHB1YmxpYyBKTVNUb3BpY1JlbW90
ZUNvbm5lY3Rpb24oUmVtb3RlQ29tbWFuZE1hbmFnZXIgcmNtLCBUb3BpY0Nvbm5lY3Rpb24gdG9w
aWNDb25uZWN0aW9uLCBUb3BpYyB0b3BpYywgYm9vbGVhbiBpc0xvY2FsQ29ubmVjdGlvbkJlaW5n
Q3JlYXRlZCkgdGhyb3dzIEpNU0V4Y2VwdGlvbiB7DQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5B
TDoNCisgICAgICogQ29uc3RydWN0b3IgY3JlYXRpbmcgZWl0aGVyIGEgbG9jYWwgb3IgZXh0ZXJu
YWwgY29ubmVjdGlvbi4gIExvY2FsIGNvbm5lY3Rpb25zIGNyZWF0ZWQgdGhpcyB3YXkgY29ubmVj
dCB0byB0aGUgdG9waWNTZXNzaW9uIGFuZCBjYWNoZQ0KKyAgICAgKiB0aGUgc2Vzc2lvbiBhbmQg
c3Vic2NyaWJlci4gIEV4dGVybmFsIGNvbm5lY3Rpb25zIGNhY2hlIG9ubHkgdGhlIHRvcGljQ29u
bmVjdGlvbiBhbmQgd2lsbCBvYnRhaW4gdGhlIHNlc3Npb24vcHVibGlzaGVyIHdoZW4gbmVlZGVk
Lg0KKyAgICAgKiBAcGFyYW0gcmNtDQorICAgICAqLw0KKyAgICBwdWJsaWMgSk1TVG9waWNSZW1v
dGVDb25uZWN0aW9uKFJlbW90ZUNvbW1hbmRNYW5hZ2VyIHJjbSwgVG9waWNDb25uZWN0aW9uRmFj
dG9yeSB0b3BpY0Nvbm5lY3Rpb25GYWN0b3J5LCBUb3BpYyB0b3BpYywgYm9vbGVhbiBpc0xvY2Fs
Q29ubmVjdGlvbkJlaW5nQ3JlYXRlZCwgYm9vbGVhbiByZXVzZUpNU1RvcGljUHVibGlzaGVyKSB0
aHJvd3MgSk1TRXhjZXB0aW9uIHsNCiAgICAgICAgIHN1cGVyKHJjbSk7DQotICAgICAgICB0aGlz
LnRvcGljQ29ubmVjdGlvbiA9IHRvcGljQ29ubmVjdGlvbjsNCisgICAgICAgIHRoaXMudG9waWND
b25uZWN0aW9uRmFjdG9yeSA9IHRvcGljQ29ubmVjdGlvbkZhY3Rvcnk7DQogICAgICAgICB0aGlz
LnRvcGljID0gdG9waWM7DQogICAgICAgICB0aGlzLmlzTG9jYWwgPSBpc0xvY2FsQ29ubmVjdGlv
bkJlaW5nQ3JlYXRlZDsNCiAgICAgICAgIHJjbS5sb2dEZWJ1ZygiY3JlYXRpbmdfYnJvYWRjYXN0
X2Nvbm5lY3Rpb24iLCBnZXRJbmZvKCkpOw0KICAgICAgICAgdHJ5IHsNCi0gICAgICAgICAgICB0
aGlzLnRvcGljU2Vzc2lvbiA9IHRvcGljQ29ubmVjdGlvbi5jcmVhdGVUb3BpY1Nlc3Npb24oZmFs
c2UsIGphdmF4Lmptcy5TZXNzaW9uLkFVVE9fQUNLTk9XTEVER0UpOw0KICAgICAgICAgICAgIGlm
KGlzTG9jYWxDb25uZWN0aW9uQmVpbmdDcmVhdGVkKSB7DQogICAgICAgICAgICAgICAgIC8vIGl0
J3MgYSBsb2NhbCBjb25uZWN0aW9uDQorICAgICAgICAgICAgICAgIHRoaXMudG9waWNDb25uZWN0
aW9uID0gdG9waWNDb25uZWN0aW9uRmFjdG9yeS5jcmVhdGVUb3BpY0Nvbm5lY3Rpb24oKTsNCisg
ICAgICAgICAgICAgICAgdGhpcy50b3BpY1Nlc3Npb24gPSB0b3BpY0Nvbm5lY3Rpb24uY3JlYXRl
VG9waWNTZXNzaW9uKGZhbHNlLCBqYXZheC5qbXMuU2Vzc2lvbi5BVVRPX0FDS05PV0xFREdFKTsN
CiAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVyID0gdG9waWNTZXNzaW9uLmNyZWF0ZVN1
YnNjcmliZXIodG9waWMpOw0KLSAgICAgICAgICAgICAgICB0aGlzLnRvcGljQ29ubmVjdGlvbi5z
dGFydCgpOw0KKyAgICAgICAgICAgICAgICB0b3BpY0Nvbm5lY3Rpb24uc3RhcnQoKTsNCiAgICAg
ICAgICAgICAgICAgcmNtLmxvZ0RlYnVnKCJicm9hZGNhc3RfY29ubmVjdGlvbl9jcmVhdGVkIiwg
Z2V0SW5mbygpKTsNCiAgICAgICAgICAgICAgICAgcmNtLmdldFNlcnZlclBsYXRmb3JtKCkubGF1
bmNoQ29udGFpbmVyUnVubmFibGUodGhpcyk7DQotICAgICAgICAgICAgfSBlbHNlIHsNCi0gICAg
ICAgICAgICAgICAgLy8gaXQncyBhbiBleHRlcm5hbCBjb25uZWN0aW9uDQorICAgICAgICAgICAg
fSBlbHNlIGlmIChyZXVzZUpNU1RvcGljUHVibGlzaGVyKSB7DQorICAgICAgICAgICAgICAgIC8v
IGl0J3MgYW4gZXh0ZXJuYWwgY29ubmVjdGlvbiBhbmQgaXMgc2V0IHRvIHJldXNlIHRoZSBUb3Bp
Y1B1Ymxpc2hlciAobGVnYWN5KQ0KKyAgICAgICAgICAgICAgICB0aGlzLnRvcGljQ29ubmVjdGlv
biA9IHRvcGljQ29ubmVjdGlvbkZhY3RvcnkuY3JlYXRlVG9waWNDb25uZWN0aW9uKCk7DQorICAg
ICAgICAgICAgICAgIHRoaXMudG9waWNTZXNzaW9uID0gdG9waWNDb25uZWN0aW9uLmNyZWF0ZVRv
cGljU2Vzc2lvbihmYWxzZSwgamF2YXguam1zLlNlc3Npb24uQVVUT19BQ0tOT1dMRURHRSk7DQog
ICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaGVyID0gdG9waWNTZXNzaW9uLmNyZWF0ZVB1Ymxp
c2hlcih0b3BpYyk7DQogICAgICAgICAgICAgICAgIHJjbS5sb2dEZWJ1ZygiYnJvYWRjYXN0X2Nv
bm5lY3Rpb25fY3JlYXRlZCIsIGdldEluZm8oKSk7DQotICAgICAgICAgICAgfQ0KKyAgICAgICAg
ICAgIH0gLy9lbHNlIGJ1ZzIxNDUzNDogaXQncyBhbiBleHRlcm5hbCBjb25uZWN0aW9uLCB3aXRo
IFRvcGljQ29ubmVjdGlvbnMsIHNlc3Npb25zIGFuZCBwdWJsaXNoZXJzIGNyZWF0ZWQgYXMgbmVl
ZGVkIA0KICAgICAgICAgfSBjYXRjaCAoSk1TRXhjZXB0aW9uIGV4KSB7DQogICAgICAgICAgICAg
cmNtLmxvZ0RlYnVnKCJmYWlsZWRfdG9fY3JlYXRlX2Jyb2FkY2FzdF9jb25uZWN0aW9uIiwgZ2V0
SW5mbygpKTsNCiAgICAgICAgICAgICBjbG9zZSgpOw0KICAgICAgICAgICAgIHRocm93IGV4Ow0K
ICAgICAgICAgfQ0KICAgICB9DQorICAgIA0KKyAgICAvKioNCisgICAgICogQ3JlYXRlcyBsb2Nh
bCBjb25uZWN0aW9ucyB0aGF0IGRvIG5vdCB1c2UgYSBUb3BpY0Nvbm5lY3Rpb24gb3IgVG9waWNT
ZXNzaW9uLA0KKyAgICAgKiB1c2VmdWwgb25seSBmb3IgcHJvY2Vzc2luZyBhbHJlYWR5IHJlY2Vp
dmVkIEpNUyBtZXNzYWdlcw0KKyAgICAgKiBAcGFyYW0gcmNtDQorICAgICAqIEBzZWUgb25NZXNz
YWdlDQorICAgICAqLw0KKyAgICBwdWJsaWMgSk1TVG9waWNSZW1vdGVDb25uZWN0aW9uKFJlbW90
ZUNvbW1hbmRNYW5hZ2VyIHJjbSl7DQorICAgICAgICBzdXBlcihyY20pOw0KKyAgICAgICAgdGhp
cy5pc0xvY2FsID0gdHJ1ZTsNCisgICAgfQ0KIA0KICAgICAvKioNCiAgICAgICogSU5URVJOQUw6
DQpAQCAtMTA1LDI1ICsxMzcsNDIgQEANCiAgICAgICogRXhlY3V0ZSB0aGUgcmVtb3RlIGNvbW1h
bmQuIFRoZSByZXN1bHQgb2YgZXhlY3V0aW9uIGlzIHJldHVybmVkLg0KICAgICAgKiBUaGlzIG1l
dGhvZCBpcyB1c2VkIG9ubHkgYnkgZXh0ZXJuYWwgKHB1Ymxpc2hpbmcpIGNvbm5lY3Rpb24uDQog
ICAgICAqLw0KLSAgICBwcm90ZWN0ZWQgT2JqZWN0IGV4ZWN1dGVDb21tYW5kSW50ZXJuYWwoQ29t
bWFuZCBjb21tYW5kKSB0aHJvd3MgRXhjZXB0aW9uIHsgICAgICAgIA0KLSAgICAgICAgT2JqZWN0
TWVzc2FnZSBtZXNzYWdlID0gdG9waWNTZXNzaW9uLmNyZWF0ZU9iamVjdE1lc3NhZ2UoKTsNCi0g
ICAgICAgIG1lc3NhZ2Uuc2V0T2JqZWN0KGNvbW1hbmQpOw0KLSAgICAgICAgDQotICAgICAgICBP
YmplY3RbXSBkZWJ1Z0luZm8gPSBudWxsOw0KLSAgICAgICAgaWYocmNtLnNob3VsZExvZ0RlYnVn
TWVzc2FnZSgpKSB7DQotICAgICAgICAgICAgLy8gbnVsbCBwYXNzZWQgYmVjYXVzZSBKTVNNZXNz
YWdlSWQgaXMgbm90IHlldCBjcmVhdGVkLg0KLSAgICAgICAgICAgIGRlYnVnSW5mbyA9IGxvZ0Rl
YnVnQmVmb3JlUHVibGlzaChudWxsKTsNCisgICAgcHJvdGVjdGVkIE9iamVjdCBleGVjdXRlQ29t
bWFuZEludGVybmFsKENvbW1hbmQgY29tbWFuZCkgdGhyb3dzIEV4Y2VwdGlvbiB7DQorICAgICAg
ICBUb3BpY0Nvbm5lY3Rpb24gam1zQ29ubmVjdGlvbiA9IG51bGw7DQorICAgICAgICB0cnkgew0K
KyAgICAgICAgICAgIFRvcGljUHVibGlzaGVyIHRvcGljUHVibGlzaGVyID0gdGhpcy5wdWJsaXNo
ZXI7DQorICAgICAgICAgICAgVG9waWNTZXNzaW9uIHB1Ymxpc2hpbmdTZXNzaW9uID0gdGhpcy50
b3BpY1Nlc3Npb247DQorICAgICAgICAgICAgLy9pZiB0aGUgcHVibGlzaGVyIGlzIHNldCwgcmV1
c2UgaXQuICBPdGhlcndpc2UsIGNyZWF0ZSBpdCAoYW5kIHRoZSBjb25uZWN0aW9uIGFuZCBzZXNz
aW9uKSBmcm9tIHRoZSB0b3BpY0Nvbm5lY3Rpb25GYWN0b3J5DQorICAgICAgICAgICAgaWYgKCB0
b3BpY1B1Ymxpc2hlciA9PSBudWxsICl7DQorICAgICAgICAgICAgICAgIGptc0Nvbm5lY3Rpb24g
PSB0b3BpY0Nvbm5lY3Rpb25GYWN0b3J5LmNyZWF0ZVRvcGljQ29ubmVjdGlvbigpOw0KKyAgICAg
ICAgICAgICAgICBwdWJsaXNoaW5nU2Vzc2lvbiA9IGptc0Nvbm5lY3Rpb24uY3JlYXRlVG9waWNT
ZXNzaW9uKGZhbHNlLCBqYXZheC5qbXMuU2Vzc2lvbi5BVVRPX0FDS05PV0xFREdFKTsNCisgICAg
ICAgICAgICAgICAgdG9waWNQdWJsaXNoZXIgPSBwdWJsaXNoaW5nU2Vzc2lvbi5jcmVhdGVQdWJs
aXNoZXIodG9waWMpOw0KKyAgICAgICAgICAgIH0NCisNCisgICAgICAgICAgICBPYmplY3RNZXNz
YWdlIG1lc3NhZ2UgPSBwdWJsaXNoaW5nU2Vzc2lvbi5jcmVhdGVPYmplY3RNZXNzYWdlKCk7DQor
ICAgICAgICAgICAgbWVzc2FnZS5zZXRPYmplY3QoY29tbWFuZCk7DQorICAgICAgICAgICAgICAg
IA0KKyAgICAgICAgICAgIE9iamVjdFtdIGRlYnVnSW5mbyA9IG51bGw7DQorICAgICAgICAgICAg
aWYocmNtLnNob3VsZExvZ0RlYnVnTWVzc2FnZSgpKSB7DQorICAgICAgICAgICAgICAgIC8vIG51
bGwgcGFzc2VkIGJlY2F1c2UgSk1TTWVzc2FnZUlkIGlzIG5vdCB5ZXQgY3JlYXRlZC4NCisgICAg
ICAgICAgICAgICAgZGVidWdJbmZvID0gbG9nRGVidWdCZWZvcmVQdWJsaXNoKG51bGwpOw0KKyAg
ICAgICAgICAgIH0NCisgICAgICAgICAgICAgICAgDQorICAgICAgICAgICAgdG9waWNQdWJsaXNo
ZXIucHVibGlzaChtZXNzYWdlKTsNCisgICAgICAgICAgICAgICAgDQorICAgICAgICAgICAgLy8g
ZGVidWcgbG9nZ2luZyBpcyBvbg0KKyAgICAgICAgICAgIGlmKGRlYnVnSW5mbyAhPSBudWxsKSB7
DQorICAgICAgICAgICAgICAgIC8vIG5vdyBtZXNzYWdlSWQgaGFzIGJlZW4gY3JlYXRlZCAtIGxl
dCdzIHVzZSBpdC4NCisgICAgICAgICAgICAgICAgbG9nRGVidWdBZnRlclB1Ymxpc2goZGVidWdJ
bmZvLCBtZXNzYWdlLmdldEpNU01lc3NhZ2VJRCgpKTsNCisgICAgICAgICAgICB9DQorICAgICAg
ICAgICAgDQorICAgICAgICAgICAgcmV0dXJuIG51bGw7DQorICAgICAgICB9ZmluYWxseSB7DQor
ICAgICAgICAgICAgLy9vbmx5IG5lZWQgdG8gY2xvc2UgdGhlIHRvcGljQ29ubmVjdGlvbiwgbm90
IHRoZSBzZXNzaW9uIG9yIHB1Ymxpc2hlciwgYW5kIG9ubHkgaWYgaXQgd2FzIGNyZWF0ZWQgaW4g
dGhpcyBtZXRob2QuDQorICAgICAgICAgICAgaWYgKGptc0Nvbm5lY3Rpb24hPW51bGwpew0KKyAg
ICAgICAgICAgICAgICBqbXNDb25uZWN0aW9uLmNsb3NlKCk7DQorICAgICAgICAgICAgfQ0KICAg
ICAgICAgfQ0KLSAgICAgICAgDQotICAgICAgICBwdWJsaXNoZXIucHVibGlzaChtZXNzYWdlKTsN
Ci0gICAgICAgIA0KLSAgICAgICAgLy8gZGVidWcgbG9nZ2luZyBpcyBvbg0KLSAgICAgICAgaWYo
ZGVidWdJbmZvICE9IG51bGwpIHsNCi0gICAgICAgICAgICAvLyBub3cgbWVzc2FnZUlkIGhhcyBi
ZWVuIGNyZWF0ZWQgLSBsZXQncyB1c2UgaXQuDQotICAgICAgICAgICAgbG9nRGVidWdBZnRlclB1
Ymxpc2goZGVidWdJbmZvLCBtZXNzYWdlLmdldEpNU01lc3NhZ2VJRCgpKTsNCi0gICAgICAgIH0N
Ci0gICAgICAgIA0KLSAgICAgICAgcmV0dXJuIG51bGw7DQogICAgIH0NCiANCiAgICAgLyoqDQpA
QCAtMTk5LDcgKzI0OCw5IEBADQogICAgICAqIGZyZWVzIGFsbCB0aGUgcmVzb3VyY2VzLg0KICAg
ICAgKi8NCiAgICAgcHJvdGVjdGVkIHZvaWQgY2xvc2VJbnRlcm5hbCgpIHRocm93cyBKTVNFeGNl
cHRpb24gew0KLSAgICAgICAgaWYoYXJlQWxsUmVzb3VyY2VzRnJlZWRPbkNsb3NlKCkpIHsNCisg
ICAgICAgIC8vdGhpcyBtZXRob2Qgc2hvdWxkIGJlIGEgbm8tb3Agbm93IHRoYXQgZXh0ZXJuYWwg
Y29ubmVjdGlvbnMgb3Blbi9jbG9zZSBUb3BpY0Nvbm5lY3Rpb24gd2hlbiBuZWVkZWQuICBDbG9z
ZSBvbiBMb2NhbCANCisgICAgICAgIC8vY29ubmVjdGlvbnMgd2lsbCBldmVudHVhbGx5IGNhdXNl
IHRvcGljQ29ubmVjdGlvbi5jbG9zZSgpIGluIHRoZWlyIGxpc3RlbmluZyB0aHJlYWQsIHNvIGl0
IHNob3VsZCBub3QgYmUgY2FsbGVkIGhlcmUNCisgICAgICAgIGlmKGFyZUFsbFJlc291cmNlc0Zy
ZWVkT25DbG9zZSgpICYmIHRvcGljQ29ubmVjdGlvbiE9bnVsbCkgew0KICAgICAgICAgICAgIC8v
IFRoZXJlIGlzIG5vIG5lZWQgdG8gY2xvc2UgdGhlIHNlc3Npb25zLCBwcm9kdWNlcnMsIGFuZCBj
b25zdW1lcnMgb2YgYSBjbG9zZWQgVG9waWNDb25uZWN0aW9uLg0KICAgICAgICAgICAgIHRvcGlj
Q29ubmVjdGlvbi5jbG9zZSgpOw0KICAgICAgICAgfQ0KQEAgLTMyMCw2ICszNzEsNyBAQA0KIA0K
ICAgICAvKioNCiAgICAgICogSU5URVJOQUw6DQorICAgICAqIFVzZWQgZm9yIGRlYnVnIGxvZ2dp
bmcNCiAgICAgICovDQogICAgIHByb3RlY3RlZCB2b2lkIGNyZWF0ZURpc3BsYXlTdHJpbmcoKSB7
DQogICAgICAgICBzdXBlci5jcmVhdGVEaXNwbGF5U3RyaW5nKCk7DQpJbmRleDogZm91bmRhdGlv
bi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5j
ZS9pbnRlcm5hbC9zZXNzaW9ucy9mYWN0b3JpZXMvbW9kZWwvdHJhbnNwb3J0L0pNU1B1Ymxpc2hp
bmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tLSBmb3VuZGF0aW9u
L29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNl
L2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9tb2RlbC90cmFuc3BvcnQvSk1TUHVibGlzaGlu
Z1RyYW5zcG9ydE1hbmFnZXJDb25maWcuamF2YQkocmV2aXNpb24gMCkNCisrKyBmb3VuZGF0aW9u
L29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNl
L2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9tb2RlbC90cmFuc3BvcnQvSk1TUHVibGlzaGlu
Z1RyYW5zcG9ydE1hbmFnZXJDb25maWcuamF2YQkocmV2aXNpb24gMCkNCkBAIC0wLDAgKzEsNjMg
QEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMTk5OCwgMjAx
MCBPcmFjbGUuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQorICogVGhpcyBwcm9ncmFtIGFuZCB0aGUg
YWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIA0KKyAq
IHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAgYW5kIEVjbGlwc2UgRGlz
dHJpYnV0aW9uIExpY2Vuc2Ugdi4gMS4wIA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlz
dHJpYnV0aW9uLiANCisgKiBUaGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSBpcyBhdmFpbGFibGUg
YXQgaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKiBhbmQgdGhl
IEVjbGlwc2UgRGlzdHJpYnV0aW9uIExpY2Vuc2UgaXMgYXZhaWxhYmxlIGF0IA0KKyAqIGh0dHA6
Ly93d3cuZWNsaXBzZS5vcmcvb3JnL2RvY3VtZW50cy9lZGwtdjEwLnBocC4NCisgKg0KKyAqIENv
bnRyaWJ1dG9yczoNCisgKiAgICAgY2RlbGFodW4gLSBCdWcgMjE0NTM0OiBhZGRlZCBmb3IgSk1T
UHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXIgY29uZmlndXJhdGlvbiB2aWEgc2Vzc2lvbi54bWwN
CisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqLw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGVyc2lzdGVu
Y2UuaW50ZXJuYWwuc2Vzc2lvbnMuZmFjdG9yaWVzLm1vZGVsLnRyYW5zcG9ydDsNCisNCitpbXBv
cnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJuYWwuc2Vzc2lvbnMuZmFjdG9yaWVzLm1v
ZGVsLnRyYW5zcG9ydC5uYW1pbmcuSk5ESU5hbWluZ1NlcnZpY2VDb25maWc7DQorDQorLyoqDQor
ICogSU5URVJOQUw6DQorICogDQorICovDQorcHVibGljIGNsYXNzIEpNU1B1Ymxpc2hpbmdUcmFu
c3BvcnRNYW5hZ2VyQ29uZmlnIGV4dGVuZHMgVHJhbnNwb3J0TWFuYWdlckNvbmZpZyAgew0KKw0K
KyAgICBwcml2YXRlIFN0cmluZyBtX3RvcGljSG9zdFVSTDsNCisgICAgcHJpdmF0ZSBTdHJpbmcg
bV90b3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZTsNCisgICAgcHJpdmF0ZSBTdHJpbmcgbV90b3Bp
Y05hbWU7DQorICAgIHByaXZhdGUgSk5ESU5hbWluZ1NlcnZpY2VDb25maWcgbV9qbmRpTmFtaW5n
U2VydmljZUNvbmZpZzsNCisNCisgICAgcHVibGljIEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5h
Z2VyQ29uZmlnKCkgew0KKyAgICAgICAgc3VwZXIoKTsNCisgICAgfQ0KKw0KKyAgICBwdWJsaWMg
dm9pZCBzZXRUb3BpY0hvc3RVUkwoU3RyaW5nIHRvcGljSG9zdFVSTCkgew0KKyAgICAgICAgbV90
b3BpY0hvc3RVUkwgPSB0b3BpY0hvc3RVUkw7DQorICAgIH0NCisNCisgICAgcHVibGljIFN0cmlu
ZyBnZXRUb3BpY0hvc3RVUkwoKSB7DQorICAgICAgICByZXR1cm4gbV90b3BpY0hvc3RVUkw7DQor
ICAgIH0NCisNCisgICAgcHVibGljIHZvaWQgc2V0VG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWUo
U3RyaW5nIHRvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lKSB7DQorICAgICAgICBtX3RvcGljQ29u
bmVjdGlvbkZhY3RvcnlOYW1lID0gdG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWU7DQorICAgIH0N
CisNCisgICAgcHVibGljIFN0cmluZyBnZXRUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZSgpIHsN
CisgICAgICAgIHJldHVybiBtX3RvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lOw0KKyAgICB9DQor
DQorICAgIHB1YmxpYyB2b2lkIHNldFRvcGljTmFtZShTdHJpbmcgdG9waWNOYW1lKSB7DQorICAg
ICAgICBtX3RvcGljTmFtZSA9IHRvcGljTmFtZTsNCisgICAgfQ0KKw0KKyAgICBwdWJsaWMgU3Ry
aW5nIGdldFRvcGljTmFtZSgpIHsNCisgICAgICAgIHJldHVybiBtX3RvcGljTmFtZTsNCisgICAg
fQ0KKw0KKyAgICBwdWJsaWMgdm9pZCBzZXRKTkRJTmFtaW5nU2VydmljZUNvbmZpZyhKTkRJTmFt
aW5nU2VydmljZUNvbmZpZyBqbmRpTmFtaW5nU2VydmljZUNvbmZpZykgew0KKyAgICAgICAgbV9q
bmRpTmFtaW5nU2VydmljZUNvbmZpZyA9IGpuZGlOYW1pbmdTZXJ2aWNlQ29uZmlnOw0KKyAgICB9
DQorDQorICAgIHB1YmxpYyBKTkRJTmFtaW5nU2VydmljZUNvbmZpZyBnZXRKTkRJTmFtaW5nU2Vy
dmljZUNvbmZpZygpIHsNCisgICAgICAgIHJldHVybiBtX2puZGlOYW1pbmdTZXJ2aWNlQ29uZmln
Ow0KKyAgICB9DQorfQ0KSW5kZXg6IGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uu
Y29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vzc2lvbnMvZmFjdG9y
aWVzL21vZGVsL3RyYW5zcG9ydC9KTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJDb25maWcuamF2YQ0K
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQ0KLS0tIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9z
cmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vzc2lvbnMvZmFjdG9yaWVzL21v
ZGVsL3RyYW5zcG9ydC9KTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJDb25maWcuamF2YQkocmV2aXNp
b24gNjQ2MikNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3Jj
L29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9tb2Rl
bC90cmFuc3BvcnQvSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmphdmEJKHdvcmtpbmcg
Y29weSkNCkBAIC05LDUzICs5LDE0IEBADQogICoNCiAgKiBDb250cmlidXRvcnM6DQogICogICAg
IE9yYWNsZSAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbiBmcm9tIE9yYWNsZSBUb3BM
aW5rDQorICogICAgIGNkZWxhaHVuIC0gQnVnIDIxNDUzNDogbW92ZWQgYWxsIGFwaSB0byBKTVNQ
dWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlckNvbmZpZyANCiAgKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
LyAgDQogcGFja2FnZSBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5hbC5zZXNzaW9ucy5m
YWN0b3JpZXMubW9kZWwudHJhbnNwb3J0Ow0KIA0KLWltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0
ZW5jZS5pbnRlcm5hbC5zZXNzaW9ucy5mYWN0b3JpZXMubW9kZWwudHJhbnNwb3J0Lm5hbWluZy4q
Ow0KIA0KIC8qKg0KICAqIElOVEVSTkFMOg0KICAqLw0KLXB1YmxpYyBjbGFzcyBKTVNUb3BpY1Ry
YW5zcG9ydE1hbmFnZXJDb25maWcgZXh0ZW5kcyBUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnIHsNCi0g
ICAgcHJpdmF0ZSBTdHJpbmcgbV90b3BpY0hvc3RVUkw7DQotICAgIHByaXZhdGUgU3RyaW5nIG1f
dG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWU7DQotICAgIHByaXZhdGUgU3RyaW5nIG1fdG9waWNO
YW1lOw0KLSAgICBwcml2YXRlIEpORElOYW1pbmdTZXJ2aWNlQ29uZmlnIG1fam5kaU5hbWluZ1Nl
cnZpY2VDb25maWc7DQotDQotICAgIHB1YmxpYyBKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJDb25m
aWcoKSB7DQotICAgICAgICBzdXBlcigpOw0KLSAgICB9DQotDQotICAgIHB1YmxpYyB2b2lkIHNl
dFRvcGljSG9zdFVSTChTdHJpbmcgdG9waWNIb3N0VVJMKSB7DQotICAgICAgICBtX3RvcGljSG9z
dFVSTCA9IHRvcGljSG9zdFVSTDsNCi0gICAgfQ0KLQ0KLSAgICBwdWJsaWMgU3RyaW5nIGdldFRv
cGljSG9zdFVSTCgpIHsNCi0gICAgICAgIHJldHVybiBtX3RvcGljSG9zdFVSTDsNCi0gICAgfQ0K
LQ0KLSAgICBwdWJsaWMgdm9pZCBzZXRUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZShTdHJpbmcg
dG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWUpIHsNCi0gICAgICAgIG1fdG9waWNDb25uZWN0aW9u
RmFjdG9yeU5hbWUgPSB0b3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZTsNCi0gICAgfQ0KLQ0KLSAg
ICBwdWJsaWMgU3RyaW5nIGdldFRvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lKCkgew0KLSAgICAg
ICAgcmV0dXJuIG1fdG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWU7DQotICAgIH0NCi0NCi0gICAg
cHVibGljIHZvaWQgc2V0VG9waWNOYW1lKFN0cmluZyB0b3BpY05hbWUpIHsNCi0gICAgICAgIG1f
dG9waWNOYW1lID0gdG9waWNOYW1lOw0KLSAgICB9DQotDQotICAgIHB1YmxpYyBTdHJpbmcgZ2V0
VG9waWNOYW1lKCkgew0KLSAgICAgICAgcmV0dXJuIG1fdG9waWNOYW1lOw0KLSAgICB9DQotDQot
ICAgIHB1YmxpYyB2b2lkIHNldEpORElOYW1pbmdTZXJ2aWNlQ29uZmlnKEpORElOYW1pbmdTZXJ2
aWNlQ29uZmlnIGpuZGlOYW1pbmdTZXJ2aWNlQ29uZmlnKSB7DQotICAgICAgICBtX2puZGlOYW1p
bmdTZXJ2aWNlQ29uZmlnID0gam5kaU5hbWluZ1NlcnZpY2VDb25maWc7DQotICAgIH0NCi0NCi0g
ICAgcHVibGljIEpORElOYW1pbmdTZXJ2aWNlQ29uZmlnIGdldEpORElOYW1pbmdTZXJ2aWNlQ29u
ZmlnKCkgew0KLSAgICAgICAgcmV0dXJuIG1fam5kaU5hbWluZ1NlcnZpY2VDb25maWc7DQotICAg
IH0NCitwdWJsaWMgY2xhc3MgSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnIGV4dGVuZHMg
Sk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWcgew0KKyAgICANCiB9DQpJbmRleDog
Zm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9w
ZXJzaXN0ZW5jZS9pbnRlcm5hbC9zZXNzaW9ucy9mYWN0b3JpZXMvU2Vzc2lvbnNGYWN0b3J5Lmph
dmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT0NCi0tLSBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNv
cmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rvcmll
cy9TZXNzaW9uc0ZhY3RvcnkuamF2YQkocmV2aXNpb24gNjQ2MikNCisrKyBmb3VuZGF0aW9uL29y
Zy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2lu
dGVybmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9TZXNzaW9uc0ZhY3RvcnkuamF2YQkod29ya2luZyBj
b3B5KQ0KQEAgLTksNiArOSw3IEBADQogICoNCiAgKiBDb250cmlidXRvcnM6DQogICogICAgIE9y
YWNsZSAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbiBmcm9tIE9yYWNsZSBUb3BMaW5r
DQorICogICAgIGNkZWxhaHVuIC0gQnVnIDIxNDUzNDogY2hhbmdlcyBmb3IgSk1TUHVibGlzaGlu
Z1RyYW5zcG9ydE1hbmFnZXIgY29uZmlndXJhdGlvbiB2aWEgc2Vzc2lvbi54bWwNCiAgKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqLyAgDQogcGFja2FnZSBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRl
cm5hbC5zZXNzaW9ucy5mYWN0b3JpZXM7DQogDQpAQCAtMjYsNiArMjcsNyBAQA0KIGltcG9ydCBv
cmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5leGNlcHRpb25zLio7DQogaW1wb3J0IG9yZy5lY2xpcHNl
LnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi4qOw0KIGltcG9ydCBvcmcuZWNsaXBz
ZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24ucm1pLlJNSVRyYW5zcG9ydE1hbmFn
ZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlv
bi5qbXMuSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXI7DQogaW1wb3J0IG9yZy5lY2xpcHNl
LnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5qbXMuSk1TVG9waWNUcmFuc3BvcnRN
YW5hZ2VyOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGlu
YXRpb24uY29yYmEuc3VuLlN1bkNPUkJBVHJhbnNwb3J0TWFuYWdlcjsNCiBpbXBvcnQgb3JnLmVj
bGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuc2VydmVyLio7DQpAQCAtODg5LDggKzg5MSwxMCBA
QA0KICAgICAgICAgICAgIGJ1aWxkUk1JVHJhbnNwb3J0TWFuYWdlckNvbmZpZygoUk1JVHJhbnNw
b3J0TWFuYWdlckNvbmZpZyl0bUNvbmZpZywgcmNtKTsNCiAgICAgICAgIH0gZWxzZSBpZiAodG1D
b25maWcgaW5zdGFuY2VvZiBSTUlJSU9QVHJhbnNwb3J0TWFuYWdlckNvbmZpZykgew0KICAgICAg
ICAgICAgIGJ1aWxkUk1JSUlPUFRyYW5zcG9ydE1hbmFnZXJDb25maWcoKFJNSUlJT1BUcmFuc3Bv
cnRNYW5hZ2VyQ29uZmlnKXRtQ29uZmlnLCByY20pOw0KLSAgICAgICAgfSBlbHNlIGlmICh0bUNv
bmZpZyBpbnN0YW5jZW9mIEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlckNvbmZpZykgew0KKyAgICAg
ICAgfSAgZWxzZSBpZiAodG1Db25maWcgaW5zdGFuY2VvZiBKTVNUb3BpY1RyYW5zcG9ydE1hbmFn
ZXJDb25maWcpIHsNCiAgICAgICAgICAgICBidWlsZEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlckNv
bmZpZygoSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKXRtQ29uZmlnLCByY20pOw0KKyAg
ICAgICAgfSBlbHNlIGlmICh0bUNvbmZpZyBpbnN0YW5jZW9mIEpNU1B1Ymxpc2hpbmdUcmFuc3Bv
cnRNYW5hZ2VyQ29uZmlnKSB7DQorICAgICAgICAgICAgYnVpbGRKTVNQdWJsaXNoaW5nVHJhbnNw
b3J0TWFuYWdlckNvbmZpZygoSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWcpdG1D
b25maWcsIHJjbSk7DQogICAgICAgICB9IGVsc2UgaWYgKHRtQ29uZmlnIGluc3RhbmNlb2YgT2M0
akpHcm91cHNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKSB7DQogICAgICAgICAgICAgYnVpbGRPYzRq
Skdyb3Vwc1RyYW5zcG9ydE1hbmFnZXJDb25maWcoKE9jNGpKR3JvdXBzVHJhbnNwb3J0TWFuYWdl
ckNvbmZpZyl0bUNvbmZpZywgcmNtKTsNCiAgICAgICAgIH0gZWxzZSBpZiAodG1Db25maWcgaW5z
dGFuY2VvZiBTdW5DT1JCQVRyYW5zcG9ydE1hbmFnZXJDb25maWcpIHsNCkBAIC05ODMsNyArOTg3
LDI2IEBADQogDQogICAgICAgICAvLyBTZXQgdGhlIHRyYW5zcG9ydCBtYW5hZ2VyLiBUaGlzIHdp
bGwgaW5pdGlhbGl6ZSB0aGUgRGlzY292ZXJ5TWFuYWdlcg0KICAgICAgICAgcmNtLnNldFRyYW5z
cG9ydE1hbmFnZXIodG0pOw0KKyAgICAgICAgDQorICAgICAgICBwcm9jZXNzSk1TVHJhbnNwb3J0
TWFuYWdlckNvbmZpZyh0bUNvbmZpZywgdG0pOw0KKyAgICB9DQorICAgIA0KKyAgICAvKioNCisg
ICAgICogSU5URVJOQUw6DQorICAgICAqLw0KKyAgICBwcm90ZWN0ZWQgdm9pZCBidWlsZEpNU1B1
Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5h
Z2VyQ29uZmlnIHRtQ29uZmlnLCBSZW1vdGVDb21tYW5kTWFuYWdlciByY20pIHsNCisgICAgICAg
IEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyIHRtID0gbmV3IEpNU1B1Ymxpc2hpbmdUcmFu
c3BvcnRNYW5hZ2VyKHJjbSk7DQogDQorICAgICAgICAvLyBTZXQgdGhlIHRyYW5zcG9ydCBtYW5h
Z2VyLiBUaGlzIHdpbGwgaW5pdGlhbGl6ZSB0aGUgRGlzY292ZXJ5TWFuYWdlcg0KKyAgICAgICAg
cmNtLnNldFRyYW5zcG9ydE1hbmFnZXIodG0pOw0KKyAgICAgICAgcHJvY2Vzc0pNU1RyYW5zcG9y
dE1hbmFnZXJDb25maWcodG1Db25maWcsIHRtKTsNCisgICAgfQ0KKyAgICANCisgICAgLyoqDQor
ICAgICAqIElOVEVSTkFMOg0KKyAgICAgKiBDb21tb24gSk1TIGNvbmZpZ3VyYXRpb24NCisgICAg
ICovDQorICAgIHByb3RlY3RlZCB2b2lkIHByb2Nlc3NKTVNUcmFuc3BvcnRNYW5hZ2VyQ29uZmln
KEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnIHRtQ29uZmlnLCBKTVNQdWJsaXNo
aW5nVHJhbnNwb3J0TWFuYWdlciB0bSApew0KICAgICAgICAgLy8gSk5ESSBuYW1pbmcgc2Vydmlj
ZQ0KICAgICAgICAgaWYgKHRtQ29uZmlnLmdldEpORElOYW1pbmdTZXJ2aWNlQ29uZmlnKCkgIT0g
bnVsbCkgew0KICAgICAgICAgICAgIHRtLnNldE5hbWluZ1NlcnZpY2VUeXBlKFRyYW5zcG9ydE1h
bmFnZXIuSk5ESV9OQU1JTkdfU0VSVklDRSk7DQpJbmRleDogZm91bmRhdGlvbi9vcmcuZWNsaXBz
ZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9pbnRlcm5hbC9z
ZXNzaW9ucy9mYWN0b3JpZXMvWE1MU2Vzc2lvbkNvbmZpZ1Byb2plY3QuamF2YQ0KPT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PQ0KLS0tIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2Vj
bGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vzc2lvbnMvZmFjdG9yaWVzL1hNTFNlc3Npb25D
b25maWdQcm9qZWN0LmphdmEJKHJldmlzaW9uIDY0NjIpDQorKysgZm91bmRhdGlvbi9vcmcuZWNs
aXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9pbnRlcm5h
bC9zZXNzaW9ucy9mYWN0b3JpZXMvWE1MU2Vzc2lvbkNvbmZpZ1Byb2plY3QuamF2YQkod29ya2lu
ZyBjb3B5KQ0KQEAgLTEzLDYgKzEzLDcgQEANCiAgKiAgICAgICAtIDI1MTAwNTogVGhlIGRlZmF1
bHQgSk5ESSBJbml0aWFsQ29udGV4dEZhY3RvcnkgaXMgbW9kaWZpZWQgZnJvbQ0KICAqICAgICAg
IE9DNEo6IG9yYWNsZS5qMmVlLnJtaS5STUlJbml0aWFsQ29udGV4dEZhY3RvcnkgdG8NCiAgKiAg
ICAgICBXZWJMb2dpYzogd2VibG9naWMuam5kaS5XTEluaXRpYWxDb250ZXh0RmFjdG9yeQ0KKyAq
ICAgICBjZGVsYWh1biAtIEJ1ZyAyMTQ1MzQ6IGNoYW5nZXMgZm9yIEpNU1B1Ymxpc2hpbmdUcmFu
c3BvcnRNYW5hZ2VyIGNvbmZpZ3VyYXRpb24NCiAgKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLyAgDQog
cGFja2FnZSBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5hbC5zZXNzaW9ucy5mYWN0b3Jp
ZXM7DQogDQpAQCAtNzAsNiArNzEsNyBAQA0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5j
ZS5pbnRlcm5hbC5zZXNzaW9ucy5mYWN0b3JpZXMubW9kZWwuc2Vzc2lvbi5TZXJ2ZXJTZXNzaW9u
Q29uZmlnOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5hbC5zZXNzaW9u
cy5mYWN0b3JpZXMubW9kZWwuc2Vzc2lvbi5TZXNzaW9uQnJva2VyQ29uZmlnOw0KIGltcG9ydCBv
cmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5hbC5zZXNzaW9ucy5mYWN0b3JpZXMubW9kZWwu
c2Vzc2lvbi5TZXNzaW9uQ29uZmlnOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5p
bnRlcm5hbC5zZXNzaW9ucy5mYWN0b3JpZXMubW9kZWwudHJhbnNwb3J0LkpNU1B1Ymxpc2hpbmdU
cmFuc3BvcnRNYW5hZ2VyQ29uZmlnOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5p
bnRlcm5hbC5zZXNzaW9ucy5mYWN0b3JpZXMubW9kZWwudHJhbnNwb3J0LkpNU1RvcGljVHJhbnNw
b3J0TWFuYWdlckNvbmZpZzsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJu
YWwuc2Vzc2lvbnMuZmFjdG9yaWVzLm1vZGVsLnRyYW5zcG9ydC5STUlJSU9QVHJhbnNwb3J0TWFu
YWdlckNvbmZpZzsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJuYWwuc2Vz
c2lvbnMuZmFjdG9yaWVzLm1vZGVsLnRyYW5zcG9ydC5STUlUcmFuc3BvcnRNYW5hZ2VyQ29uZmln
Ow0KQEAgLTE4NSw2ICsxODcsNyBAQA0KICAgICAgICAgYWRkRGVzY3JpcHRvcihidWlsZFNlc3Np
b25Ccm9rZXJDb25maWdEZXNjcmlwdG9yKCkpOw0KICAgICAgICAgYWRkRGVzY3JpcHRvcihidWls
ZFNlc3Npb25Db25maWdEZXNjcmlwdG9yKCkpOw0KICAgICAgICAgYWRkRGVzY3JpcHRvcihidWls
ZEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlckNvbmZpZ0Rlc2NyaXB0b3IoKSk7DQorICAgICAgICBh
ZGREZXNjcmlwdG9yKGJ1aWxkSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWdEZXNj
cmlwdG9yKCkpOw0KICAgICAgICAgYWRkRGVzY3JpcHRvcihidWlsZFJNSUlJT1BUcmFuc3BvcnRN
YW5hZ2VyQ29uZmlnRGVzY3JpcHRvcigpKTsNCiAgICAgICAgIGFkZERlc2NyaXB0b3IoYnVpbGRS
TUlUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnRGVzY3JpcHRvcigpKTsNCiAgICAgICAgIGFkZERlc2Ny
aXB0b3IoYnVpbGRUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnRGVzY3JpcHRvcigpKTsNCkBAIC02Njks
MTAgKzY3MiwxMCBAQA0KIA0KICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7DQogICAgIH0NCi0N
Ci0gICAgcHVibGljIENsYXNzRGVzY3JpcHRvciBidWlsZEpNU1RvcGljVHJhbnNwb3J0TWFuYWdl
ckNvbmZpZ0Rlc2NyaXB0b3IoKSB7DQorICAgIA0KKyAgICBwdWJsaWMgQ2xhc3NEZXNjcmlwdG9y
IGJ1aWxkSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWdEZXNjcmlwdG9yKCkgew0K
ICAgICAgICAgWE1MRGVzY3JpcHRvciBkZXNjcmlwdG9yID0gbmV3IFhNTERlc2NyaXB0b3IoKTsN
Ci0gICAgICAgIGRlc2NyaXB0b3Iuc2V0SmF2YUNsYXNzKEpNU1RvcGljVHJhbnNwb3J0TWFuYWdl
ckNvbmZpZy5jbGFzcyk7DQorICAgICAgICBkZXNjcmlwdG9yLnNldEphdmFDbGFzcyhKTVNQdWJs
aXNoaW5nVHJhbnNwb3J0TWFuYWdlckNvbmZpZy5jbGFzcyk7DQogICAgICAgICBkZXNjcmlwdG9y
LmdldEluaGVyaXRhbmNlUG9saWN5KCkuc2V0UGFyZW50Q2xhc3MoVHJhbnNwb3J0TWFuYWdlckNv
bmZpZy5jbGFzcyk7DQogDQogICAgICAgICBYTUxEaXJlY3RNYXBwaW5nIHRvcGljSG9zdFVSTE1h
cHBpbmcgPSBuZXcgWE1MRGlyZWN0TWFwcGluZygpOw0KQEAgLTcwOSw3ICs3MTIsMTQgQEANCiAg
ICAgICAgIHJldHVybiBkZXNjcmlwdG9yOw0KICAgICB9DQogDQorICAgIHB1YmxpYyBDbGFzc0Rl
c2NyaXB0b3IgYnVpbGRKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJDb25maWdEZXNjcmlwdG9yKCkg
ew0KKyAgICAgICAgWE1MRGVzY3JpcHRvciBkZXNjcmlwdG9yID0gbmV3IFhNTERlc2NyaXB0b3Io
KTsNCisgICAgICAgIGRlc2NyaXB0b3Iuc2V0SmF2YUNsYXNzKEpNU1RvcGljVHJhbnNwb3J0TWFu
YWdlckNvbmZpZy5jbGFzcyk7DQorICAgICAgICBkZXNjcmlwdG9yLmdldEluaGVyaXRhbmNlUG9s
aWN5KCkuc2V0UGFyZW50Q2xhc3MoSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWcu
Y2xhc3MpOw0KIA0KKyAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7DQorICAgIH0NCisNCiAgICAg
cHVibGljIENsYXNzRGVzY3JpcHRvciBidWlsZEpORElOYW1pbmdTZXJ2aWNlQ29uZmlnRGVzY3Jp
cHRvcigpIHsNCiAgICAgICAgIFhNTERlc2NyaXB0b3IgZGVzY3JpcHRvciA9IG5ldyBYTUxEZXNj
cmlwdG9yKCk7DQogICAgICAgICBkZXNjcmlwdG9yLnNldEphdmFDbGFzcyhKTkRJTmFtaW5nU2Vy
dmljZUNvbmZpZy5jbGFzcyk7DQpAQCAtMTM2OCw2ICsxMzc4LDcgQEANCiAgICAgICAgIGRlc2Ny
aXB0b3IuZ2V0SW5oZXJpdGFuY2VQb2xpY3koKS5zZXRDbGFzc0luZGljYXRvckZpZWxkKG5ldyBY
TUxGaWVsZCgiQHhzaTp0eXBlIikpOw0KICAgICAgICAgZGVzY3JpcHRvci5nZXRJbmhlcml0YW5j
ZVBvbGljeSgpLmFkZENsYXNzSW5kaWNhdG9yKFJNSVRyYW5zcG9ydE1hbmFnZXJDb25maWcuY2xh
c3MsICJybWktdHJhbnNwb3J0Iik7DQogICAgICAgICBkZXNjcmlwdG9yLmdldEluaGVyaXRhbmNl
UG9saWN5KCkuYWRkQ2xhc3NJbmRpY2F0b3IoUk1JSUlPUFRyYW5zcG9ydE1hbmFnZXJDb25maWcu
Y2xhc3MsICJybWktaWlvcC10cmFuc3BvcnQiKTsNCisgICAgICAgIGRlc2NyaXB0b3IuZ2V0SW5o
ZXJpdGFuY2VQb2xpY3koKS5hZGRDbGFzc0luZGljYXRvcihKTVNQdWJsaXNoaW5nVHJhbnNwb3J0
TWFuYWdlckNvbmZpZy5jbGFzcywgImptcy1wdWJsaXNoaW5nLXRyYW5zcG9ydCIpOw0KICAgICAg
ICAgZGVzY3JpcHRvci5nZXRJbmhlcml0YW5jZVBvbGljeSgpLmFkZENsYXNzSW5kaWNhdG9yKEpN
U1RvcGljVHJhbnNwb3J0TWFuYWdlckNvbmZpZy5jbGFzcywgImptcy10b3BpYy10cmFuc3BvcnQi
KTsNCiAgICAgICAgIGRlc2NyaXB0b3IuZ2V0SW5oZXJpdGFuY2VQb2xpY3koKS5hZGRDbGFzc0lu
ZGljYXRvcihTdW5DT1JCQVRyYW5zcG9ydE1hbmFnZXJDb25maWcuY2xhc3MsICJzdW4tY29yYmEt
dHJhbnNwb3J0Iik7DQogICAgICAgICBkZXNjcmlwdG9yLmdldEluaGVyaXRhbmNlUG9saWN5KCku
YWRkQ2xhc3NJbmRpY2F0b3IoVXNlckRlZmluZWRUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmNsYXNz
LCAidXNlci1kZWZpbmVkLXRyYW5zcG9ydCIpOw0KSW5kZXg6IGZvdW5kYXRpb24vb3JnLmVjbGlw
c2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uvc2Vzc2lvbnMv
Y29vcmRpbmF0aW9uL2ptcy9KTVNQdWJsaXNoaW5nSGVscGVyLmphdmENCj09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0t
LSBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNl
L3BlcnNpc3RlbmNlL3Nlc3Npb25zL2Nvb3JkaW5hdGlvbi9qbXMvSk1TUHVibGlzaGluZ0hlbHBl
ci5qYXZhCShyZXZpc2lvbiAwKQ0KKysrIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVu
Y2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uvc2Vzc2lvbnMvY29vcmRpbmF0aW9u
L2ptcy9KTVNQdWJsaXNoaW5nSGVscGVyLmphdmEJKHJldmlzaW9uIDApDQpAQCAtMCwwICsxLDQ2
IEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDE5OTgsIDIw
MTAgT3JhY2xlLiBBbGwgcmlnaHRzIHJlc2VydmVkLg0KKyAqIFRoaXMgcHJvZ3JhbSBhbmQgdGhl
IGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSANCisg
KiB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wIGFuZCBFY2xpcHNlIERp
c3RyaWJ1dGlvbiBMaWNlbnNlIHYuIDEuMCANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRp
c3RyaWJ1dGlvbi4gDQorICogVGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgaXMgYXZhaWxhYmxl
IGF0IGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQorICogYW5kIHRo
ZSBFY2xpcHNlIERpc3RyaWJ1dGlvbiBMaWNlbnNlIGlzIGF2YWlsYWJsZSBhdCANCisgKiBodHRw
Oi8vd3d3LmVjbGlwc2Uub3JnL29yZy9kb2N1bWVudHMvZWRsLXYxMC5waHAuDQorICoNCisgKiBD
b250cmlidXRvcnM6DQorICogICAgIGNkZWxhaHVuIC0gQnVnIDIxNDUzNDogYWRkZWQgYXMgYSBw
dWJsaWMgaGVscGVyIGZvciBKTVMgUkNNIG1lc3NhZ2UgcHJvY2Vzc2luZw0KKyAqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKiovICANCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25z
LmNvb3JkaW5hdGlvbi5qbXM7DQorDQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmV4
Y2VwdGlvbnMuUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb247DQoraW1wb3J0IG9yZy5lY2xp
cHNlLnBlcnNpc3RlbmNlLmludGVybmFsLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5qbXMuSk1TVG9w
aWNSZW1vdGVDb25uZWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRl
cm5hbC5zZXNzaW9ucy5BYnN0cmFjdFNlc3Npb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNp
c3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5SZW1vdGVDb21tYW5kTWFuYWdlcjsNCisNCisv
KiogDQorICogVGhpcyBoZWxwZXIgY2xhc3MgYWxsb3dzIGFjY2VzcyB0byBhYnN0cmFjdCBKTVNQ
dWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlciBpbnRlcm5hbHMgd2hlbiBwcm9jZXNzaW5nIA0KKyAq
IEpNUyBtZXNzYWdlcyBmb3IgUkNNLCBhbmQgY2FuIGJlIGV4cGFuZGVkIHVwb24gdG8gaW5jbHVk
ZSBvdGhlciBFY2xpcHNlTGluayBKTVMgZnVuY3Rpb25hbGl0eS4gICANCisgKiANCisgKiBAYXV0
aG9yIENocmlzIERlbGFodW50IA0KKyAqLyANCitwdWJsaWMgY2xhc3MgSk1TUHVibGlzaGluZ0hl
bHBlciB7DQorICAgIC8qKg0KKyAgICAgKiBQVUJMSUM6DQorICAgICAqIFByb2Nlc3NlcyB0aGUg
cmVjZWl2ZWQgUkNNIG1lc3NhZ2VkIGZyb20gYSBKTVMgcHJvdmlkZXIgZm9yIGNhY2hlIGNvb3Jk
aW5hdGlvbi4NCisgICAgICogVGhpcyB3aWxsIHVzZSB0aGUgbG9jYWwgY29ubmVjdGlvbiBmcm9t
IHRoZSBjb25maWd1cmVkIFRyYW5zcG9ydE1hbmFnZXIgZnJvbSB0aGUgc2Vzc2lvbidzIFJlbW90
ZUNvbW1hbmRNYW5hZ2VyLg0KKyAgICAgKiANCisgICAgICogQHBhcmFtIG1lc3NhZ2UNCisgICAg
ICogQHBhcmFtIHNlc3Npb24NCisgICAgICogDQorICAgICAqIA0KKyAgICAgKi8NCisgICAgcHVi
bGljIHN0YXRpYyB2b2lkIHByb2Nlc3NKTVNNZXNzYWdlKGphdmF4Lmptcy5NZXNzYWdlIG1lc3Nh
Z2UsIEFic3RyYWN0U2Vzc2lvbiBzZXNzaW9uKXsNCisgICAgICAgIFJlbW90ZUNvbW1hbmRNYW5h
Z2VyIHJjbSA9IChSZW1vdGVDb21tYW5kTWFuYWdlcilzZXNzaW9uLmdldENvbW1hbmRNYW5hZ2Vy
KCk7DQorICAgICAgICBpZihyY20uaXNTdG9wcGVkKCkpew0KKyAgICAgICAgICAgIHRocm93IFJl
bW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLnJlbW90ZUNvbW1hbmRNYW5hZ2VySXNDbG9zZWQo
KTsNCisgICAgICAgIH0NCisgICAgICAgIEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbiBjb25uZWN0
aW9uID0gKEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbilyY20uZ2V0VHJhbnNwb3J0TWFuYWdlcigp
LmdldENvbm5lY3Rpb25Ub0xvY2FsSG9zdCgpOw0KKyAgICAgICAgY29ubmVjdGlvbi5vbk1lc3Nh
Z2UobWVzc2FnZSk7DQorICAgIH0NCisgICAgDQorfQ0KSW5kZXg6IGZvdW5kYXRpb24vb3JnLmVj
bGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uvc2Vzc2lv
bnMvY29vcmRpbmF0aW9uL2ptcy9KTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlci5qYXZhDQo9
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09DQotLS0gZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3Ny
Yy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9zZXNzaW9ucy9jb29yZGluYXRpb24vam1zL0pNU1B1
Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyLmphdmEJKHJldmlzaW9uIDApDQorKysgZm91bmRhdGlv
bi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5j
ZS9zZXNzaW9ucy9jb29yZGluYXRpb24vam1zL0pNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2Vy
LmphdmEJKHJldmlzaW9uIDApDQpAQCAtMCwwICsxLDI2NiBAQA0KKy8qKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqICANCisgKiBDb3B5cmlnaHQgKGMpIDE5OTgsIDIwMTAgT3JhY2xlLiBBbGwgcmlnaHRz
IHJlc2VydmVkLiAgDQorICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVy
aWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlICANCisgKiB0ZXJtcyBvZiB0aGUgRWNs
aXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wLCB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1
dGlvbiAgDQorICogYW5kIGlzIGF2YWlsYWJsZSBhdCBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xl
Z2FsL2VwbC12MTAuaHRtbC4gIA0KKyAqICANCisgKiBDb250cmlidXRvcnM6IA0KKyAqICAgICBj
ZGVsYWh1biAtIEJ1ZyAyMTQ1MzQ6IGFkZGVkIEpNUyBDYWNoZSBDb29yZGluYXRpb24gZm9yIHB1
Ymxpc2hpbmcgb25seQ0KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovICAgIA0KK3BhY2thZ2Ugb3Jn
LmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuY29vcmRpbmF0aW9uLmptczsNCisgDQoraW1w
b3J0IGphdmEudXRpbC5IYXNodGFibGU7DQorDQoraW1wb3J0IGphdmF4Lmptcy5Ub3BpYzsNCitp
bXBvcnQgamF2YXguam1zLlRvcGljQ29ubmVjdGlvbkZhY3Rvcnk7DQoraW1wb3J0IGphdmF4Lm5h
bWluZy5Db250ZXh0Ow0KK2ltcG9ydCBqYXZheC5uYW1pbmcuTmFtaW5nRXhjZXB0aW9uOw0KKw0K
K2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5leGNlcHRpb25zLlJlbW90ZUNvbW1hbmRN
YW5hZ2VyRXhjZXB0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5leGNlcHRp
b25zLlZhbGlkYXRpb25FeGNlcHRpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNl
LmludGVybmFsLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5qbXMuSk1TVG9waWNSZW1vdGVDb25uZWN0
aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRp
b24uYnJvYWRjYXN0LkJyb2FkY2FzdFRyYW5zcG9ydE1hbmFnZXI7DQoraW1wb3J0IG9yZy5lY2xp
cHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5SZW1vdGVDb21tYW5kTWFuYWdl
cjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuY29vcmRpbmF0aW9u
LlRyYW5zcG9ydE1hbmFnZXI7DQorDQorLyoqDQorICogPHA+DQorICogPGI+UHVycG9zZTwvYj46
IFByb3ZpZGUgYSB0cmFuc3BvcnQgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBSZW1vdGUgQ29tbWFu
ZCBNb2R1bGUgKFJDTSkgdGhhdCBwdWJsaXNoZXMNCisgKiB0byBhIEpNUyB0b3BpYy4gIA0KKyAq
IDxwPg0KKyAqIDxiPkRlc2NyaXB0aW9uPC9iPjogVGhpcyBjbGFzcyBtYW5hZ2VzIHR3byBjb25u
ZWN0aW9uczogYW4gZXh0ZXJuYWwgY29ubmVjdGlvbiBmb3IgcHVibGlzaGluZyB0byBKTVMsIA0K
KyAqICBhbmQgYSBsb2NhbCBjb25uZWN0aW9uIHdoaWNoIGNhbiBiZSB1c2VkIHRvIHByb2Nlc3Mg
Sk1TIG1lc3NhZ2VzIHJlY2VpdmVkIGZyb20gYW4gYXBwbGljYXRpb24gSk1TIGxpc3RlbmVyLg0K
KyAqIDxwPg0KKyAqIEBhdXRob3IgQ2hyaXMgRGVsYWh1bnQNCisgKiBAc2luY2UgRWNsaXBzZUxp
bmsgMi4xDQorICovDQorcHVibGljIGNsYXNzIEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2Vy
IGV4dGVuZHMgQnJvYWRjYXN0VHJhbnNwb3J0TWFuYWdlciB7DQorICAgIHByb3RlY3RlZCBTdHJp
bmcgY29ubmVjdGlvbkZhY3RvcnlOYW1lOw0KKyAgICANCisgICAgLyogDQorICAgICAqIGZsYWcg
dXNlZCB0byB0b2dnbGUgYmV0d2VlbiBzcGVjIGNvbXBsaWFudCBiZWhhdmlvciBhbmQgbGVnYWN5
IGJlaGF2aW9yLiAgRGVmYXVsdCBmYWxzZSBjYXVzZXMgZXh0ZXJuYWwgSk1TVG9waWNSZW1vdGVD
b25uZWN0aW9uIHRvIGNhY2hlIHRoZSANCisgICAgICogVG9waWNDb25uZWN0aW9uRmFjdG9yeSBh
bmQgb2J0YWluIFRvcGljQ29ubmVjdGlvbnMgZXRjIG9ubHkgd2hlbiBleGVjdXRlQ29tbWFuZCBp
cyBjYWxsZWQsIHJlbGVhc2luZyB0aGVtIGltbWVkaWF0ZWx5LiAgDQorICAgICAqIFRydWUgY2F1
c2VzIFRvcGljQ29ubmVjdGlvbiwgVG9waWNTZXNzaW9uIGFuZCBUb3BpY1B1Ymxpc2hlciB0byBi
ZSBoZWxkIGFuZCB1c2VkIGZvciBldmVyeSBleGVjdXRlQ29tbWFuZCBjYWxsLg0KKyAgICAgKiBB
IHZhbHVlIG9mIHRydWUgaGFzIHNwZWMgaW1wbGljYXRpb25zLCBhcyBUb3BpY1B1Ymxpc2hlcnMg
YXJlIG5vdCBjb25jdXJyZW50IG9iamVjdHMsIGJ1dCB3YXMgYWRkZWQgaW4gZm9yIGFwcGxpY2F0
aW9ucw0KKyAgICAgKiB0aGF0IG1heSBoYXZlIHdvcmtlZCBwcmV2aW91c2x5IGJ1dCBlbmNvdW50
ZXIgcGVyZm9ybWFuY2UgaXNzdWVzIHdpdGggcmVwZWF0ZWRseSBjcmVhdGluZyBUb3BpY0Nvbm5l
Y3Rpb25zIGV0Yy4NCisgICAgICovDQorICAgIHByb3RlY3RlZCBib29sZWFuIHJldXNlSk1TVG9w
aWNQdWJsaXNoZXIgPSBmYWxzZTsNCisNCisgICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcg
REVGQVVMVF9UT1BJQyA9ICJqbXMvRWNsaXBzZUxpbmtUb3BpYyI7DQorICAgIHB1YmxpYyBzdGF0
aWMgZmluYWwgU3RyaW5nIERFRkFVTFRfQ09OTkVDVElPTl9GQUNUT1JZID0gImptcy9FY2xpcHNl
TGlua1RvcGljQ29ubmVjdGlvbkZhY3RvcnkiOw0KKyAgICAvKiogIA0KKyAgICAgKiBQVUJMSUM6
ICANCisgICAgICogQ3JlYXRlcyBhIEpNU1B1Ymxpc2hpbmdPbmx5VG9waWNUcmFuc3BvcnRNYW5h
Z2VyICANCisgICAgICovICANCisgICAgcHVibGljIEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5h
Z2VyKFJlbW90ZUNvbW1hbmRNYW5hZ2VyIHJjbSkgeyAgDQorICAgICAgICBzdXBlcihyY20pOyAg
DQorICAgIH0NCisNCisgICAgLyoqDQorICAgICAqIElOVEVSTkFMOg0KKyAgICAgKiBUaGlzIG1l
dGhvZCBjcmVhdGVzIEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbiB0byBiZSB1c2VkIGJ5IHRoaXMg
VHJhbnNwb3J0TWFuYWdlci4NCisgICAgICogRG9uJ3QgY29uZnVzZSB0aGlzIG1ldGhvZCB3aXRo
IG5vLW9wIGNyZWF0ZUNvbm5lY3Rpb24oU2VydmljZUlkIHNlcnZpY2VJZCkuDQorICAgICAqLw0K
KyAgICBwcm90ZWN0ZWQgSk1TVG9waWNSZW1vdGVDb25uZWN0aW9uIGNyZWF0ZUNvbm5lY3Rpb24o
Ym9vbGVhbiBpc0xvY2FsQ29ubmVjdGlvbkJlaW5nQ3JlYXRlZCkgdGhyb3dzIFJlbW90ZUNvbW1h
bmRNYW5hZ2VyRXhjZXB0aW9uIHsNCisgICAgICAgIENvbnRleHQgcmVtb3RlSG9zdENvbnRleHQg
PSBudWxsOw0KKyAgICAgICAgdHJ5IHsNCisgICAgICAgICAgICByZW1vdGVIb3N0Q29udGV4dCA9
IGdldFJlbW90ZUhvc3RDb250ZXh0KGdldFRvcGljSG9zdFVybCgpKTsNCisgICAgICAgICAgICBU
b3BpY0Nvbm5lY3Rpb25GYWN0b3J5IGNvbm5lY3Rpb25GYWN0b3J5ID0gZ2V0VG9waWNDb25uZWN0
aW9uRmFjdG9yeShyZW1vdGVIb3N0Q29udGV4dCk7DQorICAgICAgICAgICAgVG9waWMgdG9waWMg
PSBnZXRUb3BpYyhyZW1vdGVIb3N0Q29udGV4dCk7DQorICAgICAgICAgICAgLy8gZXh0ZXJuYWwg
Y29ubmVjdGlvbiBpcyBhIHB1Ymxpc2hlcjsgbG9jYWwgY29ubmVjdGlvbiBpcyBhIHN1YnNjcmli
ZXINCisgICAgICAgICAgICByZXR1cm4gbmV3IEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbihyY20s
IGNvbm5lY3Rpb25GYWN0b3J5LCB0b3BpYywgaXNMb2NhbENvbm5lY3Rpb25CZWluZ0NyZWF0ZWQs
IHJldXNlSk1TVG9waWNQdWJsaXNoZXIpOw0KKyAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4
KSB7DQorICAgICAgICAgICAgUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24gcmNtRXhjZXB0
aW9uOw0KKyAgICAgICAgICAgIGlmKGlzTG9jYWxDb25uZWN0aW9uQmVpbmdDcmVhdGVkKSB7DQor
ICAgICAgICAgICAgICAgIHJjbUV4Y2VwdGlvbiA9IFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0
aW9uLmVycm9yQ3JlYXRpbmdMb2NhbEpNU0Nvbm5lY3Rpb24odG9waWNOYW1lLCBjb25uZWN0aW9u
RmFjdG9yeU5hbWUsIGdldFJlbW90ZUNvbnRleHRQcm9wZXJ0aWVzKCksIGV4KTsNCisgICAgICAg
ICAgICB9IGVsc2Ugew0KKyAgICAgICAgICAgICAgICByY21FeGNlcHRpb24gPSBSZW1vdGVDb21t
YW5kTWFuYWdlckV4Y2VwdGlvbi5lcnJvckNyZWF0aW5nSk1TQ29ubmVjdGlvbih0b3BpY05hbWUs
IGNvbm5lY3Rpb25GYWN0b3J5TmFtZSwgZ2V0UmVtb3RlQ29udGV4dFByb3BlcnRpZXMoKSwgZXgp
Ow0KKyAgICAgICAgICAgIH0NCisgICAgICAgICAgICB0aHJvdyByY21FeGNlcHRpb247DQorICAg
ICAgICB9IGZpbmFsbHkgew0KKyAgICAgICAgICAgIGlmKHJlbW90ZUhvc3RDb250ZXh0ICE9IG51
bGwpIHsNCisgICAgICAgICAgICAgICAgdHJ5IHsNCisgICAgICAgICAgICAgICAgICAgIHJlbW90
ZUhvc3RDb250ZXh0LmNsb3NlKCk7DQorICAgICAgICAgICAgICAgIH0gY2F0Y2ggKE5hbWluZ0V4
Y2VwdGlvbiBuYW1pbmdFeGNlcHRpb24pIHsNCisgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9y
ZQ0KKyAgICAgICAgICAgICAgICB9DQorICAgICAgICAgICAgfQ0KKyAgICAgICAgfQ0KKyAgICB9
DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5BTDoNCisgICAgICogSk1TVG9waWNUcmFuc3Bv
cnRNYW5hZ2VyIGRvZXNuJ3QgdXNlIERpc2NvdmVyeU1hbmFnZXIsIHRoZXJlZm9yZQ0KKyAgICAg
KiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgZHVyaW5nIFJDTSBpbml0aWFsaXphdGlvbiB0byBjcmVh
dGUgYWxsIHRoZSBuZWNlc3NhcnkgY29ubmVjdGlvbnMuDQorICAgICAqLw0KKyAgICBwdWJsaWMg
dm9pZCBjcmVhdGVDb25uZWN0aW9ucygpIHsNCisgICAgICAgIGNyZWF0ZUV4dGVybmFsQ29ubmVj
dGlvbigpOw0KKyAgICAgICAgY3JlYXRlTG9jYWxDb25uZWN0aW9uKCk7DQorICAgIH0NCisNCisg
ICAgLyoqDQorICAgICAqIElOVEVSTkFMOg0KKyAgICAgKiBKTVNQdWJsaXNoaW5nVHJhbnNwb3J0
TWFuYWdlciBoYXMgbWF4aW11bSBvbmUgZXh0ZXJuYWwgY29ubmVjdGlvbi4NCisgICAgICogVmVy
aWZ5IHRoZXJlIGFyZSBubyBleHRlcm5hbCBjb25uZWN0aW9ucywNCisgICAgICogY3JlYXRlIGEg
bmV3IGV4dGVybmFsIGNvbm5lY3Rpb24sIA0KKyAgICAgKiBhZGQgaXQgdG8gZXh0ZXJuYWwgY29u
bmVjdGlvbnMnIG1hcC4NCisgICAgICovDQorICAgIHB1YmxpYyB2b2lkIGNyZWF0ZUV4dGVybmFs
Q29ubmVjdGlvbigpIHsNCisgICAgICAgIHN5bmNocm9uaXplZChjb25uZWN0aW9uc1RvRXh0ZXJu
YWxTZXJ2aWNlcykgew0KKyAgICAgICAgICAgIGlmKGNvbm5lY3Rpb25zVG9FeHRlcm5hbFNlcnZp
Y2VzLmlzRW1wdHkoKSkgew0KKyAgICAgICAgICAgICAgICB0cnkgew0KKyAgICAgICAgICAgICAg
ICAgICAgY29ubmVjdGlvbnNUb0V4dGVybmFsU2VydmljZXMucHV0KHJjbS5nZXRTZXJ2aWNlSWQo
KS5nZXRJZCgpLCBjcmVhdGVDb25uZWN0aW9uKGZhbHNlKSk7DQorICAgICAgICAgICAgICAgIH0g
Y2F0Y2ggKFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uIHJjbUV4Y2VwdGlvbikgew0KKyAg
ICAgICAgICAgICAgICAgICAgLy8gdG8gcmVjb3ZlciBoYW5kbGUgUmVtb3RlQ29tbWFuZE1hbmFn
ZXJFeGNlcHRpb24uRVJST1JfQ1JFQVRJTkdfSk1TX0NPTk5FQ1RJT046DQorICAgICAgICAgICAg
ICAgICAgICAvLyBhZnRlciBjaGFuZ2luZyBzb21ldGhpbmcgKGZvciBpbnN0YW5jZSBqbXNIb3N0
VXJsKQ0KKyAgICAgICAgICAgICAgICAgICAgLy8gY2FsbCBjcmVhdGVFeHRlcm5hbENvbm5lY3Rp
b24gbWV0aG9kIGFnYWluLg0KKyAgICAgICAgICAgICAgICAgICAgcmNtLmhhbmRsZUV4Y2VwdGlv
bihyY21FeGNlcHRpb24pOw0KKyAgICAgICAgICAgICAgICB9DQorICAgICAgICAgICAgfSAgICAg
ICAgICAgIA0KKyAgICAgICAgfQ0KKyAgICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5B
TDoNCisgICAgICogSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXIgaGFzIG9ubHkgdHdvIGNv
bm5lY3Rpb25zOiBvbmUgbG9jYWwgYW5kIG9uZSBleHRlcm5hbC4NCisgICAgICogSW4gY2FzZSB0
aGUgbG9jYWwgY29ubmVjdGlvbiBkb2Vzbid0IGV4aXN0LCB0aGlzIG1ldGhvZCBjcmVhdGVzIGl0
IGFuZCBob2xkcyBpdCB0byBiZSB1c2VkDQorICAgICAqIHdoZW4gcHJvY2Vzc2luZyBpbmNvbWlu
ZyBKTVMgbWVzc2FnZXMuICBUaGUgc3RvcmVkIGxvY2FsIGNvbm5lY3Rpb24gb24gSk1TUHVibGlz
aGluZ1RyYW5zcG9ydE1hbmFnZXINCisgICAgICogZG9lcyBub3QgY29ubmVjdCB0byB0b3BpY0Nv
bm5lY3Rpb24sIGFuZCBpbnN0ZWFkIG11c3QgYmUgdXNlZCBmcm9tIGFuIE1EQiB3aGVuIGEgbWVz
c2FnZSBpcyByZWNlaXZlZA0KKyAgICAgKi8NCisgICAgcHVibGljIHZvaWQgY3JlYXRlTG9jYWxD
b25uZWN0aW9uKCkgew0KKyAgICAgICAgaWYobG9jYWxDb25uZWN0aW9uID09IG51bGwpIHsNCisg
ICAgICAgICAgICBsb2NhbENvbm5lY3Rpb24gPSBuZXcgSk1TVG9waWNSZW1vdGVDb25uZWN0aW9u
KHJjbSk7DQorICAgICAgICB9DQorICAgIH0NCisgICAgDQorDQorICAgIC8qKg0KKyAgICAgKiBJ
TlRFUk5BTDoNCisgICAgICogSW4gY2FzZSB0aGVyZSdzIG5vIGV4dGVybmFsIGNvbm5lY3Rpb24g
YXR0ZW1wdHMgdG8gY3JlYXRlIG9uZS4NCisgICAgICogUmV0dXJucyBjbG9uZSBvZiB0aGUgb3Jp
Z2luYWwgbWFwLg0KKyAgICAgKi8NCisgICAgcHVibGljIEhhc2h0YWJsZSBnZXRDb25uZWN0aW9u
c1RvRXh0ZXJuYWxTZXJ2aWNlc0ZvckNvbW1hbmRQcm9wYWdhdGlvbigpIHsNCisgICAgICAgIGlm
KHRoaXMuZ2V0Q29ubmVjdGlvbnNUb0V4dGVybmFsU2VydmljZXMoKS5pc0VtcHR5KCkgJiYgIXRo
aXMucmNtLmlzU3RvcHBlZCgpKSB7DQorICAgICAgICAgICAgdGhpcy5jcmVhdGVFeHRlcm5hbENv
bm5lY3Rpb24oKTsNCisgICAgICAgIH0NCisgICAgICAgIHJldHVybiBzdXBlci5nZXRDb25uZWN0
aW9uc1RvRXh0ZXJuYWxTZXJ2aWNlc0ZvckNvbW1hbmRQcm9wYWdhdGlvbigpOw0KKyAgICB9DQor
ICAgIA0KKyAgICAvKioNCisgICAgICogUFVCTElDOg0KKyAgICAgKiBmbGFnIHVzZWQgdG8gdG9n
Z2xlIGJldHdlZW4gajJFRS9KTVMgc3BlYyBjb21wbGlhbnQgYmVoYXZpb3IgYW5kIGxlZ2FjeSBi
ZWhhdmlvci4gIERlZmF1bHQgdmFsdWUgZmFsc2UgY2F1c2VzIGV4dGVybmFsDQorICAgICAqICBK
TVNUb3BpY1JlbW90ZUNvbm5lY3Rpb24gdG8gY2FjaGUgdGhlIFRvcGljQ29ubmVjdGlvbkZhY3Rv
cnkgYW5kIG9idGFpbiBUb3BpY0Nvbm5lY3Rpb25zLCBUb3BpY1Nlc3Npb24gYW5kIFRvcGljUHVi
bGlzaGVycyANCisgICAgICogIGV2ZXJ5IHRpbWUgZXhlY3V0ZUNvbW1hbmQgaXMgY2FsbGVkLCBh
bmQgdGhlbiBjbG9zaW5nIHRoZW0gaW1tZWRpYXRlbHkuICBUaGlzIGlzIEpNUyBhbmQgSjJFRSBj
b21wbGlhbnQsIGFzIHRoZSBUb3BpY0Nvbm5lY3Rpb24NCisgICAgICogIGlzIG5ldmVyIHJldXNl
ZCBpbiBkaWZmZXJlbnQgdGhyZWFkcy4NCisgICAgICogVHJ1ZSBjYXVzZXMgVG9waWNDb25uZWN0
aW9uLCBUb3BpY1Nlc3Npb24gYW5kIFRvcGljUHVibGlzaGVyIHRvIGJlIGNhY2hlZCB3aXRoaW4g
dGhlIEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbiBhbmQgdXNlZCBmb3IgDQorICAgICAqICBldmVy
eSBleGVjdXRlQ29tbWFuZCBjYWxsLiAgVGhlc2Ugb2JqZWN0cyBjYW4gcG90ZW50aWFsbHkgdXNl
ZCBjb25jdXJyZW50bHksIHdoaWNoIHRoZSBKTVMgc3BlYyBkb2VzIG5vdCBmb3JjZSANCisgICAg
ICogIHByb3ZpZGVycyB0byBzdXBwb3J0LiAgDQorICAgICAqLw0KKyAgICBwdWJsaWMgYm9vbGVh
biBnZXRSZXVzZUpNU1RvcGljUHVibGlzaGVyKCl7DQorICAgICAgICByZXR1cm4gdGhpcy5yZXVz
ZUpNU1RvcGljUHVibGlzaGVyOw0KKyAgICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5B
TDoNCisgICAgICovDQorICAgIHByb3RlY3RlZCBUb3BpYyBnZXRUb3BpYyhDb250ZXh0IHJlbW90
ZUhvc3RDb250ZXh0KSB7DQorICAgICAgICB0cnkgew0KKyAgICAgICAgICAgIHJldHVybiAoVG9w
aWMpcmVtb3RlSG9zdENvbnRleHQubG9va3VwKHRvcGljTmFtZSk7DQorICAgICAgICB9IGNhdGNo
IChOYW1pbmdFeGNlcHRpb24gZSkgew0KKyAgICAgICAgICAgIFJlbW90ZUNvbW1hbmRNYW5hZ2Vy
RXhjZXB0aW9uIHJjbUV4Y2VwdGlvbiA9IFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLmVy
cm9yTG9va2luZ1VwUmVtb3RlQ29ubmVjdGlvbih0b3BpY05hbWUsIHJjbS5nZXRVcmwoKSwgZSk7
DQorICAgICAgICAgICAgcmNtLmhhbmRsZUV4Y2VwdGlvbihyY21FeGNlcHRpb24pOw0KKyAgICAg
ICAgICAgIC8vIElmIHRoZSBoYW5kbGVyIGhhc24ndCB0aHJvd24gdGhlIGV4Y2VwdGlvbiByZXRo
cm93IGl0IGhlcmUgLSBpdCdzIGltcG9zc2libGUgdG8gcmVjb3Zlci4NCisgICAgICAgICAgICB0
aHJvdyByY21FeGNlcHRpb247DQorICAgICAgICB9DQorICAgIH0NCisNCisgICAgLyoqDQorICAg
ICAqIElOVEVSTkFMOg0KKyAgICAgKi8NCisgICAgcHJvdGVjdGVkIFRvcGljQ29ubmVjdGlvbkZh
Y3RvcnkgZ2V0VG9waWNDb25uZWN0aW9uRmFjdG9yeShDb250ZXh0IHJlbW90ZUhvc3RDb250ZXh0
KSB7DQorICAgICAgICB0cnkgew0KKyAgICAgICAgICAgIHJldHVybiAoVG9waWNDb25uZWN0aW9u
RmFjdG9yeSlyZW1vdGVIb3N0Q29udGV4dC5sb29rdXAoY29ubmVjdGlvbkZhY3RvcnlOYW1lKTsN
CisgICAgICAgIH0gY2F0Y2ggKE5hbWluZ0V4Y2VwdGlvbiBlKSB7DQorICAgICAgICAgICAgUmVt
b3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24gcmNtRXhjZXB0aW9uID0gUmVtb3RlQ29tbWFuZE1h
bmFnZXJFeGNlcHRpb24uZXJyb3JMb29raW5nVXBSZW1vdGVDb25uZWN0aW9uKGNvbm5lY3Rpb25G
YWN0b3J5TmFtZSwgcmNtLmdldFVybCgpLCBlKTsNCisgICAgICAgICAgICByY20uaGFuZGxlRXhj
ZXB0aW9uKHJjbUV4Y2VwdGlvbik7DQorICAgICAgICAgICAgLy8gSWYgdGhlIGhhbmRsZXIgaGFz
bid0IHRocm93biB0aGUgZXhjZXB0aW9uIHJldGhyb3cgaXQgaGVyZSAtIGl0J3MgaW1wb3NzaWJs
ZSB0byByZWNvdmVyLg0KKyAgICAgICAgICAgIHRocm93IHJjbUV4Y2VwdGlvbjsNCisgICAgICAg
IH0NCisgICAgfQ0KKw0KKyAgICAvKioNCisgICAgICogUFVCTElDOg0KKyAgICAgKiBSZXR1cm4g
dGhlIEpNUyBUb3BpYyBDb25uZWN0aW9uIEZhY3RvcnkgTmFtZSBmb3IgdGhlIEpNUyBUb3BpYyBj
b25uZWN0aW9ucy4NCisgICAgICovDQorICAgIHB1YmxpYyBTdHJpbmcgZ2V0VG9waWNDb25uZWN0
aW9uRmFjdG9yeU5hbWUoKSB7DQorICAgICAgICByZXR1cm4gY29ubmVjdGlvbkZhY3RvcnlOYW1l
Ow0KKyAgICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBQVUJMSUM6DQorICAgICAqIFJldHVybiB0
aGUgVVJMIG9mIHRoZSBtYWNoaW5lIG9uIHRoZSBuZXR3b3JrIHRoYXQgaG9zdHMgdGhlIEpNUyBU
b3BpYy4gIFRoaXMgaXMgYSByZXF1aXJlZCBwcm9wZXJ0eSBhbmQgbXVzdCBiZSBjb25maWd1cmVk
Lg0KKyAgICAgKi8NCisgICAgcHVibGljIFN0cmluZyBnZXRUb3BpY0hvc3RVcmwoKSB7DQorICAg
ICAgICByZXR1cm4gKFN0cmluZylnZXRSZW1vdGVDb250ZXh0UHJvcGVydGllcygpLmdldChDb250
ZXh0LlBST1ZJREVSX1VSTCk7DQorICAgIH0NCisNCisgICAgLyoqDQorICAgICAqIElOVEVSTkFM
Og0KKyAgICAgKiBJbml0aWFsaXplIGRlZmF1bHQgcHJvcGVydGllcy4NCisgICAgICovDQorICAg
IHB1YmxpYyB2b2lkIGluaXRpYWxpemUoKSB7DQorICAgICAgICBzdXBlci5pbml0aWFsaXplKCk7
DQorICAgICAgICB0b3BpY05hbWUgPSBERUZBVUxUX1RPUElDOw0KKyAgICAgICAgY29ubmVjdGlv
bkZhY3RvcnlOYW1lID0gREVGQVVMVF9DT05ORUNUSU9OX0ZBQ1RPUlk7DQorICAgIH0NCisNCisg
ICAgLyoqDQorICAgICAqIElOVEVSTkFMOg0KKyAgICAgKiBOby1vcCwgYXMgdGhlIGxvY2FsIGNv
bm5lY3Rpb24gZG9lcyBub3QgbmVlZCB0byBiZSByZW1vdmVkIGZyb20gSk1TUHVibGlzaGluZ1Ry
YW5zcG9ydE1hbmFnZXIuDQorICAgICAqIEFuIGFwcGxpY2F0aW9uIG11c3QgY2xvc2UgdGhlIGNv
bm5lY3Rpb24gZGlyZWN0bHkgaWYgaXQgaXMgdXNpbmcgdGhlIGxvY2FsIGNvbm5lY3Rpb24gYXMg
YSBsaXN0ZW5lci4NCisgICAgICovDQorICAgIHB1YmxpYyB2b2lkIHJlbW92ZUxvY2FsQ29ubmVj
dGlvbigpIHt9DQorDQorICAgIC8qKg0KKyAgICAgKiBBRFZBTkNFRDoNCisgICAgICogVGhpcyBm
dW5jdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGZvciBuYW1pbmcgc2VydmljZSBvdGhlciB0aGFuIEpO
REkgb3IgVHJhbnNwb3J0TWFuYWdlci5KTkRJX05BTUlOR19TRVJWSUNFLg0KKyAgICAgKi8NCisg
ICAgcHVibGljIHZvaWQgc2V0TmFtaW5nU2VydmljZVR5cGUoaW50IHNlcnZpY2VUeXBlKSB7DQor
ICAgICAgICBpZiAoc2VydmljZVR5cGUgIT0gVHJhbnNwb3J0TWFuYWdlci5KTkRJX05BTUlOR19T
RVJWSUNFKSB7DQorICAgICAgICAgICAgdGhyb3cgVmFsaWRhdGlvbkV4Y2VwdGlvbi5vcGVyYXRp
b25Ob3RTdXBwb3J0ZWQoInNldE5hbWluZ1NlcnZpY2VUeXBlIik7DQorICAgICAgICB9DQorICAg
IH0NCisgICAgDQorICAgIC8qKg0KKyAgICAgKiBQVUJMSUM6DQorICAgICAqIGZsYWcgdXNlZCB0
byB0b2dnbGUgYmV0d2VlbiBqMkVFL0pNUyBzcGVjIGNvbXBsaWFudCBiZWhhdmlvciBhbmQgbGVn
YWN5IGJlaGF2aW9yLiAgRGVmYXVsdCB2YWx1ZSBmYWxzZSBjYXVzZXMgZXh0ZXJuYWwNCisgICAg
ICogIEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbiB0byBjYWNoZSB0aGUgVG9waWNDb25uZWN0aW9u
RmFjdG9yeSBhbmQgb2J0YWluIFRvcGljQ29ubmVjdGlvbnMsIFRvcGljU2Vzc2lvbiBhbmQgVG9w
aWNQdWJsaXNoZXJzIA0KKyAgICAgKiAgZXZlcnkgdGltZSBleGVjdXRlQ29tbWFuZCBpcyBjYWxs
ZWQsIGFuZCB0aGVuIGNsb3NpbmcgdGhlbSBpbW1lZGlhdGVseS4gIFRoaXMgaXMgSk1TIGFuZCBK
MkVFIGNvbXBsaWFudCwgYXMgdGhlIFRvcGljQ29ubmVjdGlvbg0KKyAgICAgKiAgaXMgbmV2ZXIg
cmV1c2VkIGluIGRpZmZlcmVudCB0aHJlYWRzLg0KKyAgICAgKiBUcnVlIGNhdXNlcyBUb3BpY0Nv
bm5lY3Rpb24sIFRvcGljU2Vzc2lvbiBhbmQgVG9waWNQdWJsaXNoZXIgdG8gYmUgY2FjaGVkIHdp
dGhpbiB0aGUgSk1TVG9waWNSZW1vdGVDb25uZWN0aW9uIGFuZCB1c2VkIGZvciANCisgICAgICog
IGV2ZXJ5IGV4ZWN1dGVDb21tYW5kIGNhbGwuICBUaGVzZSBvYmplY3RzIGNhbiBwb3RlbnRpYWxs
eSB1c2VkIGNvbmN1cnJlbnRseSwgd2hpY2ggdGhlIEpNUyBzcGVjIGRvZXMgbm90IGZvcmNlIA0K
KyAgICAgKiAgcHJvdmlkZXJzIHRvIHN1cHBvcnQuICANCisgICAgICogIA0KKyAgICAgKiAgQHBh
cmFtIHJldXNlSk1TVG9waWNQdWJsaXNoZXINCisgICAgICovDQorICAgIHB1YmxpYyB2b2lkIHNl
dFNob3VsZFJldXNlSk1TVG9waWNQdWJsaXNoZXIoYm9vbGVhbiByZXVzZUpNU1RvcGljUHVibGlz
aGVyKXsNCisgICAgICAgIHRoaXMucmV1c2VKTVNUb3BpY1B1Ymxpc2hlciA9IHJldXNlSk1TVG9w
aWNQdWJsaXNoZXI7DQorICAgIH0NCisNCisgICAgLyoqDQorICAgICAqIFBVQkxJQzoNCisgICAg
ICogQ29uZmlndXJlIHRoZSBKTVMgVG9waWMgQ29ubmVjdGlvbiBGYWN0b3J5IE5hbWUgZm9yIHRo
ZSBKTVMgVG9waWMgY29ubmVjdGlvbnMuDQorICAgICAqLw0KKyAgICBwdWJsaWMgdm9pZCBzZXRU
b3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZShTdHJpbmcgbmV3VG9waWNDb25uZWN0aW9uRmFjdG9y
eU5hbWUpIHsNCisgICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5TmFtZSA9IG5ld1RvcGljQ29ubmVj
dGlvbkZhY3RvcnlOYW1lOw0KKyAgICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBQVUJMSUM6DQor
ICAgICAqIENvbmZpZ3VyZSB0aGUgVVJMIG9mIHRoZSBtYWNoaW5lIG9uIHRoZSBuZXR3b3JrIHRo
YXQgaG9zdHMgdGhlIEpNUyBUb3BpYy4gVGhpcyBpcyBhIHJlcXVpcmVkIHByb3BlcnR5IGFuZCBt
dXN0IGJlIGNvbmZpZ3VyZWQuDQorICAgICAqLw0KKyAgICBwdWJsaWMgdm9pZCBzZXRUb3BpY0hv
c3RVcmwoU3RyaW5nIGptc0hvc3RVcmwpIHsNCisgICAgICAgIGdldFJlbW90ZUNvbnRleHRQcm9w
ZXJ0aWVzKCkucHV0KENvbnRleHQuUFJPVklERVJfVVJMLCBqbXNIb3N0VXJsKTsNCisgICAgICAg
IHJjbS5nZXRTZXJ2aWNlSWQoKS5zZXRVUkwoam1zSG9zdFVybCk7DQorICAgIH0NCit9ICANCklu
ZGV4OiBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xp
cHNlL3BlcnNpc3RlbmNlL3Nlc3Npb25zL2Nvb3JkaW5hdGlvbi9qbXMvSk1TVG9waWNUcmFuc3Bv
cnRNYW5hZ2VyLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tLSBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBl
cnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL3Nlc3Npb25zL2Nvb3Jk
aW5hdGlvbi9qbXMvSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyLmphdmEJKHJldmlzaW9uIDY0NjIp
DQorKysgZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNs
aXBzZS9wZXJzaXN0ZW5jZS9zZXNzaW9ucy9jb29yZGluYXRpb24vam1zL0pNU1RvcGljVHJhbnNw
b3J0TWFuYWdlci5qYXZhCSh3b3JraW5nIGNvcHkpDQpAQCAtOSwyNSArOSwxOSBAQA0KICAqDQog
ICogQ29udHJpYnV0b3JzOg0KICAqICAgICBPcmFjbGUgLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVt
ZW50YXRpb24gZnJvbSBPcmFjbGUgVG9wTGluaw0KKyAqICAgICBjZGVsYWh1biAtIEJ1ZyAyMTQ1
MzQ6IGFkZGVkIEpNUyBDYWNoZSBDb29yZGluYXRpb24gZm9yIHB1Ymxpc2hpbmcgb25seQ0KICAq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKiovICANCiBwYWNrYWdlIG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNl
LnNlc3Npb25zLmNvb3JkaW5hdGlvbi5qbXM7DQogDQogaW1wb3J0IGphdmEudXRpbC5IYXNodGFi
bGU7DQotaW1wb3J0IGphdmF4Lm5hbWluZy5Db250ZXh0Ow0KLWltcG9ydCBqYXZheC5uYW1pbmcu
TmFtaW5nRXhjZXB0aW9uOw0KLWltcG9ydCBqYXZheC5qbXMuVG9waWM7DQotaW1wb3J0IGphdmF4
Lmptcy5Ub3BpY0Nvbm5lY3Rpb247DQotaW1wb3J0IGphdmF4Lmptcy5Ub3BpY0Nvbm5lY3Rpb25G
YWN0b3J5Ow0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5leGNlcHRpb25zLlJlbW90
ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5j
ZS5leGNlcHRpb25zLlZhbGlkYXRpb25FeGNlcHRpb247DQogaW1wb3J0IG9yZy5lY2xpcHNlLnBl
cnNpc3RlbmNlLmludGVybmFsLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5qbXMuSk1TVG9waWNSZW1v
dGVDb25uZWN0aW9uOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5j
b29yZGluYXRpb24uYnJvYWRjYXN0LkJyb2FkY2FzdFRyYW5zcG9ydE1hbmFnZXI7DQogaW1wb3J0
IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5SZW1vdGVDb21t
YW5kTWFuYWdlcjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuY29v
cmRpbmF0aW9uLlRyYW5zcG9ydE1hbmFnZXI7DQogDQogLyoqDQogICogPHA+DQotICogPGI+UHVy
cG9zZTwvYj46IFByb3ZpZGUgYSBKTVMgdHJhbnNwb3J0IGltcGxlbWVudGF0aW9uIGZvciB0aGUg
UmVtb3RlIENvbW1hbmQgTW9kdWxlIChSQ00pLg0KKyAqIDxiPlB1cnBvc2U8L2I+OiBQcm92aWRl
IGEgdHJhbnNwb3J0IGltcGxlbWVudGF0aW9uIGZvciB0aGUgUmVtb3RlIENvbW1hbmQgTW9kdWxl
IChSQ00pIHRoYXQgYm90aCBwdWJsaXNoZXMNCisgKiBhbmQgc3Vic2NyaWJlcyB0byBhIEpNUyB0
b3BpYy4gIA0KICAqIDxwPg0KICAqIDxiPkRlc2NyaXB0aW9uPC9iPjogVGhpcyBjbGFzcyBtYW5h
Z2VzIHR3byBjb25uZWN0aW9ucyB0byB0aGUgc2FtZSBrbm93biBKTVMgVG9waWM6DQogICogZXh0
ZXJuYWwgY29ubmVjdGlvbiBmb3IgcHVibGlzaGluZywgbG9jYWwgY29ubmVjdGlvbiBmb3IgcmVj
ZWl2aW5nIG1lc3NhZ2VzLg0KQEAgLTM1LDQwICsyOSwxNCBAQA0KICAqIEBhdXRob3IgU3RldmVu
IFZvDQogICogQHNpbmNlIE9yYWNsZUFTIFRvcExpbmsgMTA8aT5nPC9pPiAoMTAuMC4zKQ0KICAq
Lw0KLXB1YmxpYyBjbGFzcyBKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXIgZXh0ZW5kcyBCcm9hZGNh
c3RUcmFuc3BvcnRNYW5hZ2VyIHsNCi0gICAgcHJvdGVjdGVkIFN0cmluZyBjb25uZWN0aW9uRmFj
dG9yeU5hbWU7DQorcHVibGljIGNsYXNzIEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlciBleHRlbmRz
IEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyIHsNCiANCi0gICAgcHVibGljIHN0YXRpYyBm
aW5hbCBTdHJpbmcgREVGQVVMVF9UT1BJQyA9ICJqbXMvRWNsaXBzZUxpbmtUb3BpYyI7DQotICAg
IHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIERFRkFVTFRfQ09OTkVDVElPTl9GQUNUT1JZID0g
Imptcy9FY2xpcHNlTGlua1RvcGljQ29ubmVjdGlvbkZhY3RvcnkiOw0KLQ0KICAgICBwdWJsaWMg
Sk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyKFJlbW90ZUNvbW1hbmRNYW5hZ2VyIHJjbSkgew0KICAg
ICAgICAgc3VwZXIocmNtKTsNCiAgICAgfQ0KLQ0KKyAgICANCiAgICAgLyoqDQogICAgICAqIElO
VEVSTkFMOg0KLSAgICAgKiBKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXIgaGFzIG1heGltdW0gb25l
IGV4dGVybmFsIGNvbm5lY3Rpb24uDQotICAgICAqIFZlcmlmeSB0aGVyZSBhcmUgbm8gZXh0ZXJu
YWwgY29ubmVjdGlvbnMsDQotICAgICAqIGNyZWF0ZSBhIG5ldyBleHRlcm5hbCBjb25uZWN0aW9u
LCANCi0gICAgICogYWRkIGl0IHRvIGV4dGVybmFsIGNvbm5lY3Rpb25zJyBtYXAuDQotICAgICAq
Lw0KLSAgICBwdWJsaWMgdm9pZCBjcmVhdGVFeHRlcm5hbENvbm5lY3Rpb24oKSB7DQotICAgICAg
ICBzeW5jaHJvbml6ZWQoY29ubmVjdGlvbnNUb0V4dGVybmFsU2VydmljZXMpIHsNCi0gICAgICAg
ICAgICBpZihjb25uZWN0aW9uc1RvRXh0ZXJuYWxTZXJ2aWNlcy5pc0VtcHR5KCkpIHsNCi0gICAg
ICAgICAgICAgICAgdHJ5IHsNCi0gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zVG9FeHRl
cm5hbFNlcnZpY2VzLnB1dChyY20uZ2V0U2VydmljZUlkKCkuZ2V0SWQoKSwgY3JlYXRlQ29ubmVj
dGlvbihmYWxzZSkpOw0KLSAgICAgICAgICAgICAgICB9IGNhdGNoIChSZW1vdGVDb21tYW5kTWFu
YWdlckV4Y2VwdGlvbiByY21FeGNlcHRpb24pIHsNCi0gICAgICAgICAgICAgICAgICAgIC8vIHRv
IHJlY292ZXIgaGFuZGxlIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLkVSUk9SX0NSRUFU
SU5HX0pNU19DT05ORUNUSU9OOg0KLSAgICAgICAgICAgICAgICAgICAgLy8gYWZ0ZXIgY2hhbmdp
bmcgc29tZXRoaW5nIChmb3IgaW5zdGFuY2Ugam1zSG9zdFVybCkNCi0gICAgICAgICAgICAgICAg
ICAgIC8vIGNhbGwgY3JlYXRlRXh0ZXJuYWxDb25uZWN0aW9uIG1ldGhvZCBhZ2Fpbi4NCi0gICAg
ICAgICAgICAgICAgICAgIHJjbS5oYW5kbGVFeGNlcHRpb24ocmNtRXhjZXB0aW9uKTsNCi0gICAg
ICAgICAgICAgICAgfQ0KLSAgICAgICAgICAgIH0gICAgICAgICAgICANCi0gICAgICAgIH0NCi0g
ICAgfQ0KLQ0KLSAgICAvKioNCi0gICAgICogSU5URVJOQUw6DQogICAgICAqIEpNU1RvcGljVHJh
bnNwb3J0TWFuYWdlciBtYXkgaGF2ZSBvbmx5IHR3byBjb25uZWN0aW9uczogb25lIGxvY2FsIGFu
ZCBvbmUgZXh0ZXJuYWwuDQogICAgICAqIEluIGNhc2UgdGhlIGxvY2FsIGNvbm5lY3Rpb24gZG9l
c24ndCBleGlzdCwgdGhpcyBtZXRob2QgY3JlYXRlcyBpdC4NCiAgICAgICovDQpAQCAtODcsMzUg
KzU1LDI3IEBADQogDQogICAgIC8qKg0KICAgICAgKiBJTlRFUk5BTDoNCi0gICAgICogVGhpcyBt
ZXRob2QgY3JlYXRlcyBKTVNUb3BpY1JlbW90ZUNvbm5lY3Rpb24gdG8gYmUgdXNlZCBieSB0aGlz
IFRyYW5zcG9ydE1hbmFnZXIuDQotICAgICAqIERvbid0IGNvbmZ1c2UgdGhpcyBtZXRob2Qgd2l0
aCBuby1vcCBjcmVhdGVDb25uZWN0aW9uKFNlcnZpY2VJZCBzZXJ2aWNlSWQpLg0KKyAgICAgKiBJ
biBjYXNlIHRoZXJlJ3Mgbm8gZXh0ZXJuYWwgY29ubmVjdGlvbiBhdHRlbXB0cyB0byBjcmVhdGUg
b25lLA0KKyAgICAgKiBpZiB0aGF0J3Mgc3VjY2Vzc2Z1bCB0aGVuIChpbiBjYXNlIHRoZXJlIGlz
IG5vIGxvY2FsIGNvbm5lY3Rpb24sIHRvbykNCisgICAgICogYXR0ZW1wdHMgdG8gY3JlYXRlIGxv
Y2FsIGNvbm5lY3Rpb24gaW4gYSBzZXBhcmF0ZSB0aHJlYWQuDQorICAgICAqIFJldHVybnMgY2xv
bmUgb2YgdGhlIG9yaWdpbmFsIG1hcC4NCiAgICAgICovDQotICAgIHByb3RlY3RlZCBKTVNUb3Bp
Y1JlbW90ZUNvbm5lY3Rpb24gY3JlYXRlQ29ubmVjdGlvbihib29sZWFuIGlzTG9jYWxDb25uZWN0
aW9uQmVpbmdDcmVhdGVkKSB0aHJvd3MgUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24gew0K
LSAgICAgICAgQ29udGV4dCByZW1vdGVIb3N0Q29udGV4dCA9IG51bGw7DQotICAgICAgICB0cnkg
ew0KLSAgICAgICAgICAgIHJlbW90ZUhvc3RDb250ZXh0ID0gZ2V0UmVtb3RlSG9zdENvbnRleHQo
Z2V0VG9waWNIb3N0VXJsKCkpOw0KLSAgICAgICAgICAgIFRvcGljQ29ubmVjdGlvbkZhY3Rvcnkg
Y29ubmVjdGlvbkZhY3RvcnkgPSBnZXRUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5KHJlbW90ZUhvc3RD
b250ZXh0KTsNCi0gICAgICAgICAgICBUb3BpYyB0b3BpYyA9IGdldFRvcGljKHJlbW90ZUhvc3RD
b250ZXh0KTsgICAgDQotICAgICAgICAgICAgVG9waWNDb25uZWN0aW9uIHRvcGljQ29ubmVjdGlv
biA9IGNvbm5lY3Rpb25GYWN0b3J5LmNyZWF0ZVRvcGljQ29ubmVjdGlvbigpOw0KLSAgICAgICAg
ICAgIC8vIGV4dGVybmFsIGNvbm5lY3Rpb24gaXMgYSBwdWlibGlzaGVyOyBsb2NhbCBjb25uZWN0
aW9uIGlzIGEgc3Vic2NyaWJlcg0KLSAgICAgICAgICAgIHJldHVybiBuZXcgSk1TVG9waWNSZW1v
dGVDb25uZWN0aW9uKHJjbSwgdG9waWNDb25uZWN0aW9uLCB0b3BpYywgaXNMb2NhbENvbm5lY3Rp
b25CZWluZ0NyZWF0ZWQpOw0KLSAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7DQotICAg
ICAgICAgICAgUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24gcmNtRXhjZXB0aW9uOw0KLSAg
ICAgICAgICAgIGlmKGlzTG9jYWxDb25uZWN0aW9uQmVpbmdDcmVhdGVkKSB7DQotICAgICAgICAg
ICAgICAgIHJjbUV4Y2VwdGlvbiA9IFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLmVycm9y
Q3JlYXRpbmdMb2NhbEpNU0Nvbm5lY3Rpb24odG9waWNOYW1lLCBjb25uZWN0aW9uRmFjdG9yeU5h
bWUsIGdldFJlbW90ZUNvbnRleHRQcm9wZXJ0aWVzKCksIGV4KTsNCi0gICAgICAgICAgICB9IGVs
c2Ugew0KLSAgICAgICAgICAgICAgICByY21FeGNlcHRpb24gPSBSZW1vdGVDb21tYW5kTWFuYWdl
ckV4Y2VwdGlvbi5lcnJvckNyZWF0aW5nSk1TQ29ubmVjdGlvbih0b3BpY05hbWUsIGNvbm5lY3Rp
b25GYWN0b3J5TmFtZSwgZ2V0UmVtb3RlQ29udGV4dFByb3BlcnRpZXMoKSwgZXgpOw0KLSAgICAg
ICAgICAgIH0NCi0gICAgICAgICAgICB0aHJvdyByY21FeGNlcHRpb247DQotICAgICAgICB9IGZp
bmFsbHkgew0KLSAgICAgICAgICAgIGlmKHJlbW90ZUhvc3RDb250ZXh0ICE9IG51bGwpIHsNCi0g
ICAgICAgICAgICAgICAgdHJ5IHsNCi0gICAgICAgICAgICAgICAgICAgIHJlbW90ZUhvc3RDb250
ZXh0LmNsb3NlKCk7DQotICAgICAgICAgICAgICAgIH0gY2F0Y2ggKE5hbWluZ0V4Y2VwdGlvbiBu
YW1pbmdFeGNlcHRpb24pIHsNCi0gICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZQ0KKyAgICBw
dWJsaWMgSGFzaHRhYmxlIGdldENvbm5lY3Rpb25zVG9FeHRlcm5hbFNlcnZpY2VzRm9yQ29tbWFu
ZFByb3BhZ2F0aW9uKCkgew0KKyAgICAgICAgaWYodGhpcy5sb2NhbENvbm5lY3Rpb24gPT0gbnVs
bCAmJiAhdGhpcy5yY20uaXNTdG9wcGVkKCkpIHsNCisgICAgICAgICAgICAvLyBJdCdzIGEgZ29v
ZCB0aW1lIHRvIGNyZWF0ZSBsb2NhbENvbm5lY3Rpb24sDQorICAgICAgICAgICAgLy8gaW4gYSBu
ZXcgdGhyZWFkIC0gdG8gcmV0dXJuIGV4dGVybmFsQ29ubmVjdGlvbnMgcHJvbXB0bHkuDQorICAg
ICAgICAgICAgdGhpcy5yY20uZ2V0U2VydmVyUGxhdGZvcm0oKS5sYXVuY2hDb250YWluZXJSdW5u
YWJsZShuZXcgUnVubmFibGUoKSB7DQorICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHJ1bigp
IHsNCisgICAgICAgICAgICAgICAgICAgIHRyeSB7DQorICAgICAgICAgICAgICAgICAgICAgICAg
Y3JlYXRlTG9jYWxDb25uZWN0aW9uKCk7DQorICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChS
ZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbiBleCkgew0KKyAgICAgICAgICAgICAgICAgICAg
ICAgIC8vIElnbm9yZSBleGNlcHRpb24gLSB1c2VyIGhhZCBhIGNoYW5jZSB0byBoYW5kbGUgaXQg
aW4gY3JlYXRlTG9jYWxDb25uZWN0aW9uIG1ldGhvZDoNCisgICAgICAgICAgICAgICAgICAgICAg
ICAvLyBmb3IgaW5zdGFuY2UgdG8gY2hhbmdlIGhvc3QgdXJsIGFuZCBjcmVhdGUgYSBuZXcgbG9j
YWwgY29ubmVjdGlvbi4NCisgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAg
fQ0KLSAgICAgICAgICAgIH0NCisgICAgICAgICAgICB9KTsNCiAgICAgICAgIH0NCisgICAgICAg
IHJldHVybiBzdXBlci5nZXRDb25uZWN0aW9uc1RvRXh0ZXJuYWxTZXJ2aWNlc0ZvckNvbW1hbmRQ
cm9wYWdhdGlvbigpOw0KICAgICB9DQogICAgIA0KICAgICAvKioNCkBAIC0xMzEsMTI4ICs5MSw5
IEBADQogICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25Ub1JlbW92ZSA9IG51bGw7DQogICAgICAg
ICAgICAgfQ0KICAgICAgICAgfQ0KLSAgICAgICAgLy8gY2xvc2luZyBjb25uZWN0aW9uIG1heSB0
YWtlIHRpbWUgLSBkbyBpdCBvdXRzaWRlIG9mIHRoZSBzeW5jaHJvbnplZCBibG9jaw0KKyAgICAg
ICAgLy8gY2xvc2luZyBjb25uZWN0aW9uIG1heSB0YWtlIHRpbWUgLSBkbyBpdCBvdXRzaWRlIG9m
IHRoZSBzeW5jaHJvbml6ZWQgYmxvY2sNCiAgICAgICAgIGlmKGNvbm5lY3Rpb25Ub1JlbW92ZSAh
PSBudWxsKSB7DQogICAgICAgICAgICAgY29ubmVjdGlvblRvUmVtb3ZlLmNsb3NlKCk7DQogICAg
ICAgICB9DQogICAgIH0NCi0NCi0gICAgLyoqDQotICAgICAqIElOVEVSTkFMOg0KLSAgICAgKiBK
TVRvcGljVHJhbnNwb3J0TWFuYWdlciBkb2Vzbid0IHVzZSBEaXNjb3ZlcnlNYW5hZ2VyLCB0aGVy
ZWZvcmUNCi0gICAgICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIGR1cmluZyBSQ00gaW5pdGlhbGl6
YXRpb24gdG8gY3JlYXRlIGFsbCB0aGUgbmVjZXNzYXJ5IGNvbm5lY3Rpb25zLg0KLSAgICAgKi8N
Ci0gICAgcHVibGljIHZvaWQgY3JlYXRlQ29ubmVjdGlvbnMoKSB7DQotICAgICAgICBjcmVhdGVF
eHRlcm5hbENvbm5lY3Rpb24oKTsNCi0gICAgICAgIGNyZWF0ZUxvY2FsQ29ubmVjdGlvbigpOw0K
LSAgICB9DQotDQotICAgIC8qKg0KLSAgICAgKiBQVUJMSUM6DQotICAgICAqIENvbmZpZ3VyZSB0
aGUgSk1TIFRvcGljIENvbm5lY3Rpb24gRmFjdG9yeSBOYW1lIGZvciB0aGUgSk1TIFRvcGljIGNv
bm5lY3Rpb25zLg0KLSAgICAgKi8NCi0gICAgcHVibGljIHZvaWQgc2V0VG9waWNDb25uZWN0aW9u
RmFjdG9yeU5hbWUoU3RyaW5nIG5ld1RvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lKSB7DQotICAg
ICAgICBjb25uZWN0aW9uRmFjdG9yeU5hbWUgPSBuZXdUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFt
ZTsNCi0gICAgfQ0KLQ0KLSAgICAvKioNCi0gICAgICogUFVCTElDOg0KLSAgICAgKiBSZXR1cm4g
dGhlIEpNUyBUb3BpYyBDb25uZWN0aW9uIEZhY3RvcnkgTmFtZSBmb3IgdGhlIEpNUyBUb3BpYyBj
b25uZWN0aW9ucy4NCi0gICAgICovDQotICAgIHB1YmxpYyBTdHJpbmcgZ2V0VG9waWNDb25uZWN0
aW9uRmFjdG9yeU5hbWUoKSB7DQotICAgICAgICByZXR1cm4gY29ubmVjdGlvbkZhY3RvcnlOYW1l
Ow0KLSAgICB9DQotDQotICAgIC8qKg0KLSAgICAgKiBJTlRFUk5BTDoNCi0gICAgICogSW5pdGlh
bGl6ZSBkZWZhdWx0IHByb3BlcnRpZXMuDQotICAgICAqLw0KLSAgICBwdWJsaWMgdm9pZCBpbml0
aWFsaXplKCkgew0KLSAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZSgpOw0KLSAgICAgICAgdG9waWNO
YW1lID0gREVGQVVMVF9UT1BJQzsNCi0gICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5TmFtZSA9IERF
RkFVTFRfQ09OTkVDVElPTl9GQUNUT1JZOw0KLSAgICB9DQotDQotICAgIC8qKg0KLSAgICAgKiBQ
VUJMSUM6DQotICAgICAqIFJldHVybiB0aGUgVVJMIG9mIHRoZSBtYWNoaW5lIG9uIHRoZSBuZXR3
b3JrIHRoYXQgaG9zdHMgdGhlIEpNUyBUb3BpYy4gIFRoaXMgaXMgYSByZXF1aXJlZCBwcm9wZXJ0
eSBhbmQgbXVzdCBiZSBjb25maWd1cmVkLg0KLSAgICAgKi8NCi0gICAgcHVibGljIFN0cmluZyBn
ZXRUb3BpY0hvc3RVcmwoKSB7DQotICAgICAgICByZXR1cm4gKFN0cmluZylnZXRSZW1vdGVDb250
ZXh0UHJvcGVydGllcygpLmdldChDb250ZXh0LlBST1ZJREVSX1VSTCk7DQotICAgIH0NCi0NCi0g
ICAgLyoqDQotICAgICAqIFBVQkxJQzoNCi0gICAgICogQ29uZmlndXJlIHRoZSBVUkwgb2YgdGhl
IG1hY2hpbmUgb24gdGhlIG5ldHdvcmsgdGhhdCBob3N0cyB0aGUgSk1TIFRvcGljLiBUaGlzIGlz
IGEgcmVxdWlyZWQgcHJvcGVydHkgYW5kIG11c3QgYmUgY29uZmlndXJlZC4NCi0gICAgICovDQot
ICAgIHB1YmxpYyB2b2lkIHNldFRvcGljSG9zdFVybChTdHJpbmcgam1zSG9zdFVybCkgew0KLSAg
ICAgICAgZ2V0UmVtb3RlQ29udGV4dFByb3BlcnRpZXMoKS5wdXQoQ29udGV4dC5QUk9WSURFUl9V
UkwsIGptc0hvc3RVcmwpOw0KLSAgICAgICAgcmNtLmdldFNlcnZpY2VJZCgpLnNldFVSTChqbXNI
b3N0VXJsKTsNCi0gICAgfQ0KLQ0KLSAgICAvKioNCi0gICAgICogQURWQU5DRUQ6DQotICAgICAq
IFRoaXMgZnVuY2F0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIG5hbWluZyBzZXJ2aWNlIG90aGVy
IHRoYW4gSk5ESSBvciBUcmFuc3BvcnRNYW5hZ2VyLkpORElfTkFNSU5HX1NFUlZJQ0UuDQotICAg
ICAqLw0KLSAgICBwdWJsaWMgdm9pZCBzZXROYW1pbmdTZXJ2aWNlVHlwZShpbnQgc2VydmljZVR5
cGUpIHsNCi0gICAgICAgIGlmIChzZXJ2aWNlVHlwZSAhPSBUcmFuc3BvcnRNYW5hZ2VyLkpORElf
TkFNSU5HX1NFUlZJQ0UpIHsNCi0gICAgICAgICAgICB0aHJvdyBWYWxpZGF0aW9uRXhjZXB0aW9u
Lm9wZXJhdGlvbk5vdFN1cHBvcnRlZCgic2V0TmFtaW5nU2VydmljZVR5cGUiKTsNCi0gICAgICAg
IH0NCi0gICAgfQ0KLQ0KLSAgICAvKioNCi0gICAgICogSU5URVJOQUw6DQotICAgICAqLw0KLSAg
ICBwcm90ZWN0ZWQgVG9waWMgZ2V0VG9waWMoQ29udGV4dCByZW1vdGVIb3N0Q29udGV4dCkgew0K
LSAgICAgICAgdHJ5IHsNCi0gICAgICAgICAgICByZXR1cm4gKFRvcGljKXJlbW90ZUhvc3RDb250
ZXh0Lmxvb2t1cCh0b3BpY05hbWUpOw0KLSAgICAgICAgfSBjYXRjaCAoTmFtaW5nRXhjZXB0aW9u
IGUpIHsNCi0gICAgICAgICAgICBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbiByY21FeGNl
cHRpb24gPSBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbi5lcnJvckxvb2tpbmdVcFJlbW90
ZUNvbm5lY3Rpb24odG9waWNOYW1lLCByY20uZ2V0VXJsKCksIGUpOw0KLSAgICAgICAgICAgIHJj
bS5oYW5kbGVFeGNlcHRpb24ocmNtRXhjZXB0aW9uKTsNCi0gICAgICAgICAgICAvLyBJZiB0aGUg
aGFuZGxlciBoYXNuJ3QgdGhyb3duIHRoZSBleGNlcHRpb24gcmV0aHJvdyBpdCBoZXJlIC0gaXQn
cyBpbXBvc3NpYmxlIHRvIHJlY292ZXIuDQotICAgICAgICAgICAgdGhyb3cgcmNtRXhjZXB0aW9u
Ow0KLSAgICAgICAgfQ0KLSAgICB9DQotDQotICAgIC8qKg0KLSAgICAgKiBJTlRFUk5BTDoNCi0g
ICAgICovDQotICAgIHByb3RlY3RlZCBUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5IGdldFRvcGljQ29u
bmVjdGlvbkZhY3RvcnkoQ29udGV4dCByZW1vdGVIb3N0Q29udGV4dCkgew0KLSAgICAgICAgdHJ5
IHsNCi0gICAgICAgICAgICByZXR1cm4gKFRvcGljQ29ubmVjdGlvbkZhY3RvcnkpcmVtb3RlSG9z
dENvbnRleHQubG9va3VwKGNvbm5lY3Rpb25GYWN0b3J5TmFtZSk7DQotICAgICAgICB9IGNhdGNo
IChOYW1pbmdFeGNlcHRpb24gZSkgew0KLSAgICAgICAgICAgIFJlbW90ZUNvbW1hbmRNYW5hZ2Vy
RXhjZXB0aW9uIHJjbUV4Y2VwdGlvbiA9IFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLmVy
cm9yTG9va2luZ1VwUmVtb3RlQ29ubmVjdGlvbihjb25uZWN0aW9uRmFjdG9yeU5hbWUsIHJjbS5n
ZXRVcmwoKSwgZSk7DQotICAgICAgICAgICAgcmNtLmhhbmRsZUV4Y2VwdGlvbihyY21FeGNlcHRp
b24pOw0KLSAgICAgICAgICAgIC8vIElmIHRoZSBoYW5kbGVyIGhhc24ndCB0aHJvd24gdGhlIGV4
Y2VwdGlvbiByZXRocm93IGl0IGhlcmUgLSBpdCdzIGltcG9zc2libGUgdG8gcmVjb3Zlci4NCi0g
ICAgICAgICAgICB0aHJvdyByY21FeGNlcHRpb247DQotICAgICAgICB9DQotICAgIH0NCi0NCi0g
ICAgLyoqDQotICAgICAqIElOVEVSTkFMOg0KLSAgICAgKiBJbiBjYXNlIHRoZXJlJ3Mgbm8gZXh0
ZXJuYWwgY29ubmVjdGlvbiBhdHRlbXB0cyB0byBjcmVhdGUgb25lLA0KLSAgICAgKiBpZiB0aGF0
J3Mgc3VjY2Vzc2Z1bCB0aGVuIChpbiBjYXNlIHRoZXJlIGlzIG5vIGxvY2FsIGNvbm5lY3Rpb24s
IHRvbykNCi0gICAgICogYXR0ZW1wdHMgdG8gY3JlYXRlIGxvY2FsIGNvbm5lY3Rpb24gaW4gYSBz
ZXBhcmF0ZSB0aHJlYWQuDQotICAgICAqIFJldHVybnMgY2xvbmUgb2YgdGhlIG9yaWdpbmFsIG1h
cC4NCi0gICAgICovDQotICAgIHB1YmxpYyBIYXNodGFibGUgZ2V0Q29ubmVjdGlvbnNUb0V4dGVy
bmFsU2VydmljZXNGb3JDb21tYW5kUHJvcGFnYXRpb24oKSB7DQotICAgICAgICBpZih0aGlzLmdl
dENvbm5lY3Rpb25zVG9FeHRlcm5hbFNlcnZpY2VzKCkuaXNFbXB0eSgpICYmICF0aGlzLnJjbS5p
c1N0b3BwZWQoKSkgew0KLSAgICAgICAgICAgIHRoaXMuY3JlYXRlRXh0ZXJuYWxDb25uZWN0aW9u
KCk7DQotICAgICAgICAgICAgaWYodGhpcy5sb2NhbENvbm5lY3Rpb24gPT0gbnVsbCkgew0KLSAg
ICAgICAgICAgICAgICAvLyBJdCdzIGEgZ29vZCB0aW1lIHRvIGNyZWF0ZSBsb2NhbENvbm5lY3Rp
b24sDQotICAgICAgICAgICAgICAgIC8vIGluIGEgbmV3IHRocmVhZCAtIHRvIHJldHVybiBleHRl
cm5hbENvbm5lY3Rpb25zIHByb21wdGx5Lg0KLSAgICAgICAgICAgICAgICB0aGlzLnJjbS5nZXRT
ZXJ2ZXJQbGF0Zm9ybSgpLmxhdW5jaENvbnRhaW5lclJ1bm5hYmxlKG5ldyBSdW5uYWJsZSgpIHsN
Ci0gICAgICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHJ1bigpIHsNCi0gICAgICAgICAgICAg
ICAgICAgICAgICB0cnkgew0KLSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVMb2Nh
bENvbm5lY3Rpb24oKTsNCi0gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChSZW1vdGVD
b21tYW5kTWFuYWdlckV4Y2VwdGlvbiBleCkgew0KLSAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAvLyBJZ25vcmUgZXhjZXB0aW9uIC0gdXNlciBoYWQgYSBjaGFuY2UgdG8gaGFuZGxlIGl0IGlu
IGNyZWF0ZUxvY2FsQ29ubmVjdGlvbiBtZXRob2Q6DQotICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIC8vIGZvciBpbnN0YW5jZSB0byBjaGFuZ2UgaG9zdCB1cmwgYW5kIGNyZWF0ZSBhIG5ldyBs
b2NhbCBjb25uZWN0aW9uLg0KLSAgICAgICAgICAgICAgICAgICAgICAgIH0NCi0gICAgICAgICAg
ICAgICAgICAgIH0NCi0gICAgICAgICAgICAgICAgfSk7DQotICAgICAgICAgICAgfQ0KLSAgICAg
ICAgfQ0KLSAgICAgICAgcmV0dXJuIHN1cGVyLmdldENvbm5lY3Rpb25zVG9FeHRlcm5hbFNlcnZp
Y2VzRm9yQ29tbWFuZFByb3BhZ2F0aW9uKCk7DQotICAgIH0NCiB9DQpJbmRleDogZm91bmRhdGlv
bi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5j
ZS9zZXNzaW9ucy9jb29yZGluYXRpb24vUmVtb3RlQ29tbWFuZE1hbmFnZXIuamF2YQ0KPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PQ0KLS0tIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3Jn
L2VjbGlwc2UvcGVyc2lzdGVuY2Uvc2Vzc2lvbnMvY29vcmRpbmF0aW9uL1JlbW90ZUNvbW1hbmRN
YW5hZ2VyLmphdmEJKHJldmlzaW9uIDY0NjIpDQorKysgZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5w
ZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9zZXNzaW9ucy9jb29y
ZGluYXRpb24vUmVtb3RlQ29tbWFuZE1hbmFnZXIuamF2YQkod29ya2luZyBjb3B5KQ0KQEAgLTI4
LDcgKzI4LDcgQEANCiANCiAvKioNCiAgKiA8cD4NCi0gKiA8Yj5QdXJwb3NlPC9iPjogUHJvdmlk
ZSBhIENvbW1hbmRNYW5hZ2VyIGltcGxlbWVudGF0aW9uIGZvciBjYWNlaCBjb29yZGluYXRpb24u
DQorICogPGI+UHVycG9zZTwvYj46IFByb3ZpZGUgYSBDb21tYW5kTWFuYWdlciBpbXBsZW1lbnRh
dGlvbiBmb3IgY2FjaGUgY29vcmRpbmF0aW9uLg0KICAqIDxwPg0KICAqIDxiPkRlc2NyaXB0aW9u
PC9iPjogQSBSZW1vdGVDb21tYW5kTWFuYWdlciAob3IgUkNNKSBpbnN0YW5jZSBpcyB0aGUgcHJp
bWFyeSBjb21wb25lbnQNCiAgKiBvZiBhbiBSQ00gc2VydmljZSBpbnN0YW5jZS4gSXQgbWFuYWdl
cyB0aGUgb3RoZXIgY29tcG9uZW50cyBvZiB0aGUgc2VydmljZSwgYW5kDQpJbmRleDoganBhL29y
Zy5lY2xpcHNlLnBlcnNpc3RlbmNlLmpwYS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50
ZXJuYWwvanBhL0VudGl0eU1hbmFnZXJTZXR1cEltcGwuamF2YQ0KPT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0tIGpw
YS9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5qcGEvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNl
L2ludGVybmFsL2pwYS9FbnRpdHlNYW5hZ2VyU2V0dXBJbXBsLmphdmEJKHJldmlzaW9uIDY0OTcp
DQorKysganBhL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmpwYS9zcmMvb3JnL2VjbGlwc2UvcGVy
c2lzdGVuY2UvaW50ZXJuYWwvanBhL0VudGl0eU1hbmFnZXJTZXR1cEltcGwuamF2YQkod29ya2lu
ZyBjb3B5KQ0KQEAgLTIzLDYgKzIzLDcgQEANCiAgKiAgICAgICAgLSAyNjY5MTI6IGFkZCBNZXRh
bW9kZWwgaW5zdGFuY2UgZmllbGQgYXMgcGFydCBvZiB0aGUgSlBBIDIuMCBpbXBsZW1lbnRhdGlv
bgogICogICAgIDEwLzIxLzIwMDktMi4wIEd1eSBQZWxsZXRpZXIgCiAgKiAgICAgICAtIDI5MDU2
NzogbWFwcGVkYnlpZCBzdXBwb3J0IGluY29tcGxldGUKKyAqICAgICBjZGVsYWh1biAtIEJ1ZyAy
MTQ1MzQ6IGNoYW5nZXMgdG8gYWxsb3cgSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXIgY29u
ZmlndXJhdGlvbiB0aHJvdWdoIHByb3BlcnRpZXMKICAqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovICAK
IHBhY2thZ2Ugb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJuYWwuanBhOwogCkBAIC03Myw2
ICs3NCw3IEBADQogaW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3Jk
aW5hdGlvbi5SZW1vdGVDb21tYW5kTWFuYWdlcjsKIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0
ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24uVHJhbnNwb3J0TWFuYWdlcjsKIGltcG9ydCBvcmcu
ZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24uam1zLkpNU1RvcGljVHJh
bnNwb3J0TWFuYWdlcjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5j
b29yZGluYXRpb24uam1zLkpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyOwogaW1wb3J0IG9y
Zy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmZhY3Rvcmllcy5TZXNzaW9uTWFuYWdlcjsK
IGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5mYWN0b3JpZXMuWE1MU2Vz
c2lvbkNvbmZpZ0xvYWRlcjsKIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5hbm5vdGF0
aW9ucy5JZFZhbGlkYXRpb247CkBAIC0zODQsOSArMzg2LDkgQEANCiAgICAgICAgICAgICAKICAg
ICAgICAgICAgIC8vIDI2NjkxMjogSW5pdGlhbGl6ZSB0aGUgTWV0YW1vZGVsCiAgICAgICAgICAg
ICB0cnkgewotICAgICAgICAgICAgCXRoaXMuZ2V0TWV0YW1vZGVsKCk7CisgICAgICAgICAgICAg
ICAgdGhpcy5nZXRNZXRhbW9kZWwoKTsKICAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBl
KSB7Ci0gICAgICAgICAgICAJc2Vzc2lvbi5sb2coU2Vzc2lvbkxvZy5GSU5FU1QsIFNlc3Npb25M
b2cuTUVUQU1PREVMLCAibWV0YW1vZGVsX2luaXRfZmFpbGVkIiwgbmV3IE9iamVjdFtde2UuZ2V0
TWVzc2FnZSgpfSk7CisgICAgICAgICAgICAgICAgc2Vzc2lvbi5sb2coU2Vzc2lvbkxvZy5GSU5F
U1QsIFNlc3Npb25Mb2cuTUVUQU1PREVMLCAibWV0YW1vZGVsX2luaXRfZmFpbGVkIiwgbmV3IE9i
amVjdFtde2UuZ2V0TWVzc2FnZSgpfSk7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICByZXR1
cm4gc2Vzc2lvbjsKICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4Y2VwdGlvbikgewpAQCAt
MTA1MCw5ICsxMDUyLDE0IEBADQogICAgICAgICBTdHJpbmcgcHJvdG9jb2wgPSBnZXRDb25maWdQ
cm9wZXJ0eUFzU3RyaW5nTG9nRGVidWcoUGVyc2lzdGVuY2VVbml0UHJvcGVydGllcy5DT09SRElO
QVRJT05fUFJPVE9DT0wsIG0sIHRoaXMuc2Vzc2lvbik7CiAgICAgICAgIAogICAgICAgICBpZiAo
cHJvdG9jb2wgIT0gbnVsbCkgewotICAgICAgICAgICAgUmVtb3RlQ29tbWFuZE1hbmFnZXIgcmNt
ID0gbmV3IFJlbW90ZUNvbW1hbmRNYW5hZ2VyKHRoaXMuc2Vzc2lvbik7ICAgICAgICAgICAgCi0g
ICAgICAgICAgICBpZiAocHJvdG9jb2wuZXF1YWxzSWdub3JlQ2FzZSgiam1zIikpIHsKLSAgICAg
ICAgICAgICAgICBKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXIgdHJhbnNwb3J0ID0gbmV3IEpNU1Rv
cGljVHJhbnNwb3J0TWFuYWdlcihyY20pOworICAgICAgICAgICAgUmVtb3RlQ29tbWFuZE1hbmFn
ZXIgcmNtID0gbmV3IFJlbW90ZUNvbW1hbmRNYW5hZ2VyKHRoaXMuc2Vzc2lvbik7ICAgICAgICAK
KyAgICAgICAgICAgIGlmIChwcm90b2NvbC5lcXVhbHNJZ25vcmVDYXNlKCJqbXMiKSB8fCBwcm90
b2NvbC5lcXVhbHNJZ25vcmVDYXNlKCJqbXMtcHVibGlzaGluZyIpKSB7CisgICAgICAgICAgICAg
ICAgSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXIgdHJhbnNwb3J0ID0gbnVsbDsKKyAgICAg
ICAgICAgICAgICBpZiAocHJvdG9jb2wuZXF1YWxzSWdub3JlQ2FzZSgiam1zIikpeworICAgICAg
ICAgICAgICAgICAgICAgdHJhbnNwb3J0ID0gbmV3IEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlcihy
Y20pOworICAgICAgICAgICAgICAgIH0gZWxzZSB7CisgICAgICAgICAgICAgICAgICAgIHRyYW5z
cG9ydCA9IG5ldyBKTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlcihyY20pOworICAgICAgICAg
ICAgICAgIH0KICAgICAgICAgICAgICAgICByY20uc2V0VHJhbnNwb3J0TWFuYWdlcih0cmFuc3Bv
cnQpOwogICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIFN0cmluZyBob3N0ID0gZ2V0
Q29uZmlnUHJvcGVydHlBc1N0cmluZ0xvZ0RlYnVnKFBlcnNpc3RlbmNlVW5pdFByb3BlcnRpZXMu
Q09PUkRJTkFUSU9OX0pNU19IT1NULCBtLCB0aGlzLnNlc3Npb24pOwpAQCAtMTA2OCw2ICsxMDc1
LDExIEBADQogICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQuc2V0VG9waWNDb25uZWN0aW9u
RmFjdG9yeU5hbWUoZmFjdG9yeSk7CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAg
IAorICAgICAgICAgICAgICAgIFN0cmluZyByZXVzZV9wdWJsaXNoZXIgPSBnZXRDb25maWdQcm9w
ZXJ0eUFzU3RyaW5nTG9nRGVidWcoUGVyc2lzdGVuY2VVbml0UHJvcGVydGllcy5DT09SRElOQVRJ
T05fSk1TX1JFVVNFX1BVQkxJU0hFUiwgbSwgdGhpcy5zZXNzaW9uKTsKKyAgICAgICAgICAgICAg
ICBpZiAoaG9zdCAhPSBudWxsKSB7CisgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydC5zZXRT
aG91bGRSZXVzZUpNU1RvcGljUHVibGlzaGVyKHJldXNlX3B1Ymxpc2hlci5lcXVhbHNJZ25vcmVD
YXNlKCJ0cnVlIikpOworICAgICAgICAgICAgICAgIH0KKyAgICAgICAgICAgICAgICAKICAgICAg
ICAgICAgIH0gZWxzZSBpZiAocHJvdG9jb2wuZXF1YWxzSWdub3JlQ2FzZSgicm1pIikpIHsKICAg
ICAgICAgICAgICAgICAvLyBEZWZhdWx0IHByb3RvY29sLgogICAgICAgICAgICAgICAgIFN0cmlu
ZyBkZWxheSA9IGdldENvbmZpZ1Byb3BlcnR5QXNTdHJpbmdMb2dEZWJ1ZyhQZXJzaXN0ZW5jZVVu
aXRQcm9wZXJ0aWVzLkNPT1JESU5BVElPTl9STUlfQU5OT1VOQ0VNRU5UX0RFTEFZLCBtLCB0aGlz
LnNlc3Npb24pOwpAQCAtMTk1MSw3ICsxOTYzLDcgQEANCiAgICAgICovCiAgICAgcHVibGljIE1l
dGFtb2RlbCBnZXRNZXRhbW9kZWwoKSB7CiAgICAgICAgIC8vIHBlcmZvcm0gbGF6eSBpbml0aWFs
aXNhdGlvbgotICAgIAlNZXRhbW9kZWwgdGVtcE1ldGFNb2RlbCA9IG51bGw7CisgICAgICAgIE1l
dGFtb2RlbCB0ZW1wTWV0YU1vZGVsID0gbnVsbDsKICAgICAgICAgaWYobnVsbCA9PSBtZXRhTW9k
ZWwpIHsKICAgICAgICAgICAgIHRlbXBNZXRhTW9kZWwgPSBuZXcgTWV0YW1vZGVsSW1wbCh0aGlz
KTsKICAgICAgICAgICAgIC8vSWYgdGhlIGNhbm9uaWNhbCBtZXRhbW9kZWwgY2xhc3NlcyBleGlz
dCwgaW5pdGlhbGl6ZSB0aGVtCg==
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>158381</attachid>
            <date>2010-02-06 14:28:00 -0500</date>
            <delta_ts>2010-02-06 14:28:15 -0500</delta_ts>
            <desc>patch for checkin</desc>
            <filename>214534_final.patch</filename>
            <type>text/plain</type>
            <size>67738</size>
            <attacher name="Chris Delahunt">christopher.delahunt</attacher>
            
              <data encoding="base64">SW5kZXg6IGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2Vj
bGlwc2UvcGVyc2lzdGVuY2UvY29uZmlnL1BlcnNpc3RlbmNlVW5pdFByb3BlcnRpZXMuamF2YQ0K
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQ0KLS0tIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9z
cmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvY29uZmlnL1BlcnNpc3RlbmNlVW5pdFByb3BlcnRp
ZXMuamF2YQkocmV2aXNpb24gNjUwNSkNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNp
c3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2NvbmZpZy9QZXJzaXN0ZW5j
ZVVuaXRQcm9wZXJ0aWVzLmphdmEJKHdvcmtpbmcgY29weSkNCkBAIC0xMCw2ICsxMCw3IEBADQog
ICogQ29udHJpYnV0b3JzOg0KICAqICAgICBPcmFjbGUgLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVt
ZW50YXRpb24gZnJvbSBPcmFjbGUgVG9wTGluaw0KICAqICAgICBkY2xhcmtlIC0gQnVnIDI5NDk4
NTogdXBkYXRlIG9mIGNvbW1lbnRzIGFuZCBhZGRpdGlvbiBvZiBjb25uZWN0aW9uIGxvZ2dpbmcg
cHJvcGVydHkNCisgKiAgICAgY2RlbGFodW4gLSBCdWcgMjE0NTM0OiBhZGRlZCBDT09SRElOQVRJ
T05fSk1TX1JFVVNFX1BVQkxJU0hFUiBwcm9wZXJ0eSB0byBlbmFibGUgSk1TIHJjbSBsZWdhY3kg
YmVoYXZpb3INCiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KIHBhY2thZ2Ugb3JnLmVjbGlwc2Uu
cGVyc2lzdGVuY2UuY29uZmlnOw0KIA0KQEAgLTE0MjgsNiArMTQyOSwxNyBAQA0KICAgICAgKiBA
c2VlIG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5icm9hZGNh
c3QuQnJvYWRjYXN0VHJhbnNwb3J0TWFuYWdlciNzZXRUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFt
ZShTdHJpbmcpDQogICAgICAqLw0KICAgICBwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBDT09S
RElOQVRJT05fSk1TX0ZBQ1RPUlkgPSAiZWNsaXBzZWxpbmsuY2FjaGUuY29vcmRpbmF0aW9uLmpt
cy5mYWN0b3J5IjsNCisgICAgDQorICAgIC8qKg0KKyAgICAgKiBUaGUgPGNvZGU+ImVjbGlwc2Vs
aW5rLmNhY2hlLmNvb3JkaW5hdGlvbi5qbXMucmV1c2UtdG9waWMtcHVibGlzaGVyIjwvY29kZT4g
cHJvcGVydHkNCisgICAgICogY29uZmlndXJlcyBjYWNoZSBjb29yZGluYXRpb24gZm9yIGEgY2x1
c3RlcmVkIGVudmlyb25tZW50LiBPbmx5IHVzZWQgZm9yDQorICAgICAqIEpNUyBjb29yZGluYXRp
b24uIFNldHMgdGhlIEpTTSB0cmFuc3BvcnQgbWFuYWdlciB0byBjYWNoZSBhIFRvcGljUHVibGlz
ZXIgDQorICAgICAqIGFuZCByZXVzZSBpdCBmb3IgYWxsIGNhY2hlIGNvb3JkaW5hdGlvbiBwdWJs
aXNoaW5nLiBEZWZhdWx0IHZhbHVlIGlmIHVuc2V0IGlzIGZhbHNlLg0KKyAgICAgKg0KKyAgICAg
KiBAc2VlICNDT09SRElOQVRJT05fUFJPVE9DT0wNCisgICAgICogQHNlZSBvcmcuZWNsaXBzZS5w
ZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24uam1zLkpNU1B1Ymxpc2hpbmdUcmFuc3Bv
cnRNYW5hZ2VyI3NldFNob3VsZFJldXNlSk1TVG9waWNQdWJsaXNoZXIoYm9vbGVhbikNCisgICAg
ICovDQorICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIENPT1JESU5BVElPTl9KTVNfUkVV
U0VfUFVCTElTSEVSID0gImVjbGlwc2VsaW5rLmNhY2hlLmNvb3JkaW5hdGlvbi5qbXMucmV1c2Ut
dG9waWMtcHVibGlzaGVyIjsNCiANCiAgICAgLyoqDQogICAgICAqIFRoZSA8Y29kZT4iZWNsaXBz
ZWxpbmsuY2FjaGUuY29vcmRpbmF0aW9uLnJtaS5hbm5vdW5jZW1lbnQtZGVsYXkiPC9jb2RlPg0K
SW5kZXg6IGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2Vj
bGlwc2UvcGVyc2lzdGVuY2UvZXhjZXB0aW9ucy9pMThuL1JlbW90ZUNvbW1hbmRNYW5hZ2VyRXhj
ZXB0aW9uUmVzb3VyY2UuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0tIGZvdW5kYXRpb24vb3JnLmVjbGlw
c2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvZXhjZXB0aW9u
cy9pMThuL1JlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uUmVzb3VyY2UuamF2YQkocmV2aXNp
b24gNjUwNSkNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3Jj
L29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2V4Y2VwdGlvbnMvaTE4bi9SZW1vdGVDb21tYW5kTWFu
YWdlckV4Y2VwdGlvblJlc291cmNlLmphdmEJKHdvcmtpbmcgY29weSkNCkBAIC05LDYgKzksNyBA
QA0KICAqDQogICogQ29udHJpYnV0b3JzOg0KICAqICAgICBPcmFjbGUgLSBpbml0aWFsIEFQSSBh
bmQgaW1wbGVtZW50YXRpb24gZnJvbSBPcmFjbGUgVG9wTGluaw0KKyAqICAgICBjZGVsYWh1biAt
IEJ1ZyAyMTQ1MzQ6IGFkZGVkIG1lc3NhZ2UgZm9yIEpNU1B1Ymxpc2hpbmdIZWxwZXIgZXJyb3Ig
Y2hlY2tpbmcNCiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLyAgDQogcGFja2FnZSBvcmcuZWNsaXBz
ZS5wZXJzaXN0ZW5jZS5leGNlcHRpb25zLmkxOG47DQogDQpAQCAtMjgsMTggKzI5LDE3IEBADQog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgIjIyMTA0IiwgIkNv
dWxkIG5vdCBsb29rIHVwIGhvc3RuYW1lIiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB7ICIyMjEwNSIsICJDb3VsZCBub3QgcHJvcGFnYXRlIGNvbW1hbmQg
dG8gezB9IiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7
ICIyMjEwNiIsICJDb3VsZCBub3QgY3JlYXRlIGV4dGVybmFsIEpNUyBjb25uZWN0aW9uIHdpdGgg
VG9waWMgezB9LCBUb3BpYyBGYWN0b3J5IHsxfSwgYW5kIENvbnRleHQgcHJvcGVydGllcyB7Mn0i
IH0sDQotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgIjIyMTA3
IiwgIkNvdWxkIG5vdCByZW1vdmUgbG9jYWwgY29ubmVjdGlvbiBpbiBsb2NhbCBuYW1pbmcgc2Vy
dmljZSB1bmRlciBuYW1lIHswfSIgfSwNCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgDQotICAgIHsgIjIyMTA4IiwgIkNvdWxkIG5vdCBzZXJpYWxpemUgb3IgZGVz
aXJhbGl6ZSBjb21tYW5kIiB9LA0KLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICANCi0gICAgeyAiMjIxMDkiLCAiRmFpbGVkIHRvIHJlY2VpdmUgSk1TIG1lc3NhZ2Ug
ZnJvbSBKTVMgcHJvdmlkZXIiIH0sDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHsgIjIyMTA3IiwgIkNvdWxkIG5vdCByZW1vdmUgbG9jYWwgY29ubmVjdGlvbiBp
biBsb2NhbCBuYW1pbmcgc2VydmljZSB1bmRlciBuYW1lIHswfSIgfSwgICAgICAgICAgICAgDQor
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgIjIyMTA4IiwgIkNv
dWxkIG5vdCBzZXJpYWxpemUgb3IgZGVzaXJhbGl6ZSBjb21tYW5kIiB9LA0KKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ICIyMjEwOSIsICJGYWlsZWQgdG8gcmVj
ZWl2ZSBKTVMgbWVzc2FnZSBmcm9tIEpNUyBwcm92aWRlciIgfSwNCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAiMjIxMTAiLCAiRmFpbGVkIHRvIGRpc2NvdmVy
IGxvY2FsIGhvc3QgSVAgYWRkcmVzcy4iIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHsgIjIyMTExIiwgIkZhaWxlZCB0byBnZXQgU2VydmVyUGxhdGZvcm0u
IFRoZSBTZXJ2ZXJQbGF0Zm9ybSBtdXN0IGJlIHNldCBlaXRoZXIgb24gU2Vzc2lvbiBvciBSZW1v
dGVDb21tYW5kTWFuYWdlci4iIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHsgIjIyMTEyIiwgIkNvdWxkIG5vdCBjcmVhdGUgbG9jYWwgSk1TIGNvbm5lY3Rp
b24gd2l0aCBUb3BpYyB7MH0sIFRvcGljIEZhY3RvcnkgezF9LCBhbmQgQ29udGV4dCBwcm9wZXJ0
aWVzIHsyfSIgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
eyAiMjIxMTMiLCAiQ291bGQgbm90IGNyZWF0ZSBPYzRqSkdyb3Vwc1JlbW90ZUNvbm5lY3Rpb24g
c2VydmljZSBJRCB7MH0sIHRvcGljIHsxfSwgdXNpbmcgZmFjdG9yeSB7Mn0gYW5kIENvbnRleHQg
cHJvcGVydGllcyB7M30uIiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICB7ICIyMjExNCIsICJ7MH06IGZhaWxlZCB0byBkZXNlcmlhbGl6ZSByZXRyaWV2ZWQg
bWVzc2FnZSB7MX0uIiB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB7ICIyMjExNSIsICJ7MH06IGZhaWxlZCB0byBwcm9jZXNzIHJlbW90ZSBjb21tYW5kIHJl
dHJpZXZlZCBmcm9tIG1lc3NhZ2UgezF9LCBmcm9tIHsyfSwgY29tbWFuZCB0eXBlIHszfSIgfSwN
Ci0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAiMjIxMTYiLCAi
UmVjZWl2ZWQgSk1TIG1lc3NhZ2UgaXMgbnVsbC4gVHJlYXRpbmcgaXQgYXMgYSBKTVNFeGNlcHRp
b24iIH0NCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAiMjIx
MTYiLCAiUmVjZWl2ZWQgSk1TIG1lc3NhZ2UgaXMgbnVsbC4gVHJlYXRpbmcgaXQgYXMgYSBKTVNF
eGNlcHRpb24iIH0sDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHsgIjIyMTE3IiwgIlNlc3Npb24ncyBSZW1vdGVDb21tYW5kTWFuYWdlciBpcyBjbG9zZWQgb3Ig
aGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHdoaWxlIHByb2Nlc3NpbmcgaW5jb21pbmcgbWVzc2Fn
ZXMiIH0NCiAgICAgfTsNCiANCiAgICAgLyoqDQpJbmRleDogZm91bmRhdGlvbi9vcmcuZWNsaXBz
ZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9leGNlcHRpb25z
L1JlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLmphdmENCj09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tLSBmb3Vu
ZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNp
c3RlbmNlL2V4Y2VwdGlvbnMvUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24uamF2YQkocmV2
aXNpb24gNjUwNSkNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUv
c3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2V4Y2VwdGlvbnMvUmVtb3RlQ29tbWFuZE1hbmFn
ZXJFeGNlcHRpb24uamF2YQkod29ya2luZyBjb3B5KQ0KQEAgLTksNiArOSw3IEBADQogICoNCiAg
KiBDb250cmlidXRvcnM6DQogICogICAgIE9yYWNsZSAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1l
bnRhdGlvbiBmcm9tIE9yYWNsZSBUb3BMaW5rDQorICogICAgIGNkZWxhaHVuIC0gQnVnIDIxNDUz
NDogYWRkZWQgbWVzc2FnZSBmb3IgSk1TUHVibGlzaGluZ0hlbHBlciBlcnJvciBjaGVja2luZw0K
ICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKiovICANCiBwYWNrYWdlIG9yZy5lY2xpcHNlLnBlcnNpc3Rl
bmNlLmV4Y2VwdGlvbnM7DQogDQpAQCAtMjIsNyArMjMsNyBAQA0KICAqLw0KIHB1YmxpYyBjbGFz
cyBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbiBleHRlbmRzIG9yZy5lY2xpcHNlLnBlcnNp
c3RlbmNlLmV4Y2VwdGlvbnMuRWNsaXBzZUxpbmtFeGNlcHRpb24gaW1wbGVtZW50cyBqYXZhLmlv
LlNlcmlhbGl6YWJsZSB7DQogICAgIC8vIEV4Y2VwdGlvbnMgZm9yIFJDTSBhcmUgaW4gcmFuZ2Ug
MjIwMDAgLSAyMzAwMC4gDQotICAgIC8vIExlYXZlIHRoZSBmaXJzdCAxMDAgZm9yIERpc2NvdmVy
eU1hbmFnZXJFeGNlcHRpb24gc3ViZXhjZXB0aW9uDQorICAgIC8vIExlYXZlIHRoZSBmaXJzdCAx
MDAgZm9yIERpc2NvdmVyeU1hbmFnZXJFeGNlcHRpb24gc3ViIGV4Y2VwdGlvbnMNCiAgICAgcHVi
bGljIHN0YXRpYyBmaW5hbCBpbnQgRVJST1JfT0JUQUlOSU5HX0NPTlRFWFRfRk9SX0pOREkgPSAy
MjEwMTsNCiAgICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgRVJST1JfQklORElOR19DT05ORUNU
SU9OID0gMjIxMDI7DQogICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgaW50IEVSUk9SX0xPT0tJTkdf
VVBfUkVNT1RFX0NPTk5FQ1RJT04gPSAyMjEwMzsNCkBAIC01MCw2ICs1MSw4IEBADQogICAgIA0K
ICAgICAvLyBKTVMNCiAgICAgcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgRVJST1JfUkVDRUlWRURf
Sk1TX01FU1NBR0VfSVNfTlVMTCA9IDIyMTE2Ow0KKyAgICAvL0pNUyBQVUJMSVNISU5HIA0KKyAg
ICBwdWJsaWMgc3RhdGljIGZpbmFsIGludCBSQ01fVU5JTklUSUFMSVpFRF9PUl9DTE9TRUQgPSAy
MjExNzsNCiANCiAgICAgcHVibGljIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uKCkgew0K
ICAgICAgICAgc3VwZXIoKTsNCkBAIC0yMTksNCArMjIyLDExIEBADQogICAgICAgICBleC5zZXRF
cnJvckNvZGUoRVJST1JfUkVDRUlWRURfSk1TX01FU1NBR0VfSVNfTlVMTCk7DQogICAgICAgICBy
ZXR1cm4gZXg7DQogICAgIH0NCisgICAgDQorICAgIHB1YmxpYyBzdGF0aWMgUmVtb3RlQ29tbWFu
ZE1hbmFnZXJFeGNlcHRpb24gcmVtb3RlQ29tbWFuZE1hbmFnZXJJc0Nsb3NlZCgpIHsgIA0KKyAg
ICAgICAgT2JqZWN0W10gYXJncyA9IHsgfTsgIA0KKyAgICAgICAgUmVtb3RlQ29tbWFuZE1hbmFn
ZXJFeGNlcHRpb24gZXggPSBuZXcgUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24oRXhjZXB0
aW9uTWVzc2FnZUdlbmVyYXRvci5idWlsZE1lc3NhZ2UoUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNl
cHRpb24uY2xhc3MsUkNNX1VOSU5JVElBTElaRURfT1JfQ0xPU0VELGFyZ3MpKTsgIA0KKyAgICAg
ICAgZXguc2V0RXJyb3JDb2RlKFJDTV9VTklOSVRJQUxJWkVEX09SX0NMT1NFRCk7DQorICAgICAg
ICByZXR1cm4gZXg7ICANCisgICAgfQ0KIH0NCkluZGV4OiBmb3VuZGF0aW9uL29yZy5lY2xpcHNl
LnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFsL3Nl
c3Npb25zL2Nvb3JkaW5hdGlvbi9icm9hZGNhc3QvQnJvYWRjYXN0UmVtb3RlQ29ubmVjdGlvbi5q
YXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09DQotLS0gZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5j
b3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9pbnRlcm5hbC9zZXNzaW9ucy9jb29yZGlu
YXRpb24vYnJvYWRjYXN0L0Jyb2FkY2FzdFJlbW90ZUNvbm5lY3Rpb24uamF2YQkocmV2aXNpb24g
NjUwNSkNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29y
Zy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2Nvb3JkaW5hdGlvbi9icm9h
ZGNhc3QvQnJvYWRjYXN0UmVtb3RlQ29ubmVjdGlvbi5qYXZhCSh3b3JraW5nIGNvcHkpDQpAQCAt
NzQsNyArNzQsNyBAQA0KICAgICAgICAgICAgICAgICAvLyBUaGlzIG1ldGhvZCBjYXRjaGVzIENv
bW11bmljYXRpb25FeGNlcHRpb24gYW5kIHByb2Nlc3NlcyBpdCBpbiBoYW5kbGVDb21tdW5pY2F0
aW9uRXhjZXB0aW9uIG1ldGhvZC4NCiAgICAgICAgICAgICAgICAgLy8gVGhlIGxhdHRlciBtZXRo
b2QsIGluIGNhc2Ugc2hvdWxkUmVtb3ZlQ29ubmVjdGlvbk9uRXJyb3I9PXRydWUsIHJlbW92ZXMg
dGhlIGNvbm5lY3Rpb247DQogICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBpdCB3cmFwcyB0
aGUgQ29tbXVuaWNhdGlvbkV4Y2VwdGlvbiBpbnRvIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0
aW9uDQotICAgICAgICAgICAgICAgIC8vICh3aXRoIGVycm9Db2RlIFJlbW90ZUNvbW1hbmRNYW5h
Z2VyRXhjZXB0aW9uLkVSUk9SX1BST1BBR0FUSU5HX0NPTU1BTkQpDQorICAgICAgICAgICAgICAg
IC8vICh3aXRoIGVycm9yQ29kZSBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbi5FUlJPUl9Q
Uk9QQUdBVElOR19DT01NQU5EKQ0KICAgICAgICAgICAgICAgICAvLyBhbmQgZ2l2ZXMgdGhlIHVz
ZSBhIGNoYW5jZSB0byBoYW5kbGUgaXQgLSB0aGlzIGlzIGFuIG9wcG9ydHVuaXR5IGZvciB0aGUg
dXNlciB0bw0KICAgICAgICAgICAgICAgICAvLyBzdG9wIHJlbW90ZSBjb21tYW5kIHByb2Nlc3Np
bmcuDQogICAgICAgICAgICAgICAgIHRocm93IENvbW11bmljYXRpb25FeGNlcHRpb24uZXJyb3JT
ZW5kaW5nTWVzc2FnZShnZXRTZXJ2aWNlSWQoKS5nZXRJZCgpLCBleGNlcHRpb24pOw0KSW5kZXg6
IGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2Uv
cGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vzc2lvbnMvY29vcmRpbmF0aW9uL2ptcy9KTVNUb3BpY1Jl
bW90ZUNvbm5lY3Rpb24uamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0tIGZvdW5kYXRpb24vb3JnLmVjbGlw
c2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwv
c2Vzc2lvbnMvY29vcmRpbmF0aW9uL2ptcy9KTVNUb3BpY1JlbW90ZUNvbm5lY3Rpb24uamF2YQko
cmV2aXNpb24gNjUwNSkNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNv
cmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2Nvb3JkaW5h
dGlvbi9qbXMvSk1TVG9waWNSZW1vdGVDb25uZWN0aW9uLmphdmEJKHdvcmtpbmcgY29weSkNCkBA
IC05LDYgKzksNyBAQA0KICAqDQogICogQ29udHJpYnV0b3JzOg0KICAqICAgICBPcmFjbGUgLSBp
bml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24gZnJvbSBPcmFjbGUgVG9wTGluaw0KKyAqICAg
ICBjZGVsYWh1biAtIEJ1ZyAyMTQ1MzQ6IGFkZGVkIEpNUyBDYWNoZSBDb29yZGluYXRpb24gZm9y
IHB1Ymxpc2hpbmcgb25seQ0KICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovICANCiBwYWNrYWdlIG9y
Zy5lY2xpcHNlLnBlcnNpc3RlbmNlLmludGVybmFsLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5qbXM7
DQogDQpAQCAtMTksNiArMjAsNyBAQA0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5l
eGNlcHRpb25zLlJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uOw0KIGltcG9ydCBqYXZheC5q
bXMuVG9waWM7DQogaW1wb3J0IGphdmF4Lmptcy5Ub3BpY0Nvbm5lY3Rpb247DQoraW1wb3J0IGph
dmF4Lmptcy5Ub3BpY0Nvbm5lY3Rpb25GYWN0b3J5Ow0KIGltcG9ydCBqYXZheC5qbXMuVG9waWNQ
dWJsaXNoZXI7DQogaW1wb3J0IGphdmF4Lmptcy5Ub3BpY1Nlc3Npb247DQogaW1wb3J0IGphdmF4
Lmptcy5Ub3BpY1N1YnNjcmliZXI7DQpAQCAtNDIsMjEgKzQ0LDMxIEBADQogICogICBBcHBsaWNh
dGlvbiBjb21wb25lbnRzIGluIHRoZSB3ZWIgYW5kIEVKQiBjb250YWluZXJzIG11c3Qgbm90IGF0
dGVtcHQgdG8gY3JlYXRlIG1vcmUgdGhhbiBvbmUNCiAgKiAgICAgYWN0aXZlIChub3QgY2xvc2Vk
KSBTZXNzaW9uIG9iamVjdCBwZXIgY29ubmVjdGlvbi4iDQogICogQmVjYXVzZSBvZiB0aGVzZSBy
ZXN0cmljdGlvbnMgDQotICogYSkgdHdvIFRvcGljQ29ubmVjdGlvbnMgYXJlIHJlcXVpcmVkIC0g
b25lIGZvciBwdWJsaXNoaW5nIChleHRlcm5hbCkgYW5kIGFub3RoZXIgb25lIGZvciBsaXN0ZW5p
bmcgKGxvY2FsKTsNCisgKiBhKSB0d28gSk1TVG9waWNSZW1vdGVDb25uZWN0aW9uIGFyZSByZXF1
aXJlZCAtIG9uZSBmb3IgcHVibGlzaGluZyAoZXh0ZXJuYWwpIGFuZCBhbm90aGVyIG9uZSBmb3Ig
bGlzdGVuaW5nIChsb2NhbCk7DQogICogYikgbGlzdGVuaW5nIHNob3VsZCBiZSBkb25lIHVzaW5n
IHN1YnNjcmliZXIucmVjZWl2ZSgpIGluIGFuIGluZmluaXRlIGxvb3AgaW4gYSBzZXBhcmF0ZSB0
aHJlYWQsDQogICogdGhhdCdzIHdoeSB0aGUgY2xhc3MgaW1wbGVtZW50cyBSdW5uYWJsZSBpbnRl
cmZhY2UuDQorICogYykgcHVibGlzaGluZyBjb25uZWN0aW9uIChleHRlcm5hbCkgY291bGQgYmUg
dXNlZCBjb25jdXJyZW50bHkgdG8gc2VuZCBtZXNzYWdlcywgc28gaXQgY2Fubm90IHVzZSB0aGUg
c2FtZSBwdWJsaXNoZXIvc2Vzc2lvbi90b3BpY0Nvbm5lY3Rpb24NCisgKiAgIEluc3RlYWQsIGl0
IHdpbGwgc3RvcmUgdGhlIFRvcGljQ29ubmVjdGlvbkZhY3RvcnkgYW5kIHVzZSBpdCB0byBjcmVh
dGUgY29ubmVjdGlvbnMgd2hlbiBleGVjdXRlQ29tbWFuZEludGVybmFsIGlzIGNhbGxlZCAobXVj
aCBsaWtlDQorICogICBEYXRhYmFzZUFjY2Vzc29yIHdoZW4gYW4gZXh0ZXJuYWwgcG9vbCBpcyB1
c2VkKQ0KICAqIA0KICAqIEBhdXRob3IgU3RldmVuIFZvDQogICogQHNpbmNlIE9yYWNsZUFTIFRv
cExpbmsgMTA8aT5nPC9pPiAoMTAuMC4zKQ0KICAqLw0KIHB1YmxpYyBjbGFzcyBKTVNUb3BpY1Jl
bW90ZUNvbm5lY3Rpb24gZXh0ZW5kcyBCcm9hZGNhc3RSZW1vdGVDb25uZWN0aW9uIGltcGxlbWVu
dHMgUnVubmFibGUgew0KKyAgICBwcm90ZWN0ZWQgVG9waWNDb25uZWN0aW9uRmFjdG9yeSB0b3Bp
Y0Nvbm5lY3Rpb25GYWN0b3J5Ow0KKyAgICBwcm90ZWN0ZWQgVG9waWMgdG9waWM7DQorICAgIC8v
IGluZGljYXRlcyB3aGV0aGVyIGl0J3MgYSBsb2NhbCBjb25uZWN0aW9uLg0KKyAgICBwcm90ZWN0
ZWQgYm9vbGVhbiBpc0xvY2FsOw0KKyAgICANCisgICAgLy8gbm90IHVzZWQgYnkgRXh0ZXJuYWwg
KHB1Ymxpc2hpbmcpIGNvbm5lY3Rpb24gdW5sZXNzIGl0IGlzIHNldCB0byByZXVzZSB0aGUgSk1T
VG9waWNQdWJsaXNoZXINCisgICAgcHJpdmF0ZSBUb3BpY1B1Ymxpc2hlciBwdWJsaXNoZXI7DQog
ICAgIHByb3RlY3RlZCBUb3BpY0Nvbm5lY3Rpb24gdG9waWNDb25uZWN0aW9uOw0KLSAgICBwcm90
ZWN0ZWQgVG9waWMgdG9waWM7DQogICAgIHByb3RlY3RlZCBUb3BpY1Nlc3Npb24gdG9waWNTZXNz
aW9uOw0KLSAgICBwcm90ZWN0ZWQgVG9waWNQdWJsaXNoZXIgcHVibGlzaGVyOw0KKyAgICANCisg
ICAgLy8gVXNlZCBvbmx5IGJ5IGxvY2FsIChsaXN0ZW5pbmcpIGNvbm5lY3Rpb24NCiAgICAgcHJv
dGVjdGVkIFRvcGljU3Vic2NyaWJlciBzdWJzY3JpYmVyOw0KLSAgICAvLyBpbmRpY2F0ZXMgd2hl
dGhlciBpdCdzIGEgbG9jYWwgY29ubmVjdGlvbi4NCi0gICAgcHJvdGVjdGVkIGJvb2xlYW4gaXNM
b2NhbDsNCisgICAgDQorICAgIA0KICAgICAvLyBVc2VkIG9ubHkgYnkgbG9jYWwgKGxpc3Rlbmlu
ZykgY29ubmVjdGlvbiBhbmQgDQogICAgIC8vIG9ubHkgaW4gY2FzZSBzaG91bGRSZW1vdmVDb25u
ZWN0aW9uT25FcnJvcj09ZmFsc2UuDQogICAgIC8vIFRpbWUgdG8gd2FpdCBhZnRlciBlcnJvciBy
ZWNlaXZpbmcgam1zIG1lc3NhZ2U6DQpAQCAtNjUsMzEgKzc3LDUxIEBADQogICAgIC8vIFVzZXIg
Y2FuIGF2b2lkIHRoZSB3YWl0IGJ5IGhhbmRsaW5nIEVSUk9SX1JFQ0VJVklOR19KTVNfTUVTU0FH
RSBleGNlcHRpb24uDQogICAgIHB1YmxpYyBzdGF0aWMgbG9uZyBXQUlUX09OX0VSUk9SX1JFQ0VJ
VklOR19KTVNfTUVTU0FHRSA9IDEwMDAwOw0KIA0KLSAgICBwdWJsaWMgSk1TVG9waWNSZW1vdGVD
b25uZWN0aW9uKFJlbW90ZUNvbW1hbmRNYW5hZ2VyIHJjbSwgVG9waWNDb25uZWN0aW9uIHRvcGlj
Q29ubmVjdGlvbiwgVG9waWMgdG9waWMsIGJvb2xlYW4gaXNMb2NhbENvbm5lY3Rpb25CZWluZ0Ny
ZWF0ZWQpIHRocm93cyBKTVNFeGNlcHRpb24gew0KKyAgICAvKioNCisgICAgICogSU5URVJOQUw6
DQorICAgICAqIENvbnN0cnVjdG9yIGNyZWF0aW5nIGVpdGhlciBhIGxvY2FsIG9yIGV4dGVybmFs
IGNvbm5lY3Rpb24uICBMb2NhbCBjb25uZWN0aW9ucyBjcmVhdGVkIHRoaXMgd2F5IGNvbm5lY3Qg
dG8gdGhlIHRvcGljU2Vzc2lvbiBhbmQgY2FjaGUNCisgICAgICogdGhlIHNlc3Npb24gYW5kIHN1
YnNjcmliZXIuICBFeHRlcm5hbCBjb25uZWN0aW9ucyBjYWNoZSBvbmx5IHRoZSB0b3BpY0Nvbm5l
Y3Rpb24gYW5kIHdpbGwgb2J0YWluIHRoZSBzZXNzaW9uL3B1Ymxpc2hlciB3aGVuIG5lZWRlZC4N
CisgICAgICogQHBhcmFtIHJjbQ0KKyAgICAgKi8NCisgICAgcHVibGljIEpNU1RvcGljUmVtb3Rl
Q29ubmVjdGlvbihSZW1vdGVDb21tYW5kTWFuYWdlciByY20sIFRvcGljQ29ubmVjdGlvbkZhY3Rv
cnkgdG9waWNDb25uZWN0aW9uRmFjdG9yeSwgVG9waWMgdG9waWMsIGJvb2xlYW4gaXNMb2NhbENv
bm5lY3Rpb25CZWluZ0NyZWF0ZWQsIGJvb2xlYW4gcmV1c2VKTVNUb3BpY1B1Ymxpc2hlcikgdGhy
b3dzIEpNU0V4Y2VwdGlvbiB7DQogICAgICAgICBzdXBlcihyY20pOw0KLSAgICAgICAgdGhpcy50
b3BpY0Nvbm5lY3Rpb24gPSB0b3BpY0Nvbm5lY3Rpb247DQorICAgICAgICB0aGlzLnRvcGljQ29u
bmVjdGlvbkZhY3RvcnkgPSB0b3BpY0Nvbm5lY3Rpb25GYWN0b3J5Ow0KICAgICAgICAgdGhpcy50
b3BpYyA9IHRvcGljOw0KICAgICAgICAgdGhpcy5pc0xvY2FsID0gaXNMb2NhbENvbm5lY3Rpb25C
ZWluZ0NyZWF0ZWQ7DQogICAgICAgICByY20ubG9nRGVidWcoImNyZWF0aW5nX2Jyb2FkY2FzdF9j
b25uZWN0aW9uIiwgZ2V0SW5mbygpKTsNCiAgICAgICAgIHRyeSB7DQotICAgICAgICAgICAgdGhp
cy50b3BpY1Nlc3Npb24gPSB0b3BpY0Nvbm5lY3Rpb24uY3JlYXRlVG9waWNTZXNzaW9uKGZhbHNl
LCBqYXZheC5qbXMuU2Vzc2lvbi5BVVRPX0FDS05PV0xFREdFKTsNCiAgICAgICAgICAgICBpZihp
c0xvY2FsQ29ubmVjdGlvbkJlaW5nQ3JlYXRlZCkgew0KICAgICAgICAgICAgICAgICAvLyBpdCdz
IGEgbG9jYWwgY29ubmVjdGlvbg0KKyAgICAgICAgICAgICAgICB0aGlzLnRvcGljQ29ubmVjdGlv
biA9IHRvcGljQ29ubmVjdGlvbkZhY3RvcnkuY3JlYXRlVG9waWNDb25uZWN0aW9uKCk7DQorICAg
ICAgICAgICAgICAgIHRoaXMudG9waWNTZXNzaW9uID0gdG9waWNDb25uZWN0aW9uLmNyZWF0ZVRv
cGljU2Vzc2lvbihmYWxzZSwgamF2YXguam1zLlNlc3Npb24uQVVUT19BQ0tOT1dMRURHRSk7DQog
ICAgICAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlciA9IHRvcGljU2Vzc2lvbi5jcmVhdGVTdWJz
Y3JpYmVyKHRvcGljKTsNCi0gICAgICAgICAgICAgICAgdGhpcy50b3BpY0Nvbm5lY3Rpb24uc3Rh
cnQoKTsNCisgICAgICAgICAgICAgICAgdG9waWNDb25uZWN0aW9uLnN0YXJ0KCk7DQogICAgICAg
ICAgICAgICAgIHJjbS5sb2dEZWJ1ZygiYnJvYWRjYXN0X2Nvbm5lY3Rpb25fY3JlYXRlZCIsIGdl
dEluZm8oKSk7DQogICAgICAgICAgICAgICAgIHJjbS5nZXRTZXJ2ZXJQbGF0Zm9ybSgpLmxhdW5j
aENvbnRhaW5lclJ1bm5hYmxlKHRoaXMpOw0KLSAgICAgICAgICAgIH0gZWxzZSB7DQotICAgICAg
ICAgICAgICAgIC8vIGl0J3MgYW4gZXh0ZXJuYWwgY29ubmVjdGlvbg0KLSAgICAgICAgICAgICAg
ICB0aGlzLnB1Ymxpc2hlciA9IHRvcGljU2Vzc2lvbi5jcmVhdGVQdWJsaXNoZXIodG9waWMpOw0K
KyAgICAgICAgICAgIH0gZWxzZSBpZiAocmV1c2VKTVNUb3BpY1B1Ymxpc2hlcikgew0KKyAgICAg
ICAgICAgICAgICAvLyBpdCdzIGFuIGV4dGVybmFsIGNvbm5lY3Rpb24gYW5kIGlzIHNldCB0byBy
ZXVzZSB0aGUgVG9waWNQdWJsaXNoZXIgKGxlZ2FjeSkNCisgICAgICAgICAgICAgICAgdGhpcy50
b3BpY0Nvbm5lY3Rpb24gPSB0b3BpY0Nvbm5lY3Rpb25GYWN0b3J5LmNyZWF0ZVRvcGljQ29ubmVj
dGlvbigpOw0KKyAgICAgICAgICAgICAgICB0aGlzLnRvcGljU2Vzc2lvbiA9IHRvcGljQ29ubmVj
dGlvbi5jcmVhdGVUb3BpY1Nlc3Npb24oZmFsc2UsIGphdmF4Lmptcy5TZXNzaW9uLkFVVE9fQUNL
Tk9XTEVER0UpOw0KKyAgICAgICAgICAgICAgICB0aGlzLnNldFB1Ymxpc2hlcih0b3BpY1Nlc3Np
b24uY3JlYXRlUHVibGlzaGVyKHRvcGljKSk7DQogICAgICAgICAgICAgICAgIHJjbS5sb2dEZWJ1
ZygiYnJvYWRjYXN0X2Nvbm5lY3Rpb25fY3JlYXRlZCIsIGdldEluZm8oKSk7DQotICAgICAgICAg
ICAgfQ0KKyAgICAgICAgICAgIH0gLy9lbHNlIGJ1ZzIxNDUzNDogaXQncyBhbiBleHRlcm5hbCBj
b25uZWN0aW9uLCB3aXRoIFRvcGljQ29ubmVjdGlvbnMsIHNlc3Npb25zIGFuZCBwdWJsaXNoZXJz
IGNyZWF0ZWQgYXMgbmVlZGVkIA0KICAgICAgICAgfSBjYXRjaCAoSk1TRXhjZXB0aW9uIGV4KSB7
DQogICAgICAgICAgICAgcmNtLmxvZ0RlYnVnKCJmYWlsZWRfdG9fY3JlYXRlX2Jyb2FkY2FzdF9j
b25uZWN0aW9uIiwgZ2V0SW5mbygpKTsNCiAgICAgICAgICAgICBjbG9zZSgpOw0KICAgICAgICAg
ICAgIHRocm93IGV4Ow0KICAgICAgICAgfQ0KICAgICB9DQorICAgIA0KKyAgICAvKioNCisgICAg
ICogQ3JlYXRlcyBsb2NhbCBjb25uZWN0aW9ucyB0aGF0IGRvIG5vdCB1c2UgYSBUb3BpY0Nvbm5l
Y3Rpb24gb3IgVG9waWNTZXNzaW9uLA0KKyAgICAgKiB1c2VmdWwgb25seSBmb3IgcHJvY2Vzc2lu
ZyBhbHJlYWR5IHJlY2VpdmVkIEpNUyBtZXNzYWdlcw0KKyAgICAgKiBAcGFyYW0gcmNtDQorICAg
ICAqIEBzZWUgb25NZXNzYWdlDQorICAgICAqLw0KKyAgICBwdWJsaWMgSk1TVG9waWNSZW1vdGVD
b25uZWN0aW9uKFJlbW90ZUNvbW1hbmRNYW5hZ2VyIHJjbSl7DQorICAgICAgICBzdXBlcihyY20p
Ow0KKyAgICAgICAgdGhpcy5pc0xvY2FsID0gdHJ1ZTsNCisgICAgfQ0KIA0KICAgICAvKioNCiAg
ICAgICogSU5URVJOQUw6DQpAQCAtMTA1LDI1ICsxMzcsNDIgQEANCiAgICAgICogRXhlY3V0ZSB0
aGUgcmVtb3RlIGNvbW1hbmQuIFRoZSByZXN1bHQgb2YgZXhlY3V0aW9uIGlzIHJldHVybmVkLg0K
ICAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIG9ubHkgYnkgZXh0ZXJuYWwgKHB1Ymxpc2hpbmcp
IGNvbm5lY3Rpb24uDQogICAgICAqLw0KLSAgICBwcm90ZWN0ZWQgT2JqZWN0IGV4ZWN1dGVDb21t
YW5kSW50ZXJuYWwoQ29tbWFuZCBjb21tYW5kKSB0aHJvd3MgRXhjZXB0aW9uIHsgICAgICAgIA0K
LSAgICAgICAgT2JqZWN0TWVzc2FnZSBtZXNzYWdlID0gdG9waWNTZXNzaW9uLmNyZWF0ZU9iamVj
dE1lc3NhZ2UoKTsNCi0gICAgICAgIG1lc3NhZ2Uuc2V0T2JqZWN0KGNvbW1hbmQpOw0KLSAgICAg
ICAgDQotICAgICAgICBPYmplY3RbXSBkZWJ1Z0luZm8gPSBudWxsOw0KLSAgICAgICAgaWYocmNt
LnNob3VsZExvZ0RlYnVnTWVzc2FnZSgpKSB7DQotICAgICAgICAgICAgLy8gbnVsbCBwYXNzZWQg
YmVjYXVzZSBKTVNNZXNzYWdlSWQgaXMgbm90IHlldCBjcmVhdGVkLg0KLSAgICAgICAgICAgIGRl
YnVnSW5mbyA9IGxvZ0RlYnVnQmVmb3JlUHVibGlzaChudWxsKTsNCisgICAgcHJvdGVjdGVkIE9i
amVjdCBleGVjdXRlQ29tbWFuZEludGVybmFsKENvbW1hbmQgY29tbWFuZCkgdGhyb3dzIEV4Y2Vw
dGlvbiB7DQorICAgICAgICBUb3BpY0Nvbm5lY3Rpb24gam1zQ29ubmVjdGlvbiA9IG51bGw7DQor
ICAgICAgICB0cnkgew0KKyAgICAgICAgICAgIFRvcGljUHVibGlzaGVyIHRvcGljUHVibGlzaGVy
ID0gdGhpcy5wdWJsaXNoZXI7DQorICAgICAgICAgICAgVG9waWNTZXNzaW9uIHB1Ymxpc2hpbmdT
ZXNzaW9uID0gdGhpcy50b3BpY1Nlc3Npb247DQorICAgICAgICAgICAgLy9pZiB0aGUgcHVibGlz
aGVyIGlzIHNldCwgcmV1c2UgaXQuICBPdGhlcndpc2UsIGNyZWF0ZSBpdCAoYW5kIHRoZSBjb25u
ZWN0aW9uIGFuZCBzZXNzaW9uKSBmcm9tIHRoZSB0b3BpY0Nvbm5lY3Rpb25GYWN0b3J5DQorICAg
ICAgICAgICAgaWYgKCB0b3BpY1B1Ymxpc2hlciA9PSBudWxsICl7DQorICAgICAgICAgICAgICAg
IGptc0Nvbm5lY3Rpb24gPSB0b3BpY0Nvbm5lY3Rpb25GYWN0b3J5LmNyZWF0ZVRvcGljQ29ubmVj
dGlvbigpOw0KKyAgICAgICAgICAgICAgICBwdWJsaXNoaW5nU2Vzc2lvbiA9IGptc0Nvbm5lY3Rp
b24uY3JlYXRlVG9waWNTZXNzaW9uKGZhbHNlLCBqYXZheC5qbXMuU2Vzc2lvbi5BVVRPX0FDS05P
V0xFREdFKTsNCisgICAgICAgICAgICAgICAgdG9waWNQdWJsaXNoZXIgPSBwdWJsaXNoaW5nU2Vz
c2lvbi5jcmVhdGVQdWJsaXNoZXIodG9waWMpOw0KKyAgICAgICAgICAgIH0NCisNCisgICAgICAg
ICAgICBPYmplY3RNZXNzYWdlIG1lc3NhZ2UgPSBwdWJsaXNoaW5nU2Vzc2lvbi5jcmVhdGVPYmpl
Y3RNZXNzYWdlKCk7DQorICAgICAgICAgICAgbWVzc2FnZS5zZXRPYmplY3QoY29tbWFuZCk7DQor
ICAgICAgICAgICAgICAgIA0KKyAgICAgICAgICAgIE9iamVjdFtdIGRlYnVnSW5mbyA9IG51bGw7
DQorICAgICAgICAgICAgaWYocmNtLnNob3VsZExvZ0RlYnVnTWVzc2FnZSgpKSB7DQorICAgICAg
ICAgICAgICAgIC8vIG51bGwgcGFzc2VkIGJlY2F1c2UgSk1TTWVzc2FnZUlkIGlzIG5vdCB5ZXQg
Y3JlYXRlZC4NCisgICAgICAgICAgICAgICAgZGVidWdJbmZvID0gbG9nRGVidWdCZWZvcmVQdWJs
aXNoKG51bGwpOw0KKyAgICAgICAgICAgIH0NCisgICAgICAgICAgICAgICAgDQorICAgICAgICAg
ICAgdG9waWNQdWJsaXNoZXIucHVibGlzaChtZXNzYWdlKTsNCisgICAgICAgICAgICAgICAgDQor
ICAgICAgICAgICAgLy8gZGVidWcgbG9nZ2luZyBpcyBvbg0KKyAgICAgICAgICAgIGlmKGRlYnVn
SW5mbyAhPSBudWxsKSB7DQorICAgICAgICAgICAgICAgIC8vIG5vdyBtZXNzYWdlSWQgaGFzIGJl
ZW4gY3JlYXRlZCAtIGxldCdzIHVzZSBpdC4NCisgICAgICAgICAgICAgICAgbG9nRGVidWdBZnRl
clB1Ymxpc2goZGVidWdJbmZvLCBtZXNzYWdlLmdldEpNU01lc3NhZ2VJRCgpKTsNCisgICAgICAg
ICAgICB9DQorICAgICAgICAgICAgDQorICAgICAgICAgICAgcmV0dXJuIG51bGw7DQorICAgICAg
ICB9ZmluYWxseSB7DQorICAgICAgICAgICAgLy9vbmx5IG5lZWQgdG8gY2xvc2UgdGhlIHRvcGlj
Q29ubmVjdGlvbiwgbm90IHRoZSBzZXNzaW9uIG9yIHB1Ymxpc2hlciwgYW5kIG9ubHkgaWYgaXQg
d2FzIGNyZWF0ZWQgaW4gdGhpcyBtZXRob2QuDQorICAgICAgICAgICAgaWYgKGptc0Nvbm5lY3Rp
b24hPW51bGwpew0KKyAgICAgICAgICAgICAgICBqbXNDb25uZWN0aW9uLmNsb3NlKCk7DQorICAg
ICAgICAgICAgfQ0KICAgICAgICAgfQ0KLSAgICAgICAgDQotICAgICAgICBwdWJsaXNoZXIucHVi
bGlzaChtZXNzYWdlKTsNCi0gICAgICAgIA0KLSAgICAgICAgLy8gZGVidWcgbG9nZ2luZyBpcyBv
bg0KLSAgICAgICAgaWYoZGVidWdJbmZvICE9IG51bGwpIHsNCi0gICAgICAgICAgICAvLyBub3cg
bWVzc2FnZUlkIGhhcyBiZWVuIGNyZWF0ZWQgLSBsZXQncyB1c2UgaXQuDQotICAgICAgICAgICAg
bG9nRGVidWdBZnRlclB1Ymxpc2goZGVidWdJbmZvLCBtZXNzYWdlLmdldEpNU01lc3NhZ2VJRCgp
KTsNCi0gICAgICAgIH0NCi0gICAgICAgIA0KLSAgICAgICAgcmV0dXJuIG51bGw7DQogICAgIH0N
CiANCiAgICAgLyoqDQpAQCAtMTk5LDcgKzI0OCw5IEBADQogICAgICAqIGZyZWVzIGFsbCB0aGUg
cmVzb3VyY2VzLg0KICAgICAgKi8NCiAgICAgcHJvdGVjdGVkIHZvaWQgY2xvc2VJbnRlcm5hbCgp
IHRocm93cyBKTVNFeGNlcHRpb24gew0KLSAgICAgICAgaWYoYXJlQWxsUmVzb3VyY2VzRnJlZWRP
bkNsb3NlKCkpIHsNCisgICAgICAgIC8vdGhpcyBtZXRob2Qgc2hvdWxkIGJlIGEgbm8tb3Agbm93
IHRoYXQgZXh0ZXJuYWwgY29ubmVjdGlvbnMgb3Blbi9jbG9zZSBUb3BpY0Nvbm5lY3Rpb24gd2hl
biBuZWVkZWQuICBDbG9zZSBvbiBMb2NhbCANCisgICAgICAgIC8vY29ubmVjdGlvbnMgd2lsbCBl
dmVudHVhbGx5IGNhdXNlIHRvcGljQ29ubmVjdGlvbi5jbG9zZSgpIGluIHRoZWlyIGxpc3Rlbmlu
ZyB0aHJlYWQsIHNvIGl0IHNob3VsZCBub3QgYmUgY2FsbGVkIGhlcmUNCisgICAgICAgIGlmKGFy
ZUFsbFJlc291cmNlc0ZyZWVkT25DbG9zZSgpICYmIHRvcGljQ29ubmVjdGlvbiE9bnVsbCkgew0K
ICAgICAgICAgICAgIC8vIFRoZXJlIGlzIG5vIG5lZWQgdG8gY2xvc2UgdGhlIHNlc3Npb25zLCBw
cm9kdWNlcnMsIGFuZCBjb25zdW1lcnMgb2YgYSBjbG9zZWQgVG9waWNDb25uZWN0aW9uLg0KICAg
ICAgICAgICAgIHRvcGljQ29ubmVjdGlvbi5jbG9zZSgpOw0KICAgICAgICAgfQ0KQEAgLTMyMCw2
ICszNzEsNyBAQA0KIA0KICAgICAvKioNCiAgICAgICogSU5URVJOQUw6DQorICAgICAqIFVzZWQg
Zm9yIGRlYnVnIGxvZ2dpbmcNCiAgICAgICovDQogICAgIHByb3RlY3RlZCB2b2lkIGNyZWF0ZURp
c3BsYXlTdHJpbmcoKSB7DQogICAgICAgICBzdXBlci5jcmVhdGVEaXNwbGF5U3RyaW5nKCk7DQpA
QCAtMzM3LDYgKzM4OSw5NyBAQA0KICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgIH0gICAgDQog
ICAgIA0KKyAgICAvKioNCisgICAgICogSU5URVJOQUw6DQorICAgICAqIHNldCB0aGUgVG9waWNQ
dWJsaXNoZXIgdG8gYmUgdXNlZCB3aGVuIHRoaXMgUmVtb3RlQ29ubmVjdGlvbiBleGVjdXRlcyBh
IGNvbW1hbmQuDQorICAgICAqIFNldHRpbmcgdGhlIFRvcGljUHVibGlzaGVyIGF2b2lkcyBoYXZp
bmcgaXQgb2J0YWluZWQgb24gZWFjaCBleGVjdXRlQ29tbWFuZEludGVybmFsDQorICAgICAqIGNh
bGwuICBQYXNzaW5nIGluIGEgcHVibGlzaGVyIHJlcXVpcmVzIGEgVG9waWNTZXNzaW9uIHRvIGFs
c28gYmUgc2V0LiAgVGhlc2Ugd2lsbA0KKyAgICAgKiBub3QgYmUgY2xvc2VkIHVudGlsIHRoZSBl
eHRlcm5hbCBSZW1vdGVDb25uZWN0aW9uIGlzIGNsb3NlZCwgYW5kIHRoZW4gb25seSBpZiB0aGUg
DQorICAgICAqIFRvcGljQ29ubmVjdGlvbiBpcyBhbHNvIHNldC4NCisgICAgICovDQorICAgIHB1
YmxpYyB2b2lkIHNldFB1Ymxpc2hlcihUb3BpY1B1Ymxpc2hlciBwdWJsaXNoZXIpIHsNCisgICAg
ICAgIHRoaXMucHVibGlzaGVyID0gcHVibGlzaGVyOw0KKyAgICB9DQorDQorICAgIHB1YmxpYyBU
b3BpY1B1Ymxpc2hlciBnZXRQdWJsaXNoZXIoKSB7DQorICAgICAgICByZXR1cm4gcHVibGlzaGVy
Ow0KKyAgICB9DQorICAgIA0KKyAgICAvKioNCisgICAgICogSU5URVJOQUw6DQorICAgICAqIHNl
dCB0aGUgVG9waWNTdWJzY3JpYmVyIG9uIGEgbG9jYWwgUmVtb3RlQ29ubmVjdGlvbiBmb3IgcmVh
ZGluZyBKTVMgbWVzc2FnZXMgd2hlbiANCisgICAgICogdGhpcyBydW5uYWJsZSBjb25uZWN0aW9u
IGlzIHN0YXJ0ZWQgaW4gYSB0aHJlYWQuICBJZiBzZXR0aW5nIHRoaXMsIGEgVG9waWNDb25uZWN0
aW9uIA0KKyAgICAgKiBpcyBhbHNvIHJlcXVpcmVkIHRvIGJlIHNldCwgaW4gb3JkZXIgZm9yIGl0
IHRvIGJlIGNsb3NlZCB3aGVuIHRoZSB0aHJlYWQgY29tcGxldGVzLg0KKyAgICAgKiBUaGlzIGlz
IG9ubHkgdG8gYmUgdXNlZCB3aGVuIHVzaW5nIHRoZSBKTVNUb3BpY1JlbW90ZUNvbm5lY3Rpb24o
cmNtKSBjb25zdHJ1Y3Rvci4NCisgICAgICovDQorICAgIHB1YmxpYyB2b2lkIHNldFN1c2NyaWJl
cihUb3BpY1N1YnNjcmliZXIgc3Vic2NyaWJlcikgew0KKyAgICAgICAgdGhpcy5zdWJzY3JpYmVy
ID0gc3Vic2NyaWJlcjsNCisgICAgfQ0KKw0KKyAgICBwdWJsaWMgVG9waWNTdWJzY3JpYmVyIGdl
dFN1YnNjcmliZXIoKSB7DQorICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjsNCisgICAgfQ0KKyAg
ICANCisgICAgLyoqDQorICAgICAqIElOVEVSTkFMOg0KKyAgICAgKiBzZXQgdGhlIFRvcGljU2Vz
c2lvbiB0byBiZSB1c2VkIHdoZW4gdGhpcyBSZW1vdGVDb25uZWN0aW9uIGV4ZWN1dGVzIGEgY29t
bWFuZCBpZiANCisgICAgICogdGhlIHB1Ymxpc2hlciBpcyBhbHNvIHNldC4gIFNldHRpbmcgdGhl
IFRvcGljU2Vzc2lvbiBhbmQgUHVibGlzaGVyIGF2b2lkcyBoYXZpbmcgDQorICAgICAqIHRoZW0g
b2J0YWluZWQgb24gZWFjaCBleGVjdXRlQ29tbWFuZEludGVybmFsIGNhbGwuICBQYXNzaW5nIGlu
IGEgVG9waWNTZXNzaW9uIA0KKyAgICAgKiByZXF1aXJlcyBhIFRvcGljUHVibGlzaGVyIHRvIGFs
c28gYmUgc2V0LiAgVGhlc2Ugd2lsbCBub3QgYmUgY2xvc2VkIHVudGlsIHRoZSANCisgICAgICog
ZXh0ZXJuYWwgUmVtb3RlQ29ubmVjdGlvbiBpcyBjbG9zZWQsIGFuZCB0aGVuIG9ubHkgaWYgdGhl
IFRvcGljQ29ubmVjdGlvbiBpcyBhbHNvIA0KKyAgICAgKiBzZXQuDQorICAgICAqLw0KKyAgICBw
dWJsaWMgdm9pZCBzZXRUb3BpY1Nlc3Npb24oVG9waWNTZXNzaW9uIHRvcGljU2Vzc2lvbikgew0K
KyAgICAgICAgdGhpcy50b3BpY1Nlc3Npb24gPSB0b3BpY1Nlc3Npb247DQorICAgIH0NCisNCisg
ICAgcHVibGljIFRvcGljU2Vzc2lvbiBnZXRUb3BpY1Nlc3Npb24oKSB7DQorICAgICAgICByZXR1
cm4gdG9waWNTZXNzaW9uOw0KKyAgICB9DQorICAgIA0KKyAgICAvKioNCisgICAgICogSU5URVJO
QUw6DQorICAgICAqIFNldCB0aGUgVG9waWNDb25uZWN0aW9uRmFjdG9yeSwgd2hpY2ggaXMgdXNl
ZCBpZiB0aGUgcHVibGlzaGVyIGlzIG5vdCBzZXQgdG8gDQorICAgICAqIG9idGFpbiB0aGUgVG9w
aWNDb25uZWN0aW9uLCBUb3BpY1Nlc3Npb24gYW5kIFRvcGljUHVibGlzaGVyDQorICAgICAqLw0K
KyAgICBwdWJsaWMgdm9pZCBzZXRUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5KFRvcGljQ29ubmVjdGlv
bkZhY3RvcnkgdG9waWNDb25uZWN0aW9uRmFjdG9yeSl7DQorICAgICAgICB0aGlzLnRvcGljQ29u
bmVjdGlvbkZhY3RvcnkgPSB0b3BpY0Nvbm5lY3Rpb25GYWN0b3J5Ow0KKyAgICB9DQorICAgIA0K
KyAgICBwdWJsaWMgVG9waWNDb25uZWN0aW9uIGdldFRvcGljQ29ubmVjdGlvbkZhY3RvcnkoKSB7
DQorICAgICAgICByZXR1cm4gdG9waWNDb25uZWN0aW9uOw0KKyAgICB9DQorICAgIA0KKyAgICAv
KioNCisgICAgICogSU5URVJOQUw6DQorICAgICAqIFNldCB0aGUgVG9waWNDb25uZWN0aW9uLiBJ
ZiB0aGlzIGlzIHNldCwgYSBQdWJsaXNoZXIgYW5kIFRvcGljU2Vzc2lvbiBtdXN0IGFsc28NCisg
ICAgICogYmUgc2V0LCBvciBhIG5ldyBUb3BpY0Nvbm5lY3Rpb24gd2lsbCBiZSBvYnRhaW5lZCBv
biBlYWNoIGV4ZWN1dGVDb21tYW5kSW50ZXJuYWwgDQorICAgICAqIGNhbGwuICBUaGlzIFRvcGlj
Q29ubmVjdGlvbiBpcyBvbmx5IHVzZWQgb24gY2xvc2UsIGFzIGNsb3NpbmcgdGhlIFRvcGljQ29u
bmVjdGlvbg0KKyAgICAgKiBhbHNvIGNsb3NlcyBhbnkgb3BlbiBUb3BpY1Nlc3Npb25zIGFuZCBQ
dWJsaXNoZXJzIG9idGFpbmVkIGZyb20gaXQuDQorICAgICAqLw0KKyAgICBwdWJsaWMgdm9pZCBz
ZXRUb3BpY0Nvbm5lY3Rpb24oVG9waWNDb25uZWN0aW9uIHRvcGljQ29ubmVjdGlvbil7DQorICAg
ICAgICB0aGlzLnRvcGljQ29ubmVjdGlvbiA9IHRvcGljQ29ubmVjdGlvbjsNCisgICAgfQ0KKyAg
ICANCisgICAgcHVibGljIFRvcGljQ29ubmVjdGlvbiBnZXRUb3BpY0Nvbm5lY3Rpb24oKSB7DQor
ICAgICAgICByZXR1cm4gdG9waWNDb25uZWN0aW9uOw0KKyAgICB9DQorICAgIA0KKyAgICAvKioN
CisgICAgICogSU5URVJOQUw6DQorICAgICAqIFNldCB0aGUgVG9waWMuICBUaGUgVG9waWMgaXMg
cmVxdWlyZWQgd2l0aCB0aGUgVG9waWNDb25uZWN0aW9uRmFjdG9yeSB0byBvYnRhaW4gY29ubmVj
dGlvbnMgDQorICAgICAqIGlmIHRoZSBUb3BpY1B1Ymxpc2hlciBpcyBub3Qgc2V0Lg0KKyAgICAg
KiANCisgICAgICogQHNlZSANCisgICAgICovDQorICAgIHB1YmxpYyB2b2lkIHNldFRvcGljKFRv
cGljIHRvcGljKXsNCisgICAgICAgIHRoaXMudG9waWMgPSB0b3BpYzsNCisgICAgfQ0KKyAgICAN
CisgICAgcHVibGljIFRvcGljIGdldFRvcGljKCkgew0KKyAgICAgICAgcmV0dXJuIHRvcGljOw0K
KyAgICB9DQorDQogICAgIGNsYXNzIEpNU09uTWVzc2FnZUhlbHBlciBpbXBsZW1lbnRzIFJ1bm5h
YmxlIHsNCiAgICAgICAgIE1lc3NhZ2UgbWVzc2FnZSA9IG51bGw7DQogDQpJbmRleDogZm91bmRh
dGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0
ZW5jZS9pbnRlcm5hbC9zZXNzaW9ucy9mYWN0b3JpZXMvbW9kZWwvdHJhbnNwb3J0L0pNU1B1Ymxp
c2hpbmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tLSBmb3VuZGF0
aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3Rl
bmNlL2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9tb2RlbC90cmFuc3BvcnQvSk1TUHVibGlz
aGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWcuamF2YQkocmV2aXNpb24gMCkNCisrKyBmb3VuZGF0
aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3Rl
bmNlL2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9tb2RlbC90cmFuc3BvcnQvSk1TUHVibGlz
aGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWcuamF2YQkocmV2aXNpb24gMCkNCkBAIC0wLDAgKzEs
NjMgQEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMTk5OCwg
MjAxMCBPcmFjbGUuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQorICogVGhpcyBwcm9ncmFtIGFuZCB0
aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIA0K
KyAqIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAgYW5kIEVjbGlwc2Ug
RGlzdHJpYnV0aW9uIExpY2Vuc2Ugdi4gMS4wIA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMg
ZGlzdHJpYnV0aW9uLiANCisgKiBUaGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSBpcyBhdmFpbGFi
bGUgYXQgaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKiBhbmQg
dGhlIEVjbGlwc2UgRGlzdHJpYnV0aW9uIExpY2Vuc2UgaXMgYXZhaWxhYmxlIGF0IA0KKyAqIGh0
dHA6Ly93d3cuZWNsaXBzZS5vcmcvb3JnL2RvY3VtZW50cy9lZGwtdjEwLnBocC4NCisgKg0KKyAq
IENvbnRyaWJ1dG9yczoNCisgKiAgICAgY2RlbGFodW4gLSBCdWcgMjE0NTM0OiBhZGRlZCBmb3Ig
Sk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXIgY29uZmlndXJhdGlvbiB2aWEgc2Vzc2lvbi54
bWwNCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGVyc2lz
dGVuY2UuaW50ZXJuYWwuc2Vzc2lvbnMuZmFjdG9yaWVzLm1vZGVsLnRyYW5zcG9ydDsNCisNCitp
bXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJuYWwuc2Vzc2lvbnMuZmFjdG9yaWVz
Lm1vZGVsLnRyYW5zcG9ydC5uYW1pbmcuSk5ESU5hbWluZ1NlcnZpY2VDb25maWc7DQorDQorLyoq
DQorICogSU5URVJOQUw6DQorICogDQorICovDQorcHVibGljIGNsYXNzIEpNU1B1Ymxpc2hpbmdU
cmFuc3BvcnRNYW5hZ2VyQ29uZmlnIGV4dGVuZHMgVHJhbnNwb3J0TWFuYWdlckNvbmZpZyAgew0K
Kw0KKyAgICBwcml2YXRlIFN0cmluZyBtX3RvcGljSG9zdFVSTDsNCisgICAgcHJpdmF0ZSBTdHJp
bmcgbV90b3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZTsNCisgICAgcHJpdmF0ZSBTdHJpbmcgbV90
b3BpY05hbWU7DQorICAgIHByaXZhdGUgSk5ESU5hbWluZ1NlcnZpY2VDb25maWcgbV9qbmRpTmFt
aW5nU2VydmljZUNvbmZpZzsNCisNCisgICAgcHVibGljIEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRN
YW5hZ2VyQ29uZmlnKCkgew0KKyAgICAgICAgc3VwZXIoKTsNCisgICAgfQ0KKw0KKyAgICBwdWJs
aWMgdm9pZCBzZXRUb3BpY0hvc3RVUkwoU3RyaW5nIHRvcGljSG9zdFVSTCkgew0KKyAgICAgICAg
bV90b3BpY0hvc3RVUkwgPSB0b3BpY0hvc3RVUkw7DQorICAgIH0NCisNCisgICAgcHVibGljIFN0
cmluZyBnZXRUb3BpY0hvc3RVUkwoKSB7DQorICAgICAgICByZXR1cm4gbV90b3BpY0hvc3RVUkw7
DQorICAgIH0NCisNCisgICAgcHVibGljIHZvaWQgc2V0VG9waWNDb25uZWN0aW9uRmFjdG9yeU5h
bWUoU3RyaW5nIHRvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lKSB7DQorICAgICAgICBtX3RvcGlj
Q29ubmVjdGlvbkZhY3RvcnlOYW1lID0gdG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWU7DQorICAg
IH0NCisNCisgICAgcHVibGljIFN0cmluZyBnZXRUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZSgp
IHsNCisgICAgICAgIHJldHVybiBtX3RvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lOw0KKyAgICB9
DQorDQorICAgIHB1YmxpYyB2b2lkIHNldFRvcGljTmFtZShTdHJpbmcgdG9waWNOYW1lKSB7DQor
ICAgICAgICBtX3RvcGljTmFtZSA9IHRvcGljTmFtZTsNCisgICAgfQ0KKw0KKyAgICBwdWJsaWMg
U3RyaW5nIGdldFRvcGljTmFtZSgpIHsNCisgICAgICAgIHJldHVybiBtX3RvcGljTmFtZTsNCisg
ICAgfQ0KKw0KKyAgICBwdWJsaWMgdm9pZCBzZXRKTkRJTmFtaW5nU2VydmljZUNvbmZpZyhKTkRJ
TmFtaW5nU2VydmljZUNvbmZpZyBqbmRpTmFtaW5nU2VydmljZUNvbmZpZykgew0KKyAgICAgICAg
bV9qbmRpTmFtaW5nU2VydmljZUNvbmZpZyA9IGpuZGlOYW1pbmdTZXJ2aWNlQ29uZmlnOw0KKyAg
ICB9DQorDQorICAgIHB1YmxpYyBKTkRJTmFtaW5nU2VydmljZUNvbmZpZyBnZXRKTkRJTmFtaW5n
U2VydmljZUNvbmZpZygpIHsNCisgICAgICAgIHJldHVybiBtX2puZGlOYW1pbmdTZXJ2aWNlQ29u
ZmlnOw0KKyAgICB9DQorfQ0KSW5kZXg6IGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVu
Y2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vzc2lvbnMvZmFj
dG9yaWVzL21vZGVsL3RyYW5zcG9ydC9KTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJDb25maWcuamF2
YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PQ0KLS0tIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29y
ZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vzc2lvbnMvZmFjdG9yaWVz
L21vZGVsL3RyYW5zcG9ydC9KTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJDb25maWcuamF2YQkocmV2
aXNpb24gNjUwNSkNCisrKyBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUv
c3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9t
b2RlbC90cmFuc3BvcnQvSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmphdmEJKHdvcmtp
bmcgY29weSkNCkBAIC05LDUzICs5LDE0IEBADQogICoNCiAgKiBDb250cmlidXRvcnM6DQogICog
ICAgIE9yYWNsZSAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbiBmcm9tIE9yYWNsZSBU
b3BMaW5rDQorICogICAgIGNkZWxhaHVuIC0gQnVnIDIxNDUzNDogbW92ZWQgYWxsIGFwaSB0byBK
TVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlckNvbmZpZyANCiAgKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqLyAgDQogcGFja2FnZSBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5hbC5zZXNzaW9u
cy5mYWN0b3JpZXMubW9kZWwudHJhbnNwb3J0Ow0KIA0KLWltcG9ydCBvcmcuZWNsaXBzZS5wZXJz
aXN0ZW5jZS5pbnRlcm5hbC5zZXNzaW9ucy5mYWN0b3JpZXMubW9kZWwudHJhbnNwb3J0Lm5hbWlu
Zy4qOw0KIA0KIC8qKg0KICAqIElOVEVSTkFMOg0KICAqLw0KLXB1YmxpYyBjbGFzcyBKTVNUb3Bp
Y1RyYW5zcG9ydE1hbmFnZXJDb25maWcgZXh0ZW5kcyBUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnIHsN
Ci0gICAgcHJpdmF0ZSBTdHJpbmcgbV90b3BpY0hvc3RVUkw7DQotICAgIHByaXZhdGUgU3RyaW5n
IG1fdG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWU7DQotICAgIHByaXZhdGUgU3RyaW5nIG1fdG9w
aWNOYW1lOw0KLSAgICBwcml2YXRlIEpORElOYW1pbmdTZXJ2aWNlQ29uZmlnIG1fam5kaU5hbWlu
Z1NlcnZpY2VDb25maWc7DQotDQotICAgIHB1YmxpYyBKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJD
b25maWcoKSB7DQotICAgICAgICBzdXBlcigpOw0KLSAgICB9DQotDQotICAgIHB1YmxpYyB2b2lk
IHNldFRvcGljSG9zdFVSTChTdHJpbmcgdG9waWNIb3N0VVJMKSB7DQotICAgICAgICBtX3RvcGlj
SG9zdFVSTCA9IHRvcGljSG9zdFVSTDsNCi0gICAgfQ0KLQ0KLSAgICBwdWJsaWMgU3RyaW5nIGdl
dFRvcGljSG9zdFVSTCgpIHsNCi0gICAgICAgIHJldHVybiBtX3RvcGljSG9zdFVSTDsNCi0gICAg
fQ0KLQ0KLSAgICBwdWJsaWMgdm9pZCBzZXRUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZShTdHJp
bmcgdG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWUpIHsNCi0gICAgICAgIG1fdG9waWNDb25uZWN0
aW9uRmFjdG9yeU5hbWUgPSB0b3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZTsNCi0gICAgfQ0KLQ0K
LSAgICBwdWJsaWMgU3RyaW5nIGdldFRvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lKCkgew0KLSAg
ICAgICAgcmV0dXJuIG1fdG9waWNDb25uZWN0aW9uRmFjdG9yeU5hbWU7DQotICAgIH0NCi0NCi0g
ICAgcHVibGljIHZvaWQgc2V0VG9waWNOYW1lKFN0cmluZyB0b3BpY05hbWUpIHsNCi0gICAgICAg
IG1fdG9waWNOYW1lID0gdG9waWNOYW1lOw0KLSAgICB9DQotDQotICAgIHB1YmxpYyBTdHJpbmcg
Z2V0VG9waWNOYW1lKCkgew0KLSAgICAgICAgcmV0dXJuIG1fdG9waWNOYW1lOw0KLSAgICB9DQot
DQotICAgIHB1YmxpYyB2b2lkIHNldEpORElOYW1pbmdTZXJ2aWNlQ29uZmlnKEpORElOYW1pbmdT
ZXJ2aWNlQ29uZmlnIGpuZGlOYW1pbmdTZXJ2aWNlQ29uZmlnKSB7DQotICAgICAgICBtX2puZGlO
YW1pbmdTZXJ2aWNlQ29uZmlnID0gam5kaU5hbWluZ1NlcnZpY2VDb25maWc7DQotICAgIH0NCi0N
Ci0gICAgcHVibGljIEpORElOYW1pbmdTZXJ2aWNlQ29uZmlnIGdldEpORElOYW1pbmdTZXJ2aWNl
Q29uZmlnKCkgew0KLSAgICAgICAgcmV0dXJuIG1fam5kaU5hbWluZ1NlcnZpY2VDb25maWc7DQot
ICAgIH0NCitwdWJsaWMgY2xhc3MgSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnIGV4dGVu
ZHMgSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWcgew0KKyAgICANCiB9DQpJbmRl
eDogZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBz
ZS9wZXJzaXN0ZW5jZS9pbnRlcm5hbC9zZXNzaW9ucy9mYWN0b3JpZXMvU2Vzc2lvbnNGYWN0b3J5
LmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT0NCi0tLSBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNl
LmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rv
cmllcy9TZXNzaW9uc0ZhY3RvcnkuamF2YQkocmV2aXNpb24gNjUwNSkNCisrKyBmb3VuZGF0aW9u
L29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNl
L2ludGVybmFsL3Nlc3Npb25zL2ZhY3Rvcmllcy9TZXNzaW9uc0ZhY3RvcnkuamF2YQkod29ya2lu
ZyBjb3B5KQ0KQEAgLTksNiArOSw3IEBADQogICoNCiAgKiBDb250cmlidXRvcnM6DQogICogICAg
IE9yYWNsZSAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbiBmcm9tIE9yYWNsZSBUb3BM
aW5rDQorICogICAgIGNkZWxhaHVuIC0gQnVnIDIxNDUzNDogY2hhbmdlcyBmb3IgSk1TUHVibGlz
aGluZ1RyYW5zcG9ydE1hbmFnZXIgY29uZmlndXJhdGlvbiB2aWEgc2Vzc2lvbi54bWwNCiAgKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqLyAgDQogcGFja2FnZSBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5p
bnRlcm5hbC5zZXNzaW9ucy5mYWN0b3JpZXM7DQogDQpAQCAtMjYsNiArMjcsNyBAQA0KIGltcG9y
dCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5leGNlcHRpb25zLio7DQogaW1wb3J0IG9yZy5lY2xp
cHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi4qOw0KIGltcG9ydCBvcmcuZWNs
aXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24ucm1pLlJNSVRyYW5zcG9ydE1h
bmFnZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5h
dGlvbi5qbXMuSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXI7DQogaW1wb3J0IG9yZy5lY2xp
cHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5qbXMuSk1TVG9waWNUcmFuc3Bv
cnRNYW5hZ2VyOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29y
ZGluYXRpb24uY29yYmEuc3VuLlN1bkNPUkJBVHJhbnNwb3J0TWFuYWdlcjsNCiBpbXBvcnQgb3Jn
LmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuc2VydmVyLio7DQpAQCAtODg5LDggKzg5MSwx
MCBAQA0KICAgICAgICAgICAgIGJ1aWxkUk1JVHJhbnNwb3J0TWFuYWdlckNvbmZpZygoUk1JVHJh
bnNwb3J0TWFuYWdlckNvbmZpZyl0bUNvbmZpZywgcmNtKTsNCiAgICAgICAgIH0gZWxzZSBpZiAo
dG1Db25maWcgaW5zdGFuY2VvZiBSTUlJSU9QVHJhbnNwb3J0TWFuYWdlckNvbmZpZykgew0KICAg
ICAgICAgICAgIGJ1aWxkUk1JSUlPUFRyYW5zcG9ydE1hbmFnZXJDb25maWcoKFJNSUlJT1BUcmFu
c3BvcnRNYW5hZ2VyQ29uZmlnKXRtQ29uZmlnLCByY20pOw0KLSAgICAgICAgfSBlbHNlIGlmICh0
bUNvbmZpZyBpbnN0YW5jZW9mIEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlckNvbmZpZykgew0KKyAg
ICAgICAgfSAgZWxzZSBpZiAodG1Db25maWcgaW5zdGFuY2VvZiBKTVNUb3BpY1RyYW5zcG9ydE1h
bmFnZXJDb25maWcpIHsNCiAgICAgICAgICAgICBidWlsZEpNU1RvcGljVHJhbnNwb3J0TWFuYWdl
ckNvbmZpZygoSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKXRtQ29uZmlnLCByY20pOw0K
KyAgICAgICAgfSBlbHNlIGlmICh0bUNvbmZpZyBpbnN0YW5jZW9mIEpNU1B1Ymxpc2hpbmdUcmFu
c3BvcnRNYW5hZ2VyQ29uZmlnKSB7DQorICAgICAgICAgICAgYnVpbGRKTVNQdWJsaXNoaW5nVHJh
bnNwb3J0TWFuYWdlckNvbmZpZygoSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWcp
dG1Db25maWcsIHJjbSk7DQogICAgICAgICB9IGVsc2UgaWYgKHRtQ29uZmlnIGluc3RhbmNlb2Yg
T2M0akpHcm91cHNUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKSB7DQogICAgICAgICAgICAgYnVpbGRP
YzRqSkdyb3Vwc1RyYW5zcG9ydE1hbmFnZXJDb25maWcoKE9jNGpKR3JvdXBzVHJhbnNwb3J0TWFu
YWdlckNvbmZpZyl0bUNvbmZpZywgcmNtKTsNCiAgICAgICAgIH0gZWxzZSBpZiAodG1Db25maWcg
aW5zdGFuY2VvZiBTdW5DT1JCQVRyYW5zcG9ydE1hbmFnZXJDb25maWcpIHsNCkBAIC05ODMsNyAr
OTg3LDI2IEBADQogDQogICAgICAgICAvLyBTZXQgdGhlIHRyYW5zcG9ydCBtYW5hZ2VyLiBUaGlz
IHdpbGwgaW5pdGlhbGl6ZSB0aGUgRGlzY292ZXJ5TWFuYWdlcg0KICAgICAgICAgcmNtLnNldFRy
YW5zcG9ydE1hbmFnZXIodG0pOw0KKyAgICAgICAgDQorICAgICAgICBwcm9jZXNzSk1TVHJhbnNw
b3J0TWFuYWdlckNvbmZpZyh0bUNvbmZpZywgdG0pOw0KKyAgICB9DQorICAgIA0KKyAgICAvKioN
CisgICAgICogSU5URVJOQUw6DQorICAgICAqLw0KKyAgICBwcm90ZWN0ZWQgdm9pZCBidWlsZEpN
U1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnKEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRN
YW5hZ2VyQ29uZmlnIHRtQ29uZmlnLCBSZW1vdGVDb21tYW5kTWFuYWdlciByY20pIHsNCisgICAg
ICAgIEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyIHRtID0gbmV3IEpNU1B1Ymxpc2hpbmdU
cmFuc3BvcnRNYW5hZ2VyKHJjbSk7DQogDQorICAgICAgICAvLyBTZXQgdGhlIHRyYW5zcG9ydCBt
YW5hZ2VyLiBUaGlzIHdpbGwgaW5pdGlhbGl6ZSB0aGUgRGlzY292ZXJ5TWFuYWdlcg0KKyAgICAg
ICAgcmNtLnNldFRyYW5zcG9ydE1hbmFnZXIodG0pOw0KKyAgICAgICAgcHJvY2Vzc0pNU1RyYW5z
cG9ydE1hbmFnZXJDb25maWcodG1Db25maWcsIHRtKTsNCisgICAgfQ0KKyAgICANCisgICAgLyoq
DQorICAgICAqIElOVEVSTkFMOg0KKyAgICAgKiBDb21tb24gSk1TIGNvbmZpZ3VyYXRpb24NCisg
ICAgICovDQorICAgIHByb3RlY3RlZCB2b2lkIHByb2Nlc3NKTVNUcmFuc3BvcnRNYW5hZ2VyQ29u
ZmlnKEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnIHRtQ29uZmlnLCBKTVNQdWJs
aXNoaW5nVHJhbnNwb3J0TWFuYWdlciB0bSApew0KICAgICAgICAgLy8gSk5ESSBuYW1pbmcgc2Vy
dmljZQ0KICAgICAgICAgaWYgKHRtQ29uZmlnLmdldEpORElOYW1pbmdTZXJ2aWNlQ29uZmlnKCkg
IT0gbnVsbCkgew0KICAgICAgICAgICAgIHRtLnNldE5hbWluZ1NlcnZpY2VUeXBlKFRyYW5zcG9y
dE1hbmFnZXIuSk5ESV9OQU1JTkdfU0VSVklDRSk7DQpJbmRleDogZm91bmRhdGlvbi9vcmcuZWNs
aXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9pbnRlcm5h
bC9zZXNzaW9ucy9mYWN0b3JpZXMvWE1MU2Vzc2lvbkNvbmZpZ1Byb2plY3QuamF2YQ0KPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PQ0KLS0tIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3Jn
L2VjbGlwc2UvcGVyc2lzdGVuY2UvaW50ZXJuYWwvc2Vzc2lvbnMvZmFjdG9yaWVzL1hNTFNlc3Np
b25Db25maWdQcm9qZWN0LmphdmEJKHJldmlzaW9uIDY1MDUpDQorKysgZm91bmRhdGlvbi9vcmcu
ZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9pbnRl
cm5hbC9zZXNzaW9ucy9mYWN0b3JpZXMvWE1MU2Vzc2lvbkNvbmZpZ1Byb2plY3QuamF2YQkod29y
a2luZyBjb3B5KQ0KQEAgLTEzLDYgKzEzLDcgQEANCiAgKiAgICAgICAtIDI1MTAwNTogVGhlIGRl
ZmF1bHQgSk5ESSBJbml0aWFsQ29udGV4dEZhY3RvcnkgaXMgbW9kaWZpZWQgZnJvbQ0KICAqICAg
ICAgIE9DNEo6IG9yYWNsZS5qMmVlLnJtaS5STUlJbml0aWFsQ29udGV4dEZhY3RvcnkgdG8NCiAg
KiAgICAgICBXZWJMb2dpYzogd2VibG9naWMuam5kaS5XTEluaXRpYWxDb250ZXh0RmFjdG9yeQ0K
KyAqICAgICBjZGVsYWh1biAtIEJ1ZyAyMTQ1MzQ6IGNoYW5nZXMgZm9yIEpNU1B1Ymxpc2hpbmdU
cmFuc3BvcnRNYW5hZ2VyIGNvbmZpZ3VyYXRpb24NCiAgKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLyAg
DQogcGFja2FnZSBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5hbC5zZXNzaW9ucy5mYWN0
b3JpZXM7DQogDQpAQCAtNzAsNiArNzEsNyBAQA0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0
ZW5jZS5pbnRlcm5hbC5zZXNzaW9ucy5mYWN0b3JpZXMubW9kZWwuc2Vzc2lvbi5TZXJ2ZXJTZXNz
aW9uQ29uZmlnOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5hbC5zZXNz
aW9ucy5mYWN0b3JpZXMubW9kZWwuc2Vzc2lvbi5TZXNzaW9uQnJva2VyQ29uZmlnOw0KIGltcG9y
dCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5pbnRlcm5hbC5zZXNzaW9ucy5mYWN0b3JpZXMubW9k
ZWwuc2Vzc2lvbi5TZXNzaW9uQ29uZmlnOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5j
ZS5pbnRlcm5hbC5zZXNzaW9ucy5mYWN0b3JpZXMubW9kZWwudHJhbnNwb3J0LkpNU1B1Ymxpc2hp
bmdUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5j
ZS5pbnRlcm5hbC5zZXNzaW9ucy5mYWN0b3JpZXMubW9kZWwudHJhbnNwb3J0LkpNU1RvcGljVHJh
bnNwb3J0TWFuYWdlckNvbmZpZzsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50
ZXJuYWwuc2Vzc2lvbnMuZmFjdG9yaWVzLm1vZGVsLnRyYW5zcG9ydC5STUlJSU9QVHJhbnNwb3J0
TWFuYWdlckNvbmZpZzsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJuYWwu
c2Vzc2lvbnMuZmFjdG9yaWVzLm1vZGVsLnRyYW5zcG9ydC5STUlUcmFuc3BvcnRNYW5hZ2VyQ29u
ZmlnOw0KQEAgLTE4NSw2ICsxODcsNyBAQA0KICAgICAgICAgYWRkRGVzY3JpcHRvcihidWlsZFNl
c3Npb25Ccm9rZXJDb25maWdEZXNjcmlwdG9yKCkpOw0KICAgICAgICAgYWRkRGVzY3JpcHRvcihi
dWlsZFNlc3Npb25Db25maWdEZXNjcmlwdG9yKCkpOw0KICAgICAgICAgYWRkRGVzY3JpcHRvcihi
dWlsZEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlckNvbmZpZ0Rlc2NyaXB0b3IoKSk7DQorICAgICAg
ICBhZGREZXNjcmlwdG9yKGJ1aWxkSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWdE
ZXNjcmlwdG9yKCkpOw0KICAgICAgICAgYWRkRGVzY3JpcHRvcihidWlsZFJNSUlJT1BUcmFuc3Bv
cnRNYW5hZ2VyQ29uZmlnRGVzY3JpcHRvcigpKTsNCiAgICAgICAgIGFkZERlc2NyaXB0b3IoYnVp
bGRSTUlUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnRGVzY3JpcHRvcigpKTsNCiAgICAgICAgIGFkZERl
c2NyaXB0b3IoYnVpbGRUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnRGVzY3JpcHRvcigpKTsNCkBAIC02
NjksMTAgKzY3MiwxMCBAQA0KIA0KICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7DQogICAgIH0N
Ci0NCi0gICAgcHVibGljIENsYXNzRGVzY3JpcHRvciBidWlsZEpNU1RvcGljVHJhbnNwb3J0TWFu
YWdlckNvbmZpZ0Rlc2NyaXB0b3IoKSB7DQorICAgIA0KKyAgICBwdWJsaWMgQ2xhc3NEZXNjcmlw
dG9yIGJ1aWxkSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25maWdEZXNjcmlwdG9yKCkg
ew0KICAgICAgICAgWE1MRGVzY3JpcHRvciBkZXNjcmlwdG9yID0gbmV3IFhNTERlc2NyaXB0b3Io
KTsNCi0gICAgICAgIGRlc2NyaXB0b3Iuc2V0SmF2YUNsYXNzKEpNU1RvcGljVHJhbnNwb3J0TWFu
YWdlckNvbmZpZy5jbGFzcyk7DQorICAgICAgICBkZXNjcmlwdG9yLnNldEphdmFDbGFzcyhKTVNQ
dWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlckNvbmZpZy5jbGFzcyk7DQogICAgICAgICBkZXNjcmlw
dG9yLmdldEluaGVyaXRhbmNlUG9saWN5KCkuc2V0UGFyZW50Q2xhc3MoVHJhbnNwb3J0TWFuYWdl
ckNvbmZpZy5jbGFzcyk7DQogDQogICAgICAgICBYTUxEaXJlY3RNYXBwaW5nIHRvcGljSG9zdFVS
TE1hcHBpbmcgPSBuZXcgWE1MRGlyZWN0TWFwcGluZygpOw0KQEAgLTcwOSw3ICs3MTIsMTQgQEAN
CiAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yOw0KICAgICB9DQogDQorICAgIHB1YmxpYyBDbGFz
c0Rlc2NyaXB0b3IgYnVpbGRKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXJDb25maWdEZXNjcmlwdG9y
KCkgew0KKyAgICAgICAgWE1MRGVzY3JpcHRvciBkZXNjcmlwdG9yID0gbmV3IFhNTERlc2NyaXB0
b3IoKTsNCisgICAgICAgIGRlc2NyaXB0b3Iuc2V0SmF2YUNsYXNzKEpNU1RvcGljVHJhbnNwb3J0
TWFuYWdlckNvbmZpZy5jbGFzcyk7DQorICAgICAgICBkZXNjcmlwdG9yLmdldEluaGVyaXRhbmNl
UG9saWN5KCkuc2V0UGFyZW50Q2xhc3MoSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXJDb25m
aWcuY2xhc3MpOw0KIA0KKyAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7DQorICAgIH0NCisNCiAg
ICAgcHVibGljIENsYXNzRGVzY3JpcHRvciBidWlsZEpORElOYW1pbmdTZXJ2aWNlQ29uZmlnRGVz
Y3JpcHRvcigpIHsNCiAgICAgICAgIFhNTERlc2NyaXB0b3IgZGVzY3JpcHRvciA9IG5ldyBYTUxE
ZXNjcmlwdG9yKCk7DQogICAgICAgICBkZXNjcmlwdG9yLnNldEphdmFDbGFzcyhKTkRJTmFtaW5n
U2VydmljZUNvbmZpZy5jbGFzcyk7DQpAQCAtMTM2OCw2ICsxMzc4LDcgQEANCiAgICAgICAgIGRl
c2NyaXB0b3IuZ2V0SW5oZXJpdGFuY2VQb2xpY3koKS5zZXRDbGFzc0luZGljYXRvckZpZWxkKG5l
dyBYTUxGaWVsZCgiQHhzaTp0eXBlIikpOw0KICAgICAgICAgZGVzY3JpcHRvci5nZXRJbmhlcml0
YW5jZVBvbGljeSgpLmFkZENsYXNzSW5kaWNhdG9yKFJNSVRyYW5zcG9ydE1hbmFnZXJDb25maWcu
Y2xhc3MsICJybWktdHJhbnNwb3J0Iik7DQogICAgICAgICBkZXNjcmlwdG9yLmdldEluaGVyaXRh
bmNlUG9saWN5KCkuYWRkQ2xhc3NJbmRpY2F0b3IoUk1JSUlPUFRyYW5zcG9ydE1hbmFnZXJDb25m
aWcuY2xhc3MsICJybWktaWlvcC10cmFuc3BvcnQiKTsNCisgICAgICAgIGRlc2NyaXB0b3IuZ2V0
SW5oZXJpdGFuY2VQb2xpY3koKS5hZGRDbGFzc0luZGljYXRvcihKTVNQdWJsaXNoaW5nVHJhbnNw
b3J0TWFuYWdlckNvbmZpZy5jbGFzcywgImptcy1wdWJsaXNoaW5nLXRyYW5zcG9ydCIpOw0KICAg
ICAgICAgZGVzY3JpcHRvci5nZXRJbmhlcml0YW5jZVBvbGljeSgpLmFkZENsYXNzSW5kaWNhdG9y
KEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlckNvbmZpZy5jbGFzcywgImptcy10b3BpYy10cmFuc3Bv
cnQiKTsNCiAgICAgICAgIGRlc2NyaXB0b3IuZ2V0SW5oZXJpdGFuY2VQb2xpY3koKS5hZGRDbGFz
c0luZGljYXRvcihTdW5DT1JCQVRyYW5zcG9ydE1hbmFnZXJDb25maWcuY2xhc3MsICJzdW4tY29y
YmEtdHJhbnNwb3J0Iik7DQogICAgICAgICBkZXNjcmlwdG9yLmdldEluaGVyaXRhbmNlUG9saWN5
KCkuYWRkQ2xhc3NJbmRpY2F0b3IoVXNlckRlZmluZWRUcmFuc3BvcnRNYW5hZ2VyQ29uZmlnLmNs
YXNzLCAidXNlci1kZWZpbmVkLXRyYW5zcG9ydCIpOw0KSW5kZXg6IGZvdW5kYXRpb24vb3JnLmVj
bGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uvc2Vzc2lv
bnMvY29vcmRpbmF0aW9uL2ptcy9KTVNQdWJsaXNoaW5nSGVscGVyLmphdmENCj09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0N
Ci0tLSBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xp
cHNlL3BlcnNpc3RlbmNlL3Nlc3Npb25zL2Nvb3JkaW5hdGlvbi9qbXMvSk1TUHVibGlzaGluZ0hl
bHBlci5qYXZhCShyZXZpc2lvbiAwKQ0KKysrIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lz
dGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uvc2Vzc2lvbnMvY29vcmRpbmF0
aW9uL2ptcy9KTVNQdWJsaXNoaW5nSGVscGVyLmphdmEJKHJldmlzaW9uIDApDQpAQCAtMCwwICsx
LDQ2IEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDE5OTgs
IDIwMTAgT3JhY2xlLiBBbGwgcmlnaHRzIHJlc2VydmVkLg0KKyAqIFRoaXMgcHJvZ3JhbSBhbmQg
dGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMgYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSAN
CisgKiB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wIGFuZCBFY2xpcHNl
IERpc3RyaWJ1dGlvbiBMaWNlbnNlIHYuIDEuMCANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlz
IGRpc3RyaWJ1dGlvbi4gDQorICogVGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgaXMgYXZhaWxh
YmxlIGF0IGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQorICogYW5k
IHRoZSBFY2xpcHNlIERpc3RyaWJ1dGlvbiBMaWNlbnNlIGlzIGF2YWlsYWJsZSBhdCANCisgKiBo
dHRwOi8vd3d3LmVjbGlwc2Uub3JnL29yZy9kb2N1bWVudHMvZWRsLXYxMC5waHAuDQorICoNCisg
KiBDb250cmlidXRvcnM6DQorICogICAgIGNkZWxhaHVuIC0gQnVnIDIxNDUzNDogYWRkZWQgYXMg
YSBwdWJsaWMgaGVscGVyIGZvciBKTVMgUkNNIG1lc3NhZ2UgcHJvY2Vzc2luZw0KKyAqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKiovICANCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Np
b25zLmNvb3JkaW5hdGlvbi5qbXM7DQorDQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNl
LmV4Y2VwdGlvbnMuUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb247DQoraW1wb3J0IG9yZy5l
Y2xpcHNlLnBlcnNpc3RlbmNlLmludGVybmFsLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5qbXMuSk1T
VG9waWNSZW1vdGVDb25uZWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5p
bnRlcm5hbC5zZXNzaW9ucy5BYnN0cmFjdFNlc3Npb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBl
cnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5SZW1vdGVDb21tYW5kTWFuYWdlcjsNCisN
CisvKiogDQorICogVGhpcyBoZWxwZXIgY2xhc3MgYWxsb3dzIGFjY2VzcyB0byBhYnN0cmFjdCBK
TVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlciBpbnRlcm5hbHMgd2hlbiBwcm9jZXNzaW5nIA0K
KyAqIEpNUyBtZXNzYWdlcyBmb3IgUkNNLCBhbmQgY2FuIGJlIGV4cGFuZGVkIHVwb24gdG8gaW5j
bHVkZSBvdGhlciBFY2xpcHNlTGluayBKTVMgZnVuY3Rpb25hbGl0eS4gICANCisgKiANCisgKiBA
YXV0aG9yIENocmlzIERlbGFodW50IA0KKyAqLyANCitwdWJsaWMgY2xhc3MgSk1TUHVibGlzaGlu
Z0hlbHBlciB7DQorICAgIC8qKg0KKyAgICAgKiBQVUJMSUM6DQorICAgICAqIFByb2Nlc3NlcyB0
aGUgcmVjZWl2ZWQgUkNNIG1lc3NhZ2VkIGZyb20gYSBKTVMgcHJvdmlkZXIgZm9yIGNhY2hlIGNv
b3JkaW5hdGlvbi4NCisgICAgICogVGhpcyB3aWxsIHVzZSB0aGUgbG9jYWwgY29ubmVjdGlvbiBm
cm9tIHRoZSBjb25maWd1cmVkIFRyYW5zcG9ydE1hbmFnZXIgZnJvbSB0aGUgc2Vzc2lvbidzIFJl
bW90ZUNvbW1hbmRNYW5hZ2VyLg0KKyAgICAgKiANCisgICAgICogQHBhcmFtIG1lc3NhZ2UNCisg
ICAgICogQHBhcmFtIHNlc3Npb24NCisgICAgICogDQorICAgICAqIA0KKyAgICAgKi8NCisgICAg
cHVibGljIHN0YXRpYyB2b2lkIHByb2Nlc3NKTVNNZXNzYWdlKGphdmF4Lmptcy5NZXNzYWdlIG1l
c3NhZ2UsIEFic3RyYWN0U2Vzc2lvbiBzZXNzaW9uKXsNCisgICAgICAgIFJlbW90ZUNvbW1hbmRN
YW5hZ2VyIHJjbSA9IChSZW1vdGVDb21tYW5kTWFuYWdlcilzZXNzaW9uLmdldENvbW1hbmRNYW5h
Z2VyKCk7DQorICAgICAgICBpZihyY20uaXNTdG9wcGVkKCkpew0KKyAgICAgICAgICAgIHRocm93
IFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLnJlbW90ZUNvbW1hbmRNYW5hZ2VySXNDbG9z
ZWQoKTsNCisgICAgICAgIH0NCisgICAgICAgIEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbiBjb25u
ZWN0aW9uID0gKEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbilyY20uZ2V0VHJhbnNwb3J0TWFuYWdl
cigpLmdldENvbm5lY3Rpb25Ub0xvY2FsSG9zdCgpOw0KKyAgICAgICAgY29ubmVjdGlvbi5vbk1l
c3NhZ2UobWVzc2FnZSk7DQorICAgIH0NCisgICAgDQorfQ0KSW5kZXg6IGZvdW5kYXRpb24vb3Jn
LmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uvc2Vz
c2lvbnMvY29vcmRpbmF0aW9uL2ptcy9KTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlci5qYXZh
DQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09DQotLS0gZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3Jl
L3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9zZXNzaW9ucy9jb29yZGluYXRpb24vam1zL0pN
U1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyLmphdmEJKHJldmlzaW9uIDApDQorKysgZm91bmRh
dGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0
ZW5jZS9zZXNzaW9ucy9jb29yZGluYXRpb24vam1zL0pNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5h
Z2VyLmphdmEJKHJldmlzaW9uIDApDQpAQCAtMCwwICsxLDI2NiBAQA0KKy8qKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqICANCisgKiBDb3B5cmlnaHQgKGMpIDE5OTgsIDIwMTAgT3JhY2xlLiBBbGwgcmln
aHRzIHJlc2VydmVkLiAgDQorICogVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1h
dGVyaWFscyBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlICANCisgKiB0ZXJtcyBvZiB0aGUg
RWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wLCB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3Ry
aWJ1dGlvbiAgDQorICogYW5kIGlzIGF2YWlsYWJsZSBhdCBodHRwOi8vd3d3LmVjbGlwc2Uub3Jn
L2xlZ2FsL2VwbC12MTAuaHRtbC4gIA0KKyAqICANCisgKiBDb250cmlidXRvcnM6IA0KKyAqICAg
ICBjZGVsYWh1biAtIEJ1ZyAyMTQ1MzQ6IGFkZGVkIEpNUyBDYWNoZSBDb29yZGluYXRpb24gZm9y
IHB1Ymxpc2hpbmcgb25seQ0KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovICAgIA0KK3BhY2thZ2Ug
b3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuY29vcmRpbmF0aW9uLmptczsNCisgDQor
aW1wb3J0IGphdmEudXRpbC5IYXNodGFibGU7DQorDQoraW1wb3J0IGphdmF4Lmptcy5Ub3BpYzsN
CitpbXBvcnQgamF2YXguam1zLlRvcGljQ29ubmVjdGlvbkZhY3Rvcnk7DQoraW1wb3J0IGphdmF4
Lm5hbWluZy5Db250ZXh0Ow0KK2ltcG9ydCBqYXZheC5uYW1pbmcuTmFtaW5nRXhjZXB0aW9uOw0K
Kw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5leGNlcHRpb25zLlJlbW90ZUNvbW1h
bmRNYW5hZ2VyRXhjZXB0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5leGNl
cHRpb25zLlZhbGlkYXRpb25FeGNlcHRpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3Rl
bmNlLmludGVybmFsLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5qbXMuSk1TVG9waWNSZW1vdGVDb25u
ZWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGlu
YXRpb24uYnJvYWRjYXN0LkJyb2FkY2FzdFRyYW5zcG9ydE1hbmFnZXI7DQoraW1wb3J0IG9yZy5l
Y2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5SZW1vdGVDb21tYW5kTWFu
YWdlcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMuY29vcmRpbmF0
aW9uLlRyYW5zcG9ydE1hbmFnZXI7DQorDQorLyoqDQorICogPHA+DQorICogPGI+UHVycG9zZTwv
Yj46IFByb3ZpZGUgYSB0cmFuc3BvcnQgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBSZW1vdGUgQ29t
bWFuZCBNb2R1bGUgKFJDTSkgdGhhdCBwdWJsaXNoZXMNCisgKiB0byBhIEpNUyB0b3BpYy4gIA0K
KyAqIDxwPg0KKyAqIDxiPkRlc2NyaXB0aW9uPC9iPjogVGhpcyBjbGFzcyBtYW5hZ2VzIHR3byBj
b25uZWN0aW9uczogYW4gZXh0ZXJuYWwgY29ubmVjdGlvbiBmb3IgcHVibGlzaGluZyB0byBKTVMs
IA0KKyAqICBhbmQgYSBsb2NhbCBjb25uZWN0aW9uIHdoaWNoIGNhbiBiZSB1c2VkIHRvIHByb2Nl
c3MgSk1TIG1lc3NhZ2VzIHJlY2VpdmVkIGZyb20gYW4gYXBwbGljYXRpb24gSk1TIGxpc3RlbmVy
Lg0KKyAqIDxwPg0KKyAqIEBhdXRob3IgQ2hyaXMgRGVsYWh1bnQNCisgKiBAc2luY2UgRWNsaXBz
ZUxpbmsgMi4xDQorICovDQorcHVibGljIGNsYXNzIEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5h
Z2VyIGV4dGVuZHMgQnJvYWRjYXN0VHJhbnNwb3J0TWFuYWdlciB7DQorICAgIHByb3RlY3RlZCBT
dHJpbmcgY29ubmVjdGlvbkZhY3RvcnlOYW1lOw0KKyAgICANCisgICAgLyogDQorICAgICAqIGZs
YWcgdXNlZCB0byB0b2dnbGUgYmV0d2VlbiBzcGVjIGNvbXBsaWFudCBiZWhhdmlvciBhbmQgbGVn
YWN5IGJlaGF2aW9yLiAgRGVmYXVsdCBmYWxzZSBjYXVzZXMgZXh0ZXJuYWwgSk1TVG9waWNSZW1v
dGVDb25uZWN0aW9uIHRvIGNhY2hlIHRoZSANCisgICAgICogVG9waWNDb25uZWN0aW9uRmFjdG9y
eSBhbmQgb2J0YWluIFRvcGljQ29ubmVjdGlvbnMgZXRjIG9ubHkgd2hlbiBleGVjdXRlQ29tbWFu
ZCBpcyBjYWxsZWQsIHJlbGVhc2luZyB0aGVtIGltbWVkaWF0ZWx5LiAgDQorICAgICAqIFRydWUg
Y2F1c2VzIFRvcGljQ29ubmVjdGlvbiwgVG9waWNTZXNzaW9uIGFuZCBUb3BpY1B1Ymxpc2hlciB0
byBiZSBoZWxkIGFuZCB1c2VkIGZvciBldmVyeSBleGVjdXRlQ29tbWFuZCBjYWxsLg0KKyAgICAg
KiBBIHZhbHVlIG9mIHRydWUgaGFzIHNwZWMgaW1wbGljYXRpb25zLCBhcyBUb3BpY1B1Ymxpc2hl
cnMgYXJlIG5vdCBjb25jdXJyZW50IG9iamVjdHMsIGJ1dCB3YXMgYWRkZWQgaW4gZm9yIGFwcGxp
Y2F0aW9ucw0KKyAgICAgKiB0aGF0IG1heSBoYXZlIHdvcmtlZCBwcmV2aW91c2x5IGJ1dCBlbmNv
dW50ZXIgcGVyZm9ybWFuY2UgaXNzdWVzIHdpdGggcmVwZWF0ZWRseSBjcmVhdGluZyBUb3BpY0Nv
bm5lY3Rpb25zIGV0Yy4NCisgICAgICovDQorICAgIHByb3RlY3RlZCBib29sZWFuIHJldXNlSk1T
VG9waWNQdWJsaXNoZXIgPSBmYWxzZTsNCisNCisgICAgcHVibGljIHN0YXRpYyBmaW5hbCBTdHJp
bmcgREVGQVVMVF9UT1BJQyA9ICJqbXMvRWNsaXBzZUxpbmtUb3BpYyI7DQorICAgIHB1YmxpYyBz
dGF0aWMgZmluYWwgU3RyaW5nIERFRkFVTFRfQ09OTkVDVElPTl9GQUNUT1JZID0gImptcy9FY2xp
cHNlTGlua1RvcGljQ29ubmVjdGlvbkZhY3RvcnkiOw0KKyAgICAvKiogIA0KKyAgICAgKiBQVUJM
SUM6ICANCisgICAgICogQ3JlYXRlcyBhIEpNU1B1Ymxpc2hpbmdPbmx5VG9waWNUcmFuc3BvcnRN
YW5hZ2VyICANCisgICAgICovICANCisgICAgcHVibGljIEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRN
YW5hZ2VyKFJlbW90ZUNvbW1hbmRNYW5hZ2VyIHJjbSkgeyAgDQorICAgICAgICBzdXBlcihyY20p
OyAgDQorICAgIH0NCisNCisgICAgLyoqDQorICAgICAqIElOVEVSTkFMOg0KKyAgICAgKiBUaGlz
IG1ldGhvZCBjcmVhdGVzIEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbiB0byBiZSB1c2VkIGJ5IHRo
aXMgVHJhbnNwb3J0TWFuYWdlci4NCisgICAgICogRG9uJ3QgY29uZnVzZSB0aGlzIG1ldGhvZCB3
aXRoIG5vLW9wIGNyZWF0ZUNvbm5lY3Rpb24oU2VydmljZUlkIHNlcnZpY2VJZCkuDQorICAgICAq
Lw0KKyAgICBwcm90ZWN0ZWQgSk1TVG9waWNSZW1vdGVDb25uZWN0aW9uIGNyZWF0ZUNvbm5lY3Rp
b24oYm9vbGVhbiBpc0xvY2FsQ29ubmVjdGlvbkJlaW5nQ3JlYXRlZCkgdGhyb3dzIFJlbW90ZUNv
bW1hbmRNYW5hZ2VyRXhjZXB0aW9uIHsNCisgICAgICAgIENvbnRleHQgcmVtb3RlSG9zdENvbnRl
eHQgPSBudWxsOw0KKyAgICAgICAgdHJ5IHsNCisgICAgICAgICAgICByZW1vdGVIb3N0Q29udGV4
dCA9IGdldFJlbW90ZUhvc3RDb250ZXh0KGdldFRvcGljSG9zdFVybCgpKTsNCisgICAgICAgICAg
ICBUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5IGNvbm5lY3Rpb25GYWN0b3J5ID0gZ2V0VG9waWNDb25u
ZWN0aW9uRmFjdG9yeShyZW1vdGVIb3N0Q29udGV4dCk7DQorICAgICAgICAgICAgVG9waWMgdG9w
aWMgPSBnZXRUb3BpYyhyZW1vdGVIb3N0Q29udGV4dCk7DQorICAgICAgICAgICAgLy8gZXh0ZXJu
YWwgY29ubmVjdGlvbiBpcyBhIHB1Ymxpc2hlcjsgbG9jYWwgY29ubmVjdGlvbiBpcyBhIHN1YnNj
cmliZXINCisgICAgICAgICAgICByZXR1cm4gbmV3IEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbihy
Y20sIGNvbm5lY3Rpb25GYWN0b3J5LCB0b3BpYywgaXNMb2NhbENvbm5lY3Rpb25CZWluZ0NyZWF0
ZWQsIHJldXNlSk1TVG9waWNQdWJsaXNoZXIpOw0KKyAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9u
IGV4KSB7DQorICAgICAgICAgICAgUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24gcmNtRXhj
ZXB0aW9uOw0KKyAgICAgICAgICAgIGlmKGlzTG9jYWxDb25uZWN0aW9uQmVpbmdDcmVhdGVkKSB7
DQorICAgICAgICAgICAgICAgIHJjbUV4Y2VwdGlvbiA9IFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhj
ZXB0aW9uLmVycm9yQ3JlYXRpbmdMb2NhbEpNU0Nvbm5lY3Rpb24odG9waWNOYW1lLCBjb25uZWN0
aW9uRmFjdG9yeU5hbWUsIGdldFJlbW90ZUNvbnRleHRQcm9wZXJ0aWVzKCksIGV4KTsNCisgICAg
ICAgICAgICB9IGVsc2Ugew0KKyAgICAgICAgICAgICAgICByY21FeGNlcHRpb24gPSBSZW1vdGVD
b21tYW5kTWFuYWdlckV4Y2VwdGlvbi5lcnJvckNyZWF0aW5nSk1TQ29ubmVjdGlvbih0b3BpY05h
bWUsIGNvbm5lY3Rpb25GYWN0b3J5TmFtZSwgZ2V0UmVtb3RlQ29udGV4dFByb3BlcnRpZXMoKSwg
ZXgpOw0KKyAgICAgICAgICAgIH0NCisgICAgICAgICAgICB0aHJvdyByY21FeGNlcHRpb247DQor
ICAgICAgICB9IGZpbmFsbHkgew0KKyAgICAgICAgICAgIGlmKHJlbW90ZUhvc3RDb250ZXh0ICE9
IG51bGwpIHsNCisgICAgICAgICAgICAgICAgdHJ5IHsNCisgICAgICAgICAgICAgICAgICAgIHJl
bW90ZUhvc3RDb250ZXh0LmNsb3NlKCk7DQorICAgICAgICAgICAgICAgIH0gY2F0Y2ggKE5hbWlu
Z0V4Y2VwdGlvbiBuYW1pbmdFeGNlcHRpb24pIHsNCisgICAgICAgICAgICAgICAgICAgIC8vIGln
bm9yZQ0KKyAgICAgICAgICAgICAgICB9DQorICAgICAgICAgICAgfQ0KKyAgICAgICAgfQ0KKyAg
ICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRFUk5BTDoNCisgICAgICogSk1TVG9waWNUcmFu
c3BvcnRNYW5hZ2VyIGRvZXNuJ3QgdXNlIERpc2NvdmVyeU1hbmFnZXIsIHRoZXJlZm9yZQ0KKyAg
ICAgKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgZHVyaW5nIFJDTSBpbml0aWFsaXphdGlvbiB0byBj
cmVhdGUgYWxsIHRoZSBuZWNlc3NhcnkgY29ubmVjdGlvbnMuDQorICAgICAqLw0KKyAgICBwdWJs
aWMgdm9pZCBjcmVhdGVDb25uZWN0aW9ucygpIHsNCisgICAgICAgIGNyZWF0ZUV4dGVybmFsQ29u
bmVjdGlvbigpOw0KKyAgICAgICAgY3JlYXRlTG9jYWxDb25uZWN0aW9uKCk7DQorICAgIH0NCisN
CisgICAgLyoqDQorICAgICAqIElOVEVSTkFMOg0KKyAgICAgKiBKTVNQdWJsaXNoaW5nVHJhbnNw
b3J0TWFuYWdlciBoYXMgbWF4aW11bSBvbmUgZXh0ZXJuYWwgY29ubmVjdGlvbi4NCisgICAgICog
VmVyaWZ5IHRoZXJlIGFyZSBubyBleHRlcm5hbCBjb25uZWN0aW9ucywNCisgICAgICogY3JlYXRl
IGEgbmV3IGV4dGVybmFsIGNvbm5lY3Rpb24sIA0KKyAgICAgKiBhZGQgaXQgdG8gZXh0ZXJuYWwg
Y29ubmVjdGlvbnMnIG1hcC4NCisgICAgICovDQorICAgIHB1YmxpYyB2b2lkIGNyZWF0ZUV4dGVy
bmFsQ29ubmVjdGlvbigpIHsNCisgICAgICAgIHN5bmNocm9uaXplZChjb25uZWN0aW9uc1RvRXh0
ZXJuYWxTZXJ2aWNlcykgew0KKyAgICAgICAgICAgIGlmKGNvbm5lY3Rpb25zVG9FeHRlcm5hbFNl
cnZpY2VzLmlzRW1wdHkoKSkgew0KKyAgICAgICAgICAgICAgICB0cnkgew0KKyAgICAgICAgICAg
ICAgICAgICAgY29ubmVjdGlvbnNUb0V4dGVybmFsU2VydmljZXMucHV0KHJjbS5nZXRTZXJ2aWNl
SWQoKS5nZXRJZCgpLCBjcmVhdGVDb25uZWN0aW9uKGZhbHNlKSk7DQorICAgICAgICAgICAgICAg
IH0gY2F0Y2ggKFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uIHJjbUV4Y2VwdGlvbikgew0K
KyAgICAgICAgICAgICAgICAgICAgLy8gdG8gcmVjb3ZlciBoYW5kbGUgUmVtb3RlQ29tbWFuZE1h
bmFnZXJFeGNlcHRpb24uRVJST1JfQ1JFQVRJTkdfSk1TX0NPTk5FQ1RJT046DQorICAgICAgICAg
ICAgICAgICAgICAvLyBhZnRlciBjaGFuZ2luZyBzb21ldGhpbmcgKGZvciBpbnN0YW5jZSBqbXNI
b3N0VXJsKQ0KKyAgICAgICAgICAgICAgICAgICAgLy8gY2FsbCBjcmVhdGVFeHRlcm5hbENvbm5l
Y3Rpb24gbWV0aG9kIGFnYWluLg0KKyAgICAgICAgICAgICAgICAgICAgcmNtLmhhbmRsZUV4Y2Vw
dGlvbihyY21FeGNlcHRpb24pOw0KKyAgICAgICAgICAgICAgICB9DQorICAgICAgICAgICAgfSAg
ICAgICAgICAgIA0KKyAgICAgICAgfQ0KKyAgICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRF
Uk5BTDoNCisgICAgICogSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXIgaGFzIG9ubHkgdHdv
IGNvbm5lY3Rpb25zOiBvbmUgbG9jYWwgYW5kIG9uZSBleHRlcm5hbC4NCisgICAgICogSW4gY2Fz
ZSB0aGUgbG9jYWwgY29ubmVjdGlvbiBkb2Vzbid0IGV4aXN0LCB0aGlzIG1ldGhvZCBjcmVhdGVz
IGl0IGFuZCBob2xkcyBpdCB0byBiZSB1c2VkDQorICAgICAqIHdoZW4gcHJvY2Vzc2luZyBpbmNv
bWluZyBKTVMgbWVzc2FnZXMuICBUaGUgc3RvcmVkIGxvY2FsIGNvbm5lY3Rpb24gb24gSk1TUHVi
bGlzaGluZ1RyYW5zcG9ydE1hbmFnZXINCisgICAgICogZG9lcyBub3QgY29ubmVjdCB0byB0b3Bp
Y0Nvbm5lY3Rpb24sIGFuZCBpbnN0ZWFkIG11c3QgYmUgdXNlZCBmcm9tIGFuIE1EQiB3aGVuIGEg
bWVzc2FnZSBpcyByZWNlaXZlZA0KKyAgICAgKi8NCisgICAgcHVibGljIHZvaWQgY3JlYXRlTG9j
YWxDb25uZWN0aW9uKCkgew0KKyAgICAgICAgaWYobG9jYWxDb25uZWN0aW9uID09IG51bGwpIHsN
CisgICAgICAgICAgICBsb2NhbENvbm5lY3Rpb24gPSBuZXcgSk1TVG9waWNSZW1vdGVDb25uZWN0
aW9uKHJjbSk7DQorICAgICAgICB9DQorICAgIH0NCisgICAgDQorDQorICAgIC8qKg0KKyAgICAg
KiBJTlRFUk5BTDoNCisgICAgICogSW4gY2FzZSB0aGVyZSdzIG5vIGV4dGVybmFsIGNvbm5lY3Rp
b24gYXR0ZW1wdHMgdG8gY3JlYXRlIG9uZS4NCisgICAgICogUmV0dXJucyBjbG9uZSBvZiB0aGUg
b3JpZ2luYWwgbWFwLg0KKyAgICAgKi8NCisgICAgcHVibGljIEhhc2h0YWJsZSBnZXRDb25uZWN0
aW9uc1RvRXh0ZXJuYWxTZXJ2aWNlc0ZvckNvbW1hbmRQcm9wYWdhdGlvbigpIHsNCisgICAgICAg
IGlmKHRoaXMuZ2V0Q29ubmVjdGlvbnNUb0V4dGVybmFsU2VydmljZXMoKS5pc0VtcHR5KCkgJiYg
IXRoaXMucmNtLmlzU3RvcHBlZCgpKSB7DQorICAgICAgICAgICAgdGhpcy5jcmVhdGVFeHRlcm5h
bENvbm5lY3Rpb24oKTsNCisgICAgICAgIH0NCisgICAgICAgIHJldHVybiBzdXBlci5nZXRDb25u
ZWN0aW9uc1RvRXh0ZXJuYWxTZXJ2aWNlc0ZvckNvbW1hbmRQcm9wYWdhdGlvbigpOw0KKyAgICB9
DQorICAgIA0KKyAgICAvKioNCisgICAgICogUFVCTElDOg0KKyAgICAgKiBmbGFnIHVzZWQgdG8g
dG9nZ2xlIGJldHdlZW4gajJFRS9KTVMgc3BlYyBjb21wbGlhbnQgYmVoYXZpb3IgYW5kIGxlZ2Fj
eSBiZWhhdmlvci4gIERlZmF1bHQgdmFsdWUgZmFsc2UgY2F1c2VzIGV4dGVybmFsDQorICAgICAq
ICBKTVNUb3BpY1JlbW90ZUNvbm5lY3Rpb24gdG8gY2FjaGUgdGhlIFRvcGljQ29ubmVjdGlvbkZh
Y3RvcnkgYW5kIG9idGFpbiBUb3BpY0Nvbm5lY3Rpb25zLCBUb3BpY1Nlc3Npb24gYW5kIFRvcGlj
UHVibGlzaGVycyANCisgICAgICogIGV2ZXJ5IHRpbWUgZXhlY3V0ZUNvbW1hbmQgaXMgY2FsbGVk
LCBhbmQgdGhlbiBjbG9zaW5nIHRoZW0gaW1tZWRpYXRlbHkuICBUaGlzIGlzIEpNUyBhbmQgSjJF
RSBjb21wbGlhbnQsIGFzIHRoZSBUb3BpY0Nvbm5lY3Rpb24NCisgICAgICogIGlzIG5ldmVyIHJl
dXNlZCBpbiBkaWZmZXJlbnQgdGhyZWFkcy4NCisgICAgICogVHJ1ZSBjYXVzZXMgVG9waWNDb25u
ZWN0aW9uLCBUb3BpY1Nlc3Npb24gYW5kIFRvcGljUHVibGlzaGVyIHRvIGJlIGNhY2hlZCB3aXRo
aW4gdGhlIEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbiBhbmQgdXNlZCBmb3IgDQorICAgICAqICBl
dmVyeSBleGVjdXRlQ29tbWFuZCBjYWxsLiAgVGhlc2Ugb2JqZWN0cyBjYW4gcG90ZW50aWFsbHkg
dXNlZCBjb25jdXJyZW50bHksIHdoaWNoIHRoZSBKTVMgc3BlYyBkb2VzIG5vdCBmb3JjZSANCisg
ICAgICogIHByb3ZpZGVycyB0byBzdXBwb3J0LiAgDQorICAgICAqLw0KKyAgICBwdWJsaWMgYm9v
bGVhbiBnZXRSZXVzZUpNU1RvcGljUHVibGlzaGVyKCl7DQorICAgICAgICByZXR1cm4gdGhpcy5y
ZXVzZUpNU1RvcGljUHVibGlzaGVyOw0KKyAgICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBJTlRF
Uk5BTDoNCisgICAgICovDQorICAgIHByb3RlY3RlZCBUb3BpYyBnZXRUb3BpYyhDb250ZXh0IHJl
bW90ZUhvc3RDb250ZXh0KSB7DQorICAgICAgICB0cnkgew0KKyAgICAgICAgICAgIHJldHVybiAo
VG9waWMpcmVtb3RlSG9zdENvbnRleHQubG9va3VwKHRvcGljTmFtZSk7DQorICAgICAgICB9IGNh
dGNoIChOYW1pbmdFeGNlcHRpb24gZSkgew0KKyAgICAgICAgICAgIFJlbW90ZUNvbW1hbmRNYW5h
Z2VyRXhjZXB0aW9uIHJjbUV4Y2VwdGlvbiA9IFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9u
LmVycm9yTG9va2luZ1VwUmVtb3RlQ29ubmVjdGlvbih0b3BpY05hbWUsIHJjbS5nZXRVcmwoKSwg
ZSk7DQorICAgICAgICAgICAgcmNtLmhhbmRsZUV4Y2VwdGlvbihyY21FeGNlcHRpb24pOw0KKyAg
ICAgICAgICAgIC8vIElmIHRoZSBoYW5kbGVyIGhhc24ndCB0aHJvd24gdGhlIGV4Y2VwdGlvbiBy
ZXRocm93IGl0IGhlcmUgLSBpdCdzIGltcG9zc2libGUgdG8gcmVjb3Zlci4NCisgICAgICAgICAg
ICB0aHJvdyByY21FeGNlcHRpb247DQorICAgICAgICB9DQorICAgIH0NCisNCisgICAgLyoqDQor
ICAgICAqIElOVEVSTkFMOg0KKyAgICAgKi8NCisgICAgcHJvdGVjdGVkIFRvcGljQ29ubmVjdGlv
bkZhY3RvcnkgZ2V0VG9waWNDb25uZWN0aW9uRmFjdG9yeShDb250ZXh0IHJlbW90ZUhvc3RDb250
ZXh0KSB7DQorICAgICAgICB0cnkgew0KKyAgICAgICAgICAgIHJldHVybiAoVG9waWNDb25uZWN0
aW9uRmFjdG9yeSlyZW1vdGVIb3N0Q29udGV4dC5sb29rdXAoY29ubmVjdGlvbkZhY3RvcnlOYW1l
KTsNCisgICAgICAgIH0gY2F0Y2ggKE5hbWluZ0V4Y2VwdGlvbiBlKSB7DQorICAgICAgICAgICAg
UmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24gcmNtRXhjZXB0aW9uID0gUmVtb3RlQ29tbWFu
ZE1hbmFnZXJFeGNlcHRpb24uZXJyb3JMb29raW5nVXBSZW1vdGVDb25uZWN0aW9uKGNvbm5lY3Rp
b25GYWN0b3J5TmFtZSwgcmNtLmdldFVybCgpLCBlKTsNCisgICAgICAgICAgICByY20uaGFuZGxl
RXhjZXB0aW9uKHJjbUV4Y2VwdGlvbik7DQorICAgICAgICAgICAgLy8gSWYgdGhlIGhhbmRsZXIg
aGFzbid0IHRocm93biB0aGUgZXhjZXB0aW9uIHJldGhyb3cgaXQgaGVyZSAtIGl0J3MgaW1wb3Nz
aWJsZSB0byByZWNvdmVyLg0KKyAgICAgICAgICAgIHRocm93IHJjbUV4Y2VwdGlvbjsNCisgICAg
ICAgIH0NCisgICAgfQ0KKw0KKyAgICAvKioNCisgICAgICogUFVCTElDOg0KKyAgICAgKiBSZXR1
cm4gdGhlIEpNUyBUb3BpYyBDb25uZWN0aW9uIEZhY3RvcnkgTmFtZSBmb3IgdGhlIEpNUyBUb3Bp
YyBjb25uZWN0aW9ucy4NCisgICAgICovDQorICAgIHB1YmxpYyBTdHJpbmcgZ2V0VG9waWNDb25u
ZWN0aW9uRmFjdG9yeU5hbWUoKSB7DQorICAgICAgICByZXR1cm4gY29ubmVjdGlvbkZhY3RvcnlO
YW1lOw0KKyAgICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBQVUJMSUM6DQorICAgICAqIFJldHVy
biB0aGUgVVJMIG9mIHRoZSBtYWNoaW5lIG9uIHRoZSBuZXR3b3JrIHRoYXQgaG9zdHMgdGhlIEpN
UyBUb3BpYy4gIFRoaXMgaXMgYSByZXF1aXJlZCBwcm9wZXJ0eSBhbmQgbXVzdCBiZSBjb25maWd1
cmVkLg0KKyAgICAgKi8NCisgICAgcHVibGljIFN0cmluZyBnZXRUb3BpY0hvc3RVcmwoKSB7DQor
ICAgICAgICByZXR1cm4gKFN0cmluZylnZXRSZW1vdGVDb250ZXh0UHJvcGVydGllcygpLmdldChD
b250ZXh0LlBST1ZJREVSX1VSTCk7DQorICAgIH0NCisNCisgICAgLyoqDQorICAgICAqIElOVEVS
TkFMOg0KKyAgICAgKiBJbml0aWFsaXplIGRlZmF1bHQgcHJvcGVydGllcy4NCisgICAgICovDQor
ICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemUoKSB7DQorICAgICAgICBzdXBlci5pbml0aWFsaXpl
KCk7DQorICAgICAgICB0b3BpY05hbWUgPSBERUZBVUxUX1RPUElDOw0KKyAgICAgICAgY29ubmVj
dGlvbkZhY3RvcnlOYW1lID0gREVGQVVMVF9DT05ORUNUSU9OX0ZBQ1RPUlk7DQorICAgIH0NCisN
CisgICAgLyoqDQorICAgICAqIElOVEVSTkFMOg0KKyAgICAgKiBOby1vcCwgYXMgdGhlIGxvY2Fs
IGNvbm5lY3Rpb24gZG9lcyBub3QgbmVlZCB0byBiZSByZW1vdmVkIGZyb20gSk1TUHVibGlzaGlu
Z1RyYW5zcG9ydE1hbmFnZXIuDQorICAgICAqIEFuIGFwcGxpY2F0aW9uIG11c3QgY2xvc2UgdGhl
IGNvbm5lY3Rpb24gZGlyZWN0bHkgaWYgaXQgaXMgdXNpbmcgdGhlIGxvY2FsIGNvbm5lY3Rpb24g
YXMgYSBsaXN0ZW5lci4NCisgICAgICovDQorICAgIHB1YmxpYyB2b2lkIHJlbW92ZUxvY2FsQ29u
bmVjdGlvbigpIHt9DQorDQorICAgIC8qKg0KKyAgICAgKiBBRFZBTkNFRDoNCisgICAgICogVGhp
cyBmdW5jdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGZvciBuYW1pbmcgc2VydmljZSBvdGhlciB0aGFu
IEpOREkgb3IgVHJhbnNwb3J0TWFuYWdlci5KTkRJX05BTUlOR19TRVJWSUNFLg0KKyAgICAgKi8N
CisgICAgcHVibGljIHZvaWQgc2V0TmFtaW5nU2VydmljZVR5cGUoaW50IHNlcnZpY2VUeXBlKSB7
DQorICAgICAgICBpZiAoc2VydmljZVR5cGUgIT0gVHJhbnNwb3J0TWFuYWdlci5KTkRJX05BTUlO
R19TRVJWSUNFKSB7DQorICAgICAgICAgICAgdGhyb3cgVmFsaWRhdGlvbkV4Y2VwdGlvbi5vcGVy
YXRpb25Ob3RTdXBwb3J0ZWQoInNldE5hbWluZ1NlcnZpY2VUeXBlIik7DQorICAgICAgICB9DQor
ICAgIH0NCisgICAgDQorICAgIC8qKg0KKyAgICAgKiBQVUJMSUM6DQorICAgICAqIGZsYWcgdXNl
ZCB0byB0b2dnbGUgYmV0d2VlbiBqMkVFL0pNUyBzcGVjIGNvbXBsaWFudCBiZWhhdmlvciBhbmQg
bGVnYWN5IGJlaGF2aW9yLiAgRGVmYXVsdCB2YWx1ZSBmYWxzZSBjYXVzZXMgZXh0ZXJuYWwNCisg
ICAgICogIEpNU1RvcGljUmVtb3RlQ29ubmVjdGlvbiB0byBjYWNoZSB0aGUgVG9waWNDb25uZWN0
aW9uRmFjdG9yeSBhbmQgb2J0YWluIFRvcGljQ29ubmVjdGlvbnMsIFRvcGljU2Vzc2lvbiBhbmQg
VG9waWNQdWJsaXNoZXJzIA0KKyAgICAgKiAgZXZlcnkgdGltZSBleGVjdXRlQ29tbWFuZCBpcyBj
YWxsZWQsIGFuZCB0aGVuIGNsb3NpbmcgdGhlbSBpbW1lZGlhdGVseS4gIFRoaXMgaXMgSk1TIGFu
ZCBKMkVFIGNvbXBsaWFudCwgYXMgdGhlIFRvcGljQ29ubmVjdGlvbg0KKyAgICAgKiAgaXMgbmV2
ZXIgcmV1c2VkIGluIGRpZmZlcmVudCB0aHJlYWRzLg0KKyAgICAgKiBUcnVlIGNhdXNlcyBUb3Bp
Y0Nvbm5lY3Rpb24sIFRvcGljU2Vzc2lvbiBhbmQgVG9waWNQdWJsaXNoZXIgdG8gYmUgY2FjaGVk
IHdpdGhpbiB0aGUgSk1TVG9waWNSZW1vdGVDb25uZWN0aW9uIGFuZCB1c2VkIGZvciANCisgICAg
ICogIGV2ZXJ5IGV4ZWN1dGVDb21tYW5kIGNhbGwuICBUaGVzZSBvYmplY3RzIGNhbiBwb3RlbnRp
YWxseSB1c2VkIGNvbmN1cnJlbnRseSwgd2hpY2ggdGhlIEpNUyBzcGVjIGRvZXMgbm90IGZvcmNl
IA0KKyAgICAgKiAgcHJvdmlkZXJzIHRvIHN1cHBvcnQuICANCisgICAgICogIA0KKyAgICAgKiAg
QHBhcmFtIHJldXNlSk1TVG9waWNQdWJsaXNoZXINCisgICAgICovDQorICAgIHB1YmxpYyB2b2lk
IHNldFNob3VsZFJldXNlSk1TVG9waWNQdWJsaXNoZXIoYm9vbGVhbiByZXVzZUpNU1RvcGljUHVi
bGlzaGVyKXsNCisgICAgICAgIHRoaXMucmV1c2VKTVNUb3BpY1B1Ymxpc2hlciA9IHJldXNlSk1T
VG9waWNQdWJsaXNoZXI7DQorICAgIH0NCisNCisgICAgLyoqDQorICAgICAqIFBVQkxJQzoNCisg
ICAgICogQ29uZmlndXJlIHRoZSBKTVMgVG9waWMgQ29ubmVjdGlvbiBGYWN0b3J5IE5hbWUgZm9y
IHRoZSBKTVMgVG9waWMgY29ubmVjdGlvbnMuDQorICAgICAqLw0KKyAgICBwdWJsaWMgdm9pZCBz
ZXRUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5TmFtZShTdHJpbmcgbmV3VG9waWNDb25uZWN0aW9uRmFj
dG9yeU5hbWUpIHsNCisgICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5TmFtZSA9IG5ld1RvcGljQ29u
bmVjdGlvbkZhY3RvcnlOYW1lOw0KKyAgICB9DQorDQorICAgIC8qKg0KKyAgICAgKiBQVUJMSUM6
DQorICAgICAqIENvbmZpZ3VyZSB0aGUgVVJMIG9mIHRoZSBtYWNoaW5lIG9uIHRoZSBuZXR3b3Jr
IHRoYXQgaG9zdHMgdGhlIEpNUyBUb3BpYy4gVGhpcyBpcyBhIHJlcXVpcmVkIHByb3BlcnR5IGFu
ZCBtdXN0IGJlIGNvbmZpZ3VyZWQuDQorICAgICAqLw0KKyAgICBwdWJsaWMgdm9pZCBzZXRUb3Bp
Y0hvc3RVcmwoU3RyaW5nIGptc0hvc3RVcmwpIHsNCisgICAgICAgIGdldFJlbW90ZUNvbnRleHRQ
cm9wZXJ0aWVzKCkucHV0KENvbnRleHQuUFJPVklERVJfVVJMLCBqbXNIb3N0VXJsKTsNCisgICAg
ICAgIHJjbS5nZXRTZXJ2aWNlSWQoKS5zZXRVUkwoam1zSG9zdFVybCk7DQorICAgIH0NCit9ICAN
CkluZGV4OiBmb3VuZGF0aW9uL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9l
Y2xpcHNlL3BlcnNpc3RlbmNlL3Nlc3Npb25zL2Nvb3JkaW5hdGlvbi9qbXMvSk1TVG9waWNUcmFu
c3BvcnRNYW5hZ2VyLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi0tLSBmb3VuZGF0aW9uL29yZy5lY2xpcHNl
LnBlcnNpc3RlbmNlLmNvcmUvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3RlbmNlL3Nlc3Npb25zL2Nv
b3JkaW5hdGlvbi9qbXMvSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyLmphdmEJKHJldmlzaW9uIDY1
MDUpDQorKysgZm91bmRhdGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcv
ZWNsaXBzZS9wZXJzaXN0ZW5jZS9zZXNzaW9ucy9jb29yZGluYXRpb24vam1zL0pNU1RvcGljVHJh
bnNwb3J0TWFuYWdlci5qYXZhCSh3b3JraW5nIGNvcHkpDQpAQCAtOSwyNSArOSwxOSBAQA0KICAq
DQogICogQ29udHJpYnV0b3JzOg0KICAqICAgICBPcmFjbGUgLSBpbml0aWFsIEFQSSBhbmQgaW1w
bGVtZW50YXRpb24gZnJvbSBPcmFjbGUgVG9wTGluaw0KKyAqICAgICBjZGVsYWh1biAtIEJ1ZyAy
MTQ1MzQ6IGFkZGVkIEpNUyBDYWNoZSBDb29yZGluYXRpb24gZm9yIHB1Ymxpc2hpbmcgb25seQ0K
ICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKiovICANCiBwYWNrYWdlIG9yZy5lY2xpcHNlLnBlcnNpc3Rl
bmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5qbXM7DQogDQogaW1wb3J0IGphdmEudXRpbC5IYXNo
dGFibGU7DQotaW1wb3J0IGphdmF4Lm5hbWluZy5Db250ZXh0Ow0KLWltcG9ydCBqYXZheC5uYW1p
bmcuTmFtaW5nRXhjZXB0aW9uOw0KLWltcG9ydCBqYXZheC5qbXMuVG9waWM7DQotaW1wb3J0IGph
dmF4Lmptcy5Ub3BpY0Nvbm5lY3Rpb247DQotaW1wb3J0IGphdmF4Lmptcy5Ub3BpY0Nvbm5lY3Rp
b25GYWN0b3J5Ow0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5leGNlcHRpb25zLlJl
bW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0
ZW5jZS5leGNlcHRpb25zLlZhbGlkYXRpb25FeGNlcHRpb247DQogaW1wb3J0IG9yZy5lY2xpcHNl
LnBlcnNpc3RlbmNlLmludGVybmFsLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5qbXMuSk1TVG9waWNS
ZW1vdGVDb25uZWN0aW9uOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9u
cy5jb29yZGluYXRpb24uYnJvYWRjYXN0LkJyb2FkY2FzdFRyYW5zcG9ydE1hbmFnZXI7DQogaW1w
b3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNvb3JkaW5hdGlvbi5SZW1vdGVD
b21tYW5kTWFuYWdlcjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UucGVyc2lzdGVuY2Uuc2Vzc2lvbnMu
Y29vcmRpbmF0aW9uLlRyYW5zcG9ydE1hbmFnZXI7DQogDQogLyoqDQogICogPHA+DQotICogPGI+
UHVycG9zZTwvYj46IFByb3ZpZGUgYSBKTVMgdHJhbnNwb3J0IGltcGxlbWVudGF0aW9uIGZvciB0
aGUgUmVtb3RlIENvbW1hbmQgTW9kdWxlIChSQ00pLg0KKyAqIDxiPlB1cnBvc2U8L2I+OiBQcm92
aWRlIGEgdHJhbnNwb3J0IGltcGxlbWVudGF0aW9uIGZvciB0aGUgUmVtb3RlIENvbW1hbmQgTW9k
dWxlIChSQ00pIHRoYXQgYm90aCBwdWJsaXNoZXMNCisgKiBhbmQgc3Vic2NyaWJlcyB0byBhIEpN
UyB0b3BpYy4gIA0KICAqIDxwPg0KICAqIDxiPkRlc2NyaXB0aW9uPC9iPjogVGhpcyBjbGFzcyBt
YW5hZ2VzIHR3byBjb25uZWN0aW9ucyB0byB0aGUgc2FtZSBrbm93biBKTVMgVG9waWM6DQogICog
ZXh0ZXJuYWwgY29ubmVjdGlvbiBmb3IgcHVibGlzaGluZywgbG9jYWwgY29ubmVjdGlvbiBmb3Ig
cmVjZWl2aW5nIG1lc3NhZ2VzLg0KQEAgLTM1LDQwICsyOSwxNCBAQA0KICAqIEBhdXRob3IgU3Rl
dmVuIFZvDQogICogQHNpbmNlIE9yYWNsZUFTIFRvcExpbmsgMTA8aT5nPC9pPiAoMTAuMC4zKQ0K
ICAqLw0KLXB1YmxpYyBjbGFzcyBKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXIgZXh0ZW5kcyBCcm9h
ZGNhc3RUcmFuc3BvcnRNYW5hZ2VyIHsNCi0gICAgcHJvdGVjdGVkIFN0cmluZyBjb25uZWN0aW9u
RmFjdG9yeU5hbWU7DQorcHVibGljIGNsYXNzIEpNU1RvcGljVHJhbnNwb3J0TWFuYWdlciBleHRl
bmRzIEpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyIHsNCiANCi0gICAgcHVibGljIHN0YXRp
YyBmaW5hbCBTdHJpbmcgREVGQVVMVF9UT1BJQyA9ICJqbXMvRWNsaXBzZUxpbmtUb3BpYyI7DQot
ICAgIHB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIERFRkFVTFRfQ09OTkVDVElPTl9GQUNUT1JZ
ID0gImptcy9FY2xpcHNlTGlua1RvcGljQ29ubmVjdGlvbkZhY3RvcnkiOw0KLQ0KICAgICBwdWJs
aWMgSk1TVG9waWNUcmFuc3BvcnRNYW5hZ2VyKFJlbW90ZUNvbW1hbmRNYW5hZ2VyIHJjbSkgew0K
ICAgICAgICAgc3VwZXIocmNtKTsNCiAgICAgfQ0KLQ0KKyAgICANCiAgICAgLyoqDQogICAgICAq
IElOVEVSTkFMOg0KLSAgICAgKiBKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXIgaGFzIG1heGltdW0g
b25lIGV4dGVybmFsIGNvbm5lY3Rpb24uDQotICAgICAqIFZlcmlmeSB0aGVyZSBhcmUgbm8gZXh0
ZXJuYWwgY29ubmVjdGlvbnMsDQotICAgICAqIGNyZWF0ZSBhIG5ldyBleHRlcm5hbCBjb25uZWN0
aW9uLCANCi0gICAgICogYWRkIGl0IHRvIGV4dGVybmFsIGNvbm5lY3Rpb25zJyBtYXAuDQotICAg
ICAqLw0KLSAgICBwdWJsaWMgdm9pZCBjcmVhdGVFeHRlcm5hbENvbm5lY3Rpb24oKSB7DQotICAg
ICAgICBzeW5jaHJvbml6ZWQoY29ubmVjdGlvbnNUb0V4dGVybmFsU2VydmljZXMpIHsNCi0gICAg
ICAgICAgICBpZihjb25uZWN0aW9uc1RvRXh0ZXJuYWxTZXJ2aWNlcy5pc0VtcHR5KCkpIHsNCi0g
ICAgICAgICAgICAgICAgdHJ5IHsNCi0gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zVG9F
eHRlcm5hbFNlcnZpY2VzLnB1dChyY20uZ2V0U2VydmljZUlkKCkuZ2V0SWQoKSwgY3JlYXRlQ29u
bmVjdGlvbihmYWxzZSkpOw0KLSAgICAgICAgICAgICAgICB9IGNhdGNoIChSZW1vdGVDb21tYW5k
TWFuYWdlckV4Y2VwdGlvbiByY21FeGNlcHRpb24pIHsNCi0gICAgICAgICAgICAgICAgICAgIC8v
IHRvIHJlY292ZXIgaGFuZGxlIFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLkVSUk9SX0NS
RUFUSU5HX0pNU19DT05ORUNUSU9OOg0KLSAgICAgICAgICAgICAgICAgICAgLy8gYWZ0ZXIgY2hh
bmdpbmcgc29tZXRoaW5nIChmb3IgaW5zdGFuY2Ugam1zSG9zdFVybCkNCi0gICAgICAgICAgICAg
ICAgICAgIC8vIGNhbGwgY3JlYXRlRXh0ZXJuYWxDb25uZWN0aW9uIG1ldGhvZCBhZ2Fpbi4NCi0g
ICAgICAgICAgICAgICAgICAgIHJjbS5oYW5kbGVFeGNlcHRpb24ocmNtRXhjZXB0aW9uKTsNCi0g
ICAgICAgICAgICAgICAgfQ0KLSAgICAgICAgICAgIH0gICAgICAgICAgICANCi0gICAgICAgIH0N
Ci0gICAgfQ0KLQ0KLSAgICAvKioNCi0gICAgICogSU5URVJOQUw6DQogICAgICAqIEpNU1RvcGlj
VHJhbnNwb3J0TWFuYWdlciBtYXkgaGF2ZSBvbmx5IHR3byBjb25uZWN0aW9uczogb25lIGxvY2Fs
IGFuZCBvbmUgZXh0ZXJuYWwuDQogICAgICAqIEluIGNhc2UgdGhlIGxvY2FsIGNvbm5lY3Rpb24g
ZG9lc24ndCBleGlzdCwgdGhpcyBtZXRob2QgY3JlYXRlcyBpdC4NCiAgICAgICovDQpAQCAtODcs
MzUgKzU1LDI3IEBADQogDQogICAgIC8qKg0KICAgICAgKiBJTlRFUk5BTDoNCi0gICAgICogVGhp
cyBtZXRob2QgY3JlYXRlcyBKTVNUb3BpY1JlbW90ZUNvbm5lY3Rpb24gdG8gYmUgdXNlZCBieSB0
aGlzIFRyYW5zcG9ydE1hbmFnZXIuDQotICAgICAqIERvbid0IGNvbmZ1c2UgdGhpcyBtZXRob2Qg
d2l0aCBuby1vcCBjcmVhdGVDb25uZWN0aW9uKFNlcnZpY2VJZCBzZXJ2aWNlSWQpLg0KKyAgICAg
KiBJbiBjYXNlIHRoZXJlJ3Mgbm8gZXh0ZXJuYWwgY29ubmVjdGlvbiBhdHRlbXB0cyB0byBjcmVh
dGUgb25lLA0KKyAgICAgKiBpZiB0aGF0J3Mgc3VjY2Vzc2Z1bCB0aGVuIChpbiBjYXNlIHRoZXJl
IGlzIG5vIGxvY2FsIGNvbm5lY3Rpb24sIHRvbykNCisgICAgICogYXR0ZW1wdHMgdG8gY3JlYXRl
IGxvY2FsIGNvbm5lY3Rpb24gaW4gYSBzZXBhcmF0ZSB0aHJlYWQuDQorICAgICAqIFJldHVybnMg
Y2xvbmUgb2YgdGhlIG9yaWdpbmFsIG1hcC4NCiAgICAgICovDQotICAgIHByb3RlY3RlZCBKTVNU
b3BpY1JlbW90ZUNvbm5lY3Rpb24gY3JlYXRlQ29ubmVjdGlvbihib29sZWFuIGlzTG9jYWxDb25u
ZWN0aW9uQmVpbmdDcmVhdGVkKSB0aHJvd3MgUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24g
ew0KLSAgICAgICAgQ29udGV4dCByZW1vdGVIb3N0Q29udGV4dCA9IG51bGw7DQotICAgICAgICB0
cnkgew0KLSAgICAgICAgICAgIHJlbW90ZUhvc3RDb250ZXh0ID0gZ2V0UmVtb3RlSG9zdENvbnRl
eHQoZ2V0VG9waWNIb3N0VXJsKCkpOw0KLSAgICAgICAgICAgIFRvcGljQ29ubmVjdGlvbkZhY3Rv
cnkgY29ubmVjdGlvbkZhY3RvcnkgPSBnZXRUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5KHJlbW90ZUhv
c3RDb250ZXh0KTsNCi0gICAgICAgICAgICBUb3BpYyB0b3BpYyA9IGdldFRvcGljKHJlbW90ZUhv
c3RDb250ZXh0KTsgICAgDQotICAgICAgICAgICAgVG9waWNDb25uZWN0aW9uIHRvcGljQ29ubmVj
dGlvbiA9IGNvbm5lY3Rpb25GYWN0b3J5LmNyZWF0ZVRvcGljQ29ubmVjdGlvbigpOw0KLSAgICAg
ICAgICAgIC8vIGV4dGVybmFsIGNvbm5lY3Rpb24gaXMgYSBwdWlibGlzaGVyOyBsb2NhbCBjb25u
ZWN0aW9uIGlzIGEgc3Vic2NyaWJlcg0KLSAgICAgICAgICAgIHJldHVybiBuZXcgSk1TVG9waWNS
ZW1vdGVDb25uZWN0aW9uKHJjbSwgdG9waWNDb25uZWN0aW9uLCB0b3BpYywgaXNMb2NhbENvbm5l
Y3Rpb25CZWluZ0NyZWF0ZWQpOw0KLSAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7DQot
ICAgICAgICAgICAgUmVtb3RlQ29tbWFuZE1hbmFnZXJFeGNlcHRpb24gcmNtRXhjZXB0aW9uOw0K
LSAgICAgICAgICAgIGlmKGlzTG9jYWxDb25uZWN0aW9uQmVpbmdDcmVhdGVkKSB7DQotICAgICAg
ICAgICAgICAgIHJjbUV4Y2VwdGlvbiA9IFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9uLmVy
cm9yQ3JlYXRpbmdMb2NhbEpNU0Nvbm5lY3Rpb24odG9waWNOYW1lLCBjb25uZWN0aW9uRmFjdG9y
eU5hbWUsIGdldFJlbW90ZUNvbnRleHRQcm9wZXJ0aWVzKCksIGV4KTsNCi0gICAgICAgICAgICB9
IGVsc2Ugew0KLSAgICAgICAgICAgICAgICByY21FeGNlcHRpb24gPSBSZW1vdGVDb21tYW5kTWFu
YWdlckV4Y2VwdGlvbi5lcnJvckNyZWF0aW5nSk1TQ29ubmVjdGlvbih0b3BpY05hbWUsIGNvbm5l
Y3Rpb25GYWN0b3J5TmFtZSwgZ2V0UmVtb3RlQ29udGV4dFByb3BlcnRpZXMoKSwgZXgpOw0KLSAg
ICAgICAgICAgIH0NCi0gICAgICAgICAgICB0aHJvdyByY21FeGNlcHRpb247DQotICAgICAgICB9
IGZpbmFsbHkgew0KLSAgICAgICAgICAgIGlmKHJlbW90ZUhvc3RDb250ZXh0ICE9IG51bGwpIHsN
Ci0gICAgICAgICAgICAgICAgdHJ5IHsNCi0gICAgICAgICAgICAgICAgICAgIHJlbW90ZUhvc3RD
b250ZXh0LmNsb3NlKCk7DQotICAgICAgICAgICAgICAgIH0gY2F0Y2ggKE5hbWluZ0V4Y2VwdGlv
biBuYW1pbmdFeGNlcHRpb24pIHsNCi0gICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZQ0KKyAg
ICBwdWJsaWMgSGFzaHRhYmxlIGdldENvbm5lY3Rpb25zVG9FeHRlcm5hbFNlcnZpY2VzRm9yQ29t
bWFuZFByb3BhZ2F0aW9uKCkgew0KKyAgICAgICAgaWYodGhpcy5sb2NhbENvbm5lY3Rpb24gPT0g
bnVsbCAmJiAhdGhpcy5yY20uaXNTdG9wcGVkKCkpIHsNCisgICAgICAgICAgICAvLyBJdCdzIGEg
Z29vZCB0aW1lIHRvIGNyZWF0ZSBsb2NhbENvbm5lY3Rpb24sDQorICAgICAgICAgICAgLy8gaW4g
YSBuZXcgdGhyZWFkIC0gdG8gcmV0dXJuIGV4dGVybmFsQ29ubmVjdGlvbnMgcHJvbXB0bHkuDQor
ICAgICAgICAgICAgdGhpcy5yY20uZ2V0U2VydmVyUGxhdGZvcm0oKS5sYXVuY2hDb250YWluZXJS
dW5uYWJsZShuZXcgUnVubmFibGUoKSB7DQorICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHJ1
bigpIHsNCisgICAgICAgICAgICAgICAgICAgIHRyeSB7DQorICAgICAgICAgICAgICAgICAgICAg
ICAgY3JlYXRlTG9jYWxDb25uZWN0aW9uKCk7DQorICAgICAgICAgICAgICAgICAgICB9IGNhdGNo
IChSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbiBleCkgew0KKyAgICAgICAgICAgICAgICAg
ICAgICAgIC8vIElnbm9yZSBleGNlcHRpb24gLSB1c2VyIGhhZCBhIGNoYW5jZSB0byBoYW5kbGUg
aXQgaW4gY3JlYXRlTG9jYWxDb25uZWN0aW9uIG1ldGhvZDoNCisgICAgICAgICAgICAgICAgICAg
ICAgICAvLyBmb3IgaW5zdGFuY2UgdG8gY2hhbmdlIGhvc3QgdXJsIGFuZCBjcmVhdGUgYSBuZXcg
bG9jYWwgY29ubmVjdGlvbi4NCisgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAg
ICAgfQ0KLSAgICAgICAgICAgIH0NCisgICAgICAgICAgICB9KTsNCiAgICAgICAgIH0NCisgICAg
ICAgIHJldHVybiBzdXBlci5nZXRDb25uZWN0aW9uc1RvRXh0ZXJuYWxTZXJ2aWNlc0ZvckNvbW1h
bmRQcm9wYWdhdGlvbigpOw0KICAgICB9DQogICAgIA0KICAgICAvKioNCkBAIC0xMzEsMTI4ICs5
MSw5IEBADQogICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25Ub1JlbW92ZSA9IG51bGw7DQogICAg
ICAgICAgICAgfQ0KICAgICAgICAgfQ0KLSAgICAgICAgLy8gY2xvc2luZyBjb25uZWN0aW9uIG1h
eSB0YWtlIHRpbWUgLSBkbyBpdCBvdXRzaWRlIG9mIHRoZSBzeW5jaHJvbnplZCBibG9jaw0KKyAg
ICAgICAgLy8gY2xvc2luZyBjb25uZWN0aW9uIG1heSB0YWtlIHRpbWUgLSBkbyBpdCBvdXRzaWRl
IG9mIHRoZSBzeW5jaHJvbml6ZWQgYmxvY2sNCiAgICAgICAgIGlmKGNvbm5lY3Rpb25Ub1JlbW92
ZSAhPSBudWxsKSB7DQogICAgICAgICAgICAgY29ubmVjdGlvblRvUmVtb3ZlLmNsb3NlKCk7DQog
ICAgICAgICB9DQogICAgIH0NCi0NCi0gICAgLyoqDQotICAgICAqIElOVEVSTkFMOg0KLSAgICAg
KiBKTVRvcGljVHJhbnNwb3J0TWFuYWdlciBkb2Vzbid0IHVzZSBEaXNjb3ZlcnlNYW5hZ2VyLCB0
aGVyZWZvcmUNCi0gICAgICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIGR1cmluZyBSQ00gaW5pdGlh
bGl6YXRpb24gdG8gY3JlYXRlIGFsbCB0aGUgbmVjZXNzYXJ5IGNvbm5lY3Rpb25zLg0KLSAgICAg
Ki8NCi0gICAgcHVibGljIHZvaWQgY3JlYXRlQ29ubmVjdGlvbnMoKSB7DQotICAgICAgICBjcmVh
dGVFeHRlcm5hbENvbm5lY3Rpb24oKTsNCi0gICAgICAgIGNyZWF0ZUxvY2FsQ29ubmVjdGlvbigp
Ow0KLSAgICB9DQotDQotICAgIC8qKg0KLSAgICAgKiBQVUJMSUM6DQotICAgICAqIENvbmZpZ3Vy
ZSB0aGUgSk1TIFRvcGljIENvbm5lY3Rpb24gRmFjdG9yeSBOYW1lIGZvciB0aGUgSk1TIFRvcGlj
IGNvbm5lY3Rpb25zLg0KLSAgICAgKi8NCi0gICAgcHVibGljIHZvaWQgc2V0VG9waWNDb25uZWN0
aW9uRmFjdG9yeU5hbWUoU3RyaW5nIG5ld1RvcGljQ29ubmVjdGlvbkZhY3RvcnlOYW1lKSB7DQot
ICAgICAgICBjb25uZWN0aW9uRmFjdG9yeU5hbWUgPSBuZXdUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5
TmFtZTsNCi0gICAgfQ0KLQ0KLSAgICAvKioNCi0gICAgICogUFVCTElDOg0KLSAgICAgKiBSZXR1
cm4gdGhlIEpNUyBUb3BpYyBDb25uZWN0aW9uIEZhY3RvcnkgTmFtZSBmb3IgdGhlIEpNUyBUb3Bp
YyBjb25uZWN0aW9ucy4NCi0gICAgICovDQotICAgIHB1YmxpYyBTdHJpbmcgZ2V0VG9waWNDb25u
ZWN0aW9uRmFjdG9yeU5hbWUoKSB7DQotICAgICAgICByZXR1cm4gY29ubmVjdGlvbkZhY3RvcnlO
YW1lOw0KLSAgICB9DQotDQotICAgIC8qKg0KLSAgICAgKiBJTlRFUk5BTDoNCi0gICAgICogSW5p
dGlhbGl6ZSBkZWZhdWx0IHByb3BlcnRpZXMuDQotICAgICAqLw0KLSAgICBwdWJsaWMgdm9pZCBp
bml0aWFsaXplKCkgew0KLSAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZSgpOw0KLSAgICAgICAgdG9w
aWNOYW1lID0gREVGQVVMVF9UT1BJQzsNCi0gICAgICAgIGNvbm5lY3Rpb25GYWN0b3J5TmFtZSA9
IERFRkFVTFRfQ09OTkVDVElPTl9GQUNUT1JZOw0KLSAgICB9DQotDQotICAgIC8qKg0KLSAgICAg
KiBQVUJMSUM6DQotICAgICAqIFJldHVybiB0aGUgVVJMIG9mIHRoZSBtYWNoaW5lIG9uIHRoZSBu
ZXR3b3JrIHRoYXQgaG9zdHMgdGhlIEpNUyBUb3BpYy4gIFRoaXMgaXMgYSByZXF1aXJlZCBwcm9w
ZXJ0eSBhbmQgbXVzdCBiZSBjb25maWd1cmVkLg0KLSAgICAgKi8NCi0gICAgcHVibGljIFN0cmlu
ZyBnZXRUb3BpY0hvc3RVcmwoKSB7DQotICAgICAgICByZXR1cm4gKFN0cmluZylnZXRSZW1vdGVD
b250ZXh0UHJvcGVydGllcygpLmdldChDb250ZXh0LlBST1ZJREVSX1VSTCk7DQotICAgIH0NCi0N
Ci0gICAgLyoqDQotICAgICAqIFBVQkxJQzoNCi0gICAgICogQ29uZmlndXJlIHRoZSBVUkwgb2Yg
dGhlIG1hY2hpbmUgb24gdGhlIG5ldHdvcmsgdGhhdCBob3N0cyB0aGUgSk1TIFRvcGljLiBUaGlz
IGlzIGEgcmVxdWlyZWQgcHJvcGVydHkgYW5kIG11c3QgYmUgY29uZmlndXJlZC4NCi0gICAgICov
DQotICAgIHB1YmxpYyB2b2lkIHNldFRvcGljSG9zdFVybChTdHJpbmcgam1zSG9zdFVybCkgew0K
LSAgICAgICAgZ2V0UmVtb3RlQ29udGV4dFByb3BlcnRpZXMoKS5wdXQoQ29udGV4dC5QUk9WSURF
Ul9VUkwsIGptc0hvc3RVcmwpOw0KLSAgICAgICAgcmNtLmdldFNlcnZpY2VJZCgpLnNldFVSTChq
bXNIb3N0VXJsKTsNCi0gICAgfQ0KLQ0KLSAgICAvKioNCi0gICAgICogQURWQU5DRUQ6DQotICAg
ICAqIFRoaXMgZnVuY2F0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIG5hbWluZyBzZXJ2aWNlIG90
aGVyIHRoYW4gSk5ESSBvciBUcmFuc3BvcnRNYW5hZ2VyLkpORElfTkFNSU5HX1NFUlZJQ0UuDQot
ICAgICAqLw0KLSAgICBwdWJsaWMgdm9pZCBzZXROYW1pbmdTZXJ2aWNlVHlwZShpbnQgc2Vydmlj
ZVR5cGUpIHsNCi0gICAgICAgIGlmIChzZXJ2aWNlVHlwZSAhPSBUcmFuc3BvcnRNYW5hZ2VyLkpO
RElfTkFNSU5HX1NFUlZJQ0UpIHsNCi0gICAgICAgICAgICB0aHJvdyBWYWxpZGF0aW9uRXhjZXB0
aW9uLm9wZXJhdGlvbk5vdFN1cHBvcnRlZCgic2V0TmFtaW5nU2VydmljZVR5cGUiKTsNCi0gICAg
ICAgIH0NCi0gICAgfQ0KLQ0KLSAgICAvKioNCi0gICAgICogSU5URVJOQUw6DQotICAgICAqLw0K
LSAgICBwcm90ZWN0ZWQgVG9waWMgZ2V0VG9waWMoQ29udGV4dCByZW1vdGVIb3N0Q29udGV4dCkg
ew0KLSAgICAgICAgdHJ5IHsNCi0gICAgICAgICAgICByZXR1cm4gKFRvcGljKXJlbW90ZUhvc3RD
b250ZXh0Lmxvb2t1cCh0b3BpY05hbWUpOw0KLSAgICAgICAgfSBjYXRjaCAoTmFtaW5nRXhjZXB0
aW9uIGUpIHsNCi0gICAgICAgICAgICBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbiByY21F
eGNlcHRpb24gPSBSZW1vdGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbi5lcnJvckxvb2tpbmdVcFJl
bW90ZUNvbm5lY3Rpb24odG9waWNOYW1lLCByY20uZ2V0VXJsKCksIGUpOw0KLSAgICAgICAgICAg
IHJjbS5oYW5kbGVFeGNlcHRpb24ocmNtRXhjZXB0aW9uKTsNCi0gICAgICAgICAgICAvLyBJZiB0
aGUgaGFuZGxlciBoYXNuJ3QgdGhyb3duIHRoZSBleGNlcHRpb24gcmV0aHJvdyBpdCBoZXJlIC0g
aXQncyBpbXBvc3NpYmxlIHRvIHJlY292ZXIuDQotICAgICAgICAgICAgdGhyb3cgcmNtRXhjZXB0
aW9uOw0KLSAgICAgICAgfQ0KLSAgICB9DQotDQotICAgIC8qKg0KLSAgICAgKiBJTlRFUk5BTDoN
Ci0gICAgICovDQotICAgIHByb3RlY3RlZCBUb3BpY0Nvbm5lY3Rpb25GYWN0b3J5IGdldFRvcGlj
Q29ubmVjdGlvbkZhY3RvcnkoQ29udGV4dCByZW1vdGVIb3N0Q29udGV4dCkgew0KLSAgICAgICAg
dHJ5IHsNCi0gICAgICAgICAgICByZXR1cm4gKFRvcGljQ29ubmVjdGlvbkZhY3RvcnkpcmVtb3Rl
SG9zdENvbnRleHQubG9va3VwKGNvbm5lY3Rpb25GYWN0b3J5TmFtZSk7DQotICAgICAgICB9IGNh
dGNoIChOYW1pbmdFeGNlcHRpb24gZSkgew0KLSAgICAgICAgICAgIFJlbW90ZUNvbW1hbmRNYW5h
Z2VyRXhjZXB0aW9uIHJjbUV4Y2VwdGlvbiA9IFJlbW90ZUNvbW1hbmRNYW5hZ2VyRXhjZXB0aW9u
LmVycm9yTG9va2luZ1VwUmVtb3RlQ29ubmVjdGlvbihjb25uZWN0aW9uRmFjdG9yeU5hbWUsIHJj
bS5nZXRVcmwoKSwgZSk7DQotICAgICAgICAgICAgcmNtLmhhbmRsZUV4Y2VwdGlvbihyY21FeGNl
cHRpb24pOw0KLSAgICAgICAgICAgIC8vIElmIHRoZSBoYW5kbGVyIGhhc24ndCB0aHJvd24gdGhl
IGV4Y2VwdGlvbiByZXRocm93IGl0IGhlcmUgLSBpdCdzIGltcG9zc2libGUgdG8gcmVjb3Zlci4N
Ci0gICAgICAgICAgICB0aHJvdyByY21FeGNlcHRpb247DQotICAgICAgICB9DQotICAgIH0NCi0N
Ci0gICAgLyoqDQotICAgICAqIElOVEVSTkFMOg0KLSAgICAgKiBJbiBjYXNlIHRoZXJlJ3Mgbm8g
ZXh0ZXJuYWwgY29ubmVjdGlvbiBhdHRlbXB0cyB0byBjcmVhdGUgb25lLA0KLSAgICAgKiBpZiB0
aGF0J3Mgc3VjY2Vzc2Z1bCB0aGVuIChpbiBjYXNlIHRoZXJlIGlzIG5vIGxvY2FsIGNvbm5lY3Rp
b24sIHRvbykNCi0gICAgICogYXR0ZW1wdHMgdG8gY3JlYXRlIGxvY2FsIGNvbm5lY3Rpb24gaW4g
YSBzZXBhcmF0ZSB0aHJlYWQuDQotICAgICAqIFJldHVybnMgY2xvbmUgb2YgdGhlIG9yaWdpbmFs
IG1hcC4NCi0gICAgICovDQotICAgIHB1YmxpYyBIYXNodGFibGUgZ2V0Q29ubmVjdGlvbnNUb0V4
dGVybmFsU2VydmljZXNGb3JDb21tYW5kUHJvcGFnYXRpb24oKSB7DQotICAgICAgICBpZih0aGlz
LmdldENvbm5lY3Rpb25zVG9FeHRlcm5hbFNlcnZpY2VzKCkuaXNFbXB0eSgpICYmICF0aGlzLnJj
bS5pc1N0b3BwZWQoKSkgew0KLSAgICAgICAgICAgIHRoaXMuY3JlYXRlRXh0ZXJuYWxDb25uZWN0
aW9uKCk7DQotICAgICAgICAgICAgaWYodGhpcy5sb2NhbENvbm5lY3Rpb24gPT0gbnVsbCkgew0K
LSAgICAgICAgICAgICAgICAvLyBJdCdzIGEgZ29vZCB0aW1lIHRvIGNyZWF0ZSBsb2NhbENvbm5l
Y3Rpb24sDQotICAgICAgICAgICAgICAgIC8vIGluIGEgbmV3IHRocmVhZCAtIHRvIHJldHVybiBl
eHRlcm5hbENvbm5lY3Rpb25zIHByb21wdGx5Lg0KLSAgICAgICAgICAgICAgICB0aGlzLnJjbS5n
ZXRTZXJ2ZXJQbGF0Zm9ybSgpLmxhdW5jaENvbnRhaW5lclJ1bm5hYmxlKG5ldyBSdW5uYWJsZSgp
IHsNCi0gICAgICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHJ1bigpIHsNCi0gICAgICAgICAg
ICAgICAgICAgICAgICB0cnkgew0KLSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVM
b2NhbENvbm5lY3Rpb24oKTsNCi0gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChSZW1v
dGVDb21tYW5kTWFuYWdlckV4Y2VwdGlvbiBleCkgew0KLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAvLyBJZ25vcmUgZXhjZXB0aW9uIC0gdXNlciBoYWQgYSBjaGFuY2UgdG8gaGFuZGxlIGl0
IGluIGNyZWF0ZUxvY2FsQ29ubmVjdGlvbiBtZXRob2Q6DQotICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIC8vIGZvciBpbnN0YW5jZSB0byBjaGFuZ2UgaG9zdCB1cmwgYW5kIGNyZWF0ZSBhIG5l
dyBsb2NhbCBjb25uZWN0aW9uLg0KLSAgICAgICAgICAgICAgICAgICAgICAgIH0NCi0gICAgICAg
ICAgICAgICAgICAgIH0NCi0gICAgICAgICAgICAgICAgfSk7DQotICAgICAgICAgICAgfQ0KLSAg
ICAgICAgfQ0KLSAgICAgICAgcmV0dXJuIHN1cGVyLmdldENvbm5lY3Rpb25zVG9FeHRlcm5hbFNl
cnZpY2VzRm9yQ29tbWFuZFByb3BhZ2F0aW9uKCk7DQotICAgIH0NCiB9DQpJbmRleDogZm91bmRh
dGlvbi9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0
ZW5jZS9zZXNzaW9ucy9jb29yZGluYXRpb24vUmVtb3RlQ29tbWFuZE1hbmFnZXIuamF2YQ0KPT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PQ0KLS0tIGZvdW5kYXRpb24vb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuY29yZS9zcmMv
b3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uvc2Vzc2lvbnMvY29vcmRpbmF0aW9uL1JlbW90ZUNvbW1h
bmRNYW5hZ2VyLmphdmEJKHJldmlzaW9uIDY1MDUpDQorKysgZm91bmRhdGlvbi9vcmcuZWNsaXBz
ZS5wZXJzaXN0ZW5jZS5jb3JlL3NyYy9vcmcvZWNsaXBzZS9wZXJzaXN0ZW5jZS9zZXNzaW9ucy9j
b29yZGluYXRpb24vUmVtb3RlQ29tbWFuZE1hbmFnZXIuamF2YQkod29ya2luZyBjb3B5KQ0KQEAg
LTI4LDcgKzI4LDcgQEANCiANCiAvKioNCiAgKiA8cD4NCi0gKiA8Yj5QdXJwb3NlPC9iPjogUHJv
dmlkZSBhIENvbW1hbmRNYW5hZ2VyIGltcGxlbWVudGF0aW9uIGZvciBjYWNlaCBjb29yZGluYXRp
b24uDQorICogPGI+UHVycG9zZTwvYj46IFByb3ZpZGUgYSBDb21tYW5kTWFuYWdlciBpbXBsZW1l
bnRhdGlvbiBmb3IgY2FjaGUgY29vcmRpbmF0aW9uLg0KICAqIDxwPg0KICAqIDxiPkRlc2NyaXB0
aW9uPC9iPjogQSBSZW1vdGVDb21tYW5kTWFuYWdlciAob3IgUkNNKSBpbnN0YW5jZSBpcyB0aGUg
cHJpbWFyeSBjb21wb25lbnQNCiAgKiBvZiBhbiBSQ00gc2VydmljZSBpbnN0YW5jZS4gSXQgbWFu
YWdlcyB0aGUgb3RoZXIgY29tcG9uZW50cyBvZiB0aGUgc2VydmljZSwgYW5kDQpJbmRleDoganBh
L29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmpwYS9zcmMvb3JnL2VjbGlwc2UvcGVyc2lzdGVuY2Uv
aW50ZXJuYWwvanBhL0VudGl0eU1hbmFnZXJTZXR1cEltcGwuamF2YQ0KPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KLS0t
IGpwYS9vcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5qcGEvc3JjL29yZy9lY2xpcHNlL3BlcnNpc3Rl
bmNlL2ludGVybmFsL2pwYS9FbnRpdHlNYW5hZ2VyU2V0dXBJbXBsLmphdmEJKHJldmlzaW9uIDY1
MDUpDQorKysganBhL29yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLmpwYS9zcmMvb3JnL2VjbGlwc2Uv
cGVyc2lzdGVuY2UvaW50ZXJuYWwvanBhL0VudGl0eU1hbmFnZXJTZXR1cEltcGwuamF2YQkod29y
a2luZyBjb3B5KQ0KQEAgLTIzLDYgKzIzLDcgQEANCiAgKiAgICAgICAgLSAyNjY5MTI6IGFkZCBN
ZXRhbW9kZWwgaW5zdGFuY2UgZmllbGQgYXMgcGFydCBvZiB0aGUgSlBBIDIuMCBpbXBsZW1lbnRh
dGlvbgogICogICAgIDEwLzIxLzIwMDktMi4wIEd1eSBQZWxsZXRpZXIgCiAgKiAgICAgICAtIDI5
MDU2NzogbWFwcGVkYnlpZCBzdXBwb3J0IGluY29tcGxldGUKKyAqICAgICBjZGVsYWh1biAtIEJ1
ZyAyMTQ1MzQ6IGNoYW5nZXMgdG8gYWxsb3cgSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXIg
Y29uZmlndXJhdGlvbiB0aHJvdWdoIHByb3BlcnRpZXMKICAqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiov
ICAKIHBhY2thZ2Ugb3JnLmVjbGlwc2UucGVyc2lzdGVuY2UuaW50ZXJuYWwuanBhOwogCkBAIC03
Myw2ICs3NCw3IEBADQogaW1wb3J0IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmNv
b3JkaW5hdGlvbi5SZW1vdGVDb21tYW5kTWFuYWdlcjsKIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJz
aXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24uVHJhbnNwb3J0TWFuYWdlcjsKIGltcG9ydCBv
cmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5jb29yZGluYXRpb24uam1zLkpNU1RvcGlj
VHJhbnNwb3J0TWFuYWdlcjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9u
cy5jb29yZGluYXRpb24uam1zLkpNU1B1Ymxpc2hpbmdUcmFuc3BvcnRNYW5hZ2VyOwogaW1wb3J0
IG9yZy5lY2xpcHNlLnBlcnNpc3RlbmNlLnNlc3Npb25zLmZhY3Rvcmllcy5TZXNzaW9uTWFuYWdl
cjsKIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5zZXNzaW9ucy5mYWN0b3JpZXMuWE1M
U2Vzc2lvbkNvbmZpZ0xvYWRlcjsKIGltcG9ydCBvcmcuZWNsaXBzZS5wZXJzaXN0ZW5jZS5hbm5v
dGF0aW9ucy5JZFZhbGlkYXRpb247CkBAIC0zODQsOSArMzg2LDkgQEANCiAgICAgICAgICAgICAK
ICAgICAgICAgICAgIC8vIDI2NjkxMjogSW5pdGlhbGl6ZSB0aGUgTWV0YW1vZGVsCiAgICAgICAg
ICAgICB0cnkgewotICAgICAgICAgICAgCXRoaXMuZ2V0TWV0YW1vZGVsKCk7CisgICAgICAgICAg
ICAgICAgdGhpcy5nZXRNZXRhbW9kZWwoKTsKICAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlv
biBlKSB7Ci0gICAgICAgICAgICAJc2Vzc2lvbi5sb2coU2Vzc2lvbkxvZy5GSU5FU1QsIFNlc3Np
b25Mb2cuTUVUQU1PREVMLCAibWV0YW1vZGVsX2luaXRfZmFpbGVkIiwgbmV3IE9iamVjdFtde2Uu
Z2V0TWVzc2FnZSgpfSk7CisgICAgICAgICAgICAgICAgc2Vzc2lvbi5sb2coU2Vzc2lvbkxvZy5G
SU5FU1QsIFNlc3Npb25Mb2cuTUVUQU1PREVMLCAibWV0YW1vZGVsX2luaXRfZmFpbGVkIiwgbmV3
IE9iamVjdFtde2UuZ2V0TWVzc2FnZSgpfSk7CiAgICAgICAgICAgICB9CiAgICAgICAgICAgICBy
ZXR1cm4gc2Vzc2lvbjsKICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4Y2VwdGlvbikgewpA
QCAtMTA1MCw5ICsxMDUyLDE0IEBADQogICAgICAgICBTdHJpbmcgcHJvdG9jb2wgPSBnZXRDb25m
aWdQcm9wZXJ0eUFzU3RyaW5nTG9nRGVidWcoUGVyc2lzdGVuY2VVbml0UHJvcGVydGllcy5DT09S
RElOQVRJT05fUFJPVE9DT0wsIG0sIHRoaXMuc2Vzc2lvbik7CiAgICAgICAgIAogICAgICAgICBp
ZiAocHJvdG9jb2wgIT0gbnVsbCkgewotICAgICAgICAgICAgUmVtb3RlQ29tbWFuZE1hbmFnZXIg
cmNtID0gbmV3IFJlbW90ZUNvbW1hbmRNYW5hZ2VyKHRoaXMuc2Vzc2lvbik7ICAgICAgICAgICAg
Ci0gICAgICAgICAgICBpZiAocHJvdG9jb2wuZXF1YWxzSWdub3JlQ2FzZSgiam1zIikpIHsKLSAg
ICAgICAgICAgICAgICBKTVNUb3BpY1RyYW5zcG9ydE1hbmFnZXIgdHJhbnNwb3J0ID0gbmV3IEpN
U1RvcGljVHJhbnNwb3J0TWFuYWdlcihyY20pOworICAgICAgICAgICAgUmVtb3RlQ29tbWFuZE1h
bmFnZXIgcmNtID0gbmV3IFJlbW90ZUNvbW1hbmRNYW5hZ2VyKHRoaXMuc2Vzc2lvbik7ICAgICAg
ICAKKyAgICAgICAgICAgIGlmIChwcm90b2NvbC5lcXVhbHNJZ25vcmVDYXNlKCJqbXMiKSB8fCBw
cm90b2NvbC5lcXVhbHNJZ25vcmVDYXNlKCJqbXMtcHVibGlzaGluZyIpKSB7CisgICAgICAgICAg
ICAgICAgSk1TUHVibGlzaGluZ1RyYW5zcG9ydE1hbmFnZXIgdHJhbnNwb3J0ID0gbnVsbDsKKyAg
ICAgICAgICAgICAgICBpZiAocHJvdG9jb2wuZXF1YWxzSWdub3JlQ2FzZSgiam1zIikpeworICAg
ICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0ID0gbmV3IEpNU1RvcGljVHJhbnNwb3J0TWFuYWdl
cihyY20pOworICAgICAgICAgICAgICAgIH0gZWxzZSB7CisgICAgICAgICAgICAgICAgICAgIHRy
YW5zcG9ydCA9IG5ldyBKTVNQdWJsaXNoaW5nVHJhbnNwb3J0TWFuYWdlcihyY20pOworICAgICAg
ICAgICAgICAgIH0KICAgICAgICAgICAgICAgICByY20uc2V0VHJhbnNwb3J0TWFuYWdlcih0cmFu
c3BvcnQpOwogICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIFN0cmluZyBob3N0ID0g
Z2V0Q29uZmlnUHJvcGVydHlBc1N0cmluZ0xvZ0RlYnVnKFBlcnNpc3RlbmNlVW5pdFByb3BlcnRp
ZXMuQ09PUkRJTkFUSU9OX0pNU19IT1NULCBtLCB0aGlzLnNlc3Npb24pOwpAQCAtMTA2OCw2ICsx
MDc1LDExIEBADQogICAgICAgICAgICAgICAgICAgICB0cmFuc3BvcnQuc2V0VG9waWNDb25uZWN0
aW9uRmFjdG9yeU5hbWUoZmFjdG9yeSk7CiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg
ICAgIAorICAgICAgICAgICAgICAgIFN0cmluZyByZXVzZV9wdWJsaXNoZXIgPSBnZXRDb25maWdQ
cm9wZXJ0eUFzU3RyaW5nTG9nRGVidWcoUGVyc2lzdGVuY2VVbml0UHJvcGVydGllcy5DT09SRElO
QVRJT05fSk1TX1JFVVNFX1BVQkxJU0hFUiwgbSwgdGhpcy5zZXNzaW9uKTsKKyAgICAgICAgICAg
ICAgICBpZiAoaG9zdCAhPSBudWxsKSB7CisgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydC5z
ZXRTaG91bGRSZXVzZUpNU1RvcGljUHVibGlzaGVyKHJldXNlX3B1Ymxpc2hlci5lcXVhbHNJZ25v
cmVDYXNlKCJ0cnVlIikpOworICAgICAgICAgICAgICAgIH0KKyAgICAgICAgICAgICAgICAKICAg
ICAgICAgICAgIH0gZWxzZSBpZiAocHJvdG9jb2wuZXF1YWxzSWdub3JlQ2FzZSgicm1pIikpIHsK
ICAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IHByb3RvY29sLgogICAgICAgICAgICAgICAgIFN0
cmluZyBkZWxheSA9IGdldENvbmZpZ1Byb3BlcnR5QXNTdHJpbmdMb2dEZWJ1ZyhQZXJzaXN0ZW5j
ZVVuaXRQcm9wZXJ0aWVzLkNPT1JESU5BVElPTl9STUlfQU5OT1VOQ0VNRU5UX0RFTEFZLCBtLCB0
aGlzLnNlc3Npb24pOwpAQCAtMTk1MSw3ICsxOTYzLDcgQEANCiAgICAgICovCiAgICAgcHVibGlj
IE1ldGFtb2RlbCBnZXRNZXRhbW9kZWwoKSB7CiAgICAgICAgIC8vIHBlcmZvcm0gbGF6eSBpbml0
aWFsaXNhdGlvbgotICAgIAlNZXRhbW9kZWwgdGVtcE1ldGFNb2RlbCA9IG51bGw7CisgICAgICAg
IE1ldGFtb2RlbCB0ZW1wTWV0YU1vZGVsID0gbnVsbDsKICAgICAgICAgaWYobnVsbCA9PSBtZXRh
TW9kZWwpIHsKICAgICAgICAgICAgIHRlbXBNZXRhTW9kZWwgPSBuZXcgTWV0YW1vZGVsSW1wbCh0
aGlzKTsKICAgICAgICAgICAgIC8vSWYgdGhlIGNhbm9uaWNhbCBtZXRhbW9kZWwgY2xhc3NlcyBl
eGlzdCwgaW5pdGlhbGl6ZSB0aGVtCg==
</data>

          </attachment>
      

    </bug>

</bugzilla>