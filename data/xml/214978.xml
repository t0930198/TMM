<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.1"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>214978</bug_id>
          
          <creation_ts>2008-01-10 19:53:00 -0500</creation_ts>
          <short_desc>Extend AbstractMaynstallField to allow for read-only state</short_desc>
          <delta_ts>2011-01-17 16:17:42 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>1</classification_id>
          <classification>Eclipse Foundation</classification>
          <product>z_Archived</product>
          <component>Maynstall</component>
          <version>unspecified</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Ray Braithwood">ray</reporter>
          <assigned_to name="Maynstall Common Inbox">maynstall.common-inbox</assigned_to>
          <cc>maynstall.common-inbox</cc>
    
    <cc>tim-at-eclipse</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1129392</commentid>
    <comment_count>0</comment_count>
      <attachid>86629</attachid>
    <who name="Ray Braithwood">ray</who>
    <bug_when>2008-01-10 19:53:24 -0500</bug_when>
    <thetext>Created attachment 86629
Patch to fix issue

Build ID: p2 upgrade stuff from head

Steps To Reproduce:
Currently AbstractMaynstallField and its subclasses do not support a pretty version of read-only state.  You can make it so that the fields are not editable but that disables the field and looks bad.  You should add the capability to create the field as read-only which will use a FormText to display the data.  A FormText is chosen rather than a Label because you can copy from a FormText.

More information:</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1129575</commentid>
    <comment_count>1</comment_count>
    <who name="Timothy Webb">tim-at-eclipse</who>
    <bug_when>2008-01-11 08:00:51 -0500</bug_when>
    <thetext>Thanks for the patch, looks like adding the readonly attribute makes it work well.  Patch committed.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>86629</attachid>
            <date>2008-01-10 19:53:00 -0500</date>
            <delta_ts>2008-01-10 19:53:24 -0500</delta_ts>
            <desc>Patch to fix issue</desc>
            <filename>patch.txt</filename>
            <type>text/plain</type>
            <size>47196</size>
            <attacher name="Ray Braithwood">ray</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UubWF5bnN0YWxs
LnAyLmNvbW1vbi51aQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9tYXluc3RhbGwvY29tbW9uL3Vp
L2Zvcm0vTWF5bnN0YWxsVGV4dE11bHRpRmllbGQuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6
IC9jdnNyb290L3RlY2hub2xvZ3kvb3JnLmVjbGlwc2UubWF5bnN0YWxsL21heW5zdGFsbC1pbmN1
YmF0b3Ivb3JnLmVjbGlwc2UubWF5bnN0YWxsLmNvbW1vbi51aS9zcmMvb3JnL2VjbGlwc2UvbWF5
bnN0YWxsL2NvbW1vbi91aS9mb3JtL01heW5zdGFsbFRleHRNdWx0aUZpZWxkLmphdmEsdg0KcmV0
cmlldmluZyByZXZpc2lvbiAxLjINCmRpZmYgLXUgLXIxLjIgTWF5bnN0YWxsVGV4dE11bHRpRmll
bGQuamF2YQ0KLS0tIHNyYy9vcmcvZWNsaXBzZS9tYXluc3RhbGwvY29tbW9uL3VpL2Zvcm0vTWF5
bnN0YWxsVGV4dE11bHRpRmllbGQuamF2YQkyMSBEZWMgMjAwNyAxOToxMTozOSAtMDAwMAkxLjIN
CisrKyBzcmMvb3JnL2VjbGlwc2UvbWF5bnN0YWxsL2NvbW1vbi91aS9mb3JtL01heW5zdGFsbFRl
eHRNdWx0aUZpZWxkLmphdmEJMTEgSmFuIDIwMDggMDA6NTI6MjIgLTAwMDANCkBAIC0xMyw1MSAr
MTMsNjUgQEANCiBpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LmxheW91dC5HcmlkRGF0YTsNCiBpbXBv
cnQgb3JnLmVjbGlwc2Uuc3d0LndpZGdldHMuKjsNCiBpbXBvcnQgb3JnLmVjbGlwc2UudWkuZm9y
bXMuSU1hbmFnZWRGb3JtOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS51aS5mb3Jtcy53aWRnZXRzLkZv
cm1UZXh0Ow0KIA0KIHB1YmxpYyBjbGFzcyBNYXluc3RhbGxUZXh0TXVsdGlGaWVsZCBleHRlbmRz
IEFic3RyYWN0TWF5bnN0YWxsRmllbGQgew0KLQlwcml2YXRlIGZpbmFsIFN0cmluZyBtX2xhYmVs
Ow0KKw0KKwlwcml2YXRlIGZpbmFsIFN0cmluZyBtX2xhYmVsU3RyaW5nOw0KIA0KIAlwcml2YXRl
IFRleHQgbV9tdWx0aVRleHQ7DQogDQotCXByb3RlY3RlZCBib29sZWFuIG1faXNEaXJ0eSA9IGZh
bHNlOw0KKwlwcml2YXRlIEZvcm1UZXh0IG1fZm9ybVRleHQ7DQorDQorCXB1YmxpYyBNYXluc3Rh
bGxUZXh0TXVsdGlGaWVsZChmaW5hbCBTdHJpbmcgbGFiZWwsIGZpbmFsIElWYWx1ZUFjY2Vzc29y
IGFjY2Vzc29yLCBmaW5hbCBJTWFuYWdlZEZvcm0gZm9ybSwgZmluYWwgQWJzdHJhY3RNYXluc3Rh
bGxGaWVsZFNlY3Rpb25QYXJ0IGFmLCBmaW5hbCBib29sZWFuIHJlYWRPbmx5KSB7DQorCQlzdXBl
cihmb3JtLCBhZiwgYWNjZXNzb3IsIHJlYWRPbmx5KTsNCiANCi0JcHVibGljIE1heW5zdGFsbFRl
eHRNdWx0aUZpZWxkKGZpbmFsIFN0cmluZyBsYWJlbCwgZmluYWwgSVZhbHVlQWNjZXNzb3IgYWNj
ZXNzb3IsIGZpbmFsIElNYW5hZ2VkRm9ybSBmb3JtLCBmaW5hbCBBYnN0cmFjdE1heW5zdGFsbEZp
ZWxkU2VjdGlvblBhcnQgYWYpIHsNCi0JCXN1cGVyKGZvcm0sIGFmLCBhY2Nlc3Nvcik7DQotCQlt
X2xhYmVsID0gbGFiZWw7DQorCQltX2xhYmVsU3RyaW5nID0gbGFiZWw7DQogCX0NCiANCi0JcHVi
bGljIE1heW5zdGFsbFRleHRNdWx0aUZpZWxkKGZpbmFsIFN0cmluZyBsYWJlbCwgZmluYWwgU3Ry
aW5nIGF0dHJpYnV0ZSwgZmluYWwgSU1hbmFnZWRGb3JtIGZvcm0sIGZpbmFsIEFic3RyYWN0TWF5
bnN0YWxsRmllbGRTZWN0aW9uUGFydCBhZikgew0KLQkJc3VwZXIoZm9ybSwgYWYsIGF0dHJpYnV0
ZSk7DQotCQltX2xhYmVsID0gbGFiZWw7DQorCXB1YmxpYyBNYXluc3RhbGxUZXh0TXVsdGlGaWVs
ZChmaW5hbCBTdHJpbmcgbGFiZWwsIGZpbmFsIFN0cmluZyBhdHRyaWJ1dGUsIGZpbmFsIElNYW5h
Z2VkRm9ybSBmb3JtLCBmaW5hbCBBYnN0cmFjdE1heW5zdGFsbEZpZWxkU2VjdGlvblBhcnQgYWYs
IGZpbmFsIGJvb2xlYW4gcmVhZE9ubHkpIHsNCisJCXN1cGVyKGZvcm0sIGFmLCBhdHRyaWJ1dGUs
IHJlYWRPbmx5KTsNCisNCisJCW1fbGFiZWxTdHJpbmcgPSBsYWJlbDsNCiAJfQ0KIA0KIAlwdWJs
aWMgdm9pZCBjcmVhdGVDb250cm9sKGZpbmFsIENvbXBvc2l0ZSBwYXJlbnQpIHsNCi0JCWNyZWF0
ZUxhYmVsKHBhcmVudCwgbV9sYWJlbCk7DQorCQljcmVhdGVMYWJlbChwYXJlbnQsIG1fbGFiZWxT
dHJpbmcpOw0KIA0KLQkJZmluYWwgR3JpZERhdGEgZ2QgPSBuZXcgR3JpZERhdGEoR3JpZERhdGEu
RklMTF9IT1JJWk9OVEFMIHwgR3JpZERhdGEuR1JBQl9IT1JJWk9OVEFMKTsNCi0JCWdkLndpZHRo
SGludCA9IDQwOw0KLQkJbV9tdWx0aVRleHQgPSBnZXRNYW5hZ2VkRm9ybSgpLmdldFRvb2xraXQo
KS5jcmVhdGVUZXh0KHBhcmVudCwgIiIpOw0KLQkJc2V0Q29udHJvbChtX211bHRpVGV4dCk7DQot
CQltX211bHRpVGV4dC5zZXRMYXlvdXREYXRhKGdkKTsNCi0JCW1fbXVsdGlUZXh0LmFkZE1vZGlm
eUxpc3RlbmVyKG5ldyBNb2RpZnlMaXN0ZW5lcigpIHsNCi0JCQlwdWJsaWMgdm9pZCBtb2RpZnlU
ZXh0KGZpbmFsIE1vZGlmeUV2ZW50IGUpIHsNCi0JCQkJaWYgKCFpc0luUmVmcmVzaCgpKSB7DQot
CQkJCQlnZXRTZWN0aW9uUGFydCgpLm1hcmtEaXJ0eSgpOw0KLQkJCQkJbV9pc0RpcnR5ID0gdHJ1
ZTsNCisJCWlmIChtX2lzUmVhZE9ubHkpIHsNCisJCQltX2Zvcm1UZXh0ID0gZ2V0TWFuYWdlZEZv
cm0oKS5nZXRUb29sa2l0KCkuY3JlYXRlRm9ybVRleHQocGFyZW50LCBmYWxzZSk7DQorCQkJc2V0
Q29udHJvbChtX2Zvcm1UZXh0KTsNCisJCQlHcmlkRGF0YSBnZCA9IG5ldyBHcmlkRGF0YShHcmlk
RGF0YS5GSUxMX0hPUklaT05UQUwgfCBHcmlkRGF0YS5HUkFCX0hPUklaT05UQUwpOw0KKwkJCWdk
LndpZHRoSGludCA9IDQwOw0KKwkJCW1fZm9ybVRleHQuc2V0TGF5b3V0RGF0YShnZCk7DQorCQl9
IGVsc2Ugew0KKwkJCWZpbmFsIEdyaWREYXRhIGdkID0gbmV3IEdyaWREYXRhKEdyaWREYXRhLkZJ
TExfSE9SSVpPTlRBTCB8IEdyaWREYXRhLkdSQUJfSE9SSVpPTlRBTCk7DQorCQkJZ2Qud2lkdGhI
aW50ID0gNDA7DQorCQkJbV9tdWx0aVRleHQgPSBnZXRNYW5hZ2VkRm9ybSgpLmdldFRvb2xraXQo
KS5jcmVhdGVUZXh0KHBhcmVudCwgIiIpOw0KKwkJCXNldENvbnRyb2wobV9tdWx0aVRleHQpOw0K
KwkJCW1fbXVsdGlUZXh0LnNldExheW91dERhdGEoZ2QpOw0KKwkJCW1fbXVsdGlUZXh0LmFkZE1v
ZGlmeUxpc3RlbmVyKG5ldyBNb2RpZnlMaXN0ZW5lcigpIHsNCisNCisJCQkJcHVibGljIHZvaWQg
bW9kaWZ5VGV4dChmaW5hbCBNb2RpZnlFdmVudCBlKSB7DQorCQkJCQlpZiAoIWlzSW5SZWZyZXNo
KCkpIHsNCisJCQkJCQlnZXRTZWN0aW9uUGFydCgpLm1hcmtEaXJ0eSgpOw0KKwkJCQkJCW1faXNE
aXJ0eSA9IHRydWU7DQorCQkJCQl9DQogCQkJCX0NCi0JCQl9DQotCQl9KTsNCi0JCW1fbXVsdGlU
ZXh0LmFkZEZvY3VzTGlzdGVuZXIobmV3IEZvY3VzQWRhcHRlcigpIHsNCisJCQl9KTsNCisNCisJ
CQltX211bHRpVGV4dC5hZGRGb2N1c0xpc3RlbmVyKG5ldyBGb2N1c0FkYXB0ZXIoKSB7DQogDQot
CQkJcHVibGljIHZvaWQgZm9jdXNMb3N0KGZpbmFsIEZvY3VzRXZlbnQgZSkgew0KLQkJCQlpZiAo
bV9pc0RpcnR5KSB7DQotCQkJCQljb21taXQoZ2V0TWFuYWdlZEZvcm0oKS5nZXRJbnB1dCgpLCBm
YWxzZSk7DQorCQkJCXB1YmxpYyB2b2lkIGZvY3VzTG9zdChmaW5hbCBGb2N1c0V2ZW50IGUpIHsN
CisJCQkJCWlmIChtX2lzRGlydHkpIHsNCisJCQkJCQljb21taXQoZ2V0TWFuYWdlZEZvcm0oKS5n
ZXRJbnB1dCgpLCBmYWxzZSk7DQorCQkJCQl9DQogCQkJCX0NCi0JCQl9DQotCQl9KTsNCisJCQl9
KTsNCisJCX0NCiAJfQ0KIA0KLQlwdWJsaWMgU3RyaW5nIGdldFN0cmluZyhmaW5hbCBTdHJpbmdb
XSBzdHIpIHsNCisJcHJpdmF0ZSBTdHJpbmcgZ2V0U3RyaW5nKGZpbmFsIFN0cmluZ1tdIHN0cikg
ew0KIAkJZmluYWwgU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsNCiAJCVN0
cmluZyB0ZXh0ID0gIiI7DQogCQlpZiAoc3RyID09IG51bGwpIHsNCkBAIC04Miw3ICs5Niw3IEBA
DQogCX0NCiANCiAJcHJvdGVjdGVkIHZvaWQgY29tbWl0VG9BY2Nlc3NvcihmaW5hbCBJVmFsdWVB
Y2Nlc3NvciBhY2Nlc3NvciwgZmluYWwgYm9vbGVhbiBvblNhdmUpIHsNCi0JCWlmIChtX2lzRGly
dHkpIHsNCisJCWlmIChtX2lzRGlydHkgJiYgIW1faXNSZWFkT25seSkgew0KIAkJCVN0cmluZyB2
YWx1ZSA9IG1fbXVsdGlUZXh0LmdldFRleHQoKTsNCiAJCQlpZiAodmFsdWUubGVuZ3RoKCkgPT0g
MCkgew0KIAkJCQl2YWx1ZSA9IG51bGw7DQpAQCAtOTcsMTEgKzExMSwxNSBAQA0KIAkJZmluYWwg
U3RyaW5nW10gdmFsdWUgPSBhY2Nlc3Nvci5hc1N0cmluZ0FycmF5KCk7DQogCQlTdHJpbmcgc3Ry
ID0gZ2V0U3RyaW5nKHZhbHVlKTsNCiAJCXN0ciA9IHN0ciAhPSBudWxsID8gc3RyIDogIiI7DQot
CQlpZiAoIXN0ci5lcXVhbHMobV9tdWx0aVRleHQuZ2V0VGV4dCgpKSkgew0KLQkJCW1fbXVsdGlU
ZXh0LnNldFRleHQoc3RyKTsNCi0JCX0NCi0JCWlmIChtX211bHRpVGV4dC5nZXRFZGl0YWJsZSgp
ICE9IHN0YXRlLm1vZGlmaWFibGUpIHsNCi0JCQltX211bHRpVGV4dC5zZXRFZGl0YWJsZShzdGF0
ZS5tb2RpZmlhYmxlKTsNCisJCWlmIChtX2lzUmVhZE9ubHkpIHsNCisJCQltX2Zvcm1UZXh0LnNl
dFRleHQoc3RyLCBmYWxzZSwgZmFsc2UpOw0KKwkJfSBlbHNlIHsNCisJCQlpZiAoIXN0ci5lcXVh
bHMobV9tdWx0aVRleHQuZ2V0VGV4dCgpKSkgew0KKwkJCQltX211bHRpVGV4dC5zZXRUZXh0KHN0
cik7DQorCQkJfQ0KKwkJCWlmIChtX211bHRpVGV4dC5nZXRFZGl0YWJsZSgpICE9IHN0YXRlLm1v
ZGlmaWFibGUpIHsNCisJCQkJbV9tdWx0aVRleHQuc2V0RWRpdGFibGUoc3RhdGUubW9kaWZpYWJs
ZSk7DQorCQkJfQ0KIAkJfQ0KIAl9DQogfQ0KXCBObyBuZXdsaW5lIGF0IGVuZCBvZiBmaWxlDQpJ
bmRleDogc3JjL29yZy9lY2xpcHNlL21heW5zdGFsbC9jb21tb24vdWkvZm9ybS9NYXluc3RhbGxY
TUxGb3JtU2VjdGlvblBhcnQuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L3Rl
Y2hub2xvZ3kvb3JnLmVjbGlwc2UubWF5bnN0YWxsL21heW5zdGFsbC1pbmN1YmF0b3Ivb3JnLmVj
bGlwc2UubWF5bnN0YWxsLmNvbW1vbi51aS9zcmMvb3JnL2VjbGlwc2UvbWF5bnN0YWxsL2NvbW1v
bi91aS9mb3JtL01heW5zdGFsbFhNTEZvcm1TZWN0aW9uUGFydC5qYXZhLHYNCnJldHJpZXZpbmcg
cmV2aXNpb24gMS4yDQpkaWZmIC11IC1yMS4yIE1heW5zdGFsbFhNTEZvcm1TZWN0aW9uUGFydC5q
YXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL21heW5zdGFsbC9jb21tb24vdWkvZm9ybS9NYXluc3Rh
bGxYTUxGb3JtU2VjdGlvblBhcnQuamF2YQkyMSBEZWMgMjAwNyAxOToxMTozOSAtMDAwMAkxLjIN
CisrKyBzcmMvb3JnL2VjbGlwc2UvbWF5bnN0YWxsL2NvbW1vbi91aS9mb3JtL01heW5zdGFsbFhN
TEZvcm1TZWN0aW9uUGFydC5qYXZhCTExIEphbiAyMDA4IDAwOjUyOjIzIC0wMDAwDQpAQCAtMjgs
NyArMjgsNyBAQA0KIAl9DQogDQogCXByaXZhdGUgQWJzdHJhY3RNYXluc3RhbGxGaWVsZCBjcmVh
dGVDaGVja2JveEZpZWxkKGZpbmFsIEVsZW1lbnQgbmV4dCkgew0KLQkJcmV0dXJuIG5ldyBNYXlu
c3RhbGxDaGVja0JveEZpZWxkKG5leHQuZ2V0QXR0cmlidXRlKCJsYWJlbCIpLCBuZXh0LmdldEF0
dHJpYnV0ZSgiYXR0cmlidXRlIiksIG5leHQuZ2V0QXR0cmlidXRlKCJxdWVzdGlvbiIpLCBnZXRN
YW5hZ2VkRm9ybSgpLCB0aGlzLCBuZXh0LmdldEF0dHJpYnV0ZSgib24iKSwgbmV4dC5nZXRBdHRy
aWJ1dGUoIm9mZiIpKTsNCisJCXJldHVybiBuZXcgTWF5bnN0YWxsQ2hlY2tCb3hGaWVsZChuZXh0
LmdldEF0dHJpYnV0ZSgibGFiZWwiKSwgbmV4dC5nZXRBdHRyaWJ1dGUoImF0dHJpYnV0ZSIpLCBu
ZXh0LmdldEF0dHJpYnV0ZSgicXVlc3Rpb24iKSwgZ2V0TWFuYWdlZEZvcm0oKSwgdGhpcywgbmV4
dC5nZXRBdHRyaWJ1dGUoIm9uIiksIG5leHQuZ2V0QXR0cmlidXRlKCJvZmYiKSwgZmFsc2UpOw0K
IAl9DQogDQogCXByaXZhdGUgQWJzdHJhY3RNYXluc3RhbGxGaWVsZCBjcmVhdGVDb21ib0ZpZWxk
KGZpbmFsIEVsZW1lbnQgbmV4dCkgew0KQEAgLTQxLDcgKzQxLDcgQEANCiAJCXRyeSB7DQogCQkJ
ZmluYWwgQ2xhc3MgY2xhenogPSBnZXRNb2RlbENvbnRleHQoKS5yZXNvbHZlQ2xhc3MocHJvdmlk
ZXJDbGFzcyk7DQogCQkJZmluYWwgSU1heW5zdGFsbENvbWJvUHJvdmlkZXIgcHJvdmlkZXIgPSAo
SU1heW5zdGFsbENvbWJvUHJvdmlkZXIpIGNsYXp6Lm5ld0luc3RhbmNlKCk7DQotCQkJcmV0dXJu
IG5ldyBNYXluc3RhbGxYTUxDb21ib0JveEZpZWxkKG5leHQuZ2V0QXR0cmlidXRlKCJsYWJlbCIp
LCBuZXh0LmdldEF0dHJpYnV0ZSgiYXR0cmlidXRlIiksIG5leHQuZ2V0QXR0cmlidXRlKCJsb29r
dXAiKSwgZ2V0TWFuYWdlZEZvcm0oKSwgdGhpcywgcHJvdmlkZXIpOw0KKwkJCXJldHVybiBuZXcg
TWF5bnN0YWxsWE1MQ29tYm9Cb3hGaWVsZChuZXh0LmdldEF0dHJpYnV0ZSgibGFiZWwiKSwgbmV4
dC5nZXRBdHRyaWJ1dGUoImF0dHJpYnV0ZSIpLCBuZXh0LmdldEF0dHJpYnV0ZSgibG9va3VwIiks
IGdldE1hbmFnZWRGb3JtKCksIHRoaXMsIHByb3ZpZGVyLCBmYWxzZSk7DQogCQl9IGNhdGNoIChm
aW5hbCBUaHJvd2FibGUgdCkgew0KIAkJCVN5c3RlbS5lcnIucHJpbnRsbigiRXJyb3Igc2V0dGlu
ZyB1cCBjb21ibyBmaWVsZCBmb3IgWyIgKyBuZXh0LmdldEF0dHJpYnV0ZSgiYXR0cmlidXRlIikg
KyAiXTogIiArIHQpOw0KIAkJCXJldHVybiBudWxsOw0KQEAgLTQ5LDcgKzQ5LDcgQEANCiAJfQ0K
IA0KIAlwcml2YXRlIEFic3RyYWN0TWF5bnN0YWxsRmllbGQgY3JlYXRlTXVsdGlMaW5lRmllbGQo
ZmluYWwgRWxlbWVudCBuZXh0KSB7DQotCQlmaW5hbCBNYXluc3RhbGxNdWx0aUxpbmVUZXh0Rmll
bGQgZmllbGQgPSBuZXcgTWF5bnN0YWxsTXVsdGlMaW5lVGV4dEZpZWxkKG5leHQuZ2V0QXR0cmli
dXRlKCJhdHRyaWJ1dGUiKSwgZ2V0TWFuYWdlZEZvcm0oKSwgdGhpcyk7DQorCQlmaW5hbCBNYXlu
c3RhbGxNdWx0aUxpbmVUZXh0RmllbGQgZmllbGQgPSBuZXcgTWF5bnN0YWxsTXVsdGlMaW5lVGV4
dEZpZWxkKG5leHQuZ2V0QXR0cmlidXRlKCJhdHRyaWJ1dGUiKSwgZ2V0TWFuYWdlZEZvcm0oKSwg
dGhpcywgZmFsc2UpOw0KIAkJaWYgKCJ0cnVlIi5lcXVhbHMobmV4dC5nZXRBdHRyaWJ1dGUoImdy
YWJWZXJ0aWNhbCIpKSkgew0KIAkJCWZpZWxkLnNldEdyYWJWZXJ0aWNhbCh0cnVlKTsNCiAJCX0N
CkBAIC01Nyw3ICs1Nyw3IEBADQogCX0NCiANCiAJcHJpdmF0ZSBBYnN0cmFjdE1heW5zdGFsbEZp
ZWxkIGNyZWF0ZVN0eWxlZE11bHRpTGluZUZpZWxkKEVsZW1lbnQgbmV4dCkgew0KLQkJTWF5bnN0
YWxsU3R5bGVkVGV4dEZpZWxkIGZpZWxkID0gbmV3IE1heW5zdGFsbFN0eWxlZFRleHRGaWVsZChu
ZXh0LmdldEF0dHJpYnV0ZSgiYXR0cmlidXRlIiksIGdldE1hbmFnZWRGb3JtKCksIHRoaXMpOw0K
KwkJTWF5bnN0YWxsU3R5bGVkVGV4dEZpZWxkIGZpZWxkID0gbmV3IE1heW5zdGFsbFN0eWxlZFRl
eHRGaWVsZChuZXh0LmdldEF0dHJpYnV0ZSgiYXR0cmlidXRlIiksIGdldE1hbmFnZWRGb3JtKCks
IHRoaXMsIGZhbHNlKTsNCiAJCWlmICgidHJ1ZSIuZXF1YWxzKG5leHQuZ2V0QXR0cmlidXRlKCJn
cmFiVmVydGljYWwiKSkpIHsNCiAJCQlmaWVsZC5zZXRHcmFiVmVydGljYWwodHJ1ZSk7DQogCQl9
DQpAQCAtNjYsOSArNjYsOSBAQA0KIA0KIAlwcml2YXRlIEFic3RyYWN0TWF5bnN0YWxsRmllbGQg
Y3JlYXRlVGV4dEZpZWxkKGZpbmFsIEVsZW1lbnQgbmV4dCkgew0KIAkJaWYgKCJ0cnVlIi5lcXVh
bHMobmV4dC5nZXRBdHRyaWJ1dGUoIm11bHRpIikpKSB7DQotCQkJcmV0dXJuIG5ldyBNYXluc3Rh
bGxUZXh0TXVsdGlGaWVsZChuZXh0LmdldEF0dHJpYnV0ZSgibGFiZWwiKSwgbmV4dC5nZXRBdHRy
aWJ1dGUoImF0dHJpYnV0ZSIpLCBnZXRNYW5hZ2VkRm9ybSgpLCB0aGlzKTsNCisJCQlyZXR1cm4g
bmV3IE1heW5zdGFsbFRleHRNdWx0aUZpZWxkKG5leHQuZ2V0QXR0cmlidXRlKCJsYWJlbCIpLCBu
ZXh0LmdldEF0dHJpYnV0ZSgiYXR0cmlidXRlIiksIGdldE1hbmFnZWRGb3JtKCksIHRoaXMsIGZh
bHNlKTsNCiAJCX0NCi0JCXJldHVybiBuZXcgTWF5bnN0YWxsVGV4dEZpZWxkKG5leHQuZ2V0QXR0
cmlidXRlKCJsYWJlbCIpLCBuZXh0LmdldEF0dHJpYnV0ZSgiYXR0cmlidXRlIiksIGdldE1hbmFn
ZWRGb3JtKCksIHRoaXMpOw0KKwkJcmV0dXJuIG5ldyBNYXluc3RhbGxUZXh0RmllbGQobmV4dC5n
ZXRBdHRyaWJ1dGUoImxhYmVsIiksIG5leHQuZ2V0QXR0cmlidXRlKCJhdHRyaWJ1dGUiKSwgZ2V0
TWFuYWdlZEZvcm0oKSwgdGhpcywgZmFsc2UpOw0KIAl9DQogDQogCQ0KSW5kZXg6IHNyYy9vcmcv
ZWNsaXBzZS9tYXluc3RhbGwvY29tbW9uL3VpL2Zvcm0vQWJzdHJhY3RNYXluc3RhbGxGaWVsZC5q
YXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvdGVjaG5vbG9neS9vcmcuZWNsaXBz
ZS5tYXluc3RhbGwvbWF5bnN0YWxsLWluY3ViYXRvci9vcmcuZWNsaXBzZS5tYXluc3RhbGwuY29t
bW9uLnVpL3NyYy9vcmcvZWNsaXBzZS9tYXluc3RhbGwvY29tbW9uL3VpL2Zvcm0vQWJzdHJhY3RN
YXluc3RhbGxGaWVsZC5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS4yDQpkaWZmIC11IC1y
MS4yIEFic3RyYWN0TWF5bnN0YWxsRmllbGQuamF2YQ0KLS0tIHNyYy9vcmcvZWNsaXBzZS9tYXlu
c3RhbGwvY29tbW9uL3VpL2Zvcm0vQWJzdHJhY3RNYXluc3RhbGxGaWVsZC5qYXZhCTIxIERlYyAy
MDA3IDE5OjExOjQwIC0wMDAwCTEuMg0KKysrIHNyYy9vcmcvZWNsaXBzZS9tYXluc3RhbGwvY29t
bW9uL3VpL2Zvcm0vQWJzdHJhY3RNYXluc3RhbGxGaWVsZC5qYXZhCTExIEphbiAyMDA4IDAwOjUy
OjIwIC0wMDAwDQpAQCAtMjEsNiArMjEsNyBAQA0KIGltcG9ydCBvcmcuZWNsaXBzZS51aS5mb3Jt
cy53aWRnZXRzLkh5cGVybGluazsNCiANCiBwdWJsaWMgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RN
YXluc3RhbGxGaWVsZCBpbXBsZW1lbnRzIElNYXluc3RhbGxGaWVsZCB7DQorCQ0KIAlwcml2YXRl
IGZpbmFsIElWYWx1ZUFjY2Vzc29yIG1fYWNjZXNzb3I7DQogDQogCXByaXZhdGUgQ29udHJvbCBt
X2NvbnRyb2w7DQpAQCAtNDIsMjcgKzQzLDM1IEBADQogCXByaXZhdGUgZmluYWwgQWJzdHJhY3RN
YXluc3RhbGxGaWVsZFNlY3Rpb25QYXJ0IG1fc2VjdGlvblBhcnQ7DQogDQogCXByaXZhdGUgaW50
IG1fd2lkdGggPSAtMTsNCi0NCi0JcHJvdGVjdGVkIEFic3RyYWN0TWF5bnN0YWxsRmllbGQoZmlu
YWwgSU1hbmFnZWRGb3JtIGZvcm0sIGZpbmFsIEFic3RyYWN0TWF5bnN0YWxsRmllbGRTZWN0aW9u
UGFydCBhZiwgZmluYWwgSVZhbHVlQWNjZXNzb3IgYWNjZXNzb3IpIHsNCi0JCXRoaXMoZm9ybSwg
YWYsIGFjY2Vzc29yLCBudWxsKTsNCisJDQorCXByb3RlY3RlZCBib29sZWFuIG1faXNEaXJ0eSA9
IGZhbHNlOw0KKwkNCisJcHJvdGVjdGVkIGJvb2xlYW4gbV9pc1JlYWRPbmx5Ow0KKw0KKwlwcm90
ZWN0ZWQgQWJzdHJhY3RNYXluc3RhbGxGaWVsZChmaW5hbCBJTWFuYWdlZEZvcm0gZm9ybSwgZmlu
YWwgQWJzdHJhY3RNYXluc3RhbGxGaWVsZFNlY3Rpb25QYXJ0IGFmLCBmaW5hbCBJVmFsdWVBY2Nl
c3NvciBhY2Nlc3NvciwgZmluYWwgYm9vbGVhbiByZWFkT25seSkgew0KKwkJdGhpcyhmb3JtLCBh
ZiwgYWNjZXNzb3IsIG51bGwsIHJlYWRPbmx5KTsNCiAJfQ0KIA0KLQlwcm90ZWN0ZWQgQWJzdHJh
Y3RNYXluc3RhbGxGaWVsZChmaW5hbCBJTWFuYWdlZEZvcm0gZm9ybSwgZmluYWwgQWJzdHJhY3RN
YXluc3RhbGxGaWVsZFNlY3Rpb25QYXJ0IGFmLCBmaW5hbCBJVmFsdWVBY2Nlc3NvciBhY2Nlc3Nv
ciwgZmluYWwgSUZpZWxkSHlwZXJsaW5rSGFuZGxlciBoYW5kbGVyKSB7DQorCXByb3RlY3RlZCBB
YnN0cmFjdE1heW5zdGFsbEZpZWxkKGZpbmFsIElNYW5hZ2VkRm9ybSBmb3JtLCBmaW5hbCBBYnN0
cmFjdE1heW5zdGFsbEZpZWxkU2VjdGlvblBhcnQgYWYsIGZpbmFsIElWYWx1ZUFjY2Vzc29yIGFj
Y2Vzc29yLCBmaW5hbCBJRmllbGRIeXBlcmxpbmtIYW5kbGVyIGhhbmRsZXIsIGZpbmFsIGJvb2xl
YW4gcmVhZE9ubHkpIHsNCisJCXN1cGVyKCk7DQorCQkNCiAJCW1fZm9ybSA9IGZvcm07DQogCQlt
X3NlY3Rpb25QYXJ0ID0gYWY7DQogCQltX2FjY2Vzc29yID0gYWNjZXNzb3I7DQogCQltX2hhbmRs
ZXIgPSBoYW5kbGVyOw0KKwkJbV9pc1JlYWRPbmx5ID0gcmVhZE9ubHk7DQogCX0NCiANCi0JcHJv
dGVjdGVkIEFic3RyYWN0TWF5bnN0YWxsRmllbGQoZmluYWwgSU1hbmFnZWRGb3JtIGZvcm0sIGZp
bmFsIEFic3RyYWN0TWF5bnN0YWxsRmllbGRTZWN0aW9uUGFydCBhZiwgZmluYWwgU3RyaW5nIGtl
eSkgew0KLQkJdGhpcyhmb3JtLCBhZiwgbmV3IEF0dHJpYnV0ZVZhbHVlQWNjZXNzb3Ioa2V5KSk7
DQorCXByb3RlY3RlZCBBYnN0cmFjdE1heW5zdGFsbEZpZWxkKGZpbmFsIElNYW5hZ2VkRm9ybSBm
b3JtLCBmaW5hbCBBYnN0cmFjdE1heW5zdGFsbEZpZWxkU2VjdGlvblBhcnQgYWYsIGZpbmFsIFN0
cmluZyBrZXksIGZpbmFsIGJvb2xlYW4gcmVhZE9ubHkpIHsNCisJCXRoaXMoZm9ybSwgYWYsIG5l
dyBBdHRyaWJ1dGVWYWx1ZUFjY2Vzc29yKGtleSksIHJlYWRPbmx5KTsNCiAJfQ0KIA0KLQlwcm90
ZWN0ZWQgQWJzdHJhY3RNYXluc3RhbGxGaWVsZChmaW5hbCBJTWFuYWdlZEZvcm0gZm9ybSwgZmlu
YWwgQWJzdHJhY3RNYXluc3RhbGxGaWVsZFNlY3Rpb25QYXJ0IGFmLCBmaW5hbCBTdHJpbmcga2V5
LCBmaW5hbCBJRmllbGRIeXBlcmxpbmtIYW5kbGVyIGhhbmRsZXIpIHsNCi0JCXRoaXMoZm9ybSwg
YWYsIG5ldyBBdHRyaWJ1dGVWYWx1ZUFjY2Vzc29yKGtleSksIGhhbmRsZXIpOw0KKwlwcm90ZWN0
ZWQgQWJzdHJhY3RNYXluc3RhbGxGaWVsZChmaW5hbCBJTWFuYWdlZEZvcm0gZm9ybSwgZmluYWwg
QWJzdHJhY3RNYXluc3RhbGxGaWVsZFNlY3Rpb25QYXJ0IGFmLCBmaW5hbCBTdHJpbmcga2V5LCBm
aW5hbCBJRmllbGRIeXBlcmxpbmtIYW5kbGVyIGhhbmRsZXIsIGZpbmFsIGJvb2xlYW4gcmVhZE9u
bHkpIHsNCisJCXRoaXMoZm9ybSwgYWYsIG5ldyBBdHRyaWJ1dGVWYWx1ZUFjY2Vzc29yKGtleSks
IGhhbmRsZXIsIHJlYWRPbmx5KTsNCiAJfQ0KIA0KIAlwdWJsaWMgZmluYWwgdm9pZCBjb21taXQo
ZmluYWwgT2JqZWN0IGlucHV0LCBmaW5hbCBib29sZWFuIG9uU2F2ZSkgew0KKwkJLy8gbm8gbmVl
ZCB0byB3b3JyeSB3aGV0aGVyIHJlYWRPbmx5IG9yIG5vdCwgaXQncyB0YWtlbiBjYXJlIG9mIGlu
IGNvbW1pdFRvQWNjZXNzb3IoKQ0KIAkJaWYgKGlucHV0ICE9IG1faW5wdXQpIHsNCiAJCQkvLyBJ
ZiB0aGUgaW5wdXQgaGFzIGNoYW5nZWQgKHJlYWxseT8pLCB3ZSdsbCBnZXQgdGhlIHJpZ2h0IGF0
dHJpYnV0ZQ0KIAkJCW1fYWNjZXNzb3Iuc2V0SW5wdXQoKElNb2RlbFByb3h5KSBpbnB1dCk7DQpA
QCAtNzYsNiArODUsNyBAQA0KIAl9DQogDQogCXB1YmxpYyBmaW5hbCB2b2lkIHJlZnJlc2goZmlu
YWwgT2JqZWN0IGlucHV0KSB7DQorCQkvLyBubyBuZWVkIHRvIHdvcnJ5IHdoZXRoZXIgcmVhZE9u
bHkgb3Igbm90LCBpdCdzIHRha2VuIGNhcmUgb2YgaW4gcmVmcmVzaEZyb21BY2Nlc3NvcigpDQog
CQltX2luUmVmcmVzaCA9IHRydWU7DQogCQlpZiAobV9pbnB1dCAhPSBpbnB1dCkgew0KIAkJCS8v
IFRyeSB0byBvbmx5IHJldHJpZXZlIHRoZSBhdHRyaWJ1dGUgd2hlbiB0aGUgaW5wdXQgY2hhbmdl
cw0KQEAgLTE1MCw3ICsxNjAsNiBAQA0KIAkJCW1faHlwZXJsaW5rLnNldFVuZGVybGluZWQodHJ1
ZSk7DQogCQkJbV9oeXBlcmxpbmsuYWRkSHlwZXJsaW5rTGlzdGVuZXIobmV3IEh5cGVybGlua0Fk
YXB0ZXIoKSB7DQogDQotCQkJCQ0KIAkJCQlwdWJsaWMgdm9pZCBsaW5rQWN0aXZhdGVkKGZpbmFs
IEh5cGVybGlua0V2ZW50IGUpIHsNCiAJCQkJCW1faGFuZGxlci5oeXBlcmxpbmtBY3RpdmF0ZWQo
bV9hY2Nlc3Nvcik7DQogCQkJCX0NCkBAIC0xNzIsNiArMTgxLDcgQEANCiAJcHJpdmF0ZSBpbnQg
Z2V0V2lkdGhIaW50KExhYmVsIGxhYmVsKSB7DQogCQlpZiAobV93aWR0aCAhPSAtMSkNCiAJCQly
ZXR1cm4gbV93aWR0aDsNCisJCQ0KIAkJR0MgZ2MgPSBuZXcgR0MobGFiZWwpOw0KIAkJZ2Muc2V0
Rm9udChsYWJlbC5nZXRGb250KCkpOw0KIAkJaW50IHdpZHRoID0gRGlhbG9nLmNvbnZlcnRXaWR0
aEluQ2hhcnNUb1BpeGVscyhnYy5nZXRGb250TWV0cmljcygpLCBsYWJlbC5nZXRUZXh0KCkubGVu
Z3RoKCkgKyAxKTsNCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvbWF5bnN0YWxsL2NvbW1vbi91aS9m
b3JtL01heW5zdGFsbENoZWNrQW5kQ29tYm9GaWVsZC5qYXZhDQo9PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmls
ZTogL2N2c3Jvb3QvdGVjaG5vbG9neS9vcmcuZWNsaXBzZS5tYXluc3RhbGwvbWF5bnN0YWxsLWlu
Y3ViYXRvci9vcmcuZWNsaXBzZS5tYXluc3RhbGwuY29tbW9uLnVpL3NyYy9vcmcvZWNsaXBzZS9t
YXluc3RhbGwvY29tbW9uL3VpL2Zvcm0vTWF5bnN0YWxsQ2hlY2tBbmRDb21ib0ZpZWxkLmphdmEs
dg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjINCmRpZmYgLXUgLXIxLjIgTWF5bnN0YWxsQ2hlY2tB
bmRDb21ib0ZpZWxkLmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2UvbWF5bnN0YWxsL2NvbW1vbi91
aS9mb3JtL01heW5zdGFsbENoZWNrQW5kQ29tYm9GaWVsZC5qYXZhCTIxIERlYyAyMDA3IDE5OjEx
OjQwIC0wMDAwCTEuMg0KKysrIHNyYy9vcmcvZWNsaXBzZS9tYXluc3RhbGwvY29tbW9uL3VpL2Zv
cm0vTWF5bnN0YWxsQ2hlY2tBbmRDb21ib0ZpZWxkLmphdmEJMTEgSmFuIDIwMDggMDA6NTI6MjEg
LTAwMDANCkBAIC0xNyw2ICsxNyw3IEBADQogaW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5sYXlvdXQu
R3JpZERhdGE7DQogaW1wb3J0IG9yZy5lY2xpcHNlLnN3dC53aWRnZXRzLio7DQogaW1wb3J0IG9y
Zy5lY2xpcHNlLnVpLmZvcm1zLklNYW5hZ2VkRm9ybTsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWku
Zm9ybXMud2lkZ2V0cy5Gb3JtVGV4dDsNCiANCiBwdWJsaWMgYWJzdHJhY3QgY2xhc3MgTWF5bnN0
YWxsQ2hlY2tBbmRDb21ib0ZpZWxkIGV4dGVuZHMgQWJzdHJhY3RNYXluc3RhbGxGaWVsZCB7DQog
DQpAQCAtMjgsNjEgKzI5LDc5IEBADQogDQogCXByaXZhdGUgZmluYWwgTWFwPFN0cmluZywgU3Ry
aW5nPiBtX2ZpZWxkVG9EZXNjTWFwcGluZ3MgPSBuZXcgSGFzaE1hcDxTdHJpbmcsIFN0cmluZz4o
KTsNCiANCi0JcHJpdmF0ZSBmaW5hbCBTdHJpbmcgbV9sYWJlbDsNCisJcHJpdmF0ZSBmaW5hbCBT
dHJpbmcgbV9sYWJlbFN0cmluZzsNCiANCiAJcHJpdmF0ZSBmaW5hbCBTdHJpbmcgbV9xdWVzdGlv
bjsNCiANCiAJcHJvdGVjdGVkIGJvb2xlYW4gbV9oYXNWYWx1ZXMgPSBmYWxzZTsNCiANCi0JcHJv
dGVjdGVkIGJvb2xlYW4gbV9pc0RpcnR5ID0gZmFsc2U7DQorCXByaXZhdGUgRm9ybVRleHQgbV9j
aGVja0Zvcm1UZXh0Ow0KKw0KKwlwcml2YXRlIEZvcm1UZXh0IG1fY29tYm9Gb3JtVGV4dDsNCiAN
CiAJU3RyaW5nIG1fc2VsZWN0ZWQ7DQogDQotCXB1YmxpYyBNYXluc3RhbGxDaGVja0FuZENvbWJv
RmllbGQoZmluYWwgU3RyaW5nIGxhYmVsLCBmaW5hbCBJVmFsdWVBY2Nlc3NvciBhY2Nlc3Nvciwg
ZmluYWwgSU1hbmFnZWRGb3JtIGZvcm0sIGZpbmFsIEFic3RyYWN0TWF5bnN0YWxsRmllbGRTZWN0
aW9uUGFydCBhZiwgZmluYWwgU3RyaW5nIHF1ZXN0aW9uLCBmaW5hbCBTdHJpbmcgeWVzLCBmaW5h
bCBTdHJpbmcgbm8pIHsNCi0JCXN1cGVyKGZvcm0sIGFmLCBhY2Nlc3Nvcik7DQotCQltX2xhYmVs
ID0gbGFiZWw7DQorCXB1YmxpYyBNYXluc3RhbGxDaGVja0FuZENvbWJvRmllbGQoZmluYWwgU3Ry
aW5nIGxhYmVsLCBmaW5hbCBJVmFsdWVBY2Nlc3NvciBhY2Nlc3NvciwgZmluYWwgSU1hbmFnZWRG
b3JtIGZvcm0sIGZpbmFsIEFic3RyYWN0TWF5bnN0YWxsRmllbGRTZWN0aW9uUGFydCBhZiwgZmlu
YWwgU3RyaW5nIHF1ZXN0aW9uLCBmaW5hbCBTdHJpbmcgeWVzLCBmaW5hbCBTdHJpbmcgbm8sIGZp
bmFsIGJvb2xlYW4gcmVhZE9ubHkpIHsNCisJCXN1cGVyKGZvcm0sIGFmLCBhY2Nlc3NvciwgcmVh
ZE9ubHkpOw0KKw0KKwkJbV9sYWJlbFN0cmluZyA9IGxhYmVsOw0KIAkJbV9xdWVzdGlvbiA9IHF1
ZXN0aW9uOw0KIAl9DQogDQotCXB1YmxpYyBNYXluc3RhbGxDaGVja0FuZENvbWJvRmllbGQoZmlu
YWwgU3RyaW5nIGxhYmVsLCBmaW5hbCBTdHJpbmcgYXR0cmlidXRlLCBmaW5hbCBJTWFuYWdlZEZv
cm0gZm9ybSwgZmluYWwgQWJzdHJhY3RNYXluc3RhbGxGaWVsZFNlY3Rpb25QYXJ0IGFmLCBmaW5h
bCBTdHJpbmcgcXVlc3Rpb24sIGZpbmFsIFN0cmluZyB5ZXMsIGZpbmFsIFN0cmluZyBubykgew0K
LQkJc3VwZXIoZm9ybSwgYWYsIGF0dHJpYnV0ZSk7DQotCQltX2xhYmVsID0gbGFiZWw7DQorCXB1
YmxpYyBNYXluc3RhbGxDaGVja0FuZENvbWJvRmllbGQoZmluYWwgU3RyaW5nIGxhYmVsLCBmaW5h
bCBTdHJpbmcgYXR0cmlidXRlLCBmaW5hbCBJTWFuYWdlZEZvcm0gZm9ybSwgZmluYWwgQWJzdHJh
Y3RNYXluc3RhbGxGaWVsZFNlY3Rpb25QYXJ0IGFmLCBmaW5hbCBTdHJpbmcgcXVlc3Rpb24sIGZp
bmFsIFN0cmluZyB5ZXMsIGZpbmFsIFN0cmluZyBubywgZmluYWwgYm9vbGVhbiByZWFkT25seSkg
ew0KKwkJc3VwZXIoZm9ybSwgYWYsIGF0dHJpYnV0ZSwgcmVhZE9ubHkpOw0KKw0KKwkJbV9sYWJl
bFN0cmluZyA9IGxhYmVsOw0KIAkJbV9xdWVzdGlvbiA9IHF1ZXN0aW9uOw0KIAl9DQogDQogCXB1
YmxpYyB2b2lkIGNyZWF0ZUNvbnRyb2woZmluYWwgQ29tcG9zaXRlIHBhcmVudCkgew0KIAkJR3Jp
ZERhdGEgZ2QgPSBuZXcgR3JpZERhdGEoKTsNCiAJCWdkLnZlcnRpY2FsSW5kZW50ID0gMTsNCi0J
CW1fY2hlY2sgPSBnZXRNYW5hZ2VkRm9ybSgpLmdldFRvb2xraXQoKS5jcmVhdGVCdXR0b24ocGFy
ZW50LCBtX3F1ZXN0aW9uLCBTV1QuQ0hFQ0spOw0KLQkJbV9jaGVjay5zZXRMYXlvdXREYXRhKGdk
KTsNCi0JCW1fY2hlY2suYWRkU2VsZWN0aW9uTGlzdGVuZXIobmV3IFNlbGVjdGlvbkFkYXB0ZXIo
KSB7DQotDQotCQkJcHVibGljIHZvaWQgd2lkZ2V0U2VsZWN0ZWQoZmluYWwgU2VsZWN0aW9uRXZl
bnQgZSkgew0KLQkJCQlpZiAoIWlzSW5SZWZyZXNoKCkpIHsNCi0JCQkJCWdldFNlY3Rpb25QYXJ0
KCkubWFya0RpcnR5KCk7DQotCQkJCQltX2lzRGlydHkgPSB0cnVlOw0KLQkJCQkJY29tbWl0KGdl
dE1hbmFnZWRGb3JtKCkuZ2V0SW5wdXQoKSwgZmFsc2UpOw0KKwkJaWYgKG1faXNSZWFkT25seSkg
ew0KKwkJCW1fY2hlY2tGb3JtVGV4dCA9IGdldE1hbmFnZWRGb3JtKCkuZ2V0VG9vbGtpdCgpLmNy
ZWF0ZUZvcm1UZXh0KHBhcmVudCwgZmFsc2UpOw0KKwkJCW1fY2hlY2tGb3JtVGV4dC5zZXRMYXlv
dXREYXRhKGdkKTsNCisJCQltX2NoZWNrRm9ybVRleHQuc2V0VGV4dChtX3F1ZXN0aW9uLCBmYWxz
ZSwgZmFsc2UpOw0KKwkJfSBlbHNlIHsNCisJCQltX2NoZWNrID0gZ2V0TWFuYWdlZEZvcm0oKS5n
ZXRUb29sa2l0KCkuY3JlYXRlQnV0dG9uKHBhcmVudCwgbV9xdWVzdGlvbiwgU1dULkNIRUNLKTsN
CisJCQltX2NoZWNrLnNldExheW91dERhdGEoZ2QpOw0KKwkJCW1fY2hlY2suYWRkU2VsZWN0aW9u
TGlzdGVuZXIobmV3IFNlbGVjdGlvbkFkYXB0ZXIoKSB7DQorDQorCQkJCXB1YmxpYyB2b2lkIHdp
ZGdldFNlbGVjdGVkKGZpbmFsIFNlbGVjdGlvbkV2ZW50IGUpIHsNCisJCQkJCWlmICghaXNJblJl
ZnJlc2goKSkgew0KKwkJCQkJCWdldFNlY3Rpb25QYXJ0KCkubWFya0RpcnR5KCk7DQorCQkJCQkJ
bV9pc0RpcnR5ID0gdHJ1ZTsNCisJCQkJCQljb21taXQoZ2V0TWFuYWdlZEZvcm0oKS5nZXRJbnB1
dCgpLCBmYWxzZSk7DQorCQkJCQl9DQogCQkJCX0NCi0JCQl9DQotCQl9KTsNCisJCQl9KTsNCisJ
CX0NCiANCi0JCWNyZWF0ZUxhYmVsKHBhcmVudCwgbV9sYWJlbCk7DQorCQljcmVhdGVMYWJlbChw
YXJlbnQsIG1fbGFiZWxTdHJpbmcpOw0KIA0KLQkJbV9jb21ibyA9IG5ldyBDb21ibyhwYXJlbnQs
IFNXVC5SRUFEX09OTFkgfCBTV1QuRFJPUF9ET1dOKTsNCi0JCWdkID0gbmV3IEdyaWREYXRhKEdy
aWREYXRhLkdSQUJfSE9SSVpPTlRBTCB8IEdyaWREYXRhLkZJTExfSE9SSVpPTlRBTCk7DQotCQln
ZC53aWR0aEhpbnQgPSAxMDA7DQotCQlzZXRDb250cm9sKG1fY29tYm8pOw0KLQkJbV9jb21iby5z
ZXRMYXlvdXREYXRhKGdkKTsNCi0JCW1fY29tYm8uYWRkU2VsZWN0aW9uTGlzdGVuZXIobmV3IFNl
bGVjdGlvbkFkYXB0ZXIoKSB7DQotDQotCQkJcHVibGljIHZvaWQgd2lkZ2V0U2VsZWN0ZWQoZmlu
YWwgU2VsZWN0aW9uRXZlbnQgZSkgew0KLQkJCQlpZiAoIWlzSW5SZWZyZXNoKCkpIHsNCi0JCQkJ
CWdldFNlY3Rpb25QYXJ0KCkubWFya0RpcnR5KCk7DQotCQkJCQltX2lzRGlydHkgPSB0cnVlOw0K
LQkJCQkJY29tbWl0KGdldE1hbmFnZWRGb3JtKCkuZ2V0SW5wdXQoKSwgZmFsc2UpOw0KKwkJaWYg
KG1faXNSZWFkT25seSkgew0KKwkJCW1fY29tYm9Gb3JtVGV4dCA9IGdldE1hbmFnZWRGb3JtKCku
Z2V0VG9vbGtpdCgpLmNyZWF0ZUZvcm1UZXh0KHBhcmVudCwgZmFsc2UpOw0KKwkJCXNldENvbnRy
b2wobV9jb21ib0Zvcm1UZXh0KTsNCisJCQlnZCA9IG5ldyBHcmlkRGF0YShHcmlkRGF0YS5HUkFC
X0hPUklaT05UQUwgfCBHcmlkRGF0YS5GSUxMX0hPUklaT05UQUwpOw0KKwkJCWdkLndpZHRoSGlu
dCA9IDEwMDsNCisJCQltX2NvbWJvRm9ybVRleHQuc2V0TGF5b3V0RGF0YShnZCk7DQorCQl9IGVs
c2Ugew0KKwkJCW1fY29tYm8gPSBuZXcgQ29tYm8ocGFyZW50LCBTV1QuUkVBRF9PTkxZIHwgU1dU
LkRST1BfRE9XTik7DQorCQkJZ2QgPSBuZXcgR3JpZERhdGEoR3JpZERhdGEuR1JBQl9IT1JJWk9O
VEFMIHwgR3JpZERhdGEuRklMTF9IT1JJWk9OVEFMKTsNCisJCQlnZC53aWR0aEhpbnQgPSAxMDA7
DQorCQkJc2V0Q29udHJvbChtX2NvbWJvKTsNCisJCQltX2NvbWJvLnNldExheW91dERhdGEoZ2Qp
Ow0KKwkJCW1fY29tYm8uYWRkU2VsZWN0aW9uTGlzdGVuZXIobmV3IFNlbGVjdGlvbkFkYXB0ZXIo
KSB7DQorDQorCQkJCXB1YmxpYyB2b2lkIHdpZGdldFNlbGVjdGVkKGZpbmFsIFNlbGVjdGlvbkV2
ZW50IGUpIHsNCisJCQkJCWlmICghaXNJblJlZnJlc2goKSkgew0KKwkJCQkJCWdldFNlY3Rpb25Q
YXJ0KCkubWFya0RpcnR5KCk7DQorCQkJCQkJbV9pc0RpcnR5ID0gdHJ1ZTsNCisJCQkJCQljb21t
aXQoZ2V0TWFuYWdlZEZvcm0oKS5nZXRJbnB1dCgpLCBmYWxzZSk7DQorCQkJCQl9DQogCQkJCX0N
Ci0JCQl9DQotCQl9KTsNCisJCQl9KTsNCisJCX0NCiAJfQ0KIA0KIAlwcml2YXRlIHZvaWQgcG9w
dWxhdGVDb21ibyhmaW5hbCBTdHJpbmdbXSB2YWxzLCBmaW5hbCBTdHJpbmdbXSB2YWxzRGVzYywg
ZmluYWwgSVZhbHVlQWNjZXNzb3IgYWNjZXNzb3IpIHsNCkBAIC05OSwyNyArMTE4LDQzIEBADQog
DQogCQkJaWYgKHZhbHNbaV0uZXF1YWxzKHZhbHVlKSkgew0KIAkJCQltYXRjaCA9IHRydWU7DQot
CQkJCW1fY29tYm8uc2V0VGV4dChtX2ZpZWxkVG9EZXNjTWFwcGluZ3MuZ2V0KHZhbHVlKSk7DQot
CQkJCW1fY29tYm8uc2VsZWN0KGkpOw0KKwkJCQlpZiAobV9pc1JlYWRPbmx5KSB7DQorCQkJCQlt
X2NvbWJvRm9ybVRleHQuc2V0VGV4dChtX2ZpZWxkVG9EZXNjTWFwcGluZ3MuZ2V0KHZhbHVlKSwg
ZmFsc2UsIGZhbHNlKTsNCisJCQkJfSBlbHNlIHsNCisJCQkJCW1fY29tYm8uc2V0VGV4dChtX2Zp
ZWxkVG9EZXNjTWFwcGluZ3MuZ2V0KHZhbHVlKSk7DQorCQkJCQltX2NvbWJvLnNlbGVjdChpKTsN
CisJCQkJfQ0KIAkJCX0NCiAJCX0NCiAJCWlmICghbWF0Y2gpIHsNCiAJCQlpZiAodmFscy5sZW5n
dGggPT0gMCkgew0KIAkJCQltX2hhc1ZhbHVlcyA9IGZhbHNlOw0KIAkJCQlpZiAodmFsdWUgIT0g
bnVsbCAmJiB2YWx1ZS5sZW5ndGgoKSA+IDApIHsNCi0JCQkJCW1fY29tYm8uc2V0VGV4dCh2YWx1
ZSk7DQorCQkJCQlpZiAobV9pc1JlYWRPbmx5KSB7DQorCQkJCQkJbV9jb21ib0Zvcm1UZXh0LnNl
dFRleHQodmFsdWUsIGZhbHNlLCBmYWxzZSk7DQorCQkJCQl9IGVsc2Ugew0KKwkJCQkJCW1fY29t
Ym8uc2V0VGV4dCh2YWx1ZSk7DQorCQkJCQl9DQogCQkJCX0gZWxzZSB7DQotCQkJCQltX2NvbWJv
LnNldFRleHQoIiIpOw0KKwkJCQkJaWYgKG1faXNSZWFkT25seSkgew0KKwkJCQkJCW1fY29tYm9G
b3JtVGV4dC5zZXRUZXh0KCIiLCBmYWxzZSwgZmFsc2UpOw0KKwkJCQkJfSBlbHNlIHsNCisJCQkJ
CQltX2NvbWJvLnNldFRleHQoIiIpOw0KKwkJCQkJfQ0KIAkJCQl9DQogCQkJfSBlbHNlIHsNCi0J
CQkJbV9jb21iby5zZXRUZXh0KCIiKTsNCi0JCQkJbV9jb21iby5jbGVhclNlbGVjdGlvbigpOw0K
KwkJCQlpZiAobV9pc1JlYWRPbmx5KSB7DQorCQkJCQltX2NvbWJvRm9ybVRleHQuc2V0VGV4dCgi
IiwgZmFsc2UsIGZhbHNlKTsNCisJCQkJfSBlbHNlIHsNCisJCQkJCW1fY29tYm8uc2V0VGV4dCgi
Iik7DQorCQkJCQltX2NvbWJvLmNsZWFyU2VsZWN0aW9uKCk7DQorCQkJCX0NCiAJCQl9DQogCQl9
DQogCX0NCiANCiAJcHJvdGVjdGVkIHZvaWQgY29tbWl0VG9BY2Nlc3NvcihmaW5hbCBJVmFsdWVB
Y2Nlc3NvciBhY2Nlc3NvciwgZmluYWwgYm9vbGVhbiBvblNhdmUpIHsNCi0JCWlmIChtX2lzRGly
dHkpIHsNCisJCWlmIChtX2lzRGlydHkgJiYgIW1faXNSZWFkT25seSkgew0KIAkJCWZpbmFsIGJv
b2xlYW4gdmFsdWUgPSBtX2NoZWNrLmdldFNlbGVjdGlvbigpOw0KIAkJCWlmICh2YWx1ZSkgew0K
IAkJCQlhY2Nlc3Nvci5zZXQobV9kZXNjVG9GaWVsZE1hcHBpbmcuZ2V0KG1fY29tYm8uZ2V0VGV4
dCgpKSk7DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL21heW5zdGFsbC9jb21tb24vdWkvZm9ybS9N
YXluc3RhbGxDaGVja0JveEZpZWxkLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9v
dC90ZWNobm9sb2d5L29yZy5lY2xpcHNlLm1heW5zdGFsbC9tYXluc3RhbGwtaW5jdWJhdG9yL29y
Zy5lY2xpcHNlLm1heW5zdGFsbC5jb21tb24udWkvc3JjL29yZy9lY2xpcHNlL21heW5zdGFsbC9j
b21tb24vdWkvZm9ybS9NYXluc3RhbGxDaGVja0JveEZpZWxkLmphdmEsdg0KcmV0cmlldmluZyBy
ZXZpc2lvbiAxLjINCmRpZmYgLXUgLXIxLjIgTWF5bnN0YWxsQ2hlY2tCb3hGaWVsZC5qYXZhDQot
LS0gc3JjL29yZy9lY2xpcHNlL21heW5zdGFsbC9jb21tb24vdWkvZm9ybS9NYXluc3RhbGxDaGVj
a0JveEZpZWxkLmphdmEJMjEgRGVjIDIwMDcgMTk6MTE6MzkgLTAwMDAJMS4yDQorKysgc3JjL29y
Zy9lY2xpcHNlL21heW5zdGFsbC9jb21tb24vdWkvZm9ybS9NYXluc3RhbGxDaGVja0JveEZpZWxk
LmphdmEJMTEgSmFuIDIwMDggMDA6NTI6MjEgLTAwMDANCkBAIC0xNCwxMSArMTQsMTMgQEANCiBp
bXBvcnQgb3JnLmVjbGlwc2Uuc3d0LmxheW91dC5HcmlkRGF0YTsNCiBpbXBvcnQgb3JnLmVjbGlw
c2Uuc3d0LndpZGdldHMuKjsNCiBpbXBvcnQgb3JnLmVjbGlwc2UudWkuZm9ybXMuSU1hbmFnZWRG
b3JtOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS51aS5mb3Jtcy53aWRnZXRzLkZvcm1UZXh0Ow0KIA0K
IHB1YmxpYyBjbGFzcyBNYXluc3RhbGxDaGVja0JveEZpZWxkIGV4dGVuZHMgQWJzdHJhY3RNYXlu
c3RhbGxGaWVsZCB7DQorDQogCXByaXZhdGUgQnV0dG9uIG1fY2hlY2s7DQogDQotCXByaXZhdGUg
ZmluYWwgU3RyaW5nIG1fbGFiZWw7DQorCXByaXZhdGUgZmluYWwgU3RyaW5nIG1fbGFiZWxTdHJp
bmc7DQogDQogCXByaXZhdGUgU3RyaW5nIG1fbm8gPSAiTiI7DQogDQpAQCAtMjYsMTkgKzI4LDIx
IEBADQogDQogCXByaXZhdGUgU3RyaW5nIG1feWVzID0gIlkiOw0KIA0KLQlwcm90ZWN0ZWQgYm9v
bGVhbiBtX2lzRGlydHkgPSBmYWxzZTsNCisJcHJpdmF0ZSBGb3JtVGV4dCBtX2Zvcm1UZXh0Ow0K
Kw0KKwlwdWJsaWMgTWF5bnN0YWxsQ2hlY2tCb3hGaWVsZChmaW5hbCBTdHJpbmcgbGFiZWwsIGZp
bmFsIElWYWx1ZUFjY2Vzc29yIGFjY2Vzc29yLCBmaW5hbCBTdHJpbmcgcXVlc3Rpb24sIGZpbmFs
IElNYW5hZ2VkRm9ybSBmb3JtLCBmaW5hbCBBYnN0cmFjdE1heW5zdGFsbEZpZWxkU2VjdGlvblBh
cnQgYWYsIGZpbmFsIFN0cmluZyB5ZXMsIGZpbmFsIFN0cmluZyBubywgZmluYWwgYm9vbGVhbiBy
ZWFkT25seSkgew0KKwkJc3VwZXIoZm9ybSwgYWYsIGFjY2Vzc29yLCByZWFkT25seSk7DQogDQot
CXB1YmxpYyBNYXluc3RhbGxDaGVja0JveEZpZWxkKGZpbmFsIFN0cmluZyBsYWJlbCwgZmluYWwg
SVZhbHVlQWNjZXNzb3IgYWNjZXNzb3IsIGZpbmFsIFN0cmluZyBxdWVzdGlvbiwgZmluYWwgSU1h
bmFnZWRGb3JtIGZvcm0sIGZpbmFsIEFic3RyYWN0TWF5bnN0YWxsRmllbGRTZWN0aW9uUGFydCBh
ZiwgZmluYWwgU3RyaW5nIHllcywgZmluYWwgU3RyaW5nIG5vKSB7DQotCQlzdXBlcihmb3JtLCBh
ZiwgYWNjZXNzb3IpOw0KLQkJbV9sYWJlbCA9IGxhYmVsOw0KKwkJbV9sYWJlbFN0cmluZyA9IGxh
YmVsOw0KIAkJbV9xdWVzdGlvbiA9IHF1ZXN0aW9uOw0KIAkJbV95ZXMgPSB5ZXM7DQogCQltX25v
ID0gbm87DQogCX0NCiANCi0JcHVibGljIE1heW5zdGFsbENoZWNrQm94RmllbGQoZmluYWwgU3Ry
aW5nIGxhYmVsLCBmaW5hbCBTdHJpbmcgYXR0cmlidXRlLCBmaW5hbCBTdHJpbmcgcXVlc3Rpb24s
IGZpbmFsIElNYW5hZ2VkRm9ybSBmb3JtLCBmaW5hbCBBYnN0cmFjdE1heW5zdGFsbEZpZWxkU2Vj
dGlvblBhcnQgYWYsIGZpbmFsIFN0cmluZyB5ZXMsIGZpbmFsIFN0cmluZyBubykgew0KLQkJc3Vw
ZXIoZm9ybSwgYWYsIGF0dHJpYnV0ZSk7DQotCQltX2xhYmVsID0gbGFiZWw7DQorCXB1YmxpYyBN
YXluc3RhbGxDaGVja0JveEZpZWxkKGZpbmFsIFN0cmluZyBsYWJlbCwgZmluYWwgU3RyaW5nIGF0
dHJpYnV0ZSwgZmluYWwgU3RyaW5nIHF1ZXN0aW9uLCBmaW5hbCBJTWFuYWdlZEZvcm0gZm9ybSwg
ZmluYWwgQWJzdHJhY3RNYXluc3RhbGxGaWVsZFNlY3Rpb25QYXJ0IGFmLCBmaW5hbCBTdHJpbmcg
eWVzLCBmaW5hbCBTdHJpbmcgbm8sIGZpbmFsIGJvb2xlYW4gcmVhZE9ubHkpIHsNCisJCXN1cGVy
KGZvcm0sIGFmLCBhdHRyaWJ1dGUsIHJlYWRPbmx5KTsNCisNCisJCW1fbGFiZWxTdHJpbmcgPSBs
YWJlbDsNCiAJCW1fcXVlc3Rpb24gPSBxdWVzdGlvbjsNCiAJCW1feWVzID0geWVzOw0KIAkJbV9u
byA9IG5vOw0KQEAgLTQ3LDMwICs1MSwzNyBAQA0KIAlwdWJsaWMgdm9pZCBjcmVhdGVDb250cm9s
KGZpbmFsIENvbXBvc2l0ZSBwYXJlbnQpIHsNCiAJCWZpbmFsIEdyaWREYXRhIGdkID0gbmV3IEdy
aWREYXRhKCk7DQogDQotCQlpZiAobV9sYWJlbCAhPSBudWxsKSB7DQotCQkJY3JlYXRlTGFiZWwo
cGFyZW50LCBtX2xhYmVsKTsNCisJCWlmIChtX2xhYmVsU3RyaW5nICE9IG51bGwpIHsNCisJCQlj
cmVhdGVMYWJlbChwYXJlbnQsIG1fbGFiZWxTdHJpbmcpOw0KIAkJCWdkLnZlcnRpY2FsSW5kZW50
ID0gMTsNCiAJCX0gZWxzZSB7DQogCQkJZ2QudmVydGljYWxJbmRlbnQgPSAyOw0KIAkJCWdkLmhv
cml6b250YWxTcGFuID0gMjsNCiAJCX0NCi0JCW1fY2hlY2sgPSBnZXRNYW5hZ2VkRm9ybSgpLmdl
dFRvb2xraXQoKS5jcmVhdGVCdXR0b24ocGFyZW50LCBtX3F1ZXN0aW9uLCBTV1QuQ0hFQ0spOw0K
LQ0KLQkJbV9jaGVjay5zZXRMYXlvdXREYXRhKGdkKTsNCi0JCW1fY2hlY2suYWRkU2VsZWN0aW9u
TGlzdGVuZXIobmV3IFNlbGVjdGlvbkFkYXB0ZXIoKSB7DQotDQotCQkJcHVibGljIHZvaWQgd2lk
Z2V0U2VsZWN0ZWQoZmluYWwgU2VsZWN0aW9uRXZlbnQgZSkgew0KLQkJCQlpZiAoIWlzSW5SZWZy
ZXNoKCkpIHsNCi0JCQkJCWdldFNlY3Rpb25QYXJ0KCkubWFya0RpcnR5KCk7DQotCQkJCQltX2lz
RGlydHkgPSB0cnVlOw0KLQkJCQkJY29tbWl0KGdldE1hbmFnZWRGb3JtKCkuZ2V0SW5wdXQoKSwg
ZmFsc2UpOw0KKwkJaWYgKG1faXNSZWFkT25seSkgew0KKwkJCW1fZm9ybVRleHQgPSBnZXRNYW5h
Z2VkRm9ybSgpLmdldFRvb2xraXQoKS5jcmVhdGVGb3JtVGV4dChwYXJlbnQsIGZhbHNlKTsNCisJ
CQlzZXRDb250cm9sKG1fZm9ybVRleHQpOw0KKwkJCW1fZm9ybVRleHQuc2V0TGF5b3V0RGF0YShn
ZCk7DQorCQkJbV9mb3JtVGV4dC5zZXRUZXh0KG1fcXVlc3Rpb24sIGZhbHNlLCBmYWxzZSk7DQor
CQl9IGVsc2Ugew0KKwkJCW1fY2hlY2sgPSBnZXRNYW5hZ2VkRm9ybSgpLmdldFRvb2xraXQoKS5j
cmVhdGVCdXR0b24ocGFyZW50LCBtX3F1ZXN0aW9uLCBTV1QuQ0hFQ0spOw0KKwkJCXNldENvbnRy
b2wobV9jaGVjayk7DQorCQkJbV9jaGVjay5zZXRMYXlvdXREYXRhKGdkKTsNCisJCQltX2NoZWNr
LmFkZFNlbGVjdGlvbkxpc3RlbmVyKG5ldyBTZWxlY3Rpb25BZGFwdGVyKCkgew0KKw0KKwkJCQlw
dWJsaWMgdm9pZCB3aWRnZXRTZWxlY3RlZChmaW5hbCBTZWxlY3Rpb25FdmVudCBlKSB7DQorCQkJ
CQlpZiAoIWlzSW5SZWZyZXNoKCkpIHsNCisJCQkJCQlnZXRTZWN0aW9uUGFydCgpLm1hcmtEaXJ0
eSgpOw0KKwkJCQkJCW1faXNEaXJ0eSA9IHRydWU7DQorCQkJCQkJY29tbWl0KGdldE1hbmFnZWRG
b3JtKCkuZ2V0SW5wdXQoKSwgZmFsc2UpOw0KKwkJCQkJfQ0KIAkJCQl9DQotCQkJfQ0KLQkJfSk7
DQorCQkJfSk7DQorCQl9DQogCX0NCiANCiAJcHJvdGVjdGVkIHZvaWQgY29tbWl0VG9BY2Nlc3Nv
cihmaW5hbCBJVmFsdWVBY2Nlc3NvciBhY2Nlc3NvciwgZmluYWwgYm9vbGVhbiBvblNhdmUpIHsN
Ci0JCWlmIChtX2lzRGlydHkpIHsNCisJCWlmIChtX2lzRGlydHkgJiYgIW1faXNSZWFkT25seSkg
ew0KIAkJCWZpbmFsIGJvb2xlYW4gdmFsdWUgPSBtX2NoZWNrLmdldFNlbGVjdGlvbigpOw0KIAkJ
CVN0cmluZyBzdHIgPSBtX25vOw0KIAkJCWlmICh2YWx1ZSkgew0KQEAgLTg4LDE0ICs5OSwxOCBA
QA0KIAkJaWYgKHZhbHVlID09IG51bGwpIHsNCiAJCQl2YWx1ZSA9IG1fbm87DQogCQl9DQotCQlp
ZiAodmFsdWUuZXF1YWxzKG1feWVzKSkgew0KLQkJCW1fY2hlY2suc2V0U2VsZWN0aW9uKHRydWUp
Ow0KKwkJaWYgKG1faXNSZWFkT25seSkgew0KKwkJCVN0cmluZyBkaXNwbGF5TGFiZWwgPSB2YWx1
ZS5lcXVhbHMobV95ZXMpID8gIlllcyIgOiAiTm8iOw0KKwkJCW1fZm9ybVRleHQuc2V0VGV4dCht
X3F1ZXN0aW9uICsgIjoiICsgZGlzcGxheUxhYmVsLCBmYWxzZSwgZmFsc2UpOw0KIAkJfSBlbHNl
IHsNCi0JCQltX2NoZWNrLnNldFNlbGVjdGlvbihmYWxzZSk7DQotCQl9DQotCQlpZiAobV9jaGVj
ay5pc0VuYWJsZWQoKSAhPSBzdGF0ZS5tb2RpZmlhYmxlKSB7DQotCQkJbV9jaGVjay5zZXRFbmFi
bGVkKHN0YXRlLm1vZGlmaWFibGUpOw0KKwkJCWlmICh2YWx1ZS5lcXVhbHMobV95ZXMpKSB7DQor
CQkJCW1fY2hlY2suc2V0U2VsZWN0aW9uKHRydWUpOw0KKwkJCX0gZWxzZSB7DQorCQkJCW1fY2hl
Y2suc2V0U2VsZWN0aW9uKGZhbHNlKTsNCisJCQl9DQorCQkJaWYgKG1fY2hlY2suaXNFbmFibGVk
KCkgIT0gc3RhdGUubW9kaWZpYWJsZSkgew0KKwkJCQltX2NoZWNrLnNldEVuYWJsZWQoc3RhdGUu
bW9kaWZpYWJsZSk7DQorCQkJfQ0KIAkJfQ0KLQ0KIAl9DQogfQ0KXCBObyBuZXdsaW5lIGF0IGVu
ZCBvZiBmaWxlDQpJbmRleDogc3JjL29yZy9lY2xpcHNlL21heW5zdGFsbC9jb21tb24vdWkvZm9y
bS9NYXluc3RhbGxDb21ib0JveEZpZWxkLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3Zz
cm9vdC90ZWNobm9sb2d5L29yZy5lY2xpcHNlLm1heW5zdGFsbC9tYXluc3RhbGwtaW5jdWJhdG9y
L29yZy5lY2xpcHNlLm1heW5zdGFsbC5jb21tb24udWkvc3JjL29yZy9lY2xpcHNlL21heW5zdGFs
bC9jb21tb24vdWkvZm9ybS9NYXluc3RhbGxDb21ib0JveEZpZWxkLmphdmEsdg0KcmV0cmlldmlu
ZyByZXZpc2lvbiAxLjINCmRpZmYgLXUgLXIxLjIgTWF5bnN0YWxsQ29tYm9Cb3hGaWVsZC5qYXZh
DQotLS0gc3JjL29yZy9lY2xpcHNlL21heW5zdGFsbC9jb21tb24vdWkvZm9ybS9NYXluc3RhbGxD
b21ib0JveEZpZWxkLmphdmEJMjEgRGVjIDIwMDcgMTk6MTE6NDAgLTAwMDAJMS4yDQorKysgc3Jj
L29yZy9lY2xpcHNlL21heW5zdGFsbC9jb21tb24vdWkvZm9ybS9NYXluc3RhbGxDb21ib0JveEZp
ZWxkLmphdmEJMTEgSmFuIDIwMDggMDA6NTI6MjEgLTAwMDANCkBAIC04LDc4ICs4LDk4IEBADQog
ICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKi8NCiBwYWNrYWdlIG9yZy5lY2xpcHNlLm1heW5zdGFsbC5j
b21tb24udWkuZm9ybTsNCiANCi1pbXBvcnQgamF2YS51dGlsLio7DQoraW1wb3J0IGphdmEudXRp
bC5IYXNoTWFwOw0KK2ltcG9ydCBqYXZhLnV0aWwuTWFwOw0KIA0KIGltcG9ydCBvcmcuZWNsaXBz
ZS5tYXluc3RhbGwuY29tbW9uLnVpLnV0aWxzLlVJU3RyaW5nVXRpbGl0eTsNCiBpbXBvcnQgb3Jn
LmVjbGlwc2UubWF5bnN0YWxsLm1vZGVsLmNvcmUuQXR0cmlidXRlU3RhdGU7DQogaW1wb3J0IG9y
Zy5lY2xpcHNlLnN3dC5TV1Q7DQotaW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5ldmVudHMuKjsNCitp
bXBvcnQgb3JnLmVjbGlwc2Uuc3d0LmV2ZW50cy5Gb2N1c0FkYXB0ZXI7DQoraW1wb3J0IG9yZy5l
Y2xpcHNlLnN3dC5ldmVudHMuRm9jdXNFdmVudDsNCitpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LmV2
ZW50cy5Nb2RpZnlFdmVudDsNCitpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LmV2ZW50cy5Nb2RpZnlM
aXN0ZW5lcjsNCitpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LmV2ZW50cy5TZWxlY3Rpb25BZGFwdGVy
Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3QuZXZlbnRzLlNlbGVjdGlvbkV2ZW50Ow0KIGltcG9y
dCBvcmcuZWNsaXBzZS5zd3QubGF5b3V0LkdyaWREYXRhOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5z
d3Qud2lkZ2V0cy4qOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3Qud2lkZ2V0cy5Db21ibzsNCitp
bXBvcnQgb3JnLmVjbGlwc2Uuc3d0LndpZGdldHMuQ29tcG9zaXRlOw0KK2ltcG9ydCBvcmcuZWNs
aXBzZS5zd3Qud2lkZ2V0cy5Db250cm9sOw0KIGltcG9ydCBvcmcuZWNsaXBzZS51aS5mb3Jtcy5J
TWFuYWdlZEZvcm07DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmZvcm1zLndpZGdldHMuRm9ybVRl
eHQ7DQogDQogcHVibGljIGFic3RyYWN0IGNsYXNzIE1heW5zdGFsbENvbWJvQm94RmllbGQgZXh0
ZW5kcyBBYnN0cmFjdE1heW5zdGFsbEZpZWxkIHsNCisNCiAJcHJpdmF0ZSBDb21ibyBtX2NvbWJv
Ow0KIA0KKwlwcml2YXRlIEZvcm1UZXh0IG1fZm9ybVRleHQ7DQorDQogCXByaXZhdGUgZmluYWwg
TWFwPFN0cmluZywgU3RyaW5nPiBtX2Rlc2NUb0ZpZWxkTWFwcGluZyA9IG5ldyBIYXNoTWFwPFN0
cmluZywgU3RyaW5nPigpOw0KIA0KIAlwcml2YXRlIGZpbmFsIE1hcDxTdHJpbmcsIFN0cmluZz4g
bV9maWVsZFRvRGVzY01hcHBpbmdzID0gbmV3IEhhc2hNYXA8U3RyaW5nLCBTdHJpbmc+KCk7DQog
DQotCXByaXZhdGUgZmluYWwgU3RyaW5nIG1fbGFiZWw7DQorCXByaXZhdGUgZmluYWwgU3RyaW5n
IG1fbGFiZWxTdHJpbmc7DQogDQogCXByb3RlY3RlZCBib29sZWFuIG1faGFzVmFsdWVzID0gZmFs
c2U7DQogDQotCXByb3RlY3RlZCBib29sZWFuIG1faXNEaXJ0eSA9IGZhbHNlOw0KLQ0KIAlTdHJp
bmcgbV9zZWxlY3RlZDsNCiANCi0JcHVibGljIE1heW5zdGFsbENvbWJvQm94RmllbGQoZmluYWwg
U3RyaW5nIGxhYmVsLCBmaW5hbCBJVmFsdWVBY2Nlc3NvciBhY2Nlc3NvciwgZmluYWwgSU1hbmFn
ZWRGb3JtIGZvcm0sIGZpbmFsIEFic3RyYWN0TWF5bnN0YWxsRmllbGRTZWN0aW9uUGFydCBhZikg
ew0KLQkJc3VwZXIoZm9ybSwgYWYsIGFjY2Vzc29yKTsNCi0JCW1fbGFiZWwgPSBsYWJlbDsNCisJ
cHVibGljIE1heW5zdGFsbENvbWJvQm94RmllbGQoZmluYWwgU3RyaW5nIGxhYmVsLCBmaW5hbCBJ
VmFsdWVBY2Nlc3NvciBhY2Nlc3NvciwgZmluYWwgSU1hbmFnZWRGb3JtIGZvcm0sIGZpbmFsIEFi
c3RyYWN0TWF5bnN0YWxsRmllbGRTZWN0aW9uUGFydCBhZiwgZmluYWwgYm9vbGVhbiByZWFkT25s
eSkgew0KKwkJc3VwZXIoZm9ybSwgYWYsIGFjY2Vzc29yLCByZWFkT25seSk7DQorDQorCQltX2xh
YmVsU3RyaW5nID0gbGFiZWw7DQogCX0NCiANCi0JcHVibGljIE1heW5zdGFsbENvbWJvQm94Rmll
bGQoZmluYWwgU3RyaW5nIGxhYmVsLCBmaW5hbCBTdHJpbmcgYXR0cmlidXRlLCBmaW5hbCBJTWFu
YWdlZEZvcm0gZm9ybSwgZmluYWwgQWJzdHJhY3RNYXluc3RhbGxGaWVsZFNlY3Rpb25QYXJ0IGFm
KSB7DQotCQlzdXBlcihmb3JtLCBhZiwgYXR0cmlidXRlKTsNCi0JCW1fbGFiZWwgPSBsYWJlbDsN
CisJcHVibGljIE1heW5zdGFsbENvbWJvQm94RmllbGQoZmluYWwgU3RyaW5nIGxhYmVsLCBmaW5h
bCBTdHJpbmcgYXR0cmlidXRlLCBmaW5hbCBJTWFuYWdlZEZvcm0gZm9ybSwgZmluYWwgQWJzdHJh
Y3RNYXluc3RhbGxGaWVsZFNlY3Rpb25QYXJ0IGFmLCBmaW5hbCBib29sZWFuIHJlYWRPbmx5KSB7
DQorCQlzdXBlcihmb3JtLCBhZiwgYXR0cmlidXRlLCByZWFkT25seSk7DQorDQorCQltX2xhYmVs
U3RyaW5nID0gbGFiZWw7DQogCX0NCiANCiAJcHVibGljIHZvaWQgY3JlYXRlQ29udHJvbChmaW5h
bCBDb21wb3NpdGUgcGFyZW50KSB7DQotCQljcmVhdGVMYWJlbChwYXJlbnQsIG1fbGFiZWwpOw0K
KwkJY3JlYXRlTGFiZWwocGFyZW50LCBtX2xhYmVsU3RyaW5nKTsNCiANCi0JCS8vIG1fY29tYm8g
PSBuZXcgQ29tYm8ocGFyZW50LCBTV1QuUlJFQURfT05MWSB8IFNXVC5EUk9QX0RPV04pOw0KLQkJ
bV9jb21ibyA9IG5ldyBDb21ibyhwYXJlbnQsIFNXVC5EUk9QX0RPV04pOw0KLQkJZmluYWwgR3Jp
ZERhdGEgZ2QgPSBuZXcgR3JpZERhdGEoR3JpZERhdGEuR1JBQl9IT1JJWk9OVEFMIHwgR3JpZERh
dGEuRklMTF9IT1JJWk9OVEFMKTsNCi0JCWdkLndpZHRoSGludCA9IDEwMDsNCi0JCXNldENvbnRy
b2wobV9jb21ibyk7DQotCQltX2NvbWJvLnNldExheW91dERhdGEoZ2QpOw0KLQkJbV9jb21iby5h
ZGRTZWxlY3Rpb25MaXN0ZW5lcihuZXcgU2VsZWN0aW9uQWRhcHRlcigpIHsNCi0NCi0JCQlwdWJs
aWMgdm9pZCB3aWRnZXRTZWxlY3RlZChmaW5hbCBTZWxlY3Rpb25FdmVudCBlKSB7DQotCQkJCWlm
ICghaXNJblJlZnJlc2goKSkgew0KLQkJCQkJZ2V0U2VjdGlvblBhcnQoKS5tYXJrRGlydHkoKTsN
Ci0JCQkJCW1faXNEaXJ0eSA9IHRydWU7DQotCQkJCQljb21taXQoZ2V0TWFuYWdlZEZvcm0oKS5n
ZXRJbnB1dCgpLCBmYWxzZSk7DQorCQlpZiAobV9pc1JlYWRPbmx5KSB7DQorCQkJbV9mb3JtVGV4
dCA9IGdldE1hbmFnZWRGb3JtKCkuZ2V0VG9vbGtpdCgpLmNyZWF0ZUZvcm1UZXh0KHBhcmVudCwg
ZmFsc2UpOw0KKwkJCXNldENvbnRyb2wobV9mb3JtVGV4dCk7DQorCQkJR3JpZERhdGEgZ2QgPSBu
ZXcgR3JpZERhdGEoR3JpZERhdGEuRklMTF9IT1JJWk9OVEFMIHwgR3JpZERhdGEuR1JBQl9IT1JJ
Wk9OVEFMKTsNCisJCQlnZC53aWR0aEhpbnQgPSAxMDA7DQorCQkJbV9mb3JtVGV4dC5zZXRMYXlv
dXREYXRhKGdkKTsNCisJCX0gZWxzZSB7DQorCQkJLy8gbV9jb21ibyA9IG5ldyBDb21ibyhwYXJl
bnQsIFNXVC5SRUFEX09OTFkgfCBTV1QuRFJPUF9ET1dOKTsNCisJCQltX2NvbWJvID0gbmV3IENv
bWJvKHBhcmVudCwgU1dULkRST1BfRE9XTik7DQorCQkJZmluYWwgR3JpZERhdGEgZ2QgPSBuZXcg
R3JpZERhdGEoR3JpZERhdGEuR1JBQl9IT1JJWk9OVEFMIHwgR3JpZERhdGEuRklMTF9IT1JJWk9O
VEFMKTsNCisJCQlnZC53aWR0aEhpbnQgPSAxMDA7DQorCQkJc2V0Q29udHJvbChtX2NvbWJvKTsN
CisJCQltX2NvbWJvLnNldExheW91dERhdGEoZ2QpOw0KKwkJCW1fY29tYm8uYWRkU2VsZWN0aW9u
TGlzdGVuZXIobmV3IFNlbGVjdGlvbkFkYXB0ZXIoKSB7DQorDQorCQkJCXB1YmxpYyB2b2lkIHdp
ZGdldFNlbGVjdGVkKGZpbmFsIFNlbGVjdGlvbkV2ZW50IGUpIHsNCisJCQkJCWlmICghaXNJblJl
ZnJlc2goKSkgew0KKwkJCQkJCWdldFNlY3Rpb25QYXJ0KCkubWFya0RpcnR5KCk7DQorCQkJCQkJ
bV9pc0RpcnR5ID0gdHJ1ZTsNCisJCQkJCQljb21taXQoZ2V0TWFuYWdlZEZvcm0oKS5nZXRJbnB1
dCgpLCBmYWxzZSk7DQorCQkJCQl9DQogCQkJCX0NCi0JCQl9DQotCQl9KTsNCi0JCW1fY29tYm8u
YWRkTW9kaWZ5TGlzdGVuZXIobmV3IE1vZGlmeUxpc3RlbmVyKCkgew0KLQkJCXB1YmxpYyB2b2lk
IG1vZGlmeVRleHQoZmluYWwgTW9kaWZ5RXZlbnQgZSkgew0KLQkJCQlpZiAoIWlzSW5SZWZyZXNo
KCkpIHsNCi0JCQkJCWdldFNlY3Rpb25QYXJ0KCkubWFya0RpcnR5KCk7DQotCQkJCQltX2lzRGly
dHkgPSB0cnVlOw0KKwkJCX0pOw0KKwkJCW1fY29tYm8uYWRkTW9kaWZ5TGlzdGVuZXIobmV3IE1v
ZGlmeUxpc3RlbmVyKCkgew0KKw0KKwkJCQlwdWJsaWMgdm9pZCBtb2RpZnlUZXh0KGZpbmFsIE1v
ZGlmeUV2ZW50IGUpIHsNCisJCQkJCWlmICghaXNJblJlZnJlc2goKSkgew0KKwkJCQkJCWdldFNl
Y3Rpb25QYXJ0KCkubWFya0RpcnR5KCk7DQorCQkJCQkJbV9pc0RpcnR5ID0gdHJ1ZTsNCisJCQkJ
CX0NCiAJCQkJfQ0KLQkJCX0NCi0JCX0pOw0KLQkJbV9jb21iby5hZGRGb2N1c0xpc3RlbmVyKG5l
dyBGb2N1c0FkYXB0ZXIoKSB7DQorCQkJfSk7DQorCQkJbV9jb21iby5hZGRGb2N1c0xpc3RlbmVy
KG5ldyBGb2N1c0FkYXB0ZXIoKSB7DQogDQotCQkJDQotCQkJcHVibGljIHZvaWQgZm9jdXNMb3N0
KGZpbmFsIEZvY3VzRXZlbnQgZSkgew0KLQkJCQlpZiAobV9pc0RpcnR5KSB7DQotCQkJCQljb21t
aXQoZ2V0TWFuYWdlZEZvcm0oKS5nZXRJbnB1dCgpLCBmYWxzZSk7DQorCQkJCXB1YmxpYyB2b2lk
IGZvY3VzTG9zdChmaW5hbCBGb2N1c0V2ZW50IGUpIHsNCisJCQkJCWlmIChtX2lzRGlydHkpIHsN
CisJCQkJCQljb21taXQoZ2V0TWFuYWdlZEZvcm0oKS5nZXRJbnB1dCgpLCBmYWxzZSk7DQorCQkJ
CQl9DQogCQkJCX0NCi0JCQl9DQotCQl9KTsNCi0JCW1fY29tYm8uc2V0RW5hYmxlZCh0cnVlKTsN
CisJCQl9KTsNCisJCQltX2NvbWJvLnNldEVuYWJsZWQodHJ1ZSk7DQorCQl9DQogCX0NCiANCiAJ
cHJpdmF0ZSB2b2lkIHBvcHVsYXRlQ29tYm8oZmluYWwgU3RyaW5nW10gdmFscywgZmluYWwgU3Ry
aW5nW10gdmFsc0Rlc2MsIGZpbmFsIElWYWx1ZUFjY2Vzc29yIGFjY2Vzc29yKSB7DQpAQCAtOTYs
MjcgKzExNiw0MyBAQA0KIA0KIAkJCWlmICh2YWxzW2ldLmVxdWFscyh2YWx1ZSkpIHsNCiAJCQkJ
bWF0Y2ggPSB0cnVlOw0KLQkJCQltX2NvbWJvLnNldFRleHQobV9maWVsZFRvRGVzY01hcHBpbmdz
LmdldCh2YWx1ZSkpOw0KLQkJCQltX2NvbWJvLnNlbGVjdChpKTsNCisJCQkJaWYgKG1faXNSZWFk
T25seSkgew0KKwkJCQkJbV9mb3JtVGV4dC5zZXRUZXh0KG1fZmllbGRUb0Rlc2NNYXBwaW5ncy5n
ZXQodmFsdWUpLCBmYWxzZSwgZmFsc2UpOw0KKwkJCQl9IGVsc2Ugew0KKwkJCQkJbV9jb21iby5z
ZXRUZXh0KG1fZmllbGRUb0Rlc2NNYXBwaW5ncy5nZXQodmFsdWUpKTsNCisJCQkJCW1fY29tYm8u
c2VsZWN0KGkpOw0KKwkJCQl9DQogCQkJfQ0KIAkJfQ0KIAkJaWYgKCFtYXRjaCkgew0KIAkJCWlm
ICh2YWxzLmxlbmd0aCA9PSAwKSB7DQogCQkJCW1faGFzVmFsdWVzID0gZmFsc2U7DQogCQkJCWlm
ICh2YWx1ZSAhPSBudWxsICYmIHZhbHVlLmxlbmd0aCgpID4gMCkgew0KLQkJCQkJbV9jb21iby5z
ZXRUZXh0KHZhbHVlKTsNCisJCQkJCWlmIChtX2lzUmVhZE9ubHkpIHsNCisJCQkJCQltX2Zvcm1U
ZXh0LnNldFRleHQodmFsdWUsIGZhbHNlLCBmYWxzZSk7DQorCQkJCQl9IGVsc2Ugew0KKwkJCQkJ
CW1fY29tYm8uc2V0VGV4dCh2YWx1ZSk7DQorCQkJCQl9DQogCQkJCX0gZWxzZSB7DQotCQkJCQlt
X2NvbWJvLnNldFRleHQoIiIpOw0KKwkJCQkJaWYgKG1faXNSZWFkT25seSkgew0KKwkJCQkJCW1f
Zm9ybVRleHQuc2V0VGV4dCgiIiwgZmFsc2UsIGZhbHNlKTsNCisJCQkJCX0gZWxzZSB7DQorCQkJ
CQkJbV9jb21iby5zZXRUZXh0KCIiKTsNCisJCQkJCX0NCiAJCQkJfQ0KIAkJCX0gZWxzZSB7DQot
CQkJCW1fY29tYm8uc2V0VGV4dCgiIik7DQotCQkJCW1fY29tYm8uY2xlYXJTZWxlY3Rpb24oKTsN
CisJCQkJaWYgKG1faXNSZWFkT25seSkgew0KKwkJCQkJbV9mb3JtVGV4dC5zZXRUZXh0KCIiLCBm
YWxzZSwgZmFsc2UpOw0KKwkJCQl9IGVsc2Ugew0KKwkJCQkJbV9jb21iby5zZXRUZXh0KCIiKTsN
CisJCQkJCW1fY29tYm8uY2xlYXJTZWxlY3Rpb24oKTsNCisJCQkJfQ0KIAkJCX0NCiAJCX0NCiAJ
fQ0KIA0KIAlwcm90ZWN0ZWQgdm9pZCBjb21taXRUb0FjY2Vzc29yKGZpbmFsIElWYWx1ZUFjY2Vz
c29yIGFjY2Vzc29yLCBmaW5hbCBib29sZWFuIG9uU2F2ZSkgew0KLQkJaWYgKG1faXNEaXJ0eSkg
ew0KKwkJaWYgKG1faXNEaXJ0eSAmJiAhbV9pc1JlYWRPbmx5KSB7DQogCQkJU3RyaW5nIHZhbHVl
ID0gbV9kZXNjVG9GaWVsZE1hcHBpbmcuZ2V0KG1fY29tYm8uZ2V0VGV4dCgpKTsNCiAJCQlpZiAo
dmFsdWUgIT0gbnVsbCkNCiAJCQkJYWNjZXNzb3Iuc2V0KHZhbHVlKTsNCkluZGV4OiBzcmMvb3Jn
L2VjbGlwc2UvbWF5bnN0YWxsL2NvbW1vbi91aS9mb3JtL01heW5zdGFsbFRleHRGaWVsZC5qYXZh
DQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvdGVjaG5vbG9neS9vcmcuZWNsaXBzZS5t
YXluc3RhbGwvbWF5bnN0YWxsLWluY3ViYXRvci9vcmcuZWNsaXBzZS5tYXluc3RhbGwuY29tbW9u
LnVpL3NyYy9vcmcvZWNsaXBzZS9tYXluc3RhbGwvY29tbW9uL3VpL2Zvcm0vTWF5bnN0YWxsVGV4
dEZpZWxkLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjINCmRpZmYgLXUgLXIxLjIgTWF5
bnN0YWxsVGV4dEZpZWxkLmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2UvbWF5bnN0YWxsL2NvbW1v
bi91aS9mb3JtL01heW5zdGFsbFRleHRGaWVsZC5qYXZhCTIxIERlYyAyMDA3IDE5OjExOjM5IC0w
MDAwCTEuMg0KKysrIHNyYy9vcmcvZWNsaXBzZS9tYXluc3RhbGwvY29tbW9uL3VpL2Zvcm0vTWF5
bnN0YWxsVGV4dEZpZWxkLmphdmEJMTEgSmFuIDIwMDggMDA6NTI6MjIgLTAwMDANCkBAIC0xMyw1
NCArMTMsNjYgQEANCiBpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LmxheW91dC5HcmlkRGF0YTsNCiBp
bXBvcnQgb3JnLmVjbGlwc2Uuc3d0LndpZGdldHMuKjsNCiBpbXBvcnQgb3JnLmVjbGlwc2UudWku
Zm9ybXMuSU1hbmFnZWRGb3JtOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS51aS5mb3Jtcy53aWRnZXRz
LkZvcm1UZXh0Ow0KIA0KIHB1YmxpYyBjbGFzcyBNYXluc3RhbGxUZXh0RmllbGQgZXh0ZW5kcyBB
YnN0cmFjdE1heW5zdGFsbEZpZWxkIHsNCi0JcHJpdmF0ZSBmaW5hbCBTdHJpbmcgbV9sYWJlbDsN
CisNCisJcHJpdmF0ZSBmaW5hbCBTdHJpbmcgbV9sYWJlbFN0cmluZzsNCiANCiAJcHJpdmF0ZSBU
ZXh0IG1fdGV4dDsNCiANCi0JcHJvdGVjdGVkIGJvb2xlYW4gbV9pc0RpcnR5ID0gZmFsc2U7DQor
CXByaXZhdGUgRm9ybVRleHQgbV9mb3JtVGV4dDsNCisNCisJcHVibGljIE1heW5zdGFsbFRleHRG
aWVsZChmaW5hbCBTdHJpbmcgbGFiZWwsIGZpbmFsIElWYWx1ZUFjY2Vzc29yIGFjY2Vzc29yLCBm
aW5hbCBJTWFuYWdlZEZvcm0gZm9ybSwgZmluYWwgQWJzdHJhY3RNYXluc3RhbGxGaWVsZFNlY3Rp
b25QYXJ0IGFmLCBmaW5hbCBib29sZWFuIHJlYWRPbmx5KSB7DQorCQlzdXBlcihmb3JtLCBhZiwg
YWNjZXNzb3IsIHJlYWRPbmx5KTsNCiANCi0JcHVibGljIE1heW5zdGFsbFRleHRGaWVsZChmaW5h
bCBTdHJpbmcgbGFiZWwsIGZpbmFsIElWYWx1ZUFjY2Vzc29yIGFjY2Vzc29yLCBmaW5hbCBJTWFu
YWdlZEZvcm0gZm9ybSwgZmluYWwgQWJzdHJhY3RNYXluc3RhbGxGaWVsZFNlY3Rpb25QYXJ0IGFm
KSB7DQotCQlzdXBlcihmb3JtLCBhZiwgYWNjZXNzb3IpOw0KLQkJbV9sYWJlbCA9IGxhYmVsOw0K
KwkJbV9sYWJlbFN0cmluZyA9IGxhYmVsOw0KIAl9DQogDQotCXB1YmxpYyBNYXluc3RhbGxUZXh0
RmllbGQoZmluYWwgU3RyaW5nIGxhYmVsLCBmaW5hbCBTdHJpbmcgYXR0cmlidXRlLCBmaW5hbCBJ
TWFuYWdlZEZvcm0gZm9ybSwgZmluYWwgQWJzdHJhY3RNYXluc3RhbGxGaWVsZFNlY3Rpb25QYXJ0
IGFmKSB7DQotCQlzdXBlcihmb3JtLCBhZiwgYXR0cmlidXRlKTsNCi0JCW1fbGFiZWwgPSBsYWJl
bDsNCisJcHVibGljIE1heW5zdGFsbFRleHRGaWVsZChmaW5hbCBTdHJpbmcgbGFiZWwsIGZpbmFs
IFN0cmluZyBhdHRyaWJ1dGUsIGZpbmFsIElNYW5hZ2VkRm9ybSBmb3JtLCBmaW5hbCBBYnN0cmFj
dE1heW5zdGFsbEZpZWxkU2VjdGlvblBhcnQgYWYsIGZpbmFsIGJvb2xlYW4gcmVhZE9ubHkpIHsN
CisJCXN1cGVyKGZvcm0sIGFmLCBhdHRyaWJ1dGUsIHJlYWRPbmx5KTsNCisNCisJCW1fbGFiZWxT
dHJpbmcgPSBsYWJlbDsNCiAJfQ0KIA0KIAlwdWJsaWMgdm9pZCBjcmVhdGVDb250cm9sKGZpbmFs
IENvbXBvc2l0ZSBwYXJlbnQpIHsNCi0JCWNyZWF0ZUxhYmVsKHBhcmVudCwgbV9sYWJlbCk7DQor
CQljcmVhdGVMYWJlbChwYXJlbnQsIG1fbGFiZWxTdHJpbmcpOw0KIA0KLQkJZmluYWwgR3JpZERh
dGEgZ2QgPSBuZXcgR3JpZERhdGEoR3JpZERhdGEuRklMTF9IT1JJWk9OVEFMIHwgR3JpZERhdGEu
R1JBQl9IT1JJWk9OVEFMKTsNCi0JCWdkLndpZHRoSGludCA9IDQwOw0KLQkJbV90ZXh0ID0gZ2V0
TWFuYWdlZEZvcm0oKS5nZXRUb29sa2l0KCkuY3JlYXRlVGV4dChwYXJlbnQsICIiKTsNCi0JCXNl
dENvbnRyb2wobV90ZXh0KTsNCi0JCW1fdGV4dC5zZXRMYXlvdXREYXRhKGdkKTsNCi0JCW1fdGV4
dC5hZGRNb2RpZnlMaXN0ZW5lcihuZXcgTW9kaWZ5TGlzdGVuZXIoKSB7DQotCQkJcHVibGljIHZv
aWQgbW9kaWZ5VGV4dChmaW5hbCBNb2RpZnlFdmVudCBlKSB7DQotCQkJCWlmICghaXNJblJlZnJl
c2goKSkgew0KLQkJCQkJZ2V0U2VjdGlvblBhcnQoKS5tYXJrRGlydHkoKTsNCi0JCQkJCW1faXNE
aXJ0eSA9IHRydWU7DQorCQlpZiAobV9pc1JlYWRPbmx5KSB7DQorCQkJbV9mb3JtVGV4dCA9IGdl
dE1hbmFnZWRGb3JtKCkuZ2V0VG9vbGtpdCgpLmNyZWF0ZUZvcm1UZXh0KHBhcmVudCwgZmFsc2Up
Ow0KKwkJCXNldENvbnRyb2wobV9mb3JtVGV4dCk7DQorCQkJR3JpZERhdGEgZ2QgPSBuZXcgR3Jp
ZERhdGEoR3JpZERhdGEuRklMTF9IT1JJWk9OVEFMIHwgR3JpZERhdGEuR1JBQl9IT1JJWk9OVEFM
KTsNCisJCQlnZC53aWR0aEhpbnQgPSA0MDsNCisJCQltX2Zvcm1UZXh0LnNldExheW91dERhdGEo
Z2QpOw0KKwkJfSBlbHNlIHsNCisJCQlmaW5hbCBHcmlkRGF0YSBnZCA9IG5ldyBHcmlkRGF0YShH
cmlkRGF0YS5GSUxMX0hPUklaT05UQUwgfCBHcmlkRGF0YS5HUkFCX0hPUklaT05UQUwpOw0KKwkJ
CWdkLndpZHRoSGludCA9IDQwOw0KKwkJCW1fdGV4dCA9IGdldE1hbmFnZWRGb3JtKCkuZ2V0VG9v
bGtpdCgpLmNyZWF0ZVRleHQocGFyZW50LCAiIik7DQorCQkJc2V0Q29udHJvbChtX3RleHQpOw0K
KwkJCW1fdGV4dC5zZXRMYXlvdXREYXRhKGdkKTsNCisJCQltX3RleHQuYWRkTW9kaWZ5TGlzdGVu
ZXIobmV3IE1vZGlmeUxpc3RlbmVyKCkgew0KKwkJCQkNCisJCQkJcHVibGljIHZvaWQgbW9kaWZ5
VGV4dChmaW5hbCBNb2RpZnlFdmVudCBlKSB7DQorCQkJCQlpZiAoIWlzSW5SZWZyZXNoKCkpIHsN
CisJCQkJCQlnZXRTZWN0aW9uUGFydCgpLm1hcmtEaXJ0eSgpOw0KKwkJCQkJCW1faXNEaXJ0eSA9
IHRydWU7DQorCQkJCQl9DQogCQkJCX0NCi0JCQl9DQotCQl9KTsNCi0JCW1fdGV4dC5hZGRGb2N1
c0xpc3RlbmVyKG5ldyBGb2N1c0FkYXB0ZXIoKSB7DQotDQorCQkJfSk7DQogCQkJDQotCQkJcHVi
bGljIHZvaWQgZm9jdXNMb3N0KGZpbmFsIEZvY3VzRXZlbnQgZSkgew0KLQkJCQlpZiAobV9pc0Rp
cnR5KSB7DQotCQkJCQljb21taXQoZ2V0TWFuYWdlZEZvcm0oKS5nZXRJbnB1dCgpLCBmYWxzZSk7
DQorCQkJbV90ZXh0LmFkZEZvY3VzTGlzdGVuZXIobmV3IEZvY3VzQWRhcHRlcigpIHsNCisNCisJ
CQkJcHVibGljIHZvaWQgZm9jdXNMb3N0KGZpbmFsIEZvY3VzRXZlbnQgZSkgew0KKwkJCQkJaWYg
KG1faXNEaXJ0eSkgew0KKwkJCQkJCWNvbW1pdChnZXRNYW5hZ2VkRm9ybSgpLmdldElucHV0KCks
IGZhbHNlKTsNCisJCQkJCX0NCiAJCQkJfQ0KLQkJCX0NCi0JCX0pOw0KKwkJCX0pOw0KKwkJfQ0K
IAl9DQogDQotCQ0KIAlwcm90ZWN0ZWQgdm9pZCBjb21taXRUb0FjY2Vzc29yKGZpbmFsIElWYWx1
ZUFjY2Vzc29yIGFjY2Vzc29yLCBmaW5hbCBib29sZWFuIG9uU2F2ZSkgew0KLQkJaWYgKG1faXNE
aXJ0eSkgew0KKwkJaWYgKG1faXNEaXJ0eSAmJiAhbV9pc1JlYWRPbmx5KSB7DQogCQkJU3RyaW5n
IHZhbHVlID0gbV90ZXh0LmdldFRleHQoKTsNCiAJCQlpZiAodmFsdWUubGVuZ3RoKCkgPT0gMCkg
ew0KIAkJCQl2YWx1ZSA9IG51bGw7DQpAQCAtNzAsMTUgKzgyLDE4IEBADQogCQl9DQogCX0NCiAN
Ci0JDQogCXByb3RlY3RlZCB2b2lkIHJlZnJlc2hGcm9tQWNjZXNzb3IoZmluYWwgSVZhbHVlQWNj
ZXNzb3IgYWNjZXNzb3IsIGZpbmFsIEF0dHJpYnV0ZVN0YXRlIHN0YXRlKSB7DQogCQlTdHJpbmcg
dmFsdWUgPSBhY2Nlc3Nvci5hc1N0cmluZygpOw0KLQkJdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8g
dmFsdWUgOiAiIjsNCi0JCWlmICghdmFsdWUuZXF1YWxzKG1fdGV4dC5nZXRUZXh0KCkpKSB7DQot
CQkJbV90ZXh0LnNldFRleHQodmFsdWUpOw0KLQkJfQ0KLQkJaWYgKG1fdGV4dC5nZXRFZGl0YWJs
ZSgpICE9IHN0YXRlLm1vZGlmaWFibGUpIHsNCi0JCQltX3RleHQuc2V0RWRpdGFibGUoc3RhdGUu
bW9kaWZpYWJsZSk7DQorCQl2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZSA6ICIiOyAvLyRO
T04tTkxTLTEkDQorCQlpZiAobV9pc1JlYWRPbmx5KSB7DQorCQkJbV9mb3JtVGV4dC5zZXRUZXh0
KHZhbHVlLCBmYWxzZSwgZmFsc2UpOw0KKwkJfSBlbHNlIHsNCisJCQlpZiAoIXZhbHVlLmVxdWFs
cyhtX3RleHQuZ2V0VGV4dCgpKSkgew0KKwkJCQltX3RleHQuc2V0VGV4dCh2YWx1ZSk7DQorCQkJ
fQ0KKwkJCWlmIChtX3RleHQuZ2V0RWRpdGFibGUoKSAhPSBzdGF0ZS5tb2RpZmlhYmxlKSB7DQor
CQkJCW1fdGV4dC5zZXRFZGl0YWJsZShzdGF0ZS5tb2RpZmlhYmxlKTsNCisJCQl9DQogCQl9DQog
CX0NCiB9DQpcIE5vIG5ld2xpbmUgYXQgZW5kIG9mIGZpbGUNCkluZGV4OiBzcmMvb3JnL2VjbGlw
c2UvbWF5bnN0YWxsL2NvbW1vbi91aS9mb3JtL01heW5zdGFsbFhNTENvbWJvQm94RmllbGQuamF2
YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L3RlY2hub2xvZ3kvb3JnLmVjbGlwc2Uu
bWF5bnN0YWxsL21heW5zdGFsbC1pbmN1YmF0b3Ivb3JnLmVjbGlwc2UubWF5bnN0YWxsLmNvbW1v
bi51aS9zcmMvb3JnL2VjbGlwc2UvbWF5bnN0YWxsL2NvbW1vbi91aS9mb3JtL01heW5zdGFsbFhN
TENvbWJvQm94RmllbGQuamF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuMg0KZGlmZiAtdSAt
cjEuMiBNYXluc3RhbGxYTUxDb21ib0JveEZpZWxkLmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2Uv
bWF5bnN0YWxsL2NvbW1vbi91aS9mb3JtL01heW5zdGFsbFhNTENvbWJvQm94RmllbGQuamF2YQky
MSBEZWMgMjAwNyAxOToxMTo0MCAtMDAwMAkxLjINCisrKyBzcmMvb3JnL2VjbGlwc2UvbWF5bnN0
YWxsL2NvbW1vbi91aS9mb3JtL01heW5zdGFsbFhNTENvbWJvQm94RmllbGQuamF2YQkxMSBKYW4g
MjAwOCAwMDo1MjoyMiAtMDAwMA0KQEAgLTExLDEyICsxMSwxNCBAQA0KIGltcG9ydCBvcmcuZWNs
aXBzZS51aS5mb3Jtcy5JTWFuYWdlZEZvcm07DQogDQogcHVibGljIGNsYXNzIE1heW5zdGFsbFhN
TENvbWJvQm94RmllbGQgZXh0ZW5kcyBNYXluc3RhbGxDb21ib0JveEZpZWxkIHsNCisJDQogCXBy
aXZhdGUgZmluYWwgU3RyaW5nIG1fbG9va3VwOw0KIA0KIAlwcml2YXRlIGZpbmFsIElNYXluc3Rh
bGxDb21ib1Byb3ZpZGVyIG1fcHJvdmlkZXI7DQogDQotCXB1YmxpYyBNYXluc3RhbGxYTUxDb21i
b0JveEZpZWxkKGZpbmFsIFN0cmluZyBsYWJlbCwgZmluYWwgU3RyaW5nIGF0dHJpYnV0ZSwgZmlu
YWwgU3RyaW5nIGxvb2t1cCwgZmluYWwgSU1hbmFnZWRGb3JtIGZvcm0sIGZpbmFsIEFic3RyYWN0
TWF5bnN0YWxsRmllbGRTZWN0aW9uUGFydCBhZiwgZmluYWwgSU1heW5zdGFsbENvbWJvUHJvdmlk
ZXIgcHJvdmlkZXIpIHsNCi0JCXN1cGVyKGxhYmVsLCBhdHRyaWJ1dGUsIGZvcm0sIGFmKTsNCisJ
cHVibGljIE1heW5zdGFsbFhNTENvbWJvQm94RmllbGQoZmluYWwgU3RyaW5nIGxhYmVsLCBmaW5h
bCBTdHJpbmcgYXR0cmlidXRlLCBmaW5hbCBTdHJpbmcgbG9va3VwLCBmaW5hbCBJTWFuYWdlZEZv
cm0gZm9ybSwgZmluYWwgQWJzdHJhY3RNYXluc3RhbGxGaWVsZFNlY3Rpb25QYXJ0IGFmLCBmaW5h
bCBJTWF5bnN0YWxsQ29tYm9Qcm92aWRlciBwcm92aWRlciwgYm9vbGVhbiByZWFkT25seSkgew0K
KwkJc3VwZXIobGFiZWwsIGF0dHJpYnV0ZSwgZm9ybSwgYWYsIHJlYWRPbmx5KTsNCisJCQ0KIAkJ
bV9wcm92aWRlciA9IHByb3ZpZGVyOw0KIAkJbV9sb29rdXAgPSBsb29rdXA7DQogCX0NCkluZGV4
OiBzcmMvb3JnL2VjbGlwc2UvbWF5bnN0YWxsL2NvbW1vbi91aS9mb3JtL01heW5zdGFsbE11bHRp
TGluZVRleHRGaWVsZC5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvdGVjaG5v
bG9neS9vcmcuZWNsaXBzZS5tYXluc3RhbGwvbWF5bnN0YWxsLWluY3ViYXRvci9vcmcuZWNsaXBz
ZS5tYXluc3RhbGwuY29tbW9uLnVpL3NyYy9vcmcvZWNsaXBzZS9tYXluc3RhbGwvY29tbW9uL3Vp
L2Zvcm0vTWF5bnN0YWxsTXVsdGlMaW5lVGV4dEZpZWxkLmphdmEsdg0KcmV0cmlldmluZyByZXZp
c2lvbiAxLjINCmRpZmYgLXUgLXIxLjIgTWF5bnN0YWxsTXVsdGlMaW5lVGV4dEZpZWxkLmphdmEN
Ci0tLSBzcmMvb3JnL2VjbGlwc2UvbWF5bnN0YWxsL2NvbW1vbi91aS9mb3JtL01heW5zdGFsbE11
bHRpTGluZVRleHRGaWVsZC5qYXZhCTIxIERlYyAyMDA3IDE5OjExOjQwIC0wMDAwCTEuMg0KKysr
IHNyYy9vcmcvZWNsaXBzZS9tYXluc3RhbGwvY29tbW9uL3VpL2Zvcm0vTWF5bnN0YWxsTXVsdGlM
aW5lVGV4dEZpZWxkLmphdmEJMTEgSmFuIDIwMDggMDA6NTI6MjIgLTAwMDANCkBAIC0xNCw1MSAr
MTQsNjMgQEANCiBpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LmxheW91dC5HcmlkRGF0YTsNCiBpbXBv
cnQgb3JnLmVjbGlwc2Uuc3d0LndpZGdldHMuKjsNCiBpbXBvcnQgb3JnLmVjbGlwc2UudWkuZm9y
bXMuSU1hbmFnZWRGb3JtOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS51aS5mb3Jtcy53aWRnZXRzLkZv
cm1UZXh0Ow0KIA0KIHB1YmxpYyBjbGFzcyBNYXluc3RhbGxNdWx0aUxpbmVUZXh0RmllbGQgZXh0
ZW5kcyBBYnN0cmFjdE1heW5zdGFsbEZpZWxkIHsNCisNCiAJcHJpdmF0ZSBib29sZWFuIG1fZ3Jh
YlZlcnRpY2FsID0gZmFsc2U7DQogDQogCXByaXZhdGUgVGV4dCBtX3RleHQ7DQogDQotCXByb3Rl
Y3RlZCBib29sZWFuIG1faXNEaXJ0eSA9IGZhbHNlOw0KKwlwcml2YXRlIEZvcm1UZXh0IG1fZm9y
bVRleHQ7DQogDQotCXB1YmxpYyBNYXluc3RhbGxNdWx0aUxpbmVUZXh0RmllbGQoZmluYWwgSVZh
bHVlQWNjZXNzb3IgYWNjZXNzb3IsIGZpbmFsIElNYW5hZ2VkRm9ybSBmb3JtLCBmaW5hbCBBYnN0
cmFjdE1heW5zdGFsbEZpZWxkU2VjdGlvblBhcnQgYWYpIHsNCi0JCXN1cGVyKGZvcm0sIGFmLCBh
Y2Nlc3Nvcik7DQorCXB1YmxpYyBNYXluc3RhbGxNdWx0aUxpbmVUZXh0RmllbGQoZmluYWwgSVZh
bHVlQWNjZXNzb3IgYWNjZXNzb3IsIGZpbmFsIElNYW5hZ2VkRm9ybSBmb3JtLCBmaW5hbCBBYnN0
cmFjdE1heW5zdGFsbEZpZWxkU2VjdGlvblBhcnQgYWYsIGZpbmFsIGJvb2xlYW4gcmVhZE9ubHkp
IHsNCisJCXN1cGVyKGZvcm0sIGFmLCBhY2Nlc3NvciwgcmVhZE9ubHkpOw0KIAl9DQogDQotCXB1
YmxpYyBNYXluc3RhbGxNdWx0aUxpbmVUZXh0RmllbGQoZmluYWwgU3RyaW5nIGF0dHJpYnV0ZSwg
ZmluYWwgSU1hbmFnZWRGb3JtIGZvcm0sIGZpbmFsIEFic3RyYWN0TWF5bnN0YWxsRmllbGRTZWN0
aW9uUGFydCBhZikgew0KLQkJc3VwZXIoZm9ybSwgYWYsIGF0dHJpYnV0ZSk7DQorCXB1YmxpYyBN
YXluc3RhbGxNdWx0aUxpbmVUZXh0RmllbGQoZmluYWwgU3RyaW5nIGF0dHJpYnV0ZSwgZmluYWwg
SU1hbmFnZWRGb3JtIGZvcm0sIGZpbmFsIEFic3RyYWN0TWF5bnN0YWxsRmllbGRTZWN0aW9uUGFy
dCBhZiwgZmluYWwgYm9vbGVhbiByZWFkT25seSkgew0KKwkJc3VwZXIoZm9ybSwgYWYsIGF0dHJp
YnV0ZSwgcmVhZE9ubHkpOw0KIAl9DQogDQogCXB1YmxpYyB2b2lkIGNyZWF0ZUNvbnRyb2woZmlu
YWwgQ29tcG9zaXRlIHBhcmVudCkgew0KLQkJZmluYWwgR3JpZERhdGEgZ2QgPSBuZXcgR3JpZERh
dGEoR3JpZERhdGEuRklMTF9CT1RIKTsNCi0JCWdkLmhlaWdodEhpbnQgPSAyMDsNCi0JCWdkLndp
ZHRoSGludCA9IDQwOw0KLQkJZ2QuaG9yaXpvbnRhbFNwYW4gPSAyOw0KLQkJZ2QuZ3JhYkV4Y2Vz
c1ZlcnRpY2FsU3BhY2UgPSBtX2dyYWJWZXJ0aWNhbDsNCi0JCW1fdGV4dCA9IGdldE1hbmFnZWRG
b3JtKCkuZ2V0VG9vbGtpdCgpLmNyZWF0ZVRleHQocGFyZW50LCAiIiwgU1dULk1VTFRJIHwgU1dU
LlZfU0NST0xMKTsNCi0JCXNldENvbnRyb2wobV90ZXh0KTsNCi0JCW1fdGV4dC5zZXRMYXlvdXRE
YXRhKGdkKTsNCi0JCW1fdGV4dC5hZGRNb2RpZnlMaXN0ZW5lcihuZXcgTW9kaWZ5TGlzdGVuZXIo
KSB7DQotCQkJcHVibGljIHZvaWQgbW9kaWZ5VGV4dChmaW5hbCBNb2RpZnlFdmVudCBlKSB7DQot
CQkJCWlmICghaXNJblJlZnJlc2goKSkgew0KLQkJCQkJZ2V0U2VjdGlvblBhcnQoKS5tYXJrRGly
dHkoKTsNCi0JCQkJCW1faXNEaXJ0eSA9IHRydWU7DQorCQlpZiAobV9pc1JlYWRPbmx5KSB7DQor
CQkJbV9mb3JtVGV4dCA9IGdldE1hbmFnZWRGb3JtKCkuZ2V0VG9vbGtpdCgpLmNyZWF0ZUZvcm1U
ZXh0KHBhcmVudCwgZmFsc2UpOw0KKwkJCXNldENvbnRyb2wobV9mb3JtVGV4dCk7DQorCQkJR3Jp
ZERhdGEgZ2QgPSBuZXcgR3JpZERhdGEoR3JpZERhdGEuRklMTF9IT1JJWk9OVEFMIHwgR3JpZERh
dGEuR1JBQl9IT1JJWk9OVEFMKTsNCisJCQlnZC53aWR0aEhpbnQgPSA0MDsNCisJCQltX2Zvcm1U
ZXh0LnNldExheW91dERhdGEoZ2QpOw0KKwkJfSBlbHNlIHsNCisJCQlmaW5hbCBHcmlkRGF0YSBn
ZCA9IG5ldyBHcmlkRGF0YShHcmlkRGF0YS5GSUxMX0JPVEgpOw0KKwkJCWdkLmhlaWdodEhpbnQg
PSAyMDsNCisJCQlnZC53aWR0aEhpbnQgPSA0MDsNCisJCQlnZC5ob3Jpem9udGFsU3BhbiA9IDI7
DQorCQkJZ2QuZ3JhYkV4Y2Vzc1ZlcnRpY2FsU3BhY2UgPSBtX2dyYWJWZXJ0aWNhbDsNCisJCQlt
X3RleHQgPSBnZXRNYW5hZ2VkRm9ybSgpLmdldFRvb2xraXQoKS5jcmVhdGVUZXh0KHBhcmVudCwg
IiIsIFNXVC5NVUxUSSB8IFNXVC5WX1NDUk9MTCk7DQorCQkJc2V0Q29udHJvbChtX3RleHQpOw0K
KwkJCW1fdGV4dC5zZXRMYXlvdXREYXRhKGdkKTsNCisJCQltX3RleHQuYWRkTW9kaWZ5TGlzdGVu
ZXIobmV3IE1vZGlmeUxpc3RlbmVyKCkgew0KKw0KKwkJCQlwdWJsaWMgdm9pZCBtb2RpZnlUZXh0
KGZpbmFsIE1vZGlmeUV2ZW50IGUpIHsNCisJCQkJCWlmICghaXNJblJlZnJlc2goKSkgew0KKwkJ
CQkJCWdldFNlY3Rpb25QYXJ0KCkubWFya0RpcnR5KCk7DQorCQkJCQkJbV9pc0RpcnR5ID0gdHJ1
ZTsNCisJCQkJCX0NCiAJCQkJfQ0KLQkJCX0NCi0JCX0pOw0KLQkJbV90ZXh0LmFkZEZvY3VzTGlz
dGVuZXIobmV3IEZvY3VzQWRhcHRlcigpIHsNCisJCQl9KTsNCisNCisJCQltX3RleHQuYWRkRm9j
dXNMaXN0ZW5lcihuZXcgRm9jdXNBZGFwdGVyKCkgew0KIA0KLQkJCXB1YmxpYyB2b2lkIGZvY3Vz
TG9zdChmaW5hbCBGb2N1c0V2ZW50IGUpIHsNCi0JCQkJaWYgKG1faXNEaXJ0eSkgew0KLQkJCQkJ
Y29tbWl0KGdldE1hbmFnZWRGb3JtKCkuZ2V0SW5wdXQoKSwgZmFsc2UpOw0KKwkJCQlwdWJsaWMg
dm9pZCBmb2N1c0xvc3QoZmluYWwgRm9jdXNFdmVudCBlKSB7DQorCQkJCQlpZiAobV9pc0RpcnR5
KSB7DQorCQkJCQkJY29tbWl0KGdldE1hbmFnZWRGb3JtKCkuZ2V0SW5wdXQoKSwgZmFsc2UpOw0K
KwkJCQkJfQ0KIAkJCQl9DQotCQkJfQ0KLQkJfSk7DQorCQkJfSk7DQorCQl9DQogCX0NCiANCiAJ
cHVibGljIENvbnRyb2wgZ2V0Q29udHJvbCgpIHsNCi0JCXJldHVybiBtX3RleHQ7DQorCQlyZXR1
cm4gbV9pc1JlYWRPbmx5ID8gbV9mb3JtVGV4dCA6IG1fdGV4dDsNCiAJfQ0KIA0KIAlwdWJsaWMg
Ym9vbGVhbiBnZXRHcmFiVmVydGljYWwoKSB7DQpAQCAtNzAsNyArODIsNyBAQA0KIAl9DQogDQog
CXByb3RlY3RlZCB2b2lkIGNvbW1pdFRvQWNjZXNzb3IoZmluYWwgSVZhbHVlQWNjZXNzb3IgYWNj
ZXNzb3IsIGZpbmFsIGJvb2xlYW4gb25TYXZlKSB7DQotCQlpZiAobV9pc0RpcnR5KSB7DQorCQlp
ZiAobV9pc0RpcnR5ICYmICFtX2lzUmVhZE9ubHkpIHsNCiAJCQlTdHJpbmcgdmFsID0gbV90ZXh0
LmdldFRleHQoKTsNCiAJCQlpZiAodmFsLmluZGV4T2YoJ1xyJykgPj0gMCkgew0KIAkJCQl2YWwg
PSB2YWwucmVwbGFjZSgiXHIiLCAiIik7DQpAQCAtOTAsMTUgKzEwMiwxOSBAQA0KIAkJfSBlbHNl
IGlmICh2YWx1ZS5pbmRleE9mKCdccicpID49IDApIHsNCiAJCQl2YWx1ZSA9IHZhbHVlLnJlcGxh
Y2UoIlxyIiwgIiIpOw0KIAkJfQ0KLQkJU3RyaW5nIG9sZHZhbCA9IG1fdGV4dC5nZXRUZXh0KCk7
DQotCQlpZiAob2xkdmFsLmxlbmd0aCgpID4gMCAmJiBvbGR2YWwuaW5kZXhPZignXHInKSA+PSAw
KSB7DQotCQkJb2xkdmFsID0gb2xkdmFsLnJlcGxhY2UoIlxyIiwgIiIpOw0KLQkJfQ0KLQkJaWYg
KCF2YWx1ZS5lcXVhbHMob2xkdmFsKSkgew0KLQkJCW1fdGV4dC5zZXRUZXh0KHZhbHVlKTsNCi0J
CX0NCi0JCWlmIChzdGF0ZS5tb2RpZmlhYmxlICE9IG1fdGV4dC5nZXRFZGl0YWJsZSgpKSB7DQot
CQkJbV90ZXh0LnNldEVkaXRhYmxlKHN0YXRlLm1vZGlmaWFibGUpOw0KKwkJaWYgKG1faXNSZWFk
T25seSkgew0KKwkJCW1fZm9ybVRleHQuc2V0VGV4dCh2YWx1ZSwgZmFsc2UsIGZhbHNlKTsNCisJ
CX0gZWxzZSB7DQorCQkJU3RyaW5nIG9sZHZhbCA9IG1fdGV4dC5nZXRUZXh0KCk7DQorCQkJaWYg
KG9sZHZhbC5sZW5ndGgoKSA+IDAgJiYgb2xkdmFsLmluZGV4T2YoJ1xyJykgPj0gMCkgew0KKwkJ
CQlvbGR2YWwgPSBvbGR2YWwucmVwbGFjZSgiXHIiLCAiIik7DQorCQkJfQ0KKwkJCWlmICghdmFs
dWUuZXF1YWxzKG9sZHZhbCkpIHsNCisJCQkJbV90ZXh0LnNldFRleHQodmFsdWUpOw0KKwkJCX0N
CisJCQlpZiAoc3RhdGUubW9kaWZpYWJsZSAhPSBtX3RleHQuZ2V0RWRpdGFibGUoKSkgew0KKwkJ
CQltX3RleHQuc2V0RWRpdGFibGUoc3RhdGUubW9kaWZpYWJsZSk7DQorCQkJfQ0KIAkJfQ0KIAl9
DQogfQ0KXCBObyBuZXdsaW5lIGF0IGVuZCBvZiBmaWxlDQpJbmRleDogc3JjL29yZy9lY2xpcHNl
L21heW5zdGFsbC9jb21tb24vdWkvZm9ybS9NYXluc3RhbGxTdHlsZWRUZXh0RmllbGQuamF2YQ0K
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L3RlY2hub2xvZ3kvb3JnLmVjbGlwc2UubWF5
bnN0YWxsL21heW5zdGFsbC1pbmN1YmF0b3Ivb3JnLmVjbGlwc2UubWF5bnN0YWxsLmNvbW1vbi51
aS9zcmMvb3JnL2VjbGlwc2UvbWF5bnN0YWxsL2NvbW1vbi91aS9mb3JtL01heW5zdGFsbFN0eWxl
ZFRleHRGaWVsZC5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS4yDQpkaWZmIC11IC1yMS4y
IE1heW5zdGFsbFN0eWxlZFRleHRGaWVsZC5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL21heW5z
dGFsbC9jb21tb24vdWkvZm9ybS9NYXluc3RhbGxTdHlsZWRUZXh0RmllbGQuamF2YQkyMSBEZWMg
MjAwNyAxOToxMTozOSAtMDAwMAkxLjINCisrKyBzcmMvb3JnL2VjbGlwc2UvbWF5bnN0YWxsL2Nv
bW1vbi91aS9mb3JtL01heW5zdGFsbFN0eWxlZFRleHRGaWVsZC5qYXZhCTExIEphbiAyMDA4IDAw
OjUyOjIyIC0wMDAwDQpAQCAtMTUsNiArMTUsNyBAQA0KIGltcG9ydCBvcmcuZWNsaXBzZS5zd3Qu
bGF5b3V0LkdyaWREYXRhOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5zd3Qud2lkZ2V0cy5Db21wb3Np
dGU7DQogaW1wb3J0IG9yZy5lY2xpcHNlLnVpLmZvcm1zLklNYW5hZ2VkRm9ybTsNCitpbXBvcnQg
b3JnLmVjbGlwc2UudWkuZm9ybXMud2lkZ2V0cy5Gb3JtVGV4dDsNCiANCiBwdWJsaWMgY2xhc3Mg
TWF5bnN0YWxsU3R5bGVkVGV4dEZpZWxkIGV4dGVuZHMgQWJzdHJhY3RNYXluc3RhbGxGaWVsZCB7
DQogDQpAQCAtMjIsMjAgKzIzLDE4IEBADQogDQogCXByaXZhdGUgYm9vbGVhbiBtX2dyYWJWZXJ0
aWNhbCA9IGZhbHNlOw0KIA0KLQlwcml2YXRlIGJvb2xlYW4gbV9pc0RpcnR5Ow0KKwlwcml2YXRl
IEZvcm1UZXh0IG1fZm9ybVRleHQ7DQogDQotCXB1YmxpYyBNYXluc3RhbGxTdHlsZWRUZXh0Rmll
bGQoSU1hbmFnZWRGb3JtIGZvcm0sIEFic3RyYWN0TWF5bnN0YWxsRmllbGRTZWN0aW9uUGFydCBh
ZiwgSVZhbHVlQWNjZXNzb3IgYWNjZXNzb3IpIHsNCi0JCXN1cGVyKGZvcm0sIGFmLCBhY2Nlc3Nv
cik7DQotCQkvLyBUT0RPIEF1dG8tZ2VuZXJhdGVkIGNvbnN0cnVjdG9yIHN0dWINCisJcHVibGlj
IE1heW5zdGFsbFN0eWxlZFRleHRGaWVsZChJTWFuYWdlZEZvcm0gZm9ybSwgQWJzdHJhY3RNYXlu
c3RhbGxGaWVsZFNlY3Rpb25QYXJ0IGFmLCBJVmFsdWVBY2Nlc3NvciBhY2Nlc3NvciwgZmluYWwg
Ym9vbGVhbiByZWFkT25seSkgew0KKwkJc3VwZXIoZm9ybSwgYWYsIGFjY2Vzc29yLCByZWFkT25s
eSk7DQogCX0NCiANCi0JcHVibGljIE1heW5zdGFsbFN0eWxlZFRleHRGaWVsZChmaW5hbCBTdHJp
bmcgYXR0cmlidXRlLCBmaW5hbCBJTWFuYWdlZEZvcm0gZm9ybSwgZmluYWwgQWJzdHJhY3RNYXlu
c3RhbGxGaWVsZFNlY3Rpb25QYXJ0IGFmKSB7DQotCQlzdXBlcihmb3JtLCBhZiwgYXR0cmlidXRl
KTsNCisJcHVibGljIE1heW5zdGFsbFN0eWxlZFRleHRGaWVsZChmaW5hbCBTdHJpbmcgYXR0cmli
dXRlLCBmaW5hbCBJTWFuYWdlZEZvcm0gZm9ybSwgZmluYWwgQWJzdHJhY3RNYXluc3RhbGxGaWVs
ZFNlY3Rpb25QYXJ0IGFmLCBmaW5hbCBib29sZWFuIHJlYWRPbmx5KSB7DQorCQlzdXBlcihmb3Jt
LCBhZiwgYXR0cmlidXRlLCByZWFkT25seSk7DQogCX0NCiANCi0JDQogCXByb3RlY3RlZCB2b2lk
IGNvbW1pdFRvQWNjZXNzb3IoZmluYWwgSVZhbHVlQWNjZXNzb3IgYWNjZXNzb3IsIGZpbmFsIGJv
b2xlYW4gb25TYXZlKSB7DQotCQlpZiAobV9pc0RpcnR5KSB7DQorCQlpZiAobV9pc0RpcnR5ICYm
ICFtX2lzUmVhZE9ubHkpIHsNCiAJCQlTdHJpbmcgdmFsID0gbV9zdHlsZWRUZXh0LmdldFRleHQo
KTsNCiAJCQlpZiAodmFsLmluZGV4T2YoJ1xyJykgPj0gMCkgew0KIAkJCQl2YWwgPSB2YWwucmVw
bGFjZSgiXHIiLCAiIik7DQpAQCAtNDgsNyArNDcsNiBAQA0KIAkJfQ0KIAl9DQogDQotCQ0KIAlw
cm90ZWN0ZWQgdm9pZCByZWZyZXNoRnJvbUFjY2Vzc29yKGZpbmFsIElWYWx1ZUFjY2Vzc29yIGFj
Y2Vzc29yLCBmaW5hbCBBdHRyaWJ1dGVTdGF0ZSBzdGF0ZSkgew0KIAkJU3RyaW5nIHZhbHVlID0g
YWNjZXNzb3IuYXNTdHJpbmcoKTsNCiAJCWlmICh2YWx1ZSA9PSBudWxsKSB7DQpAQCAtNTYsNDUg
KzU0LDYyIEBADQogCQl9IGVsc2UgaWYgKHZhbHVlLmluZGV4T2YoJ1xyJykgPj0gMCkgew0KIAkJ
CXZhbHVlID0gdmFsdWUucmVwbGFjZSgiXHIiLCAiIik7DQogCQl9DQotCQlTdHJpbmcgb2xkdmFs
ID0gbV9zdHlsZWRUZXh0LmdldFRleHQoKTsNCi0JCWlmIChvbGR2YWwubGVuZ3RoKCkgPiAwICYm
IG9sZHZhbC5pbmRleE9mKCdccicpID49IDApIHsNCi0JCQlvbGR2YWwgPSBvbGR2YWwucmVwbGFj
ZSgiXHIiLCAiIik7DQotCQl9DQotCQlpZiAoIXZhbHVlLmVxdWFscyhvbGR2YWwpKSB7DQotCQkJ
bV9zdHlsZWRUZXh0LnNldFRleHQodmFsdWUpOw0KLQkJfQ0KLQkJaWYgKHN0YXRlLm1vZGlmaWFi
bGUgIT0gbV9zdHlsZWRUZXh0LmdldEVkaXRhYmxlKCkpIHsNCi0JCQltX3N0eWxlZFRleHQuc2V0
RWRpdGFibGUoc3RhdGUubW9kaWZpYWJsZSk7DQorDQorCQlpZiAobV9pc1JlYWRPbmx5KSB7DQor
CQkJbV9mb3JtVGV4dC5zZXRUZXh0KHZhbHVlLCBmYWxzZSwgZmFsc2UpOw0KKwkJfSBlbHNlIHsN
CisJCQlTdHJpbmcgb2xkdmFsID0gbV9zdHlsZWRUZXh0LmdldFRleHQoKTsNCisJCQlpZiAob2xk
dmFsLmxlbmd0aCgpID4gMCAmJiBvbGR2YWwuaW5kZXhPZignXHInKSA+PSAwKSB7DQorCQkJCW9s
ZHZhbCA9IG9sZHZhbC5yZXBsYWNlKCJcciIsICIiKTsNCisJCQl9DQorCQkJaWYgKCF2YWx1ZS5l
cXVhbHMob2xkdmFsKSkgew0KKwkJCQltX3N0eWxlZFRleHQuc2V0VGV4dCh2YWx1ZSk7DQorCQkJ
fQ0KKwkJCWlmIChzdGF0ZS5tb2RpZmlhYmxlICE9IG1fc3R5bGVkVGV4dC5nZXRFZGl0YWJsZSgp
KSB7DQorCQkJCW1fc3R5bGVkVGV4dC5zZXRFZGl0YWJsZShzdGF0ZS5tb2RpZmlhYmxlKTsNCisJ
CQl9DQogCQl9DQogCX0NCiANCiAJcHVibGljIHZvaWQgY3JlYXRlQ29udHJvbChDb21wb3NpdGUg
cGFyZW50KSB7DQotCQlmaW5hbCBHcmlkRGF0YSBnZCA9IG5ldyBHcmlkRGF0YShHcmlkRGF0YS5G
SUxMX0JPVEgpOw0KLQkJZ2QuaGVpZ2h0SGludCA9IDIwOw0KLQkJZ2Qud2lkdGhIaW50ID0gNDA7
DQotCQlnZC5ob3Jpem9udGFsU3BhbiA9IDI7DQotCQlnZC5ncmFiRXhjZXNzVmVydGljYWxTcGFj
ZSA9IG1fZ3JhYlZlcnRpY2FsOw0KLQkJTWF5bnN0YWxsU3R5bGVkVGV4dCB0ZXh0RmllbGQgPSBu
ZXcgTWF5bnN0YWxsU3R5bGVkVGV4dChwYXJlbnQpOw0KLQkJbV9zdHlsZWRUZXh0ID0gdGV4dEZp
ZWxkLmdldFRleHRXaWRnZXQoKTsNCi0JCW1fc3R5bGVkVGV4dC5zZXRMYXlvdXREYXRhKGdkKTsN
Ci0JCXNldENvbnRyb2wobV9zdHlsZWRUZXh0KTsNCi0JCW1fc3R5bGVkVGV4dC5hZGRNb2RpZnlM
aXN0ZW5lcihuZXcgTW9kaWZ5TGlzdGVuZXIoKSB7DQotCQkJcHVibGljIHZvaWQgbW9kaWZ5VGV4
dChmaW5hbCBNb2RpZnlFdmVudCBlKSB7DQotCQkJCWlmICghaXNJblJlZnJlc2goKSkgew0KLQkJ
CQkJZ2V0U2VjdGlvblBhcnQoKS5tYXJrRGlydHkoKTsNCi0JCQkJCW1faXNEaXJ0eSA9IHRydWU7
DQorCQlpZiAobV9pc1JlYWRPbmx5KSB7DQorCQkJbV9mb3JtVGV4dCA9IGdldE1hbmFnZWRGb3Jt
KCkuZ2V0VG9vbGtpdCgpLmNyZWF0ZUZvcm1UZXh0KHBhcmVudCwgZmFsc2UpOw0KKwkJCXNldENv
bnRyb2wobV9mb3JtVGV4dCk7DQorCQkJR3JpZERhdGEgZ2QgPSBuZXcgR3JpZERhdGEoR3JpZERh
dGEuRklMTF9IT1JJWk9OVEFMIHwgR3JpZERhdGEuR1JBQl9IT1JJWk9OVEFMKTsNCisJCQlnZC5o
ZWlnaHRIaW50ID0gMjA7DQorCQkJZ2Qud2lkdGhIaW50ID0gNDA7DQorCQkJZ2QuaG9yaXpvbnRh
bFNwYW4gPSAyOw0KKwkJCWdkLmdyYWJFeGNlc3NWZXJ0aWNhbFNwYWNlID0gbV9ncmFiVmVydGlj
YWw7DQorCQkJbV9mb3JtVGV4dC5zZXRMYXlvdXREYXRhKGdkKTsNCisJCX0gZWxzZSB7DQorCQkJ
ZmluYWwgR3JpZERhdGEgZ2QgPSBuZXcgR3JpZERhdGEoR3JpZERhdGEuRklMTF9CT1RIKTsNCisJ
CQlnZC5oZWlnaHRIaW50ID0gMjA7DQorCQkJZ2Qud2lkdGhIaW50ID0gNDA7DQorCQkJZ2QuaG9y
aXpvbnRhbFNwYW4gPSAyOw0KKwkJCWdkLmdyYWJFeGNlc3NWZXJ0aWNhbFNwYWNlID0gbV9ncmFi
VmVydGljYWw7DQorCQkJTWF5bnN0YWxsU3R5bGVkVGV4dCB0ZXh0RmllbGQgPSBuZXcgTWF5bnN0
YWxsU3R5bGVkVGV4dChwYXJlbnQpOw0KKwkJCW1fc3R5bGVkVGV4dCA9IHRleHRGaWVsZC5nZXRU
ZXh0V2lkZ2V0KCk7DQorCQkJbV9zdHlsZWRUZXh0LnNldExheW91dERhdGEoZ2QpOw0KKwkJCXNl
dENvbnRyb2wobV9zdHlsZWRUZXh0KTsNCisJCQltX3N0eWxlZFRleHQuYWRkTW9kaWZ5TGlzdGVu
ZXIobmV3IE1vZGlmeUxpc3RlbmVyKCkgew0KKw0KKwkJCQlwdWJsaWMgdm9pZCBtb2RpZnlUZXh0
KGZpbmFsIE1vZGlmeUV2ZW50IGUpIHsNCisJCQkJCWlmICghaXNJblJlZnJlc2goKSkgew0KKwkJ
CQkJCWdldFNlY3Rpb25QYXJ0KCkubWFya0RpcnR5KCk7DQorCQkJCQkJbV9pc0RpcnR5ID0gdHJ1
ZTsNCisJCQkJCX0NCiAJCQkJfQ0KLQkJCX0NCi0JCX0pOw0KLQkJbV9zdHlsZWRUZXh0LmFkZEZv
Y3VzTGlzdGVuZXIobmV3IEZvY3VzQWRhcHRlcigpIHsNCisJCQl9KTsNCisNCisJCQltX3N0eWxl
ZFRleHQuYWRkRm9jdXNMaXN0ZW5lcihuZXcgRm9jdXNBZGFwdGVyKCkgew0KIA0KLQkJCQ0KLQkJ
CXB1YmxpYyB2b2lkIGZvY3VzTG9zdChmaW5hbCBGb2N1c0V2ZW50IGUpIHsNCi0JCQkJaWYgKG1f
aXNEaXJ0eSkgew0KLQkJCQkJY29tbWl0KGdldE1hbmFnZWRGb3JtKCkuZ2V0SW5wdXQoKSwgZmFs
c2UpOw0KKwkJCQlwdWJsaWMgdm9pZCBmb2N1c0xvc3QoZmluYWwgRm9jdXNFdmVudCBlKSB7DQor
CQkJCQlpZiAobV9pc0RpcnR5KSB7DQorCQkJCQkJY29tbWl0KGdldE1hbmFnZWRGb3JtKCkuZ2V0
SW5wdXQoKSwgZmFsc2UpOw0KKwkJCQkJfQ0KIAkJCQl9DQotCQkJfQ0KLQkJfSk7DQorCQkJfSk7
DQorCQl9DQogCX0NCiANCiAJLyoqDQpAQCAtMTEwLDUgKzEyNSw0IEBADQogCXB1YmxpYyB2b2lk
IHNldEdyYWJWZXJ0aWNhbChib29sZWFuIHZlcnRpY2FsKSB7DQogCQltX2dyYWJWZXJ0aWNhbCA9
IHZlcnRpY2FsOw0KIAl9DQotDQotfQ0KK30NClwgTm8gbmV3bGluZSBhdCBlbmQgb2YgZmlsZQ0K
</data>

          </attachment>
      

    </bug>

</bugzilla>