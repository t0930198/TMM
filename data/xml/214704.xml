<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.1"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>214704</bug_id>
          
          <creation_ts>2008-01-08 22:24:00 -0500</creation_ts>
          <short_desc>[prov] Consistency of repository index compression</short_desc>
          <delta_ts>2008-01-10 15:19:57 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>12</classification_id>
          <classification>RT</classification>
          <product>Equinox</product>
          <component>Incubator</component>
          <version>3.4</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>3.4 M5</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="John Arthorne">john_arthorne</reporter>
          <assigned_to name="Tim Mok">timothym</assigned_to>
          <cc>Stefan.Liebig</cc>
    
    <cc>timothym</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1127873</commentid>
    <comment_count>0</comment_count>
    <who name="John Arthorne">john_arthorne</who>
    <bug_when>2008-01-08 22:24:44 -0500</bug_when>
    <thetext>We now support compression of metadata and artifact repository indexes (content.xml in metadata, artifacts.xml in artifact repo). However, there are some inconsistencies between the two forms of repositories that we should make uniform if possible:

 - content.xml is compressed via JAR file, artifacts.xml is compressed via gzip
 - metadata repo has a property that can be set to indicate if index should be compressed. The artifact repository always compresses the index.

Unless there is a compelling reason for the difference, I suggest we make the artifact repository that same as metadata: use a property to indicate if the index should be compressed, and use a JAR file rather than gzip.  Also, I suggest we use the names content.jar and artifacts.jar for the compressed form. This will allow us to add extra meta-files to these repositories in the future without altering the file name.

Tim, can you look into this?

Stefan, please comment if there is a particular reason for using gzip in the case of artifact repositories. A good reason for using JAR is that it makes it easy for us to do signature verification to authenticate repository contents.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1127910</commentid>
    <comment_count>1</comment_count>
    <who name="Stefan Liebig">Stefan.Liebig</who>
    <bug_when>2008-01-09 01:56:40 -0500</bug_when>
    <thetext>There is no particular reason for using gzip. I just wasnÂ´t aware that content.xml is compressed via jar. Using jar is definitely better.
</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1128199</commentid>
    <comment_count>2</comment_count>
    <who name="John Arthorne">john_arthorne</who>
    <bug_when>2008-01-09 11:09:17 -0500</bug_when>
    <thetext>Thanks for the info Stefan.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1128315</commentid>
    <comment_count>3</comment_count>
    <who name="Tim Mok">timothym</who>
    <bug_when>2008-01-09 13:19:23 -0500</bug_when>
    <thetext>I&apos;ve got artifact.xml compressing as artifact.jar and content.xml as content.jar now. I&apos;m just writing a unit test for the SimpleArtifactRepository and this should be ready.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1128346</commentid>
    <comment_count>4</comment_count>
      <attachid>86494</attachid>
    <who name="Tim Mok">timothym</who>
    <bug_when>2008-01-09 14:03:48 -0500</bug_when>
    <thetext>Created attachment 86494
Repository Consistency v01

Patch changes:

+Added a unit test for SimpleArtifactRepository to check that it creates the index file according to the PROP_COMPRESSED property.
+The compressed index files are now saved as content.jar and artifacts.jar.
+Added a metadata repository check for null in Generator.generate() before it creates the metadata repository.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1129129</commentid>
    <comment_count>5</comment_count>
      <attachid>86586</attachid>
    <who name="Tim Mok">timothym</who>
    <bug_when>2008-01-10 14:12:02 -0500</bug_when>
    <thetext>Created attachment 86586
Repository Consistency v02

Patch changes:

+Fixed a problem with the path of artifacts.xml in the JAR file. It now stores the file in the JAR&apos;s root.
+Ensured that the compressed/uncompressed index is deleted when creating the uncompressed/compressed index.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1129157</commentid>
    <comment_count>6</comment_count>
      <attachid>86590</attachid>
    <who name="Tim Mok">timothym</who>
    <bug_when>2008-01-10 14:26:25 -0500</bug_when>
    <thetext>Created attachment 86590
Repository Consistency v03

Forgot to update the SimpleArtifactRepositoryFactory reading to look for artifacts.xml in the JAR file.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1129213</commentid>
    <comment_count>7</comment_count>
    <who name="John Arthorne">john_arthorne</who>
    <bug_when>2008-01-10 15:19:57 -0500</bug_when>
    <thetext>Thanks Tim! Patches released.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>86494</attachid>
            <date>2008-01-09 14:03:00 -0500</date>
            <delta_ts>2008-01-10 14:12:02 -0500</delta_ts>
            <desc>Repository Consistency v01</desc>
            <filename>patch-repositoryConsistency_v01.txt</filename>
            <type>text/plain</type>
            <size>25494</size>
            <attacher name="Tim Mok">timothym</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UuZXF1aW5veC5w
Mi50ZXN0cw0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9lcXVpbm94L3AyL3Rlc3RzL2FydGlmYWN0
L3JlcG9zaXRvcnkvU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5VGVzdC5qYXZhDQo9PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9lcXVpbm94LWluY3ViYXRvci9wcm92aXNpb25p
bmcvb3JnLmVjbGlwc2UuZXF1aW5veC5wMi50ZXN0cy9zcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9w
Mi90ZXN0cy9hcnRpZmFjdC9yZXBvc2l0b3J5L1NpbXBsZUFydGlmYWN0UmVwb3NpdG9yeVRlc3Qu
amF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuMg0KZGlmZiAtdSAtcjEuMiBTaW1wbGVBcnRp
ZmFjdFJlcG9zaXRvcnlUZXN0LmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9wMi90
ZXN0cy9hcnRpZmFjdC9yZXBvc2l0b3J5L1NpbXBsZUFydGlmYWN0UmVwb3NpdG9yeVRlc3QuamF2
YQkyMCBEZWMgMjAwNyAxOTowMDowMiAtMDAwMAkxLjINCisrKyBzcmMvb3JnL2VjbGlwc2UvZXF1
aW5veC9wMi90ZXN0cy9hcnRpZmFjdC9yZXBvc2l0b3J5L1NpbXBsZUFydGlmYWN0UmVwb3NpdG9y
eVRlc3QuamF2YQk5IEphbiAyMDA4IDE4OjU4OjExIC0wMDAwDQpAQCAtMTAsMTAgKzEwLDE4IEBA
DQogICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKiovDQogcGFja2FnZSBvcmcuZWNsaXBzZS5lcXVpbm94
LnAyLnRlc3RzLmFydGlmYWN0LnJlcG9zaXRvcnk7DQogDQoraW1wb3J0IGphdmEuaW8uRmlsZTsN
CiBpbXBvcnQgamF2YS5uZXQuTWFsZm9ybWVkVVJMRXhjZXB0aW9uOw0KIGltcG9ydCBqYXZhLm5l
dC5VUkw7DQogaW1wb3J0IGp1bml0LmZyYW1ld29yay5UZXN0Q2FzZTsNCiBpbXBvcnQgb3JnLmVj
bGlwc2UuZXF1aW5veC5pbnRlcm5hbC5wMi5hcnRpZmFjdC5yZXBvc2l0b3J5LnNpbXBsZS5TaW1w
bGVBcnRpZmFjdFJlcG9zaXRvcnk7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmVxdWlub3guaW50ZXJu
YWwucDIuY29yZS5oZWxwZXJzLlNlcnZpY2VIZWxwZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmVx
dWlub3gucDIuYXJ0aWZhY3QucmVwb3NpdG9yeS5JQXJ0aWZhY3RSZXBvc2l0b3J5Ow0KK2ltcG9y
dCBvcmcuZWNsaXBzZS5lcXVpbm94LnAyLmFydGlmYWN0LnJlcG9zaXRvcnkuSUFydGlmYWN0UmVw
b3NpdG9yeU1hbmFnZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmVxdWlub3gucDIuY29yZS5yZXBv
c2l0b3J5LklSZXBvc2l0b3J5Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5lcXVpbm94LnAyLm1ldGFk
YXRhLmdlbmVyYXRvci5FY2xpcHNlSW5zdGFsbEdlbmVyYXRvckluZm9Qcm92aWRlcjsNCitpbXBv
cnQgb3JnLmVjbGlwc2UuZXF1aW5veC5wMi5tZXRhZGF0YS5nZW5lcmF0b3IuR2VuZXJhdG9yOw0K
K2ltcG9ydCBvcmcuZWNsaXBzZS5lcXVpbm94LnAyLnRlc3RzLlRlc3RBY3RpdmF0b3I7DQogDQog
cHVibGljIGNsYXNzIFNpbXBsZUFydGlmYWN0UmVwb3NpdG9yeVRlc3QgZXh0ZW5kcyBUZXN0Q2Fz
ZSB7DQogDQpAQCAtMzIsMTkgKzQwLDk1IEBADQogCQlhc3NlcnRFcXVhbHMoYmFzZSwgU2ltcGxl
QXJ0aWZhY3RSZXBvc2l0b3J5LmdldEFjdHVhbExvY2F0aW9uKGJhc2UsIGZhbHNlKSk7DQogCX0N
CiANCi0JcHVibGljIHZvaWQgdGVzdEdldEFjdHVhbExvY2F0aW9uR3ppcDEoKSB0aHJvd3MgTWFs
Zm9ybWVkVVJMRXhjZXB0aW9uIHsNCisJcHVibGljIHZvaWQgdGVzdEdldEFjdHVhbExvY2F0aW9u
Q29tcHJlc3NlZDEoKSB0aHJvd3MgTWFsZm9ybWVkVVJMRXhjZXB0aW9uIHsNCiAJCVVSTCBiYXNl
ID0gbmV3IFVSTCgiaHR0cDovL2xvY2FsaG9zdC9hcnRpZmFjdFJlcG9zaXRvcnkiKTsNCi0JCWFz
c2VydEVxdWFscyhuZXcgVVJMKGJhc2UgKyAiL2FydGlmYWN0cy54bWwuZ3oiKSwgU2ltcGxlQXJ0
aWZhY3RSZXBvc2l0b3J5LmdldEFjdHVhbExvY2F0aW9uKGJhc2UsIHRydWUpKTsNCisJCWFzc2Vy
dEVxdWFscyhuZXcgVVJMKGJhc2UgKyAiL2FydGlmYWN0cy5qYXIiKSwgU2ltcGxlQXJ0aWZhY3RS
ZXBvc2l0b3J5LmdldEFjdHVhbExvY2F0aW9uKGJhc2UsIHRydWUpKTsNCiAJfQ0KIA0KLQlwdWJs
aWMgdm9pZCB0ZXN0R2V0QWN0dWFsTG9jYXRpb25HemlwMigpIHRocm93cyBNYWxmb3JtZWRVUkxF
eGNlcHRpb24gew0KKwlwdWJsaWMgdm9pZCB0ZXN0R2V0QWN0dWFsTG9jYXRpb25Db21wcmVzc2Vk
MigpIHRocm93cyBNYWxmb3JtZWRVUkxFeGNlcHRpb24gew0KIAkJVVJMIGJhc2UgPSBuZXcgVVJM
KCJodHRwOi8vbG9jYWxob3N0L2FydGlmYWN0UmVwb3NpdG9yeS8iKTsNCi0JCWFzc2VydEVxdWFs
cyhuZXcgVVJMKGJhc2UgKyAiYXJ0aWZhY3RzLnhtbC5neiIpLCBTaW1wbGVBcnRpZmFjdFJlcG9z
aXRvcnkuZ2V0QWN0dWFsTG9jYXRpb24oYmFzZSwgdHJ1ZSkpOw0KKwkJYXNzZXJ0RXF1YWxzKG5l
dyBVUkwoYmFzZSArICJhcnRpZmFjdHMuamFyIiksIFNpbXBsZUFydGlmYWN0UmVwb3NpdG9yeS5n
ZXRBY3R1YWxMb2NhdGlvbihiYXNlLCB0cnVlKSk7DQogCX0NCiANCi0JcHVibGljIHZvaWQgdGVz
dEdldEFjdHVhbExvY2F0aW9uR3ppcDMoKSB0aHJvd3MgTWFsZm9ybWVkVVJMRXhjZXB0aW9uIHsN
Ci0JCVVSTCBiYXNlID0gbmV3IFVSTCgiaHR0cDovL2xvY2FsaG9zdC9hcnRpZmFjdFJlcG9zaXRv
cnkvYXJ0aWZhY3RzLnhtbC5neiIpOw0KKwlwdWJsaWMgdm9pZCB0ZXN0R2V0QWN0dWFsTG9jYXRp
b25Db21wcmVzc2VkMygpIHRocm93cyBNYWxmb3JtZWRVUkxFeGNlcHRpb24gew0KKwkJVVJMIGJh
c2UgPSBuZXcgVVJMKCJodHRwOi8vbG9jYWxob3N0L2FydGlmYWN0UmVwb3NpdG9yeS9hcnRpZmFj
dHMuamFyIik7DQogCQlhc3NlcnRFcXVhbHMoYmFzZSwgU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5
LmdldEFjdHVhbExvY2F0aW9uKGJhc2UsIHRydWUpKTsNCiAJfQ0KIA0KKwlwcml2YXRlIElBcnRp
ZmFjdFJlcG9zaXRvcnlNYW5hZ2VyIGdldEFydGlmYWN0UmVwb3NpdG9yeU1hbmFnZXIoKSB7DQor
CQlyZXR1cm4gKElBcnRpZmFjdFJlcG9zaXRvcnlNYW5hZ2VyKSBTZXJ2aWNlSGVscGVyLmdldFNl
cnZpY2UoVGVzdEFjdGl2YXRvci5nZXRDb250ZXh0KCksIElBcnRpZmFjdFJlcG9zaXRvcnlNYW5h
Z2VyLmNsYXNzLmdldE5hbWUoKSk7DQorCX0NCisNCisJcHVibGljIHZvaWQgdGVzdENvbXByZXNz
ZWRSZXBvc2l0b3J5KCkgdGhyb3dzIE1hbGZvcm1lZFVSTEV4Y2VwdGlvbiB7DQorCQlJQXJ0aWZh
Y3RSZXBvc2l0b3J5TWFuYWdlciBhcnRpZmFjdFJlcG9zaXRvcnlNYW5hZ2VyID0gZ2V0QXJ0aWZh
Y3RSZXBvc2l0b3J5TWFuYWdlcigpOw0KKwkJU3RyaW5nIHRlbXBEaXIgPSBTeXN0ZW0uZ2V0UHJv
cGVydHkoImphdmEuaW8udG1wZGlyIik7DQorCQlGaWxlIHJlcG9Mb2NhdGlvbiA9IG5ldyBGaWxl
KHRlbXBEaXIsICJTaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnlUZXN0Iik7DQorCQlJQXJ0aWZhY3RS
ZXBvc2l0b3J5IHJlcG8gPSBhcnRpZmFjdFJlcG9zaXRvcnlNYW5hZ2VyLmNyZWF0ZVJlcG9zaXRv
cnkocmVwb0xvY2F0aW9uLnRvVVJMKCksICJhcnRpZmFjdCBuYW1lIiwgIm9yZy5lY2xpcHNlLmVx
dWlub3gucDIuYXJ0aWZhY3QucmVwb3NpdG9yeS5zaW1wbGVSZXBvc2l0b3J5Iik7DQorCQlyZXBv
LnNldFByb3BlcnR5KElSZXBvc2l0b3J5LlBST1BfQ09NUFJFU1NFRCwgInRydWUiKTsNCisJCUVj
bGlwc2VJbnN0YWxsR2VuZXJhdG9ySW5mb1Byb3ZpZGVyIHByb3ZpZGVyID0gbmV3IEVjbGlwc2VJ
bnN0YWxsR2VuZXJhdG9ySW5mb1Byb3ZpZGVyKCk7DQorCQlwcm92aWRlci5zZXRBcnRpZmFjdFJl
cG9zaXRvcnkocmVwbyk7DQorCQlwcm92aWRlci5pbml0aWFsaXplKHJlcG9Mb2NhdGlvbik7DQor
CQlwcm92aWRlci5zZXRSb290VmVyc2lvbigiMy4zIik7DQorCQlwcm92aWRlci5zZXRSb290SWQo
InNkayIpOw0KKwkJcHJvdmlkZXIuc2V0Rmxhdm9yKCJ0b29saW5nIik7DQorCQluZXcgR2VuZXJh
dG9yKHByb3ZpZGVyKS5nZW5lcmF0ZSgpOw0KKwkJRmlsZSBmaWxlc1tdID0gcmVwb0xvY2F0aW9u
Lmxpc3RGaWxlcygpOw0KKwkJYm9vbGVhbiBqYXJGaWxlUHJlc2VudCA9IGZhbHNlOw0KKwkJYm9v
bGVhbiBhcnRpZmFjdEZpbGVQcmVzZW50ID0gZmFsc2U7DQorCQlmb3IgKGludCBpID0gMDsgaSA8
IGZpbGVzLmxlbmd0aDsgaSsrKSB7DQorCQkJaWYgKCJhcnRpZmFjdHMuamFyIi5lcXVhbHNJZ25v
cmVDYXNlKGZpbGVzW2ldLmdldE5hbWUoKSkpIHsNCisJCQkJamFyRmlsZVByZXNlbnQgPSB0cnVl
Ow0KKwkJCX0NCisJCQlpZiAoImFydGlmYWN0cy54bWwiLmVxdWFsc0lnbm9yZUNhc2UoZmlsZXNb
aV0uZ2V0TmFtZSgpKSkgew0KKwkJCQlhcnRpZmFjdEZpbGVQcmVzZW50ID0gZmFsc2U7DQorCQkJ
fQ0KKwkJfQ0KKwkJaWYgKCFqYXJGaWxlUHJlc2VudCkNCisJCQlmYWlsKCJSZXBvc2l0b3J5IHNo
b3VsZCBjcmVhdGUgSkFSIGZvciBhcnRpZmFjdC54bWwiKTsNCisJCWlmIChhcnRpZmFjdEZpbGVQ
cmVzZW50KQ0KKwkJCWZhaWwoIlJlcG9zaXRvcnkgc2hvdWxkIG5vdCBjcmVhdGUgYXJ0aWZhY3Qu
eG1sIik7DQorCQlkZWxldGUocmVwb0xvY2F0aW9uKTsNCisJfQ0KKw0KKwlwdWJsaWMgdm9pZCB0
ZXN0VW5jb21wcmVzc2VkUmVwb3NpdG9yeSgpIHRocm93cyBNYWxmb3JtZWRVUkxFeGNlcHRpb24g
ew0KKwkJSUFydGlmYWN0UmVwb3NpdG9yeU1hbmFnZXIgYXJ0aWZhY3RSZXBvc2l0b3J5TWFuYWdl
ciA9IGdldEFydGlmYWN0UmVwb3NpdG9yeU1hbmFnZXIoKTsNCisJCVN0cmluZyB0ZW1wRGlyID0g
U3lzdGVtLmdldFByb3BlcnR5KCJqYXZhLmlvLnRtcGRpciIpOw0KKwkJRmlsZSByZXBvTG9jYXRp
b24gPSBuZXcgRmlsZSh0ZW1wRGlyLCAiU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5VGVzdCIpOw0K
KwkJSUFydGlmYWN0UmVwb3NpdG9yeSByZXBvID0gYXJ0aWZhY3RSZXBvc2l0b3J5TWFuYWdlci5j
cmVhdGVSZXBvc2l0b3J5KHJlcG9Mb2NhdGlvbi50b1VSTCgpLCAiYXJ0aWZhY3QgbmFtZSIsICJv
cmcuZWNsaXBzZS5lcXVpbm94LnAyLmFydGlmYWN0LnJlcG9zaXRvcnkuc2ltcGxlUmVwb3NpdG9y
eSIpOw0KKwkJcmVwby5zZXRQcm9wZXJ0eShJUmVwb3NpdG9yeS5QUk9QX0NPTVBSRVNTRUQsICJm
YWxzZSIpOw0KKwkJRWNsaXBzZUluc3RhbGxHZW5lcmF0b3JJbmZvUHJvdmlkZXIgcHJvdmlkZXIg
PSBuZXcgRWNsaXBzZUluc3RhbGxHZW5lcmF0b3JJbmZvUHJvdmlkZXIoKTsNCisJCXByb3ZpZGVy
LnNldEFydGlmYWN0UmVwb3NpdG9yeShyZXBvKTsNCisJCXByb3ZpZGVyLmluaXRpYWxpemUocmVw
b0xvY2F0aW9uKTsNCisJCXByb3ZpZGVyLnNldFJvb3RWZXJzaW9uKCIzLjMiKTsNCisJCXByb3Zp
ZGVyLnNldFJvb3RJZCgic2RrIik7DQorCQlwcm92aWRlci5zZXRGbGF2b3IoInRvb2xpbmciKTsN
CisJCW5ldyBHZW5lcmF0b3IocHJvdmlkZXIpLmdlbmVyYXRlKCk7DQorCQlGaWxlIGZpbGVzW10g
PSByZXBvTG9jYXRpb24ubGlzdEZpbGVzKCk7DQorCQlib29sZWFuIGphckZpbGVQcmVzZW50ID0g
ZmFsc2U7DQorCQlib29sZWFuIGFydGlmYWN0RmlsZVByZXNlbnQgPSBmYWxzZTsNCisJCWZvciAo
aW50IGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHsNCisJCQlpZiAoImFydGlmYWN0cy5q
YXIiLmVxdWFsc0lnbm9yZUNhc2UoZmlsZXNbaV0uZ2V0TmFtZSgpKSkgew0KKwkJCQlqYXJGaWxl
UHJlc2VudCA9IHRydWU7DQorCQkJfQ0KKwkJCWlmICgiYXJ0aWZhY3RzLnhtbCIuZXF1YWxzSWdu
b3JlQ2FzZShmaWxlc1tpXS5nZXROYW1lKCkpKSB7DQorCQkJCWFydGlmYWN0RmlsZVByZXNlbnQg
PSB0cnVlOw0KKwkJCX0NCisJCX0NCisJCWlmIChqYXJGaWxlUHJlc2VudCkNCisJCQlmYWlsKCJS
ZXBvc2l0b3J5IHNob3VsZCBub3QgY3JlYXRlIEpBUiBmb3IgYXJ0aWZhY3QueG1sIik7DQorCQlp
ZiAoIWFydGlmYWN0RmlsZVByZXNlbnQpDQorCQkJZmFpbCgiUmVwb3NpdG9yeSBzaG91bGQgY3Jl
YXRlIGFydGlmYWN0LnhtbCIpOw0KKwkJZGVsZXRlKHJlcG9Mb2NhdGlvbik7DQorCX0NCisNCisJ
cHJpdmF0ZSBib29sZWFuIGRlbGV0ZShGaWxlIGZpbGUpIHsNCisJCWlmICghZmlsZS5leGlzdHMo
KSkNCisJCQlyZXR1cm4gdHJ1ZTsNCisJCWlmIChmaWxlLmlzRGlyZWN0b3J5KCkpIHsNCisJCQlG
aWxlW10gY2hpbGRyZW4gPSBmaWxlLmxpc3RGaWxlcygpOw0KKwkJCWZvciAoaW50IGkgPSAwOyBp
IDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspDQorCQkJCWRlbGV0ZShjaGlsZHJlbltpXSk7DQorCQl9
DQorCQlyZXR1cm4gZmlsZS5kZWxldGUoKTsNCisJfQ0KIH0NCkluZGV4OiBzcmMvb3JnL2VjbGlw
c2UvZXF1aW5veC9wMi90ZXN0cy9tZXRhZGF0YS9yZXBvc2l0b3J5L0xvY2FsTWV0YWRhdGFSZXBv
c2l0b3J5VGVzdC5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9l
cXVpbm94LWluY3ViYXRvci9wcm92aXNpb25pbmcvb3JnLmVjbGlwc2UuZXF1aW5veC5wMi50ZXN0
cy9zcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9wMi90ZXN0cy9tZXRhZGF0YS9yZXBvc2l0b3J5L0xv
Y2FsTWV0YWRhdGFSZXBvc2l0b3J5VGVzdC5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS4y
DQpkaWZmIC11IC1yMS4yIExvY2FsTWV0YWRhdGFSZXBvc2l0b3J5VGVzdC5qYXZhDQotLS0gc3Jj
L29yZy9lY2xpcHNlL2VxdWlub3gvcDIvdGVzdHMvbWV0YWRhdGEvcmVwb3NpdG9yeS9Mb2NhbE1l
dGFkYXRhUmVwb3NpdG9yeVRlc3QuamF2YQk4IEphbiAyMDA4IDIwOjA1OjM0IC0wMDAwCTEuMg0K
KysrIHNyYy9vcmcvZWNsaXBzZS9lcXVpbm94L3AyL3Rlc3RzL21ldGFkYXRhL3JlcG9zaXRvcnkv
TG9jYWxNZXRhZGF0YVJlcG9zaXRvcnlUZXN0LmphdmEJOSBKYW4gMjAwOCAxODo1ODoxMSAtMDAw
MA0KQEAgLTY0LDcgKzY0LDcgQEANCiAJCWJvb2xlYW4geG1sRmlsZVByZXNlbnQgPSBmYWxzZTsN
CiAJCS8vIG9uZSBvZiB0aGUgZmlsZXMgaW4gdGhlIHJlcG9zaXRvcnkgc2hvdWxkIGJlIHRoZSBj
b250ZW50LnhtbC5qYXINCiAJCWZvciAoaW50IGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKysp
IHsNCi0JCQlpZiAoImNvbnRlbnQueG1sLmphciIuZXF1YWxzSWdub3JlQ2FzZShmaWxlc1tpXS5n
ZXROYW1lKCkpKSB7DQorCQkJaWYgKCJjb250ZW50LmphciIuZXF1YWxzSWdub3JlQ2FzZShmaWxl
c1tpXS5nZXROYW1lKCkpKSB7DQogCQkJCWphckZpbGVQcmVzZW50ID0gdHJ1ZTsNCiAJCQl9DQog
CQkJaWYgKCJjb250ZW50LnhtbCIuZXF1YWxzSWdub3JlQ2FzZShmaWxlc1tpXS5nZXROYW1lKCkp
KSB7DQpAQCAtMTMxLDcgKzEzMSw3IEBADQogCQlib29sZWFuIGphckZpbGVQcmVzZW50ID0gZmFs
c2U7DQogCQkvLyBub25lIG9mIHRoZSBmaWxlcyBpbiB0aGUgcmVwb3NpdG9yeSBzaG91bGQgYmUg
dGhlIGNvbnRlbnQueG1sLmphcg0KIAkJZm9yIChpbnQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7
IGkrKykgew0KLQkJCWlmICgiY29udGVudC54bWwuamFyIi5lcXVhbHNJZ25vcmVDYXNlKGZpbGVz
W2ldLmdldE5hbWUoKSkpIHsNCisJCQlpZiAoImNvbnRlbnQuamFyIi5lcXVhbHNJZ25vcmVDYXNl
KGZpbGVzW2ldLmdldE5hbWUoKSkpIHsNCiAJCQkJamFyRmlsZVByZXNlbnQgPSB0cnVlOw0KIAkJ
CX0NCiAJCX0NCiNQIG9yZy5lY2xpcHNlLmVxdWlub3gucDIubWV0YWRhdGEuZ2VuZXJhdG9yDQpJ
bmRleDogc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvaW50ZXJuYWwvcDIvbWV0YWRhdGEvZ2VuZXJh
dG9yL0VjbGlwc2VHZW5lcmF0b3JBcHBsaWNhdGlvbi5qYXZhDQo9PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmls
ZTogL2N2c3Jvb3QvZWNsaXBzZS9lcXVpbm94LWluY3ViYXRvci9wcm92aXNpb25pbmcvb3JnLmVj
bGlwc2UuZXF1aW5veC5wMi5tZXRhZGF0YS5nZW5lcmF0b3Ivc3JjL29yZy9lY2xpcHNlL2VxdWlu
b3gvaW50ZXJuYWwvcDIvbWV0YWRhdGEvZ2VuZXJhdG9yL0VjbGlwc2VHZW5lcmF0b3JBcHBsaWNh
dGlvbi5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS4xMQ0KZGlmZiAtdSAtcjEuMTEgRWNs
aXBzZUdlbmVyYXRvckFwcGxpY2F0aW9uLmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2UvZXF1aW5v
eC9pbnRlcm5hbC9wMi9tZXRhZGF0YS9nZW5lcmF0b3IvRWNsaXBzZUdlbmVyYXRvckFwcGxpY2F0
aW9uLmphdmEJOCBKYW4gMjAwOCAyMDowNTozMSAtMDAwMAkxLjExDQorKysgc3JjL29yZy9lY2xp
cHNlL2VxdWlub3gvaW50ZXJuYWwvcDIvbWV0YWRhdGEvZ2VuZXJhdG9yL0VjbGlwc2VHZW5lcmF0
b3JBcHBsaWNhdGlvbi5qYXZhCTkgSmFuIDIwMDggMTg6NTg6MTEgLTAwMDANCkBAIC0xMDUsOCAr
MTA1LDEwIEBADQogCQkvLyBUT0RPIGZvciBub3cgY3JlYXRlIGEgU2ltcGxlIHJlcG8gYnkgZGVm
YXVsdC4NCiAJCVN0cmluZyByZXBvc2l0b3J5TmFtZSA9IGFydGlmYWN0TG9jYXRpb24gKyAiIC0g
YXJ0aWZhY3RzIjsgLy8kTk9OLU5MUy0xJA0KIAkJSUFydGlmYWN0UmVwb3NpdG9yeSByZXN1bHQg
PSBtYW5hZ2VyLmNyZWF0ZVJlcG9zaXRvcnkobG9jYXRpb24sIHJlcG9zaXRvcnlOYW1lLCAib3Jn
LmVjbGlwc2UuZXF1aW5veC5wMi5hcnRpZmFjdC5yZXBvc2l0b3J5LnNpbXBsZVJlcG9zaXRvcnki
KTsgLy8kTk9OLU5MUy0xJA0KLQkJaWYgKHJlc3VsdCAhPSBudWxsKQ0KKwkJaWYgKHJlc3VsdCAh
PSBudWxsKSB7DQogCQkJcHJvdmlkZXIuc2V0QXJ0aWZhY3RSZXBvc2l0b3J5KHJlc3VsdCk7DQor
CQkJcmVzdWx0LnNldFByb3BlcnR5KElSZXBvc2l0b3J5LlBST1BfQ09NUFJFU1NFRCwgY29tcHJl
c3MpOw0KKwkJfQ0KIAl9DQogDQogCXB1YmxpYyB2b2lkIGluaXRpYWxpemVGb3JJbnBsYWNlKEVj
bGlwc2VJbnN0YWxsR2VuZXJhdG9ySW5mb1Byb3ZpZGVyIHByb3ZpZGVyKSB7DQpAQCAtMTQ3LDkg
KzE0OSwxMCBAQA0KIAkJLy8gVE9ETyBmb3Igbm93IGNyZWF0ZSBhIHJhbmRvbSByZXBvIGJ5IGRl
ZmF1bHQuDQogCQlTdHJpbmcgcmVwb3NpdG9yeU5hbWUgPSBtZXRhZGF0YUxvY2F0aW9uICsgIiAt
IG1ldGFkYXRhIjsgLy8kTk9OLU5MUy0xJA0KIAkJSU1ldGFkYXRhUmVwb3NpdG9yeSByZXN1bHQg
PSBtYW5hZ2VyLmNyZWF0ZVJlcG9zaXRvcnkobG9jYXRpb24sIHJlcG9zaXRvcnlOYW1lLCBJTWV0
YWRhdGFSZXBvc2l0b3J5TWFuYWdlci5UWVBFX1NJTVBMRV9SRVBPU0lUT1JZKTsNCi0JCXJlc3Vs
dC5zZXRQcm9wZXJ0eShJUmVwb3NpdG9yeS5QUk9QX0NPTVBSRVNTRUQsIGNvbXByZXNzKTsNCi0J
CWlmIChyZXN1bHQgIT0gbnVsbCkNCisJCWlmIChyZXN1bHQgIT0gbnVsbCkgew0KKwkJCXJlc3Vs
dC5zZXRQcm9wZXJ0eShJUmVwb3NpdG9yeS5QUk9QX0NPTVBSRVNTRUQsIGNvbXByZXNzKTsNCiAJ
CQlwcm92aWRlci5zZXRNZXRhZGF0YVJlcG9zaXRvcnkocmVzdWx0KTsNCisJCX0NCiAJfQ0KIA0K
IAlwcml2YXRlIHZvaWQgaW5pdGlhbGl6ZVJlcG9zaXRvcmllcyhFY2xpcHNlSW5zdGFsbEdlbmVy
YXRvckluZm9Qcm92aWRlciBwcm92aWRlcikgew0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9lcXVp
bm94L3AyL21ldGFkYXRhL2dlbmVyYXRvci9HZW5lcmF0b3IuamF2YQ0KPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNT
IGZpbGU6IC9jdnNyb290L2VjbGlwc2UvZXF1aW5veC1pbmN1YmF0b3IvcHJvdmlzaW9uaW5nL29y
Zy5lY2xpcHNlLmVxdWlub3gucDIubWV0YWRhdGEuZ2VuZXJhdG9yL3NyYy9vcmcvZWNsaXBzZS9l
cXVpbm94L3AyL21ldGFkYXRhL2dlbmVyYXRvci9HZW5lcmF0b3IuamF2YSx2DQpyZXRyaWV2aW5n
IHJldmlzaW9uIDEuMzUNCmRpZmYgLXUgLXIxLjM1IEdlbmVyYXRvci5qYXZhDQotLS0gc3JjL29y
Zy9lY2xpcHNlL2VxdWlub3gvcDIvbWV0YWRhdGEvZ2VuZXJhdG9yL0dlbmVyYXRvci5qYXZhCTIg
SmFuIDIwMDggMjI6Mzk6MTIgLTAwMDAJMS4zNQ0KKysrIHNyYy9vcmcvZWNsaXBzZS9lcXVpbm94
L3AyL21ldGFkYXRhL2dlbmVyYXRvci9HZW5lcmF0b3IuamF2YQk5IEphbiAyMDA4IDE4OjU4OjEx
IC0wMDAwDQpAQCAtMjIsNiArMjIsNyBAQA0KIGltcG9ydCBvcmcuZWNsaXBzZS5lcXVpbm94LnAy
Lm1ldGFkYXRhLio7DQogaW1wb3J0IG9yZy5lY2xpcHNlLmVxdWlub3gucDIubWV0YWRhdGEuTWV0
YWRhdGFGYWN0b3J5Lkluc3RhbGxhYmxlVW5pdERlc2NyaXB0aW9uOw0KIGltcG9ydCBvcmcuZWNs
aXBzZS5lcXVpbm94LnAyLm1ldGFkYXRhLk1ldGFkYXRhRmFjdG9yeS5JbnN0YWxsYWJsZVVuaXRG
cmFnbWVudERlc2NyaXB0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5lcXVpbm94LnAyLm1ldGFk
YXRhLnJlcG9zaXRvcnkuSU1ldGFkYXRhUmVwb3NpdG9yeTsNCiBpbXBvcnQgb3JnLmVjbGlwc2Uu
b3NnaS5zZXJ2aWNlLnJlc29sdmVyLio7DQogaW1wb3J0IG9yZy5vc2dpLmZyYW1ld29yay5WZXJz
aW9uOw0KIA0KQEAgLTMyLDE2ICszMyw2IEBADQogDQogCS8vCXByaXZhdGUgc3RhdGljIFN0cmlu
Z1tdW10gZGVmYXVsdE1hcHBpbmdSdWxlcyA9IG5ldyBTdHJpbmdbXVtdIHsgeyIoJiAobmFtZXNw
YWNlPWVjbGlwc2UpIChjbGFzc2lmaWVyPWZlYXR1cmUpKSIsICIke3JlcG9Vcmx9L2ZlYXR1cmUv
JHtpZH1fJHt2ZXJzaW9ufSJ9LCB7IigmIChuYW1lc3BhY2U9ZWNsaXBzZSkgKGNsYXNzaWZpZXI9
cGx1Z2luKSkiLCAiJHtyZXBvVXJsfS9wbHVnaW4vJHtpZH1fJHt2ZXJzaW9ufSJ9LCB7IigmIChu
YW1lc3BhY2U9ZWNsaXBzZSkgKGNsYXNzaWZpZXI9bmF0aXZlKSkiLCAiJHtyZXBvVXJsfS9uYXRp
dmUvJHtpZH1fJHt2ZXJzaW9ufSJ9fTsNCiANCi0JcHJpdmF0ZSBmaW5hbCBJR2VuZXJhdG9ySW5m
byBpbmZvOw0KLQ0KLQkvKioNCi0JICogU2hvcnQgdGVybSBmaXggdG8gZW5zdXJlIElVcyB0aGF0
IGhhdmUgbm8gY29ycmVzcG9uZGluZyBjYXRlZ29yeSBhcmUgbm90IGxvc3QuDQotCSAqIFNlZSBo
dHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVncy9zaG93X2J1Zy5jZ2k/aWQ9MjExNTIxLg0KLQkg
Ki8NCi0JcHJvdGVjdGVkIGZpbmFsIFNldCByb290Q2F0ZWdvcnkgPSBuZXcgSGFzaFNldCgpOw0K
LQ0KLQlwcml2YXRlIFN0YXRlT2JqZWN0RmFjdG9yeSBzdGF0ZU9iamVjdEZhY3Rvcnk7DQotDQog
CS8qKg0KIAkgKiBDb252ZXJ0IGEgbGlzdCBvZiB0b2tlbnMgaW50byBhbiBhcnJheS4gVGhlIGxp
c3Qgc2VwYXJhdG9yIGhhcyB0byBiZQ0KIAkgKiBzcGVjaWZpZWQuDQpAQCAtNTgsNiArNDksMTYg
QEANCiAJCXJldHVybiAoU3RyaW5nW10pIHJlc3VsdC50b0FycmF5KG5ldyBTdHJpbmdbcmVzdWx0
LnNpemUoKV0pOw0KIAl9DQogDQorCXByaXZhdGUgZmluYWwgSUdlbmVyYXRvckluZm8gaW5mbzsN
CisNCisJLyoqDQorCSAqIFNob3J0IHRlcm0gZml4IHRvIGVuc3VyZSBJVXMgdGhhdCBoYXZlIG5v
IGNvcnJlc3BvbmRpbmcgY2F0ZWdvcnkgYXJlIG5vdCBsb3N0Lg0KKwkgKiBTZWUgaHR0cHM6Ly9i
dWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTIxMTUyMS4NCisJICovDQorCXBy
b3RlY3RlZCBmaW5hbCBTZXQgcm9vdENhdGVnb3J5ID0gbmV3IEhhc2hTZXQoKTsNCisNCisJcHJp
dmF0ZSBTdGF0ZU9iamVjdEZhY3Rvcnkgc3RhdGVPYmplY3RGYWN0b3J5Ow0KKw0KIAlwdWJsaWMg
R2VuZXJhdG9yKElHZW5lcmF0b3JJbmZvIGluZm9Qcm92aWRlcikgew0KIAkJdGhpcy5pbmZvID0g
aW5mb1Byb3ZpZGVyOw0KIAkJLy8gVE9ETyBuZWVkIHRvIGZpZ3VyZSBhIGJldHRlciB3YXkgb2Yg
Y29uZmlndXJpbmcgdGhlIGdlbmVyYXRvci4uLg0KQEAgLTE3MCw3ICsxNzEsOSBAQA0KIAkJLy8J
CWlmIChpbmZvLnB1Ymxpc2hBcnRpZmFjdHMoKSB8fCBpbmZvLnB1Ymxpc2hBcnRpZmFjdFJlcG9z
aXRvcnkoKSkgew0KIAkJLy8JCQlwZXJzaXN0ZW5jZS5zYXZlQXJ0aWZhY3RSZXBvc2l0b3J5KCk7
DQogCQkvLwkJfQ0KLQkJaW5mby5nZXRNZXRhZGF0YVJlcG9zaXRvcnkoKS5hZGRJbnN0YWxsYWJs
ZVVuaXRzKChJSW5zdGFsbGFibGVVbml0W10pIGl1cy50b0FycmF5KG5ldyBJSW5zdGFsbGFibGVV
bml0W2l1cy5zaXplKCldKSk7DQorCQlJTWV0YWRhdGFSZXBvc2l0b3J5IG1ldGFkYXRhUmVwb3Np
dG9yeSA9IGluZm8uZ2V0TWV0YWRhdGFSZXBvc2l0b3J5KCk7DQorCQlpZiAobWV0YWRhdGFSZXBv
c2l0b3J5ICE9IG51bGwpDQorCQkJbWV0YWRhdGFSZXBvc2l0b3J5LmFkZEluc3RhbGxhYmxlVW5p
dHMoKElJbnN0YWxsYWJsZVVuaXRbXSkgaXVzLnRvQXJyYXkobmV3IElJbnN0YWxsYWJsZVVuaXRb
aXVzLnNpemUoKV0pKTsNCiANCiAJCXJldHVybiBTdGF0dXMuT0tfU1RBVFVTOw0KIAl9DQojUCBv
cmcuZWNsaXBzZS5lcXVpbm94LnAyLmFydGlmYWN0LnJlcG9zaXRvcnkNCkluZGV4OiBzcmMvb3Jn
L2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9hcnRpZmFjdC9yZXBvc2l0b3J5L3NpbXBsZS9T
aW1wbGVBcnRpZmFjdFJlcG9zaXRvcnlGYWN0b3J5LmphdmENCj09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxl
OiAvY3Zzcm9vdC9lY2xpcHNlL2VxdWlub3gtaW5jdWJhdG9yL3Byb3Zpc2lvbmluZy9vcmcuZWNs
aXBzZS5lcXVpbm94LnAyLmFydGlmYWN0LnJlcG9zaXRvcnkvc3JjL29yZy9lY2xpcHNlL2VxdWlu
b3gvaW50ZXJuYWwvcDIvYXJ0aWZhY3QvcmVwb3NpdG9yeS9zaW1wbGUvU2ltcGxlQXJ0aWZhY3RS
ZXBvc2l0b3J5RmFjdG9yeS5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS40DQpkaWZmIC11
IC1yMS40IFNpbXBsZUFydGlmYWN0UmVwb3NpdG9yeUZhY3RvcnkuamF2YQ0KLS0tIHNyYy9vcmcv
ZWNsaXBzZS9lcXVpbm94L2ludGVybmFsL3AyL2FydGlmYWN0L3JlcG9zaXRvcnkvc2ltcGxlL1Np
bXBsZUFydGlmYWN0UmVwb3NpdG9yeUZhY3RvcnkuamF2YQkxOSBEZWMgMjAwNyAxNDozODozOCAt
MDAwMAkxLjQNCisrKyBzcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9hcnRpZmFj
dC9yZXBvc2l0b3J5L3NpbXBsZS9TaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnlGYWN0b3J5LmphdmEJ
OSBKYW4gMjAwOCAxODo1ODoxMiAtMDAwMA0KQEAgLTEyLDcgKzEyLDggQEANCiANCiBpbXBvcnQg
amF2YS5pby4qOw0KIGltcG9ydCBqYXZhLm5ldC5VUkw7DQotaW1wb3J0IGphdmEudXRpbC56aXAu
R1pJUElucHV0U3RyZWFtOw0KK2ltcG9ydCBqYXZhLnV0aWwuamFyLkphckVudHJ5Ow0KK2ltcG9y
dCBqYXZhLnV0aWwuamFyLkphcklucHV0U3RyZWFtOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5jb3Jl
LnJ1bnRpbWUuSVN0YXR1czsNCiBpbXBvcnQgb3JnLmVjbGlwc2UuZXF1aW5veC5pbnRlcm5hbC5w
Mi5hcnRpZmFjdC5yZXBvc2l0b3J5LkVDRlRyYW5zcG9ydDsNCiBpbXBvcnQgb3JnLmVjbGlwc2Uu
ZXF1aW5veC5pbnRlcm5hbC5wMi5hcnRpZmFjdC5yZXBvc2l0b3J5LlRyYW5zcG9ydDsNCkBAIC0z
MCwxNSArMzEsMTUgQEANCiAJCQkvLyBUT0RPIFRoaXMgdGVtcG9yYXJ5IGZpbGUgc3R1ZmYgaXMg
bm90IHZlcnkgZWxlZ2FudC4gDQogCQkJT3V0cHV0U3RyZWFtIGFydGlmYWN0cyA9IG51bGw7DQog
CQkJdGVtcCA9IEZpbGUuY3JlYXRlVGVtcEZpbGUoImFydGlmYWN0cyIsICIueG1sIik7IC8vJE5P
Ti1OTFMtMSQgLy8kTk9OLU5MUy0yJA0KLQkJCS8vIHRyeSB3aXRoIGd6aXANCi0JCQlib29sZWFu
IGd6aXAgPSB0cnVlOw0KKwkJCS8vIHRyeSB3aXRoIGNvbXByZXNzZWQNCisJCQlib29sZWFuIGNv
bXByZXNzID0gdHJ1ZTsNCiAJCQl0cnkgew0KIAkJCQlhcnRpZmFjdHMgPSBuZXcgQnVmZmVyZWRP
dXRwdXRTdHJlYW0obmV3IEZpbGVPdXRwdXRTdHJlYW0odGVtcCkpOw0KLQkJCQlJU3RhdHVzIHN0
YXR1cyA9IGdldFRyYW5zcG9ydCgpLmRvd25sb2FkKFNpbXBsZUFydGlmYWN0UmVwb3NpdG9yeS5n
ZXRBY3R1YWxMb2NhdGlvbihsb2NhdGlvbiwgZ3ppcCkudG9FeHRlcm5hbEZvcm0oKSwgYXJ0aWZh
Y3RzLCBudWxsKTsNCisJCQkJSVN0YXR1cyBzdGF0dXMgPSBnZXRUcmFuc3BvcnQoKS5kb3dubG9h
ZChTaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnkuZ2V0QWN0dWFsTG9jYXRpb24obG9jYXRpb24sIGNv
bXByZXNzKS50b0V4dGVybmFsRm9ybSgpLCBhcnRpZmFjdHMsIG51bGwpOw0KIAkJCQlpZiAoIXN0
YXR1cy5pc09LKCkpIHsNCi0JCQkJCS8vIHJldHJ5IHVuemlwcGVkDQotCQkJCQlnemlwID0gZmFs
c2U7DQotCQkJCQlzdGF0dXMgPSBnZXRUcmFuc3BvcnQoKS5kb3dubG9hZChTaW1wbGVBcnRpZmFj
dFJlcG9zaXRvcnkuZ2V0QWN0dWFsTG9jYXRpb24obG9jYXRpb24sIGd6aXApLnRvRXh0ZXJuYWxG
b3JtKCksIGFydGlmYWN0cywgbnVsbCk7DQorCQkJCQkvLyByZXRyeSB1bmNvbXByZXNzZWQNCisJ
CQkJCWNvbXByZXNzID0gZmFsc2U7DQorCQkJCQlzdGF0dXMgPSBnZXRUcmFuc3BvcnQoKS5kb3du
bG9hZChTaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnkuZ2V0QWN0dWFsTG9jYXRpb24obG9jYXRpb24s
IGNvbXByZXNzKS50b0V4dGVybmFsRm9ybSgpLCBhcnRpZmFjdHMsIG51bGwpOw0KIAkJCQkJaWYg
KCFzdGF0dXMuaXNPSygpKQ0KIAkJCQkJCXJldHVybiBudWxsOw0KIAkJCQl9DQpAQCAtNDksOCAr
NTAsMTkgQEANCiAJCQlJbnB1dFN0cmVhbSBkZXNjcmlwdG9yU3RyZWFtID0gbnVsbDsNCiAJCQl0
cnkgew0KIAkJCQlkZXNjcmlwdG9yU3RyZWFtID0gbmV3IEJ1ZmZlcmVkSW5wdXRTdHJlYW0obmV3
IEZpbGVJbnB1dFN0cmVhbSh0ZW1wKSk7DQotCQkJCWlmIChnemlwKQ0KLQkJCQkJZGVzY3JpcHRv
clN0cmVhbSA9IG5ldyBHWklQSW5wdXRTdHJlYW0oZGVzY3JpcHRvclN0cmVhbSk7DQorCQkJCWlm
IChjb21wcmVzcykgew0KKwkJCQkJVVJMIGFjdHVhbEZpbGUgPSBTaW1wbGVBcnRpZmFjdFJlcG9z
aXRvcnkuZ2V0QWN0dWFsTG9jYXRpb24obG9jYXRpb24sIGZhbHNlKTsNCisJCQkJCUphcklucHV0
U3RyZWFtIGpJblN0cmVhbSA9IG5ldyBKYXJJbnB1dFN0cmVhbShkZXNjcmlwdG9yU3RyZWFtKTsN
CisJCQkJCUphckVudHJ5IGphckVudHJ5ID0gakluU3RyZWFtLmdldE5leHRKYXJFbnRyeSgpOw0K
KwkJCQkJRmlsZSBmID0gbmV3IEZpbGUoYWN0dWFsRmlsZS5nZXRQYXRoKCkpOw0KKwkJCQkJd2hp
bGUgKGphckVudHJ5ICE9IG51bGwgJiYgKGYuY29tcGFyZVRvKG5ldyBGaWxlKGphckVudHJ5Lmdl
dE5hbWUoKSkpKSAhPSAwKSB7DQorCQkJCQkJamFyRW50cnkgPSBqSW5TdHJlYW0uZ2V0TmV4dEph
ckVudHJ5KCk7DQorCQkJCQl9DQorCQkJCQlpZiAoamFyRW50cnkgPT0gbnVsbCkgew0KKwkJCQkJ
CXRocm93IG5ldyBGaWxlTm90Rm91bmRFeGNlcHRpb24oIlJlcG9zaXRvcnkgbm90IGZvdW5kIGlu
ICIgKyBhY3R1YWxGaWxlLmdldFBhdGgoKSk7IC8vJE5PTi1OTFMtMSQNCisJCQkJCX0NCisJCQkJ
CWRlc2NyaXB0b3JTdHJlYW0gPSBqSW5TdHJlYW07DQorCQkJCX0NCiAJCQkJU2ltcGxlQXJ0aWZh
Y3RSZXBvc2l0b3J5SU8gaW8gPSBuZXcgU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5SU8oKTsNCiAJ
CQkJU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5IHJlc3VsdCA9IChTaW1wbGVBcnRpZmFjdFJlcG9z
aXRvcnkpIGlvLnJlYWQoZGVzY3JpcHRvclN0cmVhbSk7DQogCQkJCXJlc3VsdC5pbml0aWFsaXpl
QWZ0ZXJMb2FkKGxvY2F0aW9uKTsNCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9pbnRl
cm5hbC9wMi9hcnRpZmFjdC9yZXBvc2l0b3J5L3NpbXBsZS9TaW1wbGVBcnRpZmFjdFJlcG9zaXRv
cnkuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2UvZXF1aW5veC1p
bmN1YmF0b3IvcHJvdmlzaW9uaW5nL29yZy5lY2xpcHNlLmVxdWlub3gucDIuYXJ0aWZhY3QucmVw
b3NpdG9yeS9zcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9hcnRpZmFjdC9yZXBv
c2l0b3J5L3NpbXBsZS9TaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnkuamF2YSx2DQpyZXRyaWV2aW5n
IHJldmlzaW9uIDEuMjINCmRpZmYgLXUgLXIxLjIyIFNpbXBsZUFydGlmYWN0UmVwb3NpdG9yeS5q
YXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvaW50ZXJuYWwvcDIvYXJ0aWZhY3QvcmVw
b3NpdG9yeS9zaW1wbGUvU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5LmphdmEJOSBKYW4gMjAwOCAw
Mzo0OTo1MSAtMDAwMAkxLjIyDQorKysgc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvaW50ZXJuYWwv
cDIvYXJ0aWZhY3QvcmVwb3NpdG9yeS9zaW1wbGUvU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5Lmph
dmEJOSBKYW4gMjAwOCAxODo1ODoxMiAtMDAwMA0KQEAgLTEyLDcgKzEyLDggQEANCiBpbXBvcnQg
amF2YS5uZXQuTWFsZm9ybWVkVVJMRXhjZXB0aW9uOw0KIGltcG9ydCBqYXZhLm5ldC5VUkw7DQog
aW1wb3J0IGphdmEudXRpbC4qOw0KLWltcG9ydCBqYXZhLnV0aWwuemlwLkdaSVBPdXRwdXRTdHJl
YW07DQoraW1wb3J0IGphdmEudXRpbC5qYXIuSmFyRW50cnk7DQoraW1wb3J0IGphdmEudXRpbC5q
YXIuSmFyT3V0cHV0U3RyZWFtOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuKjsN
CiBpbXBvcnQgb3JnLmVjbGlwc2UuZXF1aW5veC5pbnRlcm5hbC5wMi5hcnRpZmFjdC5yZXBvc2l0
b3J5Lio7DQogaW1wb3J0IG9yZy5lY2xpcHNlLmVxdWlub3guaW50ZXJuYWwucDIuY29yZS5oZWxw
ZXJzLkZpbGVVdGlsczsNCkBAIC0yNSw3ICsyNiw3IEBADQogcHVibGljIGNsYXNzIFNpbXBsZUFy
dGlmYWN0UmVwb3NpdG9yeSBleHRlbmRzIEFic3RyYWN0QXJ0aWZhY3RSZXBvc2l0b3J5IGltcGxl
bWVudHMgSUFydGlmYWN0UmVwb3NpdG9yeSwgSUZpbGVBcnRpZmFjdFJlcG9zaXRvcnkgew0KIA0K
IAlzdGF0aWMgZmluYWwgcHJpdmF0ZSBTdHJpbmcgQkxPQlNUT1JFID0gIi5ibG9ic3RvcmUvIjsg
Ly8kTk9OLU5MUy0xJA0KLQlzdGF0aWMgZmluYWwgcHJpdmF0ZSBTdHJpbmcgQ09OVEVOVF9GSUxF
TkFNRSA9ICJhcnRpZmFjdHMueG1sIjsgLy8kTk9OLU5MUy0xJA0KKwlzdGF0aWMgZmluYWwgcHJp
dmF0ZSBTdHJpbmcgQ09OVEVOVF9GSUxFTkFNRSA9ICJhcnRpZmFjdHMiOyAvLyROT04tTkxTLTEk
DQogCXN0YXRpYyBmaW5hbCBwcml2YXRlIFN0cmluZyBSRVBPU0lUT1JZX1RZUEUgPSAib3JnLmVj
bGlwc2UuZXF1aW5veC5wMi5hcnRpZmFjdC5yZXBvc2l0b3J5LnNpbXBsZVJlcG9zaXRvcnkiOyAv
LyROT04tTkxTLTEkDQogCXN0YXRpYyBmaW5hbCBwcml2YXRlIEludGVnZXIgUkVQT1NJVE9SWV9W
RVJTSU9OID0gbmV3IEludGVnZXIoMSk7DQogCXN0YXRpYyBmaW5hbCBwdWJsaWMgU3RyaW5nW11b
XSBERUZBVUxUX01BUFBJTkdfUlVMRVMgPSB7IHsiKCYgKG5hbWVzcGFjZT1lY2xpcHNlKSAoY2xh
c3NpZmllcj1wbHVnaW4pKSIsICIke3JlcG9Vcmx9L3BsdWdpbnMvJHtpZH1fJHt2ZXJzaW9ufS5q
YXIifSwgLy8kTk9OLU5MUy0xJC8vJE5PTi1OTFMtMiQNCkBAIC0zNSw3ICszNiw3IEBADQogCXBy
aXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBBUlRJRkFDVF9GT0xERVIgPSAiYXJ0aWZhY3QuZm9s
ZGVyIjsgLy8kTk9OLU5MUy0xJA0KIAlwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgQVJUSUZB
Q1RfUkVGRVJFTkNFID0gImFydGlmYWN0LnJlZmVyZW5jZSI7IC8vJE5PTi1OTFMtMSQNCiAJcHJp
dmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIEpBUl9FWFRFTlNJT04gPSAiLmphciI7IC8vJE5PTi1O
TFMtMSQNCi0JcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIEdaSVBfRVhURU5TSU9OID0gIi5n
eiI7IC8vJE5PTi1OTFMtMSQNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFhNTF9FWFRF
TlNJT04gPSAiLnhtbCI7IC8vJE5PTi1OTFMtMSQNCiANCiAJdHJhbnNpZW50IHByaXZhdGUgTWFw
cGVyIG1hcHBlciA9IG5ldyBNYXBwZXIoKTsNCiAJcHJvdGVjdGVkIFN0cmluZ1tdW10gbWFwcGlu
Z1J1bGVzID0gREVGQVVMVF9NQVBQSU5HX1JVTEVTOw0KQEAgLTQzLDggKzQ0LDggQEANCiAJcHJp
dmF0ZSBib29sZWFuIHNpZ25hdHVyZVZlcmlmaWNhdGlvbiA9IGZhbHNlOw0KIAlwcml2YXRlIHRy
YW5zaWVudCBCbG9iU3RvcmUgYmxvYlN0b3JlOw0KIA0KLQlwdWJsaWMgc3RhdGljIFVSTCBnZXRB
Y3R1YWxMb2NhdGlvbihVUkwgYmFzZSwgYm9vbGVhbiBnemlwKSB7DQotCQlyZXR1cm4gZ2V0QWN0
dWFsTG9jYXRpb24oYmFzZSwgZ3ppcCA/IEdaSVBfRVhURU5TSU9OIDogIiIpOyAvLyROT04tTkxT
LTEkDQorCXB1YmxpYyBzdGF0aWMgVVJMIGdldEFjdHVhbExvY2F0aW9uKFVSTCBiYXNlLCBib29s
ZWFuIGNvbXByZXNzKSB7DQorCQlyZXR1cm4gZ2V0QWN0dWFsTG9jYXRpb24oYmFzZSwgY29tcHJl
c3MgPyBKQVJfRVhURU5TSU9OIDogWE1MX0VYVEVOU0lPTik7DQogCX0NCiANCiAJcHJpdmF0ZSBz
dGF0aWMgVVJMIGdldEFjdHVhbExvY2F0aW9uKFVSTCBiYXNlLCBTdHJpbmcgZXh0ZW5zaW9uKSB7
DQpAQCAtNDIzLDIyICs0MjQsMzMgQEANCiAJfQ0KIA0KIAlwdWJsaWMgdm9pZCBzYXZlKCkgew0K
LQkJc2F2ZSh0cnVlKTsNCisJCWJvb2xlYW4gY29tcHJlc3MgPSAidHJ1ZSIuZXF1YWxzSWdub3Jl
Q2FzZSgoU3RyaW5nKSBwcm9wZXJ0aWVzLmdldChQUk9QX0NPTVBSRVNTRUQpKTsgLy8kTk9OLU5M
Uy0xJA0KKwkJc2F2ZShjb21wcmVzcyk7DQogCX0NCiANCi0JcHVibGljIHZvaWQgc2F2ZShib29s
ZWFuIGd6aXApIHsNCisJcHVibGljIHZvaWQgc2F2ZShib29sZWFuIGNvbXByZXNzKSB7DQogCQlP
dXRwdXRTdHJlYW0gb3MgPSBudWxsOw0KIAkJdHJ5IHsNCiAJCQl0cnkgew0KLQkJCQlVUkwgYWN0
dWFsTG9jYXRpb24gPSBnZXRBY3R1YWxMb2NhdGlvbihsb2NhdGlvbiwgZ3ppcCk7DQotCQkJCUZp
bGUgYXJ0aWZhY3RzRmlsZSA9IG5ldyBGaWxlKGFjdHVhbExvY2F0aW9uLmdldFBhdGgoKSk7DQot
CQkJCWlmICghYXJ0aWZhY3RzRmlsZS5leGlzdHMoKSkgew0KLQkJCQkJLy8gY3JlYXRlIHBhcmVu
dCBmb2xkZXJzDQotCQkJCQlhcnRpZmFjdHNGaWxlLmdldFBhcmVudEZpbGUoKS5ta2RpcnMoKTsN
CisJCQkJVVJMIGFjdHVhbExvY2F0aW9uID0gZ2V0QWN0dWFsTG9jYXRpb24obG9jYXRpb24sIGZh
bHNlKTsNCisJCQkJaWYgKCFjb21wcmVzcykgew0KKwkJCQkJRmlsZSBhcnRpZmFjdHNGaWxlID0g
bmV3IEZpbGUoYWN0dWFsTG9jYXRpb24uZ2V0UGF0aCgpKTsNCisJCQkJCWlmICghYXJ0aWZhY3Rz
RmlsZS5leGlzdHMoKSkgew0KKwkJCQkJCS8vIGNyZWF0ZSBwYXJlbnQgZm9sZGVycw0KKwkJCQkJ
CWFydGlmYWN0c0ZpbGUuZ2V0UGFyZW50RmlsZSgpLm1rZGlycygpOw0KKwkJCQkJfQ0KKwkJCQkJ
b3MgPSBuZXcgRmlsZU91dHB1dFN0cmVhbShhcnRpZmFjdHNGaWxlKTsNCisJCQkJfSBlbHNlIHsN
CisJCQkJCUZpbGUgamFyRmlsZSA9IG5ldyBGaWxlKGdldEFjdHVhbExvY2F0aW9uKGxvY2F0aW9u
LCB0cnVlKS5nZXRQYXRoKCkpOw0KKwkJCQkJaWYgKCFqYXJGaWxlLmV4aXN0cygpKSB7DQorCQkJ
CQkJaWYgKCFqYXJGaWxlLmdldFBhcmVudEZpbGUoKS5leGlzdHMoKSkNCisJCQkJCQkJamFyRmls
ZS5nZXRQYXJlbnRGaWxlKCkubWtkaXJzKCk7DQorCQkJCQkJamFyRmlsZS5jcmVhdGVOZXdGaWxl
KCk7DQorCQkJCQl9DQorCQkJCQlKYXJPdXRwdXRTdHJlYW0gak9zID0gbmV3IEphck91dHB1dFN0
cmVhbShuZXcgRmlsZU91dHB1dFN0cmVhbShqYXJGaWxlKSk7DQorCQkJCQlqT3MucHV0TmV4dEVu
dHJ5KG5ldyBKYXJFbnRyeShhY3R1YWxMb2NhdGlvbi5nZXRQYXRoKCkpKTsNCisJCQkJCW9zID0g
ak9zOw0KIAkJCQl9DQotCQkJCW9zID0gbmV3IEZpbGVPdXRwdXRTdHJlYW0oYXJ0aWZhY3RzRmls
ZSk7DQotCQkJCWlmIChnemlwKQ0KLQkJCQkJb3MgPSBuZXcgR1pJUE91dHB1dFN0cmVhbShvcyk7
DQogCQkJCW5ldyBTaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnlJTygpLndyaXRlKHRoaXMsIG9zKTsN
CiAJCQl9IGNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7DQogCQkJCS8vIFRPRE8gcHJvcGVyIGV4Y2Vw
dGlvbiBoYW5kbGluZw0KI1Agb3JnLmVjbGlwc2UuZXF1aW5veC5wMi5tZXRhZGF0YS5yZXBvc2l0
b3J5DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvaW50ZXJuYWwvcDIvbWV0YWRhdGEv
cmVwb3NpdG9yeS9TaW1wbGVNZXRhZGF0YVJlcG9zaXRvcnlGYWN0b3J5LmphdmENCj09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT0NClJDUyBmaWxlOiAvY3Zzcm9vdC9lY2xpcHNlL2VxdWlub3gtaW5jdWJhdG9yL3Byb3Zpc2lv
bmluZy9vcmcuZWNsaXBzZS5lcXVpbm94LnAyLm1ldGFkYXRhLnJlcG9zaXRvcnkvc3JjL29yZy9l
Y2xpcHNlL2VxdWlub3gvaW50ZXJuYWwvcDIvbWV0YWRhdGEvcmVwb3NpdG9yeS9TaW1wbGVNZXRh
ZGF0YVJlcG9zaXRvcnlGYWN0b3J5LmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjExDQpk
aWZmIC11IC1yMS4xMSBTaW1wbGVNZXRhZGF0YVJlcG9zaXRvcnlGYWN0b3J5LmphdmENCi0tLSBz
cmMvb3JnL2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9tZXRhZGF0YS9yZXBvc2l0b3J5L1Np
bXBsZU1ldGFkYXRhUmVwb3NpdG9yeUZhY3RvcnkuamF2YQk4IEphbiAyMDA4IDIwOjA1OjMzIC0w
MDAwCTEuMTENCisrKyBzcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9tZXRhZGF0
YS9yZXBvc2l0b3J5L1NpbXBsZU1ldGFkYXRhUmVwb3NpdG9yeUZhY3RvcnkuamF2YQk5IEphbiAy
MDA4IDE4OjU4OjEyIC0wMDAwDQpAQCAtMjYsNiArMjYsNyBAQA0KIHB1YmxpYyBjbGFzcyBTaW1w
bGVNZXRhZGF0YVJlcG9zaXRvcnlGYWN0b3J5IGltcGxlbWVudHMgSU1ldGFkYXRhUmVwb3NpdG9y
eUZhY3Rvcnkgew0KIA0KIAlwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgSkFSX0VYVEVOU0lP
TiA9ICIuamFyIjsgLy8kTk9OLU5MUy0xJA0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcg
WE1MX0VYVEVOU0lPTiA9ICIueG1sIjsNCiANCiAJcHVibGljIElNZXRhZGF0YVJlcG9zaXRvcnkg
Y3JlYXRlKFVSTCBsb2NhdGlvbiwgU3RyaW5nIG5hbWUsIFN0cmluZyB0eXBlKSB7DQogCQlpZiAo
bG9jYXRpb24uZ2V0UHJvdG9jb2woKS5lcXVhbHMoImZpbGUiKSkgLy8kTk9OLU5MUy0xJA0KQEAg
LTM4LDcgKzM5LDcgQEANCiAJCUlNZXRhZGF0YVJlcG9zaXRvcnkgcmVzdWx0ID0gbG9hZChsb2Nh
dGlvbiwgSkFSX0VYVEVOU0lPTik7DQogCQkvLyBjb21wcmVzc2VkIGZpbGUgaXMgbm90IGF2YWls
YWJsZSwgbG9hZCB0aGUgeG1sDQogCQlpZiAocmVzdWx0ID09IG51bGwpIHsNCi0JCQlyZXN1bHQg
PSBsb2FkKGxvY2F0aW9uLCBudWxsKTsNCisJCQlyZXN1bHQgPSBsb2FkKGxvY2F0aW9uLCBYTUxf
RVhURU5TSU9OKTsNCiAJCX0NCiAJCXJldHVybiByZXN1bHQ7DQogCX0NCkluZGV4OiBzcmMvb3Jn
L2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9tZXRhZGF0YS9yZXBvc2l0b3J5L1VSTE1ldGFk
YXRhUmVwb3NpdG9yeS5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBz
ZS9lcXVpbm94LWluY3ViYXRvci9wcm92aXNpb25pbmcvb3JnLmVjbGlwc2UuZXF1aW5veC5wMi5t
ZXRhZGF0YS5yZXBvc2l0b3J5L3NyYy9vcmcvZWNsaXBzZS9lcXVpbm94L2ludGVybmFsL3AyL21l
dGFkYXRhL3JlcG9zaXRvcnkvVVJMTWV0YWRhdGFSZXBvc2l0b3J5LmphdmEsdg0KcmV0cmlldmlu
ZyByZXZpc2lvbiAxLjkNCmRpZmYgLXUgLXIxLjkgVVJMTWV0YWRhdGFSZXBvc2l0b3J5LmphdmEN
Ci0tLSBzcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9tZXRhZGF0YS9yZXBvc2l0
b3J5L1VSTE1ldGFkYXRhUmVwb3NpdG9yeS5qYXZhCTggSmFuIDIwMDggMjA6MDU6MzMgLTAwMDAJ
MS45DQorKysgc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvaW50ZXJuYWwvcDIvbWV0YWRhdGEvcmVw
b3NpdG9yeS9VUkxNZXRhZGF0YVJlcG9zaXRvcnkuamF2YQk5IEphbiAyMDA4IDE4OjU4OjEyIC0w
MDAwDQpAQCAtMjUsNyArMjUsOCBAQA0KICAqLw0KIHB1YmxpYyBjbGFzcyBVUkxNZXRhZGF0YVJl
cG9zaXRvcnkgZXh0ZW5kcyBBYnN0cmFjdE1ldGFkYXRhUmVwb3NpdG9yeSB7DQogDQotCXN0YXRp
YyBmaW5hbCBwcm90ZWN0ZWQgU3RyaW5nIENPTlRFTlRfRklMRU5BTUUgPSAiY29udGVudC54bWwi
OyAvLyROT04tTkxTLTEkDQorCXN0YXRpYyBmaW5hbCBwcm90ZWN0ZWQgU3RyaW5nIENPTlRFTlRf
RklMRU5BTUUgPSAiY29udGVudCI7IC8vJE5PTi1OTFMtMSQNCisJc3RhdGljIGZpbmFsIHByaXZh
dGUgU3RyaW5nIFhNTF9FWFRFTlNJT04gPSAiLnhtbCI7IC8vJE5PTi1OTFMtMSQNCiAJc3RhdGlj
IGZpbmFsIHByaXZhdGUgU3RyaW5nIFJFUE9TSVRPUllfVFlQRSA9IFVSTE1ldGFkYXRhUmVwb3Np
dG9yeS5jbGFzcy5nZXROYW1lKCk7DQogCXN0YXRpYyBmaW5hbCBwcml2YXRlIEludGVnZXIgUkVQ
T1NJVE9SWV9WRVJTSU9OID0gbmV3IEludGVnZXIoMSk7DQogDQpAQCAtMzMsMTIgKzM0LDEyIEBA
DQogCXByb3RlY3RlZCBIYXNoU2V0IHVuaXRzID0gbmV3IExpbmtlZEhhc2hTZXQoKTsNCiANCiAJ
cHVibGljIHN0YXRpYyBVUkwgZ2V0QWN0dWFsTG9jYXRpb24oVVJMIGJhc2UpIHsNCi0JCXJldHVy
biBnZXRBY3R1YWxMb2NhdGlvbihiYXNlLCBudWxsKTsNCisJCXJldHVybiBnZXRBY3R1YWxMb2Nh
dGlvbihiYXNlLCBYTUxfRVhURU5TSU9OKTsNCiAJfQ0KIA0KIAlwdWJsaWMgc3RhdGljIFVSTCBn
ZXRBY3R1YWxMb2NhdGlvbihVUkwgYmFzZSwgU3RyaW5nIGV4dGVuc2lvbikgew0KIAkJaWYgKGV4
dGVuc2lvbiA9PSBudWxsKSB7DQotCQkJZXh0ZW5zaW9uID0gIiI7IC8vJE5PTi1OTFMtMSQNCisJ
CQlleHRlbnNpb24gPSBYTUxfRVhURU5TSU9OOw0KIAkJfQ0KIAkJU3RyaW5nIHNwZWMgPSBiYXNl
LnRvRXh0ZXJuYWxGb3JtKCk7DQogCQlpZiAoc3BlYy5lbmRzV2l0aChDT05URU5UX0ZJTEVOQU1F
ICsgZXh0ZW5zaW9uKSkNCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9w
Mi9tZXRhZGF0YS9yZXBvc2l0b3J5L0xvY2FsTWV0YWRhdGFSZXBvc2l0b3J5LmphdmENCj09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9vdC9lY2xpcHNlL2VxdWlub3gtaW5jdWJhdG9yL3Byb3Zp
c2lvbmluZy9vcmcuZWNsaXBzZS5lcXVpbm94LnAyLm1ldGFkYXRhLnJlcG9zaXRvcnkvc3JjL29y
Zy9lY2xpcHNlL2VxdWlub3gvaW50ZXJuYWwvcDIvbWV0YWRhdGEvcmVwb3NpdG9yeS9Mb2NhbE1l
dGFkYXRhUmVwb3NpdG9yeS5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS4xNA0KZGlmZiAt
dSAtcjEuMTQgTG9jYWxNZXRhZGF0YVJlcG9zaXRvcnkuamF2YQ0KLS0tIHNyYy9vcmcvZWNsaXBz
ZS9lcXVpbm94L2ludGVybmFsL3AyL21ldGFkYXRhL3JlcG9zaXRvcnkvTG9jYWxNZXRhZGF0YVJl
cG9zaXRvcnkuamF2YQk4IEphbiAyMDA4IDIwOjA1OjMyIC0wMDAwCTEuMTQNCisrKyBzcmMvb3Jn
L2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9tZXRhZGF0YS9yZXBvc2l0b3J5L0xvY2FsTWV0
YWRhdGFSZXBvc2l0b3J5LmphdmEJOSBKYW4gMjAwOCAxODo1ODoxMiAtMDAwMA0KQEAgLTI4LDEw
ICsyOCwxMSBAQA0KICAqIGFuZCBjb21iaW5lIGFueSBtZXRhZGF0YSByZXBvc2l0b3J5IGZpbGVz
IHRoYXQgYXJlIGZvdW5kLg0KICAqLw0KIHB1YmxpYyBjbGFzcyBMb2NhbE1ldGFkYXRhUmVwb3Np
dG9yeSBleHRlbmRzIEFic3RyYWN0TWV0YWRhdGFSZXBvc2l0b3J5IHsNCi0Jc3RhdGljIGZpbmFs
IHByaXZhdGUgU3RyaW5nIENPTlRFTlRfRklMRU5BTUUgPSAiY29udGVudC54bWwiOyAvLyROT04t
TkxTLTEkDQorCXN0YXRpYyBmaW5hbCBwcml2YXRlIFN0cmluZyBDT05URU5UX0ZJTEVOQU1FID0g
ImNvbnRlbnQiOyAvLyROT04tTkxTLTEkDQogCXN0YXRpYyBmaW5hbCBwcml2YXRlIFN0cmluZyBS
RVBPU0lUT1JZX1RZUEUgPSBMb2NhbE1ldGFkYXRhUmVwb3NpdG9yeS5jbGFzcy5nZXROYW1lKCk7
DQogCXN0YXRpYyBmaW5hbCBwcml2YXRlIEludGVnZXIgUkVQT1NJVE9SWV9WRVJTSU9OID0gbmV3
IEludGVnZXIoMSk7DQogCXN0YXRpYyBmaW5hbCBwcml2YXRlIFN0cmluZyBKQVJfRVhURU5TSU9O
ID0gIi5qYXIiOyAvLyROT04tTkxTLTEkDQorCXN0YXRpYyBmaW5hbCBwcml2YXRlIFN0cmluZyBY
TUxfRVhURU5TSU9OID0gIi54bWwiOyAvLyROT04tTkxTLTEkDQogDQogCXByb3RlY3RlZCBIYXNo
U2V0IHVuaXRzID0gbmV3IExpbmtlZEhhc2hTZXQoKTsNCiANCkBAIC00Nyw3ICs0OCw3IEBADQog
CX0NCiANCiAJcHVibGljIHN0YXRpYyBGaWxlIGdldEFjdHVhbExvY2F0aW9uKFVSTCBsb2NhdGlv
bikgew0KLQkJcmV0dXJuIGdldEFjdHVhbExvY2F0aW9uKGxvY2F0aW9uLCAiIik7IC8vJE5PTi1O
TFMtMSQNCisJCXJldHVybiBnZXRBY3R1YWxMb2NhdGlvbihsb2NhdGlvbiwgWE1MX0VYVEVOU0lP
Tik7IC8vJE5PTi1OTFMtMSQNCiAJfQ0KIA0KIAkvKioNCkBAIC0xMjYsMTggKzEyNywxNyBAQA0K
IA0KIAlwcml2YXRlIHZvaWQgc2F2ZSgpIHsNCiAJCUZpbGUgZmlsZSA9IGdldEFjdHVhbExvY2F0
aW9uKGxvY2F0aW9uKTsNCi0JCWJvb2xlYW4gamFyID0gInRydWUiLmVxdWFsc0lnbm9yZUNhc2Uo
KFN0cmluZykgcHJvcGVydGllcy5nZXQoUFJPUF9DT01QUkVTU0VEKSk7IC8vJE5PTi1OTFMtMSQN
CisJCWJvb2xlYW4gY29tcHJlc3MgPSAidHJ1ZSIuZXF1YWxzSWdub3JlQ2FzZSgoU3RyaW5nKSBw
cm9wZXJ0aWVzLmdldChQUk9QX0NPTVBSRVNTRUQpKTsgLy8kTk9OLU5MUy0xJA0KIAkJdHJ5IHsN
CiAJCQlPdXRwdXRTdHJlYW0gb3V0cHV0ID0gbnVsbDsNCi0JCQlpZiAoIWphcikgew0KKwkJCWlm
ICghY29tcHJlc3MpIHsNCiAJCQkJaWYgKCFmaWxlLmV4aXN0cygpKSB7DQogCQkJCQlpZiAoIWZp
bGUuZ2V0UGFyZW50RmlsZSgpLmV4aXN0cygpKQ0KIAkJCQkJCWZpbGUuZ2V0UGFyZW50RmlsZSgp
Lm1rZGlycygpOw0KIAkJCQkJZmlsZS5jcmVhdGVOZXdGaWxlKCk7DQogCQkJCX0NCiAJCQkJb3V0
cHV0ID0gbmV3IEZpbGVPdXRwdXRTdHJlYW0oZmlsZSk7DQotCQkJfQ0KLQkJCWlmIChqYXIpIHsN
CisJCQl9IGVsc2Ugew0KIAkJCQlpZiAoZmlsZS5leGlzdHMoKSkgew0KIAkJCQkJZmlsZS5kZWxl
dGUoKTsNCiAJCQkJfQ0K
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>86586</attachid>
            <date>2008-01-10 14:12:00 -0500</date>
            <delta_ts>2008-01-10 14:26:25 -0500</delta_ts>
            <desc>Repository Consistency v02</desc>
            <filename>patch-repositoryConsistency_v02.txt</filename>
            <type>text/plain</type>
            <size>25919</size>
            <attacher name="Tim Mok">timothym</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UuZXF1aW5veC5w
Mi50ZXN0cw0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9lcXVpbm94L3AyL3Rlc3RzL2FydGlmYWN0
L3JlcG9zaXRvcnkvU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5VGVzdC5qYXZhDQo9PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9lcXVpbm94LWluY3ViYXRvci9wcm92aXNpb25p
bmcvb3JnLmVjbGlwc2UuZXF1aW5veC5wMi50ZXN0cy9zcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9w
Mi90ZXN0cy9hcnRpZmFjdC9yZXBvc2l0b3J5L1NpbXBsZUFydGlmYWN0UmVwb3NpdG9yeVRlc3Qu
amF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuMg0KZGlmZiAtdSAtcjEuMiBTaW1wbGVBcnRp
ZmFjdFJlcG9zaXRvcnlUZXN0LmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9wMi90
ZXN0cy9hcnRpZmFjdC9yZXBvc2l0b3J5L1NpbXBsZUFydGlmYWN0UmVwb3NpdG9yeVRlc3QuamF2
YQkyMCBEZWMgMjAwNyAxOTowMDowMiAtMDAwMAkxLjINCisrKyBzcmMvb3JnL2VjbGlwc2UvZXF1
aW5veC9wMi90ZXN0cy9hcnRpZmFjdC9yZXBvc2l0b3J5L1NpbXBsZUFydGlmYWN0UmVwb3NpdG9y
eVRlc3QuamF2YQkxMCBKYW4gMjAwOCAxOTowNjo0OCAtMDAwMA0KQEAgLTEwLDEwICsxMCwxOCBA
QA0KICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuZXF1aW5v
eC5wMi50ZXN0cy5hcnRpZmFjdC5yZXBvc2l0b3J5Ow0KIA0KK2ltcG9ydCBqYXZhLmlvLkZpbGU7
DQogaW1wb3J0IGphdmEubmV0Lk1hbGZvcm1lZFVSTEV4Y2VwdGlvbjsNCiBpbXBvcnQgamF2YS5u
ZXQuVVJMOw0KIGltcG9ydCBqdW5pdC5mcmFtZXdvcmsuVGVzdENhc2U7DQogaW1wb3J0IG9yZy5l
Y2xpcHNlLmVxdWlub3guaW50ZXJuYWwucDIuYXJ0aWZhY3QucmVwb3NpdG9yeS5zaW1wbGUuU2lt
cGxlQXJ0aWZhY3RSZXBvc2l0b3J5Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5lcXVpbm94LmludGVy
bmFsLnAyLmNvcmUuaGVscGVycy5TZXJ2aWNlSGVscGVyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5l
cXVpbm94LnAyLmFydGlmYWN0LnJlcG9zaXRvcnkuSUFydGlmYWN0UmVwb3NpdG9yeTsNCitpbXBv
cnQgb3JnLmVjbGlwc2UuZXF1aW5veC5wMi5hcnRpZmFjdC5yZXBvc2l0b3J5LklBcnRpZmFjdFJl
cG9zaXRvcnlNYW5hZ2VyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5lcXVpbm94LnAyLmNvcmUucmVw
b3NpdG9yeS5JUmVwb3NpdG9yeTsNCitpbXBvcnQgb3JnLmVjbGlwc2UuZXF1aW5veC5wMi5tZXRh
ZGF0YS5nZW5lcmF0b3IuRWNsaXBzZUluc3RhbGxHZW5lcmF0b3JJbmZvUHJvdmlkZXI7DQoraW1w
b3J0IG9yZy5lY2xpcHNlLmVxdWlub3gucDIubWV0YWRhdGEuZ2VuZXJhdG9yLkdlbmVyYXRvcjsN
CitpbXBvcnQgb3JnLmVjbGlwc2UuZXF1aW5veC5wMi50ZXN0cy5UZXN0QWN0aXZhdG9yOw0KIA0K
IHB1YmxpYyBjbGFzcyBTaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnlUZXN0IGV4dGVuZHMgVGVzdENh
c2Ugew0KIA0KQEAgLTMyLDE5ICs0MCw5NSBAQA0KIAkJYXNzZXJ0RXF1YWxzKGJhc2UsIFNpbXBs
ZUFydGlmYWN0UmVwb3NpdG9yeS5nZXRBY3R1YWxMb2NhdGlvbihiYXNlLCBmYWxzZSkpOw0KIAl9
DQogDQotCXB1YmxpYyB2b2lkIHRlc3RHZXRBY3R1YWxMb2NhdGlvbkd6aXAxKCkgdGhyb3dzIE1h
bGZvcm1lZFVSTEV4Y2VwdGlvbiB7DQorCXB1YmxpYyB2b2lkIHRlc3RHZXRBY3R1YWxMb2NhdGlv
bkNvbXByZXNzZWQxKCkgdGhyb3dzIE1hbGZvcm1lZFVSTEV4Y2VwdGlvbiB7DQogCQlVUkwgYmFz
ZSA9IG5ldyBVUkwoImh0dHA6Ly9sb2NhbGhvc3QvYXJ0aWZhY3RSZXBvc2l0b3J5Iik7DQotCQlh
c3NlcnRFcXVhbHMobmV3IFVSTChiYXNlICsgIi9hcnRpZmFjdHMueG1sLmd6IiksIFNpbXBsZUFy
dGlmYWN0UmVwb3NpdG9yeS5nZXRBY3R1YWxMb2NhdGlvbihiYXNlLCB0cnVlKSk7DQorCQlhc3Nl
cnRFcXVhbHMobmV3IFVSTChiYXNlICsgIi9hcnRpZmFjdHMuamFyIiksIFNpbXBsZUFydGlmYWN0
UmVwb3NpdG9yeS5nZXRBY3R1YWxMb2NhdGlvbihiYXNlLCB0cnVlKSk7DQogCX0NCiANCi0JcHVi
bGljIHZvaWQgdGVzdEdldEFjdHVhbExvY2F0aW9uR3ppcDIoKSB0aHJvd3MgTWFsZm9ybWVkVVJM
RXhjZXB0aW9uIHsNCisJcHVibGljIHZvaWQgdGVzdEdldEFjdHVhbExvY2F0aW9uQ29tcHJlc3Nl
ZDIoKSB0aHJvd3MgTWFsZm9ybWVkVVJMRXhjZXB0aW9uIHsNCiAJCVVSTCBiYXNlID0gbmV3IFVS
TCgiaHR0cDovL2xvY2FsaG9zdC9hcnRpZmFjdFJlcG9zaXRvcnkvIik7DQotCQlhc3NlcnRFcXVh
bHMobmV3IFVSTChiYXNlICsgImFydGlmYWN0cy54bWwuZ3oiKSwgU2ltcGxlQXJ0aWZhY3RSZXBv
c2l0b3J5LmdldEFjdHVhbExvY2F0aW9uKGJhc2UsIHRydWUpKTsNCisJCWFzc2VydEVxdWFscyhu
ZXcgVVJMKGJhc2UgKyAiYXJ0aWZhY3RzLmphciIpLCBTaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnku
Z2V0QWN0dWFsTG9jYXRpb24oYmFzZSwgdHJ1ZSkpOw0KIAl9DQogDQotCXB1YmxpYyB2b2lkIHRl
c3RHZXRBY3R1YWxMb2NhdGlvbkd6aXAzKCkgdGhyb3dzIE1hbGZvcm1lZFVSTEV4Y2VwdGlvbiB7
DQotCQlVUkwgYmFzZSA9IG5ldyBVUkwoImh0dHA6Ly9sb2NhbGhvc3QvYXJ0aWZhY3RSZXBvc2l0
b3J5L2FydGlmYWN0cy54bWwuZ3oiKTsNCisJcHVibGljIHZvaWQgdGVzdEdldEFjdHVhbExvY2F0
aW9uQ29tcHJlc3NlZDMoKSB0aHJvd3MgTWFsZm9ybWVkVVJMRXhjZXB0aW9uIHsNCisJCVVSTCBi
YXNlID0gbmV3IFVSTCgiaHR0cDovL2xvY2FsaG9zdC9hcnRpZmFjdFJlcG9zaXRvcnkvYXJ0aWZh
Y3RzLmphciIpOw0KIAkJYXNzZXJ0RXF1YWxzKGJhc2UsIFNpbXBsZUFydGlmYWN0UmVwb3NpdG9y
eS5nZXRBY3R1YWxMb2NhdGlvbihiYXNlLCB0cnVlKSk7DQogCX0NCiANCisJcHJpdmF0ZSBJQXJ0
aWZhY3RSZXBvc2l0b3J5TWFuYWdlciBnZXRBcnRpZmFjdFJlcG9zaXRvcnlNYW5hZ2VyKCkgew0K
KwkJcmV0dXJuIChJQXJ0aWZhY3RSZXBvc2l0b3J5TWFuYWdlcikgU2VydmljZUhlbHBlci5nZXRT
ZXJ2aWNlKFRlc3RBY3RpdmF0b3IuZ2V0Q29udGV4dCgpLCBJQXJ0aWZhY3RSZXBvc2l0b3J5TWFu
YWdlci5jbGFzcy5nZXROYW1lKCkpOw0KKwl9DQorDQorCXB1YmxpYyB2b2lkIHRlc3RDb21wcmVz
c2VkUmVwb3NpdG9yeSgpIHRocm93cyBNYWxmb3JtZWRVUkxFeGNlcHRpb24gew0KKwkJSUFydGlm
YWN0UmVwb3NpdG9yeU1hbmFnZXIgYXJ0aWZhY3RSZXBvc2l0b3J5TWFuYWdlciA9IGdldEFydGlm
YWN0UmVwb3NpdG9yeU1hbmFnZXIoKTsNCisJCVN0cmluZyB0ZW1wRGlyID0gU3lzdGVtLmdldFBy
b3BlcnR5KCJqYXZhLmlvLnRtcGRpciIpOw0KKwkJRmlsZSByZXBvTG9jYXRpb24gPSBuZXcgRmls
ZSh0ZW1wRGlyLCAiU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5VGVzdCIpOw0KKwkJSUFydGlmYWN0
UmVwb3NpdG9yeSByZXBvID0gYXJ0aWZhY3RSZXBvc2l0b3J5TWFuYWdlci5jcmVhdGVSZXBvc2l0
b3J5KHJlcG9Mb2NhdGlvbi50b1VSTCgpLCAiYXJ0aWZhY3QgbmFtZSIsICJvcmcuZWNsaXBzZS5l
cXVpbm94LnAyLmFydGlmYWN0LnJlcG9zaXRvcnkuc2ltcGxlUmVwb3NpdG9yeSIpOw0KKwkJcmVw
by5zZXRQcm9wZXJ0eShJUmVwb3NpdG9yeS5QUk9QX0NPTVBSRVNTRUQsICJ0cnVlIik7DQorCQlF
Y2xpcHNlSW5zdGFsbEdlbmVyYXRvckluZm9Qcm92aWRlciBwcm92aWRlciA9IG5ldyBFY2xpcHNl
SW5zdGFsbEdlbmVyYXRvckluZm9Qcm92aWRlcigpOw0KKwkJcHJvdmlkZXIuc2V0QXJ0aWZhY3RS
ZXBvc2l0b3J5KHJlcG8pOw0KKwkJcHJvdmlkZXIuaW5pdGlhbGl6ZShyZXBvTG9jYXRpb24pOw0K
KwkJcHJvdmlkZXIuc2V0Um9vdFZlcnNpb24oIjMuMyIpOw0KKwkJcHJvdmlkZXIuc2V0Um9vdElk
KCJzZGsiKTsNCisJCXByb3ZpZGVyLnNldEZsYXZvcigidG9vbGluZyIpOw0KKwkJbmV3IEdlbmVy
YXRvcihwcm92aWRlcikuZ2VuZXJhdGUoKTsNCisJCUZpbGUgZmlsZXNbXSA9IHJlcG9Mb2NhdGlv
bi5saXN0RmlsZXMoKTsNCisJCWJvb2xlYW4gamFyRmlsZVByZXNlbnQgPSBmYWxzZTsNCisJCWJv
b2xlYW4gYXJ0aWZhY3RGaWxlUHJlc2VudCA9IGZhbHNlOw0KKwkJZm9yIChpbnQgaSA9IDA7IGkg
PCBmaWxlcy5sZW5ndGg7IGkrKykgew0KKwkJCWlmICgiYXJ0aWZhY3RzLmphciIuZXF1YWxzSWdu
b3JlQ2FzZShmaWxlc1tpXS5nZXROYW1lKCkpKSB7DQorCQkJCWphckZpbGVQcmVzZW50ID0gdHJ1
ZTsNCisJCQl9DQorCQkJaWYgKCJhcnRpZmFjdHMueG1sIi5lcXVhbHNJZ25vcmVDYXNlKGZpbGVz
W2ldLmdldE5hbWUoKSkpIHsNCisJCQkJYXJ0aWZhY3RGaWxlUHJlc2VudCA9IGZhbHNlOw0KKwkJ
CX0NCisJCX0NCisJCWlmICghamFyRmlsZVByZXNlbnQpDQorCQkJZmFpbCgiUmVwb3NpdG9yeSBz
aG91bGQgY3JlYXRlIEpBUiBmb3IgYXJ0aWZhY3QueG1sIik7DQorCQlpZiAoYXJ0aWZhY3RGaWxl
UHJlc2VudCkNCisJCQlmYWlsKCJSZXBvc2l0b3J5IHNob3VsZCBub3QgY3JlYXRlIGFydGlmYWN0
LnhtbCIpOw0KKwkJZGVsZXRlKHJlcG9Mb2NhdGlvbik7DQorCX0NCisNCisJcHVibGljIHZvaWQg
dGVzdFVuY29tcHJlc3NlZFJlcG9zaXRvcnkoKSB0aHJvd3MgTWFsZm9ybWVkVVJMRXhjZXB0aW9u
IHsNCisJCUlBcnRpZmFjdFJlcG9zaXRvcnlNYW5hZ2VyIGFydGlmYWN0UmVwb3NpdG9yeU1hbmFn
ZXIgPSBnZXRBcnRpZmFjdFJlcG9zaXRvcnlNYW5hZ2VyKCk7DQorCQlTdHJpbmcgdGVtcERpciA9
IFN5c3RlbS5nZXRQcm9wZXJ0eSgiamF2YS5pby50bXBkaXIiKTsNCisJCUZpbGUgcmVwb0xvY2F0
aW9uID0gbmV3IEZpbGUodGVtcERpciwgIlNpbXBsZUFydGlmYWN0UmVwb3NpdG9yeVRlc3QiKTsN
CisJCUlBcnRpZmFjdFJlcG9zaXRvcnkgcmVwbyA9IGFydGlmYWN0UmVwb3NpdG9yeU1hbmFnZXIu
Y3JlYXRlUmVwb3NpdG9yeShyZXBvTG9jYXRpb24udG9VUkwoKSwgImFydGlmYWN0IG5hbWUiLCAi
b3JnLmVjbGlwc2UuZXF1aW5veC5wMi5hcnRpZmFjdC5yZXBvc2l0b3J5LnNpbXBsZVJlcG9zaXRv
cnkiKTsNCisJCXJlcG8uc2V0UHJvcGVydHkoSVJlcG9zaXRvcnkuUFJPUF9DT01QUkVTU0VELCAi
ZmFsc2UiKTsNCisJCUVjbGlwc2VJbnN0YWxsR2VuZXJhdG9ySW5mb1Byb3ZpZGVyIHByb3ZpZGVy
ID0gbmV3IEVjbGlwc2VJbnN0YWxsR2VuZXJhdG9ySW5mb1Byb3ZpZGVyKCk7DQorCQlwcm92aWRl
ci5zZXRBcnRpZmFjdFJlcG9zaXRvcnkocmVwbyk7DQorCQlwcm92aWRlci5pbml0aWFsaXplKHJl
cG9Mb2NhdGlvbik7DQorCQlwcm92aWRlci5zZXRSb290VmVyc2lvbigiMy4zIik7DQorCQlwcm92
aWRlci5zZXRSb290SWQoInNkayIpOw0KKwkJcHJvdmlkZXIuc2V0Rmxhdm9yKCJ0b29saW5nIik7
DQorCQluZXcgR2VuZXJhdG9yKHByb3ZpZGVyKS5nZW5lcmF0ZSgpOw0KKwkJRmlsZSBmaWxlc1td
ID0gcmVwb0xvY2F0aW9uLmxpc3RGaWxlcygpOw0KKwkJYm9vbGVhbiBqYXJGaWxlUHJlc2VudCA9
IGZhbHNlOw0KKwkJYm9vbGVhbiBhcnRpZmFjdEZpbGVQcmVzZW50ID0gZmFsc2U7DQorCQlmb3Ig
KGludCBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7DQorCQkJaWYgKCJhcnRpZmFjdHMu
amFyIi5lcXVhbHNJZ25vcmVDYXNlKGZpbGVzW2ldLmdldE5hbWUoKSkpIHsNCisJCQkJamFyRmls
ZVByZXNlbnQgPSB0cnVlOw0KKwkJCX0NCisJCQlpZiAoImFydGlmYWN0cy54bWwiLmVxdWFsc0ln
bm9yZUNhc2UoZmlsZXNbaV0uZ2V0TmFtZSgpKSkgew0KKwkJCQlhcnRpZmFjdEZpbGVQcmVzZW50
ID0gdHJ1ZTsNCisJCQl9DQorCQl9DQorCQlpZiAoamFyRmlsZVByZXNlbnQpDQorCQkJZmFpbCgi
UmVwb3NpdG9yeSBzaG91bGQgbm90IGNyZWF0ZSBKQVIgZm9yIGFydGlmYWN0LnhtbCIpOw0KKwkJ
aWYgKCFhcnRpZmFjdEZpbGVQcmVzZW50KQ0KKwkJCWZhaWwoIlJlcG9zaXRvcnkgc2hvdWxkIGNy
ZWF0ZSBhcnRpZmFjdC54bWwiKTsNCisJCWRlbGV0ZShyZXBvTG9jYXRpb24pOw0KKwl9DQorDQor
CXByaXZhdGUgYm9vbGVhbiBkZWxldGUoRmlsZSBmaWxlKSB7DQorCQlpZiAoIWZpbGUuZXhpc3Rz
KCkpDQorCQkJcmV0dXJuIHRydWU7DQorCQlpZiAoZmlsZS5pc0RpcmVjdG9yeSgpKSB7DQorCQkJ
RmlsZVtdIGNoaWxkcmVuID0gZmlsZS5saXN0RmlsZXMoKTsNCisJCQlmb3IgKGludCBpID0gMDsg
aSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKQ0KKwkJCQlkZWxldGUoY2hpbGRyZW5baV0pOw0KKwkJ
fQ0KKwkJcmV0dXJuIGZpbGUuZGVsZXRlKCk7DQorCX0NCiB9DQpJbmRleDogc3JjL29yZy9lY2xp
cHNlL2VxdWlub3gvcDIvdGVzdHMvbWV0YWRhdGEvcmVwb3NpdG9yeS9Mb2NhbE1ldGFkYXRhUmVw
b3NpdG9yeVRlc3QuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uv
ZXF1aW5veC1pbmN1YmF0b3IvcHJvdmlzaW9uaW5nL29yZy5lY2xpcHNlLmVxdWlub3gucDIudGVz
dHMvc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvcDIvdGVzdHMvbWV0YWRhdGEvcmVwb3NpdG9yeS9M
b2NhbE1ldGFkYXRhUmVwb3NpdG9yeVRlc3QuamF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEu
Mg0KZGlmZiAtdSAtcjEuMiBMb2NhbE1ldGFkYXRhUmVwb3NpdG9yeVRlc3QuamF2YQ0KLS0tIHNy
Yy9vcmcvZWNsaXBzZS9lcXVpbm94L3AyL3Rlc3RzL21ldGFkYXRhL3JlcG9zaXRvcnkvTG9jYWxN
ZXRhZGF0YVJlcG9zaXRvcnlUZXN0LmphdmEJOCBKYW4gMjAwOCAyMDowNTozNCAtMDAwMAkxLjIN
CisrKyBzcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9wMi90ZXN0cy9tZXRhZGF0YS9yZXBvc2l0b3J5
L0xvY2FsTWV0YWRhdGFSZXBvc2l0b3J5VGVzdC5qYXZhCTEwIEphbiAyMDA4IDE5OjA2OjQ4IC0w
MDAwDQpAQCAtNjQsNyArNjQsNyBAQA0KIAkJYm9vbGVhbiB4bWxGaWxlUHJlc2VudCA9IGZhbHNl
Ow0KIAkJLy8gb25lIG9mIHRoZSBmaWxlcyBpbiB0aGUgcmVwb3NpdG9yeSBzaG91bGQgYmUgdGhl
IGNvbnRlbnQueG1sLmphcg0KIAkJZm9yIChpbnQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkr
Kykgew0KLQkJCWlmICgiY29udGVudC54bWwuamFyIi5lcXVhbHNJZ25vcmVDYXNlKGZpbGVzW2ld
LmdldE5hbWUoKSkpIHsNCisJCQlpZiAoImNvbnRlbnQuamFyIi5lcXVhbHNJZ25vcmVDYXNlKGZp
bGVzW2ldLmdldE5hbWUoKSkpIHsNCiAJCQkJamFyRmlsZVByZXNlbnQgPSB0cnVlOw0KIAkJCX0N
CiAJCQlpZiAoImNvbnRlbnQueG1sIi5lcXVhbHNJZ25vcmVDYXNlKGZpbGVzW2ldLmdldE5hbWUo
KSkpIHsNCkBAIC0xMzEsNyArMTMxLDcgQEANCiAJCWJvb2xlYW4gamFyRmlsZVByZXNlbnQgPSBm
YWxzZTsNCiAJCS8vIG5vbmUgb2YgdGhlIGZpbGVzIGluIHRoZSByZXBvc2l0b3J5IHNob3VsZCBi
ZSB0aGUgY29udGVudC54bWwuamFyDQogCQlmb3IgKGludCBpID0gMDsgaSA8IGZpbGVzLmxlbmd0
aDsgaSsrKSB7DQotCQkJaWYgKCJjb250ZW50LnhtbC5qYXIiLmVxdWFsc0lnbm9yZUNhc2UoZmls
ZXNbaV0uZ2V0TmFtZSgpKSkgew0KKwkJCWlmICgiY29udGVudC5qYXIiLmVxdWFsc0lnbm9yZUNh
c2UoZmlsZXNbaV0uZ2V0TmFtZSgpKSkgew0KIAkJCQlqYXJGaWxlUHJlc2VudCA9IHRydWU7DQog
CQkJfQ0KIAkJfQ0KI1Agb3JnLmVjbGlwc2UuZXF1aW5veC5wMi5tZXRhZGF0YS5nZW5lcmF0b3IN
CkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9tZXRhZGF0YS9nZW5l
cmF0b3IvRWNsaXBzZUdlbmVyYXRvckFwcGxpY2F0aW9uLmphdmENCj09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBm
aWxlOiAvY3Zzcm9vdC9lY2xpcHNlL2VxdWlub3gtaW5jdWJhdG9yL3Byb3Zpc2lvbmluZy9vcmcu
ZWNsaXBzZS5lcXVpbm94LnAyLm1ldGFkYXRhLmdlbmVyYXRvci9zcmMvb3JnL2VjbGlwc2UvZXF1
aW5veC9pbnRlcm5hbC9wMi9tZXRhZGF0YS9nZW5lcmF0b3IvRWNsaXBzZUdlbmVyYXRvckFwcGxp
Y2F0aW9uLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjExDQpkaWZmIC11IC1yMS4xMSBF
Y2xpcHNlR2VuZXJhdG9yQXBwbGljYXRpb24uamF2YQ0KLS0tIHNyYy9vcmcvZWNsaXBzZS9lcXVp
bm94L2ludGVybmFsL3AyL21ldGFkYXRhL2dlbmVyYXRvci9FY2xpcHNlR2VuZXJhdG9yQXBwbGlj
YXRpb24uamF2YQk4IEphbiAyMDA4IDIwOjA1OjMxIC0wMDAwCTEuMTENCisrKyBzcmMvb3JnL2Vj
bGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9tZXRhZGF0YS9nZW5lcmF0b3IvRWNsaXBzZUdlbmVy
YXRvckFwcGxpY2F0aW9uLmphdmEJMTAgSmFuIDIwMDggMTk6MDY6NDggLTAwMDANCkBAIC0xMDUs
OCArMTA1LDEwIEBADQogCQkvLyBUT0RPIGZvciBub3cgY3JlYXRlIGEgU2ltcGxlIHJlcG8gYnkg
ZGVmYXVsdC4NCiAJCVN0cmluZyByZXBvc2l0b3J5TmFtZSA9IGFydGlmYWN0TG9jYXRpb24gKyAi
IC0gYXJ0aWZhY3RzIjsgLy8kTk9OLU5MUy0xJA0KIAkJSUFydGlmYWN0UmVwb3NpdG9yeSByZXN1
bHQgPSBtYW5hZ2VyLmNyZWF0ZVJlcG9zaXRvcnkobG9jYXRpb24sIHJlcG9zaXRvcnlOYW1lLCAi
b3JnLmVjbGlwc2UuZXF1aW5veC5wMi5hcnRpZmFjdC5yZXBvc2l0b3J5LnNpbXBsZVJlcG9zaXRv
cnkiKTsgLy8kTk9OLU5MUy0xJA0KLQkJaWYgKHJlc3VsdCAhPSBudWxsKQ0KKwkJaWYgKHJlc3Vs
dCAhPSBudWxsKSB7DQogCQkJcHJvdmlkZXIuc2V0QXJ0aWZhY3RSZXBvc2l0b3J5KHJlc3VsdCk7
DQorCQkJcmVzdWx0LnNldFByb3BlcnR5KElSZXBvc2l0b3J5LlBST1BfQ09NUFJFU1NFRCwgY29t
cHJlc3MpOw0KKwkJfQ0KIAl9DQogDQogCXB1YmxpYyB2b2lkIGluaXRpYWxpemVGb3JJbnBsYWNl
KEVjbGlwc2VJbnN0YWxsR2VuZXJhdG9ySW5mb1Byb3ZpZGVyIHByb3ZpZGVyKSB7DQpAQCAtMTQ3
LDkgKzE0OSwxMCBAQA0KIAkJLy8gVE9ETyBmb3Igbm93IGNyZWF0ZSBhIHJhbmRvbSByZXBvIGJ5
IGRlZmF1bHQuDQogCQlTdHJpbmcgcmVwb3NpdG9yeU5hbWUgPSBtZXRhZGF0YUxvY2F0aW9uICsg
IiAtIG1ldGFkYXRhIjsgLy8kTk9OLU5MUy0xJA0KIAkJSU1ldGFkYXRhUmVwb3NpdG9yeSByZXN1
bHQgPSBtYW5hZ2VyLmNyZWF0ZVJlcG9zaXRvcnkobG9jYXRpb24sIHJlcG9zaXRvcnlOYW1lLCBJ
TWV0YWRhdGFSZXBvc2l0b3J5TWFuYWdlci5UWVBFX1NJTVBMRV9SRVBPU0lUT1JZKTsNCi0JCXJl
c3VsdC5zZXRQcm9wZXJ0eShJUmVwb3NpdG9yeS5QUk9QX0NPTVBSRVNTRUQsIGNvbXByZXNzKTsN
Ci0JCWlmIChyZXN1bHQgIT0gbnVsbCkNCisJCWlmIChyZXN1bHQgIT0gbnVsbCkgew0KKwkJCXJl
c3VsdC5zZXRQcm9wZXJ0eShJUmVwb3NpdG9yeS5QUk9QX0NPTVBSRVNTRUQsIGNvbXByZXNzKTsN
CiAJCQlwcm92aWRlci5zZXRNZXRhZGF0YVJlcG9zaXRvcnkocmVzdWx0KTsNCisJCX0NCiAJfQ0K
IA0KIAlwcml2YXRlIHZvaWQgaW5pdGlhbGl6ZVJlcG9zaXRvcmllcyhFY2xpcHNlSW5zdGFsbEdl
bmVyYXRvckluZm9Qcm92aWRlciBwcm92aWRlcikgew0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9l
cXVpbm94L3AyL21ldGFkYXRhL2dlbmVyYXRvci9HZW5lcmF0b3IuamF2YQ0KPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0K
UkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2UvZXF1aW5veC1pbmN1YmF0b3IvcHJvdmlzaW9uaW5n
L29yZy5lY2xpcHNlLmVxdWlub3gucDIubWV0YWRhdGEuZ2VuZXJhdG9yL3NyYy9vcmcvZWNsaXBz
ZS9lcXVpbm94L3AyL21ldGFkYXRhL2dlbmVyYXRvci9HZW5lcmF0b3IuamF2YSx2DQpyZXRyaWV2
aW5nIHJldmlzaW9uIDEuMzUNCmRpZmYgLXUgLXIxLjM1IEdlbmVyYXRvci5qYXZhDQotLS0gc3Jj
L29yZy9lY2xpcHNlL2VxdWlub3gvcDIvbWV0YWRhdGEvZ2VuZXJhdG9yL0dlbmVyYXRvci5qYXZh
CTIgSmFuIDIwMDggMjI6Mzk6MTIgLTAwMDAJMS4zNQ0KKysrIHNyYy9vcmcvZWNsaXBzZS9lcXVp
bm94L3AyL21ldGFkYXRhL2dlbmVyYXRvci9HZW5lcmF0b3IuamF2YQkxMCBKYW4gMjAwOCAxOTow
Njo0OCAtMDAwMA0KQEAgLTIyLDYgKzIyLDcgQEANCiBpbXBvcnQgb3JnLmVjbGlwc2UuZXF1aW5v
eC5wMi5tZXRhZGF0YS4qOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5lcXVpbm94LnAyLm1ldGFkYXRh
Lk1ldGFkYXRhRmFjdG9yeS5JbnN0YWxsYWJsZVVuaXREZXNjcmlwdGlvbjsNCiBpbXBvcnQgb3Jn
LmVjbGlwc2UuZXF1aW5veC5wMi5tZXRhZGF0YS5NZXRhZGF0YUZhY3RvcnkuSW5zdGFsbGFibGVV
bml0RnJhZ21lbnREZXNjcmlwdGlvbjsNCitpbXBvcnQgb3JnLmVjbGlwc2UuZXF1aW5veC5wMi5t
ZXRhZGF0YS5yZXBvc2l0b3J5LklNZXRhZGF0YVJlcG9zaXRvcnk7DQogaW1wb3J0IG9yZy5lY2xp
cHNlLm9zZ2kuc2VydmljZS5yZXNvbHZlci4qOw0KIGltcG9ydCBvcmcub3NnaS5mcmFtZXdvcmsu
VmVyc2lvbjsNCiANCkBAIC0zMiwxNiArMzMsNiBAQA0KIA0KIAkvLwlwcml2YXRlIHN0YXRpYyBT
dHJpbmdbXVtdIGRlZmF1bHRNYXBwaW5nUnVsZXMgPSBuZXcgU3RyaW5nW11bXSB7IHsiKCYgKG5h
bWVzcGFjZT1lY2xpcHNlKSAoY2xhc3NpZmllcj1mZWF0dXJlKSkiLCAiJHtyZXBvVXJsfS9mZWF0
dXJlLyR7aWR9XyR7dmVyc2lvbn0ifSwgeyIoJiAobmFtZXNwYWNlPWVjbGlwc2UpIChjbGFzc2lm
aWVyPXBsdWdpbikpIiwgIiR7cmVwb1VybH0vcGx1Z2luLyR7aWR9XyR7dmVyc2lvbn0ifSwgeyIo
JiAobmFtZXNwYWNlPWVjbGlwc2UpIChjbGFzc2lmaWVyPW5hdGl2ZSkpIiwgIiR7cmVwb1VybH0v
bmF0aXZlLyR7aWR9XyR7dmVyc2lvbn0ifX07DQogDQotCXByaXZhdGUgZmluYWwgSUdlbmVyYXRv
ckluZm8gaW5mbzsNCi0NCi0JLyoqDQotCSAqIFNob3J0IHRlcm0gZml4IHRvIGVuc3VyZSBJVXMg
dGhhdCBoYXZlIG5vIGNvcnJlc3BvbmRpbmcgY2F0ZWdvcnkgYXJlIG5vdCBsb3N0Lg0KLQkgKiBT
ZWUgaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19idWcuY2dpP2lkPTIxMTUyMS4N
Ci0JICovDQotCXByb3RlY3RlZCBmaW5hbCBTZXQgcm9vdENhdGVnb3J5ID0gbmV3IEhhc2hTZXQo
KTsNCi0NCi0JcHJpdmF0ZSBTdGF0ZU9iamVjdEZhY3Rvcnkgc3RhdGVPYmplY3RGYWN0b3J5Ow0K
LQ0KIAkvKioNCiAJICogQ29udmVydCBhIGxpc3Qgb2YgdG9rZW5zIGludG8gYW4gYXJyYXkuIFRo
ZSBsaXN0IHNlcGFyYXRvciBoYXMgdG8gYmUNCiAJICogc3BlY2lmaWVkLg0KQEAgLTU4LDYgKzQ5
LDE2IEBADQogCQlyZXR1cm4gKFN0cmluZ1tdKSByZXN1bHQudG9BcnJheShuZXcgU3RyaW5nW3Jl
c3VsdC5zaXplKCldKTsNCiAJfQ0KIA0KKwlwcml2YXRlIGZpbmFsIElHZW5lcmF0b3JJbmZvIGlu
Zm87DQorDQorCS8qKg0KKwkgKiBTaG9ydCB0ZXJtIGZpeCB0byBlbnN1cmUgSVVzIHRoYXQgaGF2
ZSBubyBjb3JyZXNwb25kaW5nIGNhdGVnb3J5IGFyZSBub3QgbG9zdC4NCisJICogU2VlIGh0dHBz
Oi8vYnVncy5lY2xpcHNlLm9yZy9idWdzL3Nob3dfYnVnLmNnaT9pZD0yMTE1MjEuDQorCSAqLw0K
Kwlwcm90ZWN0ZWQgZmluYWwgU2V0IHJvb3RDYXRlZ29yeSA9IG5ldyBIYXNoU2V0KCk7DQorDQor
CXByaXZhdGUgU3RhdGVPYmplY3RGYWN0b3J5IHN0YXRlT2JqZWN0RmFjdG9yeTsNCisNCiAJcHVi
bGljIEdlbmVyYXRvcihJR2VuZXJhdG9ySW5mbyBpbmZvUHJvdmlkZXIpIHsNCiAJCXRoaXMuaW5m
byA9IGluZm9Qcm92aWRlcjsNCiAJCS8vIFRPRE8gbmVlZCB0byBmaWd1cmUgYSBiZXR0ZXIgd2F5
IG9mIGNvbmZpZ3VyaW5nIHRoZSBnZW5lcmF0b3IuLi4NCkBAIC0xNzAsNyArMTcxLDkgQEANCiAJ
CS8vCQlpZiAoaW5mby5wdWJsaXNoQXJ0aWZhY3RzKCkgfHwgaW5mby5wdWJsaXNoQXJ0aWZhY3RS
ZXBvc2l0b3J5KCkpIHsNCiAJCS8vCQkJcGVyc2lzdGVuY2Uuc2F2ZUFydGlmYWN0UmVwb3NpdG9y
eSgpOw0KIAkJLy8JCX0NCi0JCWluZm8uZ2V0TWV0YWRhdGFSZXBvc2l0b3J5KCkuYWRkSW5zdGFs
bGFibGVVbml0cygoSUluc3RhbGxhYmxlVW5pdFtdKSBpdXMudG9BcnJheShuZXcgSUluc3RhbGxh
YmxlVW5pdFtpdXMuc2l6ZSgpXSkpOw0KKwkJSU1ldGFkYXRhUmVwb3NpdG9yeSBtZXRhZGF0YVJl
cG9zaXRvcnkgPSBpbmZvLmdldE1ldGFkYXRhUmVwb3NpdG9yeSgpOw0KKwkJaWYgKG1ldGFkYXRh
UmVwb3NpdG9yeSAhPSBudWxsKQ0KKwkJCW1ldGFkYXRhUmVwb3NpdG9yeS5hZGRJbnN0YWxsYWJs
ZVVuaXRzKChJSW5zdGFsbGFibGVVbml0W10pIGl1cy50b0FycmF5KG5ldyBJSW5zdGFsbGFibGVV
bml0W2l1cy5zaXplKCldKSk7DQogDQogCQlyZXR1cm4gU3RhdHVzLk9LX1NUQVRVUzsNCiAJfQ0K
I1Agb3JnLmVjbGlwc2UuZXF1aW5veC5wMi5hcnRpZmFjdC5yZXBvc2l0b3J5DQpJbmRleDogc3Jj
L29yZy9lY2xpcHNlL2VxdWlub3gvaW50ZXJuYWwvcDIvYXJ0aWZhY3QvcmVwb3NpdG9yeS9zaW1w
bGUvU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5RmFjdG9yeS5qYXZhDQo9PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1Mg
ZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9lcXVpbm94LWluY3ViYXRvci9wcm92aXNpb25pbmcvb3Jn
LmVjbGlwc2UuZXF1aW5veC5wMi5hcnRpZmFjdC5yZXBvc2l0b3J5L3NyYy9vcmcvZWNsaXBzZS9l
cXVpbm94L2ludGVybmFsL3AyL2FydGlmYWN0L3JlcG9zaXRvcnkvc2ltcGxlL1NpbXBsZUFydGlm
YWN0UmVwb3NpdG9yeUZhY3RvcnkuamF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuNA0KZGlm
ZiAtdSAtcjEuNCBTaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnlGYWN0b3J5LmphdmENCi0tLSBzcmMv
b3JnL2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9hcnRpZmFjdC9yZXBvc2l0b3J5L3NpbXBs
ZS9TaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnlGYWN0b3J5LmphdmEJMTkgRGVjIDIwMDcgMTQ6Mzg6
MzggLTAwMDAJMS40DQorKysgc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvaW50ZXJuYWwvcDIvYXJ0
aWZhY3QvcmVwb3NpdG9yeS9zaW1wbGUvU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5RmFjdG9yeS5q
YXZhCTEwIEphbiAyMDA4IDE5OjA2OjQ5IC0wMDAwDQpAQCAtMTIsNyArMTIsOCBAQA0KIA0KIGlt
cG9ydCBqYXZhLmlvLio7DQogaW1wb3J0IGphdmEubmV0LlVSTDsNCi1pbXBvcnQgamF2YS51dGls
LnppcC5HWklQSW5wdXRTdHJlYW07DQoraW1wb3J0IGphdmEudXRpbC5qYXIuSmFyRW50cnk7DQor
aW1wb3J0IGphdmEudXRpbC5qYXIuSmFySW5wdXRTdHJlYW07DQogaW1wb3J0IG9yZy5lY2xpcHNl
LmNvcmUucnVudGltZS5JU3RhdHVzOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5lcXVpbm94LmludGVy
bmFsLnAyLmFydGlmYWN0LnJlcG9zaXRvcnkuRUNGVHJhbnNwb3J0Ow0KIGltcG9ydCBvcmcuZWNs
aXBzZS5lcXVpbm94LmludGVybmFsLnAyLmFydGlmYWN0LnJlcG9zaXRvcnkuVHJhbnNwb3J0Ow0K
QEAgLTMwLDE1ICszMSwxNSBAQA0KIAkJCS8vIFRPRE8gVGhpcyB0ZW1wb3JhcnkgZmlsZSBzdHVm
ZiBpcyBub3QgdmVyeSBlbGVnYW50LiANCiAJCQlPdXRwdXRTdHJlYW0gYXJ0aWZhY3RzID0gbnVs
bDsNCiAJCQl0ZW1wID0gRmlsZS5jcmVhdGVUZW1wRmlsZSgiYXJ0aWZhY3RzIiwgIi54bWwiKTsg
Ly8kTk9OLU5MUy0xJCAvLyROT04tTkxTLTIkDQotCQkJLy8gdHJ5IHdpdGggZ3ppcA0KLQkJCWJv
b2xlYW4gZ3ppcCA9IHRydWU7DQorCQkJLy8gdHJ5IHdpdGggY29tcHJlc3NlZA0KKwkJCWJvb2xl
YW4gY29tcHJlc3MgPSB0cnVlOw0KIAkJCXRyeSB7DQogCQkJCWFydGlmYWN0cyA9IG5ldyBCdWZm
ZXJlZE91dHB1dFN0cmVhbShuZXcgRmlsZU91dHB1dFN0cmVhbSh0ZW1wKSk7DQotCQkJCUlTdGF0
dXMgc3RhdHVzID0gZ2V0VHJhbnNwb3J0KCkuZG93bmxvYWQoU2ltcGxlQXJ0aWZhY3RSZXBvc2l0
b3J5LmdldEFjdHVhbExvY2F0aW9uKGxvY2F0aW9uLCBnemlwKS50b0V4dGVybmFsRm9ybSgpLCBh
cnRpZmFjdHMsIG51bGwpOw0KKwkJCQlJU3RhdHVzIHN0YXR1cyA9IGdldFRyYW5zcG9ydCgpLmRv
d25sb2FkKFNpbXBsZUFydGlmYWN0UmVwb3NpdG9yeS5nZXRBY3R1YWxMb2NhdGlvbihsb2NhdGlv
biwgY29tcHJlc3MpLnRvRXh0ZXJuYWxGb3JtKCksIGFydGlmYWN0cywgbnVsbCk7DQogCQkJCWlm
ICghc3RhdHVzLmlzT0soKSkgew0KLQkJCQkJLy8gcmV0cnkgdW56aXBwZWQNCi0JCQkJCWd6aXAg
PSBmYWxzZTsNCi0JCQkJCXN0YXR1cyA9IGdldFRyYW5zcG9ydCgpLmRvd25sb2FkKFNpbXBsZUFy
dGlmYWN0UmVwb3NpdG9yeS5nZXRBY3R1YWxMb2NhdGlvbihsb2NhdGlvbiwgZ3ppcCkudG9FeHRl
cm5hbEZvcm0oKSwgYXJ0aWZhY3RzLCBudWxsKTsNCisJCQkJCS8vIHJldHJ5IHVuY29tcHJlc3Nl
ZA0KKwkJCQkJY29tcHJlc3MgPSBmYWxzZTsNCisJCQkJCXN0YXR1cyA9IGdldFRyYW5zcG9ydCgp
LmRvd25sb2FkKFNpbXBsZUFydGlmYWN0UmVwb3NpdG9yeS5nZXRBY3R1YWxMb2NhdGlvbihsb2Nh
dGlvbiwgY29tcHJlc3MpLnRvRXh0ZXJuYWxGb3JtKCksIGFydGlmYWN0cywgbnVsbCk7DQogCQkJ
CQlpZiAoIXN0YXR1cy5pc09LKCkpDQogCQkJCQkJcmV0dXJuIG51bGw7DQogCQkJCX0NCkBAIC00
OSw4ICs1MCwxOSBAQA0KIAkJCUlucHV0U3RyZWFtIGRlc2NyaXB0b3JTdHJlYW0gPSBudWxsOw0K
IAkJCXRyeSB7DQogCQkJCWRlc2NyaXB0b3JTdHJlYW0gPSBuZXcgQnVmZmVyZWRJbnB1dFN0cmVh
bShuZXcgRmlsZUlucHV0U3RyZWFtKHRlbXApKTsNCi0JCQkJaWYgKGd6aXApDQotCQkJCQlkZXNj
cmlwdG9yU3RyZWFtID0gbmV3IEdaSVBJbnB1dFN0cmVhbShkZXNjcmlwdG9yU3RyZWFtKTsNCisJ
CQkJaWYgKGNvbXByZXNzKSB7DQorCQkJCQlVUkwgYWN0dWFsRmlsZSA9IFNpbXBsZUFydGlmYWN0
UmVwb3NpdG9yeS5nZXRBY3R1YWxMb2NhdGlvbihsb2NhdGlvbiwgZmFsc2UpOw0KKwkJCQkJSmFy
SW5wdXRTdHJlYW0gakluU3RyZWFtID0gbmV3IEphcklucHV0U3RyZWFtKGRlc2NyaXB0b3JTdHJl
YW0pOw0KKwkJCQkJSmFyRW50cnkgamFyRW50cnkgPSBqSW5TdHJlYW0uZ2V0TmV4dEphckVudHJ5
KCk7DQorCQkJCQlGaWxlIGYgPSBuZXcgRmlsZShhY3R1YWxGaWxlLmdldFBhdGgoKSk7DQorCQkJ
CQl3aGlsZSAoamFyRW50cnkgIT0gbnVsbCAmJiAoZi5jb21wYXJlVG8obmV3IEZpbGUoamFyRW50
cnkuZ2V0TmFtZSgpKSkpICE9IDApIHsNCisJCQkJCQlqYXJFbnRyeSA9IGpJblN0cmVhbS5nZXRO
ZXh0SmFyRW50cnkoKTsNCisJCQkJCX0NCisJCQkJCWlmIChqYXJFbnRyeSA9PSBudWxsKSB7DQor
CQkJCQkJdGhyb3cgbmV3IEZpbGVOb3RGb3VuZEV4Y2VwdGlvbigiUmVwb3NpdG9yeSBub3QgZm91
bmQgaW4gIiArIGFjdHVhbEZpbGUuZ2V0UGF0aCgpKTsgLy8kTk9OLU5MUy0xJA0KKwkJCQkJfQ0K
KwkJCQkJZGVzY3JpcHRvclN0cmVhbSA9IGpJblN0cmVhbTsNCisJCQkJfQ0KIAkJCQlTaW1wbGVB
cnRpZmFjdFJlcG9zaXRvcnlJTyBpbyA9IG5ldyBTaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnlJTygp
Ow0KIAkJCQlTaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnkgcmVzdWx0ID0gKFNpbXBsZUFydGlmYWN0
UmVwb3NpdG9yeSkgaW8ucmVhZChkZXNjcmlwdG9yU3RyZWFtKTsNCiAJCQkJcmVzdWx0LmluaXRp
YWxpemVBZnRlckxvYWQobG9jYXRpb24pOw0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9lcXVpbm94
L2ludGVybmFsL3AyL2FydGlmYWN0L3JlcG9zaXRvcnkvc2ltcGxlL1NpbXBsZUFydGlmYWN0UmVw
b3NpdG9yeS5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9lcXVp
bm94LWluY3ViYXRvci9wcm92aXNpb25pbmcvb3JnLmVjbGlwc2UuZXF1aW5veC5wMi5hcnRpZmFj
dC5yZXBvc2l0b3J5L3NyYy9vcmcvZWNsaXBzZS9lcXVpbm94L2ludGVybmFsL3AyL2FydGlmYWN0
L3JlcG9zaXRvcnkvc2ltcGxlL1NpbXBsZUFydGlmYWN0UmVwb3NpdG9yeS5qYXZhLHYNCnJldHJp
ZXZpbmcgcmV2aXNpb24gMS4yMw0KZGlmZiAtdSAtcjEuMjMgU2ltcGxlQXJ0aWZhY3RSZXBvc2l0
b3J5LmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9hcnRpZmFj
dC9yZXBvc2l0b3J5L3NpbXBsZS9TaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnkuamF2YQkxMCBKYW4g
MjAwOCAwMzo1NTo1MSAtMDAwMAkxLjIzDQorKysgc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvaW50
ZXJuYWwvcDIvYXJ0aWZhY3QvcmVwb3NpdG9yeS9zaW1wbGUvU2ltcGxlQXJ0aWZhY3RSZXBvc2l0
b3J5LmphdmEJMTAgSmFuIDIwMDggMTk6MDY6NDkgLTAwMDANCkBAIC0xMiw3ICsxMiw4IEBADQog
aW1wb3J0IGphdmEubmV0Lk1hbGZvcm1lZFVSTEV4Y2VwdGlvbjsNCiBpbXBvcnQgamF2YS5uZXQu
VVJMOw0KIGltcG9ydCBqYXZhLnV0aWwuKjsNCi1pbXBvcnQgamF2YS51dGlsLnppcC5HWklQT3V0
cHV0U3RyZWFtOw0KK2ltcG9ydCBqYXZhLnV0aWwuamFyLkphckVudHJ5Ow0KK2ltcG9ydCBqYXZh
LnV0aWwuamFyLkphck91dHB1dFN0cmVhbTsNCiBpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50
aW1lLio7DQogaW1wb3J0IG9yZy5lY2xpcHNlLmVxdWlub3guaW50ZXJuYWwucDIuYXJ0aWZhY3Qu
cmVwb3NpdG9yeS4qOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5lcXVpbm94LmludGVybmFsLnAyLmNv
cmUuaGVscGVycy5GaWxlVXRpbHM7DQpAQCAtMjUsNyArMjYsNyBAQA0KIHB1YmxpYyBjbGFzcyBT
aW1wbGVBcnRpZmFjdFJlcG9zaXRvcnkgZXh0ZW5kcyBBYnN0cmFjdEFydGlmYWN0UmVwb3NpdG9y
eSBpbXBsZW1lbnRzIElBcnRpZmFjdFJlcG9zaXRvcnksIElGaWxlQXJ0aWZhY3RSZXBvc2l0b3J5
IHsNCiANCiAJc3RhdGljIGZpbmFsIHByaXZhdGUgU3RyaW5nIEJMT0JTVE9SRSA9ICIuYmxvYnN0
b3JlLyI7IC8vJE5PTi1OTFMtMSQNCi0Jc3RhdGljIGZpbmFsIHByaXZhdGUgU3RyaW5nIENPTlRF
TlRfRklMRU5BTUUgPSAiYXJ0aWZhY3RzLnhtbCI7IC8vJE5PTi1OTFMtMSQNCisJc3RhdGljIGZp
bmFsIHByaXZhdGUgU3RyaW5nIENPTlRFTlRfRklMRU5BTUUgPSAiYXJ0aWZhY3RzIjsgLy8kTk9O
LU5MUy0xJA0KIAlzdGF0aWMgZmluYWwgcHJpdmF0ZSBTdHJpbmcgUkVQT1NJVE9SWV9UWVBFID0g
Im9yZy5lY2xpcHNlLmVxdWlub3gucDIuYXJ0aWZhY3QucmVwb3NpdG9yeS5zaW1wbGVSZXBvc2l0
b3J5IjsgLy8kTk9OLU5MUy0xJA0KIAlzdGF0aWMgZmluYWwgcHJpdmF0ZSBJbnRlZ2VyIFJFUE9T
SVRPUllfVkVSU0lPTiA9IG5ldyBJbnRlZ2VyKDEpOw0KIAlzdGF0aWMgZmluYWwgcHVibGljIFN0
cmluZ1tdW10gREVGQVVMVF9NQVBQSU5HX1JVTEVTID0geyB7IigmIChuYW1lc3BhY2U9ZWNsaXBz
ZSkgKGNsYXNzaWZpZXI9cGx1Z2luKSkiLCAiJHtyZXBvVXJsfS9wbHVnaW5zLyR7aWR9XyR7dmVy
c2lvbn0uamFyIn0sIC8vJE5PTi1OTFMtMSQvLyROT04tTkxTLTIkDQpAQCAtMzUsNyArMzYsNyBA
QA0KIAlwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgQVJUSUZBQ1RfRk9MREVSID0gImFydGlm
YWN0LmZvbGRlciI7IC8vJE5PTi1OTFMtMSQNCiAJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5n
IEFSVElGQUNUX1JFRkVSRU5DRSA9ICJhcnRpZmFjdC5yZWZlcmVuY2UiOyAvLyROT04tTkxTLTEk
DQogCXByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBKQVJfRVhURU5TSU9OID0gIi5qYXIiOyAv
LyROT04tTkxTLTEkDQotCXByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBHWklQX0VYVEVOU0lP
TiA9ICIuZ3oiOyAvLyROT04tTkxTLTEkDQorCXByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBY
TUxfRVhURU5TSU9OID0gIi54bWwiOyAvLyROT04tTkxTLTEkDQogDQogCXRyYW5zaWVudCBwcml2
YXRlIE1hcHBlciBtYXBwZXIgPSBuZXcgTWFwcGVyKCk7DQogCXByb3RlY3RlZCBTdHJpbmdbXVtd
IG1hcHBpbmdSdWxlcyA9IERFRkFVTFRfTUFQUElOR19SVUxFUzsNCkBAIC00Myw4ICs0NCw4IEBA
DQogCXByaXZhdGUgYm9vbGVhbiBzaWduYXR1cmVWZXJpZmljYXRpb24gPSBmYWxzZTsNCiAJcHJp
dmF0ZSB0cmFuc2llbnQgQmxvYlN0b3JlIGJsb2JTdG9yZTsNCiANCi0JcHVibGljIHN0YXRpYyBV
UkwgZ2V0QWN0dWFsTG9jYXRpb24oVVJMIGJhc2UsIGJvb2xlYW4gZ3ppcCkgew0KLQkJcmV0dXJu
IGdldEFjdHVhbExvY2F0aW9uKGJhc2UsIGd6aXAgPyBHWklQX0VYVEVOU0lPTiA6ICIiKTsgLy8k
Tk9OLU5MUy0xJA0KKwlwdWJsaWMgc3RhdGljIFVSTCBnZXRBY3R1YWxMb2NhdGlvbihVUkwgYmFz
ZSwgYm9vbGVhbiBjb21wcmVzcykgew0KKwkJcmV0dXJuIGdldEFjdHVhbExvY2F0aW9uKGJhc2Us
IGNvbXByZXNzID8gSkFSX0VYVEVOU0lPTiA6IFhNTF9FWFRFTlNJT04pOw0KIAl9DQogDQogCXBy
aXZhdGUgc3RhdGljIFVSTCBnZXRBY3R1YWxMb2NhdGlvbihVUkwgYmFzZSwgU3RyaW5nIGV4dGVu
c2lvbikgew0KQEAgLTQzMiwyMiArNDMzLDM5IEBADQogCX0NCiANCiAJcHVibGljIHZvaWQgc2F2
ZSgpIHsNCi0JCXNhdmUodHJ1ZSk7DQorCQlib29sZWFuIGNvbXByZXNzID0gInRydWUiLmVxdWFs
c0lnbm9yZUNhc2UoKFN0cmluZykgcHJvcGVydGllcy5nZXQoUFJPUF9DT01QUkVTU0VEKSk7IC8v
JE5PTi1OTFMtMSQNCisJCXNhdmUoY29tcHJlc3MpOw0KIAl9DQogDQotCXB1YmxpYyB2b2lkIHNh
dmUoYm9vbGVhbiBnemlwKSB7DQorCXB1YmxpYyB2b2lkIHNhdmUoYm9vbGVhbiBjb21wcmVzcykg
ew0KIAkJT3V0cHV0U3RyZWFtIG9zID0gbnVsbDsNCiAJCXRyeSB7DQogCQkJdHJ5IHsNCi0JCQkJ
VVJMIGFjdHVhbExvY2F0aW9uID0gZ2V0QWN0dWFsTG9jYXRpb24obG9jYXRpb24sIGd6aXApOw0K
KwkJCQlVUkwgYWN0dWFsTG9jYXRpb24gPSBnZXRBY3R1YWxMb2NhdGlvbihsb2NhdGlvbiwgZmFs
c2UpOw0KIAkJCQlGaWxlIGFydGlmYWN0c0ZpbGUgPSBuZXcgRmlsZShhY3R1YWxMb2NhdGlvbi5n
ZXRQYXRoKCkpOw0KLQkJCQlpZiAoIWFydGlmYWN0c0ZpbGUuZXhpc3RzKCkpIHsNCi0JCQkJCS8v
IGNyZWF0ZSBwYXJlbnQgZm9sZGVycw0KLQkJCQkJYXJ0aWZhY3RzRmlsZS5nZXRQYXJlbnRGaWxl
KCkubWtkaXJzKCk7DQorCQkJCUZpbGUgamFyRmlsZSA9IG5ldyBGaWxlKGdldEFjdHVhbExvY2F0
aW9uKGxvY2F0aW9uLCB0cnVlKS5nZXRQYXRoKCkpOw0KKwkJCQlpZiAoIWNvbXByZXNzKSB7DQor
CQkJCQlpZiAoamFyRmlsZS5leGlzdHMoKSkgew0KKwkJCQkJCWphckZpbGUuZGVsZXRlKCk7DQor
CQkJCQl9DQorCQkJCQlpZiAoIWFydGlmYWN0c0ZpbGUuZXhpc3RzKCkpIHsNCisJCQkJCQkvLyBj
cmVhdGUgcGFyZW50IGZvbGRlcnMNCisJCQkJCQlhcnRpZmFjdHNGaWxlLmdldFBhcmVudEZpbGUo
KS5ta2RpcnMoKTsNCisJCQkJCX0NCisJCQkJCW9zID0gbmV3IEZpbGVPdXRwdXRTdHJlYW0oYXJ0
aWZhY3RzRmlsZSk7DQorCQkJCX0gZWxzZSB7DQorCQkJCQlpZiAoYXJ0aWZhY3RzRmlsZS5leGlz
dHMoKSkgew0KKwkJCQkJCWFydGlmYWN0c0ZpbGUuZGVsZXRlKCk7DQorCQkJCQl9DQorCQkJCQlp
ZiAoIWphckZpbGUuZXhpc3RzKCkpIHsNCisJCQkJCQlpZiAoIWphckZpbGUuZ2V0UGFyZW50Rmls
ZSgpLmV4aXN0cygpKQ0KKwkJCQkJCQlqYXJGaWxlLmdldFBhcmVudEZpbGUoKS5ta2RpcnMoKTsN
CisJCQkJCQlqYXJGaWxlLmNyZWF0ZU5ld0ZpbGUoKTsNCisJCQkJCX0NCisJCQkJCUphck91dHB1
dFN0cmVhbSBqT3MgPSBuZXcgSmFyT3V0cHV0U3RyZWFtKG5ldyBGaWxlT3V0cHV0U3RyZWFtKGph
ckZpbGUpKTsNCisJCQkJCWpPcy5wdXROZXh0RW50cnkobmV3IEphckVudHJ5KG5ldyBQYXRoKGFj
dHVhbExvY2F0aW9uLmdldEZpbGUoKSkubGFzdFNlZ21lbnQoKSkpOw0KKwkJCQkJb3MgPSBqT3M7
DQogCQkJCX0NCi0JCQkJb3MgPSBuZXcgRmlsZU91dHB1dFN0cmVhbShhcnRpZmFjdHNGaWxlKTsN
Ci0JCQkJaWYgKGd6aXApDQotCQkJCQlvcyA9IG5ldyBHWklQT3V0cHV0U3RyZWFtKG9zKTsNCiAJ
CQkJbmV3IFNpbXBsZUFydGlmYWN0UmVwb3NpdG9yeUlPKCkud3JpdGUodGhpcywgb3MpOw0KIAkJ
CX0gY2F0Y2ggKElPRXhjZXB0aW9uIGUpIHsNCiAJCQkJLy8gVE9ETyBwcm9wZXIgZXhjZXB0aW9u
IGhhbmRsaW5nDQojUCBvcmcuZWNsaXBzZS5lcXVpbm94LnAyLm1ldGFkYXRhLnJlcG9zaXRvcnkN
CkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9tZXRhZGF0YS9yZXBv
c2l0b3J5L1NpbXBsZU1ldGFkYXRhUmVwb3NpdG9yeUZhY3RvcnkuamF2YQ0KPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0K
UkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2UvZXF1aW5veC1pbmN1YmF0b3IvcHJvdmlzaW9uaW5n
L29yZy5lY2xpcHNlLmVxdWlub3gucDIubWV0YWRhdGEucmVwb3NpdG9yeS9zcmMvb3JnL2VjbGlw
c2UvZXF1aW5veC9pbnRlcm5hbC9wMi9tZXRhZGF0YS9yZXBvc2l0b3J5L1NpbXBsZU1ldGFkYXRh
UmVwb3NpdG9yeUZhY3RvcnkuamF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuMTMNCmRpZmYg
LXUgLXIxLjEzIFNpbXBsZU1ldGFkYXRhUmVwb3NpdG9yeUZhY3RvcnkuamF2YQ0KLS0tIHNyYy9v
cmcvZWNsaXBzZS9lcXVpbm94L2ludGVybmFsL3AyL21ldGFkYXRhL3JlcG9zaXRvcnkvU2ltcGxl
TWV0YWRhdGFSZXBvc2l0b3J5RmFjdG9yeS5qYXZhCTEwIEphbiAyMDA4IDE4OjE2OjI3IC0wMDAw
CTEuMTMNCisrKyBzcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9tZXRhZGF0YS9y
ZXBvc2l0b3J5L1NpbXBsZU1ldGFkYXRhUmVwb3NpdG9yeUZhY3RvcnkuamF2YQkxMCBKYW4gMjAw
OCAxOTowNjo0OSAtMDAwMA0KQEAgLTI1LDYgKzI1LDcgQEANCiBwdWJsaWMgY2xhc3MgU2ltcGxl
TWV0YWRhdGFSZXBvc2l0b3J5RmFjdG9yeSBpbXBsZW1lbnRzIElNZXRhZGF0YVJlcG9zaXRvcnlG
YWN0b3J5IHsNCiANCiAJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIEpBUl9FWFRFTlNJT04g
PSAiLmphciI7IC8vJE5PTi1OTFMtMSQNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFhN
TF9FWFRFTlNJT04gPSAiLnhtbCI7DQogDQogCXB1YmxpYyBJTWV0YWRhdGFSZXBvc2l0b3J5IGNy
ZWF0ZShVUkwgbG9jYXRpb24sIFN0cmluZyBuYW1lLCBTdHJpbmcgdHlwZSkgew0KIAkJaWYgKGxv
Y2F0aW9uLmdldFByb3RvY29sKCkuZXF1YWxzKCJmaWxlIikpIC8vJE5PTi1OTFMtMSQNCkBAIC0z
Nyw3ICszOCw3IEBADQogCQlJTWV0YWRhdGFSZXBvc2l0b3J5IHJlc3VsdCA9IGxvYWQobG9jYXRp
b24sIEpBUl9FWFRFTlNJT04pOw0KIAkJLy8gY29tcHJlc3NlZCBmaWxlIGlzIG5vdCBhdmFpbGFi
bGUsIGxvYWQgdGhlIHhtbA0KIAkJaWYgKHJlc3VsdCA9PSBudWxsKSB7DQotCQkJcmVzdWx0ID0g
bG9hZChsb2NhdGlvbiwgbnVsbCk7DQorCQkJcmVzdWx0ID0gbG9hZChsb2NhdGlvbiwgWE1MX0VY
VEVOU0lPTik7DQogCQl9DQogCQlyZXR1cm4gcmVzdWx0Ow0KIAl9DQpJbmRleDogc3JjL29yZy9l
Y2xpcHNlL2VxdWlub3gvaW50ZXJuYWwvcDIvbWV0YWRhdGEvcmVwb3NpdG9yeS9VUkxNZXRhZGF0
YVJlcG9zaXRvcnkuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uv
ZXF1aW5veC1pbmN1YmF0b3IvcHJvdmlzaW9uaW5nL29yZy5lY2xpcHNlLmVxdWlub3gucDIubWV0
YWRhdGEucmVwb3NpdG9yeS9zcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9tZXRh
ZGF0YS9yZXBvc2l0b3J5L1VSTE1ldGFkYXRhUmVwb3NpdG9yeS5qYXZhLHYNCnJldHJpZXZpbmcg
cmV2aXNpb24gMS45DQpkaWZmIC11IC1yMS45IFVSTE1ldGFkYXRhUmVwb3NpdG9yeS5qYXZhDQot
LS0gc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvaW50ZXJuYWwvcDIvbWV0YWRhdGEvcmVwb3NpdG9y
eS9VUkxNZXRhZGF0YVJlcG9zaXRvcnkuamF2YQk4IEphbiAyMDA4IDIwOjA1OjMzIC0wMDAwCTEu
OQ0KKysrIHNyYy9vcmcvZWNsaXBzZS9lcXVpbm94L2ludGVybmFsL3AyL21ldGFkYXRhL3JlcG9z
aXRvcnkvVVJMTWV0YWRhdGFSZXBvc2l0b3J5LmphdmEJMTAgSmFuIDIwMDggMTk6MDY6NDkgLTAw
MDANCkBAIC0yNSw3ICsyNSw4IEBADQogICovDQogcHVibGljIGNsYXNzIFVSTE1ldGFkYXRhUmVw
b3NpdG9yeSBleHRlbmRzIEFic3RyYWN0TWV0YWRhdGFSZXBvc2l0b3J5IHsNCiANCi0Jc3RhdGlj
IGZpbmFsIHByb3RlY3RlZCBTdHJpbmcgQ09OVEVOVF9GSUxFTkFNRSA9ICJjb250ZW50LnhtbCI7
IC8vJE5PTi1OTFMtMSQNCisJc3RhdGljIGZpbmFsIHByb3RlY3RlZCBTdHJpbmcgQ09OVEVOVF9G
SUxFTkFNRSA9ICJjb250ZW50IjsgLy8kTk9OLU5MUy0xJA0KKwlzdGF0aWMgZmluYWwgcHJpdmF0
ZSBTdHJpbmcgWE1MX0VYVEVOU0lPTiA9ICIueG1sIjsgLy8kTk9OLU5MUy0xJA0KIAlzdGF0aWMg
ZmluYWwgcHJpdmF0ZSBTdHJpbmcgUkVQT1NJVE9SWV9UWVBFID0gVVJMTWV0YWRhdGFSZXBvc2l0
b3J5LmNsYXNzLmdldE5hbWUoKTsNCiAJc3RhdGljIGZpbmFsIHByaXZhdGUgSW50ZWdlciBSRVBP
U0lUT1JZX1ZFUlNJT04gPSBuZXcgSW50ZWdlcigxKTsNCiANCkBAIC0zMywxMiArMzQsMTIgQEAN
CiAJcHJvdGVjdGVkIEhhc2hTZXQgdW5pdHMgPSBuZXcgTGlua2VkSGFzaFNldCgpOw0KIA0KIAlw
dWJsaWMgc3RhdGljIFVSTCBnZXRBY3R1YWxMb2NhdGlvbihVUkwgYmFzZSkgew0KLQkJcmV0dXJu
IGdldEFjdHVhbExvY2F0aW9uKGJhc2UsIG51bGwpOw0KKwkJcmV0dXJuIGdldEFjdHVhbExvY2F0
aW9uKGJhc2UsIFhNTF9FWFRFTlNJT04pOw0KIAl9DQogDQogCXB1YmxpYyBzdGF0aWMgVVJMIGdl
dEFjdHVhbExvY2F0aW9uKFVSTCBiYXNlLCBTdHJpbmcgZXh0ZW5zaW9uKSB7DQogCQlpZiAoZXh0
ZW5zaW9uID09IG51bGwpIHsNCi0JCQlleHRlbnNpb24gPSAiIjsgLy8kTk9OLU5MUy0xJA0KKwkJ
CWV4dGVuc2lvbiA9IFhNTF9FWFRFTlNJT047DQogCQl9DQogCQlTdHJpbmcgc3BlYyA9IGJhc2Uu
dG9FeHRlcm5hbEZvcm0oKTsNCiAJCWlmIChzcGVjLmVuZHNXaXRoKENPTlRFTlRfRklMRU5BTUUg
KyBleHRlbnNpb24pKQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9lcXVpbm94L2ludGVybmFsL3Ay
L21ldGFkYXRhL3JlcG9zaXRvcnkvTG9jYWxNZXRhZGF0YVJlcG9zaXRvcnkuamF2YQ0KPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2UvZXF1aW5veC1pbmN1YmF0b3IvcHJvdmlz
aW9uaW5nL29yZy5lY2xpcHNlLmVxdWlub3gucDIubWV0YWRhdGEucmVwb3NpdG9yeS9zcmMvb3Jn
L2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9tZXRhZGF0YS9yZXBvc2l0b3J5L0xvY2FsTWV0
YWRhdGFSZXBvc2l0b3J5LmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjE2DQpkaWZmIC11
IC1yMS4xNiBMb2NhbE1ldGFkYXRhUmVwb3NpdG9yeS5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNl
L2VxdWlub3gvaW50ZXJuYWwvcDIvbWV0YWRhdGEvcmVwb3NpdG9yeS9Mb2NhbE1ldGFkYXRhUmVw
b3NpdG9yeS5qYXZhCTEwIEphbiAyMDA4IDE3OjU0OjA1IC0wMDAwCTEuMTYNCisrKyBzcmMvb3Jn
L2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9tZXRhZGF0YS9yZXBvc2l0b3J5L0xvY2FsTWV0
YWRhdGFSZXBvc2l0b3J5LmphdmEJMTAgSmFuIDIwMDggMTk6MDY6NDkgLTAwMDANCkBAIC0yOSwx
MCArMjksMTEgQEANCiAgKiBhbmQgY29tYmluZSBhbnkgbWV0YWRhdGEgcmVwb3NpdG9yeSBmaWxl
cyB0aGF0IGFyZSBmb3VuZC4NCiAgKi8NCiBwdWJsaWMgY2xhc3MgTG9jYWxNZXRhZGF0YVJlcG9z
aXRvcnkgZXh0ZW5kcyBBYnN0cmFjdE1ldGFkYXRhUmVwb3NpdG9yeSB7DQotCXN0YXRpYyBmaW5h
bCBwcml2YXRlIFN0cmluZyBDT05URU5UX0ZJTEVOQU1FID0gImNvbnRlbnQueG1sIjsgLy8kTk9O
LU5MUy0xJA0KKwlzdGF0aWMgZmluYWwgcHJpdmF0ZSBTdHJpbmcgQ09OVEVOVF9GSUxFTkFNRSA9
ICJjb250ZW50IjsgLy8kTk9OLU5MUy0xJA0KIAlzdGF0aWMgZmluYWwgcHJpdmF0ZSBTdHJpbmcg
UkVQT1NJVE9SWV9UWVBFID0gTG9jYWxNZXRhZGF0YVJlcG9zaXRvcnkuY2xhc3MuZ2V0TmFtZSgp
Ow0KIAlzdGF0aWMgZmluYWwgcHJpdmF0ZSBJbnRlZ2VyIFJFUE9TSVRPUllfVkVSU0lPTiA9IG5l
dyBJbnRlZ2VyKDEpOw0KIAlzdGF0aWMgZmluYWwgcHJpdmF0ZSBTdHJpbmcgSkFSX0VYVEVOU0lP
TiA9ICIuamFyIjsgLy8kTk9OLU5MUy0xJA0KKwlzdGF0aWMgZmluYWwgcHJpdmF0ZSBTdHJpbmcg
WE1MX0VYVEVOU0lPTiA9ICIueG1sIjsgLy8kTk9OLU5MUy0xJA0KIA0KIAlwcm90ZWN0ZWQgSGFz
aFNldCB1bml0cyA9IG5ldyBMaW5rZWRIYXNoU2V0KCk7DQogDQpAQCAtNDgsNyArNDksNyBAQA0K
IAl9DQogDQogCXB1YmxpYyBzdGF0aWMgRmlsZSBnZXRBY3R1YWxMb2NhdGlvbihVUkwgbG9jYXRp
b24pIHsNCi0JCXJldHVybiBnZXRBY3R1YWxMb2NhdGlvbihsb2NhdGlvbiwgIiIpOyAvLyROT04t
TkxTLTEkDQorCQlyZXR1cm4gZ2V0QWN0dWFsTG9jYXRpb24obG9jYXRpb24sIFhNTF9FWFRFTlNJ
T04pOyAvLyROT04tTkxTLTEkDQogCX0NCiANCiAJLyoqDQpAQCAtMTI3LDIyICsxMjgsMjQgQEAN
CiANCiAJcHJpdmF0ZSB2b2lkIHNhdmUoKSB7DQogCQlGaWxlIGZpbGUgPSBnZXRBY3R1YWxMb2Nh
dGlvbihsb2NhdGlvbik7DQotCQlib29sZWFuIGphciA9ICJ0cnVlIi5lcXVhbHNJZ25vcmVDYXNl
KChTdHJpbmcpIHByb3BlcnRpZXMuZ2V0KFBST1BfQ09NUFJFU1NFRCkpOyAvLyROT04tTkxTLTEk
DQorCQlGaWxlIGphckZpbGUgPSBnZXRBY3R1YWxMb2NhdGlvbihsb2NhdGlvbiwgSkFSX0VYVEVO
U0lPTik7DQorCQlib29sZWFuIGNvbXByZXNzID0gInRydWUiLmVxdWFsc0lnbm9yZUNhc2UoKFN0
cmluZykgcHJvcGVydGllcy5nZXQoUFJPUF9DT01QUkVTU0VEKSk7IC8vJE5PTi1OTFMtMSQNCiAJ
CXRyeSB7DQogCQkJT3V0cHV0U3RyZWFtIG91dHB1dCA9IG51bGw7DQotCQkJaWYgKCFqYXIpIHsN
CisJCQlpZiAoIWNvbXByZXNzKSB7DQorCQkJCWlmIChqYXJGaWxlLmV4aXN0cygpKSB7DQorCQkJ
CQlqYXJGaWxlLmRlbGV0ZSgpOw0KKwkJCQl9DQogCQkJCWlmICghZmlsZS5leGlzdHMoKSkgew0K
IAkJCQkJaWYgKCFmaWxlLmdldFBhcmVudEZpbGUoKS5leGlzdHMoKSkNCiAJCQkJCQlmaWxlLmdl
dFBhcmVudEZpbGUoKS5ta2RpcnMoKTsNCiAJCQkJCWZpbGUuY3JlYXRlTmV3RmlsZSgpOw0KIAkJ
CQl9DQogCQkJCW91dHB1dCA9IG5ldyBGaWxlT3V0cHV0U3RyZWFtKGZpbGUpOw0KLQkJCX0NCi0J
CQlpZiAoamFyKSB7DQorCQkJfSBlbHNlIHsNCiAJCQkJaWYgKGZpbGUuZXhpc3RzKCkpIHsNCiAJ
CQkJCWZpbGUuZGVsZXRlKCk7DQogCQkJCX0NCi0JCQkJRmlsZSBqYXJGaWxlID0gZ2V0QWN0dWFs
TG9jYXRpb24obG9jYXRpb24sIEpBUl9FWFRFTlNJT04pOw0KIAkJCQlpZiAoIWphckZpbGUuZXhp
c3RzKCkpIHsNCiAJCQkJCWlmICghamFyRmlsZS5nZXRQYXJlbnRGaWxlKCkuZXhpc3RzKCkpDQog
CQkJCQkJamFyRmlsZS5nZXRQYXJlbnRGaWxlKCkubWtkaXJzKCk7DQo=
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>86590</attachid>
            <date>2008-01-10 14:26:00 -0500</date>
            <delta_ts>2008-01-10 14:26:25 -0500</delta_ts>
            <desc>Repository Consistency v03</desc>
            <filename>patch-repositoryConsistency_v03.txt</filename>
            <type>text/plain</type>
            <size>29036</size>
            <attacher name="Tim Mok">timothym</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UuZXF1aW5veC5w
Mi50ZXN0cw0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9lcXVpbm94L3AyL3Rlc3RzL2FydGlmYWN0
L3JlcG9zaXRvcnkvU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5VGVzdC5qYXZhDQo9PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9lcXVpbm94LWluY3ViYXRvci9wcm92aXNpb25p
bmcvb3JnLmVjbGlwc2UuZXF1aW5veC5wMi50ZXN0cy9zcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9w
Mi90ZXN0cy9hcnRpZmFjdC9yZXBvc2l0b3J5L1NpbXBsZUFydGlmYWN0UmVwb3NpdG9yeVRlc3Qu
amF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuMg0KZGlmZiAtdSAtcjEuMiBTaW1wbGVBcnRp
ZmFjdFJlcG9zaXRvcnlUZXN0LmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9wMi90
ZXN0cy9hcnRpZmFjdC9yZXBvc2l0b3J5L1NpbXBsZUFydGlmYWN0UmVwb3NpdG9yeVRlc3QuamF2
YQkyMCBEZWMgMjAwNyAxOTowMDowMiAtMDAwMAkxLjINCisrKyBzcmMvb3JnL2VjbGlwc2UvZXF1
aW5veC9wMi90ZXN0cy9hcnRpZmFjdC9yZXBvc2l0b3J5L1NpbXBsZUFydGlmYWN0UmVwb3NpdG9y
eVRlc3QuamF2YQkxMCBKYW4gMjAwOCAxOToyNToxNCAtMDAwMA0KQEAgLTEwLDEwICsxMCwxOCBA
QA0KICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuZXF1aW5v
eC5wMi50ZXN0cy5hcnRpZmFjdC5yZXBvc2l0b3J5Ow0KIA0KK2ltcG9ydCBqYXZhLmlvLkZpbGU7
DQogaW1wb3J0IGphdmEubmV0Lk1hbGZvcm1lZFVSTEV4Y2VwdGlvbjsNCiBpbXBvcnQgamF2YS5u
ZXQuVVJMOw0KIGltcG9ydCBqdW5pdC5mcmFtZXdvcmsuVGVzdENhc2U7DQogaW1wb3J0IG9yZy5l
Y2xpcHNlLmVxdWlub3guaW50ZXJuYWwucDIuYXJ0aWZhY3QucmVwb3NpdG9yeS5zaW1wbGUuU2lt
cGxlQXJ0aWZhY3RSZXBvc2l0b3J5Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5lcXVpbm94LmludGVy
bmFsLnAyLmNvcmUuaGVscGVycy5TZXJ2aWNlSGVscGVyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5l
cXVpbm94LnAyLmFydGlmYWN0LnJlcG9zaXRvcnkuSUFydGlmYWN0UmVwb3NpdG9yeTsNCitpbXBv
cnQgb3JnLmVjbGlwc2UuZXF1aW5veC5wMi5hcnRpZmFjdC5yZXBvc2l0b3J5LklBcnRpZmFjdFJl
cG9zaXRvcnlNYW5hZ2VyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5lcXVpbm94LnAyLmNvcmUucmVw
b3NpdG9yeS5JUmVwb3NpdG9yeTsNCitpbXBvcnQgb3JnLmVjbGlwc2UuZXF1aW5veC5wMi5tZXRh
ZGF0YS5nZW5lcmF0b3IuRWNsaXBzZUluc3RhbGxHZW5lcmF0b3JJbmZvUHJvdmlkZXI7DQoraW1w
b3J0IG9yZy5lY2xpcHNlLmVxdWlub3gucDIubWV0YWRhdGEuZ2VuZXJhdG9yLkdlbmVyYXRvcjsN
CitpbXBvcnQgb3JnLmVjbGlwc2UuZXF1aW5veC5wMi50ZXN0cy5UZXN0QWN0aXZhdG9yOw0KIA0K
IHB1YmxpYyBjbGFzcyBTaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnlUZXN0IGV4dGVuZHMgVGVzdENh
c2Ugew0KIA0KQEAgLTMyLDE5ICs0MCw5NSBAQA0KIAkJYXNzZXJ0RXF1YWxzKGJhc2UsIFNpbXBs
ZUFydGlmYWN0UmVwb3NpdG9yeS5nZXRBY3R1YWxMb2NhdGlvbihiYXNlLCBmYWxzZSkpOw0KIAl9
DQogDQotCXB1YmxpYyB2b2lkIHRlc3RHZXRBY3R1YWxMb2NhdGlvbkd6aXAxKCkgdGhyb3dzIE1h
bGZvcm1lZFVSTEV4Y2VwdGlvbiB7DQorCXB1YmxpYyB2b2lkIHRlc3RHZXRBY3R1YWxMb2NhdGlv
bkNvbXByZXNzZWQxKCkgdGhyb3dzIE1hbGZvcm1lZFVSTEV4Y2VwdGlvbiB7DQogCQlVUkwgYmFz
ZSA9IG5ldyBVUkwoImh0dHA6Ly9sb2NhbGhvc3QvYXJ0aWZhY3RSZXBvc2l0b3J5Iik7DQotCQlh
c3NlcnRFcXVhbHMobmV3IFVSTChiYXNlICsgIi9hcnRpZmFjdHMueG1sLmd6IiksIFNpbXBsZUFy
dGlmYWN0UmVwb3NpdG9yeS5nZXRBY3R1YWxMb2NhdGlvbihiYXNlLCB0cnVlKSk7DQorCQlhc3Nl
cnRFcXVhbHMobmV3IFVSTChiYXNlICsgIi9hcnRpZmFjdHMuamFyIiksIFNpbXBsZUFydGlmYWN0
UmVwb3NpdG9yeS5nZXRBY3R1YWxMb2NhdGlvbihiYXNlLCB0cnVlKSk7DQogCX0NCiANCi0JcHVi
bGljIHZvaWQgdGVzdEdldEFjdHVhbExvY2F0aW9uR3ppcDIoKSB0aHJvd3MgTWFsZm9ybWVkVVJM
RXhjZXB0aW9uIHsNCisJcHVibGljIHZvaWQgdGVzdEdldEFjdHVhbExvY2F0aW9uQ29tcHJlc3Nl
ZDIoKSB0aHJvd3MgTWFsZm9ybWVkVVJMRXhjZXB0aW9uIHsNCiAJCVVSTCBiYXNlID0gbmV3IFVS
TCgiaHR0cDovL2xvY2FsaG9zdC9hcnRpZmFjdFJlcG9zaXRvcnkvIik7DQotCQlhc3NlcnRFcXVh
bHMobmV3IFVSTChiYXNlICsgImFydGlmYWN0cy54bWwuZ3oiKSwgU2ltcGxlQXJ0aWZhY3RSZXBv
c2l0b3J5LmdldEFjdHVhbExvY2F0aW9uKGJhc2UsIHRydWUpKTsNCisJCWFzc2VydEVxdWFscyhu
ZXcgVVJMKGJhc2UgKyAiYXJ0aWZhY3RzLmphciIpLCBTaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnku
Z2V0QWN0dWFsTG9jYXRpb24oYmFzZSwgdHJ1ZSkpOw0KIAl9DQogDQotCXB1YmxpYyB2b2lkIHRl
c3RHZXRBY3R1YWxMb2NhdGlvbkd6aXAzKCkgdGhyb3dzIE1hbGZvcm1lZFVSTEV4Y2VwdGlvbiB7
DQotCQlVUkwgYmFzZSA9IG5ldyBVUkwoImh0dHA6Ly9sb2NhbGhvc3QvYXJ0aWZhY3RSZXBvc2l0
b3J5L2FydGlmYWN0cy54bWwuZ3oiKTsNCisJcHVibGljIHZvaWQgdGVzdEdldEFjdHVhbExvY2F0
aW9uQ29tcHJlc3NlZDMoKSB0aHJvd3MgTWFsZm9ybWVkVVJMRXhjZXB0aW9uIHsNCisJCVVSTCBi
YXNlID0gbmV3IFVSTCgiaHR0cDovL2xvY2FsaG9zdC9hcnRpZmFjdFJlcG9zaXRvcnkvYXJ0aWZh
Y3RzLmphciIpOw0KIAkJYXNzZXJ0RXF1YWxzKGJhc2UsIFNpbXBsZUFydGlmYWN0UmVwb3NpdG9y
eS5nZXRBY3R1YWxMb2NhdGlvbihiYXNlLCB0cnVlKSk7DQogCX0NCiANCisJcHJpdmF0ZSBJQXJ0
aWZhY3RSZXBvc2l0b3J5TWFuYWdlciBnZXRBcnRpZmFjdFJlcG9zaXRvcnlNYW5hZ2VyKCkgew0K
KwkJcmV0dXJuIChJQXJ0aWZhY3RSZXBvc2l0b3J5TWFuYWdlcikgU2VydmljZUhlbHBlci5nZXRT
ZXJ2aWNlKFRlc3RBY3RpdmF0b3IuZ2V0Q29udGV4dCgpLCBJQXJ0aWZhY3RSZXBvc2l0b3J5TWFu
YWdlci5jbGFzcy5nZXROYW1lKCkpOw0KKwl9DQorDQorCXB1YmxpYyB2b2lkIHRlc3RDb21wcmVz
c2VkUmVwb3NpdG9yeSgpIHRocm93cyBNYWxmb3JtZWRVUkxFeGNlcHRpb24gew0KKwkJSUFydGlm
YWN0UmVwb3NpdG9yeU1hbmFnZXIgYXJ0aWZhY3RSZXBvc2l0b3J5TWFuYWdlciA9IGdldEFydGlm
YWN0UmVwb3NpdG9yeU1hbmFnZXIoKTsNCisJCVN0cmluZyB0ZW1wRGlyID0gU3lzdGVtLmdldFBy
b3BlcnR5KCJqYXZhLmlvLnRtcGRpciIpOw0KKwkJRmlsZSByZXBvTG9jYXRpb24gPSBuZXcgRmls
ZSh0ZW1wRGlyLCAiU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5VGVzdCIpOw0KKwkJSUFydGlmYWN0
UmVwb3NpdG9yeSByZXBvID0gYXJ0aWZhY3RSZXBvc2l0b3J5TWFuYWdlci5jcmVhdGVSZXBvc2l0
b3J5KHJlcG9Mb2NhdGlvbi50b1VSTCgpLCAiYXJ0aWZhY3QgbmFtZSIsICJvcmcuZWNsaXBzZS5l
cXVpbm94LnAyLmFydGlmYWN0LnJlcG9zaXRvcnkuc2ltcGxlUmVwb3NpdG9yeSIpOw0KKwkJcmVw
by5zZXRQcm9wZXJ0eShJUmVwb3NpdG9yeS5QUk9QX0NPTVBSRVNTRUQsICJ0cnVlIik7DQorCQlF
Y2xpcHNlSW5zdGFsbEdlbmVyYXRvckluZm9Qcm92aWRlciBwcm92aWRlciA9IG5ldyBFY2xpcHNl
SW5zdGFsbEdlbmVyYXRvckluZm9Qcm92aWRlcigpOw0KKwkJcHJvdmlkZXIuc2V0QXJ0aWZhY3RS
ZXBvc2l0b3J5KHJlcG8pOw0KKwkJcHJvdmlkZXIuaW5pdGlhbGl6ZShyZXBvTG9jYXRpb24pOw0K
KwkJcHJvdmlkZXIuc2V0Um9vdFZlcnNpb24oIjMuMyIpOw0KKwkJcHJvdmlkZXIuc2V0Um9vdElk
KCJzZGsiKTsNCisJCXByb3ZpZGVyLnNldEZsYXZvcigidG9vbGluZyIpOw0KKwkJbmV3IEdlbmVy
YXRvcihwcm92aWRlcikuZ2VuZXJhdGUoKTsNCisJCUZpbGUgZmlsZXNbXSA9IHJlcG9Mb2NhdGlv
bi5saXN0RmlsZXMoKTsNCisJCWJvb2xlYW4gamFyRmlsZVByZXNlbnQgPSBmYWxzZTsNCisJCWJv
b2xlYW4gYXJ0aWZhY3RGaWxlUHJlc2VudCA9IGZhbHNlOw0KKwkJZm9yIChpbnQgaSA9IDA7IGkg
PCBmaWxlcy5sZW5ndGg7IGkrKykgew0KKwkJCWlmICgiYXJ0aWZhY3RzLmphciIuZXF1YWxzSWdu
b3JlQ2FzZShmaWxlc1tpXS5nZXROYW1lKCkpKSB7DQorCQkJCWphckZpbGVQcmVzZW50ID0gdHJ1
ZTsNCisJCQl9DQorCQkJaWYgKCJhcnRpZmFjdHMueG1sIi5lcXVhbHNJZ25vcmVDYXNlKGZpbGVz
W2ldLmdldE5hbWUoKSkpIHsNCisJCQkJYXJ0aWZhY3RGaWxlUHJlc2VudCA9IGZhbHNlOw0KKwkJ
CX0NCisJCX0NCisJCWlmICghamFyRmlsZVByZXNlbnQpDQorCQkJZmFpbCgiUmVwb3NpdG9yeSBz
aG91bGQgY3JlYXRlIEpBUiBmb3IgYXJ0aWZhY3QueG1sIik7DQorCQlpZiAoYXJ0aWZhY3RGaWxl
UHJlc2VudCkNCisJCQlmYWlsKCJSZXBvc2l0b3J5IHNob3VsZCBub3QgY3JlYXRlIGFydGlmYWN0
LnhtbCIpOw0KKwkJZGVsZXRlKHJlcG9Mb2NhdGlvbik7DQorCX0NCisNCisJcHVibGljIHZvaWQg
dGVzdFVuY29tcHJlc3NlZFJlcG9zaXRvcnkoKSB0aHJvd3MgTWFsZm9ybWVkVVJMRXhjZXB0aW9u
IHsNCisJCUlBcnRpZmFjdFJlcG9zaXRvcnlNYW5hZ2VyIGFydGlmYWN0UmVwb3NpdG9yeU1hbmFn
ZXIgPSBnZXRBcnRpZmFjdFJlcG9zaXRvcnlNYW5hZ2VyKCk7DQorCQlTdHJpbmcgdGVtcERpciA9
IFN5c3RlbS5nZXRQcm9wZXJ0eSgiamF2YS5pby50bXBkaXIiKTsNCisJCUZpbGUgcmVwb0xvY2F0
aW9uID0gbmV3IEZpbGUodGVtcERpciwgIlNpbXBsZUFydGlmYWN0UmVwb3NpdG9yeVRlc3QiKTsN
CisJCUlBcnRpZmFjdFJlcG9zaXRvcnkgcmVwbyA9IGFydGlmYWN0UmVwb3NpdG9yeU1hbmFnZXIu
Y3JlYXRlUmVwb3NpdG9yeShyZXBvTG9jYXRpb24udG9VUkwoKSwgImFydGlmYWN0IG5hbWUiLCAi
b3JnLmVjbGlwc2UuZXF1aW5veC5wMi5hcnRpZmFjdC5yZXBvc2l0b3J5LnNpbXBsZVJlcG9zaXRv
cnkiKTsNCisJCXJlcG8uc2V0UHJvcGVydHkoSVJlcG9zaXRvcnkuUFJPUF9DT01QUkVTU0VELCAi
ZmFsc2UiKTsNCisJCUVjbGlwc2VJbnN0YWxsR2VuZXJhdG9ySW5mb1Byb3ZpZGVyIHByb3ZpZGVy
ID0gbmV3IEVjbGlwc2VJbnN0YWxsR2VuZXJhdG9ySW5mb1Byb3ZpZGVyKCk7DQorCQlwcm92aWRl
ci5zZXRBcnRpZmFjdFJlcG9zaXRvcnkocmVwbyk7DQorCQlwcm92aWRlci5pbml0aWFsaXplKHJl
cG9Mb2NhdGlvbik7DQorCQlwcm92aWRlci5zZXRSb290VmVyc2lvbigiMy4zIik7DQorCQlwcm92
aWRlci5zZXRSb290SWQoInNkayIpOw0KKwkJcHJvdmlkZXIuc2V0Rmxhdm9yKCJ0b29saW5nIik7
DQorCQluZXcgR2VuZXJhdG9yKHByb3ZpZGVyKS5nZW5lcmF0ZSgpOw0KKwkJRmlsZSBmaWxlc1td
ID0gcmVwb0xvY2F0aW9uLmxpc3RGaWxlcygpOw0KKwkJYm9vbGVhbiBqYXJGaWxlUHJlc2VudCA9
IGZhbHNlOw0KKwkJYm9vbGVhbiBhcnRpZmFjdEZpbGVQcmVzZW50ID0gZmFsc2U7DQorCQlmb3Ig
KGludCBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7DQorCQkJaWYgKCJhcnRpZmFjdHMu
amFyIi5lcXVhbHNJZ25vcmVDYXNlKGZpbGVzW2ldLmdldE5hbWUoKSkpIHsNCisJCQkJamFyRmls
ZVByZXNlbnQgPSB0cnVlOw0KKwkJCX0NCisJCQlpZiAoImFydGlmYWN0cy54bWwiLmVxdWFsc0ln
bm9yZUNhc2UoZmlsZXNbaV0uZ2V0TmFtZSgpKSkgew0KKwkJCQlhcnRpZmFjdEZpbGVQcmVzZW50
ID0gdHJ1ZTsNCisJCQl9DQorCQl9DQorCQlpZiAoamFyRmlsZVByZXNlbnQpDQorCQkJZmFpbCgi
UmVwb3NpdG9yeSBzaG91bGQgbm90IGNyZWF0ZSBKQVIgZm9yIGFydGlmYWN0LnhtbCIpOw0KKwkJ
aWYgKCFhcnRpZmFjdEZpbGVQcmVzZW50KQ0KKwkJCWZhaWwoIlJlcG9zaXRvcnkgc2hvdWxkIGNy
ZWF0ZSBhcnRpZmFjdC54bWwiKTsNCisJCWRlbGV0ZShyZXBvTG9jYXRpb24pOw0KKwl9DQorDQor
CXByaXZhdGUgYm9vbGVhbiBkZWxldGUoRmlsZSBmaWxlKSB7DQorCQlpZiAoIWZpbGUuZXhpc3Rz
KCkpDQorCQkJcmV0dXJuIHRydWU7DQorCQlpZiAoZmlsZS5pc0RpcmVjdG9yeSgpKSB7DQorCQkJ
RmlsZVtdIGNoaWxkcmVuID0gZmlsZS5saXN0RmlsZXMoKTsNCisJCQlmb3IgKGludCBpID0gMDsg
aSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKQ0KKwkJCQlkZWxldGUoY2hpbGRyZW5baV0pOw0KKwkJ
fQ0KKwkJcmV0dXJuIGZpbGUuZGVsZXRlKCk7DQorCX0NCiB9DQpJbmRleDogc3JjL29yZy9lY2xp
cHNlL2VxdWlub3gvcDIvdGVzdHMvbWV0YWRhdGEvcmVwb3NpdG9yeS9Mb2NhbE1ldGFkYXRhUmVw
b3NpdG9yeVRlc3QuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uv
ZXF1aW5veC1pbmN1YmF0b3IvcHJvdmlzaW9uaW5nL29yZy5lY2xpcHNlLmVxdWlub3gucDIudGVz
dHMvc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvcDIvdGVzdHMvbWV0YWRhdGEvcmVwb3NpdG9yeS9M
b2NhbE1ldGFkYXRhUmVwb3NpdG9yeVRlc3QuamF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEu
Mg0KZGlmZiAtdSAtcjEuMiBMb2NhbE1ldGFkYXRhUmVwb3NpdG9yeVRlc3QuamF2YQ0KLS0tIHNy
Yy9vcmcvZWNsaXBzZS9lcXVpbm94L3AyL3Rlc3RzL21ldGFkYXRhL3JlcG9zaXRvcnkvTG9jYWxN
ZXRhZGF0YVJlcG9zaXRvcnlUZXN0LmphdmEJOCBKYW4gMjAwOCAyMDowNTozNCAtMDAwMAkxLjIN
CisrKyBzcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9wMi90ZXN0cy9tZXRhZGF0YS9yZXBvc2l0b3J5
L0xvY2FsTWV0YWRhdGFSZXBvc2l0b3J5VGVzdC5qYXZhCTEwIEphbiAyMDA4IDE5OjI1OjE0IC0w
MDAwDQpAQCAtNjQsNyArNjQsNyBAQA0KIAkJYm9vbGVhbiB4bWxGaWxlUHJlc2VudCA9IGZhbHNl
Ow0KIAkJLy8gb25lIG9mIHRoZSBmaWxlcyBpbiB0aGUgcmVwb3NpdG9yeSBzaG91bGQgYmUgdGhl
IGNvbnRlbnQueG1sLmphcg0KIAkJZm9yIChpbnQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkr
Kykgew0KLQkJCWlmICgiY29udGVudC54bWwuamFyIi5lcXVhbHNJZ25vcmVDYXNlKGZpbGVzW2ld
LmdldE5hbWUoKSkpIHsNCisJCQlpZiAoImNvbnRlbnQuamFyIi5lcXVhbHNJZ25vcmVDYXNlKGZp
bGVzW2ldLmdldE5hbWUoKSkpIHsNCiAJCQkJamFyRmlsZVByZXNlbnQgPSB0cnVlOw0KIAkJCX0N
CiAJCQlpZiAoImNvbnRlbnQueG1sIi5lcXVhbHNJZ25vcmVDYXNlKGZpbGVzW2ldLmdldE5hbWUo
KSkpIHsNCkBAIC0xMzEsNyArMTMxLDcgQEANCiAJCWJvb2xlYW4gamFyRmlsZVByZXNlbnQgPSBm
YWxzZTsNCiAJCS8vIG5vbmUgb2YgdGhlIGZpbGVzIGluIHRoZSByZXBvc2l0b3J5IHNob3VsZCBi
ZSB0aGUgY29udGVudC54bWwuamFyDQogCQlmb3IgKGludCBpID0gMDsgaSA8IGZpbGVzLmxlbmd0
aDsgaSsrKSB7DQotCQkJaWYgKCJjb250ZW50LnhtbC5qYXIiLmVxdWFsc0lnbm9yZUNhc2UoZmls
ZXNbaV0uZ2V0TmFtZSgpKSkgew0KKwkJCWlmICgiY29udGVudC5qYXIiLmVxdWFsc0lnbm9yZUNh
c2UoZmlsZXNbaV0uZ2V0TmFtZSgpKSkgew0KIAkJCQlqYXJGaWxlUHJlc2VudCA9IHRydWU7DQog
CQkJfQ0KIAkJfQ0KI1Agb3JnLmVjbGlwc2UuZXF1aW5veC5wMi5tZXRhZGF0YS5nZW5lcmF0b3IN
CkluZGV4OiBNZXRhZGF0YSBHZW5lcmF0b3IgU0RLLmxhdW5jaA0KPT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZp
bGU6IC9jdnNyb290L2VjbGlwc2UvZXF1aW5veC1pbmN1YmF0b3IvcHJvdmlzaW9uaW5nL29yZy5l
Y2xpcHNlLmVxdWlub3gucDIubWV0YWRhdGEuZ2VuZXJhdG9yL01ldGFkYXRhIEdlbmVyYXRvciBT
REsubGF1bmNoLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS40DQpkaWZmIC11IC1yMS40IE1ldGFk
YXRhIEdlbmVyYXRvciBTREsubGF1bmNoDQotLS0gTWV0YWRhdGEgR2VuZXJhdG9yIFNESy5sYXVu
Y2gJMzAgT2N0IDIwMDcgMjA6MDU6MTAgLTAwMDAJMS40DQorKysgTWV0YWRhdGEgR2VuZXJhdG9y
IFNESy5sYXVuY2gJMTAgSmFuIDIwMDggMTk6MjU6MTQgLTAwMDANCkBAIC0xMSw3ICsxMSw4IEBA
DQogPGludEF0dHJpYnV0ZSBrZXk9ImRlZmF1bHRfc3RhcnRfbGV2ZWwiIHZhbHVlPSI0Ii8+DQog
PGJvb2xlYW5BdHRyaWJ1dGUga2V5PSJpbmNsdWRlT3B0aW9uYWwiIHZhbHVlPSJmYWxzZSIvPg0K
IDxib29sZWFuQXR0cmlidXRlIGtleT0ib3JnLmVjbGlwc2UuZGVidWcuY29yZS5hcHBlbmRFbnZp
cm9ubWVudFZhcmlhYmxlcyIgdmFsdWU9InRydWUiLz4NCi08c3RyaW5nQXR0cmlidXRlIGtleT0i
b3JnLmVjbGlwc2UuamR0LmxhdW5jaGluZy5QUk9HUkFNX0FSR1VNRU5UUyIgdmFsdWU9Ii1jb25z
b2xlICYjMTM7JiMxMDstY29uc29sZWxvZyYjMTM7JiMxMDstYXBwbGljYXRpb24gb3JnLmVjbGlw
c2UuZXF1aW5veC5wMi5tZXRhZGF0YS5nZW5lcmF0b3IuRWNsaXBzZUdlbmVyYXRvciYjMTM7JiMx
MDstbWV0YWRhdGFSZXBvc2l0b3J5IGZpbGU6QzovcHJvdi9wMi9zZXJ2ZXJzLyYjMTM7JiMxMDst
YXJ0aWZhY3RSZXBvc2l0b3J5IGZpbGU6QzovcHJvdi9wMi9zZXJ2ZXJzLyYjMTM7JiMxMDstc291
cmNlIEM6L2VjbGlwc2UzLjMvZWNsaXBzZSYjMTM7JiMxMDstcm9vdCBzZGsmIzEzOyYjMTA7LXJv
b3RWZXJzaW9uIDMuMy4wJiMxMzsmIzEwOy1mbGF2b3IgdG9vbGluZyYjMTM7JiMxMDstcHVibGlz
aEFydGlmYWN0cyYjMTM7JiMxMDstYXBwZW5kIi8+DQorPHN0cmluZ0F0dHJpYnV0ZSBrZXk9Im9y
Zy5lY2xpcHNlLmpkdC5sYXVuY2hpbmcuSlJFX0NPTlRBSU5FUiIgdmFsdWU9Im9yZy5lY2xpcHNl
LmpkdC5sYXVuY2hpbmcuSlJFX0NPTlRBSU5FUi9vcmcuZWNsaXBzZS5qZHQuaW50ZXJuYWwuZGVi
dWcudWkubGF1bmNoZXIuU3RhbmRhcmRWTVR5cGUvZWNsaXBzZSIvPg0KKzxzdHJpbmdBdHRyaWJ1
dGUga2V5PSJvcmcuZWNsaXBzZS5qZHQubGF1bmNoaW5nLlBST0dSQU1fQVJHVU1FTlRTIiB2YWx1
ZT0iLWNvbnNvbGUgJiMxMzsmIzEwOy1jb25zb2xlbG9nJiMxMzsmIzEwOy1hcHBsaWNhdGlvbiBv
cmcuZWNsaXBzZS5lcXVpbm94LnAyLm1ldGFkYXRhLmdlbmVyYXRvci5FY2xpcHNlR2VuZXJhdG9y
JiMxMzsmIzEwOy1tZXRhZGF0YVJlcG9zaXRvcnkgZmlsZTpDOi9wcm92L3AyL3NlcnZlcnMvJiMx
MzsmIzEwOy1hcnRpZmFjdFJlcG9zaXRvcnkgZmlsZTpDOi9wcm92L3AyL3NlcnZlcnMvJiMxMzsm
IzEwOy1zb3VyY2UgQzovZWNsaXBzZTMuMy9lY2xpcHNlJiMxMzsmIzEwOy1yb290IHNkayYjMTM7
JiMxMDstcm9vdFZlcnNpb24gMy4zLjAmIzEzOyYjMTA7LWZsYXZvciB0b29saW5nJiMxMzsmIzEw
Oy1wdWJsaXNoQXJ0aWZhY3RzJiMxMzsmIzEwOy1hcHBlbmQmIzEzOyYjMTA7LWNvbXByZXNzIi8+
DQogPHN0cmluZ0F0dHJpYnV0ZSBrZXk9Im9yZy5lY2xpcHNlLmpkdC5sYXVuY2hpbmcuU09VUkNF
X1BBVEhfUFJPVklERVIiIHZhbHVlPSJvcmcuZWNsaXBzZS5wZGUudWkud29ya2JlbmNoQ2xhc3Nw
YXRoUHJvdmlkZXIiLz4NCiA8c3RyaW5nQXR0cmlidXRlIGtleT0icGRlLnZlcnNpb24iIHZhbHVl
PSIzLjMiLz4NCiA8Ym9vbGVhbkF0dHJpYnV0ZSBrZXk9InNob3dfc2VsZWN0ZWRfb25seSIgdmFs
dWU9ImZhbHNlIi8+DQpAQCAtMTksNiArMjAsNSBAQA0KIDxib29sZWFuQXR0cmlidXRlIGtleT0i
dHJhY2luZyIgdmFsdWU9ImZhbHNlIi8+DQogPGJvb2xlYW5BdHRyaWJ1dGUga2V5PSJ1c2VEZWZh
dWx0Q29uZmlnQXJlYSIgdmFsdWU9InRydWUiLz4NCiA8Ym9vbGVhbkF0dHJpYnV0ZSBrZXk9InVz
ZU5hbWVkSlJFIiB2YWx1ZT0idHJ1ZSIvPg0KLTxzdHJpbmdBdHRyaWJ1dGUga2V5PSJ2bWluc3Rh
bGwiIHZhbHVlPSJqMnNkazEuNC4yXzA4Ii8+DQogPHN0cmluZ0F0dHJpYnV0ZSBrZXk9Indvcmtz
cGFjZV9idW5kbGVzIiB2YWx1ZT0ib3JnLmFwYWNoZS54ZXJjZXNAZGVmYXVsdDpkZWZhdWx0LG9y
Zy5hcGFjaGUueG1sLnJlc29sdmVyQGRlZmF1bHQ6ZGVmYXVsdCxvcmcuZWNsaXBzZS5lY2ZAZGVm
YXVsdDpkZWZhdWx0LG9yZy5lY2xpcHNlLmVjZi5maWxldHJhbnNmZXJAZGVmYXVsdDpkZWZhdWx0
LG9yZy5lY2xpcHNlLmVjZi5pZGVudGl0eUBkZWZhdWx0OmRlZmF1bHQsb3JnLmVjbGlwc2UuZXF1
aW5veC5mcmFtZXdvcmthZG1pbkBkZWZhdWx0OmRlZmF1bHQsb3JnLmVjbGlwc2UuZXF1aW5veC5m
cmFtZXdvcmthZG1pbi5lcXVpbm94QGRlZmF1bHQ6dHJ1ZSxvcmcuZWNsaXBzZS5lcXVpbm94LnAy
LmFydGlmYWN0LnJlcG9zaXRvcnlAZGVmYXVsdDpkZWZhdWx0LG9yZy5lY2xpcHNlLmVxdWlub3gu
cDIuY29yZUBkZWZhdWx0OmRlZmF1bHQsb3JnLmVjbGlwc2UuZXF1aW5veC5wMi5kb3dubG9hZEBk
ZWZhdWx0OmRlZmF1bHQsb3JnLmVjbGlwc2UuZXF1aW5veC5wMi5lbmdpbmVAZGVmYXVsdDpkZWZh
dWx0LG9yZy5lY2xpcHNlLmVxdWlub3gucDIubWV0YWRhdGFAZGVmYXVsdDpkZWZhdWx0LG9yZy5l
Y2xpcHNlLmVxdWlub3gucDIubWV0YWRhdGEuZ2VuZXJhdG9yQGRlZmF1bHQ6ZGVmYXVsdCxvcmcu
ZWNsaXBzZS5lcXVpbm94LnAyLm1ldGFkYXRhLnJlcG9zaXRvcnlAZGVmYXVsdDpkZWZhdWx0Ii8+
DQogPC9sYXVuY2hDb25maWd1cmF0aW9uPg0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9lcXVpbm94
L2ludGVybmFsL3AyL21ldGFkYXRhL2dlbmVyYXRvci9FY2xpcHNlR2VuZXJhdG9yQXBwbGljYXRp
b24uamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2UvZXF1aW5veC1p
bmN1YmF0b3IvcHJvdmlzaW9uaW5nL29yZy5lY2xpcHNlLmVxdWlub3gucDIubWV0YWRhdGEuZ2Vu
ZXJhdG9yL3NyYy9vcmcvZWNsaXBzZS9lcXVpbm94L2ludGVybmFsL3AyL21ldGFkYXRhL2dlbmVy
YXRvci9FY2xpcHNlR2VuZXJhdG9yQXBwbGljYXRpb24uamF2YSx2DQpyZXRyaWV2aW5nIHJldmlz
aW9uIDEuMTENCmRpZmYgLXUgLXIxLjExIEVjbGlwc2VHZW5lcmF0b3JBcHBsaWNhdGlvbi5qYXZh
DQotLS0gc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvaW50ZXJuYWwvcDIvbWV0YWRhdGEvZ2VuZXJh
dG9yL0VjbGlwc2VHZW5lcmF0b3JBcHBsaWNhdGlvbi5qYXZhCTggSmFuIDIwMDggMjA6MDU6MzEg
LTAwMDAJMS4xMQ0KKysrIHNyYy9vcmcvZWNsaXBzZS9lcXVpbm94L2ludGVybmFsL3AyL21ldGFk
YXRhL2dlbmVyYXRvci9FY2xpcHNlR2VuZXJhdG9yQXBwbGljYXRpb24uamF2YQkxMCBKYW4gMjAw
OCAxOToyNToxNCAtMDAwMA0KQEAgLTEwNSw4ICsxMDUsMTAgQEANCiAJCS8vIFRPRE8gZm9yIG5v
dyBjcmVhdGUgYSBTaW1wbGUgcmVwbyBieSBkZWZhdWx0Lg0KIAkJU3RyaW5nIHJlcG9zaXRvcnlO
YW1lID0gYXJ0aWZhY3RMb2NhdGlvbiArICIgLSBhcnRpZmFjdHMiOyAvLyROT04tTkxTLTEkDQog
CQlJQXJ0aWZhY3RSZXBvc2l0b3J5IHJlc3VsdCA9IG1hbmFnZXIuY3JlYXRlUmVwb3NpdG9yeShs
b2NhdGlvbiwgcmVwb3NpdG9yeU5hbWUsICJvcmcuZWNsaXBzZS5lcXVpbm94LnAyLmFydGlmYWN0
LnJlcG9zaXRvcnkuc2ltcGxlUmVwb3NpdG9yeSIpOyAvLyROT04tTkxTLTEkDQotCQlpZiAocmVz
dWx0ICE9IG51bGwpDQorCQlpZiAocmVzdWx0ICE9IG51bGwpIHsNCiAJCQlwcm92aWRlci5zZXRB
cnRpZmFjdFJlcG9zaXRvcnkocmVzdWx0KTsNCisJCQlyZXN1bHQuc2V0UHJvcGVydHkoSVJlcG9z
aXRvcnkuUFJPUF9DT01QUkVTU0VELCBjb21wcmVzcyk7DQorCQl9DQogCX0NCiANCiAJcHVibGlj
IHZvaWQgaW5pdGlhbGl6ZUZvcklucGxhY2UoRWNsaXBzZUluc3RhbGxHZW5lcmF0b3JJbmZvUHJv
dmlkZXIgcHJvdmlkZXIpIHsNCkBAIC0xNDcsOSArMTQ5LDEwIEBADQogCQkvLyBUT0RPIGZvciBu
b3cgY3JlYXRlIGEgcmFuZG9tIHJlcG8gYnkgZGVmYXVsdC4NCiAJCVN0cmluZyByZXBvc2l0b3J5
TmFtZSA9IG1ldGFkYXRhTG9jYXRpb24gKyAiIC0gbWV0YWRhdGEiOyAvLyROT04tTkxTLTEkDQog
CQlJTWV0YWRhdGFSZXBvc2l0b3J5IHJlc3VsdCA9IG1hbmFnZXIuY3JlYXRlUmVwb3NpdG9yeShs
b2NhdGlvbiwgcmVwb3NpdG9yeU5hbWUsIElNZXRhZGF0YVJlcG9zaXRvcnlNYW5hZ2VyLlRZUEVf
U0lNUExFX1JFUE9TSVRPUlkpOw0KLQkJcmVzdWx0LnNldFByb3BlcnR5KElSZXBvc2l0b3J5LlBS
T1BfQ09NUFJFU1NFRCwgY29tcHJlc3MpOw0KLQkJaWYgKHJlc3VsdCAhPSBudWxsKQ0KKwkJaWYg
KHJlc3VsdCAhPSBudWxsKSB7DQorCQkJcmVzdWx0LnNldFByb3BlcnR5KElSZXBvc2l0b3J5LlBS
T1BfQ09NUFJFU1NFRCwgY29tcHJlc3MpOw0KIAkJCXByb3ZpZGVyLnNldE1ldGFkYXRhUmVwb3Np
dG9yeShyZXN1bHQpOw0KKwkJfQ0KIAl9DQogDQogCXByaXZhdGUgdm9pZCBpbml0aWFsaXplUmVw
b3NpdG9yaWVzKEVjbGlwc2VJbnN0YWxsR2VuZXJhdG9ySW5mb1Byb3ZpZGVyIHByb3ZpZGVyKSB7
DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvcDIvbWV0YWRhdGEvZ2VuZXJhdG9yL0dl
bmVyYXRvci5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9lcXVp
bm94LWluY3ViYXRvci9wcm92aXNpb25pbmcvb3JnLmVjbGlwc2UuZXF1aW5veC5wMi5tZXRhZGF0
YS5nZW5lcmF0b3Ivc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvcDIvbWV0YWRhdGEvZ2VuZXJhdG9y
L0dlbmVyYXRvci5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS4zNQ0KZGlmZiAtdSAtcjEu
MzUgR2VuZXJhdG9yLmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9wMi9tZXRhZGF0
YS9nZW5lcmF0b3IvR2VuZXJhdG9yLmphdmEJMiBKYW4gMjAwOCAyMjozOToxMiAtMDAwMAkxLjM1
DQorKysgc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvcDIvbWV0YWRhdGEvZ2VuZXJhdG9yL0dlbmVy
YXRvci5qYXZhCTEwIEphbiAyMDA4IDE5OjI1OjE0IC0wMDAwDQpAQCAtMjIsNiArMjIsNyBAQA0K
IGltcG9ydCBvcmcuZWNsaXBzZS5lcXVpbm94LnAyLm1ldGFkYXRhLio7DQogaW1wb3J0IG9yZy5l
Y2xpcHNlLmVxdWlub3gucDIubWV0YWRhdGEuTWV0YWRhdGFGYWN0b3J5Lkluc3RhbGxhYmxlVW5p
dERlc2NyaXB0aW9uOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5lcXVpbm94LnAyLm1ldGFkYXRhLk1l
dGFkYXRhRmFjdG9yeS5JbnN0YWxsYWJsZVVuaXRGcmFnbWVudERlc2NyaXB0aW9uOw0KK2ltcG9y
dCBvcmcuZWNsaXBzZS5lcXVpbm94LnAyLm1ldGFkYXRhLnJlcG9zaXRvcnkuSU1ldGFkYXRhUmVw
b3NpdG9yeTsNCiBpbXBvcnQgb3JnLmVjbGlwc2Uub3NnaS5zZXJ2aWNlLnJlc29sdmVyLio7DQog
aW1wb3J0IG9yZy5vc2dpLmZyYW1ld29yay5WZXJzaW9uOw0KIA0KQEAgLTMyLDE2ICszMyw2IEBA
DQogDQogCS8vCXByaXZhdGUgc3RhdGljIFN0cmluZ1tdW10gZGVmYXVsdE1hcHBpbmdSdWxlcyA9
IG5ldyBTdHJpbmdbXVtdIHsgeyIoJiAobmFtZXNwYWNlPWVjbGlwc2UpIChjbGFzc2lmaWVyPWZl
YXR1cmUpKSIsICIke3JlcG9Vcmx9L2ZlYXR1cmUvJHtpZH1fJHt2ZXJzaW9ufSJ9LCB7IigmIChu
YW1lc3BhY2U9ZWNsaXBzZSkgKGNsYXNzaWZpZXI9cGx1Z2luKSkiLCAiJHtyZXBvVXJsfS9wbHVn
aW4vJHtpZH1fJHt2ZXJzaW9ufSJ9LCB7IigmIChuYW1lc3BhY2U9ZWNsaXBzZSkgKGNsYXNzaWZp
ZXI9bmF0aXZlKSkiLCAiJHtyZXBvVXJsfS9uYXRpdmUvJHtpZH1fJHt2ZXJzaW9ufSJ9fTsNCiAN
Ci0JcHJpdmF0ZSBmaW5hbCBJR2VuZXJhdG9ySW5mbyBpbmZvOw0KLQ0KLQkvKioNCi0JICogU2hv
cnQgdGVybSBmaXggdG8gZW5zdXJlIElVcyB0aGF0IGhhdmUgbm8gY29ycmVzcG9uZGluZyBjYXRl
Z29yeSBhcmUgbm90IGxvc3QuDQotCSAqIFNlZSBodHRwczovL2J1Z3MuZWNsaXBzZS5vcmcvYnVn
cy9zaG93X2J1Zy5jZ2k/aWQ9MjExNTIxLg0KLQkgKi8NCi0JcHJvdGVjdGVkIGZpbmFsIFNldCBy
b290Q2F0ZWdvcnkgPSBuZXcgSGFzaFNldCgpOw0KLQ0KLQlwcml2YXRlIFN0YXRlT2JqZWN0RmFj
dG9yeSBzdGF0ZU9iamVjdEZhY3Rvcnk7DQotDQogCS8qKg0KIAkgKiBDb252ZXJ0IGEgbGlzdCBv
ZiB0b2tlbnMgaW50byBhbiBhcnJheS4gVGhlIGxpc3Qgc2VwYXJhdG9yIGhhcyB0byBiZQ0KIAkg
KiBzcGVjaWZpZWQuDQpAQCAtNTgsNiArNDksMTYgQEANCiAJCXJldHVybiAoU3RyaW5nW10pIHJl
c3VsdC50b0FycmF5KG5ldyBTdHJpbmdbcmVzdWx0LnNpemUoKV0pOw0KIAl9DQogDQorCXByaXZh
dGUgZmluYWwgSUdlbmVyYXRvckluZm8gaW5mbzsNCisNCisJLyoqDQorCSAqIFNob3J0IHRlcm0g
Zml4IHRvIGVuc3VyZSBJVXMgdGhhdCBoYXZlIG5vIGNvcnJlc3BvbmRpbmcgY2F0ZWdvcnkgYXJl
IG5vdCBsb3N0Lg0KKwkgKiBTZWUgaHR0cHM6Ly9idWdzLmVjbGlwc2Uub3JnL2J1Z3Mvc2hvd19i
dWcuY2dpP2lkPTIxMTUyMS4NCisJICovDQorCXByb3RlY3RlZCBmaW5hbCBTZXQgcm9vdENhdGVn
b3J5ID0gbmV3IEhhc2hTZXQoKTsNCisNCisJcHJpdmF0ZSBTdGF0ZU9iamVjdEZhY3Rvcnkgc3Rh
dGVPYmplY3RGYWN0b3J5Ow0KKw0KIAlwdWJsaWMgR2VuZXJhdG9yKElHZW5lcmF0b3JJbmZvIGlu
Zm9Qcm92aWRlcikgew0KIAkJdGhpcy5pbmZvID0gaW5mb1Byb3ZpZGVyOw0KIAkJLy8gVE9ETyBu
ZWVkIHRvIGZpZ3VyZSBhIGJldHRlciB3YXkgb2YgY29uZmlndXJpbmcgdGhlIGdlbmVyYXRvci4u
Lg0KQEAgLTE3MCw3ICsxNzEsOSBAQA0KIAkJLy8JCWlmIChpbmZvLnB1Ymxpc2hBcnRpZmFjdHMo
KSB8fCBpbmZvLnB1Ymxpc2hBcnRpZmFjdFJlcG9zaXRvcnkoKSkgew0KIAkJLy8JCQlwZXJzaXN0
ZW5jZS5zYXZlQXJ0aWZhY3RSZXBvc2l0b3J5KCk7DQogCQkvLwkJfQ0KLQkJaW5mby5nZXRNZXRh
ZGF0YVJlcG9zaXRvcnkoKS5hZGRJbnN0YWxsYWJsZVVuaXRzKChJSW5zdGFsbGFibGVVbml0W10p
IGl1cy50b0FycmF5KG5ldyBJSW5zdGFsbGFibGVVbml0W2l1cy5zaXplKCldKSk7DQorCQlJTWV0
YWRhdGFSZXBvc2l0b3J5IG1ldGFkYXRhUmVwb3NpdG9yeSA9IGluZm8uZ2V0TWV0YWRhdGFSZXBv
c2l0b3J5KCk7DQorCQlpZiAobWV0YWRhdGFSZXBvc2l0b3J5ICE9IG51bGwpDQorCQkJbWV0YWRh
dGFSZXBvc2l0b3J5LmFkZEluc3RhbGxhYmxlVW5pdHMoKElJbnN0YWxsYWJsZVVuaXRbXSkgaXVz
LnRvQXJyYXkobmV3IElJbnN0YWxsYWJsZVVuaXRbaXVzLnNpemUoKV0pKTsNCiANCiAJCXJldHVy
biBTdGF0dXMuT0tfU1RBVFVTOw0KIAl9DQojUCBvcmcuZWNsaXBzZS5lcXVpbm94LnAyLmFydGlm
YWN0LnJlcG9zaXRvcnkNCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9w
Mi9hcnRpZmFjdC9yZXBvc2l0b3J5L3NpbXBsZS9TaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnlGYWN0
b3J5LmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9vdC9lY2xpcHNlL2VxdWlub3gt
aW5jdWJhdG9yL3Byb3Zpc2lvbmluZy9vcmcuZWNsaXBzZS5lcXVpbm94LnAyLmFydGlmYWN0LnJl
cG9zaXRvcnkvc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvaW50ZXJuYWwvcDIvYXJ0aWZhY3QvcmVw
b3NpdG9yeS9zaW1wbGUvU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5RmFjdG9yeS5qYXZhLHYNCnJl
dHJpZXZpbmcgcmV2aXNpb24gMS40DQpkaWZmIC11IC1yMS40IFNpbXBsZUFydGlmYWN0UmVwb3Np
dG9yeUZhY3RvcnkuamF2YQ0KLS0tIHNyYy9vcmcvZWNsaXBzZS9lcXVpbm94L2ludGVybmFsL3Ay
L2FydGlmYWN0L3JlcG9zaXRvcnkvc2ltcGxlL1NpbXBsZUFydGlmYWN0UmVwb3NpdG9yeUZhY3Rv
cnkuamF2YQkxOSBEZWMgMjAwNyAxNDozODozOCAtMDAwMAkxLjQNCisrKyBzcmMvb3JnL2VjbGlw
c2UvZXF1aW5veC9pbnRlcm5hbC9wMi9hcnRpZmFjdC9yZXBvc2l0b3J5L3NpbXBsZS9TaW1wbGVB
cnRpZmFjdFJlcG9zaXRvcnlGYWN0b3J5LmphdmEJMTAgSmFuIDIwMDggMTk6MjU6MTUgLTAwMDAN
CkBAIC0xMiw4ICsxMiwxMCBAQA0KIA0KIGltcG9ydCBqYXZhLmlvLio7DQogaW1wb3J0IGphdmEu
bmV0LlVSTDsNCi1pbXBvcnQgamF2YS51dGlsLnppcC5HWklQSW5wdXRTdHJlYW07DQoraW1wb3J0
IGphdmEudXRpbC5qYXIuSmFyRW50cnk7DQoraW1wb3J0IGphdmEudXRpbC5qYXIuSmFySW5wdXRT
dHJlYW07DQogaW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucnVudGltZS5JU3RhdHVzOw0KK2ltcG9y
dCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuUGF0aDsNCiBpbXBvcnQgb3JnLmVjbGlwc2UuZXF1
aW5veC5pbnRlcm5hbC5wMi5hcnRpZmFjdC5yZXBvc2l0b3J5LkVDRlRyYW5zcG9ydDsNCiBpbXBv
cnQgb3JnLmVjbGlwc2UuZXF1aW5veC5pbnRlcm5hbC5wMi5hcnRpZmFjdC5yZXBvc2l0b3J5LlRy
YW5zcG9ydDsNCiBpbXBvcnQgb3JnLmVjbGlwc2UuZXF1aW5veC5wMi5hcnRpZmFjdC5yZXBvc2l0
b3J5LklBcnRpZmFjdFJlcG9zaXRvcnk7DQpAQCAtMzAsMTUgKzMyLDE1IEBADQogCQkJLy8gVE9E
TyBUaGlzIHRlbXBvcmFyeSBmaWxlIHN0dWZmIGlzIG5vdCB2ZXJ5IGVsZWdhbnQuIA0KIAkJCU91
dHB1dFN0cmVhbSBhcnRpZmFjdHMgPSBudWxsOw0KIAkJCXRlbXAgPSBGaWxlLmNyZWF0ZVRlbXBG
aWxlKCJhcnRpZmFjdHMiLCAiLnhtbCIpOyAvLyROT04tTkxTLTEkIC8vJE5PTi1OTFMtMiQNCi0J
CQkvLyB0cnkgd2l0aCBnemlwDQotCQkJYm9vbGVhbiBnemlwID0gdHJ1ZTsNCisJCQkvLyB0cnkg
d2l0aCBjb21wcmVzc2VkDQorCQkJYm9vbGVhbiBjb21wcmVzcyA9IHRydWU7DQogCQkJdHJ5IHsN
CiAJCQkJYXJ0aWZhY3RzID0gbmV3IEJ1ZmZlcmVkT3V0cHV0U3RyZWFtKG5ldyBGaWxlT3V0cHV0
U3RyZWFtKHRlbXApKTsNCi0JCQkJSVN0YXR1cyBzdGF0dXMgPSBnZXRUcmFuc3BvcnQoKS5kb3du
bG9hZChTaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnkuZ2V0QWN0dWFsTG9jYXRpb24obG9jYXRpb24s
IGd6aXApLnRvRXh0ZXJuYWxGb3JtKCksIGFydGlmYWN0cywgbnVsbCk7DQorCQkJCUlTdGF0dXMg
c3RhdHVzID0gZ2V0VHJhbnNwb3J0KCkuZG93bmxvYWQoU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5
LmdldEFjdHVhbExvY2F0aW9uKGxvY2F0aW9uLCBjb21wcmVzcykudG9FeHRlcm5hbEZvcm0oKSwg
YXJ0aWZhY3RzLCBudWxsKTsNCiAJCQkJaWYgKCFzdGF0dXMuaXNPSygpKSB7DQotCQkJCQkvLyBy
ZXRyeSB1bnppcHBlZA0KLQkJCQkJZ3ppcCA9IGZhbHNlOw0KLQkJCQkJc3RhdHVzID0gZ2V0VHJh
bnNwb3J0KCkuZG93bmxvYWQoU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5LmdldEFjdHVhbExvY2F0
aW9uKGxvY2F0aW9uLCBnemlwKS50b0V4dGVybmFsRm9ybSgpLCBhcnRpZmFjdHMsIG51bGwpOw0K
KwkJCQkJLy8gcmV0cnkgdW5jb21wcmVzc2VkDQorCQkJCQljb21wcmVzcyA9IGZhbHNlOw0KKwkJ
CQkJc3RhdHVzID0gZ2V0VHJhbnNwb3J0KCkuZG93bmxvYWQoU2ltcGxlQXJ0aWZhY3RSZXBvc2l0
b3J5LmdldEFjdHVhbExvY2F0aW9uKGxvY2F0aW9uLCBjb21wcmVzcykudG9FeHRlcm5hbEZvcm0o
KSwgYXJ0aWZhY3RzLCBudWxsKTsNCiAJCQkJCWlmICghc3RhdHVzLmlzT0soKSkNCiAJCQkJCQly
ZXR1cm4gbnVsbDsNCiAJCQkJfQ0KQEAgLTQ5LDggKzUxLDE5IEBADQogCQkJSW5wdXRTdHJlYW0g
ZGVzY3JpcHRvclN0cmVhbSA9IG51bGw7DQogCQkJdHJ5IHsNCiAJCQkJZGVzY3JpcHRvclN0cmVh
bSA9IG5ldyBCdWZmZXJlZElucHV0U3RyZWFtKG5ldyBGaWxlSW5wdXRTdHJlYW0odGVtcCkpOw0K
LQkJCQlpZiAoZ3ppcCkNCi0JCQkJCWRlc2NyaXB0b3JTdHJlYW0gPSBuZXcgR1pJUElucHV0U3Ry
ZWFtKGRlc2NyaXB0b3JTdHJlYW0pOw0KKwkJCQlpZiAoY29tcHJlc3MpIHsNCisJCQkJCVVSTCBh
Y3R1YWxGaWxlID0gU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5LmdldEFjdHVhbExvY2F0aW9uKGxv
Y2F0aW9uLCBmYWxzZSk7DQorCQkJCQlKYXJJbnB1dFN0cmVhbSBqSW5TdHJlYW0gPSBuZXcgSmFy
SW5wdXRTdHJlYW0oZGVzY3JpcHRvclN0cmVhbSk7DQorCQkJCQlKYXJFbnRyeSBqYXJFbnRyeSA9
IGpJblN0cmVhbS5nZXROZXh0SmFyRW50cnkoKTsNCisJCQkJCVN0cmluZyBmaWxlbmFtZSA9IG5l
dyBQYXRoKGFjdHVhbEZpbGUuZ2V0RmlsZSgpKS5sYXN0U2VnbWVudCgpOw0KKwkJCQkJd2hpbGUg
KGphckVudHJ5ICE9IG51bGwgJiYgIShmaWxlbmFtZS5lcXVhbHMoamFyRW50cnkuZ2V0TmFtZSgp
KSkpIHsNCisJCQkJCQlqYXJFbnRyeSA9IGpJblN0cmVhbS5nZXROZXh0SmFyRW50cnkoKTsNCisJ
CQkJCX0NCisJCQkJCWlmIChqYXJFbnRyeSA9PSBudWxsKSB7DQorCQkJCQkJdGhyb3cgbmV3IEZp
bGVOb3RGb3VuZEV4Y2VwdGlvbigiUmVwb3NpdG9yeSBub3QgZm91bmQgaW4gIiArIGFjdHVhbEZp
bGUuZ2V0UGF0aCgpKTsgLy8kTk9OLU5MUy0xJA0KKwkJCQkJfQ0KKwkJCQkJZGVzY3JpcHRvclN0
cmVhbSA9IGpJblN0cmVhbTsNCisJCQkJfQ0KIAkJCQlTaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnlJ
TyBpbyA9IG5ldyBTaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnlJTygpOw0KIAkJCQlTaW1wbGVBcnRp
ZmFjdFJlcG9zaXRvcnkgcmVzdWx0ID0gKFNpbXBsZUFydGlmYWN0UmVwb3NpdG9yeSkgaW8ucmVh
ZChkZXNjcmlwdG9yU3RyZWFtKTsNCiAJCQkJcmVzdWx0LmluaXRpYWxpemVBZnRlckxvYWQobG9j
YXRpb24pOw0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9lcXVpbm94L2ludGVybmFsL3AyL2FydGlm
YWN0L3JlcG9zaXRvcnkvc2ltcGxlL1NpbXBsZUFydGlmYWN0UmVwb3NpdG9yeS5qYXZhDQo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9lcXVpbm94LWluY3ViYXRvci9wcm92
aXNpb25pbmcvb3JnLmVjbGlwc2UuZXF1aW5veC5wMi5hcnRpZmFjdC5yZXBvc2l0b3J5L3NyYy9v
cmcvZWNsaXBzZS9lcXVpbm94L2ludGVybmFsL3AyL2FydGlmYWN0L3JlcG9zaXRvcnkvc2ltcGxl
L1NpbXBsZUFydGlmYWN0UmVwb3NpdG9yeS5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS4y
Mw0KZGlmZiAtdSAtcjEuMjMgU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5LmphdmENCi0tLSBzcmMv
b3JnL2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9hcnRpZmFjdC9yZXBvc2l0b3J5L3NpbXBs
ZS9TaW1wbGVBcnRpZmFjdFJlcG9zaXRvcnkuamF2YQkxMCBKYW4gMjAwOCAwMzo1NTo1MSAtMDAw
MAkxLjIzDQorKysgc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvaW50ZXJuYWwvcDIvYXJ0aWZhY3Qv
cmVwb3NpdG9yeS9zaW1wbGUvU2ltcGxlQXJ0aWZhY3RSZXBvc2l0b3J5LmphdmEJMTAgSmFuIDIw
MDggMTk6MjU6MTUgLTAwMDANCkBAIC0xMiw3ICsxMiw4IEBADQogaW1wb3J0IGphdmEubmV0Lk1h
bGZvcm1lZFVSTEV4Y2VwdGlvbjsNCiBpbXBvcnQgamF2YS5uZXQuVVJMOw0KIGltcG9ydCBqYXZh
LnV0aWwuKjsNCi1pbXBvcnQgamF2YS51dGlsLnppcC5HWklQT3V0cHV0U3RyZWFtOw0KK2ltcG9y
dCBqYXZhLnV0aWwuamFyLkphckVudHJ5Ow0KK2ltcG9ydCBqYXZhLnV0aWwuamFyLkphck91dHB1
dFN0cmVhbTsNCiBpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLio7DQogaW1wb3J0IG9y
Zy5lY2xpcHNlLmVxdWlub3guaW50ZXJuYWwucDIuYXJ0aWZhY3QucmVwb3NpdG9yeS4qOw0KIGlt
cG9ydCBvcmcuZWNsaXBzZS5lcXVpbm94LmludGVybmFsLnAyLmNvcmUuaGVscGVycy5GaWxlVXRp
bHM7DQpAQCAtMjUsNyArMjYsNyBAQA0KIHB1YmxpYyBjbGFzcyBTaW1wbGVBcnRpZmFjdFJlcG9z
aXRvcnkgZXh0ZW5kcyBBYnN0cmFjdEFydGlmYWN0UmVwb3NpdG9yeSBpbXBsZW1lbnRzIElBcnRp
ZmFjdFJlcG9zaXRvcnksIElGaWxlQXJ0aWZhY3RSZXBvc2l0b3J5IHsNCiANCiAJc3RhdGljIGZp
bmFsIHByaXZhdGUgU3RyaW5nIEJMT0JTVE9SRSA9ICIuYmxvYnN0b3JlLyI7IC8vJE5PTi1OTFMt
MSQNCi0Jc3RhdGljIGZpbmFsIHByaXZhdGUgU3RyaW5nIENPTlRFTlRfRklMRU5BTUUgPSAiYXJ0
aWZhY3RzLnhtbCI7IC8vJE5PTi1OTFMtMSQNCisJc3RhdGljIGZpbmFsIHByaXZhdGUgU3RyaW5n
IENPTlRFTlRfRklMRU5BTUUgPSAiYXJ0aWZhY3RzIjsgLy8kTk9OLU5MUy0xJA0KIAlzdGF0aWMg
ZmluYWwgcHJpdmF0ZSBTdHJpbmcgUkVQT1NJVE9SWV9UWVBFID0gIm9yZy5lY2xpcHNlLmVxdWlu
b3gucDIuYXJ0aWZhY3QucmVwb3NpdG9yeS5zaW1wbGVSZXBvc2l0b3J5IjsgLy8kTk9OLU5MUy0x
JA0KIAlzdGF0aWMgZmluYWwgcHJpdmF0ZSBJbnRlZ2VyIFJFUE9TSVRPUllfVkVSU0lPTiA9IG5l
dyBJbnRlZ2VyKDEpOw0KIAlzdGF0aWMgZmluYWwgcHVibGljIFN0cmluZ1tdW10gREVGQVVMVF9N
QVBQSU5HX1JVTEVTID0geyB7IigmIChuYW1lc3BhY2U9ZWNsaXBzZSkgKGNsYXNzaWZpZXI9cGx1
Z2luKSkiLCAiJHtyZXBvVXJsfS9wbHVnaW5zLyR7aWR9XyR7dmVyc2lvbn0uamFyIn0sIC8vJE5P
Ti1OTFMtMSQvLyROT04tTkxTLTIkDQpAQCAtMzUsNyArMzYsNyBAQA0KIAlwcml2YXRlIHN0YXRp
YyBmaW5hbCBTdHJpbmcgQVJUSUZBQ1RfRk9MREVSID0gImFydGlmYWN0LmZvbGRlciI7IC8vJE5P
Ti1OTFMtMSQNCiAJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIEFSVElGQUNUX1JFRkVSRU5D
RSA9ICJhcnRpZmFjdC5yZWZlcmVuY2UiOyAvLyROT04tTkxTLTEkDQogCXByaXZhdGUgc3RhdGlj
IGZpbmFsIFN0cmluZyBKQVJfRVhURU5TSU9OID0gIi5qYXIiOyAvLyROT04tTkxTLTEkDQotCXBy
aXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBHWklQX0VYVEVOU0lPTiA9ICIuZ3oiOyAvLyROT04t
TkxTLTEkDQorCXByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBYTUxfRVhURU5TSU9OID0gIi54
bWwiOyAvLyROT04tTkxTLTEkDQogDQogCXRyYW5zaWVudCBwcml2YXRlIE1hcHBlciBtYXBwZXIg
PSBuZXcgTWFwcGVyKCk7DQogCXByb3RlY3RlZCBTdHJpbmdbXVtdIG1hcHBpbmdSdWxlcyA9IERF
RkFVTFRfTUFQUElOR19SVUxFUzsNCkBAIC00Myw4ICs0NCw4IEBADQogCXByaXZhdGUgYm9vbGVh
biBzaWduYXR1cmVWZXJpZmljYXRpb24gPSBmYWxzZTsNCiAJcHJpdmF0ZSB0cmFuc2llbnQgQmxv
YlN0b3JlIGJsb2JTdG9yZTsNCiANCi0JcHVibGljIHN0YXRpYyBVUkwgZ2V0QWN0dWFsTG9jYXRp
b24oVVJMIGJhc2UsIGJvb2xlYW4gZ3ppcCkgew0KLQkJcmV0dXJuIGdldEFjdHVhbExvY2F0aW9u
KGJhc2UsIGd6aXAgPyBHWklQX0VYVEVOU0lPTiA6ICIiKTsgLy8kTk9OLU5MUy0xJA0KKwlwdWJs
aWMgc3RhdGljIFVSTCBnZXRBY3R1YWxMb2NhdGlvbihVUkwgYmFzZSwgYm9vbGVhbiBjb21wcmVz
cykgew0KKwkJcmV0dXJuIGdldEFjdHVhbExvY2F0aW9uKGJhc2UsIGNvbXByZXNzID8gSkFSX0VY
VEVOU0lPTiA6IFhNTF9FWFRFTlNJT04pOw0KIAl9DQogDQogCXByaXZhdGUgc3RhdGljIFVSTCBn
ZXRBY3R1YWxMb2NhdGlvbihVUkwgYmFzZSwgU3RyaW5nIGV4dGVuc2lvbikgew0KQEAgLTQzMiwy
MiArNDMzLDM5IEBADQogCX0NCiANCiAJcHVibGljIHZvaWQgc2F2ZSgpIHsNCi0JCXNhdmUodHJ1
ZSk7DQorCQlib29sZWFuIGNvbXByZXNzID0gInRydWUiLmVxdWFsc0lnbm9yZUNhc2UoKFN0cmlu
ZykgcHJvcGVydGllcy5nZXQoUFJPUF9DT01QUkVTU0VEKSk7IC8vJE5PTi1OTFMtMSQNCisJCXNh
dmUoY29tcHJlc3MpOw0KIAl9DQogDQotCXB1YmxpYyB2b2lkIHNhdmUoYm9vbGVhbiBnemlwKSB7
DQorCXB1YmxpYyB2b2lkIHNhdmUoYm9vbGVhbiBjb21wcmVzcykgew0KIAkJT3V0cHV0U3RyZWFt
IG9zID0gbnVsbDsNCiAJCXRyeSB7DQogCQkJdHJ5IHsNCi0JCQkJVVJMIGFjdHVhbExvY2F0aW9u
ID0gZ2V0QWN0dWFsTG9jYXRpb24obG9jYXRpb24sIGd6aXApOw0KKwkJCQlVUkwgYWN0dWFsTG9j
YXRpb24gPSBnZXRBY3R1YWxMb2NhdGlvbihsb2NhdGlvbiwgZmFsc2UpOw0KIAkJCQlGaWxlIGFy
dGlmYWN0c0ZpbGUgPSBuZXcgRmlsZShhY3R1YWxMb2NhdGlvbi5nZXRQYXRoKCkpOw0KLQkJCQlp
ZiAoIWFydGlmYWN0c0ZpbGUuZXhpc3RzKCkpIHsNCi0JCQkJCS8vIGNyZWF0ZSBwYXJlbnQgZm9s
ZGVycw0KLQkJCQkJYXJ0aWZhY3RzRmlsZS5nZXRQYXJlbnRGaWxlKCkubWtkaXJzKCk7DQorCQkJ
CUZpbGUgamFyRmlsZSA9IG5ldyBGaWxlKGdldEFjdHVhbExvY2F0aW9uKGxvY2F0aW9uLCB0cnVl
KS5nZXRQYXRoKCkpOw0KKwkJCQlpZiAoIWNvbXByZXNzKSB7DQorCQkJCQlpZiAoamFyRmlsZS5l
eGlzdHMoKSkgew0KKwkJCQkJCWphckZpbGUuZGVsZXRlKCk7DQorCQkJCQl9DQorCQkJCQlpZiAo
IWFydGlmYWN0c0ZpbGUuZXhpc3RzKCkpIHsNCisJCQkJCQkvLyBjcmVhdGUgcGFyZW50IGZvbGRl
cnMNCisJCQkJCQlhcnRpZmFjdHNGaWxlLmdldFBhcmVudEZpbGUoKS5ta2RpcnMoKTsNCisJCQkJ
CX0NCisJCQkJCW9zID0gbmV3IEZpbGVPdXRwdXRTdHJlYW0oYXJ0aWZhY3RzRmlsZSk7DQorCQkJ
CX0gZWxzZSB7DQorCQkJCQlpZiAoYXJ0aWZhY3RzRmlsZS5leGlzdHMoKSkgew0KKwkJCQkJCWFy
dGlmYWN0c0ZpbGUuZGVsZXRlKCk7DQorCQkJCQl9DQorCQkJCQlpZiAoIWphckZpbGUuZXhpc3Rz
KCkpIHsNCisJCQkJCQlpZiAoIWphckZpbGUuZ2V0UGFyZW50RmlsZSgpLmV4aXN0cygpKQ0KKwkJ
CQkJCQlqYXJGaWxlLmdldFBhcmVudEZpbGUoKS5ta2RpcnMoKTsNCisJCQkJCQlqYXJGaWxlLmNy
ZWF0ZU5ld0ZpbGUoKTsNCisJCQkJCX0NCisJCQkJCUphck91dHB1dFN0cmVhbSBqT3MgPSBuZXcg
SmFyT3V0cHV0U3RyZWFtKG5ldyBGaWxlT3V0cHV0U3RyZWFtKGphckZpbGUpKTsNCisJCQkJCWpP
cy5wdXROZXh0RW50cnkobmV3IEphckVudHJ5KG5ldyBQYXRoKGFjdHVhbExvY2F0aW9uLmdldEZp
bGUoKSkubGFzdFNlZ21lbnQoKSkpOw0KKwkJCQkJb3MgPSBqT3M7DQogCQkJCX0NCi0JCQkJb3Mg
PSBuZXcgRmlsZU91dHB1dFN0cmVhbShhcnRpZmFjdHNGaWxlKTsNCi0JCQkJaWYgKGd6aXApDQot
CQkJCQlvcyA9IG5ldyBHWklQT3V0cHV0U3RyZWFtKG9zKTsNCiAJCQkJbmV3IFNpbXBsZUFydGlm
YWN0UmVwb3NpdG9yeUlPKCkud3JpdGUodGhpcywgb3MpOw0KIAkJCX0gY2F0Y2ggKElPRXhjZXB0
aW9uIGUpIHsNCiAJCQkJLy8gVE9ETyBwcm9wZXIgZXhjZXB0aW9uIGhhbmRsaW5nDQojUCBvcmcu
ZWNsaXBzZS5lcXVpbm94LnAyLm1ldGFkYXRhLnJlcG9zaXRvcnkNCkluZGV4OiBzcmMvb3JnL2Vj
bGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9tZXRhZGF0YS9yZXBvc2l0b3J5L1NpbXBsZU1ldGFk
YXRhUmVwb3NpdG9yeUZhY3RvcnkuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290
L2VjbGlwc2UvZXF1aW5veC1pbmN1YmF0b3IvcHJvdmlzaW9uaW5nL29yZy5lY2xpcHNlLmVxdWlu
b3gucDIubWV0YWRhdGEucmVwb3NpdG9yeS9zcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9pbnRlcm5h
bC9wMi9tZXRhZGF0YS9yZXBvc2l0b3J5L1NpbXBsZU1ldGFkYXRhUmVwb3NpdG9yeUZhY3Rvcnku
amF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuMTMNCmRpZmYgLXUgLXIxLjEzIFNpbXBsZU1l
dGFkYXRhUmVwb3NpdG9yeUZhY3RvcnkuamF2YQ0KLS0tIHNyYy9vcmcvZWNsaXBzZS9lcXVpbm94
L2ludGVybmFsL3AyL21ldGFkYXRhL3JlcG9zaXRvcnkvU2ltcGxlTWV0YWRhdGFSZXBvc2l0b3J5
RmFjdG9yeS5qYXZhCTEwIEphbiAyMDA4IDE4OjE2OjI3IC0wMDAwCTEuMTMNCisrKyBzcmMvb3Jn
L2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9tZXRhZGF0YS9yZXBvc2l0b3J5L1NpbXBsZU1l
dGFkYXRhUmVwb3NpdG9yeUZhY3RvcnkuamF2YQkxMCBKYW4gMjAwOCAxOToyNToxNSAtMDAwMA0K
QEAgLTI1LDYgKzI1LDcgQEANCiBwdWJsaWMgY2xhc3MgU2ltcGxlTWV0YWRhdGFSZXBvc2l0b3J5
RmFjdG9yeSBpbXBsZW1lbnRzIElNZXRhZGF0YVJlcG9zaXRvcnlGYWN0b3J5IHsNCiANCiAJcHJp
dmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIEpBUl9FWFRFTlNJT04gPSAiLmphciI7IC8vJE5PTi1O
TFMtMSQNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFhNTF9FWFRFTlNJT04gPSAiLnht
bCI7DQogDQogCXB1YmxpYyBJTWV0YWRhdGFSZXBvc2l0b3J5IGNyZWF0ZShVUkwgbG9jYXRpb24s
IFN0cmluZyBuYW1lLCBTdHJpbmcgdHlwZSkgew0KIAkJaWYgKGxvY2F0aW9uLmdldFByb3RvY29s
KCkuZXF1YWxzKCJmaWxlIikpIC8vJE5PTi1OTFMtMSQNCkBAIC0zNyw3ICszOCw3IEBADQogCQlJ
TWV0YWRhdGFSZXBvc2l0b3J5IHJlc3VsdCA9IGxvYWQobG9jYXRpb24sIEpBUl9FWFRFTlNJT04p
Ow0KIAkJLy8gY29tcHJlc3NlZCBmaWxlIGlzIG5vdCBhdmFpbGFibGUsIGxvYWQgdGhlIHhtbA0K
IAkJaWYgKHJlc3VsdCA9PSBudWxsKSB7DQotCQkJcmVzdWx0ID0gbG9hZChsb2NhdGlvbiwgbnVs
bCk7DQorCQkJcmVzdWx0ID0gbG9hZChsb2NhdGlvbiwgWE1MX0VYVEVOU0lPTik7DQogCQl9DQog
CQlyZXR1cm4gcmVzdWx0Ow0KIAl9DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvaW50
ZXJuYWwvcDIvbWV0YWRhdGEvcmVwb3NpdG9yeS9VUkxNZXRhZGF0YVJlcG9zaXRvcnkuamF2YQ0K
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2UvZXF1aW5veC1pbmN1YmF0b3Iv
cHJvdmlzaW9uaW5nL29yZy5lY2xpcHNlLmVxdWlub3gucDIubWV0YWRhdGEucmVwb3NpdG9yeS9z
cmMvb3JnL2VjbGlwc2UvZXF1aW5veC9pbnRlcm5hbC9wMi9tZXRhZGF0YS9yZXBvc2l0b3J5L1VS
TE1ldGFkYXRhUmVwb3NpdG9yeS5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS45DQpkaWZm
IC11IC1yMS45IFVSTE1ldGFkYXRhUmVwb3NpdG9yeS5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNl
L2VxdWlub3gvaW50ZXJuYWwvcDIvbWV0YWRhdGEvcmVwb3NpdG9yeS9VUkxNZXRhZGF0YVJlcG9z
aXRvcnkuamF2YQk4IEphbiAyMDA4IDIwOjA1OjMzIC0wMDAwCTEuOQ0KKysrIHNyYy9vcmcvZWNs
aXBzZS9lcXVpbm94L2ludGVybmFsL3AyL21ldGFkYXRhL3JlcG9zaXRvcnkvVVJMTWV0YWRhdGFS
ZXBvc2l0b3J5LmphdmEJMTAgSmFuIDIwMDggMTk6MjU6MTYgLTAwMDANCkBAIC0yNSw3ICsyNSw4
IEBADQogICovDQogcHVibGljIGNsYXNzIFVSTE1ldGFkYXRhUmVwb3NpdG9yeSBleHRlbmRzIEFi
c3RyYWN0TWV0YWRhdGFSZXBvc2l0b3J5IHsNCiANCi0Jc3RhdGljIGZpbmFsIHByb3RlY3RlZCBT
dHJpbmcgQ09OVEVOVF9GSUxFTkFNRSA9ICJjb250ZW50LnhtbCI7IC8vJE5PTi1OTFMtMSQNCisJ
c3RhdGljIGZpbmFsIHByb3RlY3RlZCBTdHJpbmcgQ09OVEVOVF9GSUxFTkFNRSA9ICJjb250ZW50
IjsgLy8kTk9OLU5MUy0xJA0KKwlzdGF0aWMgZmluYWwgcHJpdmF0ZSBTdHJpbmcgWE1MX0VYVEVO
U0lPTiA9ICIueG1sIjsgLy8kTk9OLU5MUy0xJA0KIAlzdGF0aWMgZmluYWwgcHJpdmF0ZSBTdHJp
bmcgUkVQT1NJVE9SWV9UWVBFID0gVVJMTWV0YWRhdGFSZXBvc2l0b3J5LmNsYXNzLmdldE5hbWUo
KTsNCiAJc3RhdGljIGZpbmFsIHByaXZhdGUgSW50ZWdlciBSRVBPU0lUT1JZX1ZFUlNJT04gPSBu
ZXcgSW50ZWdlcigxKTsNCiANCkBAIC0zMywxMiArMzQsMTIgQEANCiAJcHJvdGVjdGVkIEhhc2hT
ZXQgdW5pdHMgPSBuZXcgTGlua2VkSGFzaFNldCgpOw0KIA0KIAlwdWJsaWMgc3RhdGljIFVSTCBn
ZXRBY3R1YWxMb2NhdGlvbihVUkwgYmFzZSkgew0KLQkJcmV0dXJuIGdldEFjdHVhbExvY2F0aW9u
KGJhc2UsIG51bGwpOw0KKwkJcmV0dXJuIGdldEFjdHVhbExvY2F0aW9uKGJhc2UsIFhNTF9FWFRF
TlNJT04pOw0KIAl9DQogDQogCXB1YmxpYyBzdGF0aWMgVVJMIGdldEFjdHVhbExvY2F0aW9uKFVS
TCBiYXNlLCBTdHJpbmcgZXh0ZW5zaW9uKSB7DQogCQlpZiAoZXh0ZW5zaW9uID09IG51bGwpIHsN
Ci0JCQlleHRlbnNpb24gPSAiIjsgLy8kTk9OLU5MUy0xJA0KKwkJCWV4dGVuc2lvbiA9IFhNTF9F
WFRFTlNJT047DQogCQl9DQogCQlTdHJpbmcgc3BlYyA9IGJhc2UudG9FeHRlcm5hbEZvcm0oKTsN
CiAJCWlmIChzcGVjLmVuZHNXaXRoKENPTlRFTlRfRklMRU5BTUUgKyBleHRlbnNpb24pKQ0KSW5k
ZXg6IHNyYy9vcmcvZWNsaXBzZS9lcXVpbm94L2ludGVybmFsL3AyL21ldGFkYXRhL3JlcG9zaXRv
cnkvTG9jYWxNZXRhZGF0YVJlcG9zaXRvcnkuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9j
dnNyb290L2VjbGlwc2UvZXF1aW5veC1pbmN1YmF0b3IvcHJvdmlzaW9uaW5nL29yZy5lY2xpcHNl
LmVxdWlub3gucDIubWV0YWRhdGEucmVwb3NpdG9yeS9zcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9p
bnRlcm5hbC9wMi9tZXRhZGF0YS9yZXBvc2l0b3J5L0xvY2FsTWV0YWRhdGFSZXBvc2l0b3J5Lmph
dmEsdg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjE2DQpkaWZmIC11IC1yMS4xNiBMb2NhbE1ldGFk
YXRhUmVwb3NpdG9yeS5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL2VxdWlub3gvaW50ZXJuYWwv
cDIvbWV0YWRhdGEvcmVwb3NpdG9yeS9Mb2NhbE1ldGFkYXRhUmVwb3NpdG9yeS5qYXZhCTEwIEph
biAyMDA4IDE3OjU0OjA1IC0wMDAwCTEuMTYNCisrKyBzcmMvb3JnL2VjbGlwc2UvZXF1aW5veC9p
bnRlcm5hbC9wMi9tZXRhZGF0YS9yZXBvc2l0b3J5L0xvY2FsTWV0YWRhdGFSZXBvc2l0b3J5Lmph
dmEJMTAgSmFuIDIwMDggMTk6MjU6MTUgLTAwMDANCkBAIC0yOSwxMCArMjksMTEgQEANCiAgKiBh
bmQgY29tYmluZSBhbnkgbWV0YWRhdGEgcmVwb3NpdG9yeSBmaWxlcyB0aGF0IGFyZSBmb3VuZC4N
CiAgKi8NCiBwdWJsaWMgY2xhc3MgTG9jYWxNZXRhZGF0YVJlcG9zaXRvcnkgZXh0ZW5kcyBBYnN0
cmFjdE1ldGFkYXRhUmVwb3NpdG9yeSB7DQotCXN0YXRpYyBmaW5hbCBwcml2YXRlIFN0cmluZyBD
T05URU5UX0ZJTEVOQU1FID0gImNvbnRlbnQueG1sIjsgLy8kTk9OLU5MUy0xJA0KKwlzdGF0aWMg
ZmluYWwgcHJpdmF0ZSBTdHJpbmcgQ09OVEVOVF9GSUxFTkFNRSA9ICJjb250ZW50IjsgLy8kTk9O
LU5MUy0xJA0KIAlzdGF0aWMgZmluYWwgcHJpdmF0ZSBTdHJpbmcgUkVQT1NJVE9SWV9UWVBFID0g
TG9jYWxNZXRhZGF0YVJlcG9zaXRvcnkuY2xhc3MuZ2V0TmFtZSgpOw0KIAlzdGF0aWMgZmluYWwg
cHJpdmF0ZSBJbnRlZ2VyIFJFUE9TSVRPUllfVkVSU0lPTiA9IG5ldyBJbnRlZ2VyKDEpOw0KIAlz
dGF0aWMgZmluYWwgcHJpdmF0ZSBTdHJpbmcgSkFSX0VYVEVOU0lPTiA9ICIuamFyIjsgLy8kTk9O
LU5MUy0xJA0KKwlzdGF0aWMgZmluYWwgcHJpdmF0ZSBTdHJpbmcgWE1MX0VYVEVOU0lPTiA9ICIu
eG1sIjsgLy8kTk9OLU5MUy0xJA0KIA0KIAlwcm90ZWN0ZWQgSGFzaFNldCB1bml0cyA9IG5ldyBM
aW5rZWRIYXNoU2V0KCk7DQogDQpAQCAtNDgsNyArNDksNyBAQA0KIAl9DQogDQogCXB1YmxpYyBz
dGF0aWMgRmlsZSBnZXRBY3R1YWxMb2NhdGlvbihVUkwgbG9jYXRpb24pIHsNCi0JCXJldHVybiBn
ZXRBY3R1YWxMb2NhdGlvbihsb2NhdGlvbiwgIiIpOyAvLyROT04tTkxTLTEkDQorCQlyZXR1cm4g
Z2V0QWN0dWFsTG9jYXRpb24obG9jYXRpb24sIFhNTF9FWFRFTlNJT04pOyAvLyROT04tTkxTLTEk
DQogCX0NCiANCiAJLyoqDQpAQCAtMTI3LDIyICsxMjgsMjQgQEANCiANCiAJcHJpdmF0ZSB2b2lk
IHNhdmUoKSB7DQogCQlGaWxlIGZpbGUgPSBnZXRBY3R1YWxMb2NhdGlvbihsb2NhdGlvbik7DQot
CQlib29sZWFuIGphciA9ICJ0cnVlIi5lcXVhbHNJZ25vcmVDYXNlKChTdHJpbmcpIHByb3BlcnRp
ZXMuZ2V0KFBST1BfQ09NUFJFU1NFRCkpOyAvLyROT04tTkxTLTEkDQorCQlGaWxlIGphckZpbGUg
PSBnZXRBY3R1YWxMb2NhdGlvbihsb2NhdGlvbiwgSkFSX0VYVEVOU0lPTik7DQorCQlib29sZWFu
IGNvbXByZXNzID0gInRydWUiLmVxdWFsc0lnbm9yZUNhc2UoKFN0cmluZykgcHJvcGVydGllcy5n
ZXQoUFJPUF9DT01QUkVTU0VEKSk7IC8vJE5PTi1OTFMtMSQNCiAJCXRyeSB7DQogCQkJT3V0cHV0
U3RyZWFtIG91dHB1dCA9IG51bGw7DQotCQkJaWYgKCFqYXIpIHsNCisJCQlpZiAoIWNvbXByZXNz
KSB7DQorCQkJCWlmIChqYXJGaWxlLmV4aXN0cygpKSB7DQorCQkJCQlqYXJGaWxlLmRlbGV0ZSgp
Ow0KKwkJCQl9DQogCQkJCWlmICghZmlsZS5leGlzdHMoKSkgew0KIAkJCQkJaWYgKCFmaWxlLmdl
dFBhcmVudEZpbGUoKS5leGlzdHMoKSkNCiAJCQkJCQlmaWxlLmdldFBhcmVudEZpbGUoKS5ta2Rp
cnMoKTsNCiAJCQkJCWZpbGUuY3JlYXRlTmV3RmlsZSgpOw0KIAkJCQl9DQogCQkJCW91dHB1dCA9
IG5ldyBGaWxlT3V0cHV0U3RyZWFtKGZpbGUpOw0KLQkJCX0NCi0JCQlpZiAoamFyKSB7DQorCQkJ
fSBlbHNlIHsNCiAJCQkJaWYgKGZpbGUuZXhpc3RzKCkpIHsNCiAJCQkJCWZpbGUuZGVsZXRlKCk7
DQogCQkJCX0NCi0JCQkJRmlsZSBqYXJGaWxlID0gZ2V0QWN0dWFsTG9jYXRpb24obG9jYXRpb24s
IEpBUl9FWFRFTlNJT04pOw0KIAkJCQlpZiAoIWphckZpbGUuZXhpc3RzKCkpIHsNCiAJCQkJCWlm
ICghamFyRmlsZS5nZXRQYXJlbnRGaWxlKCkuZXhpc3RzKCkpDQogCQkJCQkJamFyRmlsZS5nZXRQ
YXJlbnRGaWxlKCkubWtkaXJzKCk7DQo=
</data>

          </attachment>
      

    </bug>

</bugzilla>