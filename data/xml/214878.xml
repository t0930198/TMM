<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.1"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>214878</bug_id>
          
          <creation_ts>2008-01-10 06:48:00 -0500</creation_ts>
          <short_desc>Wrong hard-code URI for the OCL metamodel</short_desc>
          <delta_ts>2011-05-27 02:41:17 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>11</classification_id>
          <classification>Modeling</classification>
          <product>MDT.OCL</product>
          <component>Core</component>
          <version>1.1.0</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>CLOSED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P1</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>M5</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Victor Roldan Betancort">vroldan</reporter>
          <assigned_to name="Christian W. Damus">give.a.damus</assigned_to>
          
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1128804</commentid>
    <comment_count>0</comment_count>
    <who name="Victor Roldan Betancort">vroldan</who>
    <bug_when>2008-01-10 06:48:26 -0500</bug_when>
    <thetext>Inside org.eclipse.ocl.expressions.impl.ExpressionsPackageImpl

Line 351, inside &quot;static {class OCLPackageImpl extends EPackageImpl {.....&quot;

oclPackage.setNsURI(&quot;http://www.eclipse.org/OCL/1.1.0/OCL&quot;); 

Wrongly hard-coded URI. First &quot;OCL&quot; string instance should be lowercase.
This made my editors crash on and on again.

Should be:
oclPackage.setNsURI(&quot;http://www.eclipse.org/ocl/1.1.0/OCL&quot;);</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1128840</commentid>
    <comment_count>1</comment_count>
    <who name="Christian W. Damus">give.a.damus</who>
    <bug_when>2008-01-10 08:37:32 -0500</bug_when>
    <thetext>I&apos;ll assume this was found in the 1.1 release.

This string shouldn&apos;t even be hard-coded here.  The Environment::OCL_NAMESPACE_URI constant should be used, instead (and has the correct value).</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1128845</commentid>
    <comment_count>2</comment_count>
    <who name="Victor Roldan Betancort">vroldan</who>
    <bug_when>2008-01-10 08:45:38 -0500</bug_when>
    <thetext>(In reply to comment #1)
&gt; I&apos;ll assume this was found in the 1.1 release.
&gt; 
&gt; This string shouldn&apos;t even be hard-coded here.  The
&gt; Environment::OCL_NAMESPACE_URI constant should be used, instead (and has the
&gt; correct value).
&gt; 

Im sorry Christian, I didn&apos;t specify the version.
I found that on 1.2.0  Integration Build I200801031555.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1128957</commentid>
    <comment_count>3</comment_count>
      <attachid>86568</attachid>
    <who name="Christian W. Damus">give.a.damus</who>
    <bug_when>2008-01-10 11:15:54 -0500</bug_when>
    <thetext>Created attachment 86568
Proposed patch

Attached a patch that address the problem of the root OCL package being initialized with the wrong namespace URI.  Includes a JUnit test for this.

Also fixes the problem of nested packages not creating their own resources, resulting in references being serialized relative to the OCL package&apos;s namespace URI rather than the specific namespace URIs of the child packages.  JUnits included to test serialization of all child packages.

Victor, I would appreciate it greatly if you could test this patch in your editor before I commit it.  Thanks!</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1129499</commentid>
    <comment_count>4</comment_count>
    <who name="Victor Roldan Betancort">vroldan</who>
    <bug_when>2008-01-11 04:13:25 -0500</bug_when>
    <thetext>Great job, Christian!

I&apos;ve tested it and seems to be working fine. Now it doesn&apos;t change the URI and the editors doesn&apos;t crash. I&apos;ll keep testing anyway, but the main issue, the unexpected URI change, has been fixed.

That even fixed the a path issue: Instead of http://www.eclipse.org/ocl/1.1.0/OCL#//OCLExpression, I had to use
http://www.eclipse.org/ocl/1.1.0/OCL#//ecore/OCLExpression, since the first one wasn&apos;t recognized (appeared as null in the editor). And then, once saved, it turned back to the wrong URI.

Thank you for the fast feedback and patch!

VÃ­ctor.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1129627</commentid>
    <comment_count>5</comment_count>
    <who name="Christian W. Damus">give.a.damus</who>
    <bug_when>2008-01-11 09:37:13 -0500</bug_when>
    <thetext>Thanks, Victor, for testing the patch!

The patch is committed to the HEAD (1.2 release) branch.

I hesitate to commit this to the 1.1 maintenance branch, also, because it&apos;s a fairly significant change to the serialization of metamodels that reference OCL.  My own testing has convinced me that the HREFs serialized previously still resolve to the same elements, so I think compatibility would be OK.  However, no other Eclipse components have metamodels that reference OCL&apos;s 1.1 release (some QVT implementations are based on the 1.2 version), so it doesn&apos;t seem so urgent.

Please comment if this is also needed in the maintenance branch.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1132925</commentid>
    <comment_count>6</comment_count>
    <who name="Christian W. Damus">give.a.damus</who>
    <bug_when>2008-01-17 00:55:11 -0500</bug_when>
    <thetext>Fixed in I200801162020.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1141145</commentid>
    <comment_count>7</comment_count>
    <who name="Nick Boldt">nickboldt</who>
    <bug_when>2008-01-28 16:39:38 -0500</bug_when>
    <thetext>Move to verified as per bug 206558.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1938642</commentid>
    <comment_count>8</comment_count>
    <who name="Ed Willink">ed</who>
    <bug_when>2011-05-27 02:39:01 -0400</bug_when>
    <thetext>Closing after over a year in verified state.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1938882</commentid>
    <comment_count>9</comment_count>
    <who name="Ed Willink">ed</who>
    <bug_when>2011-05-27 02:41:17 -0400</bug_when>
    <thetext>Closing after over a year in verified state.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>86568</attachid>
            <date>2008-01-10 11:15:00 -0500</date>
            <delta_ts>2008-01-10 11:15:54 -0500</delta_ts>
            <desc>Proposed patch</desc>
            <filename>clipboard.txt</filename>
            <type>text/plain</type>
            <size>27173</size>
            <attacher name="Christian W. Damus">give.a.damus</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMAojUCBvcmcuZWNsaXBzZS5vY2wuZWNvcmUu
dGVzdHMKSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9vY2wvZWNvcmUvdGVzdHMvU2VyaWFsaXphdGlv
blRlc3QuamF2YQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09ClJDUyBmaWxlOiAvY3Zzcm9vdC9tb2RlbGluZy9vcmcuZWNs
aXBzZS5tZHQvb3JnLmVjbGlwc2Uub2NsL3Rlc3RzL29yZy5lY2xpcHNlLm9jbC5lY29yZS50ZXN0
cy9zcmMvb3JnL2VjbGlwc2Uvb2NsL2Vjb3JlL3Rlc3RzL1NlcmlhbGl6YXRpb25UZXN0LmphdmEs
dgpyZXRyaWV2aW5nIHJldmlzaW9uIDEuNApkaWZmIC11IC1yMS40IFNlcmlhbGl6YXRpb25UZXN0
LmphdmEKLS0tIHNyYy9vcmcvZWNsaXBzZS9vY2wvZWNvcmUvdGVzdHMvU2VyaWFsaXphdGlvblRl
c3QuamF2YQk1IE1heSAyMDA3IDAwOjQ3OjEzIC0wMDAwCTEuNAorKysgc3JjL29yZy9lY2xpcHNl
L29jbC9lY29yZS90ZXN0cy9TZXJpYWxpemF0aW9uVGVzdC5qYXZhCTEwIEphbiAyMDA4IDE2OjEy
OjI1IC0wMDAwCkBAIC0xLDcgKzEsNyBAQAogLyoqCiAgKiA8Y29weXJpZ2h0PgogICogCi0gKiBD
b3B5cmlnaHQgKGMpIDIwMDYsIDIwMDcgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisgKiBD
b3B5cmlnaHQgKGMpIDIwMDYsIDIwMDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAgKiBB
bGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0
ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xp
cHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJp
YnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0CkBAIC0yNiwyMiArMjYsMzAgQEAKIGltcG9ydCBq
dW5pdC5mcmFtZXdvcmsuVGVzdFN1aXRlOwogCiBpbXBvcnQgb3JnLmVjbGlwc2UuZW1mLmNvbW1v
bi51dGlsLlVSSTsKK2ltcG9ydCBvcmcuZWNsaXBzZS5lbWYuZWNvcmUuRUNsYXNzOwogaW1wb3J0
IG9yZy5lY2xpcHNlLmVtZi5lY29yZS5FQ2xhc3NpZmllcjsKIGltcG9ydCBvcmcuZWNsaXBzZS5l
bWYuZWNvcmUuRU9iamVjdDsKIGltcG9ydCBvcmcuZWNsaXBzZS5lbWYuZWNvcmUuRU9wZXJhdGlv
bjsKK2ltcG9ydCBvcmcuZWNsaXBzZS5lbWYuZWNvcmUuRVBhY2thZ2U7CitpbXBvcnQgb3JnLmVj
bGlwc2UuZW1mLmVjb3JlLkVSZWZlcmVuY2U7CiBpbXBvcnQgb3JnLmVjbGlwc2UuZW1mLmVjb3Jl
LkVTdHJ1Y3R1cmFsRmVhdHVyZTsKK2ltcG9ydCBvcmcuZWNsaXBzZS5lbWYuZWNvcmUuRWNvcmVG
YWN0b3J5OwogaW1wb3J0IG9yZy5lY2xpcHNlLmVtZi5lY29yZS5FY29yZVBhY2thZ2U7CiBpbXBv
cnQgb3JnLmVjbGlwc2UuZW1mLmVjb3JlLnJlc291cmNlLlJlc291cmNlOwogaW1wb3J0IG9yZy5l
Y2xpcHNlLmVtZi5lY29yZS5yZXNvdXJjZS5SZXNvdXJjZVNldDsKIGltcG9ydCBvcmcuZWNsaXBz
ZS5lbWYuZWNvcmUucmVzb3VyY2UuaW1wbC5SZXNvdXJjZVNldEltcGw7CiBpbXBvcnQgb3JnLmVj
bGlwc2UuZW1mLmVjb3JlLnhtaS5YTUxSZXNvdXJjZTsKIGltcG9ydCBvcmcuZWNsaXBzZS5lbWYu
ZWNvcmUueG1pLmltcGwuWE1JUmVzb3VyY2VJbXBsOworaW1wb3J0IG9yZy5lY2xpcHNlLm9jbC5F
bnZpcm9ubWVudDsKIGltcG9ydCBvcmcuZWNsaXBzZS5vY2wuZWNvcmUuQ29uc3RyYWludDsKIGlt
cG9ydCBvcmcuZWNsaXBzZS5vY2wuZWNvcmUuRWNvcmVFbnZpcm9ubWVudDsKIGltcG9ydCBvcmcu
ZWNsaXBzZS5vY2wuZWNvcmUuT0NMOwogaW1wb3J0IG9yZy5lY2xpcHNlLm9jbC5lY29yZS5PcGVy
YXRpb25DYWxsRXhwOwogaW1wb3J0IG9yZy5lY2xpcHNlLm9jbC5lY29yZS5UeXBlVHlwZTsKK2lt
cG9ydCBvcmcuZWNsaXBzZS5vY2wuZXhwcmVzc2lvbnMuRXhwcmVzc2lvbnNQYWNrYWdlOwogaW1w
b3J0IG9yZy5lY2xpcHNlLm9jbC5leHByZXNzaW9ucy5PQ0xFeHByZXNzaW9uOworaW1wb3J0IG9y
Zy5lY2xpcHNlLm9jbC50eXBlcy5UeXBlc1BhY2thZ2U7CitpbXBvcnQgb3JnLmVjbGlwc2Uub2Ns
LnV0aWxpdGllcy5VdGlsaXRpZXNQYWNrYWdlOwogCiAvKioKICAqIFRlc3RzIGZvciBzZXJpYWxp
emF0aW9uIG9mIE9DTCBjb25zdHJhaW50cyBhbmQgZXhwcmVzc2lvbnMuCkBAIC0zMTIsNiArMzIw
LDEzNCBAQAogICAgICAgICBUeXBlVHlwZSB0eXBlVHlwZSA9IChUeXBlVHlwZSkgZXhwci5nZXRU
eXBlKCk7CiAgICAgICAgIGFzc2VydFNhbWUoRWNvcmVQYWNrYWdlLkxpdGVyYWxzLkVQQUNLQUdF
LCB0eXBlVHlwZS5nZXRSZWZlcnJlZFR5cGUoKSk7CiAgICAgfQorICAgIAorICAgIHB1YmxpYyB2
b2lkIHRlc3RfcmVmZXJlbmNlVG9HZW5lcmljT0NMRXhwcmVzc2lvbnNQYWNrYWdlXzIxNDg3OCgp
IHsKKyAgICAgICAgRVBhY2thZ2UgZXBhY2thZ2UgPSBFY29yZUZhY3RvcnkuZUlOU1RBTkNFLmNy
ZWF0ZUVQYWNrYWdlKCk7CisgICAgICAgIGVwYWNrYWdlLnNldE5hbWUoImZvbyIpOyAvLyROT04t
TkxTLTEkCisgICAgICAgIAorICAgICAgICBFQ2xhc3MgZWNsYXNzID0gRWNvcmVGYWN0b3J5LmVJ
TlNUQU5DRS5jcmVhdGVFQ2xhc3MoKTsKKyAgICAgICAgZWNsYXNzLnNldE5hbWUoIkZvbyIpOyAv
LyROT04tTkxTLTEkCisgICAgICAgIGVwYWNrYWdlLmdldEVDbGFzc2lmaWVycygpLmFkZChlY2xh
c3MpOworICAgICAgICAKKyAgICAgICAgRVJlZmVyZW5jZSByZWYgPSBFY29yZUZhY3RvcnkuZUlO
U1RBTkNFLmNyZWF0ZUVSZWZlcmVuY2UoKTsKKyAgICAgICAgcmVmLnNldE5hbWUoImV4cHIiKTsg
Ly8kTk9OLU5MUy0xJAorICAgICAgICByZWYuc2V0RVR5cGUoRXhwcmVzc2lvbnNQYWNrYWdlLkxp
dGVyYWxzLk9DTF9FWFBSRVNTSU9OKTsKKyAgICAgICAgZWNsYXNzLmdldEVTdHJ1Y3R1cmFsRmVh
dHVyZXMoKS5hZGQocmVmKTsKKyAgICAgICAgCisgICAgICAgIFN0cmluZyBzZXJpYWxGb3JtID0g
c2VyaWFsaXplKGVwYWNrYWdlKTsKKyAgICAgICAgCisgICAgICAgIGVwYWNrYWdlID0gbG9hZChz
ZXJpYWxGb3JtLCBFUGFja2FnZS5jbGFzcyk7CisgICAgICAgIGVjbGFzcyA9IChFQ2xhc3MpIGVw
YWNrYWdlLmdldEVDbGFzc2lmaWVyKCJGb28iKTsgLy8kTk9OLU5MUy0xJAorICAgICAgICBhc3Nl
cnROb3ROdWxsKGVjbGFzcyk7CisgICAgICAgIGFzc2VydEZhbHNlKGVjbGFzcy5lSXNQcm94eSgp
KTsKKyAgICAgICAgCisgICAgICAgIHJlZiA9IChFUmVmZXJlbmNlKSBlY2xhc3MuZ2V0RVN0cnVj
dHVyYWxGZWF0dXJlKCJleHByIik7IC8vJE5PTi1OTFMtMSQKKyAgICAgICAgYXNzZXJ0Tm90TnVs
bChyZWYpOworICAgICAgICBhc3NlcnRGYWxzZShyZWYuZUlzUHJveHkoKSk7CisgICAgICAgIAor
ICAgICAgICBhc3NlcnRTYW1lKEV4cHJlc3Npb25zUGFja2FnZS5MaXRlcmFscy5PQ0xfRVhQUkVT
U0lPTiwgcmVmLmdldEVUeXBlKCkpOworICAgICAgICAKKyAgICAgICAgLy8gY29ycmVjdCBsb2Fk
aW5nIGlzIG9uZSB0aGluZy4gIGJ1dCB0aGUgcmVmZXJlbmNlIG11c3QgbG9vaworICAgICAgICAv
LyBjb3JyZWN0IGluIHRoZSBzZXJpYWwgZm9ybSwgYWxzbworICAgICAgICBhc3NlcnRGYWxzZShz
ZXJpYWxGb3JtLmNvbnRhaW5zKEVudmlyb25tZW50Lk9DTF9OQU1FU1BBQ0VfVVJJICsgIiMvL2V4
cHJlc3Npb25zL09DTEV4cHJlc3Npb24iKSk7IC8vJE5PTi1OTFMtMSQKKyAgICAgICAgYXNzZXJ0
VHJ1ZShzZXJpYWxGb3JtLmNvbnRhaW5zKEV4cHJlc3Npb25zUGFja2FnZS5lTlNfVVJJICsgIiMv
L09DTEV4cHJlc3Npb24iKSk7IC8vJE5PTi1OTFMtMSQKKyAgICB9CisgICAgCisgICAgcHVibGlj
IHZvaWQgdGVzdF9yZWZlcmVuY2VUb0dlbmVyaWNPQ0xUeXBlc1BhY2thZ2VfMjE0ODc4KCkgewor
ICAgICAgICBFUGFja2FnZSBlcGFja2FnZSA9IEVjb3JlRmFjdG9yeS5lSU5TVEFOQ0UuY3JlYXRl
RVBhY2thZ2UoKTsKKyAgICAgICAgZXBhY2thZ2Uuc2V0TmFtZSgiZm9vIik7IC8vJE5PTi1OTFMt
MSQKKyAgICAgICAgCisgICAgICAgIEVDbGFzcyBlY2xhc3MgPSBFY29yZUZhY3RvcnkuZUlOU1RB
TkNFLmNyZWF0ZUVDbGFzcygpOworICAgICAgICBlY2xhc3Muc2V0TmFtZSgiRm9vIik7IC8vJE5P
Ti1OTFMtMSQKKyAgICAgICAgZXBhY2thZ2UuZ2V0RUNsYXNzaWZpZXJzKCkuYWRkKGVjbGFzcyk7
CisgICAgICAgIAorICAgICAgICBFUmVmZXJlbmNlIHJlZiA9IEVjb3JlRmFjdG9yeS5lSU5TVEFO
Q0UuY3JlYXRlRVJlZmVyZW5jZSgpOworICAgICAgICByZWYuc2V0TmFtZSgiYW55Iik7IC8vJE5P
Ti1OTFMtMSQKKyAgICAgICAgcmVmLnNldEVUeXBlKFR5cGVzUGFja2FnZS5MaXRlcmFscy5BTllf
VFlQRSk7CisgICAgICAgIGVjbGFzcy5nZXRFU3RydWN0dXJhbEZlYXR1cmVzKCkuYWRkKHJlZik7
CisgICAgICAgIAorICAgICAgICBTdHJpbmcgc2VyaWFsRm9ybSA9IHNlcmlhbGl6ZShlcGFja2Fn
ZSk7CisgICAgICAgIAorICAgICAgICBlcGFja2FnZSA9IGxvYWQoc2VyaWFsRm9ybSwgRVBhY2th
Z2UuY2xhc3MpOworICAgICAgICBlY2xhc3MgPSAoRUNsYXNzKSBlcGFja2FnZS5nZXRFQ2xhc3Np
ZmllcigiRm9vIik7IC8vJE5PTi1OTFMtMSQKKyAgICAgICAgYXNzZXJ0Tm90TnVsbChlY2xhc3Mp
OworICAgICAgICBhc3NlcnRGYWxzZShlY2xhc3MuZUlzUHJveHkoKSk7CisgICAgICAgIAorICAg
ICAgICByZWYgPSAoRVJlZmVyZW5jZSkgZWNsYXNzLmdldEVTdHJ1Y3R1cmFsRmVhdHVyZSgiYW55
Iik7IC8vJE5PTi1OTFMtMSQKKyAgICAgICAgYXNzZXJ0Tm90TnVsbChyZWYpOworICAgICAgICBh
c3NlcnRGYWxzZShyZWYuZUlzUHJveHkoKSk7CisgICAgICAgIAorICAgICAgICBhc3NlcnRTYW1l
KFR5cGVzUGFja2FnZS5MaXRlcmFscy5BTllfVFlQRSwgcmVmLmdldEVUeXBlKCkpOworICAgICAg
ICAKKyAgICAgICAgLy8gY29ycmVjdCBsb2FkaW5nIGlzIG9uZSB0aGluZy4gIGJ1dCB0aGUgcmVm
ZXJlbmNlIG11c3QgbG9vaworICAgICAgICAvLyBjb3JyZWN0IGluIHRoZSBzZXJpYWwgZm9ybSwg
YWxzbworICAgICAgICBhc3NlcnRGYWxzZShzZXJpYWxGb3JtLmNvbnRhaW5zKEVudmlyb25tZW50
Lk9DTF9OQU1FU1BBQ0VfVVJJICsgIiMvL3R5cGVzL0FueVR5cGUiKSk7IC8vJE5PTi1OTFMtMSQK
KyAgICAgICAgYXNzZXJ0VHJ1ZShzZXJpYWxGb3JtLmNvbnRhaW5zKFR5cGVzUGFja2FnZS5lTlNf
VVJJICsgIiMvL0FueVR5cGUiKSk7IC8vJE5PTi1OTFMtMSQKKyAgICB9CisgICAgCisgICAgcHVi
bGljIHZvaWQgdGVzdF9yZWZlcmVuY2VUb0dlbmVyaWNPQ0xVdGlsaXRpZXNQYWNrYWdlXzIxNDg3
OCgpIHsKKyAgICAgICAgRVBhY2thZ2UgZXBhY2thZ2UgPSBFY29yZUZhY3RvcnkuZUlOU1RBTkNF
LmNyZWF0ZUVQYWNrYWdlKCk7CisgICAgICAgIGVwYWNrYWdlLnNldE5hbWUoImZvbyIpOyAvLyRO
T04tTkxTLTEkCisgICAgICAgIAorICAgICAgICBFQ2xhc3MgZWNsYXNzID0gRWNvcmVGYWN0b3J5
LmVJTlNUQU5DRS5jcmVhdGVFQ2xhc3MoKTsKKyAgICAgICAgZWNsYXNzLnNldE5hbWUoIkZvbyIp
OyAvLyROT04tTkxTLTEkCisgICAgICAgIGVwYWNrYWdlLmdldEVDbGFzc2lmaWVycygpLmFkZChl
Y2xhc3MpOworICAgICAgICAKKyAgICAgICAgRVJlZmVyZW5jZSByZWYgPSBFY29yZUZhY3Rvcnku
ZUlOU1RBTkNFLmNyZWF0ZUVSZWZlcmVuY2UoKTsKKyAgICAgICAgcmVmLnNldE5hbWUoImFzdCIp
OyAvLyROT04tTkxTLTEkCisgICAgICAgIHJlZi5zZXRFVHlwZShVdGlsaXRpZXNQYWNrYWdlLkxp
dGVyYWxzLkFTVF9OT0RFKTsKKyAgICAgICAgZWNsYXNzLmdldEVTdHJ1Y3R1cmFsRmVhdHVyZXMo
KS5hZGQocmVmKTsKKyAgICAgICAgCisgICAgICAgIFN0cmluZyBzZXJpYWxGb3JtID0gc2VyaWFs
aXplKGVwYWNrYWdlKTsKKyAgICAgICAgCisgICAgICAgIGVwYWNrYWdlID0gbG9hZChzZXJpYWxG
b3JtLCBFUGFja2FnZS5jbGFzcyk7CisgICAgICAgIGVjbGFzcyA9IChFQ2xhc3MpIGVwYWNrYWdl
LmdldEVDbGFzc2lmaWVyKCJGb28iKTsgLy8kTk9OLU5MUy0xJAorICAgICAgICBhc3NlcnROb3RO
dWxsKGVjbGFzcyk7CisgICAgICAgIGFzc2VydEZhbHNlKGVjbGFzcy5lSXNQcm94eSgpKTsKKyAg
ICAgICAgCisgICAgICAgIHJlZiA9IChFUmVmZXJlbmNlKSBlY2xhc3MuZ2V0RVN0cnVjdHVyYWxG
ZWF0dXJlKCJhc3QiKTsgLy8kTk9OLU5MUy0xJAorICAgICAgICBhc3NlcnROb3ROdWxsKHJlZik7
CisgICAgICAgIGFzc2VydEZhbHNlKHJlZi5lSXNQcm94eSgpKTsKKyAgICAgICAgCisgICAgICAg
IGFzc2VydFNhbWUoVXRpbGl0aWVzUGFja2FnZS5MaXRlcmFscy5BU1RfTk9ERSwgcmVmLmdldEVU
eXBlKCkpOworICAgICAgICAKKyAgICAgICAgLy8gY29ycmVjdCBsb2FkaW5nIGlzIG9uZSB0aGlu
Zy4gIGJ1dCB0aGUgcmVmZXJlbmNlIG11c3QgbG9vaworICAgICAgICAvLyBjb3JyZWN0IGluIHRo
ZSBzZXJpYWwgZm9ybSwgYWxzbworICAgICAgICBhc3NlcnRGYWxzZShzZXJpYWxGb3JtLmNvbnRh
aW5zKEVudmlyb25tZW50Lk9DTF9OQU1FU1BBQ0VfVVJJICsgIiMvL3V0aWxpdGllcy9BU1ROb2Rl
IikpOyAvLyROT04tTkxTLTEkCisgICAgICAgIGFzc2VydFRydWUoc2VyaWFsRm9ybS5jb250YWlu
cyhVdGlsaXRpZXNQYWNrYWdlLmVOU19VUkkgKyAiIy8vQVNUTm9kZSIpKTsgLy8kTk9OLU5MUy0x
JAorICAgIH0KKyAgICAKKyAgICBwdWJsaWMgdm9pZCB0ZXN0X3JlZmVyZW5jZVRvT0NMRWNvcmVN
ZXRhbW9kZWxfMjE0ODc4KCkgeworICAgICAgICBFUGFja2FnZSBlcGFja2FnZSA9IEVjb3JlRmFj
dG9yeS5lSU5TVEFOQ0UuY3JlYXRlRVBhY2thZ2UoKTsKKyAgICAgICAgZXBhY2thZ2Uuc2V0TmFt
ZSgiZm9vIik7IC8vJE5PTi1OTFMtMSQKKyAgICAgICAgCisgICAgICAgIEVDbGFzcyBlY2xhc3Mg
PSBFY29yZUZhY3RvcnkuZUlOU1RBTkNFLmNyZWF0ZUVDbGFzcygpOworICAgICAgICBlY2xhc3Mu
c2V0TmFtZSgiRm9vIik7IC8vJE5PTi1OTFMtMSQKKyAgICAgICAgZXBhY2thZ2UuZ2V0RUNsYXNz
aWZpZXJzKCkuYWRkKGVjbGFzcyk7CisgICAgICAgIAorICAgICAgICBFUmVmZXJlbmNlIHJlZiA9
IEVjb3JlRmFjdG9yeS5lSU5TVEFOQ0UuY3JlYXRlRVJlZmVyZW5jZSgpOworICAgICAgICByZWYu
c2V0TmFtZSgiZXhwciIpOyAvLyROT04tTkxTLTEkCisgICAgICAgIHJlZi5zZXRFVHlwZShvcmcu
ZWNsaXBzZS5vY2wuZWNvcmUuRWNvcmVQYWNrYWdlLkxpdGVyYWxzLk9DTF9FWFBSRVNTSU9OKTsK
KyAgICAgICAgZWNsYXNzLmdldEVTdHJ1Y3R1cmFsRmVhdHVyZXMoKS5hZGQocmVmKTsKKyAgICAg
ICAgCisgICAgICAgIFN0cmluZyBzZXJpYWxGb3JtID0gc2VyaWFsaXplKGVwYWNrYWdlKTsKKyAg
ICAgICAgCisgICAgICAgIGVwYWNrYWdlID0gbG9hZChzZXJpYWxGb3JtLCBFUGFja2FnZS5jbGFz
cyk7CisgICAgICAgIGVjbGFzcyA9IChFQ2xhc3MpIGVwYWNrYWdlLmdldEVDbGFzc2lmaWVyKCJG
b28iKTsgLy8kTk9OLU5MUy0xJAorICAgICAgICBhc3NlcnROb3ROdWxsKGVjbGFzcyk7CisgICAg
ICAgIGFzc2VydEZhbHNlKGVjbGFzcy5lSXNQcm94eSgpKTsKKyAgICAgICAgCisgICAgICAgIHJl
ZiA9IChFUmVmZXJlbmNlKSBlY2xhc3MuZ2V0RVN0cnVjdHVyYWxGZWF0dXJlKCJleHByIik7IC8v
JE5PTi1OTFMtMSQKKyAgICAgICAgYXNzZXJ0Tm90TnVsbChyZWYpOworICAgICAgICBhc3NlcnRG
YWxzZShyZWYuZUlzUHJveHkoKSk7CisgICAgICAgIAorICAgICAgICBhc3NlcnRTYW1lKG9yZy5l
Y2xpcHNlLm9jbC5lY29yZS5FY29yZVBhY2thZ2UuTGl0ZXJhbHMuT0NMX0VYUFJFU1NJT04sIHJl
Zi5nZXRFVHlwZSgpKTsKKyAgICAgICAgCisgICAgICAgIC8vIGNvcnJlY3QgbG9hZGluZyBpcyBv
bmUgdGhpbmcuICBidXQgdGhlIHJlZmVyZW5jZSBtdXN0IGxvb2sKKyAgICAgICAgLy8gY29ycmVj
dCBpbiB0aGUgc2VyaWFsIGZvcm0sIGFsc28KKyAgICAgICAgYXNzZXJ0RmFsc2Uoc2VyaWFsRm9y
bS5jb250YWlucyhFbnZpcm9ubWVudC5PQ0xfTkFNRVNQQUNFX1VSSSArICIjLy9lY29yZS9PQ0xF
eHByZXNzaW9uIikpOyAvLyROT04tTkxTLTEkCisgICAgICAgIGFzc2VydFRydWUoc2VyaWFsRm9y
bS5jb250YWlucyhvcmcuZWNsaXBzZS5vY2wuZWNvcmUuRWNvcmVQYWNrYWdlLmVOU19VUkkgKyAi
Iy8vT0NMRXhwcmVzc2lvbiIpKTsgLy8kTk9OLU5MUy0xJAorICAgIH0KIAkKIAkvLwogCS8vIEZy
YW1ld29yayBtZXRob2RzCkBAIC00MDksMTUgKzU0NSwxOCBAQAogCQogCUBTdXBwcmVzc1dhcm5p
bmdzKCJ1bmNoZWNrZWQiKQogCXByb3RlY3RlZCBPQ0xFeHByZXNzaW9uPEVDbGFzc2lmaWVyPiBs
b2FkRXhwcmVzc2lvbihTdHJpbmcgc2VyaWFsKSB7Ci0JCUVPYmplY3QgcmVzdWx0ID0gZGVzZXJp
YWxpemUoc2VyaWFsKTsKLQkJYXNzZXJ0VHJ1ZShyZXN1bHQgaW5zdGFuY2VvZiBPQ0xFeHByZXNz
aW9uKTsKLQkJcmV0dXJuIChPQ0xFeHByZXNzaW9uPEVDbGFzc2lmaWVyPikgcmVzdWx0OworCQly
ZXR1cm4gKE9DTEV4cHJlc3Npb248RUNsYXNzaWZpZXI+KSBsb2FkKHNlcmlhbCwgT0NMRXhwcmVz
c2lvbi5jbGFzcyk7CiAJfQogCQogCXByb3RlY3RlZCBDb25zdHJhaW50IGxvYWRDb25zdHJhaW50
KFN0cmluZyBzZXJpYWwpIHsKLQkJRU9iamVjdCByZXN1bHQgPSBkZXNlcmlhbGl6ZShzZXJpYWwp
OwotCQlhc3NlcnRUcnVlKHJlc3VsdCBpbnN0YW5jZW9mIENvbnN0cmFpbnQpOwotCQlyZXR1cm4g
KENvbnN0cmFpbnQpIHJlc3VsdDsKKwkJcmV0dXJuIGxvYWQoc2VyaWFsLCBDb25zdHJhaW50LmNs
YXNzKTsKKwl9CisJCisJQFN1cHByZXNzV2FybmluZ3MoInVuY2hlY2tlZCIpCisJcHJvdGVjdGVk
IDxUIGV4dGVuZHMgRU9iamVjdD4gVCBsb2FkKFN0cmluZyBzZXJpYWwsIENsYXNzPFQ+IGV4cGVj
dGVkVHlwZSkgeworCSAgICBFT2JqZWN0IHJlc3VsdCA9IGRlc2VyaWFsaXplKHNlcmlhbCk7CisJ
ICAgIGFzc2VydFRydWUoZXhwZWN0ZWRUeXBlLmlzSW5zdGFuY2UocmVzdWx0KSk7CisJICAgIHJl
dHVybiAoVCkgcmVzdWx0OwogCX0KIAkKIAlwcm90ZWN0ZWQgdm9pZCBhc3NlcnROb1Byb3hpZXMo
UmVzb3VyY2UgcmVzKSB7CiNQIG9yZy5lY2xpcHNlLm9jbC5lY29yZQpJbmRleDogc3JjL29yZy9l
Y2xpcHNlL29jbC9lY29yZS9pbXBsL0Vjb3JlUGFja2FnZUltcGwuamF2YQo9PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ClJD
UyBmaWxlOiAvY3Zzcm9vdC9tb2RlbGluZy9vcmcuZWNsaXBzZS5tZHQvb3JnLmVjbGlwc2Uub2Ns
L3BsdWdpbnMvb3JnLmVjbGlwc2Uub2NsLmVjb3JlL3NyYy9vcmcvZWNsaXBzZS9vY2wvZWNvcmUv
aW1wbC9FY29yZVBhY2thZ2VJbXBsLmphdmEsdgpyZXRyaWV2aW5nIHJldmlzaW9uIDEuNgpkaWZm
IC11IC1yMS42IEVjb3JlUGFja2FnZUltcGwuamF2YQotLS0gc3JjL29yZy9lY2xpcHNlL29jbC9l
Y29yZS9pbXBsL0Vjb3JlUGFja2FnZUltcGwuamF2YQkxMSBPY3QgMjAwNyAyMzowNDo0MSAtMDAw
MAkxLjYKKysrIHNyYy9vcmcvZWNsaXBzZS9vY2wvZWNvcmUvaW1wbC9FY29yZVBhY2thZ2VJbXBs
LmphdmEJMTAgSmFuIDIwMDggMTY6MTI6MjYgLTAwMDAKQEAgLTEsNyArMSw3IEBACiAvKioKICAq
IDxjb3B5cmlnaHQ+CiAgKiAKLSAqIENvcHlyaWdodCAoYykgMjAwNiwgMjAwNyBJQk0gQ29ycG9y
YXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAwNiwgMjAwOCBJQk0gQ29ycG9y
YXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuICAgVGhpcyBwcm9ncmFt
IGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVu
ZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGlj
aCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAt
NDY1LDEyICs0NjUsMTAgQEAKICAgICAgKiBAc2VlIG9yZy5lY2xpcHNlLmVtZi5lY29yZS5FUGFj
a2FnZS5SZWdpc3RyeQogICAgICAqIEBzZWUgb3JnLmVjbGlwc2Uub2NsLmVjb3JlLkVjb3JlUGFj
a2FnZSNlTlNfVVJJCiAgICAgICogQHNlZSAjaW5pdCgpCi0gICAgICogQGdlbmVyYXRlZCBOT1QK
KyAgICAgKiBAZ2VuZXJhdGVkCiAgICAgICovCiAgICAgcHJpdmF0ZSBFY29yZVBhY2thZ2VJbXBs
KCkgewogICAgICAgICBzdXBlcihlTlNfVVJJLCBFY29yZUZhY3RvcnkuZUlOU1RBTkNFKTsKLSAg
ICAgICAgCi0gICAgICAgIEV4cHJlc3Npb25zUGFja2FnZUltcGwuT0NMX1JPT1RfUEFDS0FHRS5n
ZXRFU3VicGFja2FnZXMoKS5hZGQodGhpcyk7CiAgICAgfQogCiAgICAgLyoqCkBAIC0xMTg5LDEx
ICsxMTg3LDMwIEBACiAgICAgLyoqCiAgICAgICogQ29tcGxldGUgdGhlIGluaXRpYWxpemF0aW9u
IG9mIHRoZSBwYWNrYWdlIGFuZCBpdHMgbWV0YS1tb2RlbC4gIFRoaXMKICAgICAgKiBtZXRob2Qg
aXMgZ3VhcmRlZCB0byBoYXZlIG5vIGFmZmVjdCBvbiBhbnkgaW52b2NhdGlvbiBidXQgaXRzIGZp
cnN0LgorICAgICAqIDxwPgorICAgICAqIFRoZSBnZW5lcmF0ZWQgaW1wbGVtZW50YXRpb24gaXMg
ZXh0ZW5kZWQgYnkgYWRkaW5nIG1lIGFzIGEgY2hpbGQgb2YKKyAgICAgKiB0aGUgZW1wdHkgcm9v
dCA8dHQ+T0NMPC90dD4gcGFja2FnZS4KKyAgICAgKiA8L3A+CisgICAgICovCisgICAgcHVibGlj
IHZvaWQgaW5pdGlhbGl6ZVBhY2thZ2VDb250ZW50cygpIHsKKyAgICAgICAgaWYgKCFpc0luaXRp
YWxpemVkKSB7CisgICAgICAgICAgICAvLyBjcmVhdGUgbXkgb3duIHJlc291cmNlIGZpcnN0LCBi
ZWZvcmUgYWRkaW5nIG1lIHRvIG15IHBhcmVudAorICAgICAgICAgICAgLy8gcGFja2FnZS4gIE90
aGVyd2lzZSwgSSB3aWxsIGFscmVhZHkgYmUgaW4gYSByZXNvdXJjZSB3aGVuCisgICAgICAgICAg
ICAvLyBjcmVhdGVSZXNvdXJjZSgpIGlzIGNhbGxlZCwgYW5kIGl0IHdpbGwgbm90IGNyZWF0ZSBh
IG5ldyBvbmUKKyAgICAgICAgICAgIGluaXRpYWxpemVQYWNrYWdlQ29udGVudHNHZW4oKTsKKyAg
ICAgICAgICAgIAorICAgICAgICAgICAgRXhwcmVzc2lvbnNQYWNrYWdlSW1wbC5PQ0xfUk9PVF9Q
QUNLQUdFLmdldEVTdWJwYWNrYWdlcygpLmFkZCh0aGlzKTsKKyAgICAgICAgfQorICAgIH0KKyAg
ICAKKyAgICAvKioKKyAgICAgKiBDb21wbGV0ZSB0aGUgaW5pdGlhbGl6YXRpb24gb2YgdGhlIHBh
Y2thZ2UgYW5kIGl0cyBtZXRhLW1vZGVsLiAgVGhpcworICAgICAqIG1ldGhvZCBpcyBndWFyZGVk
IHRvIGhhdmUgbm8gYWZmZWN0IG9uIGFueSBpbnZvY2F0aW9uIGJ1dCBpdHMgZmlyc3QuCiAgICAg
ICogPCEtLSBiZWdpbi11c2VyLWRvYyAtLT4KICAgICAgKiA8IS0tIGVuZC11c2VyLWRvYyAtLT4K
ICAgICAgKiBAZ2VuZXJhdGVkCiAgICAgICovCi0gICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZVBh
Y2thZ2VDb250ZW50cygpIHsKKyAgICBwdWJsaWMgdm9pZCBpbml0aWFsaXplUGFja2FnZUNvbnRl
bnRzR2VuKCkgewogICAgICAgICBpZiAoaXNJbml0aWFsaXplZCkgcmV0dXJuOwogICAgICAgICBp
c0luaXRpYWxpemVkID0gdHJ1ZTsKIAojUCBvcmcuZWNsaXBzZS5vY2wudW1sCkluZGV4OiBzcmMv
b3JnL2VjbGlwc2Uvb2NsL3VtbC9pbXBsL1VNTFBhY2thZ2VJbXBsLmphdmEKPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpS
Q1MgZmlsZTogL2N2c3Jvb3QvbW9kZWxpbmcvb3JnLmVjbGlwc2UubWR0L29yZy5lY2xpcHNlLm9j
bC9wbHVnaW5zL29yZy5lY2xpcHNlLm9jbC51bWwvc3JjL29yZy9lY2xpcHNlL29jbC91bWwvaW1w
bC9VTUxQYWNrYWdlSW1wbC5qYXZhLHYKcmV0cmlldmluZyByZXZpc2lvbiAxLjYKZGlmZiAtdSAt
cjEuNiBVTUxQYWNrYWdlSW1wbC5qYXZhCi0tLSBzcmMvb3JnL2VjbGlwc2Uvb2NsL3VtbC9pbXBs
L1VNTFBhY2thZ2VJbXBsLmphdmEJMTEgT2N0IDIwMDcgMjM6MDU6MjIgLTAwMDAJMS42CisrKyBz
cmMvb3JnL2VjbGlwc2Uvb2NsL3VtbC9pbXBsL1VNTFBhY2thZ2VJbXBsLmphdmEJMTAgSmFuIDIw
MDggMTY6MTI6MjYgLTAwMDAKQEAgLTEsNyArMSw3IEBACiAvKioKICAqIDxjb3B5cmlnaHQ+CiAg
KiAKLSAqIENvcHlyaWdodCAoYykgMjAwNiwgMjAwNyBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVy
cy4KKyAqIENvcHlyaWdodCAoYykgMjAwNiwgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVy
cy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuICAgVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21w
YW55aW5nIG1hdGVyaWFscwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBv
ZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0
aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtNDQxLDEyICs0NDEsMTAg
QEAKICAgICAgKiBAc2VlIG9yZy5lY2xpcHNlLmVtZi5lY29yZS5FUGFja2FnZS5SZWdpc3RyeQog
ICAgICAqIEBzZWUgb3JnLmVjbGlwc2Uub2NsLnVtbC5VTUxQYWNrYWdlI2VOU19VUkkKICAgICAg
KiBAc2VlICNpbml0KCkKLSAgICAgKiBAZ2VuZXJhdGVkIE5PVAorICAgICAqIEBnZW5lcmF0ZWQK
ICAgICAgKi8KICAgICBwcml2YXRlIFVNTFBhY2thZ2VJbXBsKCkgewogICAgICAgICBzdXBlcihl
TlNfVVJJLCBVTUxGYWN0b3J5LmVJTlNUQU5DRSk7Ci0gICAgICAgIAotICAgICAgICBFeHByZXNz
aW9uc1BhY2thZ2VJbXBsLk9DTF9ST09UX1BBQ0tBR0UuZ2V0RVN1YnBhY2thZ2VzKCkuYWRkKHRo
aXMpOwogICAgIH0KIAogICAgIC8qKgpAQCAtMTE0MywxMSArMTE0MSwzMCBAQAogICAgIC8qKgog
ICAgICAqIENvbXBsZXRlIHRoZSBpbml0aWFsaXphdGlvbiBvZiB0aGUgcGFja2FnZSBhbmQgaXRz
IG1ldGEtbW9kZWwuICBUaGlzCiAgICAgICogbWV0aG9kIGlzIGd1YXJkZWQgdG8gaGF2ZSBubyBh
ZmZlY3Qgb24gYW55IGludm9jYXRpb24gYnV0IGl0cyBmaXJzdC4KKyAgICAgKiA8cD4KKyAgICAg
KiBUaGUgZ2VuZXJhdGVkIGltcGxlbWVudGF0aW9uIGlzIGV4dGVuZGVkIGJ5IGFkZGluZyBtZSBh
cyBhIGNoaWxkIG9mCisgICAgICogdGhlIGVtcHR5IHJvb3QgPHR0Pk9DTDwvdHQ+IHBhY2thZ2Uu
CisgICAgICogPC9wPgorICAgICAqLworICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemVQYWNrYWdl
Q29udGVudHMoKSB7CisgICAgICAgIGlmICghaXNJbml0aWFsaXplZCkgeworICAgICAgICAgICAg
Ly8gY3JlYXRlIG15IG93biByZXNvdXJjZSBmaXJzdCwgYmVmb3JlIGFkZGluZyBtZSB0byBteSBw
YXJlbnQKKyAgICAgICAgICAgIC8vIHBhY2thZ2UuICBPdGhlcndpc2UsIEkgd2lsbCBhbHJlYWR5
IGJlIGluIGEgcmVzb3VyY2Ugd2hlbgorICAgICAgICAgICAgLy8gY3JlYXRlUmVzb3VyY2UoKSBp
cyBjYWxsZWQsIGFuZCBpdCB3aWxsIG5vdCBjcmVhdGUgYSBuZXcgb25lCisgICAgICAgICAgICBp
bml0aWFsaXplUGFja2FnZUNvbnRlbnRzR2VuKCk7CisgICAgICAgICAgICAKKyAgICAgICAgICAg
IEV4cHJlc3Npb25zUGFja2FnZUltcGwuT0NMX1JPT1RfUEFDS0FHRS5nZXRFU3VicGFja2FnZXMo
KS5hZGQodGhpcyk7CisgICAgICAgIH0KKyAgICB9CisgICAgCisgICAgLyoqCisgICAgICogQ29t
cGxldGUgdGhlIGluaXRpYWxpemF0aW9uIG9mIHRoZSBwYWNrYWdlIGFuZCBpdHMgbWV0YS1tb2Rl
bC4gIFRoaXMKKyAgICAgKiBtZXRob2QgaXMgZ3VhcmRlZCB0byBoYXZlIG5vIGFmZmVjdCBvbiBh
bnkgaW52b2NhdGlvbiBidXQgaXRzIGZpcnN0LgogICAgICAqIDwhLS0gYmVnaW4tdXNlci1kb2Mg
LS0+CiAgICAgICogPCEtLSBlbmQtdXNlci1kb2MgLS0+CiAgICAgICogQGdlbmVyYXRlZAogICAg
ICAqLwotICAgIHB1YmxpYyB2b2lkIGluaXRpYWxpemVQYWNrYWdlQ29udGVudHMoKSB7CisgICAg
cHVibGljIHZvaWQgaW5pdGlhbGl6ZVBhY2thZ2VDb250ZW50c0dlbigpIHsKICAgICAgICAgaWYg
KGlzSW5pdGlhbGl6ZWQpIHJldHVybjsKICAgICAgICAgaXNJbml0aWFsaXplZCA9IHRydWU7CiAK
I1Agb3JnLmVjbGlwc2Uub2NsLnVtbC50ZXN0cwpJbmRleDogc3JjL29yZy9lY2xpcHNlL29jbC91
bWwvdGVzdHMvU2VyaWFsaXphdGlvblRlc3QuamF2YQo9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ClJDUyBmaWxlOiAvY3Zz
cm9vdC9tb2RlbGluZy9vcmcuZWNsaXBzZS5tZHQvb3JnLmVjbGlwc2Uub2NsL3Rlc3RzL29yZy5l
Y2xpcHNlLm9jbC51bWwudGVzdHMvc3JjL29yZy9lY2xpcHNlL29jbC91bWwvdGVzdHMvU2VyaWFs
aXphdGlvblRlc3QuamF2YSx2CnJldHJpZXZpbmcgcmV2aXNpb24gMS41CmRpZmYgLXUgLXIxLjUg
U2VyaWFsaXphdGlvblRlc3QuamF2YQotLS0gc3JjL29yZy9lY2xpcHNlL29jbC91bWwvdGVzdHMv
U2VyaWFsaXphdGlvblRlc3QuamF2YQkxNCBEZWMgMjAwNyAxNzowOToyMyAtMDAwMAkxLjUKKysr
IHNyYy9vcmcvZWNsaXBzZS9vY2wvdW1sL3Rlc3RzL1NlcmlhbGl6YXRpb25UZXN0LmphdmEJMTAg
SmFuIDIwMDggMTY6MTI6MjcgLTAwMDAKQEAgLTEsNyArMSw3IEBACiAvKioKICAqIDxjb3B5cmln
aHQ+CiAgKiAKLSAqIENvcHlyaWdodCAoYykgMjAwNiwgMjAwNyBJQk0gQ29ycG9yYXRpb24gYW5k
IG90aGVycy4KKyAqIENvcHlyaWdodCAoYykgMjAwNiwgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5k
IG90aGVycy4KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFj
Y29tcGFueWluZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVy
bXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAogICogd2hpY2ggYWNjb21wYW5p
ZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQKQEAgLTI2LDE0ICsyNiwy
MCBAQAogaW1wb3J0IGp1bml0LmZyYW1ld29yay5UZXN0U3VpdGU7CiAKIGltcG9ydCBvcmcuZWNs
aXBzZS5lbWYuY29tbW9uLnV0aWwuVVJJOworaW1wb3J0IG9yZy5lY2xpcHNlLmVtZi5lY29yZS5F
Q2xhc3M7CiBpbXBvcnQgb3JnLmVjbGlwc2UuZW1mLmVjb3JlLkVPYmplY3Q7CitpbXBvcnQgb3Jn
LmVjbGlwc2UuZW1mLmVjb3JlLkVQYWNrYWdlOworaW1wb3J0IG9yZy5lY2xpcHNlLmVtZi5lY29y
ZS5FUmVmZXJlbmNlOworaW1wb3J0IG9yZy5lY2xpcHNlLmVtZi5lY29yZS5FY29yZUZhY3Rvcnk7
CiBpbXBvcnQgb3JnLmVjbGlwc2UuZW1mLmVjb3JlLnJlc291cmNlLlJlc291cmNlOwogaW1wb3J0
IG9yZy5lY2xpcHNlLmVtZi5lY29yZS54bWkuWE1MUmVzb3VyY2U7CiBpbXBvcnQgb3JnLmVjbGlw
c2UuZW1mLmVjb3JlLnhtaS5pbXBsLlhNSVJlc291cmNlSW1wbDsKK2ltcG9ydCBvcmcuZWNsaXBz
ZS5vY2wuRW52aXJvbm1lbnQ7CiBpbXBvcnQgb3JnLmVjbGlwc2Uub2NsLmV4cHJlc3Npb25zLk9D
TEV4cHJlc3Npb247CiBpbXBvcnQgb3JnLmVjbGlwc2Uub2NsLnVtbC5PQ0w7CiBpbXBvcnQgb3Jn
LmVjbGlwc2Uub2NsLnVtbC5PcGVyYXRpb25DYWxsRXhwOwogaW1wb3J0IG9yZy5lY2xpcHNlLm9j
bC51bWwuVHlwZVR5cGU7CitpbXBvcnQgb3JnLmVjbGlwc2Uub2NsLnVtbC5VTUxQYWNrYWdlOwog
aW1wb3J0IG9yZy5lY2xpcHNlLnVtbDIudW1sLkNsYXNzaWZpZXI7CiBpbXBvcnQgb3JnLmVjbGlw
c2UudW1sMi51bWwuQ29uc3RyYWludDsKIGltcG9ydCBvcmcuZWNsaXBzZS51bWwyLnVtbC5PcGVy
YXRpb247CkBAIC0zMDIsNiArMzA4LDM4IEBACiAgICAgICAgIFR5cGVUeXBlIHR5cGVUeXBlID0g
KFR5cGVUeXBlKSBleHByLmdldFR5cGUoKTsKICAgICAgICAgYXNzZXJ0U2FtZShnZXRNZXRhY2xh
c3MoIlBhY2thZ2UiKSwgdHlwZVR5cGUuZ2V0UmVmZXJyZWRUeXBlKCkpOyAvLyROT04tTkxTLTEk
CiAgICAgfQorICAgIAorICAgIHB1YmxpYyB2b2lkIHRlc3RfcmVmZXJlbmNlVG9PQ0xFY29yZU1l
dGFtb2RlbF8yMTQ4NzgoKSB7CisgICAgICAgIEVQYWNrYWdlIGVwYWNrYWdlID0gRWNvcmVGYWN0
b3J5LmVJTlNUQU5DRS5jcmVhdGVFUGFja2FnZSgpOworICAgICAgICBlcGFja2FnZS5zZXROYW1l
KCJmb28iKTsgLy8kTk9OLU5MUy0xJAorICAgICAgICAKKyAgICAgICAgRUNsYXNzIGVjbGFzcyA9
IEVjb3JlRmFjdG9yeS5lSU5TVEFOQ0UuY3JlYXRlRUNsYXNzKCk7CisgICAgICAgIGVjbGFzcy5z
ZXROYW1lKCJGb28iKTsgLy8kTk9OLU5MUy0xJAorICAgICAgICBlcGFja2FnZS5nZXRFQ2xhc3Np
ZmllcnMoKS5hZGQoZWNsYXNzKTsKKyAgICAgICAgCisgICAgICAgIEVSZWZlcmVuY2UgcmVmID0g
RWNvcmVGYWN0b3J5LmVJTlNUQU5DRS5jcmVhdGVFUmVmZXJlbmNlKCk7CisgICAgICAgIHJlZi5z
ZXROYW1lKCJleHByIik7IC8vJE5PTi1OTFMtMSQKKyAgICAgICAgcmVmLnNldEVUeXBlKFVNTFBh
Y2thZ2UuTGl0ZXJhbHMuT0NMX0VYUFJFU1NJT04pOworICAgICAgICBlY2xhc3MuZ2V0RVN0cnVj
dHVyYWxGZWF0dXJlcygpLmFkZChyZWYpOworICAgICAgICAKKyAgICAgICAgU3RyaW5nIHNlcmlh
bEZvcm0gPSBzZXJpYWxpemUoZXBhY2thZ2UpOworICAgICAgICAKKyAgICAgICAgZXBhY2thZ2Ug
PSBsb2FkKHNlcmlhbEZvcm0sIEVQYWNrYWdlLmNsYXNzKTsKKyAgICAgICAgZWNsYXNzID0gKEVD
bGFzcykgZXBhY2thZ2UuZ2V0RUNsYXNzaWZpZXIoIkZvbyIpOyAvLyROT04tTkxTLTEkCisgICAg
ICAgIGFzc2VydE5vdE51bGwoZWNsYXNzKTsKKyAgICAgICAgYXNzZXJ0RmFsc2UoZWNsYXNzLmVJ
c1Byb3h5KCkpOworICAgICAgICAKKyAgICAgICAgcmVmID0gKEVSZWZlcmVuY2UpIGVjbGFzcy5n
ZXRFU3RydWN0dXJhbEZlYXR1cmUoImV4cHIiKTsgLy8kTk9OLU5MUy0xJAorICAgICAgICBhc3Nl
cnROb3ROdWxsKHJlZik7CisgICAgICAgIGFzc2VydEZhbHNlKHJlZi5lSXNQcm94eSgpKTsKKyAg
ICAgICAgCisgICAgICAgIGFzc2VydFNhbWUoVU1MUGFja2FnZS5MaXRlcmFscy5PQ0xfRVhQUkVT
U0lPTiwgcmVmLmdldEVUeXBlKCkpOworICAgICAgICAKKyAgICAgICAgLy8gY29ycmVjdCBsb2Fk
aW5nIGlzIG9uZSB0aGluZy4gIGJ1dCB0aGUgcmVmZXJlbmNlIG11c3QgbG9vaworICAgICAgICAv
LyBjb3JyZWN0IGluIHRoZSBzZXJpYWwgZm9ybSwgYWxzbworICAgICAgICBhc3NlcnRGYWxzZShz
ZXJpYWxGb3JtLmNvbnRhaW5zKEVudmlyb25tZW50Lk9DTF9OQU1FU1BBQ0VfVVJJICsgIiMvL3Vt
bC9PQ0xFeHByZXNzaW9uIikpOyAvLyROT04tTkxTLTEkCisgICAgICAgIGFzc2VydFRydWUoc2Vy
aWFsRm9ybS5jb250YWlucyhVTUxQYWNrYWdlLmVOU19VUkkgKyAiIy8vT0NMRXhwcmVzc2lvbiIp
KTsgLy8kTk9OLU5MUy0xJAorICAgIH0KIAkKIAkvLwogCS8vIEZyYW1ld29yayBtZXRob2RzCkBA
IC0zOTksMTkgKzQzNywyMiBAQAogCQlyZXR1cm4gcmVzdWx0OwogCX0KIAkKLQlAU3VwcHJlc3NX
YXJuaW5ncygidW5jaGVja2VkIikKLQlwcm90ZWN0ZWQgT0NMRXhwcmVzc2lvbjxDbGFzc2lmaWVy
PiBsb2FkRXhwcmVzc2lvbihTdHJpbmcgc2VyaWFsKSB7Ci0JCUVPYmplY3QgcmVzdWx0ID0gZGVz
ZXJpYWxpemUoc2VyaWFsKTsKLQkJYXNzZXJ0VHJ1ZShyZXN1bHQgaW5zdGFuY2VvZiBPQ0xFeHBy
ZXNzaW9uKTsKLQkJcmV0dXJuIChPQ0xFeHByZXNzaW9uPENsYXNzaWZpZXI+KSByZXN1bHQ7Ci0J
fQotCQotCXByb3RlY3RlZCBDb25zdHJhaW50IGxvYWRDb25zdHJhaW50KFN0cmluZyBzZXJpYWwp
IHsKLQkJRU9iamVjdCByZXN1bHQgPSBkZXNlcmlhbGl6ZShzZXJpYWwpOwotCQlhc3NlcnRUcnVl
KHJlc3VsdCBpbnN0YW5jZW9mIENvbnN0cmFpbnQpOwotCQlyZXR1cm4gKENvbnN0cmFpbnQpIHJl
c3VsdDsKLQl9Ci0JCisgICAgQFN1cHByZXNzV2FybmluZ3MoInVuY2hlY2tlZCIpCisgICAgcHJv
dGVjdGVkIE9DTEV4cHJlc3Npb248Q2xhc3NpZmllcj4gbG9hZEV4cHJlc3Npb24oU3RyaW5nIHNl
cmlhbCkgeworICAgICAgICByZXR1cm4gKE9DTEV4cHJlc3Npb248Q2xhc3NpZmllcj4pIGxvYWQo
c2VyaWFsLCBPQ0xFeHByZXNzaW9uLmNsYXNzKTsKKyAgICB9CisgICAgCisgICAgcHJvdGVjdGVk
IENvbnN0cmFpbnQgbG9hZENvbnN0cmFpbnQoU3RyaW5nIHNlcmlhbCkgeworICAgICAgICByZXR1
cm4gbG9hZChzZXJpYWwsIENvbnN0cmFpbnQuY2xhc3MpOworICAgIH0KKyAgICAKKyAgICBAU3Vw
cHJlc3NXYXJuaW5ncygidW5jaGVja2VkIikKKyAgICBwcm90ZWN0ZWQgPFQgZXh0ZW5kcyBFT2Jq
ZWN0PiBUIGxvYWQoU3RyaW5nIHNlcmlhbCwgQ2xhc3M8VD4gZXhwZWN0ZWRUeXBlKSB7CisgICAg
ICAgIEVPYmplY3QgcmVzdWx0ID0gZGVzZXJpYWxpemUoc2VyaWFsKTsKKyAgICAgICAgYXNzZXJ0
VHJ1ZShleHBlY3RlZFR5cGUuaXNJbnN0YW5jZShyZXN1bHQpKTsKKyAgICAgICAgcmV0dXJuIChU
KSByZXN1bHQ7CisgICAgfQorICAgIAogCXByb3RlY3RlZCB2b2lkIGFzc2VydE5vUHJveGllcyhS
ZXNvdXJjZSByZXMpIHsKIAkJZm9yIChJdGVyYXRvcjxFT2JqZWN0PiBpdGVyID0gcmVzLmdldEFs
bENvbnRlbnRzKCk7IGl0ZXIuaGFzTmV4dCgpOykgewogCQkJZm9yIChFT2JqZWN0IHhyZWYgOiBp
dGVyLm5leHQoKS5lQ3Jvc3NSZWZlcmVuY2VzKCkpIHsKI1Agb3JnLmVjbGlwc2Uub2NsCkluZGV4
OiBzcmMvb3JnL2VjbGlwc2Uvb2NsL2V4cHJlc3Npb25zL2ltcGwvRXhwcmVzc2lvbnNQYWNrYWdl
SW1wbC5qYXZhCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0KUkNTIGZpbGU6IC9jdnNyb290L21vZGVsaW5nL29yZy5lY2xp
cHNlLm1kdC9vcmcuZWNsaXBzZS5vY2wvcGx1Z2lucy9vcmcuZWNsaXBzZS5vY2wvc3JjL29yZy9l
Y2xpcHNlL29jbC9leHByZXNzaW9ucy9pbXBsL0V4cHJlc3Npb25zUGFja2FnZUltcGwuamF2YSx2
CnJldHJpZXZpbmcgcmV2aXNpb24gMS42CmRpZmYgLXUgLXIxLjYgRXhwcmVzc2lvbnNQYWNrYWdl
SW1wbC5qYXZhCi0tLSBzcmMvb3JnL2VjbGlwc2Uvb2NsL2V4cHJlc3Npb25zL2ltcGwvRXhwcmVz
c2lvbnNQYWNrYWdlSW1wbC5qYXZhCTExIE9jdCAyMDA3IDIzOjA0OjU2IC0wMDAwCTEuNgorKysg
c3JjL29yZy9lY2xpcHNlL29jbC9leHByZXNzaW9ucy9pbXBsL0V4cHJlc3Npb25zUGFja2FnZUlt
cGwuamF2YQkxMCBKYW4gMjAwOCAxNjoxMjoyNyAtMDAwMApAQCAtMSw3ICsxLDcgQEAKIC8qKgog
ICogPGNvcHlyaWdodD4KICAqIAotICogQ29weXJpZ2h0IChjKSAyMDA2LCAyMDA3IElCTSBDb3Jw
b3JhdGlvbiBhbmQgb3RoZXJzLgorICogQ29weXJpZ2h0IChjKSAyMDA2LCAyMDA4IElCTSBDb3Jw
b3JhdGlvbiBhbmQgb3RoZXJzLgogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gICBUaGlzIHByb2dy
YW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUg
dW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAKICAqIHdo
aWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0CkBA
IC0yNSw2ICsyNSw3IEBACiBpbXBvcnQgb3JnLmVjbGlwc2UuZW1mLmVjb3JlLkVUeXBlUGFyYW1l
dGVyOwogaW1wb3J0IG9yZy5lY2xpcHNlLmVtZi5lY29yZS5pbXBsLkVQYWNrYWdlSW1wbDsKIGlt
cG9ydCBvcmcuZWNsaXBzZS5lbWYuZWNvcmUucmVzb3VyY2UuUmVzb3VyY2U7CitpbXBvcnQgb3Jn
LmVjbGlwc2Uub2NsLkVudmlyb25tZW50OwogaW1wb3J0IG9yZy5lY2xpcHNlLm9jbC5leHByZXNz
aW9ucy5Bc3NvY2lhdGlvbkNsYXNzQ2FsbEV4cDsKIGltcG9ydCBvcmcuZWNsaXBzZS5vY2wuZXhw
cmVzc2lvbnMuQm9vbGVhbkxpdGVyYWxFeHA7CiBpbXBvcnQgb3JnLmVjbGlwc2Uub2NsLmV4cHJl
c3Npb25zLkNhbGxFeHA7CkBAIC0zNDgsNyArMzQ5LDcgQEAKICAgICAgICAgT0NMUGFja2FnZUlt
cGwgb2NsUGFja2FnZSA9IG5ldyBPQ0xQYWNrYWdlSW1wbCgpOwogICAgICAgICBvY2xQYWNrYWdl
LnNldE5hbWUoIm9jbCIpOyAvLyROT04tTkxTLTEkCiAgICAgICAgIG9jbFBhY2thZ2Uuc2V0TnNQ
cmVmaXgoIm9jbCIpOyAvLyROT04tTkxTLTEkCi0gICAgICAgIG9jbFBhY2thZ2Uuc2V0TnNVUkko
Imh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvT0NMLzEuMS4wL09DTCIpOyAvLyROT04tTkxTLTEkCisg
ICAgICAgIG9jbFBhY2thZ2Uuc2V0TnNVUkkoRW52aXJvbm1lbnQuT0NMX05BTUVTUEFDRV9VUkkp
OwogCQlvY2xQYWNrYWdlLmNyZWF0ZVJlc291cmNlKG9jbFBhY2thZ2UuZ2V0TnNVUkkoKSk7CiAJ
CQogICAgICAgICBPQ0xfUk9PVF9QQUNLQUdFID0gb2NsUGFja2FnZTsKQEAgLTM2OCwxMiArMzY5
LDEwIEBACiAJICogQHNlZSBvcmcuZWNsaXBzZS5lbWYuZWNvcmUuRVBhY2thZ2UuUmVnaXN0cnkK
IAkgKiBAc2VlIG9yZy5lY2xpcHNlLm9jbC5leHByZXNzaW9ucy5FeHByZXNzaW9uc1BhY2thZ2Uj
ZU5TX1VSSQogCSAqIEBzZWUgI2luaXQoKQotCSAqIEBnZW5lcmF0ZWQgTk9UCisJICogQGdlbmVy
YXRlZAogCSAqLwogCXByaXZhdGUgRXhwcmVzc2lvbnNQYWNrYWdlSW1wbCgpIHsKIAkJc3VwZXIo
ZU5TX1VSSSwgRXhwcmVzc2lvbnNGYWN0b3J5LmVJTlNUQU5DRSk7Ci0JCQotCQlPQ0xfUk9PVF9Q
QUNLQUdFLmdldEVTdWJwYWNrYWdlcygpLmFkZCh0aGlzKTsKIAl9CiAKIAkvKioKQEAgLTEyODYs
MTQgKzEyODUsMzMgQEAKICAgICAgKi8KIAlwcml2YXRlIGJvb2xlYW4gaXNJbml0aWFsaXplZCA9
IGZhbHNlOwogCi0JLyoqCisgICAgLyoqCisgICAgICogQ29tcGxldGUgdGhlIGluaXRpYWxpemF0
aW9uIG9mIHRoZSBwYWNrYWdlIGFuZCBpdHMgbWV0YS1tb2RlbC4gIFRoaXMKKyAgICAgKiBtZXRo
b2QgaXMgZ3VhcmRlZCB0byBoYXZlIG5vIGFmZmVjdCBvbiBhbnkgaW52b2NhdGlvbiBidXQgaXRz
IGZpcnN0LgorICAgICAqIDxwPgorICAgICAqIFRoZSBnZW5lcmF0ZWQgaW1wbGVtZW50YXRpb24g
aXMgZXh0ZW5kZWQgYnkgYWRkaW5nIG1lIGFzIGEgY2hpbGQgb2YKKyAgICAgKiB0aGUgZW1wdHkg
cm9vdCA8dHQ+T0NMPC90dD4gcGFja2FnZS4KKyAgICAgKiA8L3A+CisgICAgICovCisgICAgcHVi
bGljIHZvaWQgaW5pdGlhbGl6ZVBhY2thZ2VDb250ZW50cygpIHsKKyAgICAgICAgaWYgKCFpc0lu
aXRpYWxpemVkKSB7CisgICAgICAgICAgICAvLyBjcmVhdGUgbXkgb3duIHJlc291cmNlIGZpcnN0
LCBiZWZvcmUgYWRkaW5nIG1lIHRvIG15IHBhcmVudAorICAgICAgICAgICAgLy8gcGFja2FnZS4g
IE90aGVyd2lzZSwgSSB3aWxsIGFscmVhZHkgYmUgaW4gYSByZXNvdXJjZSB3aGVuCisgICAgICAg
ICAgICAvLyBjcmVhdGVSZXNvdXJjZSgpIGlzIGNhbGxlZCwgYW5kIGl0IHdpbGwgbm90IGNyZWF0
ZSBhIG5ldyBvbmUKKyAgICAgICAgICAgIGluaXRpYWxpemVQYWNrYWdlQ29udGVudHNHZW4oKTsK
KyAgICAgICAgICAgIAorICAgICAgICAgICAgT0NMX1JPT1RfUEFDS0FHRS5nZXRFU3VicGFja2Fn
ZXMoKS5hZGQodGhpcyk7CisgICAgICAgIH0KKyAgICB9CisgICAgCisgICAgLyoqCiAgICAgICog
Q29tcGxldGUgdGhlIGluaXRpYWxpemF0aW9uIG9mIHRoZSBwYWNrYWdlIGFuZCBpdHMgbWV0YS1t
b2RlbC4gIFRoaXMKICAgICAgKiBtZXRob2QgaXMgZ3VhcmRlZCB0byBoYXZlIG5vIGFmZmVjdCBv
biBhbnkgaW52b2NhdGlvbiBidXQgaXRzIGZpcnN0LgogICAgICAqIDwhLS0gYmVnaW4tdXNlci1k
b2MgLS0+Ci0JICogPCEtLSBlbmQtdXNlci1kb2MgLS0+CisgICAgICogPCEtLSBlbmQtdXNlci1k
b2MgLS0+CiAgICAgICogQGdlbmVyYXRlZAogICAgICAqLwotCXB1YmxpYyB2b2lkIGluaXRpYWxp
emVQYWNrYWdlQ29udGVudHMoKSB7CisgICAgcHVibGljIHZvaWQgaW5pdGlhbGl6ZVBhY2thZ2VD
b250ZW50c0dlbigpIHsKICAgICAgICAgaWYgKGlzSW5pdGlhbGl6ZWQpIHJldHVybjsKICAgICAg
ICAgaXNJbml0aWFsaXplZCA9IHRydWU7CiAKSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9vY2wvdHlw
ZXMvaW1wbC9UeXBlc1BhY2thZ2VJbXBsLmphdmEKPT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpSQ1MgZmlsZTogL2N2c3Jv
b3QvbW9kZWxpbmcvb3JnLmVjbGlwc2UubWR0L29yZy5lY2xpcHNlLm9jbC9wbHVnaW5zL29yZy5l
Y2xpcHNlLm9jbC9zcmMvb3JnL2VjbGlwc2Uvb2NsL3R5cGVzL2ltcGwvVHlwZXNQYWNrYWdlSW1w
bC5qYXZhLHYKcmV0cmlldmluZyByZXZpc2lvbiAxLjUKZGlmZiAtdSAtcjEuNSBUeXBlc1BhY2th
Z2VJbXBsLmphdmEKLS0tIHNyYy9vcmcvZWNsaXBzZS9vY2wvdHlwZXMvaW1wbC9UeXBlc1BhY2th
Z2VJbXBsLmphdmEJMTEgT2N0IDIwMDcgMjM6MDQ6NTYgLTAwMDAJMS41CisrKyBzcmMvb3JnL2Vj
bGlwc2Uvb2NsL3R5cGVzL2ltcGwvVHlwZXNQYWNrYWdlSW1wbC5qYXZhCTEwIEphbiAyMDA4IDE2
OjEyOjI3IC0wMDAwCkBAIC0xLDcgKzEsNyBAQAogLyoqCiAgKiA8Y29weXJpZ2h0PgogICogCi0g
KiBDb3B5cmlnaHQgKGMpIDIwMDYsIDIwMDcgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCisg
KiBDb3B5cmlnaHQgKGMpIDIwMDYsIDIwMDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuCiAg
KiBBbGwgcmlnaHRzIHJlc2VydmVkLiAgIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWlu
ZyBtYXRlcmlhbHMKICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhl
IEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMAogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBk
aXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQKQEAgLTE1NSwxMiArMTU1LDEwIEBACiAJ
ICogQHNlZSBvcmcuZWNsaXBzZS5lbWYuZWNvcmUuRVBhY2thZ2UuUmVnaXN0cnkKIAkgKiBAc2Vl
IG9yZy5lY2xpcHNlLm9jbC50eXBlcy5UeXBlc1BhY2thZ2UjZU5TX1VSSQogCSAqIEBzZWUgI2lu
aXQoKQotCSAqIEBnZW5lcmF0ZWQgTk9UCisJICogQGdlbmVyYXRlZAogCSAqLwogCXByaXZhdGUg
VHlwZXNQYWNrYWdlSW1wbCgpIHsKIAkJc3VwZXIoZU5TX1VSSSwgVHlwZXNGYWN0b3J5LmVJTlNU
QU5DRSk7Ci0JCQotCQlFeHByZXNzaW9uc1BhY2thZ2VJbXBsLk9DTF9ST09UX1BBQ0tBR0UuZ2V0
RVN1YnBhY2thZ2VzKCkuYWRkKHRoaXMpOwogCX0KIAogCS8qKgpAQCAtNDQ5LDE0ICs0NDcsMzMg
QEAKICAgICAgKi8KIAlwcml2YXRlIGJvb2xlYW4gaXNJbml0aWFsaXplZCA9IGZhbHNlOwogCi0J
LyoqCisgICAgLyoqCisgICAgICogQ29tcGxldGUgdGhlIGluaXRpYWxpemF0aW9uIG9mIHRoZSBw
YWNrYWdlIGFuZCBpdHMgbWV0YS1tb2RlbC4gIFRoaXMKKyAgICAgKiBtZXRob2QgaXMgZ3VhcmRl
ZCB0byBoYXZlIG5vIGFmZmVjdCBvbiBhbnkgaW52b2NhdGlvbiBidXQgaXRzIGZpcnN0LgorICAg
ICAqIDxwPgorICAgICAqIFRoZSBnZW5lcmF0ZWQgaW1wbGVtZW50YXRpb24gaXMgZXh0ZW5kZWQg
YnkgYWRkaW5nIG1lIGFzIGEgY2hpbGQgb2YKKyAgICAgKiB0aGUgZW1wdHkgcm9vdCA8dHQ+T0NM
PC90dD4gcGFja2FnZS4KKyAgICAgKiA8L3A+CisgICAgICovCisgICAgcHVibGljIHZvaWQgaW5p
dGlhbGl6ZVBhY2thZ2VDb250ZW50cygpIHsKKyAgICAgICAgaWYgKCFpc0luaXRpYWxpemVkKSB7
CisgICAgICAgICAgICAvLyBjcmVhdGUgbXkgb3duIHJlc291cmNlIGZpcnN0LCBiZWZvcmUgYWRk
aW5nIG1lIHRvIG15IHBhcmVudAorICAgICAgICAgICAgLy8gcGFja2FnZS4gIE90aGVyd2lzZSwg
SSB3aWxsIGFscmVhZHkgYmUgaW4gYSByZXNvdXJjZSB3aGVuCisgICAgICAgICAgICAvLyBjcmVh
dGVSZXNvdXJjZSgpIGlzIGNhbGxlZCwgYW5kIGl0IHdpbGwgbm90IGNyZWF0ZSBhIG5ldyBvbmUK
KyAgICAgICAgICAgIGluaXRpYWxpemVQYWNrYWdlQ29udGVudHNHZW4oKTsKKyAgICAgICAgICAg
IAorICAgICAgICAgICAgRXhwcmVzc2lvbnNQYWNrYWdlSW1wbC5PQ0xfUk9PVF9QQUNLQUdFLmdl
dEVTdWJwYWNrYWdlcygpLmFkZCh0aGlzKTsKKyAgICAgICAgfQorICAgIH0KKyAgICAKKyAgICAv
KioKICAgICAgKiBDb21wbGV0ZSB0aGUgaW5pdGlhbGl6YXRpb24gb2YgdGhlIHBhY2thZ2UgYW5k
IGl0cyBtZXRhLW1vZGVsLiAgVGhpcwogICAgICAqIG1ldGhvZCBpcyBndWFyZGVkIHRvIGhhdmUg
bm8gYWZmZWN0IG9uIGFueSBpbnZvY2F0aW9uIGJ1dCBpdHMgZmlyc3QuCiAgICAgICogPCEtLSBi
ZWdpbi11c2VyLWRvYyAtLT4KLQkgKiA8IS0tIGVuZC11c2VyLWRvYyAtLT4KKyAgICAgKiA8IS0t
IGVuZC11c2VyLWRvYyAtLT4KICAgICAgKiBAZ2VuZXJhdGVkCiAgICAgICovCi0JcHVibGljIHZv
aWQgaW5pdGlhbGl6ZVBhY2thZ2VDb250ZW50cygpIHsKKyAgICBwdWJsaWMgdm9pZCBpbml0aWFs
aXplUGFja2FnZUNvbnRlbnRzR2VuKCkgewogICAgICAgICBpZiAoaXNJbml0aWFsaXplZCkgcmV0
dXJuOwogICAgICAgICBpc0luaXRpYWxpemVkID0gdHJ1ZTsKIApJbmRleDogc3JjL29yZy9lY2xp
cHNlL29jbC91dGlsaXRpZXMvaW1wbC9VdGlsaXRpZXNQYWNrYWdlSW1wbC5qYXZhCj09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT0KUkNTIGZpbGU6IC9jdnNyb290L21vZGVsaW5nL29yZy5lY2xpcHNlLm1kdC9vcmcuZWNsaXBz
ZS5vY2wvcGx1Z2lucy9vcmcuZWNsaXBzZS5vY2wvc3JjL29yZy9lY2xpcHNlL29jbC91dGlsaXRp
ZXMvaW1wbC9VdGlsaXRpZXNQYWNrYWdlSW1wbC5qYXZhLHYKcmV0cmlldmluZyByZXZpc2lvbiAx
LjYKZGlmZiAtdSAtcjEuNiBVdGlsaXRpZXNQYWNrYWdlSW1wbC5qYXZhCi0tLSBzcmMvb3JnL2Vj
bGlwc2Uvb2NsL3V0aWxpdGllcy9pbXBsL1V0aWxpdGllc1BhY2thZ2VJbXBsLmphdmEJMTEgT2N0
IDIwMDcgMjM6MDU6MDQgLTAwMDAJMS42CisrKyBzcmMvb3JnL2VjbGlwc2Uvb2NsL3V0aWxpdGll
cy9pbXBsL1V0aWxpdGllc1BhY2thZ2VJbXBsLmphdmEJMTAgSmFuIDIwMDggMTY6MTI6MjcgLTAw
MDAKQEAgLTEsNyArMSw3IEBACiAvKioKICAqIDxjb3B5cmlnaHQ+CiAgKiAKLSAqIENvcHlyaWdo
dCAoYykgMjAwNiwgMjAwNyBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KKyAqIENvcHlyaWdo
dCAoYykgMjAwNiwgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4KICAqIEFsbCByaWdo
dHMgcmVzZXJ2ZWQuICAgVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFs
cwogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQ
dWJsaWMgTGljZW5zZSB2MS4wCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlv
biwgYW5kIGlzIGF2YWlsYWJsZSBhdApAQCAtMTE1LDEyICsxMTUsMTAgQEAKIAkgKiBAc2VlIG9y
Zy5lY2xpcHNlLmVtZi5lY29yZS5FUGFja2FnZS5SZWdpc3RyeQogCSAqIEBzZWUgb3JnLmVjbGlw
c2Uub2NsLnV0aWxpdGllcy5VdGlsaXRpZXNQYWNrYWdlI2VOU19VUkkKIAkgKiBAc2VlICNpbml0
KCkKLQkgKiBAZ2VuZXJhdGVkIE5PVAorCSAqIEBnZW5lcmF0ZWQKIAkgKi8KIAlwcml2YXRlIFV0
aWxpdGllc1BhY2thZ2VJbXBsKCkgewogCQlzdXBlcihlTlNfVVJJLCBVdGlsaXRpZXNGYWN0b3J5
LmVJTlNUQU5DRSk7Ci0JCQotCQlFeHByZXNzaW9uc1BhY2thZ2VJbXBsLk9DTF9ST09UX1BBQ0tB
R0UuZ2V0RVN1YnBhY2thZ2VzKCkuYWRkKHRoaXMpOwogCX0KIAogCS8qKgpAQCAtNDA0LDE0ICs0
MDIsMzMgQEAKICAgICAgKi8KIAlwcml2YXRlIGJvb2xlYW4gaXNJbml0aWFsaXplZCA9IGZhbHNl
OwogCi0JLyoqCisgICAgLyoqCisgICAgICogQ29tcGxldGUgdGhlIGluaXRpYWxpemF0aW9uIG9m
IHRoZSBwYWNrYWdlIGFuZCBpdHMgbWV0YS1tb2RlbC4gIFRoaXMKKyAgICAgKiBtZXRob2QgaXMg
Z3VhcmRlZCB0byBoYXZlIG5vIGFmZmVjdCBvbiBhbnkgaW52b2NhdGlvbiBidXQgaXRzIGZpcnN0
LgorICAgICAqIDxwPgorICAgICAqIFRoZSBnZW5lcmF0ZWQgaW1wbGVtZW50YXRpb24gaXMgZXh0
ZW5kZWQgYnkgYWRkaW5nIG1lIGFzIGEgY2hpbGQgb2YKKyAgICAgKiB0aGUgZW1wdHkgcm9vdCA8
dHQ+T0NMPC90dD4gcGFja2FnZS4KKyAgICAgKiA8L3A+CisgICAgICovCisgICAgcHVibGljIHZv
aWQgaW5pdGlhbGl6ZVBhY2thZ2VDb250ZW50cygpIHsKKyAgICAgICAgaWYgKCFpc0luaXRpYWxp
emVkKSB7CisgICAgICAgICAgICAvLyBjcmVhdGUgbXkgb3duIHJlc291cmNlIGZpcnN0LCBiZWZv
cmUgYWRkaW5nIG1lIHRvIG15IHBhcmVudAorICAgICAgICAgICAgLy8gcGFja2FnZS4gIE90aGVy
d2lzZSwgSSB3aWxsIGFscmVhZHkgYmUgaW4gYSByZXNvdXJjZSB3aGVuCisgICAgICAgICAgICAv
LyBjcmVhdGVSZXNvdXJjZSgpIGlzIGNhbGxlZCwgYW5kIGl0IHdpbGwgbm90IGNyZWF0ZSBhIG5l
dyBvbmUKKyAgICAgICAgICAgIGluaXRpYWxpemVQYWNrYWdlQ29udGVudHNHZW4oKTsKKyAgICAg
ICAgICAgIAorICAgICAgICAgICAgRXhwcmVzc2lvbnNQYWNrYWdlSW1wbC5PQ0xfUk9PVF9QQUNL
QUdFLmdldEVTdWJwYWNrYWdlcygpLmFkZCh0aGlzKTsKKyAgICAgICAgfQorICAgIH0KKyAgICAK
KyAgICAvKioKICAgICAgKiBDb21wbGV0ZSB0aGUgaW5pdGlhbGl6YXRpb24gb2YgdGhlIHBhY2th
Z2UgYW5kIGl0cyBtZXRhLW1vZGVsLiAgVGhpcwogICAgICAqIG1ldGhvZCBpcyBndWFyZGVkIHRv
IGhhdmUgbm8gYWZmZWN0IG9uIGFueSBpbnZvY2F0aW9uIGJ1dCBpdHMgZmlyc3QuCiAgICAgICog
PCEtLSBiZWdpbi11c2VyLWRvYyAtLT4KLQkgKiA8IS0tIGVuZC11c2VyLWRvYyAtLT4KKyAgICAg
KiA8IS0tIGVuZC11c2VyLWRvYyAtLT4KICAgICAgKiBAZ2VuZXJhdGVkCiAgICAgICovCi0JcHVi
bGljIHZvaWQgaW5pdGlhbGl6ZVBhY2thZ2VDb250ZW50cygpIHsKKyAgICBwdWJsaWMgdm9pZCBp
bml0aWFsaXplUGFja2FnZUNvbnRlbnRzR2VuKCkgewogICAgICAgICBpZiAoaXNJbml0aWFsaXpl
ZCkgcmV0dXJuOwogICAgICAgICBpc0luaXRpYWxpemVkID0gdHJ1ZTs=
</data>

          </attachment>
      

    </bug>

</bugzilla>