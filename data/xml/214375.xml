<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.1"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>214375</bug_id>
          
          <creation_ts>2008-01-04 12:54:00 -0500</creation_ts>
          <short_desc>Facet runtime filtered on initial 1st page dropdown</short_desc>
          <delta_ts>2008-01-08 14:57:26 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>8</classification_id>
          <classification>WebTools</classification>
          <product>WTP Common Tools</product>
          <component>wst.common</component>
          <version>3.0</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>critical</bug_severity>
          <target_milestone>3.0 M5</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Chuck Bridgham">cbridgha</reporter>
          <assigned_to name="Konstantin Komissarchik">konstantin.komissarchik</assigned_to>
          <cc>david_williams</cc>
          <qa_contact name="Konstantin Komissarchik">konstantin.komissarchik</qa_contact>
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1125929</commentid>
    <comment_count>0</comment_count>
    <who name="Chuck Bridgham">cbridgha</who>
    <bug_when>2008-01-04 12:54:03 -0500</bug_when>
    <thetext>All of the Java EE Project creation wizards re-use the facet runtime field/properties, which should be all &quot;possible&quot; runtimes for a given fixed facet group.

With the recent changes, additional filtering based on &quot;default&quot; facet versions is now done, restricting the list of possible runtimes.

Both Project creation and import wizards have this problem.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1126133</commentid>
    <comment_count>1</comment_count>
      <attachid>86249</attachid>
    <who name="Konstantin Komissarchik">konstantin.komissarchik</who>
    <bug_when>2008-01-04 18:08:12 -0500</bug_when>
    <thetext>Created attachment 86249
Patch v1

This issue (and the fix) is interconnected with Bug 213005. This is a joint patch for both issues. I have played around with it a lot and seems to hang together (and be an improvement to what we have currently in M4). However, this is quite an extensive change and I am not particularly comfortable releasing it into M4 at this stage. I could change my opinion though if other people played around with the patch and gave it thumbs up. Otherwise, we can shoot for releasing at the start of M5. 

Regarding automated tests, this change passes all of the FPJF junits, but there are 20 failures/errors in the J2EE junits. Since j2ee junits have never cleanly ran for me locally, it is hard for me to know whether these failures are related to this change or not. I am also running from head on all of the plugins, so I could be picking up some unreleased changes.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1126271</commentid>
    <comment_count>2</comment_count>
    <who name="David Williams">david_williams</who>
    <bug_when>2008-01-05 19:02:58 -0500</bug_when>
    <thetext>This bug is marked as &apos;critical&apos;. Seems to me from reading it that it either should be &apos;major&apos; (missing function) or &apos;blocking&apos; (completely prevents some important scenario with no known work around). 

Is there a work around? (And, doesn&apos;t seem, to me, to be clearly documented here who will see this problem when). 

I do agree, though, I&apos;d prefer not to put in a large change at this point, unless it is blocking many use-cases, with no work around. Or is a major regression for existing users/use-cases. 



</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1126805</commentid>
    <comment_count>3</comment_count>
    <who name="Konstantin Komissarchik">konstantin.komissarchik</who>
    <bug_when>2008-01-07 13:37:22 -0500</bug_when>
    <thetext>This is a pretty major regression in behavior. The user should be able to work-around this during new project creation by clicking on the modify button next to the configurations combo and using the runtime controls available in that dialog to pick a different runtime. There may not be any workarounds for the import scenario.

Has anyone tried this patch? Should we move this to M5 at this point?</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1126895</commentid>
    <comment_count>4</comment_count>
    <who name="Chuck Bridgham">cbridgha</who>
    <bug_when>2008-01-07 15:37:26 -0500</bug_when>
    <thetext>I tried most creation and import scenarios,it does solve our scenarios....

running junits now


</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1127011</commentid>
    <comment_count>5</comment_count>
    <who name="Chuck Bridgham">cbridgha</who>
    <bug_when>2008-01-07 17:44:15 -0500</bug_when>
    <thetext>I agreed to declare M4 - too late for this patch....  will continue to test</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1127013</commentid>
    <comment_count>6</comment_count>
    <who name="Konstantin Komissarchik">konstantin.komissarchik</who>
    <bug_when>2008-01-07 17:50:52 -0500</bug_when>
    <thetext>Ok. Moving to M5. Let me know how your additional testing turns out.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1127651</commentid>
    <comment_count>7</comment_count>
    <who name="Konstantin Komissarchik">konstantin.komissarchik</who>
    <bug_when>2008-01-08 14:57:26 -0500</bug_when>
    <thetext>Fix released into the M5 code stream.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>86249</attachid>
            <date>2008-01-04 18:08:00 -0500</date>
            <delta_ts>2008-01-04 18:08:12 -0500</delta_ts>
            <desc>Patch v1</desc>
            <filename>patch_213005_214375_v1.txt</filename>
            <type>text/plain</type>
            <size>24743</size>
            <attacher name="Konstantin Komissarchik">konstantin.komissarchik</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2Uud3N0LndlYi51
aQ0KSW5kZXg6IHN0YXRpY193ZWJfdWkvb3JnL2VjbGlwc2Uvd3N0L3dlYi91aS9pbnRlcm5hbC93
aXphcmRzL0RhdGFNb2RlbEZhY2V0Q3JlYXRpb25XaXphcmRQYWdlLmphdmENCj09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0N
ClJDUyBmaWxlOiAvY3Zzcm9vdC93ZWJ0b29scy9qZWV0b29scy9wbHVnaW5zL29yZy5lY2xpcHNl
LndzdC53ZWIudWkvc3RhdGljX3dlYl91aS9vcmcvZWNsaXBzZS93c3Qvd2ViL3VpL2ludGVybmFs
L3dpemFyZHMvRGF0YU1vZGVsRmFjZXRDcmVhdGlvbldpemFyZFBhZ2UuamF2YSx2DQpyZXRyaWV2
aW5nIHJldmlzaW9uIDEuMjANCmRpZmYgLXUgLXIxLjIwIERhdGFNb2RlbEZhY2V0Q3JlYXRpb25X
aXphcmRQYWdlLmphdmENCi0tLSBzdGF0aWNfd2ViX3VpL29yZy9lY2xpcHNlL3dzdC93ZWIvdWkv
aW50ZXJuYWwvd2l6YXJkcy9EYXRhTW9kZWxGYWNldENyZWF0aW9uV2l6YXJkUGFnZS5qYXZhCTQg
RGVjIDIwMDcgMjI6NDY6MjQgLTAwMDAJMS4yMA0KKysrIHN0YXRpY193ZWJfdWkvb3JnL2VjbGlw
c2Uvd3N0L3dlYi91aS9pbnRlcm5hbC93aXphcmRzL0RhdGFNb2RlbEZhY2V0Q3JlYXRpb25XaXph
cmRQYWdlLmphdmEJNCBKYW4gMjAwOCAyMjo1Mjo0NiAtMDAwMA0KQEAgLTQwLDYgKzQwLDcgQEAN
CiBpbXBvcnQgb3JnLmVjbGlwc2Uud3N0LmNvbW1vbi5wcm9qZWN0LmZhY2V0LmNvcmUuZXZlbnRz
LklGYWNldGVkUHJvamVjdEV2ZW50Ow0KIGltcG9ydCBvcmcuZWNsaXBzZS53c3QuY29tbW9uLnBy
b2plY3QuZmFjZXQuY29yZS5ldmVudHMuSUZhY2V0ZWRQcm9qZWN0TGlzdGVuZXI7DQogaW1wb3J0
IG9yZy5lY2xpcHNlLndzdC5jb21tb24ucHJvamVjdC5mYWNldC5jb3JlLnJ1bnRpbWUuSVJ1bnRp
bWU7DQoraW1wb3J0IG9yZy5lY2xpcHNlLndzdC5jb21tb24ucHJvamVjdC5mYWNldC5jb3JlLnJ1
bnRpbWUuUnVudGltZU1hbmFnZXI7DQogaW1wb3J0IG9yZy5lY2xpcHNlLndzdC5jb21tb24ucHJv
amVjdC5mYWNldC51aS5Nb2RpZnlGYWNldGVkUHJvamVjdFdpemFyZDsNCiBpbXBvcnQgb3JnLmVj
bGlwc2Uud3N0LmNvbW1vbi5wcm9qZWN0LmZhY2V0LnVpLlByZXNldFNlbGVjdGlvblBhbmVsOw0K
IGltcG9ydCBvcmcuZWNsaXBzZS53c3QucHJvamVjdC5mYWNldC5Qcm9kdWN0TWFuYWdlcjsNCkBA
IC05NCwyOSArOTUsOTQgQEANCiAJCXJldHVybiBsYXVuY2hOZXdSdW50aW1lV2l6YXJkKHNoZWxs
LCBtb2RlbCwgbnVsbCk7DQogCX0NCiAJDQotCXB1YmxpYyBzdGF0aWMgYm9vbGVhbiBsYXVuY2hO
ZXdSdW50aW1lV2l6YXJkKFNoZWxsIHNoZWxsLCBJRGF0YU1vZGVsIG1vZGVsLCBTdHJpbmcgc2Vy
dmVyVHlwZUlEKSB7DQotCQlEYXRhTW9kZWxQcm9wZXJ0eURlc2NyaXB0b3JbXSBwcmVBZGRpdGlv
bkRlc2NyaXB0b3JzID0gbW9kZWwuZ2V0VmFsaWRQcm9wZXJ0eURlc2NyaXB0b3JzKEZBQ0VUX1JV
TlRJTUUpOw0KKwlwdWJsaWMgc3RhdGljIGJvb2xlYW4gbGF1bmNoTmV3UnVudGltZVdpemFyZChT
aGVsbCBzaGVsbCwgZmluYWwgSURhdGFNb2RlbCBtb2RlbCwgU3RyaW5nIHNlcnZlclR5cGVJRCkg
DQorCXsNCisJICAgIGlmKCBtb2RlbCA9PSBudWxsICkNCisJICAgIHsNCisJICAgICAgICByZXR1
cm4gZmFsc2U7DQorCSAgICB9DQorCSAgICANCisJCWZpbmFsIERhdGFNb2RlbFByb3BlcnR5RGVz
Y3JpcHRvcltdIHByZUFkZGl0aW9uRGVzY3JpcHRvcnMgPSBtb2RlbC5nZXRWYWxpZFByb3BlcnR5
RGVzY3JpcHRvcnMoRkFDRVRfUlVOVElNRSk7DQorCQkNCisJCWZpbmFsIGJvb2xlYW5bXSBrZWVw
V2FpdGluZyA9IHsgdHJ1ZSB9Ow0KKwkJDQorCQlmaW5hbCBJRGF0YU1vZGVsTGlzdGVuZXIgbGlz
dGVuZXIgPSBuZXcgSURhdGFNb2RlbExpc3RlbmVyKCkNCisJCXsNCisgICAgICAgICAgICBwdWJs
aWMgdm9pZCBwcm9wZXJ0eUNoYW5nZWQoIGZpbmFsIERhdGFNb2RlbEV2ZW50IGV2ZW50ICkNCisg
ICAgICAgICAgICB7DQorICAgICAgICAgICAgICAgIGlmKCBldmVudC5nZXRQcm9wZXJ0eU5hbWUo
KS5lcXVhbHMoIEZBQ0VUX1JVTlRJTUUgKSAmJg0KKyAgICAgICAgICAgICAgICAgICAgZXZlbnQu
Z2V0RmxhZygpID09IERhdGFNb2RlbEV2ZW50LlZBTElEX1ZBTFVFU19DSEcgKQ0KKyAgICAgICAg
ICAgICAgICB7DQorICAgICAgICAgICAgICAgICAgICBzeW5jaHJvbml6ZWQoIGtlZXBXYWl0aW5n
ICkNCisgICAgICAgICAgICAgICAgICAgIHsNCisgICAgICAgICAgICAgICAgICAgICAgICBrZWVw
V2FpdGluZ1sgMCBdID0gZmFsc2U7DQorICAgICAgICAgICAgICAgICAgICAgICAga2VlcFdhaXRp
bmcubm90aWZ5KCk7DQorICAgICAgICAgICAgICAgICAgICB9DQorICAgICAgICAgICAgICAgICAg
ICANCisgICAgICAgICAgICAgICAgICAgIG1vZGVsLnJlbW92ZUxpc3RlbmVyKCB0aGlzICk7DQor
ICAgICAgICAgICAgICAgIH0NCisgICAgICAgICAgICB9DQorCQl9Ow0KKwkJDQorCQltb2RlbC5h
ZGRMaXN0ZW5lciggbGlzdGVuZXIgKTsNCisJCQ0KIAkJYm9vbGVhbiBpc09LID0gU2VydmVyVUlV
dGlsLnNob3dOZXdSdW50aW1lV2l6YXJkKHNoZWxsLCBzZXJ2ZXJUeXBlSUQsIG51bGwpOw0KLQkJ
aWYgKGlzT0sgJiYgbW9kZWwgIT0gbnVsbCkgew0KLQ0KLQkJCURhdGFNb2RlbFByb3BlcnR5RGVz
Y3JpcHRvcltdIHBvc3RBZGRpdGlvbkRlc2NyaXB0b3JzID0gbW9kZWwuZ2V0VmFsaWRQcm9wZXJ0
eURlc2NyaXB0b3JzKEZBQ0VUX1JVTlRJTUUpOw0KLQkJCU9iamVjdFtdIHByZUFkZGl0aW9uID0g
bmV3IE9iamVjdFtwcmVBZGRpdGlvbkRlc2NyaXB0b3JzLmxlbmd0aF07DQotCQkJZm9yIChpbnQg
aSA9IDA7IGkgPCBwcmVBZGRpdGlvbi5sZW5ndGg7IGkrKykgew0KLQkJCQlwcmVBZGRpdGlvbltp
XSA9IHByZUFkZGl0aW9uRGVzY3JpcHRvcnNbaV0uZ2V0UHJvcGVydHlWYWx1ZSgpOw0KLQkJCX0N
Ci0JCQlPYmplY3RbXSBwb3N0QWRkaXRpb24gPSBuZXcgT2JqZWN0W3Bvc3RBZGRpdGlvbkRlc2Ny
aXB0b3JzLmxlbmd0aF07DQotCQkJZm9yIChpbnQgaSA9IDA7IGkgPCBwb3N0QWRkaXRpb24ubGVu
Z3RoOyBpKyspIHsNCi0JCQkJcG9zdEFkZGl0aW9uW2ldID0gcG9zdEFkZGl0aW9uRGVzY3JpcHRv
cnNbaV0uZ2V0UHJvcGVydHlWYWx1ZSgpOw0KLQkJCX0NCi0JCQlPYmplY3QgbmV3QWRkaXRpb24g
PSBnZXROZXdPYmplY3QocHJlQWRkaXRpb24sIHBvc3RBZGRpdGlvbik7DQotDQotCQkJbW9kZWwu
bm90aWZ5UHJvcGVydHlDaGFuZ2UoRkFDRVRfUlVOVElNRSwgSURhdGFNb2RlbC5WQUxJRF9WQUxV
RVNfQ0hHKTsNCi0JCQlpZiAobmV3QWRkaXRpb24gIT0gbnVsbCkNCi0JCQkJbW9kZWwuc2V0UHJv
cGVydHkoRkFDRVRfUlVOVElNRSwgbmV3QWRkaXRpb24pOw0KLQkJCWVsc2UNCi0JCQkJcmV0dXJu
IGZhbHNlOw0KKwkJDQorCQlpZiggaXNPSyApIA0KKwkJew0KKwkJICAgIC8vIERvIHRoZSByZXN0
IG9mIHRoZSBwcm9jZXNzaW5nIGluIGEgc2VwYXJhdGUgdGhyZWFkLiBTaW5jZSB3ZSBhcmUgZ29p
bmcgdG8gYmxvY2sNCisJCSAgICAvLyBhbmQgd2FpdCwgZG9pbmcgdGhpcyBvbiB0aGUgVUkgdGhy
ZWFkIGNhbiBjYXVzZSBoYW5ncy4NCisJCSAgICANCisJCSAgICBmaW5hbCBUaHJlYWQgbmV3UnVu
dGltZVNlbGVjdGlvblRocmVhZCA9IG5ldyBUaHJlYWQoKQ0KKwkJICAgIHsNCisJCSAgICAgICAg
cHVibGljIHZvaWQgcnVuKCkNCisJCSAgICAgICAgew0KKyAgICAgICAgCQkgICAgLy8gQ2F1c2Vz
IHRoZSBsaXN0IG9mIHJ1bnRpbWVzIGhlbGQgYnkgdGhlIFJ1bnRpbWVNYW5hZ2VyIHRvIGJlIHJl
ZnJlc2hlZCBhbmQgDQorICAgICAgICAJCSAgICAvLyB0cmlnZ2VycyBldmVudHMgdG8gbGlzdGVu
ZXJzIG9uIHRoYXQgbGlzdC4NCisgICAgICAgIAkJICAgIA0KKyAgICAgICAgCQkgICAgUnVudGlt
ZU1hbmFnZXIuZ2V0UnVudGltZXMoKTsNCisgICAgICAgIAkJICAgIA0KKyAgICAgICAgCQkgICAg
Ly8gV2FpdCB1bnRpbCB0aGUgbGlzdCBvZiB2YWxpZCB2YWx1ZXMgaGFzIHVwZGF0ZWQgdG8gaW5j
bHVkZSB0aGUgbmV3IHJ1bnRpbWUuDQorICAgICAgICAJCSAgICANCisgICAgICAgIAkJICAgIHN5
bmNocm9uaXplZCgga2VlcFdhaXRpbmcgKQ0KKyAgICAgICAgCQkgICAgew0KKyAgICAgICAgCQkg
ICAgICAgIHdoaWxlKCBrZWVwV2FpdGluZ1sgMCBdID09IHRydWUgKQ0KKyAgICAgICAgCQkgICAg
ICAgIHsNCisgICAgICAgIAkJICAgICAgICAgICAgdHJ5DQorICAgICAgICAJCSAgICAgICAgICAg
IHsNCisgICAgICAgIAkJICAgICAgICAgICAgICAgIGtlZXBXYWl0aW5nLndhaXQoKTsNCisgICAg
ICAgIAkJICAgICAgICAgICAgfQ0KKyAgICAgICAgCQkgICAgICAgICAgICBjYXRjaCggSW50ZXJy
dXB0ZWRFeGNlcHRpb24gZSApIHt9DQorICAgICAgICAJCSAgICAgICAgfQ0KKyAgICAgICAgCQkg
ICAgfQ0KKyAgICAgICAgCQkgICAgDQorICAgICAgICAJCSAgICAvLyBTZWxlY3QgdGhlIG5ldyBy
dW50aW1lLg0KKyAgICAgICAgCQkgICAgDQorICAgICAgICAJCQlEYXRhTW9kZWxQcm9wZXJ0eURl
c2NyaXB0b3JbXSBwb3N0QWRkaXRpb25EZXNjcmlwdG9ycyA9IG1vZGVsLmdldFZhbGlkUHJvcGVy
dHlEZXNjcmlwdG9ycyhGQUNFVF9SVU5USU1FKTsNCisgICAgICAgIAkJCU9iamVjdFtdIHByZUFk
ZGl0aW9uID0gbmV3IE9iamVjdFtwcmVBZGRpdGlvbkRlc2NyaXB0b3JzLmxlbmd0aF07DQorICAg
ICAgICAJCQlmb3IgKGludCBpID0gMDsgaSA8IHByZUFkZGl0aW9uLmxlbmd0aDsgaSsrKSB7DQor
ICAgICAgICAJCQkJcHJlQWRkaXRpb25baV0gPSBwcmVBZGRpdGlvbkRlc2NyaXB0b3JzW2ldLmdl
dFByb3BlcnR5VmFsdWUoKTsNCisgICAgICAgIAkJCX0NCisgICAgICAgIAkJCU9iamVjdFtdIHBv
c3RBZGRpdGlvbiA9IG5ldyBPYmplY3RbcG9zdEFkZGl0aW9uRGVzY3JpcHRvcnMubGVuZ3RoXTsN
CisgICAgICAgIAkJCWZvciAoaW50IGkgPSAwOyBpIDwgcG9zdEFkZGl0aW9uLmxlbmd0aDsgaSsr
KSB7DQorICAgICAgICAJCQkJcG9zdEFkZGl0aW9uW2ldID0gcG9zdEFkZGl0aW9uRGVzY3JpcHRv
cnNbaV0uZ2V0UHJvcGVydHlWYWx1ZSgpOw0KKyAgICAgICAgCQkJfQ0KKyAgICAgICAgCQkJT2Jq
ZWN0IG5ld0FkZGl0aW9uID0gZ2V0TmV3T2JqZWN0KHByZUFkZGl0aW9uLCBwb3N0QWRkaXRpb24p
Ow0KKyAgICAgICAgDQorICAgICAgICAJCQlpZiAobmV3QWRkaXRpb24gIT0gbnVsbCkgLy8gY2Fu
IHRoaXMgZXZlciBiZSBudWxsPw0KKyAgICAgICAgCQkJCW1vZGVsLnNldFByb3BlcnR5KEZBQ0VU
X1JVTlRJTUUsIG5ld0FkZGl0aW9uKTsNCisJCSAgICAgICAgfQ0KKwkJICAgIH07DQorCQkgICAg
DQorCQkgICAgbmV3UnVudGltZVNlbGVjdGlvblRocmVhZC5zdGFydCgpOw0KKwkJICAgIA0KKwkJ
ICAgIHJldHVybiB0cnVlOw0KKwkJfQ0KKwkJZWxzZQ0KKwkJew0KKwkJICAgIG1vZGVsLnJlbW92
ZUxpc3RlbmVyKCBsaXN0ZW5lciApOw0KKwkJICAgIHJldHVybiBmYWxzZTsNCiAJCX0NCi0JCXJl
dHVybiBpc09LOw0KIAl9DQogCQ0KIAlwdWJsaWMgYm9vbGVhbiBpbnRlcm5hbExhdW5jaE5ld1J1
bnRpbWVXaXphcmQoU2hlbGwgc2hlbGwsIElEYXRhTW9kZWwgbW9kZWwpIHsNCiNQIG9yZy5lY2xp
cHNlLmpzdC5qMmVlLnVpDQpJbmRleDogajJlZV91aS9vcmcvZWNsaXBzZS9qc3QvajJlZS9pbnRl
cm5hbC93aXphcmQvSjJFRU1vZHVsZUZhY2V0SW5zdGFsbFBhZ2UuamF2YQ0KPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0K
UkNTIGZpbGU6IC9jdnNyb290L3dlYnRvb2xzL2plZXRvb2xzL3BsdWdpbnMvb3JnLmVjbGlwc2Uu
anN0LmoyZWUudWkvajJlZV91aS9vcmcvZWNsaXBzZS9qc3QvajJlZS9pbnRlcm5hbC93aXphcmQv
SjJFRU1vZHVsZUZhY2V0SW5zdGFsbFBhZ2UuamF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEu
Ng0KZGlmZiAtdSAtcjEuNiBKMkVFTW9kdWxlRmFjZXRJbnN0YWxsUGFnZS5qYXZhDQotLS0gajJl
ZV91aS9vcmcvZWNsaXBzZS9qc3QvajJlZS9pbnRlcm5hbC93aXphcmQvSjJFRU1vZHVsZUZhY2V0
SW5zdGFsbFBhZ2UuamF2YQkxMCBOb3YgMjAwNyAwMDoyNzoyNyAtMDAwMAkxLjYNCisrKyBqMmVl
X3VpL29yZy9lY2xpcHNlL2pzdC9qMmVlL2ludGVybmFsL3dpemFyZC9KMkVFTW9kdWxlRmFjZXRJ
bnN0YWxsUGFnZS5qYXZhCTQgSmFuIDIwMDggMjI6NTI6NDcgLTAwMDANCkBAIC0xOSw2ICsxOSw3
IEBADQogaW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5sYXlvdXQuR3JpZExheW91dDsNCiBpbXBvcnQg
b3JnLmVjbGlwc2Uuc3d0LndpZGdldHMuQnV0dG9uOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5zd3Qu
d2lkZ2V0cy5Db21wb3NpdGU7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC53aWRnZXRzLkRpc3Bs
YXk7DQogaW1wb3J0IG9yZy5lY2xpcHNlLndzdC5jb21tb24uZnJhbWV3b3Jrcy5kYXRhbW9kZWwu
RGF0YU1vZGVsRXZlbnQ7DQogaW1wb3J0IG9yZy5lY2xpcHNlLndzdC5jb21tb24uZnJhbWV3b3Jr
cy5kYXRhbW9kZWwuSURhdGFNb2RlbExpc3RlbmVyOw0KIGltcG9ydCBvcmcuZWNsaXBzZS53c3Qu
d2ViLnVpLmludGVybmFsLndpemFyZHMuRGF0YU1vZGVsRmFjZXRJbnN0YWxsUGFnZTsNCkBAIC03
MSw3ICs3MiwxNSBAQA0KICAgICAgICAgICAgICAgICBpZiggZXZlbnQuZ2V0RmxhZygpID09IERh
dGFNb2RlbEV2ZW50LlZBTFVFX0NIRyAmJg0KICAgICAgICAgICAgICAgICAgICAgZXZlbnQuZ2V0
UHJvcGVydHlOYW1lKCkuZXF1YWxzKCBGQUNFVF9WRVJTSU9OICkgKQ0KICAgICAgICAgICAgICAg
ICB7DQotICAgICAgICAgICAgICAgICAgICBoYW5kbGVGYWNldFZlcnNpb25DaGFuZ2VkRXZlbnQo
KTsNCisgICAgICAgICAgICAgICAgICAgIGZpbmFsIFJ1bm5hYmxlIHJ1bm5hYmxlID0gbmV3IFJ1
bm5hYmxlKCkNCisgICAgICAgICAgICAgICAgICAgIHsNCisgICAgICAgICAgICAgICAgICAgICAg
ICBwdWJsaWMgdm9pZCBydW4oKQ0KKyAgICAgICAgICAgICAgICAgICAgICAgIHsNCisgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgaGFuZGxlRmFjZXRWZXJzaW9uQ2hhbmdlZEV2ZW50KCk7DQor
ICAgICAgICAgICAgICAgICAgICAgICAgfQ0KKyAgICAgICAgICAgICAgICAgICAgfTsNCisgICAg
ICAgICAgICAgICAgICAgIA0KKyAgICAgICAgICAgICAgICAgICAgRGlzcGxheS5nZXREZWZhdWx0
KCkuc3luY0V4ZWMoIHJ1bm5hYmxlICk7DQogICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAg
ICB9DQogICAgICAgICB9Ow0KI1Agb3JnLmVjbGlwc2Uud3N0LmNvbW1vbi5wcm9qZWN0LmZhY2V0
LnVpDQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3dzdC9jb21tb24vcHJvamVjdC9mYWNldC91aS9Q
cmVzZXRTZWxlY3Rpb25QYW5lbC5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3Qv
d2VidG9vbHMvY29tbW9uL3BsdWdpbnMvb3JnLmVjbGlwc2Uud3N0LmNvbW1vbi5wcm9qZWN0LmZh
Y2V0LnVpL3NyYy9vcmcvZWNsaXBzZS93c3QvY29tbW9uL3Byb2plY3QvZmFjZXQvdWkvUHJlc2V0
U2VsZWN0aW9uUGFuZWwuamF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuNg0KZGlmZiAtdSAt
cjEuNiBQcmVzZXRTZWxlY3Rpb25QYW5lbC5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL3dzdC9j
b21tb24vcHJvamVjdC9mYWNldC91aS9QcmVzZXRTZWxlY3Rpb25QYW5lbC5qYXZhCTIgTm92IDIw
MDcgMjI6NDU6MDUgLTAwMDAJMS42DQorKysgc3JjL29yZy9lY2xpcHNlL3dzdC9jb21tb24vcHJv
amVjdC9mYWNldC91aS9QcmVzZXRTZWxlY3Rpb25QYW5lbC5qYXZhCTQgSmFuIDIwMDggMjI6NTI6
NDggLTAwMDANCkBAIC0yNCw2ICsyNCw3IEBADQogaW1wb3J0IG9yZy5lY2xpcHNlLnN3dC53aWRn
ZXRzLkJ1dHRvbjsNCiBpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LndpZGdldHMuQ29tYm87DQogaW1w
b3J0IG9yZy5lY2xpcHNlLnN3dC53aWRnZXRzLkNvbXBvc2l0ZTsNCitpbXBvcnQgb3JnLmVjbGlw
c2Uuc3d0LndpZGdldHMuRGlzcGxheTsNCiBpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LndpZGdldHMu
R3JvdXA7DQogaW1wb3J0IG9yZy5lY2xpcHNlLnN3dC53aWRnZXRzLkxhYmVsOw0KIGltcG9ydCBv
cmcuZWNsaXBzZS53c3QuY29tbW9uLnByb2plY3QuZmFjZXQuY29yZS5JRmFjZXRlZFByb2plY3RX
b3JraW5nQ29weTsNCkBAIC0xMDIsNyArMTAzLDE1IEBADQogICAgICAgICAgICAgew0KICAgICAg
ICAgICAgICAgICBwdWJsaWMgdm9pZCBoYW5kbGVFdmVudCggZmluYWwgSUZhY2V0ZWRQcm9qZWN0
RXZlbnQgZXZlbnQgKQ0KICAgICAgICAgICAgICAgICB7DQotICAgICAgICAgICAgICAgICAgICBy
ZWZyZXNoRGVzY3JpcHRpb24oKTsNCisgICAgICAgICAgICAgICAgICAgIGZpbmFsIFJ1bm5hYmxl
IHJ1bm5hYmxlID0gbmV3IFJ1bm5hYmxlKCkNCisgICAgICAgICAgICAgICAgICAgIHsNCisgICAg
ICAgICAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBydW4oKQ0KKyAgICAgICAgICAgICAgICAg
ICAgICAgIHsNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaERlc2NyaXB0aW9u
KCk7DQorICAgICAgICAgICAgICAgICAgICAgICAgfQ0KKyAgICAgICAgICAgICAgICAgICAgfTsN
CisgICAgICAgICAgICAgICAgICAgIA0KKyAgICAgICAgICAgICAgICAgICAgRGlzcGxheS5nZXRE
ZWZhdWx0KCkuc3luY0V4ZWMoIHJ1bm5hYmxlICk7DQogICAgICAgICAgICAgICAgIH0NCiAgICAg
ICAgICAgICB9LA0KICAgICAgICAgICAgIElGYWNldGVkUHJvamVjdEV2ZW50LlR5cGUuU0VMRUNU
RURfUFJFU0VUX0NIQU5HRUQNCkluZGV4OiBzcmMvb3JnL2VjbGlwc2Uvd3N0L2NvbW1vbi9wcm9q
ZWN0L2ZhY2V0L3VpL01vZGlmeUZhY2V0ZWRQcm9qZWN0V2l6YXJkLmphdmENCj09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0N
ClJDUyBmaWxlOiAvY3Zzcm9vdC93ZWJ0b29scy9jb21tb24vcGx1Z2lucy9vcmcuZWNsaXBzZS53
c3QuY29tbW9uLnByb2plY3QuZmFjZXQudWkvc3JjL29yZy9lY2xpcHNlL3dzdC9jb21tb24vcHJv
amVjdC9mYWNldC91aS9Nb2RpZnlGYWNldGVkUHJvamVjdFdpemFyZC5qYXZhLHYNCnJldHJpZXZp
bmcgcmV2aXNpb24gMS42DQpkaWZmIC11IC1yMS42IE1vZGlmeUZhY2V0ZWRQcm9qZWN0V2l6YXJk
LmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2Uvd3N0L2NvbW1vbi9wcm9qZWN0L2ZhY2V0L3VpL01v
ZGlmeUZhY2V0ZWRQcm9qZWN0V2l6YXJkLmphdmEJMTAgTm92IDIwMDcgMTk6MjM6NDIgLTAwMDAJ
MS42DQorKysgc3JjL29yZy9lY2xpcHNlL3dzdC9jb21tb24vcHJvamVjdC9mYWNldC91aS9Nb2Rp
ZnlGYWNldGVkUHJvamVjdFdpemFyZC5qYXZhCTQgSmFuIDIwMDggMjI6NTI6NDggLTAwMDANCkBA
IC0zNiw2ICszNiw3IEBADQogaW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5ldmVudHMuU2VsZWN0aW9u
RXZlbnQ7DQogaW1wb3J0IG9yZy5lY2xpcHNlLnN3dC53aWRnZXRzLkNvbWJvOw0KIGltcG9ydCBv
cmcuZWNsaXBzZS5zd3Qud2lkZ2V0cy5Db21wb3NpdGU7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3
dC53aWRnZXRzLkRpc3BsYXk7DQogaW1wb3J0IG9yZy5lY2xpcHNlLndzdC5jb21tb24ucHJvamVj
dC5mYWNldC5jb3JlLkZhY2V0ZWRQcm9qZWN0RnJhbWV3b3JrOw0KIGltcG9ydCBvcmcuZWNsaXBz
ZS53c3QuY29tbW9uLnByb2plY3QuZmFjZXQuY29yZS5JQWN0aW9uRGVmaW5pdGlvbjsNCiBpbXBv
cnQgb3JnLmVjbGlwc2Uud3N0LmNvbW1vbi5wcm9qZWN0LmZhY2V0LmNvcmUuSUNhdGVnb3J5Ow0K
QEAgLTE0NSw3ICsxNDYsMTUgQEANCiAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgIHB1
YmxpYyB2b2lkIGhhbmRsZUV2ZW50KCBmaW5hbCBJRmFjZXRlZFByb2plY3RFdmVudCBldmVudCAp
IA0KICAgICAgICAgICAgICAgICB7DQotICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZWxlY3Rl
ZEZhY2V0c0NoYW5nZWRFdmVudCgpOw0KKyAgICAgICAgICAgICAgICAgICAgZmluYWwgUnVubmFi
bGUgcnVubmFibGUgPSBuZXcgUnVubmFibGUoKQ0KKyAgICAgICAgICAgICAgICAgICAgew0KKyAg
ICAgICAgICAgICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHJ1bigpDQorICAgICAgICAgICAgICAg
ICAgICAgICAgew0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZWxlY3RlZEZh
Y2V0c0NoYW5nZWRFdmVudCgpOw0KKyAgICAgICAgICAgICAgICAgICAgICAgIH0NCisgICAgICAg
ICAgICAgICAgICAgIH07DQorICAgICAgICAgICAgICAgICAgICANCisgICAgICAgICAgICAgICAg
ICAgIERpc3BsYXkuZ2V0RGVmYXVsdCgpLnN5bmNFeGVjKCBydW5uYWJsZSApOw0KICAgICAgICAg
ICAgICAgICB9DQogICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICBJRmFjZXRlZFByb2plY3RF
dmVudC5UeXBlLlBST0pFQ1RfRkFDRVRTX0NIQU5HRUQNCkBAIC0zNzIsNTEgKzM4MSw2MCBAQA0K
ICAgICAgICAgew0KICAgICAgICAgICAgIHB1YmxpYyB2b2lkIGhhbmRsZUV2ZW50KCBmaW5hbCBJ
RmFjZXRlZFByb2plY3RFdmVudCBldmVudCApDQogICAgICAgICAgICAgew0KLSAgICAgICAgICAg
ICAgICBzeW5jaHJvbml6ZWQoIHNvcnRlZFByZXNldHMgKQ0KKyAgICAgICAgICAgICAgICBmaW5h
bCBSdW5uYWJsZSBydW5uYWJsZSA9IG5ldyBSdW5uYWJsZSgpDQogICAgICAgICAgICAgICAgIHsN
Ci0gICAgICAgICAgICAgICAgICAgIHNvcnRlZFByZXNldHMuY2xlYXIoKTsNCi0gICAgICAgICAg
ICAgICAgICAgIHNvcnRlZFByZXNldHMuYWRkQWxsKCBmcGp3Yy5nZXRBdmFpbGFibGVQcmVzZXRz
KCkgKTsNCi0gICAgICAgICAgICAgICAgICAgIA0KLSAgICAgICAgICAgICAgICAgICAgQ29sbGVj
dGlvbnMuc29ydA0KLSAgICAgICAgICAgICAgICAgICAgKA0KLSAgICAgICAgICAgICAgICAgICAg
ICAgIHNvcnRlZFByZXNldHMsDQotICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbXBhcmF0
b3I8SVByZXNldD4oKQ0KKyAgICAgICAgICAgICAgICAgICAgcHVibGljIHZvaWQgcnVuKCkNCisg
ICAgICAgICAgICAgICAgICAgIHsNCisgICAgICAgICAgICAgICAgICAgICAgICBzeW5jaHJvbml6
ZWQoIHNvcnRlZFByZXNldHMgKQ0KICAgICAgICAgICAgICAgICAgICAgICAgIHsNCi0gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgcHVibGljIGludCBjb21wYXJlKCBmaW5hbCBJUHJlc2V0IHAx
LCANCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5h
bCBJUHJlc2V0IHAyICkgDQotICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsNCi0gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwMSA9PSBwMiApDQorICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHNvcnRlZFByZXNldHMuY2xlYXIoKTsNCisgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgc29ydGVkUHJlc2V0cy5hZGRBbGwoIGZwandjLmdldEF2YWlsYWJsZVByZXNldHMo
KSApOw0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICANCisgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgQ29sbGVjdGlvbnMuc29ydA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAo
DQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0ZWRQcmVzZXRzLA0KKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbXBhcmF0b3I8SVByZXNldD4oKQ0KICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgew0KLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHJldHVybiAwOw0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHB1YmxpYyBpbnQgY29tcGFyZSggZmluYWwgSVByZXNldCBwMSwgDQorICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbCBJUHJlc2V0
IHAyICkgDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgew0KKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggcDEgPT0gcDIgKQ0KKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7DQorICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsNCisgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgfQ0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBlbHNlDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsNCisg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwMS5nZXRM
YWJlbCgpLmNvbXBhcmVUbyggcDIuZ2V0TGFiZWwoKSApOw0KKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB9DQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KLSAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgZWxzZQ0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICApOw0K
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICANCisgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgZmluYWwgSVByZXNldCBzZWxlY3RlZFByZXNldCA9IGZwandjLmdldFNlbGVjdGVkUHJlc2V0
KCk7DQorICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBjb21iby5yZW1vdmVBbGwoKTsNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAg
Y29tYm8uYWRkKCBSZXNvdXJjZXMuY3VzdG9tUHJlc2V0ICk7DQorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggc2VsZWN0ZWRQcmVz
ZXQgPT0gbnVsbCApDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsNCisgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGNvbWJvLnNlbGVjdCggMCApOw0KKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB9DQorICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBmb3IoIElQcmVzZXQgcHJlc2V0IDogc29ydGVkUHJlc2V0cyAp
DQorICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsNCisgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGNvbWJvLmFkZCggcHJlc2V0LmdldExhYmVsKCkgKTsNCisgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYo
IHNlbGVjdGVkUHJlc2V0ICE9IG51bGwgJiYgDQorICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgcHJlc2V0LmdldElkKCkuZXF1YWxzKCBzZWxlY3RlZFByZXNldC5nZXRJZCgpICkg
KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgew0KLSAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHJldHVybiBwMS5nZXRMYWJlbCgpLmNvbXBhcmVUbyggcDIuZ2V0
TGFiZWwoKSApOw0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbWJvLnNl
bGVjdCggY29tYm8uZ2V0SXRlbUNvdW50KCkgLSAxICk7DQogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAg
ICAgICAgICAgICAgICB9DQotICAgICAgICAgICAgICAgICAgICApOw0KLSAgICAgICAgICAgICAg
ICAgICAgDQotICAgICAgICAgICAgICAgICAgICBmaW5hbCBJUHJlc2V0IHNlbGVjdGVkUHJlc2V0
ID0gZnBqd2MuZ2V0U2VsZWN0ZWRQcmVzZXQoKTsNCi0gICAgICAgICAgICAgICAgICAgIA0KLSAg
ICAgICAgICAgICAgICAgICAgY29tYm8ucmVtb3ZlQWxsKCk7DQotICAgICAgICAgICAgICAgICAg
ICBjb21iby5hZGQoIFJlc291cmNlcy5jdXN0b21QcmVzZXQgKTsNCi0gICAgICAgICAgICAgICAg
ICAgIA0KLSAgICAgICAgICAgICAgICAgICAgaWYoIHNlbGVjdGVkUHJlc2V0ID09IG51bGwgKQ0K
LSAgICAgICAgICAgICAgICAgICAgew0KLSAgICAgICAgICAgICAgICAgICAgICAgIGNvbWJvLnNl
bGVjdCggMCApOw0KLSAgICAgICAgICAgICAgICAgICAgfQ0KLSAgICAgICAgICAgICAgICAgICAg
DQotICAgICAgICAgICAgICAgICAgICBmb3IoIElQcmVzZXQgcHJlc2V0IDogc29ydGVkUHJlc2V0
cyApDQotICAgICAgICAgICAgICAgICAgICB7DQotICAgICAgICAgICAgICAgICAgICAgICAgY29t
Ym8uYWRkKCBwcmVzZXQuZ2V0TGFiZWwoKSApOw0KLSAgICAgICAgICAgICAgICAgICAgICAgIA0K
LSAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBzZWxlY3RlZFByZXNldCAhPSBudWxsICYmIHBy
ZXNldC5nZXRJZCgpLmVxdWFscyggc2VsZWN0ZWRQcmVzZXQuZ2V0SWQoKSApICkNCi0gICAgICAg
ICAgICAgICAgICAgICAgICB7DQotICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbWJvLnNl
bGVjdCggY29tYm8uZ2V0SXRlbUNvdW50KCkgLSAxICk7DQotICAgICAgICAgICAgICAgICAgICAg
ICAgfQ0KICAgICAgICAgICAgICAgICAgICAgfQ0KLSAgICAgICAgICAgICAgICB9DQorICAgICAg
ICAgICAgICAgIH07DQorICAgICAgICAgICAgICAgIA0KKyAgICAgICAgICAgICAgICBEaXNwbGF5
LmdldERlZmF1bHQoKS5zeW5jRXhlYyggcnVubmFibGUgKTsNCiAgICAgICAgICAgICB9DQogICAg
ICAgICB9Ow0KICAgICAgICAgDQpAQCAtNDI3LDIyICs0NDUsMzAgQEANCiAgICAgICAgIHsNCiAg
ICAgICAgICAgICBwdWJsaWMgdm9pZCBoYW5kbGVFdmVudCggZmluYWwgSUZhY2V0ZWRQcm9qZWN0
RXZlbnQgZXZlbnQgKQ0KICAgICAgICAgICAgIHsNCi0gICAgICAgICAgICAgICAgc3luY2hyb25p
emVkKCBzb3J0ZWRQcmVzZXRzICkNCisgICAgICAgICAgICAgICAgZmluYWwgUnVubmFibGUgcnVu
bmFibGUgPSBuZXcgUnVubmFibGUoKQ0KICAgICAgICAgICAgICAgICB7DQotICAgICAgICAgICAg
ICAgICAgICBmaW5hbCBJUHJlc2V0IHByZXNldCA9IGZwandjLmdldFNlbGVjdGVkUHJlc2V0KCk7
DQotICAgICAgICAgICAgICAgICAgICBmaW5hbCBpbnQgaW5kZXg7DQotICAgICAgICAgICAgICAg
ICAgICANCi0gICAgICAgICAgICAgICAgICAgIGlmKCBwcmVzZXQgPT0gbnVsbCApDQotICAgICAg
ICAgICAgICAgICAgICB7DQotICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAtMTsNCi0g
ICAgICAgICAgICAgICAgICAgIH0NCi0gICAgICAgICAgICAgICAgICAgIGVsc2UNCisgICAgICAg
ICAgICAgICAgICAgIHB1YmxpYyB2b2lkIHJ1bigpDQogICAgICAgICAgICAgICAgICAgICB7DQot
ICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBzb3J0ZWRQcmVzZXRzLmluZGV4T2YoIHBy
ZXNldCApOw0KKyAgICAgICAgICAgICAgICAgICAgICAgIHN5bmNocm9uaXplZCggc29ydGVkUHJl
c2V0cyApDQorICAgICAgICAgICAgICAgICAgICAgICAgew0KKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBmaW5hbCBJUHJlc2V0IHByZXNldCA9IGZwandjLmdldFNlbGVjdGVkUHJlc2V0KCk7
DQorICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsIGludCBpbmRleDsNCisgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBw
cmVzZXQgPT0gbnVsbCApDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsNCisgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gLTE7DQorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIH0NCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQ0KKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB7DQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBp
bmRleCA9IHNvcnRlZFByZXNldHMuaW5kZXhPZiggcHJlc2V0ICk7DQorICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIH0NCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQorICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGNvbWJvLnNlbGVjdCggaW5kZXggKyAxICk7DQorICAgICAgICAg
ICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgfQ0KLSAgICAgICAgICAgICAg
ICAgICAgDQotICAgICAgICAgICAgICAgICAgICBjb21iby5zZWxlY3QoIGluZGV4ICsgMSApOw0K
LSAgICAgICAgICAgICAgICB9DQorICAgICAgICAgICAgICAgIH07DQorICAgICAgICAgICAgICAg
IA0KKyAgICAgICAgICAgICAgICBEaXNwbGF5LmdldERlZmF1bHQoKS5zeW5jRXhlYyggcnVubmFi
bGUgKTsNCiAgICAgICAgICAgICB9DQogICAgICAgICB9Ow0KICAgICAgICAgDQojUCBvcmcuZWNs
aXBzZS53c3QuY29tbW9uLm1vZHVsZWNvcmUNCkluZGV4OiBtb2R1bGVjb3JlLXNyYy9vcmcvZWNs
aXBzZS93c3QvY29tbW9uL2NvbXBvbmVudGNvcmUvZGF0YW1vZGVsL0ZhY2V0UHJvamVjdENyZWF0
aW9uRGF0YU1vZGVsUHJvdmlkZXIuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290
L3dlYnRvb2xzL2NvbW1vbi9wbHVnaW5zL29yZy5lY2xpcHNlLndzdC5jb21tb24ubW9kdWxlY29y
ZS9tb2R1bGVjb3JlLXNyYy9vcmcvZWNsaXBzZS93c3QvY29tbW9uL2NvbXBvbmVudGNvcmUvZGF0
YW1vZGVsL0ZhY2V0UHJvamVjdENyZWF0aW9uRGF0YU1vZGVsUHJvdmlkZXIuamF2YSx2DQpyZXRy
aWV2aW5nIHJldmlzaW9uIDEuMzMNCmRpZmYgLXUgLXIxLjMzIEZhY2V0UHJvamVjdENyZWF0aW9u
RGF0YU1vZGVsUHJvdmlkZXIuamF2YQ0KLS0tIG1vZHVsZWNvcmUtc3JjL29yZy9lY2xpcHNlL3dz
dC9jb21tb24vY29tcG9uZW50Y29yZS9kYXRhbW9kZWwvRmFjZXRQcm9qZWN0Q3JlYXRpb25EYXRh
TW9kZWxQcm92aWRlci5qYXZhCTQgRGVjIDIwMDcgMjI6NDY6MjggLTAwMDAJMS4zMw0KKysrIG1v
ZHVsZWNvcmUtc3JjL29yZy9lY2xpcHNlL3dzdC9jb21tb24vY29tcG9uZW50Y29yZS9kYXRhbW9k
ZWwvRmFjZXRQcm9qZWN0Q3JlYXRpb25EYXRhTW9kZWxQcm92aWRlci5qYXZhCTQgSmFuIDIwMDgg
MjI6NTI6NDkgLTAwMDANCkBAIC00Nyw2ICs0Nyw3IEBADQogaW1wb3J0IG9yZy5lY2xpcHNlLndz
dC5jb21tb24ucHJvamVjdC5mYWNldC5jb3JlLmV2ZW50cy5JRmFjZXRlZFByb2plY3RFdmVudDsN
CiBpbXBvcnQgb3JnLmVjbGlwc2Uud3N0LmNvbW1vbi5wcm9qZWN0LmZhY2V0LmNvcmUuZXZlbnRz
LklGYWNldGVkUHJvamVjdExpc3RlbmVyOw0KIGltcG9ydCBvcmcuZWNsaXBzZS53c3QuY29tbW9u
LnByb2plY3QuZmFjZXQuY29yZS5ydW50aW1lLklSdW50aW1lOw0KK2ltcG9ydCBvcmcuZWNsaXBz
ZS53c3QuY29tbW9uLnByb2plY3QuZmFjZXQuY29yZS5ydW50aW1lLlJ1bnRpbWVNYW5hZ2VyOw0K
IA0KIHB1YmxpYyBjbGFzcyBGYWNldFByb2plY3RDcmVhdGlvbkRhdGFNb2RlbFByb3ZpZGVyIGV4
dGVuZHMgQWJzdHJhY3REYXRhTW9kZWxQcm92aWRlciBpbXBsZW1lbnRzIElGYWNldFByb2plY3RD
cmVhdGlvbkRhdGFNb2RlbFByb3BlcnRpZXMgew0KIA0KQEAgLTExNyw3ICsxMTgsNyBAQA0KICAg
ICAgICAgICAgICAgICAgICAgbW9kZWwubm90aWZ5UHJvcGVydHlDaGFuZ2UoRkFDRVRfUlVOVElN
RSwgSURhdGFNb2RlbC5WQUxJRF9WQUxVRVNfQ0hHKTsNCiAgICAgICAgICAgICAgICAgfQ0KICAg
ICAgICAgICAgIH0sDQotICAgICAgICAgICAgSUZhY2V0ZWRQcm9qZWN0RXZlbnQuVHlwZS5UQVJH
RVRBQkxFX1JVTlRJTUVTX0NIQU5HRUQNCisgICAgICAgICAgICBJRmFjZXRlZFByb2plY3RFdmVu
dC5UeXBlLkFWQUlMQUJMRV9SVU5USU1FU19DSEFOR0VEDQogICAgICAgICApOw0KIAkJDQogCQlJ
RGF0YU1vZGVsIHByb2plY3REYXRhTW9kZWwgPSBEYXRhTW9kZWxGYWN0b3J5LmNyZWF0ZURhdGFN
b2RlbChuZXcgUHJvamVjdENyZWF0aW9uRGF0YU1vZGVsUHJvdmlkZXJOZXcoKSk7DQpAQCAtMzY5
LDEwICszNzAsMzIgQEANCiAgICAgICAgICAgICBmaW5hbCBJRmFjZXRlZFByb2plY3RXb3JraW5n
Q29weSBmcGp3YyANCiAgICAgICAgICAgICAgICAgPSAoSUZhY2V0ZWRQcm9qZWN0V29ya2luZ0Nv
cHkpIHRoaXMubW9kZWwuZ2V0UHJvcGVydHkoIEZBQ0VURURfUFJPSkVDVF9XT1JLSU5HX0NPUFkg
KTsNCiAgICAgICAgICAgICANCi0gICAgICAgICAgICBmaW5hbCBTZXQ8SVJ1bnRpbWU+IHRhcmdl
dGFibGVSdW50aW1lcyA9IGZwandjLmdldFRhcmdldGFibGVSdW50aW1lcygpOw0KKyAgICAgICAg
ICAgIGZpbmFsIFNldDxJUHJvamVjdEZhY2V0PiBmaXhlZEZhY2V0cyA9IGZwandjLmdldEZpeGVk
UHJvamVjdEZhY2V0cygpOw0KKyAgICAgICAgICAgIGZpbmFsIEFycmF5TGlzdCBsaXN0ID0gbmV3
IEFycmF5TGlzdCgpOw0KIA0KLQkJCURhdGFNb2RlbFByb3BlcnR5RGVzY3JpcHRvcltdIGRlc2Ny
aXB0b3JzID0gbmV3IERhdGFNb2RlbFByb3BlcnR5RGVzY3JpcHRvclt0YXJnZXRhYmxlUnVudGlt
ZXMuc2l6ZSgpICsgMV07DQotCQkJSXRlcmF0b3IgaXRlcmF0b3IgPSB0YXJnZXRhYmxlUnVudGlt
ZXMuaXRlcmF0b3IoKTsNCisgICAgICAgICAgICBmb3IoIElSdW50aW1lIHJ0IDogUnVudGltZU1h
bmFnZXIuZ2V0UnVudGltZXMoKSApIA0KKyAgICAgICAgICAgIHsNCisgICAgICAgICAgICAgICAg
Ly8gYWRkIHRoaXMgcnVudGltZSBpbiB0aGUgbGlzdCBvbmx5IGlmIGl0IHN1cHBvcnRzIGFsbCBv
ZiB0aGUgcmVxdWlyZWQgZmFjZXRzDQorDQorICAgICAgICAgICAgICAgIGJvb2xlYW4gc3VwcG9y
dHMgPSB0cnVlOw0KKyAgICAgICAgICAgICAgICANCisgICAgICAgICAgICAgICAgZm9yKCBJUHJv
amVjdEZhY2V0IGZhY2V0IDogZml4ZWRGYWNldHMgKQ0KKyAgICAgICAgICAgICAgICB7DQorICAg
ICAgICAgICAgICAgICAgICBpZiggISBydC5zdXBwb3J0cyggZmFjZXQgKSApDQorICAgICAgICAg
ICAgICAgICAgICB7DQorICAgICAgICAgICAgICAgICAgICAgICAgc3VwcG9ydHMgPSBmYWxzZTsN
CisgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCisgICAgICAgICAgICAgICAgICAgIH0N
CisgICAgICAgICAgICAgICAgfQ0KKyAgICAgICAgICAgICAgICANCisgICAgICAgICAgICAgICAg
aWYoIHN1cHBvcnRzICkgDQorICAgICAgICAgICAgICAgIHsNCisgICAgICAgICAgICAgICAgICAg
IGxpc3QuYWRkKHJ0KTsNCisgICAgICAgICAgICAgICAgfQ0KKyAgICAgICAgICAgIH0NCisNCisg
ICAgICAgICAgICBEYXRhTW9kZWxQcm9wZXJ0eURlc2NyaXB0b3JbXSBkZXNjcmlwdG9ycyA9IG5l
dyBEYXRhTW9kZWxQcm9wZXJ0eURlc2NyaXB0b3JbbGlzdC5zaXplKCkgKyAxXTsNCisJCQlJdGVy
YXRvciBpdGVyYXRvciA9IGxpc3QuaXRlcmF0b3IoKTsNCiAJCQlmb3IgKGludCBpID0gMDsgaSA8
IGRlc2NyaXB0b3JzLmxlbmd0aCAtIDE7IGkrKykgew0KIAkJCQlJUnVudGltZSBydW50aW1lID0g
KElSdW50aW1lKSBpdGVyYXRvci5uZXh0KCk7DQogCQkJCWRlc2NyaXB0b3JzW2ldID0gbmV3IERh
dGFNb2RlbFByb3BlcnR5RGVzY3JpcHRvcihydW50aW1lLCBydW50aW1lLmdldExvY2FsaXplZE5h
bWUoKSk7DQojUCBvcmcuZWNsaXBzZS53c3QuY29tbW9uLnByb2plY3QuZmFjZXQuY29yZQ0KSW5k
ZXg6IHNyYy9vcmcvZWNsaXBzZS93c3QvY29tbW9uL3Byb2plY3QvZmFjZXQvY29yZS9pbnRlcm5h
bC9GYWNldGVkUHJvamVjdFdvcmtpbmdDb3B5LmphdmENCj09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAv
Y3Zzcm9vdC93ZWJ0b29scy9jb21tb24vcGx1Z2lucy9vcmcuZWNsaXBzZS53c3QuY29tbW9uLnBy
b2plY3QuZmFjZXQuY29yZS9zcmMvb3JnL2VjbGlwc2Uvd3N0L2NvbW1vbi9wcm9qZWN0L2ZhY2V0
L2NvcmUvaW50ZXJuYWwvRmFjZXRlZFByb2plY3RXb3JraW5nQ29weS5qYXZhLHYNCnJldHJpZXZp
bmcgcmV2aXNpb24gMS41DQpkaWZmIC11IC1yMS41IEZhY2V0ZWRQcm9qZWN0V29ya2luZ0NvcHku
amF2YQ0KLS0tIHNyYy9vcmcvZWNsaXBzZS93c3QvY29tbW9uL3Byb2plY3QvZmFjZXQvY29yZS9p
bnRlcm5hbC9GYWNldGVkUHJvamVjdFdvcmtpbmdDb3B5LmphdmEJNCBEZWMgMjAwNyAyMjo0Njo0
NyAtMDAwMAkxLjUNCisrKyBzcmMvb3JnL2VjbGlwc2Uvd3N0L2NvbW1vbi9wcm9qZWN0L2ZhY2V0
L2NvcmUvaW50ZXJuYWwvRmFjZXRlZFByb2plY3RXb3JraW5nQ29weS5qYXZhCTQgSmFuIDIwMDgg
MjI6NTI6NTEgLTAwMDANCkBAIC0xODcsMTMgKzE4NywyNiBAQA0KICAgICAgICAgICAgICAgICB7
DQogICAgICAgICAgICAgICAgICAgICBwdWJsaWMgdm9pZCBydW4oKQ0KICAgICAgICAgICAgICAg
ICAgICAgew0KLSAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsIElGYWNldGVkUHJvamVjdEV2
ZW50IGV2ZW50DQotICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gbmV3IEZhY2V0ZWRQcm9q
ZWN0RXZlbnQoIEZhY2V0ZWRQcm9qZWN0V29ya2luZ0NvcHkudGhpcywgDQotICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElGYWNldGVkUHJvamVj
dEV2ZW50LlR5cGUuQVZBSUxBQkxFX1JVTlRJTUVTX0NIQU5HRUQgKTsNCisgICAgICAgICAgICAg
ICAgICAgICAgICAvLyBTdXNwZW5kaW5nIGV2ZW50IG5vdGlmaWNhdGlvbiB0byBtYWtlIHN1cmUg
dGhhdCB0aGUgaW50ZXJuYWwgbGlzdCBvZg0KKyAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRh
cmdldGFibGUgcnVudGltZXMgaXMgdXBkYXRlZCBiZWZvcmUgdGhlIEFWQUlMQUJMRV9SVU5USU1F
U19DSEFOR0VEDQorICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXZlbnQgaXMgcmVjZWl2ZWQg
YnkgbGlzdGVuZXJzLg0KICAgICAgICAgICAgICAgICAgICAgICAgIA0KLSAgICAgICAgICAgICAg
ICAgICAgICAgIG5vdGlmeUxpc3RlbmVycyggZXZlbnQgKTsNCisgICAgICAgICAgICAgICAgICAg
ICAgICBzdXNwZW5kRXZlbnROb3RpZmljYXRpb24oKTsNCiAgICAgICAgICAgICAgICAgICAgICAg
ICANCi0gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoVGFyZ2V0YWJsZVJ1bnRpbWVzKCk7
DQorICAgICAgICAgICAgICAgICAgICAgICAgdHJ5DQorICAgICAgICAgICAgICAgICAgICAgICAg
ew0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbCBJRmFjZXRlZFByb2plY3RFdmVu
dCBldmVudA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBuZXcgRmFjZXRlZFBy
b2plY3RFdmVudCggRmFjZXRlZFByb2plY3RXb3JraW5nQ29weS50aGlzLCANCisgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElGYWNldGVk
UHJvamVjdEV2ZW50LlR5cGUuQVZBSUxBQkxFX1JVTlRJTUVTX0NIQU5HRUQgKTsNCisgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlm
eUxpc3RlbmVycyggZXZlbnQgKTsNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQorICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hUYXJnZXRhYmxlUnVudGltZXMoKTsNCisg
ICAgICAgICAgICAgICAgICAgICAgICB9DQorICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxs
eQ0KKyAgICAgICAgICAgICAgICAgICAgICAgIHsNCisgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgcmVzdW1lRXZlbnROb3RpZmljYXRpb24oKTsNCisgICAgICAgICAgICAgICAgICAgICAgICB9
DQogICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgIH07DQogICAgICAgICAg
ICAgICAgIA0KI1Agb3JnLmVjbGlwc2Uud3N0LmNvbW1vbi5mcmFtZXdvcmtzLnVpDQpJbmRleDog
d3RwX3VpL29yZy9lY2xpcHNlL3dzdC9jb21tb24vZnJhbWV3b3Jrcy9pbnRlcm5hbC9kYXRhbW9k
ZWwvdWkvRGF0YU1vZGVsV2l6YXJkUGFnZS5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2
c3Jvb3Qvd2VidG9vbHMvY29tbW9uL3BsdWdpbnMvb3JnLmVjbGlwc2Uud3N0LmNvbW1vbi5mcmFt
ZXdvcmtzLnVpL3d0cF91aS9vcmcvZWNsaXBzZS93c3QvY29tbW9uL2ZyYW1ld29ya3MvaW50ZXJu
YWwvZGF0YW1vZGVsL3VpL0RhdGFNb2RlbFdpemFyZFBhZ2UuamF2YSx2DQpyZXRyaWV2aW5nIHJl
dmlzaW9uIDEuMTQNCmRpZmYgLXUgLXIxLjE0IERhdGFNb2RlbFdpemFyZFBhZ2UuamF2YQ0KLS0t
IHd0cF91aS9vcmcvZWNsaXBzZS93c3QvY29tbW9uL2ZyYW1ld29ya3MvaW50ZXJuYWwvZGF0YW1v
ZGVsL3VpL0RhdGFNb2RlbFdpemFyZFBhZ2UuamF2YQk3IEp1biAyMDA3IDE5OjMxOjE2IC0wMDAw
CTEuMTQNCisrKyB3dHBfdWkvb3JnL2VjbGlwc2Uvd3N0L2NvbW1vbi9mcmFtZXdvcmtzL2ludGVy
bmFsL2RhdGFtb2RlbC91aS9EYXRhTW9kZWxXaXphcmRQYWdlLmphdmEJNCBKYW4gMjAwOCAyMjo1
Mjo1MiAtMDAwMA0KQEAgLTIzLDYgKzIzLDcgQEANCiBpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LlNX
VDsNCiBpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LndpZGdldHMuQ29tcG9zaXRlOw0KIGltcG9ydCBv
cmcuZWNsaXBzZS5zd3Qud2lkZ2V0cy5Db250cm9sOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3Qu
d2lkZ2V0cy5EaXNwbGF5Ow0KIGltcG9ydCBvcmcuZWNsaXBzZS5zd3Qud2lkZ2V0cy5MaXN0ZW5l
cjsNCiBpbXBvcnQgb3JnLmVjbGlwc2UudWkuUGxhdGZvcm1VSTsNCiBpbXBvcnQgb3JnLmVjbGlw
c2Uud3N0LmNvbW1vbi5mcmFtZXdvcmtzLmRhdGFtb2RlbC5EYXRhTW9kZWxFdmVudDsNCkBAIC00
MjMsMTggKzQyNCwyNyBAQA0KIAkgKiBAc2VlIG9yZy5lY2xpcHNlLndzdC5jb21tb24uZnJhbWV3
b3Jrcy5pbnRlcm5hbC5vcGVyYXRpb24uV1RQT3BlcmF0aW9uRGF0YU1vZGVsTGlzdGVuZXIjcHJv
cGVydHlDaGFuZ2VkKGphdmEubGFuZy5TdHJpbmcsDQogCSAqICAgICAgamF2YS5sYW5nLk9iamVj
dCwgamF2YS5sYW5nLk9iamVjdCkNCiAJICovDQotCXB1YmxpYyB2b2lkIHByb3BlcnR5Q2hhbmdl
ZChEYXRhTW9kZWxFdmVudCBldmVudCkgew0KKwlwdWJsaWMgdm9pZCBwcm9wZXJ0eUNoYW5nZWQo
ZmluYWwgRGF0YU1vZGVsRXZlbnQgZXZlbnQpIHsNCiAJCURhdGFNb2RlbFdpemFyZCB3ID0gZ2V0
RGF0YU1vZGVsV2l6YXJkKCk7DQotCQlpZih3ID09IG51bGwgfHwgIXcuaXNFeGVjdXRpbmcoKSl7
DQotCQkJU3RyaW5nIHByb3BlcnR5TmFtZSA9IGV2ZW50LmdldFByb3BlcnR5TmFtZSgpOw0KLQkJ
CWlmICh2YWxpZGF0aW9uUHJvcGVydHlOYW1lcyAhPSBudWxsICYmIChldmVudC5nZXRGbGFnKCkg
PT0gRGF0YU1vZGVsRXZlbnQuVkFMVUVfQ0hHIHx8ICghaXNQYWdlQ29tcGxldGUoKSAmJiBldmVu
dC5nZXRGbGFnKCkgPT0gRGF0YU1vZGVsRXZlbnQuVkFMSURfVkFMVUVTX0NIRykpKSB7DQotCQkJ
CWZvciAoaW50IGkgPSAwOyBpIDwgdmFsaWRhdGlvblByb3BlcnR5TmFtZXMubGVuZ3RoOyBpKysp
IHsNCi0JCQkJCWlmICh2YWxpZGF0aW9uUHJvcGVydHlOYW1lc1tpXS5lcXVhbHMocHJvcGVydHlO
YW1lKSkgew0KLQkJCQkJCXZhbGlkYXRlUGFnZShzaG93VmFsaWRhdGlvbkVycm9yc09uRW50ZXIo
KSk7DQotCQkJCQkJYnJlYWs7DQotCQkJCQl9DQotCQkJCX0NCi0JCQl9DQorCQlpZih3ID09IG51
bGwgfHwgIXcuaXNFeGVjdXRpbmcoKSkNCisJCXsNCisJCSAgICBmaW5hbCBSdW5uYWJsZSB1aUNo
YW5nZXMgPSBuZXcgUnVubmFibGUoKQ0KKwkJICAgIHsNCisJCSAgICAgICAgcHVibGljIHZvaWQg
cnVuKCkNCisJCSAgICAgICAgew0KKyAgICAgICAgCQkJU3RyaW5nIHByb3BlcnR5TmFtZSA9IGV2
ZW50LmdldFByb3BlcnR5TmFtZSgpOw0KKyAgICAgICAgCQkJaWYgKHZhbGlkYXRpb25Qcm9wZXJ0
eU5hbWVzICE9IG51bGwgJiYgKGV2ZW50LmdldEZsYWcoKSA9PSBEYXRhTW9kZWxFdmVudC5WQUxV
RV9DSEcgfHwgKCFpc1BhZ2VDb21wbGV0ZSgpICYmIGV2ZW50LmdldEZsYWcoKSA9PSBEYXRhTW9k
ZWxFdmVudC5WQUxJRF9WQUxVRVNfQ0hHKSkpIHsNCisgICAgICAgIAkJCQlmb3IgKGludCBpID0g
MDsgaSA8IHZhbGlkYXRpb25Qcm9wZXJ0eU5hbWVzLmxlbmd0aDsgaSsrKSB7DQorICAgICAgICAJ
CQkJCWlmICh2YWxpZGF0aW9uUHJvcGVydHlOYW1lc1tpXS5lcXVhbHMocHJvcGVydHlOYW1lKSkg
ew0KKyAgICAgICAgCQkJCQkJdmFsaWRhdGVQYWdlKHNob3dWYWxpZGF0aW9uRXJyb3JzT25FbnRl
cigpKTsNCisgICAgICAgIAkJCQkJCWJyZWFrOw0KKyAgICAgICAgCQkJCQl9DQorICAgICAgICAJ
CQkJfQ0KKyAgICAgICAgCQkJfQ0KKwkJICAgICAgICB9DQorCQkgICAgfTsNCisJCSAgICANCisJ
CSAgICBEaXNwbGF5LmdldERlZmF1bHQoKS5zeW5jRXhlYyh1aUNoYW5nZXMpOw0KIAkJfQ0KIAl9
DQogDQo=
</data>

          </attachment>
      

    </bug>

</bugzilla>