<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.1"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>214944</bug_id>
          
          <creation_ts>2008-01-10 14:46:00 -0500</creation_ts>
          <short_desc>[browser] xulrunner 1.9-based Browser has no initial background</short_desc>
          <delta_ts>2008-05-01 11:05:34 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>Platform</product>
          <component>SWT</component>
          <version>3.4</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows 2000</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>3.4 M6</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Grant Gayed">grant_gayed</reporter>
          <assigned_to name="Grant Gayed">grant_gayed</assigned_to>
          
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1129185</commentid>
    <comment_count>0</comment_count>
    <who name="Grant Gayed">grant_gayed</who>
    <bug_when>2008-01-10 14:46:04 -0500</bug_when>
    <thetext>- happens on win2000, doesn&apos;t happen on linux, haven&apos;t tried osx

- run snippet 128 with the setUrl() line at the bottom commented out
- the browser has no background drawn for it until a url or text is set
- the only known way to fix this so far is to set the initial page to about:blank and don&apos;t send any resulting events</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1150053</commentid>
    <comment_count>1</comment_count>
    <who name="Grant Gayed">grant_gayed</who>
    <bug_when>2008-02-05 12:38:25 -0500</bug_when>
    <thetext>logged https://bugzilla.mozilla.org/show_bug.cgi?id=415789 at mozilla.org
</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1176351</commentid>
    <comment_count>2</comment_count>
    <who name="Grant Gayed">grant_gayed</who>
    <bug_when>2008-03-12 15:13:09 -0400</bug_when>
    <thetext>Even though https://bugzilla.mozilla.org/show_bug.cgi?id=415789 is marked as blocks1.9+ it does not appear that it is getting fixed because it does not affect Firefox.  So this is fixed in the Browser &gt; 0312.
</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1220259</commentid>
    <comment_count>3</comment_count>
    <who name="Grant Gayed">grant_gayed</who>
    <bug_when>2008-05-01 09:43:48 -0400</bug_when>
    <thetext>The bug in xulrunner has in fact been fixed and verified, so reopening this report in order to revert the Browser workaround.
</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1220314</commentid>
    <comment_count>4</comment_count>
    <who name="Grant Gayed">grant_gayed</who>
    <bug_when>2008-05-01 10:07:56 -0400</bug_when>
    <thetext>Not true, it&apos;s only fixed on linux, not on win32, so the workaround has to stay.  Re-closing this report since at this time it looks like no changes will be made.
</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1220390</commentid>
    <comment_count>5</comment_count>
      <attachid>98319</attachid>
    <who name="Grant Gayed">grant_gayed</who>
    <bug_when>2008-05-01 11:05:34 -0400</bug_when>
    <thetext>Created attachment 98319
patch, in case this gets fixed on all platforms</thetext>
  </long_desc>
      
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>98319</attachid>
            <date>2008-05-01 11:05:00 -0400</date>
            <delta_ts>2008-05-01 11:05:34 -0400</delta_ts>
            <desc>patch, in case this gets fixed on all platforms</desc>
            <filename>patch</filename>
            <type>text/plain</type>
            <size>11017</size>
            <attacher name="Grant Gayed">grant_gayed</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMAojUCBvcmcuZWNsaXBzZS5zd3QKSW5kZXg6
IEVjbGlwc2UgU1dUIE1vemlsbGEvY29tbW9uL29yZy9lY2xpcHNlL3N3dC9icm93c2VyL01vemls
bGEuamF2YQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09ClJDUyBmaWxlOiAvY3Zzcm9vdC9lY2xpcHNlL29yZy5lY2xpcHNl
LnN3dC9FY2xpcHNlIFNXVCBNb3ppbGxhL2NvbW1vbi9vcmcvZWNsaXBzZS9zd3QvYnJvd3Nlci9N
b3ppbGxhLmphdmEsdgpyZXRyaWV2aW5nIHJldmlzaW9uIDEuMTAxCmRpZmYgLXUgLXIxLjEwMSBN
b3ppbGxhLmphdmEKLS0tIEVjbGlwc2UgU1dUIE1vemlsbGEvY29tbW9uL29yZy9lY2xpcHNlL3N3
dC9icm93c2VyL01vemlsbGEuamF2YQkyOCBBcHIgMjAwOCAxNTowNToxNSAtMDAwMAkxLjEwMQor
KysgRWNsaXBzZSBTV1QgTW96aWxsYS9jb21tb24vb3JnL2VjbGlwc2Uvc3d0L2Jyb3dzZXIvTW96
aWxsYS5qYXZhCTEgTWF5IDIwMDggMTM6NDQ6MzIgLTAwMDAKQEAgLTQzLDcgKzQzLDcgQEAKIAlp
bnQgcmVmQ291bnQsIGxhc3RLZXlDb2RlLCBsYXN0Q2hhckNvZGU7CiAJaW50IC8qbG9uZyovIHJl
cXVlc3Q7CiAJUG9pbnQgbG9jYXRpb24sIHNpemU7Ci0JYm9vbGVhbiB2aXNpYmxlLCBpc0NoaWxk
LCBpZ25vcmVEaXNwb3NlLCBhd2FpdGluZ05hdmlnYXRlOworCWJvb2xlYW4gdmlzaWJsZSwgaXND
aGlsZCwgaWdub3JlRGlzcG9zZTsKIAlTaGVsbCB0aXAgPSBudWxsOwogCUxpc3RlbmVyIGxpc3Rl
bmVyOwogCVZlY3RvciB1bmhvb2tlZERPTVdpbmRvd3MgPSBuZXcgVmVjdG9yICgpOwpAQCAtMTEx
MCwyMSArMTExMCwyMSBAQAogCQkJCSAqIE9uY2UgdGhlIGNsaWVudCBkb2VzIGEgcHJvcGVyIG5h
dmlnYXRlIHdpdGggZWl0aGVyIHNldFVybCgpIG9yIHNldFRleHQoKSB0aGVuIHJlc3VtZSBhcwog
CQkJCSAqIG5vcm1hbC4gIFRoZSBNb3ppbGxhIGJ1ZyBmb3IgdGhpcyBpcyBodHRwczovL2J1Z3pp
bGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD00MTU3ODkuCiAJCQkJICovCi0JCQkJYXdh
aXRpbmdOYXZpZ2F0ZSA9IHRydWU7Ci0JCQkJcmMgPSB3ZWJCcm93c2VyLlF1ZXJ5SW50ZXJmYWNl
IChuc0lXZWJOYXZpZ2F0aW9uLk5TX0lXRUJOQVZJR0FUSU9OX0lJRCwgcmVzdWx0KTsKLQkJCQlp
ZiAocmMgIT0gWFBDT00uTlNfT0spIHsKLQkJCQkJYnJvd3Nlci5kaXNwb3NlICgpOwotCQkJCQll
cnJvciAocmMpOwotCQkJCX0KLQkJCQlpZiAocmVzdWx0WzBdID09IDApIHsKLQkJCQkJYnJvd3Nl
ci5kaXNwb3NlICgpOwotCQkJCQllcnJvciAoWFBDT00uTlNfRVJST1JfTk9fSU5URVJGQUNFKTsK
LQkJCQl9Ci0JCQkJbnNJV2ViTmF2aWdhdGlvbiB3ZWJOYXZpZ2F0aW9uID0gbmV3IG5zSVdlYk5h
dmlnYXRpb24gKHJlc3VsdFswXSk7Ci0JCQkgICAgY2hhcltdIHVyaSA9IG5ldyBjaGFyW0FCT1VU
X0JMQU5LLmxlbmd0aCAoKSArIDFdOwotCQkJICAgIEFCT1VUX0JMQU5LLmdldENoYXJzICgwLCBB
Qk9VVF9CTEFOSy5sZW5ndGggKCksIHVyaSwgMCk7Ci0JCQkJcmMgPSB3ZWJOYXZpZ2F0aW9uLkxv
YWRVUkkgKHVyaSwgbnNJV2ViTmF2aWdhdGlvbi5MT0FEX0ZMQUdTX05PTkUsIDAsIDAsIDApOwot
CQkJCXdlYk5hdmlnYXRpb24uUmVsZWFzZSAoKTsKKy8vCQkJCWF3YWl0aW5nTmF2aWdhdGUgPSB0
cnVlOworLy8JCQkJcmMgPSB3ZWJCcm93c2VyLlF1ZXJ5SW50ZXJmYWNlIChuc0lXZWJOYXZpZ2F0
aW9uLk5TX0lXRUJOQVZJR0FUSU9OX0lJRCwgcmVzdWx0KTsKKy8vCQkJCWlmIChyYyAhPSBYUENP
TS5OU19PSykgeworLy8JCQkJCWJyb3dzZXIuZGlzcG9zZSAoKTsKKy8vCQkJCQllcnJvciAocmMp
OworLy8JCQkJfQorLy8JCQkJaWYgKHJlc3VsdFswXSA9PSAwKSB7CisvLwkJCQkJYnJvd3Nlci5k
aXNwb3NlICgpOworLy8JCQkJCWVycm9yIChYUENPTS5OU19FUlJPUl9OT19JTlRFUkZBQ0UpOwor
Ly8JCQkJfQorLy8JCQkJbnNJV2ViTmF2aWdhdGlvbiB3ZWJOYXZpZ2F0aW9uID0gbmV3IG5zSVdl
Yk5hdmlnYXRpb24gKHJlc3VsdFswXSk7CisvLwkJCSAgICBjaGFyW10gdXJpID0gbmV3IGNoYXJb
QUJPVVRfQkxBTksubGVuZ3RoICgpICsgMV07CisvLwkJCSAgICBBQk9VVF9CTEFOSy5nZXRDaGFy
cyAoMCwgQUJPVVRfQkxBTksubGVuZ3RoICgpLCB1cmksIDApOworLy8JCQkJcmMgPSB3ZWJOYXZp
Z2F0aW9uLkxvYWRVUkkgKHVyaSwgbnNJV2ViTmF2aWdhdGlvbi5MT0FEX0ZMQUdTX05PTkUsIDAs
IDAsIDApOworLy8JCQkJd2ViTmF2aWdhdGlvbi5SZWxlYXNlICgpOwogCQkJfQogCQl9CiAJCXJl
c3VsdFswXSA9IDA7CkBAIC0xMjAzLDggKzEyMDMsNiBAQAogfQogCiBwdWJsaWMgYm9vbGVhbiBi
YWNrICgpIHsKLQlpZiAoYXdhaXRpbmdOYXZpZ2F0ZSkgcmV0dXJuIGZhbHNlOwotCiAJaW50IC8q
bG9uZyovW10gcmVzdWx0ID0gbmV3IGludCAvKmxvbmcqL1sxXTsKIAlpbnQgcmMgPSB3ZWJCcm93
c2VyLlF1ZXJ5SW50ZXJmYWNlIChuc0lXZWJOYXZpZ2F0aW9uLk5TX0lXRUJOQVZJR0FUSU9OX0lJ
RCwgcmVzdWx0KTsKIAlpZiAocmMgIT0gWFBDT00uTlNfT0spIGVycm9yIChyYyk7CkBAIC0xMzgz
LDggKzEzODEsNiBAQAogfQogCiBwdWJsaWMgYm9vbGVhbiBleGVjdXRlIChTdHJpbmcgc2NyaXB0
KSB7Ci0JaWYgKGF3YWl0aW5nTmF2aWdhdGUpIHJldHVybiBmYWxzZTsKLQogCVN0cmluZyB1cmwg
PSBQUkVGSVhfSkFWQVNDUklQVCArIHNjcmlwdCArICI7dm9pZCgwKTsiOwkvLyROT04tTkxTLTEk
CiAJaW50IC8qbG9uZyovW10gcmVzdWx0ID0gbmV3IGludCAvKmxvbmcqL1sxXTsKIAlpbnQgcmMg
PSB3ZWJCcm93c2VyLlF1ZXJ5SW50ZXJmYWNlIChuc0lXZWJOYXZpZ2F0aW9uLk5TX0lXRUJOQVZJ
R0FUSU9OX0lJRCwgcmVzdWx0KTsKQEAgLTE0MDUsOCArMTQwMSw2IEBACiB9CiAKIHB1YmxpYyBi
b29sZWFuIGZvcndhcmQgKCkgewotCWlmIChhd2FpdGluZ05hdmlnYXRlKSByZXR1cm4gZmFsc2U7
Ci0KIAlpbnQgLypsb25nKi9bXSByZXN1bHQgPSBuZXcgaW50IC8qbG9uZyovWzFdOwogCWludCBy
YyA9IHdlYkJyb3dzZXIuUXVlcnlJbnRlcmZhY2UgKG5zSVdlYk5hdmlnYXRpb24uTlNfSVdFQk5B
VklHQVRJT05fSUlELCByZXN1bHQpOwogCWlmIChyYyAhPSBYUENPTS5OU19PSykgZXJyb3IgKHJj
KTsKQEAgLTE0MjAsOCArMTQxNCw2IEBACiB9CiAKIHB1YmxpYyBTdHJpbmcgZ2V0VGV4dCAoKSB7
Ci0JaWYgKGF3YWl0aW5nTmF2aWdhdGUpIHJldHVybiAiIjsgLy8kTk9OLU5MUy0xJAotCiAJaW50
IC8qbG9uZyovW10gcmVzdWx0ID0gbmV3IGludCAvKmxvbmcqL1sxXTsKIAlpbnQgcmMgPSB3ZWJC
cm93c2VyLkdldENvbnRlbnRET01XaW5kb3cgKHJlc3VsdCk7CiAJaWYgKHJjICE9IFhQQ09NLk5T
X09LKSBlcnJvciAocmMpOwpAQCAtMTQ4MSw4ICsxNDczLDYgQEAKIH0KIAogcHVibGljIFN0cmlu
ZyBnZXRVcmwgKCkgewotCWlmIChhd2FpdGluZ05hdmlnYXRlKSByZXR1cm4gIiI7IC8vJE5PTi1O
TFMtMSQKLQogCWludCAvKmxvbmcqL1tdIHJlc3VsdCA9IG5ldyBpbnQgLypsb25nKi9bMV07CiAJ
aW50IHJjID0gd2ViQnJvd3Nlci5RdWVyeUludGVyZmFjZSAobnNJV2ViTmF2aWdhdGlvbi5OU19J
V0VCTkFWSUdBVElPTl9JSUQsIHJlc3VsdCk7CiAJaWYgKHJjICE9IFhQQ09NLk5TX09LKSBlcnJv
ciAocmMpOwpAQCAtMTU0NCw4ICsxNTM0LDYgQEAKIH0KIAogcHVibGljIGJvb2xlYW4gaXNCYWNr
RW5hYmxlZCAoKSB7Ci0JaWYgKGF3YWl0aW5nTmF2aWdhdGUpIHJldHVybiBmYWxzZTsKLQogCWlu
dCAvKmxvbmcqL1tdIHJlc3VsdCA9IG5ldyBpbnQgLypsb25nKi9bMV07CiAJaW50IHJjID0gd2Vi
QnJvd3Nlci5RdWVyeUludGVyZmFjZSAobnNJV2ViTmF2aWdhdGlvbi5OU19JV0VCTkFWSUdBVElP
Tl9JSUQsIHJlc3VsdCk7CiAJaWYgKHJjICE9IFhQQ09NLk5TX09LKSBlcnJvciAocmMpOwpAQCAt
MTU1OSw4ICsxNTQ3LDYgQEAKIH0KIAogcHVibGljIGJvb2xlYW4gaXNGb3J3YXJkRW5hYmxlZCAo
KSB7Ci0JaWYgKGF3YWl0aW5nTmF2aWdhdGUpIHJldHVybiBmYWxzZTsKLQogCWludCAvKmxvbmcq
L1tdIHJlc3VsdCA9IG5ldyBpbnQgLypsb25nKi9bMV07CiAJaW50IHJjID0gd2ViQnJvd3Nlci5R
dWVyeUludGVyZmFjZSAobnNJV2ViTmF2aWdhdGlvbi5OU19JV0VCTkFWSUdBVElPTl9JSUQsIHJl
c3VsdCk7CiAJaWYgKHJjICE9IFhQQ09NLk5TX09LKSBlcnJvciAocmMpOwpAQCAtMTY3Niw4ICsx
NjYyLDYgQEAKIH0KIAogcHVibGljIHZvaWQgcmVmcmVzaCAoKSB7Ci0JaWYgKGF3YWl0aW5nTmF2
aWdhdGUpIHJldHVybjsKLQogCWludCAvKmxvbmcqL1tdIHJlc3VsdCA9IG5ldyBpbnQgLypsb25n
Ki9bMV07CiAJaW50IHJjID0gd2ViQnJvd3Nlci5RdWVyeUludGVyZmFjZSAobnNJV2ViTmF2aWdh
dGlvbi5OU19JV0VCTkFWSUdBVElPTl9JSUQsIHJlc3VsdCk7CiAJaWYgKHJjICE9IFhQQ09NLk5T
X09LKSBlcnJvcihyYyk7CkBAIC0xNzI4LDggKzE3MTIsNiBAQAogCQlyZXR1cm4gZmFsc2U7CiAJ
fQogCi0JYXdhaXRpbmdOYXZpZ2F0ZSA9IGZhbHNlOwotCiAJYnl0ZVtdIGNvbnRlbnRUeXBlQnVm
ZmVyID0gTW96aWxsYURlbGVnYXRlLndjc1RvTWJjcyAobnVsbCwgInRleHQvaHRtbCIsIHRydWUp
OyAvLyAkTk9OLU5MUy0xJAogCWludCAvKmxvbmcqLyBhQ29udGVudFR5cGUgPSBYUENPTS5uc0Vt
YmVkQ1N0cmluZ19uZXcgKGNvbnRlbnRUeXBlQnVmZmVyLCBjb250ZW50VHlwZUJ1ZmZlci5sZW5n
dGgpOwogCWJ5dGVbXSBjb250ZW50Q2hhcnNldEJ1ZmZlciA9IE1vemlsbGFEZWxlZ2F0ZS53Y3NU
b01iY3MgKG51bGwsICJVVEYtOCIsIHRydWUpOwkvLyROT04tTkxTLTEkCkBAIC0xODE2LDggKzE3
OTgsNiBAQAogfQogCiBwdWJsaWMgYm9vbGVhbiBzZXRVcmwgKFN0cmluZyB1cmwpIHsKLQlhd2Fp
dGluZ05hdmlnYXRlID0gZmFsc2U7Ci0KIAlpbnQgLypsb25nKi9bXSByZXN1bHQgPSBuZXcgaW50
IC8qbG9uZyovWzFdOwogCWludCByYyA9IHdlYkJyb3dzZXIuUXVlcnlJbnRlcmZhY2UgKG5zSVdl
Yk5hdmlnYXRpb24uTlNfSVdFQk5BVklHQVRJT05fSUlELCByZXN1bHQpOwogCWlmIChyYyAhPSBY
UENPTS5OU19PSykgZXJyb3IgKHJjKTsKQEAgLTE4MzIsOCArMTgxMiw2IEBACiB9CiAKIHB1Ymxp
YyB2b2lkIHN0b3AgKCkgewotCWlmIChhd2FpdGluZ05hdmlnYXRlKSByZXR1cm47Ci0KIAlpbnQg
Lypsb25nKi9bXSByZXN1bHQgPSBuZXcgaW50IC8qbG9uZyovWzFdOwogCWludCByYyA9IHdlYkJy
b3dzZXIuUXVlcnlJbnRlcmZhY2UgKG5zSVdlYk5hdmlnYXRpb24uTlNfSVdFQk5BVklHQVRJT05f
SUlELCByZXN1bHQpOwogCWlmIChyYyAhPSBYUENPTS5OU19PSykgZXJyb3IgKHJjKTsKQEAgLTIw
OTYsMjAgKzIwNzQsMTggQEAKIAlpZiAoKGFTdGF0ZUZsYWdzICYgbnNJV2ViUHJvZ3Jlc3NMaXN0
ZW5lci5TVEFURV9TVEFSVCkgIT0gMCkgewogCQlpZiAocmVxdWVzdCA9PSAwKSByZXF1ZXN0ID0g
YVJlcXVlc3Q7CiAKLQkJaWYgKCFhd2FpdGluZ05hdmlnYXRlKSB7Ci0JCQkvKgotCQkJICogQWRk
IHRoZSBwYWdlJ3MgbnNJRE9NV2luZG93IHRvIHRoZSBjb2xsZWN0aW9uIG9mIHdpbmRvd3MgdGhh
dCB3aWxsCi0JCQkgKiBoYXZlIERPTSBsaXN0ZW5lcnMgYWRkZWQgdG8gdGhlbSBsYXRlciBvbiBp
biB0aGUgcGFnZSBsb2FkaW5nCi0JCQkgKiBwcm9jZXNzLiAgVGhlc2UgbGlzdGVuZXJzIGNhbm5v
dCBiZSBhZGRlZCB5ZXQgYmVjYXVzZSB0aGUKLQkJCSAqIG5zSURPTVdpbmRvdyBpcyBub3QgcmVh
ZHkgdG8gdGFrZSB0aGVtIGF0IHRoaXMgc3RhZ2UuCi0JCQkgKi8KLQkJCWludCAvKmxvbmcqL1td
IHJlc3VsdCA9IG5ldyBpbnQgLypsb25nKi9bMV07Ci0JCQluc0lXZWJQcm9ncmVzcyBwcm9ncmVz
cyA9IG5ldyBuc0lXZWJQcm9ncmVzcyAoYVdlYlByb2dyZXNzKTsKLQkJCWludCByYyA9IHByb2dy
ZXNzLkdldERPTVdpbmRvdyAocmVzdWx0KTsKLQkJCWlmIChyYyAhPSBYUENPTS5OU19PSykgZXJy
b3IgKHJjKTsKLQkJCWlmIChyZXN1bHRbMF0gPT0gMCkgZXJyb3IgKFhQQ09NLk5TX05PSU5URVJG
QUNFKTsKLQkJCXVuaG9va2VkRE9NV2luZG93cy5hZGRFbGVtZW50IChuZXcgTE9ORyAocmVzdWx0
WzBdKSk7Ci0JCX0KKwkJLyoKKwkJICogQWRkIHRoZSBwYWdlJ3MgbnNJRE9NV2luZG93IHRvIHRo
ZSBjb2xsZWN0aW9uIG9mIHdpbmRvd3MgdGhhdCB3aWxsCisJCSAqIGhhdmUgRE9NIGxpc3RlbmVy
cyBhZGRlZCB0byB0aGVtIGxhdGVyIG9uIGluIHRoZSBwYWdlIGxvYWRpbmcKKwkJICogcHJvY2Vz
cy4gIFRoZXNlIGxpc3RlbmVycyBjYW5ub3QgYmUgYWRkZWQgeWV0IGJlY2F1c2UgdGhlCisJCSAq
IG5zSURPTVdpbmRvdyBpcyBub3QgcmVhZHkgdG8gdGFrZSB0aGVtIGF0IHRoaXMgc3RhZ2UuCisJ
CSAqLworCQlpbnQgLypsb25nKi9bXSByZXN1bHQgPSBuZXcgaW50IC8qbG9uZyovWzFdOworCQlu
c0lXZWJQcm9ncmVzcyBwcm9ncmVzcyA9IG5ldyBuc0lXZWJQcm9ncmVzcyAoYVdlYlByb2dyZXNz
KTsKKwkJaW50IHJjID0gcHJvZ3Jlc3MuR2V0RE9NV2luZG93IChyZXN1bHQpOworCQlpZiAocmMg
IT0gWFBDT00uTlNfT0spIGVycm9yIChyYyk7CisJCWlmIChyZXN1bHRbMF0gPT0gMCkgZXJyb3Ig
KFhQQ09NLk5TX05PSU5URVJGQUNFKTsKKwkJdW5ob29rZWRET01XaW5kb3dzLmFkZEVsZW1lbnQg
KG5ldyBMT05HIChyZXN1bHRbMF0pKTsKIAl9IGVsc2UgaWYgKChhU3RhdGVGbGFncyAmIG5zSVdl
YlByb2dyZXNzTGlzdGVuZXIuU1RBVEVfUkVESVJFQ1RJTkcpICE9IDApIHsKIAkJaWYgKHJlcXVl
c3QgPT0gYVJlcXVlc3QpIHJlcXVlc3QgPSAwOwogCX0gZWxzZSBpZiAoKGFTdGF0ZUZsYWdzICYg
bnNJV2ViUHJvZ3Jlc3NMaXN0ZW5lci5TVEFURV9TVE9QKSAhPSAwKSB7CkBAIC0yMTY3LDIwICsy
MTQzLDE4IEBACiAJCSovCiAJCWlmIChyZXF1ZXN0ID09IGFSZXF1ZXN0IHx8IHJlcXVlc3QgPT0g
MCkgewogCQkJcmVxdWVzdCA9IDA7Ci0JCQlpZiAoIWF3YWl0aW5nTmF2aWdhdGUpIHsKLQkJCQlT
dGF0dXNUZXh0RXZlbnQgZXZlbnQgPSBuZXcgU3RhdHVzVGV4dEV2ZW50IChicm93c2VyKTsKLQkJ
CQlldmVudC5kaXNwbGF5ID0gYnJvd3Nlci5nZXREaXNwbGF5ICgpOwotCQkJCWV2ZW50LndpZGdl
dCA9IGJyb3dzZXI7Ci0JCQkJZXZlbnQudGV4dCA9ICIiOyAvLyROT04tTkxTLTEkCi0JCQkJZm9y
IChpbnQgaSA9IDA7IGkgPCBzdGF0dXNUZXh0TGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7Ci0JCQkJ
CXN0YXR1c1RleHRMaXN0ZW5lcnNbaV0uY2hhbmdlZCAoZXZlbnQpOwotCQkJCX0KLQkJCQlQcm9n
cmVzc0V2ZW50IGV2ZW50MiA9IG5ldyBQcm9ncmVzc0V2ZW50IChicm93c2VyKTsKLQkJCQlldmVu
dDIuZGlzcGxheSA9IGJyb3dzZXIuZ2V0RGlzcGxheSAoKTsKLQkJCQlldmVudDIud2lkZ2V0ID0g
YnJvd3NlcjsKLQkJCQlmb3IgKGludCBpID0gMDsgaSA8IHByb2dyZXNzTGlzdGVuZXJzLmxlbmd0
aDsgaSsrKSB7Ci0JCQkJCXByb2dyZXNzTGlzdGVuZXJzW2ldLmNvbXBsZXRlZCAoZXZlbnQyKTsK
LQkJCQl9CisJCQlTdGF0dXNUZXh0RXZlbnQgZXZlbnQgPSBuZXcgU3RhdHVzVGV4dEV2ZW50IChi
cm93c2VyKTsKKwkJCWV2ZW50LmRpc3BsYXkgPSBicm93c2VyLmdldERpc3BsYXkgKCk7CisJCQll
dmVudC53aWRnZXQgPSBicm93c2VyOworCQkJZXZlbnQudGV4dCA9ICIiOyAvLyROT04tTkxTLTEk
CisJCQlmb3IgKGludCBpID0gMDsgaSA8IHN0YXR1c1RleHRMaXN0ZW5lcnMubGVuZ3RoOyBpKysp
IHsKKwkJCQlzdGF0dXNUZXh0TGlzdGVuZXJzW2ldLmNoYW5nZWQgKGV2ZW50KTsKKwkJCX0KKwkJ
CVByb2dyZXNzRXZlbnQgZXZlbnQyID0gbmV3IFByb2dyZXNzRXZlbnQgKGJyb3dzZXIpOworCQkJ
ZXZlbnQyLmRpc3BsYXkgPSBicm93c2VyLmdldERpc3BsYXkgKCk7CisJCQlldmVudDIud2lkZ2V0
ID0gYnJvd3NlcjsKKwkJCWZvciAoaW50IGkgPSAwOyBpIDwgcHJvZ3Jlc3NMaXN0ZW5lcnMubGVu
Z3RoOyBpKyspIHsKKwkJCQlwcm9ncmVzc0xpc3RlbmVyc1tpXS5jb21wbGV0ZWQgKGV2ZW50Mik7
CiAJCQl9CiAJCX0KIAl9IGVsc2UgaWYgKChhU3RhdGVGbGFncyAmIG5zSVdlYlByb2dyZXNzTGlz
dGVuZXIuU1RBVEVfVFJBTlNGRVJSSU5HKSAhPSAwKSB7CkBAIC0yMjI4LDcgKzIyMDIsNyBAQAog
fQogCiBpbnQgT25Qcm9ncmVzc0NoYW5nZSAoaW50IC8qbG9uZyovIGFXZWJQcm9ncmVzcywgaW50
IC8qbG9uZyovIGFSZXF1ZXN0LCBpbnQgYUN1clNlbGZQcm9ncmVzcywgaW50IGFNYXhTZWxmUHJv
Z3Jlc3MsIGludCBhQ3VyVG90YWxQcm9ncmVzcywgaW50IGFNYXhUb3RhbFByb2dyZXNzKSB7Ci0J
aWYgKGF3YWl0aW5nTmF2aWdhdGUgfHwgcHJvZ3Jlc3NMaXN0ZW5lcnMubGVuZ3RoID09IDApIHJl
dHVybiBYUENPTS5OU19PSzsKKwlpZiAocHJvZ3Jlc3NMaXN0ZW5lcnMubGVuZ3RoID09IDApIHJl
dHVybiBYUENPTS5OU19PSzsKIAlQcm9ncmVzc0V2ZW50IGV2ZW50ID0gbmV3IFByb2dyZXNzRXZl
bnQgKGJyb3dzZXIpOwogCWV2ZW50LmRpc3BsYXkgPSBicm93c2VyLmdldERpc3BsYXkgKCk7CiAJ
ZXZlbnQud2lkZ2V0ID0gYnJvd3NlcjsKQEAgLTIyNTIsNyArMjIyNiw3IEBACiAJKi8KIAlpZiAo
cmVxdWVzdCAhPSAwICYmIHJlcXVlc3QgIT0gYVJlcXVlc3QpIHJlcXVlc3QgPSBhUmVxdWVzdDsK
IAotCWlmIChhd2FpdGluZ05hdmlnYXRlIHx8IGxvY2F0aW9uTGlzdGVuZXJzLmxlbmd0aCA9PSAw
KSByZXR1cm4gWFBDT00uTlNfT0s7CisJaWYgKGxvY2F0aW9uTGlzdGVuZXJzLmxlbmd0aCA9PSAw
KSByZXR1cm4gWFBDT00uTlNfT0s7CiAKIAluc0lXZWJQcm9ncmVzcyB3ZWJQcm9ncmVzcyA9IG5l
dyBuc0lXZWJQcm9ncmVzcyAoYVdlYlByb2dyZXNzKTsKIAlpbnQgLypsb25nKi9bXSBhRE9NV2lu
ZG93ID0gbmV3IGludCAvKmxvbmcqL1sxXTsKQEAgLTIzMDUsNyArMjI3OSw3IEBACiB9CiAKIGlu
dCBPblN0YXR1c0NoYW5nZSAoaW50IC8qbG9uZyovIGFXZWJQcm9ncmVzcywgaW50IC8qbG9uZyov
IGFSZXF1ZXN0LCBpbnQgYVN0YXR1cywgaW50IC8qbG9uZyovIGFNZXNzYWdlKSB7Ci0JaWYgKGF3
YWl0aW5nTmF2aWdhdGUgfHwgc3RhdHVzVGV4dExpc3RlbmVycy5sZW5ndGggPT0gMCkgcmV0dXJu
IFhQQ09NLk5TX09LOworCWlmIChzdGF0dXNUZXh0TGlzdGVuZXJzLmxlbmd0aCA9PSAwKSByZXR1
cm4gWFBDT00uTlNfT0s7CiAJU3RhdHVzVGV4dEV2ZW50IGV2ZW50ID0gbmV3IFN0YXR1c1RleHRF
dmVudCAoYnJvd3Nlcik7CiAJZXZlbnQuZGlzcGxheSA9IGJyb3dzZXIuZ2V0RGlzcGxheSAoKTsK
IAlldmVudC53aWRnZXQgPSBicm93c2VyOwpAQCAtMjMyNiw3ICsyMzAwLDcgQEAKIC8qIG5zSVdl
YkJyb3dzZXJDaHJvbWUgKi8KIAogaW50IFNldFN0YXR1cyAoaW50IHN0YXR1c1R5cGUsIGludCAv
KmxvbmcqLyBzdGF0dXMpIHsKLQlpZiAoYXdhaXRpbmdOYXZpZ2F0ZSB8fCBzdGF0dXNUZXh0TGlz
dGVuZXJzLmxlbmd0aCA9PSAwKSByZXR1cm4gWFBDT00uTlNfT0s7CisJaWYgKHN0YXR1c1RleHRM
aXN0ZW5lcnMubGVuZ3RoID09IDApIHJldHVybiBYUENPTS5OU19PSzsKIAlTdGF0dXNUZXh0RXZl
bnQgZXZlbnQgPSBuZXcgU3RhdHVzVGV4dEV2ZW50IChicm93c2VyKTsKIAlldmVudC5kaXNwbGF5
ID0gYnJvd3Nlci5nZXREaXNwbGF5ICgpOwogCWV2ZW50LndpZGdldCA9IGJyb3dzZXI7CkBAIC0y
NTM5LDcgKzI1MTMsNyBAQAogfQogIAogaW50IFNldFRpdGxlIChpbnQgLypsb25nKi8gYVRpdGxl
KSB7Ci0JaWYgKGF3YWl0aW5nTmF2aWdhdGUgfHwgdGl0bGVMaXN0ZW5lcnMubGVuZ3RoID09IDAp
IHJldHVybiBYUENPTS5OU19PSzsKKwlpZiAodGl0bGVMaXN0ZW5lcnMubGVuZ3RoID09IDApIHJl
dHVybiBYUENPTS5OU19PSzsKIAlUaXRsZUV2ZW50IGV2ZW50ID0gbmV3IFRpdGxlRXZlbnQgKGJy
b3dzZXIpOwogCWV2ZW50LmRpc3BsYXkgPSBicm93c2VyLmdldERpc3BsYXkgKCk7CiAJZXZlbnQu
d2lkZ2V0ID0gYnJvd3NlcjsKQEAgLTI2MTEsOCArMjU4NSw2IEBACiAvKiBuc0lDb250ZXh0TWVu
dUxpc3RlbmVyICovCiAKIGludCBPblNob3dDb250ZXh0TWVudSAoaW50IGFDb250ZXh0RmxhZ3Ms
IGludCAvKmxvbmcqLyBhRXZlbnQsIGludCAvKmxvbmcqLyBhTm9kZSkgewotCWlmIChhd2FpdGlu
Z05hdmlnYXRlKSByZXR1cm4gWFBDT00uTlNfT0s7Ci0KIAluc0lET01FdmVudCBkb21FdmVudCA9
IG5ldyBuc0lET01FdmVudCAoYUV2ZW50KTsKIAlpbnQgLypsb25nKi9bXSByZXN1bHQgPSBuZXcg
aW50IC8qbG9uZyovWzFdOwogCWludCByYyA9IGRvbUV2ZW50LlF1ZXJ5SW50ZXJmYWNlIChuc0lE
T01Nb3VzZUV2ZW50Lk5TX0lET01NT1VTRUVWRU5UX0lJRCwgcmVzdWx0KTsKQEAgLTI2NDUsNyAr
MjYxNyw3IEBACiAvKiBuc0lVUklDb250ZW50TGlzdGVuZXIgKi8KIAogaW50IE9uU3RhcnRVUklP
cGVuIChpbnQgLypsb25nKi8gYVVSSSwgaW50IC8qbG9uZyovIHJldHZhbCkgewotCWlmIChhd2Fp
dGluZ05hdmlnYXRlIHx8IGxvY2F0aW9uTGlzdGVuZXJzLmxlbmd0aCA9PSAwKSB7CisJaWYgKGxv
Y2F0aW9uTGlzdGVuZXJzLmxlbmd0aCA9PSAwKSB7CiAJCVhQQ09NLm1lbW1vdmUgKHJldHZhbCwg
bmV3IGludFtdIHswfSwgNCk7IC8qIFBSQm9vbCAqLwogCQlyZXR1cm4gWFBDT00uTlNfT0s7CiAJ
fQpAQCAtMjc3MSw4ICsyNzQzLDYgQEAKIC8qIG5zSVRvb2x0aXBMaXN0ZW5lciAqLwogCiBpbnQg
T25TaG93VG9vbHRpcCAoaW50IGFYQ29vcmRzLCBpbnQgYVlDb29yZHMsIGludCAvKmxvbmcqLyBh
VGlwVGV4dCkgewotCWlmIChhd2FpdGluZ05hdmlnYXRlKSByZXR1cm4gWFBDT00uTlNfT0s7Ci0K
IAlpbnQgbGVuZ3RoID0gWFBDT00uc3RybGVuX1BSVW5pY2hhciAoYVRpcFRleHQpOwogCWNoYXJb
XSBkZXN0ID0gbmV3IGNoYXJbbGVuZ3RoXTsKIAlYUENPTS5tZW1tb3ZlIChkZXN0LCBhVGlwVGV4
dCwgbGVuZ3RoICogMik7Cg==
</data>

          </attachment>
      

    </bug>

</bugzilla>