<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.1"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>215091</bug_id>
          
          <creation_ts>2008-01-11 16:40:00 -0500</creation_ts>
          <short_desc>Create Context Help Editor</short_desc>
          <delta_ts>2008-02-05 14:51:39 -0500</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Eclipse</classification>
          <product>PDE</product>
          <component>UI</component>
          <version>3.4</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>noteworthy</keywords>
          <priority>P3</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>3.4 M5</target_milestone>
          
          <blocked>203065</blocked>
    
    <blocked>215850</blocked>
    
    <blocked>215848</blocked>
    
    <blocked>216019</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Curtis Windatt">cwindatt</reporter>
          <assigned_to name="Curtis Windatt">cwindatt</assigned_to>
          <cc>baumanbr</cc>
    
    <cc>caniszczyk</cc>
    
    <cc>cgold</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1129972</commentid>
    <comment_count>0</comment_count>
    <who name="Curtis Windatt">cwindatt</who>
    <bug_when>2008-01-11 16:40:10 -0500</bug_when>
    <thetext>Breaking up bug 203065 into &quot;smaller&quot; chunks.

An editor for context help would make it faster and easier to edit context help xml files.  It&apos;s basic layout will be similar to the table of contents editor, where the xml elements are displayed in a tree on one half of the page while text fields allowing viewing/editing of the currently selected element would be on the other.

Other goals:
- Tree view of the xml, connected to the outline view and source tab
- Quick reordering of elements using cut/paste/drag/drop
- Html files can be dropped for quick topic additions
- Linked html files can be opened using actions/double click/etc
- Provide good location to connect other tools added as part of bug 203065</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1129973</commentid>
    <comment_count>1</comment_count>
      <attachid>86722</attachid>
    <who name="Curtis Windatt">cwindatt</who>
    <bug_when>2008-01-11 16:42:59 -0500</bug_when>
    <thetext>Created attachment 86722
Work in progress

Patch holding my current work on the editor.  It is nearing completion, but the code needs to be cleaned up significantly and a few things tweaked.  Patch does not include icons borrowed from help.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1129976</commentid>
    <comment_count>2</comment_count>
    <who name="Chris Aniszczyk">caniszczyk</who>
    <bug_when>2008-01-11 16:46:22 -0500</bug_when>
    <thetext>O M F G</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1133391</commentid>
    <comment_count>3</comment_count>
      <attachid>87186</attachid>
    <who name="Curtis Windatt">cwindatt</who>
    <bug_when>2008-01-17 13:28:51 -0500</bug_when>
    <thetext>Created attachment 87186
Patch

This patch contains the context help editor.  It is ready to be reviewed and put into the platform, though the following problems still exist (I will create separate bug reports if this patch is committed).

1) I have turned off dragging and dropping.  There is a bug somewhere in the drag and drop that will often place the dropped element in odd places in the xml (such as before the root element).  As soon as I can figure out what is going on (adding new contexts using the button/action works but dragging doesn&apos;t) we can enable DND.

2) We should allow html files to be dragged and dropped into contexts to add new topics.

3) The help context editor needs a help context.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1133394</commentid>
    <comment_count>4</comment_count>
      <attachid>87187</attachid>
    <who name="Curtis Windatt">cwindatt</who>
    <bug_when>2008-01-17 13:31:31 -0500</bug_when>
    <thetext>Created attachment 87187
Icons

Zip files containing the three icons borrowed from user assistance needed by the editor.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1133397</commentid>
    <comment_count>5</comment_count>
    <who name="Curtis Windatt">cwindatt</who>
    <bug_when>2008-01-17 13:32:42 -0500</bug_when>
    <thetext>CC&apos;ing Brian so he can have a chance to look at my 5000+ line patch :)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1133421</commentid>
    <comment_count>6</comment_count>
    <who name="Curtis Windatt">cwindatt</who>
    <bug_when>2008-01-17 13:56:41 -0500</bug_when>
    <thetext>4) The indents that the editor uses in the xml should be set better.  Probably using tabs.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1133430</commentid>
    <comment_count>7</comment_count>
    <who name="Chris Aniszczyk">caniszczyk</who>
    <bug_when>2008-01-17 14:06:32 -0500</bug_when>
    <thetext>we love you Curtis

cc&apos;ng Chris G to inform him about this awesomeness</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1133445</commentid>
    <comment_count>8</comment_count>
    <who name="Chris Goldthorpe">cgold</who>
    <bug_when>2008-01-17 14:27:19 -0500</bug_when>
    <thetext>Awesome indeed. </thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1134136</commentid>
    <comment_count>9</comment_count>
      <attachid>87291</attachid>
    <who name="Curtis Windatt">cwindatt</who>
    <bug_when>2008-01-18 14:50:53 -0500</bug_when>
    <thetext>Created attachment 87291
Patch for review

This patch fixes the DnD problem as well as a number of smaller things including the indentation issue.  Filed bug 215848 to add help and bug 215850 to allow dropping of html files.

The editor is ready to be added to the platform as soon as a committer has the time to review it :)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1135167</commentid>
    <comment_count>10</comment_count>
    <who name="Chris Aniszczyk">caniszczyk</who>
    <bug_when>2008-01-21 12:39:38 -0500</bug_when>
    <thetext>Awesome job Curtis! This should please the user assistance community.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1135200</commentid>
    <comment_count>11</comment_count>
    <who name="Brian Bauman">baumanbr</who>
    <bug_when>2008-01-21 13:00:25 -0500</bug_when>
    <thetext>Way to go Curtis!  Nice job getting it into M5.  I agree with Chris, this should be appreciated by quite a few users :)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1150256</commentid>
    <comment_count>12</comment_count>
    <who name="Brian Bauman">baumanbr</who>
    <bug_when>2008-02-05 14:51:39 -0500</bug_when>
    <thetext>Verified on I20080204-0800</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>86722</attachid>
            <date>2008-01-11 16:42:00 -0500</date>
            <delta_ts>2008-01-17 13:28:51 -0500</delta_ts>
            <desc>Work in progress</desc>
            <filename>215091ContextHelpAwesomeEditors.patch</filename>
            <type>text/plain</type>
            <size>221160</size>
            <attacher name="Curtis Windatt">cwindatt</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UuamR0LmRlYnVn
LnVpDQpJbmRleDogdWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2RlYnVnL3VpL2FjdGlvbnMv
SmF2YU9iamVjdFZhbHVlRWRpdG9yLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9v
dC9lY2xpcHNlL29yZy5lY2xpcHNlLmpkdC5kZWJ1Zy51aS91aS9vcmcvZWNsaXBzZS9qZHQvaW50
ZXJuYWwvZGVidWcvdWkvYWN0aW9ucy9KYXZhT2JqZWN0VmFsdWVFZGl0b3IuamF2YSx2DQpyZXRy
aWV2aW5nIHJldmlzaW9uIDEuMTcNCmRpZmYgLXUgLXIxLjE3IEphdmFPYmplY3RWYWx1ZUVkaXRv
ci5qYXZhDQotLS0gdWkvb3JnL2VjbGlwc2UvamR0L2ludGVybmFsL2RlYnVnL3VpL2FjdGlvbnMv
SmF2YU9iamVjdFZhbHVlRWRpdG9yLmphdmEJMTggSnVsIDIwMDYgMTk6MzM6MTEgLTAwMDAJMS4x
Nw0KKysrIHVpL29yZy9lY2xpcHNlL2pkdC9pbnRlcm5hbC9kZWJ1Zy91aS9hY3Rpb25zL0phdmFP
YmplY3RWYWx1ZUVkaXRvci5qYXZhCTExIEphbiAyMDA4IDIxOjQwOjU1IC0wMDAwDQpAQCAtMTk4
LDYgKzE5OCw5IEBADQogICAgIAkJCSAgICB0aHJvdyBuZXcgRGVidWdFeGNlcHRpb24oc3RhdHVz
KTsNCiAgICAgCQkJfQ0KICAgICAJCQlyZXR1cm4gcmVzdWx0LmdldFZhbHVlKCk7DQorICAgICAg
ICAgICAgfSBlbHNlIHsNCisgICAgICAgICAgICAJSVN0YXR1cyBzdGF0dXM9IG5ldyBTdGF0dXMo
SVN0YXR1cy5FUlJPUiwgSkRJRGVidWdVSVBsdWdpbi5nZXRVbmlxdWVJZGVudGlmaWVyKCksIElT
dGF0dXMuRVJST1IsICJDb3VsZCBub3QgZmluZCBhIHByb2plY3QgdG8gY29tcGxldGUgdGhlIGV2
YWx1YXRpb24uIiwgbnVsbCk7DQorICAgICAgICAgICAgCXRocm93IG5ldyBEZWJ1Z0V4Y2VwdGlv
bihzdGF0dXMpOw0KICAgICAgICAgICAgIH0NCiAgICAgICAgIH0NCiAgICAgICAgIHJldHVybiBu
dWxsOw0KI1Agb3JnLmVjbGlwc2UucGRlLmNvcmUNCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRl
L2ludGVybmFsL2NvcmUvaXRvYy9JVG9jQ29uc3RhbnRzLmphdmENCj09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBm
aWxlOiAvY3Zzcm9vdC9lY2xpcHNlL29yZy5lY2xpcHNlLnBkZS5jb3JlL3NyYy9vcmcvZWNsaXBz
ZS9wZGUvaW50ZXJuYWwvY29yZS9pdG9jL0lUb2NDb25zdGFudHMuamF2YSx2DQpyZXRyaWV2aW5n
IHJldmlzaW9uIDEuMw0KZGlmZiAtdSAtcjEuMyBJVG9jQ29uc3RhbnRzLmphdmENCi0tLSBzcmMv
b3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvaXRvYy9JVG9jQ29uc3RhbnRzLmphdmEJMiBK
YW4gMjAwOCAxNTo1NjoyNCAtMDAwMAkxLjMNCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVy
bmFsL2NvcmUvaXRvYy9JVG9jQ29uc3RhbnRzLmphdmEJMTEgSmFuIDIwMDggMjE6NDA6NTYgLTAw
MDANCkBAIC0xLDUgKzEsNSBAQA0KIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQotICogQ29weXJp
Z2h0IChjKSAyMDA3IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIENvcHlyaWdodCAo
YykgMjAwNywgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCiAgKiBBbGwgcmlnaHRz
IHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQog
ICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJs
aWMgTGljZW5zZSB2MS4wDQogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24s
IGFuZCBpcyBhdmFpbGFibGUgYXQNCkBAIC0xNCw2ICsxNCw3IEBADQogLyoqDQogICogSVRvY0Nv
bnN0YW50cw0KICAqIFRoaXMgaW50ZXJmYWNlIGNvbnRhaW5zIGFsbCBvZiB0aGUgY29uc3RhbnRz
IHJlbGV2YW50IHRvIHRoZSBUT0MgZWRpdG9yDQorICogQHNpbmNlIDMuNA0KICAqLw0KIHB1Ymxp
YyBpbnRlcmZhY2UgSVRvY0NvbnN0YW50cyB7DQogDQpAQCAtNTEsMjIgKzUyLDQgQEANCiANCiAJ
cHVibGljIHN0YXRpYyBmaW5hbCBpbnQgVFlQRV9MSU5LID0gMzsNCiANCi0JLy8gRW5hYmxlbWVu
dCBFbGVtZW50cw0KLQ0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBFTEVNRU5UX0VOQUJM
RU1FTlQgPSAiZW5hYmxlbWVudCI7IC8vJE5PTi1OTFMtMSQNCi0NCi0JcHVibGljIHN0YXRpYyBm
aW5hbCBTdHJpbmcgRUxFTUVOVF9URVNUID0gInRlc3QiOyAvLyROT04tTkxTLTEkDQotDQotCS8v
IEVuYWJsZW1lbnQgQXR0cmlidXRlcw0KLQ0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBB
VFRSSUJVVEVfUFJPUEVSVFkgPSAicHJvcGVydHkiOyAvLyROT04tTkxTLTEkCQkNCi0NCi0JcHVi
bGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgQVRUUklCVVRFX0FSR1MgPSAiYXJncyI7IC8vJE5PTi1O
TFMtMSQNCi0NCi0JLy8gRW5hYmxlbWVudCBUeXBlcw0KLQ0KLQlwdWJsaWMgc3RhdGljIGZpbmFs
IGludCBUWVBFX0VOQUJMRU1FTlQgPSA0Ow0KLQ0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIGludCBU
WVBFX1RFU1QgPSA1Ow0KLQ0KIH0NCkluZGV4OiBNRVRBLUlORi9NQU5JRkVTVC5NRg0KPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlwc2UucGRlLmNvcmUvTUVU
QS1JTkYvTUFOSUZFU1QuTUYsdg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjMwDQpkaWZmIC11IC1y
MS4zMCBNQU5JRkVTVC5NRg0KLS0tIE1FVEEtSU5GL01BTklGRVNULk1GCTEyIFNlcCAyMDA3IDE0
OjAzOjM4IC0wMDAwCTEuMzANCisrKyBNRVRBLUlORi9NQU5JRkVTVC5NRgkxMSBKYW4gMjAwOCAy
MTo0MDo1NiAtMDAwMA0KQEAgLTIyLDYgKzIyLDcgQEANCiAgb3JnLmVjbGlwc2UucGRlLmludGVy
bmFsLmNvcmUuaWNoZWF0c2hlZXQ7eC1mcmllbmRzOj0ib3JnLmVjbGlwc2UucGRlLnVpIiwNCiAg
b3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUuaWNoZWF0c2hlZXQuY29tcDt4LWZyaWVuZHM6
PSJvcmcuZWNsaXBzZS5wZGUudWkiLA0KICBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS5p
Y2hlYXRzaGVldC5zaW1wbGU7eC1mcmllbmRzOj0ib3JnLmVjbGlwc2UucGRlLnVpIiwNCisgb3Jn
LmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUuaWN0eGhlbHA7eC1mcmllbmRzOj0ib3JnLmVjbGlw
c2UucGRlLnVpIiwNCiAgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUuaWZlYXR1cmU7eC1m
cmllbmRzOj0ib3JnLmVjbGlwc2UucGRlLnVpIiwNCiAgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LmNvcmUuaXByb2R1Y3Q7eC1mcmllbmRzOj0ib3JnLmVjbGlwc2UucGRlLnVpIiwNCiAgb3JnLmVj
bGlwc2UucGRlLmludGVybmFsLmNvcmUuaXNjaGVtYTt4LWZyaWVuZHM6PSJvcmcuZWNsaXBzZS5w
ZGUudWkiLA0KQEAgLTM5LDYgKzQwLDcgQEANCiAgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNv
cmUudGV4dC5idWlsZDt4LWZyaWVuZHM6PSJvcmcuZWNsaXBzZS5wZGUudWkiLA0KICBvcmcuZWNs
aXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmJ1bmRsZTt4LWZyaWVuZHM6PSJvcmcuZWNsaXBz
ZS5wZGUudWkiLA0KICBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmNoZWF0c2hl
ZXQuc2ltcGxlO3gtZnJpZW5kczo9Im9yZy5lY2xpcHNlLnBkZS51aSIsDQorIG9yZy5lY2xpcHNl
LnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscDt4LWZyaWVuZHM6PSJvcmcuZWNsaXBzZS5w
ZGUudWkiLA0KICBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LnBsdWdpbjt4LWZy
aWVuZHM6PSJvcmcuZWNsaXBzZS5wZGUudWkiLA0KICBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwu
Y29yZS50ZXh0LnRvYzt4LWZyaWVuZHM6PSJvcmcuZWNsaXBzZS5wZGUudWkiLA0KICBvcmcuZWNs
aXBzZS5wZGUuaW50ZXJuYWwuY29yZS51dGlsO3gtZnJpZW5kczo9Im9yZy5lY2xpcHNlLnBkZS51
aSIsDQpJbmRleDogdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhl
bHAvQ3R4SGVscERlc2NyaXB0aW9uLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiB0ZXh0L29y
Zy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhIZWxwRGVzY3JpcHRp
b24uamF2YQ0KZGlmZiAtTiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQv
Y3R4aGVscC9DdHhIZWxwRGVzY3JpcHRpb24uamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcw
IDAwOjAwOjAwIC0wMDAwDQorKysgdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90
ZXh0L2N0eGhlbHAvQ3R4SGVscERlc2NyaXB0aW9uLmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAt
MDAwMA0KQEAgLTAsMCArMSw4MiBAQA0KKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQorICogQ29w
eXJpZ2h0IChjKSAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIEFsbCByaWdo
dHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMN
CisgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1
YmxpYyBMaWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlv
biwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwv
ZXBsLXYxMC5odG1sDQorICoNCisgKiBDb250cmlidXRvcnM6DQorICogICAgIElCTSBDb3Jwb3Jh
dGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqLw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHho
ZWxwOw0KKw0KKy8qKg0KKyAqIFJlcHJlc2VudHMgYSBkZXNjcmlwdGlvbiBlbnRyeSBpbiBjb250
ZXh0IGhlbHAuICBUaGVyZSBtYXkgYmUgb25lIGRlc2NyaXB0aW9uDQorICogZWxlbWVudCBmb3Ig
ZWFjaCBjb250ZXh0LiAgQSBkZXNjcmlwdGlvbiBlbGVtZW50IHdpbGwgY29udGFpbiBhIENEQVRB
IHN0cmluZw0KKyAqIGV4cGxhaW5pbmcgdGhlIGNvbnRleHQgdGhhdCB0aGUgdXNlciB3aWxsIHNl
ZSBpbiBkeW5hbWljIGhlbHAuICBEZXNjcmlwdGlvbnMNCisgKiBhcmUgbGVhZiBvYmplY3RzLg0K
KyAqIA0KKyAqIEBzaW5jZSAzLjQNCisgKiBAc2VlIEN0eEhlbHBPYmplY3QNCisgKiBAc2VlIEN0
eEhlbHBNb2RlbA0KKyAqIEBzZWUgQ3R4SGVscERvY3VtZW50RmFjdG9yeQ0KKyAqLw0KK3B1Ymxp
YyBjbGFzcyBDdHhIZWxwRGVzY3JpcHRpb24gZXh0ZW5kcyBDdHhIZWxwT2JqZWN0IHsNCisNCisJ
cHJpdmF0ZSBzdGF0aWMgZmluYWwgbG9uZyBzZXJpYWxWZXJzaW9uVUlEID0gMUw7DQorDQorCXB1
YmxpYyBDdHhIZWxwRGVzY3JpcHRpb24oQ3R4SGVscE1vZGVsIG1vZGVsKSB7DQorCQlzdXBlciht
b2RlbCwgRUxFTUVOVF9ERVNDUklQVElPTik7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0K
KwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQudG9jLlRvY09iamVj
dCNjYW5CZVBhcmVudCgpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBjYW5CZVBhcmVudCgpIHsN
CisJCXJldHVybiBmYWxzZTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUg
b3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudG9jLlRvY09iamVjdCNnZXRUeXBlKCkNCisJ
ICovDQorCXB1YmxpYyBpbnQgZ2V0VHlwZSgpIHsNCisJCXJldHVybiBUWVBFX0RFU0NSSVBUSU9O
Ow0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwuY29yZS50b2MuVG9jT2JqZWN0I2dldE5hbWUoKQ0KKwkgKi8NCisJcHVibGljIFN0
cmluZyBnZXROYW1lKCkgew0KKwkJcmV0dXJuIGdldERlc2NyaXB0aW9uKCk7DQorCX0NCisNCisJ
LyoqDQorCSAqIEByZXR1cm4gdGhlIFhNTCBjb250ZW50IG9mIHRoaXMgZWxlbWVudCBjb250YWlu
aW5nIHRoZSBkZXNjcmlwdGlvbiBvciA8Y29kZT5udWxsPC9jb2RlPg0KKwkgKi8NCisJcHVibGlj
IFN0cmluZyBnZXREZXNjcmlwdGlvbigpIHsNCisJCXJldHVybiBnZXRYTUxDb250ZW50KCk7DQor
CX0NCisNCisJLyoqDQorCSAqIFNldHMgdGhlIFhNTCBjb250ZW50IG9mIHRoaXMgZWxlbWVudCB0
byB0aGUgZ2l2ZW4gZGVzY3JpcHRpb24gc3RyaW5nLg0KKwkgKiBQYXNzaW5nIDxjb2RlPm51bGw8
L2NvZGU+IHdpbGwgc2V0IHRoZSBjb250ZW50IHRvIGJlIGVtcHR5Lg0KKwkgKiBAcGFyYW0gZGVz
Y3JpcHRpb24gbmV3IGNvbnRlbnQNCisJICovDQorCXB1YmxpYyB2b2lkIHNldERlc2NyaXB0aW9u
KFN0cmluZyBkZXNjcmlwdGlvbikgew0KKwkJc2V0WE1MQ29udGVudChkZXNjcmlwdGlvbik7DQor
CX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwT2JqZWN0I2NhbkFkZENoaWxkKG9yZy5lY2xp
cHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwT2JqZWN0KQ0KKwkgKi8N
CisJcHVibGljIGJvb2xlYW4gY2FuQWRkQ2hpbGQoaW50IG9iamVjdFR5cGUpIHsNCisJCXJldHVy
biBmYWxzZTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlw
c2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBPYmplY3QjY2FuQWRkU2li
bGluZyhpbnQpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBjYW5BZGRTaWJsaW5nKGludCBvYmpl
Y3RUeXBlKSB7DQorCQlyZXR1cm4gb2JqZWN0VHlwZSA9PSBUWVBFX0NPTU1BTkQgfHwgb2JqZWN0
VHlwZSA9PSBUWVBFX1RPUElDOw0KKwl9DQorfQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9wZGUv
aW50ZXJuYWwvY29yZS9pY3R4aGVscC9JQ3R4SGVscENvbnN0YW50cy5qYXZhDQo9PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
DQpSQ1MgZmlsZTogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL2ljdHhoZWxwL0lD
dHhIZWxwQ29uc3RhbnRzLmphdmENCmRpZmYgLU4gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5h
bC9jb3JlL2ljdHhoZWxwL0lDdHhIZWxwQ29uc3RhbnRzLmphdmENCi0tLSAvZGV2L251bGwJMSBK
YW4gMTk3MCAwMDowMDowMCAtMDAwMA0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwv
Y29yZS9pY3R4aGVscC9JQ3R4SGVscENvbnN0YW50cy5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAg
LTAwMDANCkBAIC0wLDAgKzEsNTggQEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENv
cHlyaWdodCAoYykgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwgcmln
aHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxz
DQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQ
dWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRp
b24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2Fs
L2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29ycG9y
YXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKi8NCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLmljdHhoZWxw
Ow0KKw0KKy8qKg0KKyAqIEludGVyZmFjZSBjb250YWluaW5nIGNvbnN0YW50cyB1c2VkIGZvciB0
aGUgY29udGV4dCBoZWxwIGVkaXRvci4NCisgKiANCisgKiBAc2luY2UgMy40DQorICovDQorcHVi
bGljIGludGVyZmFjZSBJQ3R4SGVscENvbnN0YW50cyB7DQorDQorCS8vIEVsZW1lbnRzDQorDQor
CXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEVMRU1FTlRfUk9PVCA9ICJjb250ZXh0cyI7IC8v
JE5PTi1OTFMtMSQNCisNCisJcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgRUxFTUVOVF9DT05U
RVhUID0gImNvbnRleHQiOyAvLyROT04tTkxTLTEkDQorDQorCXB1YmxpYyBzdGF0aWMgZmluYWwg
U3RyaW5nIEVMRU1FTlRfREVTQ1JJUFRJT04gPSAiZGVzY3JpcHRpb24iOyAvLyROT04tTkxTLTEk
DQorDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEVMRU1FTlRfVE9QSUMgPSAidG9waWMi
OyAvLyROT04tTkxTLTEkDQorDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEVMRU1FTlRf
Q09NTUFORCA9ICJjb21tYW5kIjsgLy8kTk9OLU5MUy0xJA0KKw0KKwkvLyBBdHRyaWJ1dGVzDQor
DQorCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEFUVFJJQlVURV9JRCA9ICJpZCI7IC8vJE5P
Ti1OTFMtMSQNCisNCisJcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgQVRUUklCVVRFX1RJVExF
ID0gInRpdGxlIjsgLy8kTk9OLU5MUy0xJAkNCisNCisJcHVibGljIHN0YXRpYyBmaW5hbCBTdHJp
bmcgQVRUUklCVVRFX0xBQkVMID0gImxhYmVsIjsgLy8kTk9OLU5MUy0xJAkJDQorDQorCXB1Ymxp
YyBzdGF0aWMgZmluYWwgU3RyaW5nIEFUVFJJQlVURV9IUkVGID0gImhyZWYiOyAvLyROT04tTkxT
LTEkDQorDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEFUVFJJQlVURV9TRVJJQUwgPSAi
c2VyaWFsaXphdGlvbiI7IC8vJE5PTi1OTFMtMSQJDQorDQorCXB1YmxpYyBzdGF0aWMgZmluYWwg
U3RyaW5nIEFUVFJJQlVURV9GSUxURVIgPSAiZmlsdGVyIjsgLy8kTk9OLU5MUy0xJAkNCisNCisJ
Ly8gVHlwZXMNCisNCisJcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgVFlQRV9ST09UID0gMDsNCisN
CisJcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgVFlQRV9DT05URVhUID0gMTsNCisNCisJcHVibGlj
IHN0YXRpYyBmaW5hbCBpbnQgVFlQRV9ERVNDUklQVElPTiA9IDI7DQorDQorCXB1YmxpYyBzdGF0
aWMgZmluYWwgaW50IFRZUEVfVE9QSUMgPSAzOw0KKw0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIGlu
dCBUWVBFX0NPTU1BTkQgPSA0Ow0KKw0KK30NCkluZGV4OiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9p
bnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhIZWxwTW9kZWwuamF2YQ0KPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0K
UkNTIGZpbGU6IHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxw
L0N0eEhlbHBNb2RlbC5qYXZhDQpkaWZmIC1OIHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFs
L2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBNb2RlbC5qYXZhDQotLS0gL2Rldi9udWxsCTEgSmFu
IDE5NzAgMDA6MDA6MDAgLTAwMDANCisrKyB0ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9j
b3JlL3RleHQvY3R4aGVscC9DdHhIZWxwTW9kZWwuamF2YQkxIEphbiAxOTcwIDAwOjAwOjAwIC0w
MDAwDQpAQCAtMCwwICsxLDgzIEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5
cmlnaHQgKGMpIDIwMDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0
cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0K
KyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVi
bGljIExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9u
LCBhbmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9l
cGwtdjEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0
aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKiovDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhl
bHA7DQorDQoraW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQuSURvY3VtZW50Ow0KK2ltcG9y
dCBvcmcuZWNsaXBzZS5wZGUuY29yZS5JTW9kZWw7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5j
b3JlLklXcml0YWJsZTsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUuTkxS
ZXNvdXJjZUhlbHBlcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4
dC5YTUxFZGl0aW5nTW9kZWw7DQoraW1wb3J0IG9yZy54bWwuc2F4LmhlbHBlcnMuRGVmYXVsdEhh
bmRsZXI7DQorDQorLyoqDQorICogTW9kZWwgZGVzY3JpYmluZyB0aGUgZWxlbWVudHMgb2YgYSBj
b250ZXh0IGhlbHAgeG1sIGZpbGUuDQorICogDQorICogQHNpbmNlIDMuNA0KKyAqIEBzZWUgQ3R4
SGVscFJvb3QNCisgKiBAc2VlIEN0eEhlbHBEb2N1bWVudEZhY3RvcnkNCisgKiBAc2VlIEN0eEhl
bHBEb2N1bWVudEhhbmRsZXINCisgKi8NCitwdWJsaWMgY2xhc3MgQ3R4SGVscE1vZGVsIGV4dGVu
ZHMgWE1MRWRpdGluZ01vZGVsIHsNCisNCisJcHJpdmF0ZSBDdHhIZWxwRG9jdW1lbnRIYW5kbGVy
IGZIYW5kbGVyOw0KKwlwcml2YXRlIEN0eEhlbHBEb2N1bWVudEZhY3RvcnkgZkZhY3Rvcnk7DQor
CXByaXZhdGUgQ3R4SGVscFJvb3QgZlJvb3Q7DQorDQorCXB1YmxpYyBDdHhIZWxwTW9kZWwoSURv
Y3VtZW50IGRvY3VtZW50LCBib29sZWFuIGlzUmVjb25jaWxpbmcpIHsNCisJCXN1cGVyKGRvY3Vt
ZW50LCBpc1JlY29uY2lsaW5nKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBz
ZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5YTUxFZGl0aW5nTW9kZWwjY3Jl
YXRlRG9jdW1lbnRIYW5kbGVyKG9yZy5lY2xpcHNlLnBkZS5jb3JlLklNb2RlbCwgYm9vbGVhbikN
CisJICovDQorCXByb3RlY3RlZCBEZWZhdWx0SGFuZGxlciBjcmVhdGVEb2N1bWVudEhhbmRsZXIo
SU1vZGVsIG1vZGVsLCBib29sZWFuIHJlY29uY2lsaW5nKSB7DQorCQlpZiAoZkhhbmRsZXIgPT0g
bnVsbCkgew0KKwkJCWZIYW5kbGVyID0gbmV3IEN0eEhlbHBEb2N1bWVudEhhbmRsZXIodGhpcywg
cmVjb25jaWxpbmcpOw0KKwkJfQ0KKwkJcmV0dXJuIGZIYW5kbGVyOw0KKwl9DQorDQorCS8qIChu
b24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0
LkFic3RyYWN0RWRpdGluZ01vZGVsI2NyZWF0ZU5MUmVzb3VyY2VIZWxwZXIoKQ0KKwkgKi8NCisJ
cHJvdGVjdGVkIE5MUmVzb3VyY2VIZWxwZXIgY3JlYXRlTkxSZXNvdXJjZUhlbHBlcigpIHsNCisJ
CS8vIE5vdCBuZWVkZWQNCisJCXJldHVybiBudWxsOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRv
YykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS5pY2hlYXRzaGVldC5z
aW1wbGUuSVRvY01vZGVsI2dldEZhY3RvcnkoKQ0KKwkgKi8NCisJcHVibGljIEN0eEhlbHBEb2N1
bWVudEZhY3RvcnkgZ2V0RmFjdG9yeSgpIHsNCisJCWlmIChmRmFjdG9yeSA9PSBudWxsKSB7DQor
CQkJZkZhY3RvcnkgPSBuZXcgQ3R4SGVscERvY3VtZW50RmFjdG9yeSh0aGlzKTsNCisJCX0NCisJ
CXJldHVybiBmRmFjdG9yeTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUg
b3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUuaWNoZWF0c2hlZXQuc2ltcGxlLklUb2NNb2Rl
bCNnZXRUb2MoKQ0KKwkgKi8NCisJcHVibGljIEN0eEhlbHBSb290IGdldEN0eEhlbHBSb290KCkg
ew0KKwkJaWYgKGZSb290ID09IG51bGwpIHsNCisJCQlmUm9vdCA9IGdldEZhY3RvcnkoKS5jcmVh
dGVSb290KCk7DQorCQl9DQorCQlyZXR1cm4gZlJvb3Q7DQorCX0NCisNCisJLyogKG5vbi1KYXZh
ZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuWE1MRWRp
dGluZ01vZGVsI2dldFJvb3QoKQ0KKwkgKi8NCisJcHJvdGVjdGVkIElXcml0YWJsZSBnZXRSb290
KCkgew0KKwkJcmV0dXJuIGdldEN0eEhlbHBSb290KCk7DQorCX0NCisNCit9DQpJbmRleDogdGV4
dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscERvY3Vt
ZW50RmFjdG9yeS5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogdGV4dC9vcmcvZWNsaXBzZS9w
ZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscERvY3VtZW50RmFjdG9yeS5qYXZh
DQpkaWZmIC1OIHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxw
L0N0eEhlbHBEb2N1bWVudEZhY3RvcnkuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAw
OjAwOjAwIC0wMDAwDQorKysgdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0
L2N0eGhlbHAvQ3R4SGVscERvY3VtZW50RmFjdG9yeS5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAg
LTAwMDANCkBAIC0wLDAgKzEsMTA5IEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBD
b3B5cmlnaHQgKGMpIDIwMDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJp
Z2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFs
cw0KKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2Ug
UHVibGljIExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0
aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdh
bC9lcGwtdjEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBv
cmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKiovDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0
eGhlbHA7DQorDQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLmljdHhoZWxw
LklDdHhIZWxwQ29uc3RhbnRzOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29y
ZS50ZXh0Lio7DQorDQorLyoqDQorICogSGFuZGxlcyB0aGUgY3JlYXRpb24gb2YgZG9jdW1lbnQg
bm9kZXMgcmVwcmVzZW50aW5nIHRoZSB0eXBlcyBvZiBlbGVtZW50cyB0aGF0DQorICogY2FuIGV4
aXN0IGluIGEgY29udGV4dCBoZWxwIHhtbCBmaWxlLg0KKyAqIA0KKyAqIEBzaW5jZSAzLjQNCisg
KiBAc2VlIEN0eEhlbHBPYmplY3QNCisgKiBAc2VlIEN0eEhlbHBNb2RlbA0KKyAqIEBzZWUgQ3R4
SGVscERvY3VtZW50SGFuZGxlcg0KKyAqLw0KK3B1YmxpYyBjbGFzcyBDdHhIZWxwRG9jdW1lbnRG
YWN0b3J5IGV4dGVuZHMgRG9jdW1lbnROb2RlRmFjdG9yeSBpbXBsZW1lbnRzIElEb2N1bWVudE5v
ZGVGYWN0b3J5IHsNCisJcHJpdmF0ZSBDdHhIZWxwTW9kZWwgZk1vZGVsOw0KKw0KKwlwdWJsaWMg
Q3R4SGVscERvY3VtZW50RmFjdG9yeShDdHhIZWxwTW9kZWwgbW9kZWwpIHsNCisJCWZNb2RlbCA9
IG1vZGVsOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBz
ZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LklEb2N1bWVudE5vZGVGYWN0b3J5I2NyZWF0ZURvY3Vt
ZW50Tm9kZShqYXZhLmxhbmcuU3RyaW5nLCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50
ZXh0LklEb2N1bWVudEVsZW1lbnROb2RlKQ0KKwkgKi8NCisJcHVibGljIElEb2N1bWVudEVsZW1l
bnROb2RlIGNyZWF0ZURvY3VtZW50Tm9kZShTdHJpbmcgbmFtZSwgSURvY3VtZW50RWxlbWVudE5v
ZGUgcGFyZW50KSB7DQorCQlpZiAoaXNSb290KG5hbWUpKSB7IC8vIFJvb3QNCisJCQlyZXR1cm4g
Y3JlYXRlUm9vdCgpOw0KKwkJfQ0KKwkJaWYgKGlzQ29udGV4dChuYW1lKSkgeyAvLyBDb250ZXh0
DQorCQkJcmV0dXJuIGNyZWF0ZUNvbnRleHQoKTsNCisJCX0NCisJCWlmIChpc0Rlc2NyaXB0aW9u
KG5hbWUpKSB7IC8vIExpbmsNCisJCQlyZXR1cm4gY3JlYXRlRGVzY3JpcHRpb24oKTsNCisJCX0N
CisJCWlmIChpc1RvcGljKG5hbWUpKSB7IC8vIEFuY2hvcg0KKwkJCXJldHVybiBjcmVhdGVUb3Bp
YygpOw0KKwkJfQ0KKwkJaWYgKGlzQ29tbWFuZChuYW1lKSkgeyAvLyBBbmNob3INCisJCQlyZXR1
cm4gY3JlYXRlQ29tbWFuZCgpOw0KKwkJfQ0KKwkJcmV0dXJuIHN1cGVyLmNyZWF0ZURvY3VtZW50
Tm9kZShuYW1lLCBwYXJlbnQpOw0KKwl9DQorDQorCXByaXZhdGUgYm9vbGVhbiBpc1Jvb3QoU3Ry
aW5nIG5hbWUpIHsNCisJCXJldHVybiBuYW1lLmVxdWFscyhJQ3R4SGVscENvbnN0YW50cy5FTEVN
RU5UX1JPT1QpOw0KKwl9DQorDQorCXByaXZhdGUgYm9vbGVhbiBpc0NvbnRleHQoU3RyaW5nIG5h
bWUpIHsNCisJCXJldHVybiBuYW1lLmVxdWFscyhJQ3R4SGVscENvbnN0YW50cy5FTEVNRU5UX0NP
TlRFWFQpOw0KKwl9DQorDQorCXByaXZhdGUgYm9vbGVhbiBpc0Rlc2NyaXB0aW9uKFN0cmluZyBu
YW1lKSB7DQorCQlyZXR1cm4gbmFtZS5lcXVhbHMoSUN0eEhlbHBDb25zdGFudHMuRUxFTUVOVF9E
RVNDUklQVElPTik7DQorCX0NCisNCisJcHJpdmF0ZSBib29sZWFuIGlzVG9waWMoU3RyaW5nIG5h
bWUpIHsNCisJCXJldHVybiBuYW1lLmVxdWFscyhJQ3R4SGVscENvbnN0YW50cy5FTEVNRU5UX1RP
UElDKTsNCisJfQ0KKw0KKwlwcml2YXRlIGJvb2xlYW4gaXNDb21tYW5kKFN0cmluZyBuYW1lKSB7
DQorCQlyZXR1cm4gbmFtZS5lcXVhbHMoSUN0eEhlbHBDb25zdGFudHMuRUxFTUVOVF9DT01NQU5E
KTsNCisJfQ0KKw0KKwkvKioNCisJICogQHJldHVybiBhIG5ldyByb290IG9iamVjdCBiYXNlZCBv
biB0aGUgY3VycmVudCBtb2RlbA0KKwkgKi8NCisJcHVibGljIEN0eEhlbHBSb290IGNyZWF0ZVJv
b3QoKSB7DQorCQlyZXR1cm4gbmV3IEN0eEhlbHBSb290KGZNb2RlbCk7DQorCX0NCisNCisJLyoq
DQorCSAqIEByZXR1cm4gYSBuZXcgY29udGV4dCBvYmplY3QgYmFzZWQgb24gdGhlIGN1cnJlbnQg
bW9kZWwNCisJICovDQorCXB1YmxpYyBDdHhIZWxwQ29udGV4dCBjcmVhdGVDb250ZXh0KCkgew0K
KwkJcmV0dXJuIG5ldyBDdHhIZWxwQ29udGV4dChmTW9kZWwpOw0KKwl9DQorDQorCS8qKg0KKwkg
KiBAcmV0dXJuIGEgbmV3IGRlc2NyaXB0aW9uIG9iamVjdCBiYXNlZCBvbiB0aGUgY3VycmVudCBt
b2RlbA0KKwkgKi8NCisJcHVibGljIEN0eEhlbHBEZXNjcmlwdGlvbiBjcmVhdGVEZXNjcmlwdGlv
bigpIHsNCisJCXJldHVybiBuZXcgQ3R4SGVscERlc2NyaXB0aW9uKGZNb2RlbCk7DQorCX0NCisN
CisJLyoqDQorCSAqIEByZXR1cm4gYSBuZXcgdG9waWMgb2JqZWN0IGJhc2VkIG9uIHRoZSBjdXJy
ZW50IG1vZGVsDQorCSAqLw0KKwlwdWJsaWMgQ3R4SGVscFRvcGljIGNyZWF0ZVRvcGljKCkgew0K
KwkJcmV0dXJuIG5ldyBDdHhIZWxwVG9waWMoZk1vZGVsKTsNCisJfQ0KKw0KKwkvKioNCisJICog
QHJldHVybiBhIG5ldyBjb21tYW5kIG9iamVjdCBiYXNlZCBvbiB0aGUgY3VycmVudCBtb2RlbA0K
KwkgKi8NCisJcHVibGljIEN0eEhlbHBDb21tYW5kIGNyZWF0ZUNvbW1hbmQoKSB7DQorCQlyZXR1
cm4gbmV3IEN0eEhlbHBDb21tYW5kKGZNb2RlbCk7DQorCX0NCisNCit9DQpJbmRleDogdGV4dC9v
cmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscENvbW1hbmQu
amF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFs
L2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBDb21tYW5kLmphdmENCmRpZmYgLU4gdGV4dC9vcmcv
ZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscENvbW1hbmQuamF2
YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgdGV4dC9vcmcv
ZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscENvbW1hbmQuamF2
YQkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsxLDk2IEBADQorLyoqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIwMDggSUJNIENvcnBvcmF0aW9uIGFu
ZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUg
YWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUg
dGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29t
cGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDov
L3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9y
czoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0
aW9uDQorICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHA7DQorDQorLyoqDQorICogUmVwcmVzZW50cyBhIGNv
bW1hbmQgZW50cnkgaW4gY29udGV4dCBoZWxwLiAgQ29tbWFuZHMgYXJlIHVzZWQgdG8gbGF1bmNo
DQorICogYWN0aW9ucyB3aGVuIGNsaWNrZWQgb24gYnkgdGhlIHVzZXIuICBDb21tYW5kcyBhcmUg
bGVhZiBvYmplY3RzLg0KKyAqIA0KKyAqIEBzaW5jZSAzLjQNCisgKiBAc2VlIEN0eEhlbHBPYmpl
Y3QNCisgKiBAc2VlIEN0eEhlbHBNb2RlbA0KKyAqIEBzZWUgQ3R4SGVscERvY3VtZW50RmFjdG9y
eQ0KKyAqLw0KK3B1YmxpYyBjbGFzcyBDdHhIZWxwQ29tbWFuZCBleHRlbmRzIEN0eEhlbHBPYmpl
Y3Qgew0KKw0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBsb25nIHNlcmlhbFZlcnNpb25VSUQgPSAx
TDsNCisNCisJcHVibGljIEN0eEhlbHBDb21tYW5kKEN0eEhlbHBNb2RlbCBtb2RlbCkgew0KKwkJ
c3VwZXIobW9kZWwsIEVMRU1FTlRfQ09NTUFORCk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9j
KQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQudG9jLlRvY09i
amVjdCNjYW5CZVBhcmVudCgpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBjYW5CZVBhcmVudCgp
IHsNCisJCXJldHVybiBmYWxzZTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBz
ZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudG9jLlRvY09iamVjdCNnZXRUeXBlKCkN
CisJICovDQorCXB1YmxpYyBpbnQgZ2V0VHlwZSgpIHsNCisJCXJldHVybiBUWVBFX0NPTU1BTkQ7
DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5p
bnRlcm5hbC5jb3JlLnRvYy5Ub2NPYmplY3QjZ2V0TmFtZSgpDQorCSAqLw0KKwlwdWJsaWMgU3Ry
aW5nIGdldE5hbWUoKSB7DQorCQlyZXR1cm4gZ2V0TGFiZWwoKTsNCisJfQ0KKw0KKwkvKioNCisJ
ICogQHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGxhYmVsIGF0dHJpYnV0ZSBvciA8Y29kZT5udWxs
PC9jb2RlPiBpZiB0aGUgYXR0cmlidXRlIGRvZXMgbm90IGV4aXN0DQorCSAqLw0KKwlwdWJsaWMg
U3RyaW5nIGdldExhYmVsKCkgew0KKwkJcmV0dXJuIGdldFhNTEF0dHJpYnV0ZVZhbHVlKEFUVFJJ
QlVURV9MQUJFTCk7DQorCX0NCisNCisJLyoqDQorCSAqIFNldCB0aGUgbGFiZWwgYXR0cmlidXRl
LCBwYXNzaW5nIDxjb2RlPm51bGw8L2NvZGU+IHdpbGwgc2V0IHRoZQ0KKwkgKiBhdHRyaWJ1dGUg
dG8gYmUgZW1wdHkuDQorCSAqIEBwYXJhbSBsYWJlbCBuZXcgdmFsdWUNCisJICovDQorCXB1Ymxp
YyB2b2lkIHNldExhYmVsKFN0cmluZyBsYWJlbCkgew0KKwkJc2V0WE1MQXR0cmlidXRlKEFUVFJJ
QlVURV9MQUJFTCwgbGFiZWwpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuIHRoZSB2YWx1
ZSBvZiB0aGUgc2VyaWFsaXphdGlvbiBhdHRyaWJ1dGUgb3IgPGNvZGU+bnVsbDwvY29kZT4gaWYg
dGhlIGF0dHJpYnV0ZSBkb2VzIG5vdCBleGlzdA0KKwkgKi8NCisJcHVibGljIFN0cmluZyBnZXRT
ZXJpYWxpemF0aW9uKCkgew0KKwkJcmV0dXJuIGdldFhNTEF0dHJpYnV0ZVZhbHVlKEFUVFJJQlVU
RV9TRVJJQUwpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBTZXQgdGhlIHNlcmlhbGl6YXRpb24gYXR0
cmlidXRlLCBwYXNzaW5nIDxjb2RlPm51bGw8L2NvZGU+IHdpbGwgc2V0IHRoZQ0KKwkgKiBhdHRy
aWJ1dGUgdG8gYmUgZW1wdHkuDQorCSAqIEBwYXJhbSBzZXJpYWxpemF0aW9uIG5ldyB2YWx1ZQ0K
KwkgKi8NCisJcHVibGljIHZvaWQgc2V0U2VyaWFsaXphdGlvbihTdHJpbmcgc2VyaWFsaXphdGlv
bikgew0KKwkJc2V0WE1MQXR0cmlidXRlKEFUVFJJQlVURV9IUkVGLCBzZXJpYWxpemF0aW9uKTsN
CisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmlu
dGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBPYmplY3QjY2FuQWRkQ2hpbGQob3JnLmVj
bGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBPYmplY3QpDQorCSAq
Lw0KKwlwdWJsaWMgYm9vbGVhbiBjYW5BZGRDaGlsZChpbnQgb2JqZWN0VHlwZSkgew0KKwkJcmV0
dXJuIGZhbHNlOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNs
aXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE9iamVjdCNjYW5BZGRT
aWJsaW5nKGludCkNCisJICovDQorCXB1YmxpYyBib29sZWFuIGNhbkFkZFNpYmxpbmcoaW50IG9i
amVjdFR5cGUpIHsNCisJCXJldHVybiBvYmplY3RUeXBlID09IFRZUEVfQ09NTUFORCB8fCBvYmpl
Y3RUeXBlID09IFRZUEVfVE9QSUM7DQorCX0NCit9DQpJbmRleDogdGV4dC9vcmcvZWNsaXBzZS9w
ZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscFRvcGljLmphdmENCj09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT0NClJDUyBmaWxlOiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4
aGVscC9DdHhIZWxwVG9waWMuamF2YQ0KZGlmZiAtTiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRl
cm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhIZWxwVG9waWMuamF2YQ0KLS0tIC9kZXYvbnVsbAkx
IEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJu
YWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscFRvcGljLmphdmEJMSBKYW4gMTk3MCAwMDowMDow
MCAtMDAwMA0KQEAgLTAsMCArMSwxMDcgQEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAq
IENvcHlyaWdodCAoYykgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwg
cmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJp
YWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBz
ZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmli
dXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xl
Z2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29y
cG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKi8NCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQu
Y3R4aGVscDsNCisNCitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLklQYXRoOw0KK2lt
cG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuUGF0aDsNCisNCisvKioNCisgKiBSZXByZXNl
bnRzIGEgdG9waWMgZW50cnkgaW4gY29udGV4dCBoZWxwLiAgVG9waWNzIGFyZSB1c2VkIHRvIG9w
ZW4gcmVsYXRlZA0KKyAqIGhlbHAgaW4gb3RoZXIgZmlsZXMuICBUb3BpY3MgYXJlIGxlYWYgb2Jq
ZWN0cy4NCisgKiANCisgKiBAc2luY2UgMy40DQorICogQHNlZSBDdHhIZWxwT2JqZWN0DQorICog
QHNlZSBDdHhIZWxwTW9kZWwNCisgKiBAc2VlIEN0eEhlbHBEb2N1bWVudEZhY3RvcnkNCisgKi8N
CitwdWJsaWMgY2xhc3MgQ3R4SGVscFRvcGljIGV4dGVuZHMgQ3R4SGVscE9iamVjdCB7DQorDQor
CXByaXZhdGUgc3RhdGljIGZpbmFsIGxvbmcgc2VyaWFsVmVyc2lvblVJRCA9IDFMOw0KKw0KKwlw
dWJsaWMgQ3R4SGVscFRvcGljKEN0eEhlbHBNb2RlbCBtb2RlbCkgew0KKwkJc3VwZXIobW9kZWws
IEVMRU1FTlRfVE9QSUMpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBv
cmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LnRvYy5Ub2NPYmplY3QjY2FuQmVQYXJl
bnQoKQ0KKwkgKi8NCisJcHVibGljIGJvb2xlYW4gY2FuQmVQYXJlbnQoKSB7DQorCQlyZXR1cm4g
ZmFsc2U7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNl
LnBkZS5pbnRlcm5hbC5jb3JlLnRvYy5Ub2NPYmplY3QjZ2V0VHlwZSgpDQorCSAqLw0KKwlwdWJs
aWMgaW50IGdldFR5cGUoKSB7DQorCQlyZXR1cm4gVFlQRV9UT1BJQzsNCisJfQ0KKw0KKwkvKiAo
bm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudG9j
LlRvY09iamVjdCNnZXROYW1lKCkNCisJICovDQorCXB1YmxpYyBTdHJpbmcgZ2V0TmFtZSgpIHsN
CisJCXJldHVybiBnZXRMYWJlbCgpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuIHRoZSB2
YWx1ZSBvZiB0aGUgbGFiZWwgYXR0cmlidXRlIG9yIDxjb2RlPm51bGw8L2NvZGU+IGlmIHRoZSBh
dHRyaWJ1dGUgZG9lcyBub3QgZXhpc3QNCisJICovDQorCXB1YmxpYyBTdHJpbmcgZ2V0TGFiZWwo
KSB7DQorCQlyZXR1cm4gZ2V0WE1MQXR0cmlidXRlVmFsdWUoQVRUUklCVVRFX0xBQkVMKTsNCisJ
fQ0KKw0KKwkvKioNCisJICogU2V0IHRoZSBsYWJlbCBhdHRyaWJ1dGUsIHBhc3NpbmcgPGNvZGU+
bnVsbDwvY29kZT4gd2lsbCBzZXQgdGhlDQorCSAqIGF0dHJpYnV0ZSB0byBiZSBlbXB0eS4NCisJ
ICogQHBhcmFtIGxhYmVsIG5ldyB2YWx1ZQ0KKwkgKi8NCisJcHVibGljIHZvaWQgc2V0TGFiZWwo
U3RyaW5nIGxhYmVsKSB7DQorCQlzZXRYTUxBdHRyaWJ1dGUoQVRUUklCVVRFX0xBQkVMLCBsYWJl
bCk7DQorCX0NCisNCisJLyoqDQorCSAqIEByZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBocmVmIGF0
dHJpYnV0ZSBhcyBhIHBhdGggb3IgPGNvZGU+bnVsbDwvY29kZT4NCisJICovDQorCXB1YmxpYyBJ
UGF0aCBnZXRMb2NhdGlvbigpIHsNCisJCVN0cmluZyB2YWx1ZSA9IGdldFhNTEF0dHJpYnV0ZVZh
bHVlKEFUVFJJQlVURV9IUkVGKTsNCisJCWlmICh2YWx1ZSAhPSBudWxsKSB7DQorCQkJcmV0dXJu
IG5ldyBQYXRoKHZhbHVlKTsNCisJCX0NCisJCXJldHVybiBudWxsOw0KKwl9DQorDQorCS8qKg0K
KwkgKiBTZXQgdGhlIGhyZWYgKGxpbmspIGF0dHJpYnV0ZSwgcGFzc2luZyA8Y29kZT5udWxsPC9j
b2RlPiB3aWxsIHNldCB0aGUNCisJICogYXR0cmlidXRlIHRvIGJlIGVtcHR5Lg0KKwkgKiBAcGFy
YW0gcGF0aCBuZXcgdmFsdWUNCisJICovDQorCXB1YmxpYyB2b2lkIHNldExvY2F0aW9uKElQYXRo
IHBhdGgpIHsNCisJCWlmIChwYXRoID09IG51bGwpIHsNCisJCQlzZXRYTUxBdHRyaWJ1dGUoQVRU
UklCVVRFX0hSRUYsIG51bGwpOw0KKwkJfSBlbHNlIHsNCisJCQlzZXRYTUxBdHRyaWJ1dGUoQVRU
UklCVVRFX0hSRUYsIHBhdGgudG9Qb3J0YWJsZVN0cmluZygpKTsNCisJCX0NCisJfQ0KKw0KKwkv
KiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUu
dGV4dC5jdHhoZWxwLkN0eEhlbHBPYmplY3QjY2FuQWRkQ2hpbGQob3JnLmVjbGlwc2UucGRlLmlu
dGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBPYmplY3QpDQorCSAqLw0KKwlwdWJsaWMg
Ym9vbGVhbiBjYW5BZGRDaGlsZChpbnQgb2JqZWN0VHlwZSkgew0KKwkJcmV0dXJuIGZhbHNlOw0K
Kwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50
ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE9iamVjdCNjYW5BZGRTaWJsaW5nKGludCkN
CisJICovDQorCXB1YmxpYyBib29sZWFuIGNhbkFkZFNpYmxpbmcoaW50IG9iamVjdFR5cGUpIHsN
CisJCXJldHVybiBvYmplY3RUeXBlID09IFRZUEVfQ09NTUFORCB8fCBvYmplY3RUeXBlID09IFRZ
UEVfVE9QSUM7DQorCX0NCit9DQpJbmRleDogdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwv
Y29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscERvY3VtZW50SGFuZGxlci5qYXZhDQo9PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
DQpSQ1MgZmlsZTogdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhl
bHAvQ3R4SGVscERvY3VtZW50SGFuZGxlci5qYXZhDQpkaWZmIC1OIHRleHQvb3JnL2VjbGlwc2Uv
cGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBEb2N1bWVudEhhbmRsZXIuamF2
YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgdGV4dC9vcmcv
ZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscERvY3VtZW50SGFu
ZGxlci5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsNDcgQEANCisv
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMjAwOCBJQk0gQ29ycG9y
YXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0g
YW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVu
ZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hp
Y2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisg
KiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29u
dHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1w
bGVtZW50YXRpb24NCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCitwYWNrYWdlIG9yZy5lY2xp
cHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscDsNCisNCitpbXBvcnQgb3JnLmVjbGlw
c2UuamZhY2UudGV4dC5JRG9jdW1lbnQ7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5h
bC5jb3JlLnRleHQuSURvY3VtZW50RWxlbWVudE5vZGU7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC5jb3JlLnRleHQuTm9kZURvY3VtZW50SGFuZGxlcjsNCisNCisvKioNCisgKiBE
b2N1bWVudCBoYW5kbGVyIGZvciBjb250ZXh0IGhlbHAgeG1sIGZpbGVzLg0KKyAqIA0KKyAqIEBz
aW5jZSAzLjQNCisgKiBAc2VlIEN0eEhlbHBPYmplY3QNCisgKiBAc2VlIEN0eEhlbHBNb2RlbA0K
KyAqIEBzZWUgQ3R4SGVscERvY3VtZW50RmFjdG9yeQ0KKyAqLw0KK3B1YmxpYyBjbGFzcyBDdHhI
ZWxwRG9jdW1lbnRIYW5kbGVyIGV4dGVuZHMgTm9kZURvY3VtZW50SGFuZGxlciB7DQorDQorCXBy
aXZhdGUgQ3R4SGVscE1vZGVsIGZNb2RlbDsNCisNCisJcHVibGljIEN0eEhlbHBEb2N1bWVudEhh
bmRsZXIoQ3R4SGVscE1vZGVsIG1vZGVsLCBib29sZWFuIHJlY29uY2lsaW5nKSB7DQorCQlzdXBl
cihyZWNvbmNpbGluZywgbW9kZWwuZ2V0RmFjdG9yeSgpKTsNCisJCWZNb2RlbCA9IG1vZGVsOw0K
Kwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50
ZXJuYWwuY29yZS50ZXh0LkRvY3VtZW50SGFuZGxlciNnZXREb2N1bWVudCgpDQorCSAqLw0KKwlw
cm90ZWN0ZWQgSURvY3VtZW50IGdldERvY3VtZW50KCkgew0KKwkJcmV0dXJuIGZNb2RlbC5nZXRE
b2N1bWVudCgpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNs
aXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0Lk5vZGVEb2N1bWVudEhhbmRsZXIjZ2V0Um9vdE5v
ZGUoKQ0KKwkgKi8NCisJcHJvdGVjdGVkIElEb2N1bWVudEVsZW1lbnROb2RlIGdldFJvb3ROb2Rl
KCkgew0KKwkJcmV0dXJuIChJRG9jdW1lbnRFbGVtZW50Tm9kZSkgZk1vZGVsLmdldFJvb3QoKTsN
CisJfQ0KK30NCkluZGV4OiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQv
Y3R4aGVscC9DdHhIZWxwUm9vdC5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogdGV4dC9vcmcv
ZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscFJvb3QuamF2YQ0K
ZGlmZiAtTiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9D
dHhIZWxwUm9vdC5qYXZhDQotLS0gL2Rldi9udWxsCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDAN
CisrKyB0ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhI
ZWxwUm9vdC5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsNzMgQEAN
CisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMjAwOCBJQk0gQ29y
cG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dy
YW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxl
IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICog
d2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQN
CisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICog
Q29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQg
aW1wbGVtZW50YXRpb24NCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCitwYWNrYWdlIG9yZy5l
Y2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscDsNCisNCisvKioNCisgKiBSZXBy
ZXNlbnRzIHRoZSByb290ICJjb250ZXh0cyIgZW50cnkgaW4gYSBjb250ZXh0IGhlbHAgeG1sIGZp
bGUuICBUaGVyZSBtYXkNCisgKiBiZSBvbmx5IG9uZSByb290IG5vZGUgaW4gdGhlIGZpbGUgYW5k
IGFsbCBvdGhlciBub2RlcyBtdXN0IGJlIGluc2lkZSB0aGUgcm9vdC4NCisgKiBUaGUgcm9vdCBt
YXkgY29udGFpbiBtYW55IGNvbnRleHQgZWxlbWVudHMuDQorICogDQorICogQHNpbmNlIDMuNA0K
KyAqIEBzZWUgQ3R4SGVscE9iamVjdA0KKyAqIEBzZWUgQ3R4SGVscE1vZGVsDQorICogQHNlZSBD
dHhIZWxwRG9jdW1lbnRGYWN0b3J5DQorICovDQorcHVibGljIGNsYXNzIEN0eEhlbHBSb290IGV4
dGVuZHMgQ3R4SGVscE9iamVjdCB7DQorDQorCXByaXZhdGUgc3RhdGljIGZpbmFsIGxvbmcgc2Vy
aWFsVmVyc2lvblVJRCA9IDFMOw0KKw0KKwlwdWJsaWMgQ3R4SGVscFJvb3QoQ3R4SGVscE1vZGVs
IG1vZGVsKSB7DQorCQlzdXBlcihtb2RlbCwgRUxFTUVOVF9ST09UKTsNCisJCXNldEluVGhlTW9k
ZWwodHJ1ZSk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xp
cHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQucGx1Z2luLlBsdWdpbkRvY3VtZW50Tm9kZSNpc1Jv
b3QoKQ0KKwkgKi8NCisJcHVibGljIGJvb2xlYW4gaXNSb290KCkgew0KKwkJcmV0dXJuIHRydWU7
DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5p
bnRlcm5hbC5jb3JlLnRvYy5Ub2NPYmplY3QjZ2V0VHlwZSgpDQorCSAqLw0KKwlwdWJsaWMgaW50
IGdldFR5cGUoKSB7DQorCQlyZXR1cm4gVFlQRV9ST09UOw0KKwl9DQorDQorCS8qIChub24tSmF2
YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhl
bHAuQ3R4SGVscE9iamVjdCNjYW5CZVBhcmVudCgpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBj
YW5CZVBhcmVudCgpIHsNCisJCXJldHVybiB0cnVlOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRv
YykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAu
Q3R4SGVscE9iamVjdCNnZXROYW1lKCkNCisJICovDQorCXB1YmxpYyBTdHJpbmcgZ2V0TmFtZSgp
IHsNCisJCXJldHVybiBFTEVNRU5UX1JPT1Q7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0K
KwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhI
ZWxwT2JqZWN0I2NhbkFkZENoaWxkKG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQu
Y3R4aGVscC5DdHhIZWxwT2JqZWN0KQ0KKwkgKi8NCisJcHVibGljIGJvb2xlYW4gY2FuQWRkQ2hp
bGQoaW50IG9iamVjdFR5cGUpIHsNCisJCXJldHVybiBvYmplY3RUeXBlID09IFRZUEVfQ09OVEVY
VDsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRl
LmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBPYmplY3QjY2FuQWRkU2libGluZyhp
bnQpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBjYW5BZGRTaWJsaW5nKGludCBvYmplY3RUeXBl
KSB7DQorCQlyZXR1cm4gZmFsc2U7DQorCX0NCit9DQpJbmRleDogdGV4dC9vcmcvZWNsaXBzZS9w
ZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscENvbnRleHQuamF2YQ0KPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PQ0KUkNTIGZpbGU6IHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9j
dHhoZWxwL0N0eEhlbHBDb250ZXh0LmphdmENCmRpZmYgLU4gdGV4dC9vcmcvZWNsaXBzZS9wZGUv
aW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscENvbnRleHQuamF2YQ0KLS0tIC9kZXYv
bnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgdGV4dC9vcmcvZWNsaXBzZS9wZGUv
aW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscENvbnRleHQuamF2YQkxIEphbiAxOTcw
IDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsxLDEzNSBAQA0KKy8qKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqDQorICogQ29weXJpZ2h0IChjKSAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0K
KyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWlu
ZyBtYXRlcmlhbHMNCisgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRo
ZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlz
IGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cuZWNsaXBz
ZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQorICoNCisgKiBDb250cmlidXRvcnM6DQorICogICAg
IElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqLw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNv
cmUudGV4dC5jdHhoZWxwOw0KKw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29y
ZS50ZXh0LklEb2N1bWVudEVsZW1lbnROb2RlOw0KKw0KKy8qKg0KKyAqIFJlcHJlc2VudHMgYSBj
b250ZXh0IGVudHJ5IGluIGNvbnRleHQgaGVscC4gIENvbnRleHRzIGhhdmUgYSBzcGVjaWZpYyBp
ZA0KKyAqIHRoYXQgYWxsb3dzIFVJIGVsZW1lbnRzIHRvIGJlIGFzc29jaWF0ZWQgd2l0aCBhIGxp
c3Qgb2YgY29tbWFuZHMgYW5kIHRvcGljcw0KKyAqIHRoYXQgYXJlIHN0b3JlZCBpbiB0aGUgY29u
dGV4dC4gIENvbnRleHRzIG1heSBoYXZlIG9uZSBvcHRpb25hbCBkZXNjcmlwdGlvbg0KKyAqIGVs
ZW1lbnQgYW5kIGFzIG1hbnkgdG9waWMgYW5kIGNvbW1hbmQgZWxlbWVudHMgYXMgbmVlZGVkLg0K
KyAqIA0KKyAqIEBzaW5jZSAzLjQNCisgKiBAc2VlIEN0eEhlbHBPYmplY3QNCisgKiBAc2VlIEN0
eEhlbHBNb2RlbA0KKyAqIEBzZWUgQ3R4SGVscERvY3VtZW50RmFjdG9yeQ0KKyAqLw0KK3B1Ymxp
YyBjbGFzcyBDdHhIZWxwQ29udGV4dCBleHRlbmRzIEN0eEhlbHBPYmplY3Qgew0KKw0KKwlwcml2
YXRlIHN0YXRpYyBmaW5hbCBsb25nIHNlcmlhbFZlcnNpb25VSUQgPSAxTDsNCisNCisJcHVibGlj
IEN0eEhlbHBDb250ZXh0KEN0eEhlbHBNb2RlbCBtb2RlbCkgew0KKwkJc3VwZXIobW9kZWwsIEVM
RU1FTlRfQ09OVEVYVCk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQudG9jLlRvY09iamVjdCNjYW5CZVBhcmVu
dCgpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBjYW5CZVBhcmVudCgpIHsNCisJCXJldHVybiB0
cnVlOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5w
ZGUuaW50ZXJuYWwuY29yZS50b2MuVG9jT2JqZWN0I2dldFR5cGUoKQ0KKwkgKi8NCisJcHVibGlj
IGludCBnZXRUeXBlKCkgew0KKwkJcmV0dXJuIFRZUEVfQ09OVEVYVDsNCisJfQ0KKw0KKwkvKiAo
bm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudG9j
LlRvY09iamVjdCNnZXROYW1lKCkNCisJICovDQorCXB1YmxpYyBTdHJpbmcgZ2V0TmFtZSgpIHsN
CisJCXJldHVybiBnZXRJZCgpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuIHRoZSB2YWx1
ZSBvZiB0aGUgaWQgYXR0cmlidXRlIG9yIDxjb2RlPm51bGw8L2NvZGU+IGlmIHRoZSBhdHRyaWJ1
dGUgZG9lcyBub3QgZXhpc3QNCisJICovDQorCXB1YmxpYyBTdHJpbmcgZ2V0SWQoKSB7DQorCQly
ZXR1cm4gZ2V0WE1MQXR0cmlidXRlVmFsdWUoQVRUUklCVVRFX0lEKTsNCisJfQ0KKw0KKwkvKioN
CisJICogU2V0IHRoZSBpZCBhdHRyaWJ1dGUsIHBhc3NpbmcgPGNvZGU+bnVsbDwvY29kZT4gd2ls
bCBzZXQgdGhlDQorCSAqIGF0dHJpYnV0ZSB0byBiZSBlbXB0eS4NCisJICogQHBhcmFtIGlkIG5l
dyB2YWx1ZQ0KKwkgKi8NCisJcHVibGljIHZvaWQgc2V0SUQoU3RyaW5nIGlkKSB7DQorCQlzZXRY
TUxBdHRyaWJ1dGUoQVRUUklCVVRFX0lELCBpZCk7DQorCX0NCisNCisJLyoqDQorCSAqIEByZXR1
cm4gdGhlIHZhbHVlIG9mIHRoZSB0aXRsZSBhdHRyaWJ1dGUgb3IgPGNvZGU+bnVsbDwvY29kZT4g
aWYgdGhlIGF0dHJpYnV0ZSBkb2VzIG5vdCBleGlzdA0KKwkgKi8NCisJcHVibGljIFN0cmluZyBn
ZXRUaXRsZSgpIHsNCisJCXJldHVybiBnZXRYTUxBdHRyaWJ1dGVWYWx1ZShBVFRSSUJVVEVfVElU
TEUpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBTZXQgdGhlIHRpdGxlIGF0dHJpYnV0ZSwgcGFzc2lu
ZyA8Y29kZT5udWxsPC9jb2RlPiB3aWxsIHNldCB0aGUNCisJICogYXR0cmlidXRlIHRvIGJlIGVt
cHR5Lg0KKwkgKiBAcGFyYW0gdGl0bGUgbmV3IHZhbHVlDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBz
ZXRUaXRsZShTdHJpbmcgdGl0bGUpIHsNCisJCXNldFhNTEF0dHJpYnV0ZShBVFRSSUJVVEVfVElU
TEUsIHRpdGxlKTsNCisJfQ0KKw0KKwkvKioNCisJICogU2VhcmNoZXMgZm9yIGEgY2hpbGQgZGVz
Y3JpcHRpb24gbm9kZSBhbmQgcmV0dXJucyB0aGUgc3RyaW5nIGNvbnRlbnRzIG9mIHRoYXQgbm9k
ZS4NCisJICogUmV0dXJucyA8Y29kZT5udWxsPC9jb2RlPiBpZiBubyBkZXNjcmlwdGlvbiBub2Rl
IGV4aXN0cy4NCisJICogQHJldHVybiBkZXNjcmlwdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhpcyBj
b250ZXh0IG9yIDxjb2RlPm51bGw8L2NvZGU+IG5vIGRlc2NyaXB0aW9uIGV4aXN0cw0KKwkgKi8N
CisJcHVibGljIFN0cmluZyBnZXREZXNjcmlwdGlvbigpIHsNCisJCUlEb2N1bWVudEVsZW1lbnRO
b2RlIG5vZGUgPSBnZXRDaGlsZE5vZGUoQ3R4SGVscERlc2NyaXB0aW9uLmNsYXNzKTsNCisJCWlm
IChub2RlIGluc3RhbmNlb2YgQ3R4SGVscERlc2NyaXB0aW9uKSB7DQorCQkJcmV0dXJuICgoQ3R4
SGVscERlc2NyaXB0aW9uKSBub2RlKS5nZXREZXNjcmlwdGlvbigpOw0KKwkJfQ0KKwkJcmV0dXJu
IG51bGw7DQorCX0NCisNCisJLyoqDQorCSAqIFNldCB0aGUgZGVzY3JpcHRpb24gdG8gYmUgYXNz
b2NpYXRlZCB3aXRoIHRoaXMgY29udGV4dC4gIFNlYXJjaGVzIGZvciBhIGNoaWxkIGRlc2NyaXB0
aW9uIG5vZGUNCisJICogYW5kIHVwZGF0ZXMgdGhlIGNvbnRlbnQgd2l0aCB0aGUgZ2l2ZW4gc3Ry
aW5nLiAgSWYgYSBkZXNjcmlwdGlvbiBub2RlIGRvZXMgbm90IGV4aXN0LCBvbmUgd2lsbA0KKwkg
KiBiZSBjcmVhdGVkLiAgUGFzc2luZyA8Y29kZT5udWxsPC9jb2RlPiB3aWxsIHJlbW92ZSBhbnkg
ZGVzY3JpcHRpb24gbm9kZSBpZiBvbmUgZXhpc3RzLg0KKwkgKiBAcGFyYW0gZGVzY3JpcHRpb24g
bmV3IHZhbHVlDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBzZXREZXNjcmlwdGlvbihTdHJpbmcgZGVz
Y3JpcHRpb24pIHsNCisJCUlEb2N1bWVudEVsZW1lbnROb2RlIG5vZGUgPSBnZXRDaGlsZE5vZGUo
Q3R4SGVscERlc2NyaXB0aW9uLmNsYXNzKTsNCisJCWlmIChub2RlIGluc3RhbmNlb2YgQ3R4SGVs
cERlc2NyaXB0aW9uKSB7DQorCQkJaWYgKGRlc2NyaXB0aW9uID09IG51bGwpIHsNCisJCQkJcmVt
b3ZlQ2hpbGROb2RlKG5vZGUsIHRydWUpOw0KKwkJCX0gZWxzZSB7DQorCQkJCSgoQ3R4SGVscERl
c2NyaXB0aW9uKSBub2RlKS5zZXREZXNjcmlwdGlvbihkZXNjcmlwdGlvbik7DQorCQkJfQ0KKwkJ
fSBlbHNlIGlmIChkZXNjcmlwdGlvbiAhPSBudWxsKSB7DQorCQkJQ3R4SGVscERlc2NyaXB0aW9u
IG5ld0Rlc2NyaXB0aW9uID0gZ2V0TW9kZWwoKS5nZXRGYWN0b3J5KCkuY3JlYXRlRGVzY3JpcHRp
b24oKTsNCisJCQluZXdEZXNjcmlwdGlvbi5zZXREZXNjcmlwdGlvbihkZXNjcmlwdGlvbik7DQor
CQkJYWRkQ2hpbGROb2RlKG5ld0Rlc2NyaXB0aW9uLCAwLCB0cnVlKTsNCisJCX0NCisJfQ0KKw0K
KwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNv
cmUudGV4dC5jdHhoZWxwLkN0eEhlbHBPYmplY3QjY2FuQWRkQ2hpbGQob3JnLmVjbGlwc2UucGRl
LmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBPYmplY3QpDQorCSAqLw0KKwlwdWJs
aWMgYm9vbGVhbiBjYW5BZGRDaGlsZChpbnQgb2JqZWN0VHlwZSkgew0KKwkJcmV0dXJuIG9iamVj
dFR5cGUgPT0gVFlQRV9UT1BJQyB8fCBvYmplY3RUeXBlID09IFRZUEVfQ09NTUFORDsNCisJfQ0K
Kw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBPYmplY3QjY2FuQWRkU2libGluZyhpbnQpDQorCSAq
Lw0KKwlwdWJsaWMgYm9vbGVhbiBjYW5BZGRTaWJsaW5nKGludCBvYmplY3RUeXBlKSB7DQorCQly
ZXR1cm4gb2JqZWN0VHlwZSA9PSBUWVBFX0NPTlRFWFQ7DQorCX0NCisNCit9DQpJbmRleDogdGV4
dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscE9iamVj
dC5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJu
YWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscE9iamVjdC5qYXZhDQpkaWZmIC1OIHRleHQvb3Jn
L2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBPYmplY3QuamF2
YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgdGV4dC9vcmcv
ZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscE9iamVjdC5qYXZh
CTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsMjAzIEBADQorLyoqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIwMDggSUJNIENvcnBvcmF0aW9uIGFu
ZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUg
YWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUg
dGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29t
cGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDov
L3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9y
czoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0
aW9uDQorICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHA7DQorDQoraW1wb3J0IGphdmEuaW8uU2VyaWFsaXph
YmxlOw0KK2ltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0Ow0KK2ltcG9ydCBqYXZhLnV0aWwuTGlz
dDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmNvcmUuSU1vZGVsOw0KK2ltcG9ydCBvcmcuZWNs
aXBzZS5wZGUuaW50ZXJuYWwuY29yZS5pY3R4aGVscC5JQ3R4SGVscENvbnN0YW50czsNCitpbXBv
cnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5Eb2N1bWVudE9iamVjdDsNCitp
bXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5JRG9jdW1lbnRFbGVtZW50
Tm9kZTsNCisNCisvKioNCisgKiBBbGwgbW9kZWxlZCBvYmplY3RzIG9mIGEgY29udGV4dCBoZWxw
IHhtbCBmaWxlIG11c3QgZXh0ZW5kIGZyb20gdGhpcw0KKyAqIGFic3RyYWN0IGNsYXNzLg0KKyAq
IA0KKyAqIEBzaW5jZSAzLjQNCisgKiBAc2VlIEN0eEhlbHBNb2RlbA0KKyAqIEBzZWUgQ3R4SGVs
cERvY3VtZW50RmFjdG9yeQ0KKyAqLw0KK3B1YmxpYyBhYnN0cmFjdCBjbGFzcyBDdHhIZWxwT2Jq
ZWN0IGV4dGVuZHMgRG9jdW1lbnRPYmplY3QgaW1wbGVtZW50cyBJQ3R4SGVscENvbnN0YW50cywg
U2VyaWFsaXphYmxlIHsNCisNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgbG9uZyBzZXJpYWxWZXJz
aW9uVUlEID0gMUw7DQorDQorCS8qKg0KKwkgKiBDb25zdHJ1Y3RzIHRoZSBDdHhIZWxwT2JqZWN0
IGFuZCBpbml0aWFsaXplcyBpdHMgYXR0cmlidXRlcy4NCisJICogDQorCSAqIEBwYXJhbSBtb2Rl
bCBUaGUgbW9kZWwgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyBDdHhIZWxwT2JqZWN0DQorCSAqIEBw
YXJhbSB0YWdOYW1lIFRoZSB4bWwgdGFnIG5hbWUgZm9yIHRoaXMgb2JqZWN0DQorCSAqLw0KKwlw
dWJsaWMgQ3R4SGVscE9iamVjdChDdHhIZWxwTW9kZWwgbW9kZWwsIFN0cmluZyB0YWdOYW1lKSB7
DQorCQlzdXBlcihtb2RlbCwgdGFnTmFtZSk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0K
KwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuRG9jdW1lbnRFbGVt
ZW50Tm9kZSNnZXRBdHRyaWJ1dGVJbmRlbnQoKQ0KKwkgKi8NCisJcHJvdGVjdGVkIFN0cmluZyBn
ZXRBdHRyaWJ1dGVJbmRlbnQoKSB7DQorCQlyZXR1cm4gIlx0IjsgLy8kTk9OLU5MUy0xJA0KKwl9
DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuIHRoZSBjaGlsZHJlbiBvZiB0aGUgb2JqZWN0IG9yIGFu
IGVtcHR5IExpc3QgaWYgbm9uZSBleGlzdC4NCisJICovDQorCXB1YmxpYyBMaXN0IGdldENoaWxk
cmVuKCkgew0KKwkJLy9DcmVhdGUgYSBjb3B5IG9mIHRoZSBjaGlsZCBsaXN0IGluc3RlYWQgb2Yg
DQorCQkvL3JldHVybmluZyB0aGUgbGlzdCBpdHNlbGYuIFRoYXQgd2F5LCBvdXIgbGlzdA0KKwkJ
Ly9vZiBjaGlsZHJlbiBjYW5ub3QgYmUgYWx0ZXJlZCBmcm9tIG91dHNpZGUNCisJCUFycmF5TGlz
dCBsaXN0ID0gbmV3IEFycmF5TGlzdCgpOw0KKw0KKwkJLy8gQWRkIGNoaWxkcmVuIG9mIHRoaXMg
dG9waWMNCisJCUlEb2N1bWVudEVsZW1lbnROb2RlW10gY2hpbGROb2RlcyA9IGdldENoaWxkTm9k
ZXMoKTsNCisJCWlmIChjaGlsZE5vZGVzLmxlbmd0aCA+IDApIHsNCisJCQlmb3IgKGludCBpID0g
MDsgaSA8IGNoaWxkTm9kZXMubGVuZ3RoOyArK2kpIHsNCisJCQkJaWYgKGNoaWxkTm9kZXNbaV0g
aW5zdGFuY2VvZiBDdHhIZWxwT2JqZWN0KSB7DQorCQkJCQlsaXN0LmFkZChjaGlsZE5vZGVzW2ld
KTsNCisJCQkJfQ0KKwkJCX0NCisJCX0NCisNCisJCXJldHVybiBsaXN0Ow0KKwl9DQorDQorCS8q
IChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50
ZXh0LkRvY3VtZW50RWxlbWVudE5vZGUjaXNMZWFmTm9kZSgpDQorCSAqLw0KKwlwdWJsaWMgYm9v
bGVhbiBpc0xlYWZOb2RlKCkgew0KKwkJcmV0dXJuICFjYW5CZVBhcmVudCgpOw0KKwl9DQorDQor
CS8qKg0KKwkgKiBAcmV0dXJuIHRydWUgaWZmIHRoaXMgb2JqZWN0IGlzIGNhcGFibGUgb2YgY29u
dGFpbmluZyBjaGlsZHJlbi4NCisJICovDQorCXB1YmxpYyBhYnN0cmFjdCBib29sZWFuIGNhbkJl
UGFyZW50KCk7DQorDQorCXB1YmxpYyBhYnN0cmFjdCBib29sZWFuIGNhbkFkZENoaWxkKGludCBv
YmplY3RUeXBlKTsNCisNCisJcHVibGljIGFic3RyYWN0IGJvb2xlYW4gY2FuQWRkU2libGluZyhp
bnQgb2JqZWN0VHlwZSk7DQorDQorCS8vCXB1YmxpYyBhYnN0cmFjdCBib29sZWFuIGNhbkFkZFNp
YmxpbmcoaW50IG9iamVjdFR5cGUpOw0KKw0KKwlwdWJsaWMgdm9pZCBhZGRDaGlsZChDdHhIZWxw
T2JqZWN0IG5ld09iamVjdCwgQ3R4SGVscE9iamVjdCB0YXJnZXRTaWJsaW5nLCBib29sZWFuIGlu
c2VydEJlZm9yZSkgew0KKwkJaWYgKGNhbkFkZENoaWxkKG5ld09iamVjdC5nZXRUeXBlKCkpKSB7
DQorCQkJaW50IGN1cnJlbnRJbmRleCA9IGluZGV4T2YodGFyZ2V0U2libGluZyk7DQorCQkJaWYg
KCFpbnNlcnRCZWZvcmUpIHsNCisJCQkJY3VycmVudEluZGV4Kys7DQorCQkJfQ0KKwkJCWFkZENo
aWxkTm9kZShuZXdPYmplY3QsIGN1cnJlbnRJbmRleCwgdHJ1ZSk7DQorCQl9DQorCX0NCisNCisJ
cHVibGljIHZvaWQgYWRkQ2hpbGQoQ3R4SGVscE9iamVjdCBuZXdPYmplY3QpIHsNCisJCWlmIChj
YW5BZGRDaGlsZChuZXdPYmplY3QuZ2V0VHlwZSgpKSkgew0KKwkJCWFkZENoaWxkTm9kZShuZXdP
YmplY3QsIHRydWUpOw0KKwkJfQ0KKwl9DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuIHRoZSByb290
IG1vZGVsIG9iamVjdCB0aGF0IGlzIGFuIGFuY2VzdG9yIHRvIHRoaXMgb2JqZWN0Lg0KKwkgKi8N
CisJcHVibGljIEN0eEhlbHBNb2RlbCBnZXRNb2RlbCgpIHsNCisJCWZpbmFsIElNb2RlbCBzaGFy
ZWRNb2RlbCA9IGdldFNoYXJlZE1vZGVsKCk7DQorCQlpZiAoc2hhcmVkTW9kZWwgaW5zdGFuY2Vv
ZiBDdHhIZWxwTW9kZWwpIHsNCisJCQlyZXR1cm4gKEN0eEhlbHBNb2RlbCkgc2hhcmVkTW9kZWw7
DQorCQl9DQorCQlyZXR1cm4gbnVsbDsNCisJfQ0KKw0KKwkvKioNCisJICogQHJldHVybiB0aGUg
cm9vdCBlbGVtZW50IHRoYXQgaXMgYW4gYW5jZXN0b3IgdG8gdGhpcyBvYmplY3QuDQorCSAqLw0K
KwlwdWJsaWMgQ3R4SGVscFJvb3QgZ2V0Um9vdCgpIHsNCisJCWZpbmFsIEN0eEhlbHBNb2RlbCBt
b2RlbCA9IGdldE1vZGVsKCk7DQorCQlpZiAobW9kZWwgIT0gbnVsbCkgew0KKwkJCXJldHVybiBt
b2RlbC5nZXRDdHhIZWxwUm9vdCgpOw0KKwkJfQ0KKwkJcmV0dXJuIG51bGw7DQorCX0NCisNCisJ
LyoqDQorCSAqIEByZXR1cm4gdGhlIGlkZW50aWZpZXIgZm9yIHRoaXMgb2JqZWN0IHRvIGJlIHVz
ZWQgd2hlbiBkaXNwbGF5aW5nIHRoZSBlbGVtZW50IHRvIHRoZSB1c2VyDQorCSAqLw0KKwlwdWJs
aWMgYWJzdHJhY3QgU3RyaW5nIGdldE5hbWUoKTsNCisNCisJLyoqDQorCSAqIEdldCB0aGUgY29u
Y3JldGUgdHlwZSBvZiB0aGlzIG9iamVjdCwgbXVzdCBiZSBvbmUgb2YgdGhlIFRZUEUgY29uc3Rh
bnRzIGRlZmluZWQgaW4gSUN0eEhlbHBDb25zdGFudHMuDQorCSAqIEBzZWUgSUN0eEhlbHBDb25z
dGFudHMNCisJICovDQorCXB1YmxpYyBhYnN0cmFjdCBpbnQgZ2V0VHlwZSgpOw0KKw0KKwkvKioN
CisJICogQHJldHVybiB0aGUgcGFyZW50IG9mIHRoaXMgb2JqZWN0LCBvciA8Y29kZT5udWxsPC9j
b2RlPiBpZiB0aGVyZSBpcyBubyBwYXJlbnQuDQorCSAqLw0KKwlwdWJsaWMgQ3R4SGVscE9iamVj
dCBnZXRQYXJlbnQoKSB7DQorCQlJRG9jdW1lbnRFbGVtZW50Tm9kZSBwYXJlbnQgPSBnZXRQYXJl
bnROb2RlKCk7DQorCQlyZXR1cm4gcGFyZW50IGluc3RhbmNlb2YgQ3R4SGVscE9iamVjdCA/IChD
dHhIZWxwT2JqZWN0KSBwYXJlbnQgOiBudWxsOw0KKwl9DQorDQorCS8qKg0KKwkgKiBDaGVjayBp
ZiB0aGUgb2JqZWN0IGlzIGEgZGlyZWN0IG9yIGluZGlyZWN0IGRlc2NlbmRhbnQNCisJICogb2Yg
dGhlIG9iamVjdCBwYXJhbWV0ZXIuDQorCSAqIA0KKwkgKiBAcGFyYW0gb2JqIFRoZSBvYmplY3Qg
dG8gZmluZCBpbiB0aGlzIG9iamVjdCdzIGFuY2VzdHJ5DQorCSAqIEByZXR1cm4gdHJ1ZSBpZmYg
b2JqIGlzIGFuIGFuY2VzdG9yIG9mIHRoaXMgb2JqZWN0DQorCSAqLw0KKwlwdWJsaWMgYm9vbGVh
biBkZXNjZW5kc0Zyb20oQ3R4SGVscE9iamVjdCBvYmopIHsNCisJCWlmICh0aGlzLmVxdWFscyhv
YmopKSB7DQorCQkJcmV0dXJuIHRydWU7DQorCQl9DQorCQlpZiAoZ2V0UGFyZW50KCkgIT0gbnVs
bCAmJiBvYmouY2FuQmVQYXJlbnQoKSkgew0KKwkJCXJldHVybiBnZXRQYXJlbnQoKS5kZXNjZW5k
c0Zyb20ob2JqKTsNCisJCX0NCisJCXJldHVybiBmYWxzZTsNCisJfQ0KKw0KKwkvKioNCisJICog
QHBhcmFtIGN0eEhlbHBPYmplY3QgdGhlIGNoaWxkIHVzZWQgdG8gbG9jYXRlIGEgc2libGluZw0K
KwkgKiBAcmV0dXJuIHRoZSBvYmplY3QgcHJlY2VkaW5nIHRoZSBzcGVjaWZpZWQgb25lIGluIHRo
ZSBsaXN0IG9mIGNoaWxkcmVuDQorCSAqLw0KKwlwdWJsaWMgQ3R4SGVscE9iamVjdCBnZXRQcmV2
aW91c1NpYmxpbmcoQ3R4SGVscE9iamVjdCBjdHhIZWxwT2JqZWN0KSB7DQorCQlyZXR1cm4gKEN0
eEhlbHBPYmplY3QpIGdldFByZXZpb3VzU2libGluZyhjdHhIZWxwT2JqZWN0LCBDdHhIZWxwT2Jq
ZWN0LmNsYXNzKTsNCisJfQ0KKw0KKwkvKioNCisJICogQHBhcmFtIGN0eEhlbHBPYmplY3QgdGhl
IGNoaWxkIHVzZWQgdG8gbG9jYXRlIGEgc2libGluZw0KKwkgKiBAcmV0dXJuIHRoZSBvYmplY3Qg
cHJvY2VlZGluZyB0aGUgc3BlY2lmaWVkIG9uZSBpbiB0aGUgbGlzdCBvZiBjaGlsZHJlbg0KKwkg
Ki8NCisJcHVibGljIEN0eEhlbHBPYmplY3QgZ2V0TmV4dFNpYmxpbmcoQ3R4SGVscE9iamVjdCBj
dHhIZWxwT2JqZWN0KSB7DQorCQlyZXR1cm4gKEN0eEhlbHBPYmplY3QpIGdldE5leHRTaWJsaW5n
KGN0eEhlbHBPYmplY3QsIEN0eEhlbHBPYmplY3QuY2xhc3MpOw0KKwl9DQorDQorCS8qKg0KKwkg
KiBAcmV0dXJuIHRydWUgaWZmIGEgdGhpcyBvYmplY3QgY2FuIGJlIHJlbW92ZWQNCisJICovDQor
CXB1YmxpYyBib29sZWFuIGNhbkJlUmVtb3ZlZCgpIHsNCisJCWlmIChnZXRUeXBlKCkgPT0gVFlQ
RV9ST09UKSB7IC8vU2VtYW50aWMgUnVsZTogVGhlIHJvb3QgZWxlbWVudCBjYW4gbmV2ZXIgYmUg
cmVtb3ZlZA0KKwkJCXJldHVybiBmYWxzZTsNCisJCX0NCisJCXJldHVybiB0cnVlOw0KKwl9DQor
DQorCXB1YmxpYyB2b2lkIHJlbW92ZUNoaWxkKEN0eEhlbHBPYmplY3Qgb2JqZWN0KSB7DQorCQlp
ZiAob2JqZWN0LmNhbkJlUmVtb3ZlZCgpKSB7DQorCQkJcmVtb3ZlQ2hpbGROb2RlKG9iamVjdCwg
dHJ1ZSk7DQorCQl9DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5l
Y2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRvYy5Ub2NPYmplY3QjbW92ZUNoaWxkKG9yZy5lY2xp
cHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRvYy5Ub2NPYmplY3QsIGludCkNCisJICovDQorCXB1Ymxp
YyB2b2lkIG1vdmVDaGlsZChDdHhIZWxwT2JqZWN0IG9iamVjdCwgaW50IG5ld1JlbGF0aXZlSW5k
ZXgpIHsNCisJCW1vdmVDaGlsZE5vZGUob2JqZWN0LCBuZXdSZWxhdGl2ZUluZGV4LCB0cnVlKTsN
CisJfQ0KKw0KK30NCiNQIG9yZy5lY2xpcHNlLnBkZS51aQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBz
ZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9Ub2NGaWxlVmFsaWRhdG9yLmphdmENCj09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9vdC9lY2xpcHNlL29yZy5lY2xpcHNlLnBkZS51aS9zcmMv
b3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvVG9jRmlsZVZhbGlkYXRvci5q
YXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS40DQpkaWZmIC11IC1yMS40IFRvY0ZpbGVWYWxp
ZGF0b3IuamF2YQ0KLS0tIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3Rv
Yy9Ub2NGaWxlVmFsaWRhdG9yLmphdmEJMjMgQXVnIDIwMDcgMTI6Mjg6MjEgLTAwMDAJMS40DQor
Kysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL1RvY0ZpbGVWYWxp
ZGF0b3IuamF2YQkxMSBKYW4gMjAwOCAyMTo0MTowMCAtMDAwMA0KQEAgLTM3LDcgKzM3LDcgQEAN
CiAJICogQHNlZSBvcmcuZWNsaXBzZS51aS5kaWFsb2dzLklTZWxlY3Rpb25TdGF0dXNWYWxpZGF0
b3IjdmFsaWRhdGUoamF2YS5sYW5nLk9iamVjdFtdKQ0KIAkgKi8NCiAJcHVibGljIElTdGF0dXMg
dmFsaWRhdGUoT2JqZWN0W10gc2VsZWN0aW9uKSB7DQotCQkNCisNCiAJCS8vIEVuc3VyZSBzb21l
dGhpbmcgd2FzIHNlbGVjdGVkDQogCQlpZiAoc2VsZWN0aW9uLmxlbmd0aCA9PSAwKSB7DQogCQkJ
cmV0dXJuIGVycm9yU3RhdHVzKCIiKTsgLy8kTk9OLU5MUy0xJA0KQEAgLTQ2LDQ2ICs0NiwzNiBA
QA0KIAkJaWYgKChzZWxlY3Rpb25bMF0gaW5zdGFuY2VvZiBJRmlsZSkgPT0gZmFsc2UpIHsNCiAJ
CQlyZXR1cm4gZXJyb3JTdGF0dXMoIiIpOyAvLyROT04tTkxTLTEkDQogCQl9DQotCQlJRmlsZSBm
aWxlID0gKElGaWxlKXNlbGVjdGlvblswXTsNCisJCUlGaWxlIGZpbGUgPSAoSUZpbGUpIHNlbGVj
dGlvblswXTsNCiAJCS8vIEVuc3VyZSB3ZSBoYXZlIGEgVE9DIGZpbGUNCi0JCWlmICghVG9jRXh0
ZW5zaW9uVXRpbC5pc1RPQ0ZpbGUoZmlsZS5nZXRGdWxsUGF0aCgpKSkgew0KKwkJaWYgKCFIZWxw
RWRpdG9yVXRpbC5pc1RPQ0ZpbGUoZmlsZS5nZXRGdWxsUGF0aCgpKSkgew0KIAkJCXJldHVybiBl
cnJvclN0YXR1cyhQREVVSU1lc3NhZ2VzLlRvY0ZpbGVWYWxpZGF0b3JfZXJyb3JJbnZhbGlkVE9D
KTsNCiAJCX0NCi0JCQ0KKw0KIAkJLy9FbnN1cmUgdGhhdCB0aGUgVE9DIGZpbGUgc2VsZWN0ZWQg
aXNuJ3QgdGhlIGN1cnJlbnQgZmlsZQ0KLQkJaWYoVG9jRXh0ZW5zaW9uVXRpbC5pc0N1cnJlbnRS
ZXNvdXJjZShmaWxlLmdldEZ1bGxQYXRoKCksIGZNb2RlbCkpDQotCQl7CXJldHVybiBlcnJvclN0
YXR1cyhQREVVSU1lc3NhZ2VzLlRvY0ZpbGVWYWxpZGF0b3JfZXJyb3JTYW1lVE9DKTsNCisJCWlm
IChIZWxwRWRpdG9yVXRpbC5pc0N1cnJlbnRSZXNvdXJjZShmaWxlLmdldEZ1bGxQYXRoKCksIGZN
b2RlbCkpIHsNCisJCQlyZXR1cm4gZXJyb3JTdGF0dXMoUERFVUlNZXNzYWdlcy5Ub2NGaWxlVmFs
aWRhdG9yX2Vycm9yU2FtZVRPQyk7DQogCQl9DQogDQogCQkvLyBJZiB3ZSBnb3QgdGhpcyBmYXIs
IHdlIGhhdmUgYSB2YWxpZCBmaWxlDQogCQlyZXR1cm4gb2tTdGF0dXMoIiIpOyAvLyROT04tTkxT
LTEkDQotCQkNCisNCiAJfQ0KLQkNCisNCiAJLyoqDQogCSAqIEBwYXJhbSBtZXNzYWdlDQogCSAq
IEByZXR1cm4NCiAJICovDQogCXByaXZhdGUgSVN0YXR1cyBlcnJvclN0YXR1cyhTdHJpbmcgbWVz
c2FnZSkgew0KLQkJcmV0dXJuIG5ldyBTdGF0dXMoDQotCQkJCUlTdGF0dXMuRVJST1IsDQotCQkJ
CVBERVBsdWdpbi5nZXRQbHVnaW5JZCgpLA0KLQkJCQlJU3RhdHVzLkVSUk9SLA0KLQkJCQltZXNz
YWdlLA0KLQkJCQludWxsKTsNCisJCXJldHVybiBuZXcgU3RhdHVzKElTdGF0dXMuRVJST1IsIFBE
RVBsdWdpbi5nZXRQbHVnaW5JZCgpLCBJU3RhdHVzLkVSUk9SLCBtZXNzYWdlLCBudWxsKTsNCiAJ
fQ0KLQkNCisNCiAJLyoqDQogCSAqIEBwYXJhbSBtZXNzYWdlDQogCSAqIEByZXR1cm4NCiAJICov
DQogCXByaXZhdGUgSVN0YXR1cyBva1N0YXR1cyhTdHJpbmcgbWVzc2FnZSkgew0KLQkJcmV0dXJu
IG5ldyBTdGF0dXMoDQotCQkJCUlTdGF0dXMuT0ssDQotCQkJCVBERVBsdWdpbi5nZXRQbHVnaW5J
ZCgpLA0KLQkJCQlJU3RhdHVzLk9LLA0KLQkJCQltZXNzYWdlLCANCi0JCQkJbnVsbCk7CQkNCisJ
CXJldHVybiBuZXcgU3RhdHVzKElTdGF0dXMuT0ssIFBERVBsdWdpbi5nZXRQbHVnaW5JZCgpLCBJ
U3RhdHVzLk9LLCBtZXNzYWdlLCBudWxsKTsNCiAJfQ0KIA0KIH0NCkluZGV4OiBzcmMvb3JnL2Vj
bGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvVG9jVHJlZVNlY3Rpb24uamF2YQ0KPT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlwc2UucGRlLnVpL3Ny
Yy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9Ub2NUcmVlU2VjdGlvbi5q
YXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS4xMQ0KZGlmZiAtdSAtcjEuMTEgVG9jVHJlZVNl
Y3Rpb24uamF2YQ0KLS0tIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3Rv
Yy9Ub2NUcmVlU2VjdGlvbi5qYXZhCTI5IEF1ZyAyMDA3IDE1OjI5OjM0IC0wMDAwCTEuMTENCisr
KyBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvVG9jVHJlZVNlY3Rp
b24uamF2YQkxMSBKYW4gMjAwOCAyMTo0MTowMCAtMDAwMA0KQEAgLTczNiwxNCArNzM2LDE0IEBA
DQogCQlTdHJpbmcgbWVzc2FnZSA9IG51bGw7DQogDQogCQlpZih0b2NGaWxlKQ0KLQkJewlpZihU
b2NFeHRlbnNpb25VdGlsLmlzVE9DRmlsZShwYXRoKSkNCisJCXsJaWYoSGVscEVkaXRvclV0aWwu
aXNUT0NGaWxlKHBhdGgpKQ0KIAkJCXsJcmV0dXJuIHRydWU7DQogCQkJfQ0KIA0KIAkJCW1lc3Nh
Z2UgPSBQREVVSU1lc3NhZ2VzLlRvY1BhZ2VfaW52YWxpZFRvY0ZpbGU7DQogCQl9DQogCQllbHNl
DQotCQl7CWlmKFRvY0V4dGVuc2lvblV0aWwuaGFzVmFsaWRQYWdlRXh0ZW5zaW9uKHBhdGgpKQ0K
KwkJewlpZihIZWxwRWRpdG9yVXRpbC5oYXNWYWxpZFBhZ2VFeHRlbnNpb24ocGF0aCkpDQogCQkJ
ewlyZXR1cm4gdHJ1ZTsNCiAJCQl9DQogCQkNCkBAIC04OTcsMTIgKzg5NywxMiBAQA0KIAkJCQkv
LyBJZiB0aGUgcGF0aCBpcyB0byBhIHZhbGlkIFRPQyBmaWxlDQogCQkJCS8vIGFuZCBpdCBpc24n
dCB0aGUgZmlsZSBpbiB0aGlzIG1vZGVsDQogCQkJCS8vIHRoZW4gbWFrZSBhIGxpbmsNCi0JCQkJ
aWYoVG9jRXh0ZW5zaW9uVXRpbC5pc1RPQ0ZpbGUocGF0aCkgDQotCQkJCQkJJiYgIVRvY0V4dGVu
c2lvblV0aWwuaXNDdXJyZW50UmVzb3VyY2UocGF0aCwgZk1vZGVsKSkNCisJCQkJaWYoSGVscEVk
aXRvclV0aWwuaXNUT0NGaWxlKHBhdGgpIA0KKwkJCQkJCSYmICFIZWxwRWRpdG9yVXRpbC5pc0N1
cnJlbnRSZXNvdXJjZShwYXRoLCBmTW9kZWwpKQ0KIAkJCQl7CXRvY09iamVjdHMuYWRkKG1ha2VO
ZXdUb2NMaW5rKHRhcmdldFBhcmVudCwgZmlsZSkpOw0KIAkJCQl9DQogCQkJCS8vIElmIHRoZSBw
YXRoIGlzIHRvIGEgZmlsZSB3aXRoIGFuIEhUTUwgcGFnZSBleHRlbnNpb24sIG1ha2UgYSB0b3Bp
Yw0KLQkJCQllbHNlIGlmKFRvY0V4dGVuc2lvblV0aWwuaGFzVmFsaWRQYWdlRXh0ZW5zaW9uKHBh
dGgpKQ0KKwkJCQllbHNlIGlmKEhlbHBFZGl0b3JVdGlsLmhhc1ZhbGlkUGFnZUV4dGVuc2lvbihw
YXRoKSkNCiAJCQkJewlUb2NUb3BpYyB0b3BpYyA9IG1ha2VOZXdUb2NUb3BpYyh0YXJnZXRQYXJl
bnQsIGZpbGUpOyANCiAJCQkJCVN0cmluZyB0aXRsZSA9IGdlbmVyYXRlVGl0bGUodGFyZ2V0UGFy
ZW50LCBwYXRoKTsNCiANCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2Vk
aXRvci90b2MvVG9jRXh0ZW5zaW9uVXRpbC5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogc3Jj
L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL1RvY0V4dGVuc2lvblV0aWwu
amF2YQ0KZGlmZiAtTiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2Mv
VG9jRXh0ZW5zaW9uVXRpbC5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91
aS9lZGl0b3IvdG9jL1RvY0V4dGVuc2lvblV0aWwuamF2YQkyOSBBdWcgMjAwNyAxNToyOTozNCAt
MDAwMAkxLjYNCisrKyAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAgLTEs
MTA1ICswLDAgQEANCi0vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KLSAqIENvcHlyaWdodCAoYykg
MjAwNyBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCi0gKiBBbGwgcmlnaHRzIHJlc2VydmVk
LiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQotICogYXJlIG1h
ZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5z
ZSB2MS4wDQotICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBh
dmFpbGFibGUgYXQNCi0gKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRt
bA0KLSAqDQotICogQ29udHJpYnV0b3JzOg0KLSAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0
aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCi0gKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCi0N
Ci1wYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IudG9jOw0KLQ0KLWlt
cG9ydCBqYXZhLnV0aWwuSGFzaFNldDsNCi1pbXBvcnQgamF2YS51dGlsLkxvY2FsZTsNCi0NCi1p
bXBvcnQgb3JnLmVjbGlwc2UuY29yZS5yZXNvdXJjZXMuSUZpbGU7DQotaW1wb3J0IG9yZy5lY2xp
cHNlLmNvcmUucmVzb3VyY2VzLklSZXNvdXJjZTsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5y
ZXNvdXJjZXMuSVdvcmtzcGFjZVJvb3Q7DQotaW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3Vy
Y2VzLlJlc291cmNlc1BsdWdpbjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLklQ
YXRoOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5wZGUuY29yZS5JQmFzZU1vZGVsOw0KLWltcG9ydCBv
cmcuZWNsaXBzZS5wZGUuY29yZS5JTW9kZWw7DQotaW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC5jb3JlLml0b2MuSVRvY0NvbnN0YW50czsNCi1pbXBvcnQgb3JnLmVjbGlwc2UucGRlLmlu
dGVybmFsLnVpLnV0aWwuWE1MUm9vdEVsZW1lbnRNYXRjaGVyOw0KLQ0KLXB1YmxpYyBjbGFzcyBU
b2NFeHRlbnNpb25VdGlsIHsNCi0JcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmdbXSBwYWdlRXh0
ZW5zaW9ucyA9IHsiaHRtIiwic2h0bWwiLCJodG1sIiwieGh0bWwifTsgLy8kTk9OLU5MUy0xJCAv
LyROT04tTkxTLTIkIC8vJE5PTi1OTFMtMyQgLy8kTk9OLU5MUy00JA0KLQlwdWJsaWMgc3RhdGlj
IGZpbmFsIFN0cmluZyB0b2NFeHRlbnNpb24gPSAieG1sIjsgLy8kTk9OLU5MUy0xJA0KLQlwcml2
YXRlIHN0YXRpYyBIYXNoU2V0IHBhZ2VFeHRlbnNpb25TZXQgPSBuZXcgSGFzaFNldChwYWdlRXh0
ZW5zaW9ucy5sZW5ndGgpOw0KLQ0KLQlwcml2YXRlIHN0YXRpYyB2b2lkIHBvcHVsYXRlSGFzaFNl
dCgpDQotCXsJZm9yKGludCBpID0gMDsgaSA8IHBhZ2VFeHRlbnNpb25zLmxlbmd0aDsgKytpKQ0K
LQkJewlwYWdlRXh0ZW5zaW9uU2V0LmFkZChwYWdlRXh0ZW5zaW9uc1tpXSk7DQotCQl9DQotCX0N
Ci0JDQotCXB1YmxpYyBzdGF0aWMgYm9vbGVhbiBoYXNWYWxpZFBhZ2VFeHRlbnNpb24oSVBhdGgg
cGF0aCkNCi0JewlTdHJpbmcgZmlsZUV4dGVuc2lvbiA9IHBhdGguZ2V0RmlsZUV4dGVuc2lvbigp
OwkNCi0JCWlmKGZpbGVFeHRlbnNpb24gIT0gbnVsbCkNCi0JCXsJZmlsZUV4dGVuc2lvbiA9IGZp
bGVFeHRlbnNpb24udG9Mb3dlckNhc2UoTG9jYWxlLkVOR0xJU0gpOw0KLQkJCWlmKHBhZ2VFeHRl
bnNpb25TZXQuaXNFbXB0eSgpKQ0KLQkJCXsJcG9wdWxhdGVIYXNoU2V0KCk7DQotCQkJfQ0KLQkJ
CQ0KLQkJCXJldHVybiBwYWdlRXh0ZW5zaW9uU2V0LmNvbnRhaW5zKGZpbGVFeHRlbnNpb24pOw0K
LQkJfQ0KLQ0KLQkJcmV0dXJuIGZhbHNlOw0KLQl9DQotDQotCXByaXZhdGUgc3RhdGljIGJvb2xl
YW4gaGFzVmFsaWRUb2NFeHRlbnNpb24oSVBhdGggcGF0aCkNCi0JewlTdHJpbmcgZmlsZUV4dGVu
c2lvbiA9IHBhdGguZ2V0RmlsZUV4dGVuc2lvbigpOw0KLQkJcmV0dXJuIGZpbGVFeHRlbnNpb24g
IT0gbnVsbCAmJiBmaWxlRXh0ZW5zaW9uLmVxdWFscyh0b2NFeHRlbnNpb24pOyANCi0JfQ0KLQ0K
LQkvKioNCi0JICogQHBhcmFtIGZpbGUNCi0JICovDQotCXB1YmxpYyBzdGF0aWMgYm9vbGVhbiBp
c1RPQ0ZpbGUoSVBhdGggcGF0aCkgew0KLQkJaWYoIWhhc1ZhbGlkVG9jRXh0ZW5zaW9uKHBhdGgp
KQ0KLQkJCXJldHVybiBmYWxzZTsNCi0JCQ0KLQkJSVdvcmtzcGFjZVJvb3Qgcm9vdCA9IFJlc291
cmNlc1BsdWdpbi5nZXRXb3Jrc3BhY2UoKS5nZXRSb290KCk7DQotDQotCQlJUmVzb3VyY2UgcmVz
b3VyY2UgPSByb290LmZpbmRNZW1iZXIocGF0aCk7DQotCQlpZihyZXNvdXJjZSAhPSBudWxsICYm
IHJlc291cmNlIGluc3RhbmNlb2YgSUZpbGUpDQotCQl7CXJldHVybiBYTUxSb290RWxlbWVudE1h
dGNoZXIuZmlsZU1hdGNoZXNFbGVtZW50KChJRmlsZSlyZXNvdXJjZSwgSVRvY0NvbnN0YW50cy5F
TEVNRU5UX1RPQyk7DQotCQl9DQotDQotCQlyZXR1cm4gWE1MUm9vdEVsZW1lbnRNYXRjaGVyLmZp
bGVNYXRjaGVzRWxlbWVudChwYXRoLnRvRmlsZSgpLCBJVG9jQ29uc3RhbnRzLkVMRU1FTlRfVE9D
KTsNCi0JfQ0KLQ0KLQlwdWJsaWMgc3RhdGljIGJvb2xlYW4gaXNDdXJyZW50UmVzb3VyY2UoSVBh
dGggcGF0aCwgSUJhc2VNb2RlbCBtb2RlbCkNCi0JewlpZihtb2RlbCBpbnN0YW5jZW9mIElNb2Rl
bCkNCi0JCXsJSVBhdGggd29ya3NwYWNlUGF0aCA9IFJlc291cmNlc1BsdWdpbi5nZXRXb3Jrc3Bh
Y2UoKS5nZXRSb290KCkuZ2V0TG9jYXRpb24oKTsNCi0JCQlJUGF0aCBmdWxsUGF0aDsJDQotDQot
CQkJaWYod29ya3NwYWNlUGF0aC5pc1ByZWZpeE9mKHBhdGgpKQ0KLQkJCXsJZnVsbFBhdGggPSAo
KElNb2RlbCltb2RlbCkuZ2V0VW5kZXJseWluZ1Jlc291cmNlKCkuZ2V0TG9jYXRpb24oKTsJDQot
CQkJfQ0KLQkJCWVsc2UNCi0JCQl7CWZ1bGxQYXRoID0gKChJTW9kZWwpbW9kZWwpLmdldFVuZGVy
bHlpbmdSZXNvdXJjZSgpLmdldEZ1bGxQYXRoKCk7DQotCQkJfQ0KLQ0KLQkJCXJldHVybiBmdWxs
UGF0aC5lcXVhbHMocGF0aCk7DQotCQl9DQotDQotCQlyZXR1cm4gZmFsc2U7DQotCX0NCi0NCi0J
cHVibGljIHN0YXRpYyBTdHJpbmcgZ2V0UGFnZUV4dGVuc2lvbkxpc3QoKSB7DQotCQlTdHJpbmdC
dWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOw0KLQ0KLQkJZm9yKGludCBpID0gMDsgaSA8
IHBhZ2VFeHRlbnNpb25zLmxlbmd0aDsgKytpKQ0KLQkJewlidWYuYXBwZW5kKCcuJyk7DQotCQkJ
YnVmLmFwcGVuZChwYWdlRXh0ZW5zaW9uc1tpXSk7DQotCQkJaWYoaSAhPSBwYWdlRXh0ZW5zaW9u
cy5sZW5ndGggLSAxKQ0KLQkJCXsJYnVmLmFwcGVuZCgiLCAiKTsgLy8kTk9OLU5MUy0xJA0KLQkJ
CX0NCi0JCX0NCi0NCi0JCXJldHVybiBidWYudG9TdHJpbmcoKTsNCi0JfQ0KLX0NCkluZGV4OiBz
cmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvVG9jRHJvcEFkYXB0ZXIu
amF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlwc2Uu
cGRlLnVpL3NyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9Ub2NEcm9w
QWRhcHRlci5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS42DQpkaWZmIC11IC1yMS42IFRv
Y0Ryb3BBZGFwdGVyLmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2Vk
aXRvci90b2MvVG9jRHJvcEFkYXB0ZXIuamF2YQkyNCBBdWcgMjAwNyAxODoyMjo0MiAtMDAwMAkx
LjYNCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvVG9jRHJv
cEFkYXB0ZXIuamF2YQkxMSBKYW4gMjAwOCAyMTo0MTowMCAtMDAwMA0KQEAgLTE3NSwxNCArMTc1
LDE0IEBADQogCQkJCQlyZXR1cm47DQogCQkJCX0NCiANCi0JCQkJaWYoIVRvY0V4dGVuc2lvblV0
aWwuaGFzVmFsaWRQYWdlRXh0ZW5zaW9uKHBhdGgpDQotCQkJCQkmJiAhVG9jRXh0ZW5zaW9uVXRp
bC5pc1RPQ0ZpbGUocGF0aCkpDQorCQkJCWlmKCFIZWxwRWRpdG9yVXRpbC5oYXNWYWxpZFBhZ2VF
eHRlbnNpb24ocGF0aCkNCisJCQkJCSYmICFIZWxwRWRpdG9yVXRpbC5pc1RPQ0ZpbGUocGF0aCkp
DQogCQkJCXsJZXZlbnQuZGV0YWlsID0gRE5ELkRST1BfTk9ORTsNCiAJCQkJCXJldHVybjsNCiAJ
CQkJfQ0KIA0KIAkJCQkvLyBNYWtlIHN1cmUgdGhhdCB0aGUgdXNlciBpc24ndCBkcm9wcGluZyBh
IFRPQyBpbnRvIGl0c2VsZg0KLQkJCQlpZihUb2NFeHRlbnNpb25VdGlsLmlzQ3VycmVudFJlc291
cmNlKHBhdGgsIG1vZGVsKSkNCisJCQkJaWYoSGVscEVkaXRvclV0aWwuaXNDdXJyZW50UmVzb3Vy
Y2UocGF0aCwgbW9kZWwpKQ0KIAkJCQl7CWV2ZW50LmRldGFpbCA9IERORC5EUk9QX05PTkU7DQog
CQkJCQlyZXR1cm47DQogCQkJCX0NCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFs
L3VpL2VkaXRvci90b2MvZGV0YWlscy9Ub2NQYWdlRmlsdGVyLmphdmENCj09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJD
UyBmaWxlOiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvZGV0YWls
cy9Ub2NQYWdlRmlsdGVyLmphdmENCmRpZmYgLU4gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5h
bC91aS9lZGl0b3IvdG9jL2RldGFpbHMvVG9jUGFnZUZpbHRlci5qYXZhDQotLS0gc3JjL29yZy9l
Y2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL2RldGFpbHMvVG9jUGFnZUZpbHRlci5q
YXZhCTMxIEp1bCAyMDA3IDE4OjIyOjM0IC0wMDAwCTEuMg0KKysrIC9kZXYvbnVsbAkxIEphbiAx
OTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMSw1MCArMCwwIEBADQotLyoqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioNCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDcgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMu
DQotICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55
aW5nIG1hdGVyaWFscw0KLSAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2Yg
dGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KLSAqIHdoaWNoIGFjY29tcGFuaWVzIHRo
aXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQotICogaHR0cDovL3d3dy5lY2xp
cHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCi0gKg0KLSAqIENvbnRyaWJ1dG9yczoNCi0gKiAg
ICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQotICoq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKiovDQotDQotcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwudWkuZWRpdG9yLnRvYy5kZXRhaWxzOw0KLQ0KLWltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJl
c291cmNlcy5JQ29udGFpbmVyOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJlc291cmNlcy5J
RmlsZTsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5yZXNvdXJjZXMuSVByb2plY3Q7DQotaW1w
b3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLklSZXNvdXJjZTsNCi1pbXBvcnQgb3JnLmVj
bGlwc2UuY29yZS5ydW50aW1lLkNvcmVFeGNlcHRpb247DQotaW1wb3J0IG9yZy5lY2xpcHNlLmNv
cmUucnVudGltZS5JUGF0aDsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy5WaWV3
ZXI7DQotaW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnZpZXdlcnMuVmlld2VyRmlsdGVyOw0KLWlt
cG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLnRvYy5Ub2NFeHRlbnNpb25V
dGlsOw0KLQ0KLXB1YmxpYyBjbGFzcyBUb2NQYWdlRmlsdGVyIGV4dGVuZHMgVmlld2VyRmlsdGVy
DQotewlwdWJsaWMgYm9vbGVhbiBzZWxlY3QoVmlld2VyIHZpZXdlciwgT2JqZWN0IHBhcmVudCwg
T2JqZWN0IGVsZW1lbnQpDQotCXsJaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBJRmlsZSkNCi0JCXsJ
SVBhdGggcGF0aCA9ICgoSUZpbGUpZWxlbWVudCkuZ2V0RnVsbFBhdGgoKTsNCi0NCi0JCQlyZXR1
cm4gVG9jRXh0ZW5zaW9uVXRpbC5oYXNWYWxpZFBhZ2VFeHRlbnNpb24ocGF0aCk7DQotCQl9DQot
DQotCQlpZiAoZWxlbWVudCBpbnN0YW5jZW9mIElQcm9qZWN0ICYmICEoKElQcm9qZWN0KWVsZW1l
bnQpLmlzT3BlbigpKQ0KLQkJewlyZXR1cm4gZmFsc2U7DQotCQl9DQotDQotCQlpZiAoZWxlbWVu
dCBpbnN0YW5jZW9mIElDb250YWluZXIpDQotCQl7CXRyeSB7DQotCQkJCUlSZXNvdXJjZVtdIHJl
c291cmNlcyA9ICgoSUNvbnRhaW5lcillbGVtZW50KS5tZW1iZXJzKCk7DQotCQkJCWZvciAoaW50
IGkgPSAwOyBpIDwgcmVzb3VyY2VzLmxlbmd0aDsgaSsrKXsNCi0JCQkJCWlmIChzZWxlY3Qodmll
d2VyLCBwYXJlbnQsIHJlc291cmNlc1tpXSkpDQotCQkJCQl7CXJldHVybiB0cnVlOw0KLQkJCQkJ
fQ0KLQkJCQl9DQotCQkJfSBjYXRjaCAoQ29yZUV4Y2VwdGlvbiBlKSB7DQotCQkJfQ0KLQkJfQ0K
LQ0KLQkJcmV0dXJuIGZhbHNlOw0KLQl9DQotfQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9wZGUv
aW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9kZXRhaWxzL1RvY0RldGFpbHMuamF2YQ0KPT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlwc2UucGRlLnVpL3NyYy9vcmcv
ZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9kZXRhaWxzL1RvY0RldGFpbHMuamF2
YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuMw0KZGlmZiAtdSAtcjEuMyBUb2NEZXRhaWxzLmph
dmENCi0tLSBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvZGV0YWls
cy9Ub2NEZXRhaWxzLmphdmEJMjIgQXVnIDIwMDcgMTI6NTI6NDMgLTAwMDAJMS4zDQorKysgc3Jj
L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL2RldGFpbHMvVG9jRGV0YWls
cy5qYXZhCTExIEphbiAyMDA4IDIxOjQxOjAwIC0wMDAwDQpAQCAtMTg5LDcgKzE4OSw3IEBADQog
CQlkaWFsb2cuc2V0QWxsb3dNdWx0aXBsZShmYWxzZSk7DQogCQlkaWFsb2cuc2V0VGl0bGUoUERF
VUlNZXNzYWdlcy5Ub2NEZXRhaWxzX2Jyb3dzZVNlbGVjdGlvbik7ICANCiAJCWRpYWxvZy5zZXRN
ZXNzYWdlKFBERVVJTWVzc2FnZXMuVG9jRGV0YWlsc19icm93c2VNZXNzYWdlKTsgIA0KLQkJZGlh
bG9nLmFkZEZpbHRlcihuZXcgVG9jUGFnZUZpbHRlcigpKTsNCisJCWRpYWxvZy5hZGRGaWx0ZXIo
bmV3IEhlbHBFZGl0b3JGaWx0ZXIoKSk7DQogCQkNCiAJCWRpYWxvZy5zZXRJbnB1dChQREVQbHVn
aW4uZ2V0V29ya3NwYWNlKCkuZ2V0Um9vdCgpKTsNCiANCkluZGV4OiBzcmMvb3JnL2VjbGlwc2Uv
cGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvZGV0YWlscy9Ub2NMaW5rRGV0YWlscy5qYXZhDQo9
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9vcmcuZWNsaXBzZS5wZGUudWkv
c3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL2RldGFpbHMvVG9jTGlu
a0RldGFpbHMuamF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuNQ0KZGlmZiAtdSAtcjEuNSBU
b2NMaW5rRGV0YWlscy5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9l
ZGl0b3IvdG9jL2RldGFpbHMvVG9jTGlua0RldGFpbHMuamF2YQkyMyBBdWcgMjAwNyAxMjoyODoy
MSAtMDAwMAkxLjUNCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90
b2MvZGV0YWlscy9Ub2NMaW5rRGV0YWlscy5qYXZhCTExIEphbiAyMDA4IDIxOjQxOjAwIC0wMDAw
DQpAQCAtMTksNyArMTksNyBAQA0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWku
UERFUGx1Z2luOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuUERFVUlNZXNz
YWdlczsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5Gb3JtRW50
cnlBZGFwdGVyOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLnRv
Yy5Ub2NFeHRlbnNpb25VdGlsOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWku
ZWRpdG9yLnRvYy5IZWxwRWRpdG9yVXRpbDsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVy
bmFsLnVpLmVkaXRvci50b2MuVG9jRmlsZVZhbGlkYXRvcjsNCiBpbXBvcnQgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLnVpLmVkaXRvci50b2MuVG9jSW5wdXRDb250ZXh0Ow0KIGltcG9ydCBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLnRvYy5Ub2NUcmVlU2VjdGlvbjsNCkBAIC0x
MzUsNyArMTM1LDcgQEANCiAJCWRpYWxvZy5zZXRBbGxvd011bHRpcGxlKGZhbHNlKTsNCiAJCWRp
YWxvZy5zZXRUaXRsZShQREVVSU1lc3NhZ2VzLlRvY0xpbmtEZXRhaWxzX2Jyb3dzZVNlbGVjdGlv
bik7ICANCiAJCWRpYWxvZy5zZXRNZXNzYWdlKFBERVVJTWVzc2FnZXMuVG9jTGlua0RldGFpbHNf
YnJvd3NlTWVzc2FnZSk7DQotCQlkaWFsb2cuYWRkRmlsdGVyKG5ldyBGaWxlRXh0ZW5zaW9uRmls
dGVyKFRvY0V4dGVuc2lvblV0aWwudG9jRXh0ZW5zaW9uKSk7DQorCQlkaWFsb2cuYWRkRmlsdGVy
KG5ldyBGaWxlRXh0ZW5zaW9uRmlsdGVyKEhlbHBFZGl0b3JVdGlsLnRvY0V4dGVuc2lvbikpOw0K
IA0KIAkJZGlhbG9nLnNldElucHV0KFBERVBsdWdpbi5nZXRXb3Jrc3BhY2UoKS5nZXRSb290KCkp
Ow0KIA0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9k
ZXRhaWxzL1RvY1RvcGljRGV0YWlscy5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jv
b3QvZWNsaXBzZS9vcmcuZWNsaXBzZS5wZGUudWkvc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5h
bC91aS9lZGl0b3IvdG9jL2RldGFpbHMvVG9jVG9waWNEZXRhaWxzLmphdmEsdg0KcmV0cmlldmlu
ZyByZXZpc2lvbiAxLjQNCmRpZmYgLXUgLXIxLjQgVG9jVG9waWNEZXRhaWxzLmphdmENCi0tLSBz
cmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvZGV0YWlscy9Ub2NUb3Bp
Y0RldGFpbHMuamF2YQkyMiBBdWcgMjAwNyAxMjo1Mjo0MyAtMDAwMAkxLjQNCisrKyBzcmMvb3Jn
L2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvZGV0YWlscy9Ub2NUb3BpY0RldGFp
bHMuamF2YQkxMSBKYW4gMjAwOCAyMTo0MTowMCAtMDAwMA0KQEAgLTE1OSw3ICsxNTksNyBAQA0K
IAkJZGlhbG9nLnNldEFsbG93TXVsdGlwbGUoZmFsc2UpOw0KIAkJZGlhbG9nLnNldFRpdGxlKFBE
RVVJTWVzc2FnZXMuVG9jRGV0YWlsc19icm93c2VTZWxlY3Rpb24pOyAgDQogCQlkaWFsb2cuc2V0
TWVzc2FnZShQREVVSU1lc3NhZ2VzLlRvY0RldGFpbHNfYnJvd3NlTWVzc2FnZSk7ICANCi0JCWRp
YWxvZy5hZGRGaWx0ZXIobmV3IFRvY1BhZ2VGaWx0ZXIoKSk7DQorCQlkaWFsb2cuYWRkRmlsdGVy
KG5ldyBIZWxwRWRpdG9yRmlsdGVyKCkpOw0KIAkJDQogCQlkaWFsb2cuc2V0SW5wdXQoUERFUGx1
Z2luLmdldFdvcmtzcGFjZSgpLmdldFJvb3QoKSk7DQogDQpJbmRleDogc3JjL29yZy9lY2xpcHNl
L3BkZS9pbnRlcm5hbC91aS9JUERFVUlDb25zdGFudHMuamF2YQ0KPT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZp
bGU6IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlwc2UucGRlLnVpL3NyYy9vcmcvZWNsaXBzZS9w
ZGUvaW50ZXJuYWwvdWkvSVBERVVJQ29uc3RhbnRzLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lv
biAxLjI5DQpkaWZmIC11IC1yMS4yOSBJUERFVUlDb25zdGFudHMuamF2YQ0KLS0tIHNyYy9vcmcv
ZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvSVBERVVJQ29uc3RhbnRzLmphdmEJMjggQXVnIDIwMDcg
MTU6MTg6MTUgLTAwMDAJMS4yOQ0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkv
SVBERVVJQ29uc3RhbnRzLmphdmEJMTEgSmFuIDIwMDggMjE6NDA6NTkgLTAwMDANCkBAIC0xLDUg
KzEsNSBAQA0KIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQotICogQ29weXJpZ2h0IChjKSAyMDAw
LCAyMDA3IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIENvcHlyaWdodCAoYykgMjAw
MCwgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCiAgKiBBbGwgcmlnaHRzIHJlc2Vy
dmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQogICogYXJl
IG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGlj
ZW5zZSB2MS4wDQogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBp
cyBhdmFpbGFibGUgYXQNCkBAIC0yNCwzMyArMjQsMjkgQEANCiAJU3RyaW5nIFNJTVBMRV9DSEVB
VF9TSEVFVF9FRElUT1JfSUQgPSBQTFVHSU5fSUQgKyAiLnNpbXBsZUNoZWF0U2hlZXRFZGl0b3Ii
OyAvLyROT04tTkxTLTEkDQogCVN0cmluZyBDT01QT1NJVEVfQ0hFQVRfU0hFRVRfRURJVE9SX0lE
ID0gUExVR0lOX0lEICsgIi5jb21wb3NpdGVDaGVhdFNoZWV0RWRpdG9yIjsgLy8kTk9OLU5MUy0x
JA0KIAlTdHJpbmcgVEFCTEVfT0ZfQ09OVEVOVFNfRURJVE9SX0lEID0gUExVR0lOX0lEICsgIi50
b2NFZGl0b3IiOyAvLyROT04tTkxTLTEkDQorCVN0cmluZyBDT05URVhUX0hFTFBfRURJVE9SX0lE
ID0gUExVR0lOX0lEICsgIi5oZWxwQ29udGV4dEVkaXRvciI7IC8vJE5PTi1OTFMtMSQNCiAJU3Ry
aW5nIFRBUkdFVF9FRElUT1JfSUQgPSBQTFVHSU5fSUQgKyAiLnRhcmdldEVkaXRvciI7IC8vJE5P
Ti1OTFMtMSQNCiAJU3RyaW5nIFBMVUdJTlNfVklFV19JRCA9ICJvcmcuZWNsaXBzZS5wZGUudWku
UGx1Z2luc1ZpZXciOyAvLyROT04tTkxTLTEkDQogCVN0cmluZyBERVBFTkRFTkNJRVNfVklFV19J
RCA9ICJvcmcuZWNsaXBzZS5wZGUudWkuRGVwZW5kZW5jaWVzVmlldyI7IC8vJE5PTi1OTFMtMSQN
CiAJU3RyaW5nIFBFUlNQRUNUSVZFX0lEID0gIm9yZy5lY2xpcHNlLnBkZS51aS5QREVQZXJzcGVj
dGl2ZSI7IC8vJE5PTi1OTFMtMSQNCi0JDQorDQogCVN0cmluZyBSVU5fTEFVTkNIRVJfSUQgPSBQ
TFVHSU5fSUQgKyAiLiIgKyAiV29ya2JlbmNoUnVuTGF1bmNoZXIiOyAvLyROT04tTkxTLTEkIC8v
JE5PTi1OTFMtMiQNCiAJU3RyaW5nIERFQlVHX0xBVU5DSEVSX0lEID0gUExVR0lOX0lEICsgIi4i
ICsgIldvcmtiZW5jaERlYnVnTGF1bmNoZXIiOyAvLyROT04tTkxTLTEkIC8vJE5PTi1OTFMtMiQN
Ci0JU3RyaW5nIE1BUktFUl9TWVNURU1fRklMRV9QQVRIID0gUExVR0lOX0lEICsgIi4iKyAic3lz
dGVtRmlsZVBhdGgiOyAvLyROT04tTkxTLTEkIC8vJE5PTi1OTFMtMiQNCisJU3RyaW5nIE1BUktF
Ul9TWVNURU1fRklMRV9QQVRIID0gUExVR0lOX0lEICsgIi4iICsgInN5c3RlbUZpbGVQYXRoIjsg
Ly8kTk9OLU5MUy0xJCAvLyROT04tTkxTLTIkDQogDQotCVF1YWxpZmllZE5hbWUgUFJPUEVSVFlf
RURJVE9SX1BBR0VfS0VZID0NCi0JCW5ldyBRdWFsaWZpZWROYW1lKFBMVUdJTl9JRCwgImVkaXRv
ci1wYWdlLWtleSIpOwkgLy8kTk9OLU5MUy0xJA0KLQlRdWFsaWZpZWROYW1lIFBST1BFUlRZX01B
TklGRVNUX0VESVRPUl9QQUdFX0tFWSA9DQotCQluZXcgUXVhbGlmaWVkTmFtZShQTFVHSU5fSUQs
ICJtYW5pZmVzdC1lZGl0b3ItcGFnZS1rZXkiKTsJIC8vJE5PTi1OTFMtMSQNCi0JUXVhbGlmaWVk
TmFtZSBERUZBVUxUX1BST0RVQ1RfRVhQT1JUX0xPQ0FUSU9OID0NCi0JCW5ldyBRdWFsaWZpZWRO
YW1lKFBMVUdJTl9JRCwgInByb2R1Y3QtZXhwb3J0LWxvY2F0aW9uIik7CSAvLyROT04tTkxTLTEk
DQotCVF1YWxpZmllZE5hbWUgREVGQVVMVF9QUk9EVUNUX0VYUE9SVF9ESVIgPQ0KLQkJbmV3IFF1
YWxpZmllZE5hbWUoUExVR0lOX0lELCAicHJvZHVjdC1leHBvcnQtdHlwZSIpOwkgLy8kTk9OLU5M
Uy0xJA0KLQlRdWFsaWZpZWROYW1lIERFRkFVTFRfUFJPRFVDVF9FWFBPUlRfUk9PVCA9DQotCQlu
ZXcgUXVhbGlmaWVkTmFtZShQTFVHSU5fSUQsICJwcm9kdWN0LWV4cG9ydC1yb290Iik7CSAvLyRO
T04tTkxTLTEkDQorCVF1YWxpZmllZE5hbWUgUFJPUEVSVFlfRURJVE9SX1BBR0VfS0VZID0gbmV3
IFF1YWxpZmllZE5hbWUoUExVR0lOX0lELCAiZWRpdG9yLXBhZ2Uta2V5Iik7IC8vJE5PTi1OTFMt
MSQNCisJUXVhbGlmaWVkTmFtZSBQUk9QRVJUWV9NQU5JRkVTVF9FRElUT1JfUEFHRV9LRVkgPSBu
ZXcgUXVhbGlmaWVkTmFtZShQTFVHSU5fSUQsICJtYW5pZmVzdC1lZGl0b3ItcGFnZS1rZXkiKTsg
Ly8kTk9OLU5MUy0xJA0KKwlRdWFsaWZpZWROYW1lIERFRkFVTFRfUFJPRFVDVF9FWFBPUlRfTE9D
QVRJT04gPSBuZXcgUXVhbGlmaWVkTmFtZShQTFVHSU5fSUQsICJwcm9kdWN0LWV4cG9ydC1sb2Nh
dGlvbiIpOyAvLyROT04tTkxTLTEkDQorCVF1YWxpZmllZE5hbWUgREVGQVVMVF9QUk9EVUNUX0VY
UE9SVF9ESVIgPSBuZXcgUXVhbGlmaWVkTmFtZShQTFVHSU5fSUQsICJwcm9kdWN0LWV4cG9ydC10
eXBlIik7IC8vJE5PTi1OTFMtMSQNCisJUXVhbGlmaWVkTmFtZSBERUZBVUxUX1BST0RVQ1RfRVhQ
T1JUX1JPT1QgPSBuZXcgUXVhbGlmaWVkTmFtZShQTFVHSU5fSUQsICJwcm9kdWN0LWV4cG9ydC1y
b290Iik7IC8vJE5PTi1OTFMtMSQNCiANCiAJU3RyaW5nIFBMVUdJTl9ET0NfUk9PVCA9ICIvb3Jn
LmVjbGlwc2UucGRlLmRvYy51c2VyLyI7IC8vJE5PTi1OTFMtMSQNCi0JCQ0KKw0KIAkvLyBKVW5p
dCBhcHBsaWNhdGlvbiBpZGVudGlmaWVycw0KIAlTdHJpbmcgTEVHQUNZX1VJX1RFU1RfQVBQTElD
QVRJT04gPSAib3JnLmVjbGlwc2UucGRlLmp1bml0LnJ1bnRpbWUubGVnYWN5dGVzdGFwcGxpY2F0
aW9uIjsgLy8kTk9OLU5MUy0xJA0KIAlTdHJpbmcgVUlfVEVTVF9BUFBMSUNBVElPTiA9ICJvcmcu
ZWNsaXBzZS5wZGUuanVuaXQucnVudGltZS51aXRlc3RhcHBsaWNhdGlvbiI7IC8vJE5PTi1OTFMt
MSQNCiAJU3RyaW5nIENPUkVfVEVTVF9BUFBMSUNBVElPTiA9ICJvcmcuZWNsaXBzZS5wZGUuanVu
aXQucnVudGltZS5jb3JldGVzdGFwcGxpY2F0aW9uIjsgLy8kTk9OLU5MUy0xJA0KLQkNCisNCiAJ
LyoqDQogCSAqIExhdW5jaCBjb25maWd1cmF0aW9uIGF0dHJpYnV0ZSBrZXkuICBUaGUgdmFsdWUg
aXMgYSBib29sZWFuIHNwZWNpZmllcw0KIAkgKiB3aGV0aGVyIHRoZSBsYXVuY2ggY29uZmlndXJh
dGlvbiBpcyBiZWluZyByZXN0YXJ0ZWQuICBUaGlzIGRvZXMgbm90IG5lZWQgdG8gDQpAQCAtNjks
NSArNjUsNSBAQA0KIAlTdHJpbmcgTEFVTkNIRVJfUERFX1ZFUlNJT04gPSAicGRlLnZlcnNpb24i
OyAvLyROT04tTkxTLTEkDQogCVN0cmluZyBBUFBFTkRfQVJHU19FWFBMSUNJVExZID0gImFwcGVu
ZC5hcmdzIjsgLy8kTk9OLU5MUy0xJA0KIAlTdHJpbmcgR0VORVJBVEVEX0NPTkZJRyA9ICJwZGUu
Z2VuZXJhdGVkLmNvbmZpZyI7IC8vJE5PTi1OTFMtMSQNCi0JDQorDQogfQ0KSW5kZXg6IHNyYy9v
cmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvUERFUGx1Z2luSW1hZ2VzLmphdmENCj09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT0NClJDUyBmaWxlOiAvY3Zzcm9vdC9lY2xpcHNlL29yZy5lY2xpcHNlLnBkZS51aS9zcmMvb3Jn
L2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL1BERVBsdWdpbkltYWdlcy5qYXZhLHYNCnJldHJpZXZp
bmcgcmV2aXNpb24gMS4xMDQNCmRpZmYgLXUgLXIxLjEwNCBQREVQbHVnaW5JbWFnZXMuamF2YQ0K
LS0tIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvUERFUGx1Z2luSW1hZ2VzLmphdmEJ
MTkgTm92IDIwMDcgMTk6MDY6NTUgLTAwMDAJMS4xMDQNCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRl
L2ludGVybmFsL3VpL1BERVBsdWdpbkltYWdlcy5qYXZhCTExIEphbiAyMDA4IDIxOjQxOjAwIC0w
MDAwDQpAQCAtMTEsNyArMTEsNiBAQA0KIHBhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LnVpOw0KIA0KIGltcG9ydCBqYXZhLm5ldC5VUkw7DQotDQogaW1wb3J0IG9yZy5lY2xpcHNlLmNv
cmUucnVudGltZS5GaWxlTG9jYXRvcjsNCiBpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1l
LlBhdGg7DQogaW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnJlc291cmNlLkltYWdlRGVzY3JpcHRv
cjsNCkBAIC0yMywyMCArMjIsMjAgQEANCiAgKi8NCiBwdWJsaWMgY2xhc3MgUERFUGx1Z2luSW1h
Z2VzIHsNCiANCi0JcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIE5BTUVfUFJFRklYPSBQREVQ
bHVnaW4uZ2V0UGx1Z2luSWQoKSsiLiI7IC8vJE5PTi1OTFMtMSQNCisJcHJpdmF0ZSBzdGF0aWMg
ZmluYWwgU3RyaW5nIE5BTUVfUFJFRklYID0gUERFUGx1Z2luLmdldFBsdWdpbklkKCkgKyAiLiI7
IC8vJE5PTi1OTFMtMSQNCiANCiAJcHJpdmF0ZSBzdGF0aWMgSW1hZ2VSZWdpc3RyeSBQTFVHSU5f
UkVHSVNUUlk7DQotCQ0KKw0KIAlwdWJsaWMgZmluYWwgc3RhdGljIFN0cmluZyBJQ09OU19QQVRI
ID0gImljb25zLyI7IC8vJE5PTi1OTFMtMSQNCiANCiAJLyoqDQogCSAqIFNldCBvZiBwcmVkZWZp
bmVkIEltYWdlIERlc2NyaXB0b3JzLg0KIAkgKi8NCi0JDQotCXByaXZhdGUgc3RhdGljIGZpbmFs
IFN0cmluZyBQQVRIX09CSj0gSUNPTlNfUEFUSCsib2JqMTYvIjsgLy8kTk9OLU5MUy0xJA0KLQlw
cml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgUEFUSF9WSUVXID0gSUNPTlNfUEFUSCsidmlldzE2
LyI7IC8vJE5PTi1OTFMtMSQNCi0JcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFBBVEhfTENM
PSBJQ09OU19QQVRIKyJlbGNsMTYvIjsgLy8kTk9OLU5MUy0xJA0KLQlwcml2YXRlIHN0YXRpYyBm
aW5hbCBTdHJpbmcgUEFUSF9MQ0xfRElTQUJMRUQ9IElDT05TX1BBVEgrImRsY2wxNi8iOyAvLyRO
T04tTkxTLTEkDQorDQorCXByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBQQVRIX09CSiA9IElD
T05TX1BBVEggKyAib2JqMTYvIjsgLy8kTk9OLU5MUy0xJA0KKwlwcml2YXRlIHN0YXRpYyBmaW5h
bCBTdHJpbmcgUEFUSF9WSUVXID0gSUNPTlNfUEFUSCArICJ2aWV3MTYvIjsgLy8kTk9OLU5MUy0x
JA0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBTdHJpbmcgUEFUSF9MQ0wgPSBJQ09OU19QQVRIICsg
ImVsY2wxNi8iOyAvLyROT04tTkxTLTEkDQorCXByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBQ
QVRIX0xDTF9ESVNBQkxFRCA9IElDT05TX1BBVEggKyAiZGxjbDE2LyI7IC8vJE5PTi1OTFMtMSQN
CiAJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU3RyaW5nIFBBVEhfVE9PTCA9IElDT05TX1BBVEggKyAi
ZXRvb2wxNi8iOyAvLyROT04tTkxTLTEkDQogCXByaXZhdGUgc3RhdGljIGZpbmFsIFN0cmluZyBQ
QVRIX09WUiA9IElDT05TX1BBVEggKyAib3ZyMTYvIjsgLy8kTk9OLU5MUy0xJA0KIAlwcml2YXRl
IHN0YXRpYyBmaW5hbCBTdHJpbmcgUEFUSF9XSVpCQU4gPSBJQ09OU19QQVRIICsgIndpemJhbi8i
OyAvLyROT04tTkxTLTEkDQpAQCAtNDQsNDkgKzQzLDQ5IEBADQogCS8qKg0KIAkgKiBGcmVxdWVu
dGx5IHVzZWQgaW1hZ2VzDQogCSAqLw0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBJTUdf
Rk9STV9XSVogPSBOQU1FX1BSRUZJWCsiRk9STV9XSVoiOyAvLyROT04tTkxTLTEkDQotCXB1Ymxp
YyBzdGF0aWMgZmluYWwgU3RyaW5nIElNR19GT1JNX0JBTk5FUiA9IE5BTUVfUFJFRklYKyJGT1JN
X0JBTk5FUiI7IC8vJE5PTi1OTFMtMSQNCisJcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgSU1H
X0ZPUk1fV0laID0gTkFNRV9QUkVGSVggKyAiRk9STV9XSVoiOyAvLyROT04tTkxTLTEkDQorCXB1
YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIElNR19GT1JNX0JBTk5FUiA9IE5BTUVfUFJFRklYICsg
IkZPUk1fQkFOTkVSIjsgLy8kTk9OLU5MUy0xJA0KIAlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmlu
ZyBJTUdfQVRUX0NMQVNTX09CSiA9IE5BTUVfUFJFRklYICsgIklNR19BVFRfQ0xBU1NfT0JKIjsg
Ly8kTk9OLU5MUy0xJA0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBJTUdfQVRUX0ZJTEVf
T0JKICA9IE5BTUVfUFJFRklYICsgIklNR19BVFRfRklMRV9PQkoiOyAvLyROT04tTkxTLTEkDQot
CXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIElNR19BVFRfSU1QTF9PQkogID0gTkFNRV9QUkVG
SVggKyAiSU1HX0FUVF9JTVBMX09CSiI7IC8vJE5PTi1OTFMtMSQNCi0JcHVibGljIHN0YXRpYyBm
aW5hbCBTdHJpbmcgSU1HX0FUVF9SRVFfT0JKICAgPSBOQU1FX1BSRUZJWCArICJJTUdfQVRUX1JF
UV9PQkoiOyAvLyROT04tTkxTLTEkDQotCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIElNR19H
RU5FUklDX1hNTF9PQkogID0gTkFNRV9QUkVGSVggKyAiSU1HX0dFTkVSSUNfWE1MX09CSiI7IC8v
JE5PTi1OTFMtMSQNCi0JcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgT0JKX0RFU0NfR0VORVJB
VEVfQ0xBU1MgID0gTkFNRV9QUkVGSVggKyAiT0JKX0RFU0NfR0VORVJBVEVfQ0xBU1MiOyAvLyRO
T04tTkxTLTEkDQotCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIE9CSl9ERVNDX0dFTkVSQVRF
X0lOVEVSRkFDRSAgPSBOQU1FX1BSRUZJWCArICJPQkpfREVTQ19HRU5FUkFURV9JTlRFUkZBQ0Ui
OyAvLyROT04tTkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIElNR19BVFRfRklM
RV9PQkogPSBOQU1FX1BSRUZJWCArICJJTUdfQVRUX0ZJTEVfT0JKIjsgLy8kTk9OLU5MUy0xJA0K
KwlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBJTUdfQVRUX0lNUExfT0JKID0gTkFNRV9QUkVG
SVggKyAiSU1HX0FUVF9JTVBMX09CSiI7IC8vJE5PTi1OTFMtMSQNCisJcHVibGljIHN0YXRpYyBm
aW5hbCBTdHJpbmcgSU1HX0FUVF9SRVFfT0JKID0gTkFNRV9QUkVGSVggKyAiSU1HX0FUVF9SRVFf
T0JKIjsgLy8kTk9OLU5MUy0xJA0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBJTUdfR0VO
RVJJQ19YTUxfT0JKID0gTkFNRV9QUkVGSVggKyAiSU1HX0dFTkVSSUNfWE1MX09CSiI7IC8vJE5P
Ti1OTFMtMSQNCisJcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgT0JKX0RFU0NfR0VORVJBVEVf
Q0xBU1MgPSBOQU1FX1BSRUZJWCArICJPQkpfREVTQ19HRU5FUkFURV9DTEFTUyI7IC8vJE5PTi1O
TFMtMSQNCisJcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgT0JKX0RFU0NfR0VORVJBVEVfSU5U
RVJGQUNFID0gTkFNRV9QUkVGSVggKyAiT0JKX0RFU0NfR0VORVJBVEVfSU5URVJGQUNFIjsgLy8k
Tk9OLU5MUy0xJA0KIAlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBPQkpfREVTQ19QQUNLQUdF
ID0gTkFNRV9QUkVGSVggKyAiT0JKX0RFU0NfUEFDS0FHRSI7IC8vJE5PTi1OTFMtMSQNCiAJcHVi
bGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgT0JKX0RFU0NfQlVORExFID0gTkFNRV9QUkVGSVggKyAi
T0JKX0RFU0NfQlVORExFIjsgLy8kTk9OLU5MUy0xJA0KLQkNCisNCiAJLyoqDQogCSAqIE9CSjE2
DQogCSAqLw0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX01BSU5f
VEFCICA9IGNyZWF0ZShQQVRIX09CSiwgIm1haW5fdGFiLmdpZiIpOyAvLyROT04tTkxTLTEkDQot
CXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfQUxMX1NDX09CSiAgICA9
IGNyZWF0ZShQQVRIX09CSiwgImFsbF9zY19vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCisJcHVi
bGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19NQUlOX1RBQiA9IGNyZWF0ZShQ
QVRIX09CSiwgIm1haW5fdGFiLmdpZiIpOyAvLyROT04tTkxTLTEkDQorCXB1YmxpYyBzdGF0aWMg
ZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfQUxMX1NDX09CSiA9IGNyZWF0ZShQQVRIX09CSiwg
ImFsbF9zY19vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCiAJcHVibGljIHN0YXRpYyBmaW5hbCBJ
bWFnZURlc2NyaXB0b3IgREVTQ19BVFRfQ0xBU1NfT0JKID0gY3JlYXRlKFBBVEhfT0JKLCAiYXR0
X2NsYXNzX29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIElt
YWdlRGVzY3JpcHRvciBERVNDX0FUVF9GSUxFX09CSiAgPSBjcmVhdGUoUEFUSF9PQkosICJhdHRf
ZmlsZV9vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCi0JcHVibGljIHN0YXRpYyBmaW5hbCBJbWFn
ZURlc2NyaXB0b3IgREVTQ19BVFRfSU1QTF9PQkogID0gY3JlYXRlKFBBVEhfT0JKLCAiYXR0X2lt
cGxfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQotCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VE
ZXNjcmlwdG9yIERFU0NfQVRUX1JFUV9PQkogICA9IGNyZWF0ZShQQVRIX09CSiwgImF0dF9yZXFf
b2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQotCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNj
cmlwdG9yIERFU0NfQVRUX1VSSV9PQkogICA9IGNyZWF0ZShQQVRIX09CSiwgImF0dF9VUklfb2Jq
LmdpZiIpOyAvLyROT04tTkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlw
dG9yIERFU0NfQVRUX0ZJTEVfT0JKID0gY3JlYXRlKFBBVEhfT0JKLCAiYXR0X2ZpbGVfb2JqLmdp
ZiIpOyAvLyROT04tTkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9y
IERFU0NfQVRUX0lNUExfT0JKID0gY3JlYXRlKFBBVEhfT0JKLCAiYXR0X2ltcGxfb2JqLmdpZiIp
OyAvLyROT04tTkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERF
U0NfQVRUX1JFUV9PQkogPSBjcmVhdGUoUEFUSF9PQkosICJhdHRfcmVxX29iai5naWYiKTsgLy8k
Tk9OLU5MUy0xJA0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0FU
VF9VUklfT0JKID0gY3JlYXRlKFBBVEhfT0JKLCAiYXR0X1VSSV9vYmouZ2lmIik7IC8vJE5PTi1O
TFMtMSQNCiAJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19CVU5ETEVf
T0JKID0gY3JlYXRlKFBBVEhfT0JKLCAiYnVuZGxlX29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0K
IAlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0NIT0lDRV9TQ19PQkog
PSBjcmVhdGUoUEFUSF9PQkosICJjaG9pY2Vfc2Nfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQot
CXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfRkVBVFVSRV9KQVJfT0JK
ICA9IGNyZWF0ZShQQVRIX09CSiwgImZ0cl9qYXJfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQot
CXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfRkVBVFVSRV9NRl9PQkog
ICA9IGNyZWF0ZShQQVRIX09CSiwgImZ0cl9tZl9vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCi0J
cHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19GRUFUVVJFX09CSiAgID0g
Y3JlYXRlKFBBVEhfT0JKLCAiZmVhdHVyZV9vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCisJcHVi
bGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19GRUFUVVJFX0pBUl9PQkogPSBj
cmVhdGUoUEFUSF9PQkosICJmdHJfamFyX29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KKwlwdWJs
aWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0ZFQVRVUkVfTUZfT0JKID0gY3Jl
YXRlKFBBVEhfT0JKLCAiZnRyX21mX29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KKwlwdWJsaWMg
c3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0ZFQVRVUkVfT0JKID0gY3JlYXRlKFBB
VEhfT0JKLCAiZmVhdHVyZV9vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCiAJcHVibGljIHN0YXRp
YyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19OT1JFRl9GRUFUVVJFX09CSiA9IGNyZWF0ZShQ
QVRIX09CSiwgIm5vcmVmX2ZlYXR1cmVfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQotCXB1Ymxp
YyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfRUxSRUZfU0NfT0JKICA9IGNyZWF0
ZShQQVRIX09CSiwgImVscmVmX3NjX29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KKwlwdWJsaWMg
c3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0VMUkVGX1NDX09CSiA9IGNyZWF0ZShQ
QVRIX09CSiwgImVscmVmX3NjX29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KIAlwdWJsaWMgc3Rh
dGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0VYVEVOU0lPTlNfT0JKID0gY3JlYXRlKFBB
VEhfT0JKLCAiZXh0ZW5zaW9uc19vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCiAJcHVibGljIHN0
YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19FWFRFTlNJT05fT0JKID0gY3JlYXRlKFBB
VEhfT0JKLCAiZXh0ZW5zaW9uX29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KLQlwdWJsaWMgc3Rh
dGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0VYVF9QTFVHSU5fT0JKICAgPSBjcmVhdGUo
UEFUSF9PQkosICJleHRfcGx1Z2luX29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KLQlwdWJsaWMg
c3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0VYVF9GUkFHTUVOVF9PQkogICA9IGNy
ZWF0ZShQQVRIX09CSiwgImV4dGVybmFsX2ZyZ210X29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0K
LQlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0VYVF9QT0lOVFNfT0JK
ICAgPSBjcmVhdGUoUEFUSF9PQkosICJleHRfcG9pbnRzX29iai5naWYiKTsgLy8kTk9OLU5MUy0x
JA0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0VYVF9QT0lOVF9P
QkogICA9IGNyZWF0ZShQQVRIX09CSiwgImV4dF9wb2ludF9vYmouZ2lmIik7IC8vJE5PTi1OTFMt
MSQNCi0JcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19HRUxfU0NfT0JK
ICAgID0gY3JlYXRlKFBBVEhfT0JKLCAiZ2VsX3NjX29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0K
KwlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0VYVF9QTFVHSU5fT0JK
ID0gY3JlYXRlKFBBVEhfT0JKLCAiZXh0X3BsdWdpbl9vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQN
CisJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19FWFRfRlJBR01FTlRf
T0JKID0gY3JlYXRlKFBBVEhfT0JKLCAiZXh0ZXJuYWxfZnJnbXRfb2JqLmdpZiIpOyAvLyROT04t
TkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfRVhUX1BP
SU5UU19PQkogPSBjcmVhdGUoUEFUSF9PQkosICJleHRfcG9pbnRzX29iai5naWYiKTsgLy8kTk9O
LU5MUy0xJA0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0VYVF9Q
T0lOVF9PQkogPSBjcmVhdGUoUEFUSF9PQkosICJleHRfcG9pbnRfb2JqLmdpZiIpOyAvLyROT04t
TkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfR0VMX1ND
X09CSiA9IGNyZWF0ZShQQVRIX09CSiwgImdlbF9zY19vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQN
CiAJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19HRU5FUklDX1hNTF9P
QkogPSBjcmVhdGUoUEFUSF9PQkosICJnZW5lcmljX3htbF9vYmouZ2lmIik7IC8vJE5PTi1OTFMt
MSQNCi0JcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19HUk9VUF9TQ19P
QkogICA9IGNyZWF0ZShQQVRIX09CSiwgImdyb3VwX3NjX29iai5naWYiKTsgLy8kTk9OLU5MUy0x
JA0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0pBUl9PQkogICA9
IGNyZWF0ZShQQVRIX09CSiwgImphcl9vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCi0JcHVibGlj
IHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19KQVJfTElCX09CSiAgID0gY3JlYXRl
KFBBVEhfT0JKLCAiamFyX2xfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQotCXB1YmxpYyBzdGF0
aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfSkFWQV9MSUJfT0JKICAgPSBjcmVhdGUoUEFU
SF9PQkosICJqYXZhX2xpYl9vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCi0JcHVibGljIHN0YXRp
YyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19PVkVSVklFV19PQkogID0gY3JlYXRlKFBBVEhf
T0JKLCAib3ZlcnZpZXdfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQotCXB1YmxpYyBzdGF0aWMg
ZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfUEFHRV9PQkogICA9IGNyZWF0ZShQQVRIX09CSiwg
InBhZ2Vfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1h
Z2VEZXNjcmlwdG9yIERFU0NfR1JPVVBfU0NfT0JKID0gY3JlYXRlKFBBVEhfT0JKLCAiZ3JvdXBf
c2Nfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VE
ZXNjcmlwdG9yIERFU0NfSkFSX09CSiA9IGNyZWF0ZShQQVRIX09CSiwgImphcl9vYmouZ2lmIik7
IC8vJE5PTi1OTFMtMSQNCisJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVT
Q19KQVJfTElCX09CSiA9IGNyZWF0ZShQQVRIX09CSiwgImphcl9sX29iai5naWYiKTsgLy8kTk9O
LU5MUy0xJA0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0pBVkFf
TElCX09CSiA9IGNyZWF0ZShQQVRIX09CSiwgImphdmFfbGliX29iai5naWYiKTsgLy8kTk9OLU5M
Uy0xJA0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX09WRVJWSUVX
X09CSiA9IGNyZWF0ZShQQVRIX09CSiwgIm92ZXJ2aWV3X29iai5naWYiKTsgLy8kTk9OLU5MUy0x
JA0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX1BBR0VfT0JKID0g
Y3JlYXRlKFBBVEhfT0JKLCAicGFnZV9vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCiAJcHVibGlj
IHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19QTFVHSU5fTUZfT0JKID0gY3JlYXRl
KFBBVEhfT0JKLCAicGx1Z2luX21mX29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KIAlwdWJsaWMg
c3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0ZSQUdNRU5UX01GX09CSiA9IGNyZWF0
ZShQQVRIX09CSiwgImZyZ210X21mX29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KIAlwdWJsaWMg
c3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0JVSUxEX1ZBUl9PQkogPSBjcmVhdGUo
UEFUSF9PQkosICJidWlsZF92YXJfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQpAQCAtMTA1LDI5
ICsxMDQsMzMgQEANCiAJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19D
U0NPTkNMVVNJT05fT0JKID0gY3JlYXRlKFBBVEhfT0JKLCAiY2hlYXRzaGVldF9jb25jbHVzaW9u
X29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KIAlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVz
Y3JpcHRvciBERVNDX0NTVU5TVVBQT1JURURfT0JKID0gY3JlYXRlKFBBVEhfT0JKLCAiY2hlYXRz
aGVldF91bnN1cHBvcnRlZF9vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCiAJcHVibGljIHN0YXRp
YyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19DSEVBVFNIRUVUX09CSiA9IGNyZWF0ZShQQVRI
X09CSiwgImNoZWF0c2hlZXRfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQotCQ0KKw0KIAlwdWJs
aWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX1RPQ19PQkogPSBjcmVhdGUoUEFU
SF9PQkosICJ0b2Nfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQogCXB1YmxpYyBzdGF0aWMgZmlu
YWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfVE9DX1RPUElDX09CSiA9IGNyZWF0ZShQQVRIX09CSiwg
InRvY190b3BpY19vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCiAJcHVibGljIHN0YXRpYyBmaW5h
bCBJbWFnZURlc2NyaXB0b3IgREVTQ19UT0NfTEVBRlRPUElDX09CSiA9IGNyZWF0ZShQQVRIX09C
SiwgInRvY19sZWFmdG9waWNfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQogCXB1YmxpYyBzdGF0
aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfVE9DX0xJTktfT0JKID0gY3JlYXRlKFBBVEhf
T0JKLCAidG9jX2xpbmtfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQogCXB1YmxpYyBzdGF0aWMg
ZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfVE9DX0FOQ0hPUl9PQkogPSBjcmVhdGUoUEFUSF9P
QkosICJ0b2NfYW5jaG9yX29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KLQkNCisNCisJcHVibGlj
IHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19DVFhIRUxQX0NPTlRFWFRfT0JKID0g
Y3JlYXRlKFBBVEhfT0JKLCAiY3R4aGVscF9jb250ZXh0X29iai5naWYiKTsgLy8kTk9OLU5MUy0x
JA0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0NUWEhFTFBfREVT
Q19PQkogPSBjcmVhdGUoUEFUSF9PQkosICJjdHhoZWxwX2Rlc2Nfb2JqLmdpZiIpOyAvLyROT04t
TkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfQ1RYSEVM
UF9DT01NQU5EX09CSiA9IGNyZWF0ZShQQVRIX09CSiwgImN0eGhlbHBfY29tbWFuZF9vYmouZ2lm
Iik7IC8vJE5PTi1OTFMtMSQNCisNCiAJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0
b3IgREVTQ19DT01HUk9VUF9PQkogPSBjcmVhdGUoUEFUSF9PQkosICJrZXlncm91cHNfb2JqLmdp
ZiIpOyAvLyROT04tTkxTLTEkDQogCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9y
IERFU0NfR0VOQ09NX09CSiA9IGNyZWF0ZShQQVRIX09CSiwgImNvbW1hbmRfb2JqLmdpZiIpOyAv
LyROT04tTkxTLTEkDQotCQ0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBE
RVNDX1BMVUdJTl9PQkogICA9IGNyZWF0ZShQQVRIX09CSiwgInBsdWdpbl9vYmouZ2lmIik7IC8v
JE5PTi1OTFMtMSQNCi0JcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19Q
TFVHSU5fRElTX09CSiAgID0gY3JlYXRlKFBBVEhfT0JKLCAicGx1Z2luX2Rpc19vYmouZ2lmIik7
IC8vJE5PTi1OTFMtMSQNCisNCisJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3Ig
REVTQ19QTFVHSU5fT0JKID0gY3JlYXRlKFBBVEhfT0JKLCAicGx1Z2luX29iai5naWYiKTsgLy8k
Tk9OLU5MUy0xJA0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX1BM
VUdJTl9ESVNfT0JKID0gY3JlYXRlKFBBVEhfT0JKLCAicGx1Z2luX2Rpc19vYmouZ2lmIik7IC8v
JE5PTi1OTFMtMSQNCiAJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19P
UEVSQVRJTkdfU1lTVEVNX09CSiA9IGNyZWF0ZShQQVRIX09CSiwgIm9wZXJhdGluZ19zeXN0ZW1f
b2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQotCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNj
cmlwdG9yIERFU0NfU0VUVElOR1NfT0JKICAgPSBjcmVhdGUoUEFUSF9PQkosICJzZXR0aW5ncy5n
aWYiKTsgLy8kTk9OLU5MUy0xJA0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRv
ciBERVNDX0ZSQUdNRU5UX09CSiAgID0gY3JlYXRlKFBBVEhfT0JKLCAiZnJnbXRfb2JqLmdpZiIp
OyAvLyROT04tTkxTLTEkDQotCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERF
U0NfRlJBR01FTlRfRElTX09CSiAgID0gY3JlYXRlKFBBVEhfT0JKLCAiZnJnbXRfZGlzX29iai5n
aWYiKTsgLy8kTk9OLU5MUy0xJA0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRv
ciBERVNDX1JFUV9QTFVHSU5TX09CSiAgID0gY3JlYXRlKFBBVEhfT0JKLCAicmVxX3BsdWdpbnNf
b2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQotCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNj
cmlwdG9yIERFU0NfRlJBR01FTlRTX09CSiAgID0gY3JlYXRlKFBBVEhfT0JKLCAiZnJnbXRzX29i
ai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3Jp
cHRvciBERVNDX1JFUV9QTFVHSU5fT0JKICAgPSBjcmVhdGUoUEFUSF9PQkosICJyZXFfcGx1Z2lu
X29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVz
Y3JpcHRvciBERVNDX1JVTlRJTUVfT0JKICAgPSBjcmVhdGUoUEFUSF9PQkosICJydW50aW1lX29i
ai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3Jp
cHRvciBERVNDX1NDSEVNQV9PQkogICA9IGNyZWF0ZShQQVRIX09CSiwgInNjaGVtYV9vYmouZ2lm
Iik7IC8vJE5PTi1OTFMtMSQNCisJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3Ig
REVTQ19TRVRUSU5HU19PQkogPSBjcmVhdGUoUEFUSF9PQkosICJzZXR0aW5ncy5naWYiKTsgLy8k
Tk9OLU5MUy0xJA0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0ZS
QUdNRU5UX09CSiA9IGNyZWF0ZShQQVRIX09CSiwgImZyZ210X29iai5naWYiKTsgLy8kTk9OLU5M
Uy0xJA0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0ZSQUdNRU5U
X0RJU19PQkogPSBjcmVhdGUoUEFUSF9PQkosICJmcmdtdF9kaXNfb2JqLmdpZiIpOyAvLyROT04t
TkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfUkVRX1BM
VUdJTlNfT0JKID0gY3JlYXRlKFBBVEhfT0JKLCAicmVxX3BsdWdpbnNfb2JqLmdpZiIpOyAvLyRO
T04tTkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfRlJB
R01FTlRTX09CSiA9IGNyZWF0ZShQQVRIX09CSiwgImZyZ210c19vYmouZ2lmIik7IC8vJE5PTi1O
TFMtMSQNCisJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19SRVFfUExV
R0lOX09CSiA9IGNyZWF0ZShQQVRIX09CSiwgInJlcV9wbHVnaW5fb2JqLmdpZiIpOyAvLyROT04t
TkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfUlVOVElN
RV9PQkogPSBjcmVhdGUoUEFUSF9PQkosICJydW50aW1lX29iai5naWYiKTsgLy8kTk9OLU5MUy0x
JA0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX1NDSEVNQV9PQkog
PSBjcmVhdGUoUEFUSF9PQkosICJzY2hlbWFfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQogCXB1
YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfU0NPTVBfSkFSX09CSiA9IGNy
ZWF0ZShQQVRIX09CSiwgInNjb21wX2phcl9vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCi0JcHVi
bGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19TRVFfU0NfT0JKICAgPSBjcmVh
dGUoUEFUSF9PQkosICJzZXFfc2Nfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQorCXB1YmxpYyBz
dGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfU0VRX1NDX09CSiA9IGNyZWF0ZShQQVRI
X09CSiwgInNlcV9zY19vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCiAJcHVibGljIHN0YXRpYyBm
aW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19ET0NfU0VDVElPTl9PQkogPSBjcmVhdGUoUEFUSF9P
QkosICJkb2Nfc2VjdGlvbl9vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCiAJcHVibGljIHN0YXRp
YyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19BTEVSVF9PQkogPSBjcmVhdGUoUEFUSF9PQkos
ICJhbGVydF9vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCiAJcHVibGljIHN0YXRpYyBmaW5hbCBJ
bWFnZURlc2NyaXB0b3IgREVTQ19UU0tfQUxFUlRfT0JKID0gY3JlYXRlKFBBVEhfT0JKLCAidHNr
X2FsZXJ0X29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KQEAgLTE1OCwyMiArMTYxLDIyIEBADQog
CXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfU0lURV9YTUxfT0JKID0g
Y3JlYXRlKFBBVEhfT0JKLCAic2l0ZV94bWxfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQogCXB1
YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfSU1BR0VfQVBQTElDQVRJT04g
PSBjcmVhdGUoUEFUSF9PQkosICJpbWFnZV9hcHBsaWNhdGlvbi5naWYiKTsgLy8kTk9OLU5MUy0x
JA0KIAlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0ZPQ1VTX09OID0g
Y3JlYXRlKFBBVEhfT0JKLCAiZm9jdXMuZ2lmIik7IC8vJE5PTi1OTFMtMSQNCi0JDQorDQogCS8q
Kg0KIAkgKiBPVlIxNg0KIAkgKi8NCi0JcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0
b3IgREVTQ19ET0NfQ08gICA9IGNyZWF0ZShQQVRIX09WUiwgImRvY19jby5naWYiKTsgLy8kTk9O
LU5MUy0xJA0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX1dBUk5J
TkdfQ08gICA9IGNyZWF0ZShQQVRIX09WUiwgIndhcm5pbmdfY28uZ2lmIik7IC8vJE5PTi1OTFMt
MSQNCi0JcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19FUlJPUl9DTyAg
ID0gY3JlYXRlKFBBVEhfT1ZSLCAiZXJyb3JfY28uZ2lmIik7IC8vJE5PTi1OTFMtMSQNCi0JcHVi
bGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19FWFBPUlRfQ08gICA9IGNyZWF0
ZShQQVRIX09WUiwgImV4cG9ydF9jby5naWYiKTsgLy8kTk9OLU5MUy0xJA0KLQlwdWJsaWMgc3Rh
dGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0VYVEVSTkFMX0NPICAgPSBjcmVhdGUoUEFU
SF9PVlIsICJleHRlcm5hbF9jby5naWYiKTsgLy8kTk9OLU5MUy0xJA0KLQlwdWJsaWMgc3RhdGlj
IGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0JJTkFSWV9DTyAgID0gY3JlYXRlKFBBVEhfT1ZS
LCAiYmluYXJ5X2NvLmdpZiIpOyAvLyROT04tTkxTLTEkDQotCXB1YmxpYyBzdGF0aWMgZmluYWwg
SW1hZ2VEZXNjcmlwdG9yIERFU0NfSkFWQV9DTyAgID0gY3JlYXRlKFBBVEhfT1ZSLCAiamF2YV9j
by5naWYiKTsgLy8kTk9OLU5MUy0xJA0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3Jp
cHRvciBERVNDX0pBUl9DTyAgID0gY3JlYXRlKFBBVEhfT1ZSLCAiamFyX2NvLmdpZiIpOyAvLyRO
T04tTkxTLTEkDQotCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfUFJP
SkVDVF9DTyAgID0gY3JlYXRlKFBBVEhfT1ZSLCAicHJvamVjdF9jby5naWYiKTsgLy8kTk9OLU5M
Uy0xJA0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX09QVElPTkFM
X0NPICAgPSBjcmVhdGUoUEFUSF9PVlIsICJvcHRpb25hbF9jby5naWYiKTsgLy8kTk9OLU5MUy0x
JA0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0lOVEVSTkFMX0NP
ICAgPSBjcmVhdGUoUEFUSF9PVlIsICJpbnRlcm5hbF9jby5naWYiKTsgLy8kTk9OLU5MUy0xJA0K
LQlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0ZSSUVORF9DTyAgID0g
Y3JlYXRlKFBBVEhfT1ZSLCAiZnJpZW5kX2NvLmdpZiIpOyAvLyROT04tTkxTLTEkDQorCXB1Ymxp
YyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfRE9DX0NPID0gY3JlYXRlKFBBVEhf
T1ZSLCAiZG9jX2NvLmdpZiIpOyAvLyROT04tTkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmluYWwg
SW1hZ2VEZXNjcmlwdG9yIERFU0NfV0FSTklOR19DTyA9IGNyZWF0ZShQQVRIX09WUiwgIndhcm5p
bmdfY28uZ2lmIik7IC8vJE5PTi1OTFMtMSQNCisJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURl
c2NyaXB0b3IgREVTQ19FUlJPUl9DTyA9IGNyZWF0ZShQQVRIX09WUiwgImVycm9yX2NvLmdpZiIp
OyAvLyROT04tTkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERF
U0NfRVhQT1JUX0NPID0gY3JlYXRlKFBBVEhfT1ZSLCAiZXhwb3J0X2NvLmdpZiIpOyAvLyROT04t
TkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfRVhURVJO
QUxfQ08gPSBjcmVhdGUoUEFUSF9PVlIsICJleHRlcm5hbF9jby5naWYiKTsgLy8kTk9OLU5MUy0x
JA0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0JJTkFSWV9DTyA9
IGNyZWF0ZShQQVRIX09WUiwgImJpbmFyeV9jby5naWYiKTsgLy8kTk9OLU5MUy0xJA0KKwlwdWJs
aWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0pBVkFfQ08gPSBjcmVhdGUoUEFU
SF9PVlIsICJqYXZhX2NvLmdpZiIpOyAvLyROT04tTkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmlu
YWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfSkFSX0NPID0gY3JlYXRlKFBBVEhfT1ZSLCAiamFyX2Nv
LmdpZiIpOyAvLyROT04tTkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlw
dG9yIERFU0NfUFJPSkVDVF9DTyA9IGNyZWF0ZShQQVRIX09WUiwgInByb2plY3RfY28uZ2lmIik7
IC8vJE5PTi1OTFMtMSQNCisJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVT
Q19PUFRJT05BTF9DTyA9IGNyZWF0ZShQQVRIX09WUiwgIm9wdGlvbmFsX2NvLmdpZiIpOyAvLyRO
T04tTkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfSU5U
RVJOQUxfQ08gPSBjcmVhdGUoUEFUSF9PVlIsICJpbnRlcm5hbF9jby5naWYiKTsgLy8kTk9OLU5M
Uy0xJA0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0ZSSUVORF9D
TyA9IGNyZWF0ZShQQVRIX09WUiwgImZyaWVuZF9jby5naWYiKTsgLy8kTk9OLU5MUy0xJA0KIA0K
IAkvKioNCiAJICogVE9PTDE2DQpAQCAtMTkzLDcgKzE5Niw3IEBADQogCXB1YmxpYyBzdGF0aWMg
ZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfRVhQT1JUX1BST0RVQ1RfVE9PTCA9IGNyZWF0ZShQ
QVRIX1RPT0wsICJleHBfcHJvZHVjdC5naWYiKTsgLy8kTk9OLU5MUy0xJA0KIAlwdWJsaWMgc3Rh
dGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0VYUE9SVF9GRUFUVVJFX1RPT0wgPSBjcmVh
dGUoUEFUSF9UT09MLCAiZXhwX2RlcGxveWZlYXQuZ2lmIik7IC8vJE5PTi1OTFMtMSQNCiAJcHVi
bGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19CVUlMRF9UT09MID0gY3JlYXRl
KFBBVEhfVE9PTCwgImJ1aWxkX2V4ZWMuZ2lmIik7IC8vJE5PTi1OTFMtMSQNCi0JDQorDQogCS8q
Kg0KIAkgKiBMQ0wNCiAJICovDQpAQCAtMjI2LDcgKzIyOSw3IEBADQogCXB1YmxpYyBzdGF0aWMg
ZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfSElTVE9SWV9MSVNUID0gY3JlYXRlKFBBVEhfTENM
LCAiaGlzdG9yeV9saXN0LmdpZiIpOyAvLyROT04tTkxTLTEkDQogCXB1YmxpYyBzdGF0aWMgZmlu
YWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfQ0xFQVIgPSBjcmVhdGUoUEFUSF9MQ0wsICJjbGVhci5n
aWYiKTsgLy8kTk9OLU5MUy0xJA0KIAlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRv
ciBERVNDX0ZJTFRFUiA9IGNyZWF0ZShQQVRIX0xDTCwgImZpbHRlcl9wcy5naWYiKTsgLy8kTk9O
LU5MUy0xJA0KLQkNCisNCiAJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVT
Q19BRERfQVRUX0RJU0FCTEVEID0gY3JlYXRlKFBBVEhfTENMX0RJU0FCTEVELCAiYWRkX2F0dC5n
aWYiKTsgLy8kTk9OLU5MUy0xJA0KIAlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRv
ciBERVNDX0FMUEhBQl9TT1JUX0NPX0RJU0FCTEVEID0gY3JlYXRlKFBBVEhfTENMX0RJU0FCTEVE
LCAiYWxwaGFiX3NvcnRfY28uZ2lmIik7IC8vJE5PTi1OTFMtMSQNCiAJcHVibGljIHN0YXRpYyBm
aW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19DTE9ORV9BVFRfRElTQUJMRUQgPSBjcmVhdGUoUEFU
SF9MQ0xfRElTQUJMRUQsICJjbG9uZV9hdHQuZ2lmIik7IC8vJE5PTi1OTFMtMSQNCkBAIC0yNDgs
MTYgKzI1MSwxNSBAQA0KIAlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVND
X0hJU1RPUllfTElTVF9ESVNBQkxFRCA9IGNyZWF0ZShQQVRIX0xDTF9ESVNBQkxFRCwgImhpc3Rv
cnlfbGlzdC5naWYiKTsgLy8kTk9OLU5MUy0xJA0KIAlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdl
RGVzY3JpcHRvciBERVNDX0RDTEVBUiA9IGNyZWF0ZShQQVRIX0xDTF9ESVNBQkxFRCwgImNsZWFy
LmdpZiIpOyAvLyROT04tTkxTLTEkDQogCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlw
dG9yIERFU0NfRklMVEVSX0RJU0FCTEVEID0gY3JlYXRlKFBBVEhfTENMX0RJU0FCTEVELCAiZmls
dGVyX3BzLmdpZiIpOyAvLyROT04tTkxTLTEkDQotCQ0KKw0KIAlwdWJsaWMgc3RhdGljIGZpbmFs
IEltYWdlRGVzY3JpcHRvciBERVNDX1JVTl9FWEMgPSBjcmVhdGUoUEFUSF9PQkosICJydW5fZXhj
LmdpZiIpOyAvLyROT04tTkxTLTEkDQogCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlw
dG9yIERFU0NfREVCVUdfRVhDID0gY3JlYXRlKFBBVEhfT0JKLCAiZGVidWdfZXhjLmdpZiIpOyAv
LyROT04tTkxTLTEkDQogCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0Nf
UFJPRklMRV9FWEMgPSBjcmVhdGUoUEFUSF9PQkosICJwcm9maWxlX2V4Yy5naWYiKTsgLy8kTk9O
LU5MUy0xJA0KIA0KLQ0KIAkvKioNCiAJICogV0laDQogCSAqLw0KLSAJcHVibGljIHN0YXRpYyBm
aW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19ORVdQUFJKX1dJWiA9IGNyZWF0ZShQQVRIX1dJWkJB
TiwgIm5ld3Bwcmpfd2l6LnBuZyIpOyAvLyROT04tTkxTLTEkDQorCXB1YmxpYyBzdGF0aWMgZmlu
YWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfTkVXUFBSSl9XSVogPSBjcmVhdGUoUEFUSF9XSVpCQU4s
ICJuZXdwcHJqX3dpei5wbmciKTsgLy8kTk9OLU5MUy0xJA0KIAlwdWJsaWMgc3RhdGljIGZpbmFs
IEltYWdlRGVzY3JpcHRvciBERVNDX05FV0ZSQUdQUkpfV0laID0gY3JlYXRlKFBBVEhfV0laQkFO
LCAibmV3ZnByal93aXoucG5nIik7IC8vJE5PTi1OTFMtMSQNCiAJcHVibGljIHN0YXRpYyBmaW5h
bCBJbWFnZURlc2NyaXB0b3IgREVTQ19ERUZDT05fV0laID0gY3JlYXRlKFBBVEhfV0laQkFOLCAi
ZGVmY29uX3dpei5wbmciKTsgLy8kTk9OLU5MUy0xJA0KIAlwdWJsaWMgc3RhdGljIGZpbmFsIElt
YWdlRGVzY3JpcHRvciBERVNDX1RBUkdFVF9XSVogPSBjcmVhdGUoUEFUSF9XSVpCQU4sICJ0YXJn
ZXRfd2l6LnBuZyIpOyAvLyROT04tTkxTLTEkDQpAQCAtMjg1LDM3ICsyODcsNDAgQEANCiAJLyoq
DQogCSAqIFZpZXcNCiAJICovDQotCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9y
IERFU0NfQVJHVU1FTlRfVEFCICA9IGNyZWF0ZShQQVRIX1ZJRVcsICJ2YXJpYWJsZV90YWIuZ2lm
Iik7IC8vJE5PTi1OTFMtMSQNCisJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3Ig
REVTQ19BUkdVTUVOVF9UQUIgPSBjcmVhdGUoUEFUSF9WSUVXLCAidmFyaWFibGVfdGFiLmdpZiIp
OyAvLyROT04tTkxTLTEkDQorDQogCXByaXZhdGUgc3RhdGljIEltYWdlRGVzY3JpcHRvciBjcmVh
dGUoU3RyaW5nIHByZWZpeCwgU3RyaW5nIG5hbWUpIHsNCiAJCXJldHVybiBJbWFnZURlc2NyaXB0
b3IuY3JlYXRlRnJvbVVSTChtYWtlSW1hZ2VVUkwocHJlZml4LCBuYW1lKSk7DQogCX0NCisNCiAJ
cHVibGljIHN0YXRpYyBJbWFnZSBnZXQoU3RyaW5nIGtleSkgew0KLQkJaWYgKFBMVUdJTl9SRUdJ
U1RSWT09bnVsbCkgaW5pdGlhbGl6ZSgpOw0KKwkJaWYgKFBMVUdJTl9SRUdJU1RSWSA9PSBudWxs
KQ0KKwkJCWluaXRpYWxpemUoKTsNCiAJCXJldHVybiBQTFVHSU5fUkVHSVNUUlkuZ2V0KGtleSk7
DQogCX0NCiANCi0vKiBwYWNrYWdlICovDQotcHJpdmF0ZSBzdGF0aWMgZmluYWwgdm9pZCBpbml0
aWFsaXplKCkgew0KLQlQTFVHSU5fUkVHSVNUUlkgPSBuZXcgSW1hZ2VSZWdpc3RyeSgpOw0KLQlt
YW5hZ2UoSU1HX0FUVF9DTEFTU19PQkosREVTQ19BVFRfQ0xBU1NfT0JKKTsNCi0JbWFuYWdlKElN
R19BVFRfRklMRV9PQkosIERFU0NfQVRUX0ZJTEVfT0JKKTsNCi0JbWFuYWdlKElNR19BVFRfSU1Q
TF9PQkosIERFU0NfQVRUX0lNUExfT0JKKTsNCi0JbWFuYWdlKElNR19BVFRfUkVRX09CSiwgIERF
U0NfQVRUX1JFUV9PQkopOw0KLQltYW5hZ2UoSU1HX0dFTkVSSUNfWE1MX09CSiwgREVTQ19HRU5F
UklDX1hNTF9PQkopOw0KLQltYW5hZ2UoT0JKX0RFU0NfR0VORVJBVEVfQ0xBU1MsIERFU0NfR0VO
RVJBVEVfQ0xBU1MpOw0KLQltYW5hZ2UoT0JKX0RFU0NfR0VORVJBVEVfSU5URVJGQUNFLCBERVND
X0dFTkVSQVRFX0lOVEVSRkFDRSk7DQotCW1hbmFnZShPQkpfREVTQ19QQUNLQUdFLCBERVNDX1BB
Q0tBR0VfT0JKKTsNCi0JbWFuYWdlKE9CSl9ERVNDX0JVTkRMRSwgREVTQ19CVU5ETEVfT0JKKTsN
Ci19DQorCS8qIHBhY2thZ2UgKi8NCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgdm9pZCBpbml0aWFs
aXplKCkgew0KKwkJUExVR0lOX1JFR0lTVFJZID0gbmV3IEltYWdlUmVnaXN0cnkoKTsNCisJCW1h
bmFnZShJTUdfQVRUX0NMQVNTX09CSiwgREVTQ19BVFRfQ0xBU1NfT0JKKTsNCisJCW1hbmFnZShJ
TUdfQVRUX0ZJTEVfT0JKLCBERVNDX0FUVF9GSUxFX09CSik7DQorCQltYW5hZ2UoSU1HX0FUVF9J
TVBMX09CSiwgREVTQ19BVFRfSU1QTF9PQkopOw0KKwkJbWFuYWdlKElNR19BVFRfUkVRX09CSiwg
REVTQ19BVFRfUkVRX09CSik7DQorCQltYW5hZ2UoSU1HX0dFTkVSSUNfWE1MX09CSiwgREVTQ19H
RU5FUklDX1hNTF9PQkopOw0KKwkJbWFuYWdlKE9CSl9ERVNDX0dFTkVSQVRFX0NMQVNTLCBERVND
X0dFTkVSQVRFX0NMQVNTKTsNCisJCW1hbmFnZShPQkpfREVTQ19HRU5FUkFURV9JTlRFUkZBQ0Us
IERFU0NfR0VORVJBVEVfSU5URVJGQUNFKTsNCisJCW1hbmFnZShPQkpfREVTQ19QQUNLQUdFLCBE
RVNDX1BBQ0tBR0VfT0JKKTsNCisJCW1hbmFnZShPQkpfREVTQ19CVU5ETEUsIERFU0NfQlVORExF
X09CSik7DQorCX0NCiANCi1wcml2YXRlIHN0YXRpYyBVUkwgbWFrZUltYWdlVVJMKFN0cmluZyBw
cmVmaXgsIFN0cmluZyBuYW1lKSB7DQotCVN0cmluZyBwYXRoID0gIiRubCQvIiArIHByZWZpeCAr
IG5hbWU7IC8vJE5PTi1OTFMtMSQNCi0JcmV0dXJuIEZpbGVMb2NhdG9yLmZpbmQoUERFUGx1Z2lu
LmdldERlZmF1bHQoKS5nZXRCdW5kbGUoKSwgbmV3IFBhdGgocGF0aCksIG51bGwpOw0KLX0NCisJ
cHJpdmF0ZSBzdGF0aWMgVVJMIG1ha2VJbWFnZVVSTChTdHJpbmcgcHJlZml4LCBTdHJpbmcgbmFt
ZSkgew0KKwkJU3RyaW5nIHBhdGggPSAiJG5sJC8iICsgcHJlZml4ICsgbmFtZTsgLy8kTk9OLU5M
Uy0xJA0KKwkJcmV0dXJuIEZpbGVMb2NhdG9yLmZpbmQoUERFUGx1Z2luLmdldERlZmF1bHQoKS5n
ZXRCdW5kbGUoKSwgbmV3IFBhdGgocGF0aCksIG51bGwpOw0KKwl9DQogDQotcHVibGljIHN0YXRp
YyBJbWFnZSBtYW5hZ2UoU3RyaW5nIGtleSwgSW1hZ2VEZXNjcmlwdG9yIGRlc2MpIHsNCi0JSW1h
Z2UgaW1hZ2UgPSBkZXNjLmNyZWF0ZUltYWdlKCk7DQotCVBMVUdJTl9SRUdJU1RSWS5wdXQoa2V5
LCBpbWFnZSk7DQotCXJldHVybiBpbWFnZTsNCi19DQorCXB1YmxpYyBzdGF0aWMgSW1hZ2UgbWFu
YWdlKFN0cmluZyBrZXksIEltYWdlRGVzY3JpcHRvciBkZXNjKSB7DQorCQlJbWFnZSBpbWFnZSA9
IGRlc2MuY3JlYXRlSW1hZ2UoKTsNCisJCVBMVUdJTl9SRUdJU1RSWS5wdXQoa2V5LCBpbWFnZSk7
DQorCQlyZXR1cm4gaW1hZ2U7DQorCX0NCiB9DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9p
bnRlcm5hbC91aS9QREVMYWJlbFByb3ZpZGVyLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAv
Y3Zzcm9vdC9lY2xpcHNlL29yZy5lY2xpcHNlLnBkZS51aS9zcmMvb3JnL2VjbGlwc2UvcGRlL2lu
dGVybmFsL3VpL1BERUxhYmVsUHJvdmlkZXIuamF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEu
ODkNCmRpZmYgLXUgLXIxLjg5IFBERUxhYmVsUHJvdmlkZXIuamF2YQ0KLS0tIHNyYy9vcmcvZWNs
aXBzZS9wZGUvaW50ZXJuYWwvdWkvUERFTGFiZWxQcm92aWRlci5qYXZhCTQgSmFuIDIwMDggMjA6
MTA6MTUgLTAwMDAJMS44OQ0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvUERF
TGFiZWxQcm92aWRlci5qYXZhCTExIEphbiAyMDA4IDIxOjQwOjU5IC0wMDAwDQpAQCAtMSw1ICsx
LDUgQEANCiAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KLSAqIENvcHlyaWdodCAoYykgMjAwMCwg
MjAwNyBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBDb3B5cmlnaHQgKGMpIDIwMDAs
IDIwMDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQogICogQWxsIHJpZ2h0cyByZXNlcnZl
ZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KICAqIGFyZSBt
YWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vu
c2UgdjEuMA0KICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMg
YXZhaWxhYmxlIGF0DQpAQCAtMjgsNiArMjgsNyBAQA0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwuY29yZS5pY2hlYXRzaGVldC5jb21wLklDb21wQ1NPYmplY3Q7DQogaW1wb3J0IG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLmljaGVhdHNoZWV0LnNpbXBsZS5JU2ltcGxlQ1ND
b25zdGFudHM7DQogaW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLmljaGVhdHNo
ZWV0LnNpbXBsZS5JU2ltcGxlQ1NPYmplY3Q7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC5jb3JlLmljdHhoZWxwLklDdHhIZWxwQ29uc3RhbnRzOw0KIGltcG9ydCBvcmcuZWNsaXBz
ZS5wZGUuaW50ZXJuYWwuY29yZS5pZmVhdHVyZS4qOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwuY29yZS5pcHJvZHVjdC5JUHJvZHVjdEZlYXR1cmU7DQogaW1wb3J0IG9yZy5lY2xp
cHNlLnBkZS5pbnRlcm5hbC5jb3JlLmlwcm9kdWN0LklQcm9kdWN0UGx1Z2luOw0KQEAgLTM3LDYg
KzM4LDcgQEANCiBpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUuaXRvYy5JVG9j
Q29uc3RhbnRzOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS5wbHVnaW4u
SW1wb3J0T2JqZWN0Ow0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0
LmJ1bmRsZS4qOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0
eGhlbHAuQ3R4SGVscE9iamVjdDsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNv
cmUudGV4dC50b2MuVG9jT2JqZWN0Ow0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwu
Y29yZS51dGlsLlBERVRleHRIZWxwZXI7DQogaW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5h
bC51aS5lbGVtZW50cy5OYW1lZEVsZW1lbnQ7DQpAQCAtOTMsNiArOTUsOSBAQA0KIAkJaWYgKG9i
aiBpbnN0YW5jZW9mIFRvY09iamVjdCkgew0KIAkJCXJldHVybiBnZXRPYmplY3RUZXh0KChUb2NP
YmplY3QpIG9iaik7DQogCQl9DQorCQlpZiAob2JqIGluc3RhbmNlb2YgQ3R4SGVscE9iamVjdCkg
ew0KKwkJCXJldHVybiBnZXRPYmplY3RUZXh0KChDdHhIZWxwT2JqZWN0KSBvYmopOw0KKwkJfQ0K
IAkJaWYgKG9iaiBpbnN0YW5jZW9mIEZlYXR1cmVQbHVnaW4pIHsNCiAJCQlyZXR1cm4gZ2V0T2Jq
ZWN0VGV4dCgoRmVhdHVyZVBsdWdpbikgb2JqKTsNCiAJCX0NCkBAIC0yODgsNiArMjkzLDEzIEBA
DQogCQlyZXR1cm4gUERFVGV4dEhlbHBlci50cmFuc2xhdGVSZWFkVGV4dChvYmouZ2V0TmFtZSgp
KTsNCiAJfQ0KIA0KKwkvKioNCisJICogQHBhcmFtIG9iag0KKwkgKi8NCisJcHVibGljIFN0cmlu
ZyBnZXRPYmplY3RUZXh0KEN0eEhlbHBPYmplY3Qgb2JqKSB7DQorCQlyZXR1cm4gUERFVGV4dEhl
bHBlci50cmFuc2xhdGVSZWFkVGV4dChvYmouZ2V0TmFtZSgpKTsNCisJfQ0KKw0KIAlwdWJsaWMg
U3RyaW5nIGdldE9iamVjdFRleHQoRmVhdHVyZVBsdWdpbiBvYmopIHsNCiAJCVN0cmluZyBuYW1l
ID0gaXNGdWxsTmFtZU1vZGVFbmFibGVkKCkgPyBvYmouZ2V0TGFiZWwoKSA6IG9iai5nZXRJZCgp
Ow0KIAkJU3RyaW5nIHZlcnNpb24gPSBvYmouZ2V0VmVyc2lvbigpOw0KQEAgLTQ0Miw2ICs0NTQs
OSBAQA0KIAkJaWYgKG9iaiBpbnN0YW5jZW9mIFRvY09iamVjdCkgew0KIAkJCXJldHVybiBnZXRP
YmplY3RJbWFnZSgoVG9jT2JqZWN0KSBvYmopOw0KIAkJfQ0KKwkJaWYgKG9iaiBpbnN0YW5jZW9m
IEN0eEhlbHBPYmplY3QpIHsNCisJCQlyZXR1cm4gZ2V0T2JqZWN0SW1hZ2UoKEN0eEhlbHBPYmpl
Y3QpIG9iaik7DQorCQl9DQogCQlpZiAob2JqIGluc3RhbmNlb2YgSVNjaGVtYUF0dHJpYnV0ZSkg
ew0KIAkJCXJldHVybiBnZXRPYmplY3RJbWFnZSgoSVNjaGVtYUF0dHJpYnV0ZSkgb2JqKTsNCiAJ
CX0NCkBAIC03MTcsNiArNzMyLDMxIEBADQogCQl9DQogCX0NCiANCisJLyoqDQorCSAqIEBwYXJh
bSBvYmplY3QNCisJICovDQorCXByaXZhdGUgSW1hZ2UgZ2V0T2JqZWN0SW1hZ2UoQ3R4SGVscE9i
amVjdCBvYmplY3QpIHsNCisJCXN3aXRjaCAob2JqZWN0LmdldFR5cGUoKSkgew0KKwkJCWNhc2Ug
SUN0eEhlbHBDb25zdGFudHMuVFlQRV9ST09UIDogew0KKwkJCQlyZXR1cm4gZ2V0KFBERVBsdWdp
bkltYWdlcy5ERVNDX1RPQ19PQkopOw0KKwkJCX0NCisJCQljYXNlIElDdHhIZWxwQ29uc3RhbnRz
LlRZUEVfQ09OVEVYVCA6IHsNCisJCQkJcmV0dXJuIGdldChQREVQbHVnaW5JbWFnZXMuREVTQ19D
VFhIRUxQX0NPTlRFWFRfT0JKKTsNCisJCQl9DQorCQkJY2FzZSBJQ3R4SGVscENvbnN0YW50cy5U
WVBFX0RFU0NSSVBUSU9OIDogew0KKwkJCQlyZXR1cm4gZ2V0KFBERVBsdWdpbkltYWdlcy5ERVND
X0NUWEhFTFBfREVTQ19PQkopOw0KKwkJCX0NCisJCQljYXNlIElDdHhIZWxwQ29uc3RhbnRzLlRZ
UEVfVE9QSUMgOiB7DQorCQkJCXJldHVybiBnZXQoUERFUGx1Z2luSW1hZ2VzLkRFU0NfVE9DX0xF
QUZUT1BJQ19PQkopOw0KKwkJCX0NCisJCQljYXNlIElDdHhIZWxwQ29uc3RhbnRzLlRZUEVfQ09N
TUFORCA6IHsNCisJCQkJcmV0dXJuIGdldChQREVQbHVnaW5JbWFnZXMuREVTQ19DVFhIRUxQX0NP
TU1BTkRfT0JKKTsNCisJCQl9DQorCQkJZGVmYXVsdCA6DQorCQkJCXJldHVybiBnZXQoUERFUGx1
Z2luSW1hZ2VzLkRFU0NfU0lNUExFQ1NfT0JKLCBGX0VSUk9SKTsNCisJCX0NCisJfQ0KKw0KIAlw
cml2YXRlIEltYWdlIGdldE9iamVjdEltYWdlKElTY2hlbWFFbGVtZW50IGVsZW1lbnQpIHsNCiAJ
CWludCBmbGFncyA9IDA7DQogCQlpZiAoZWxlbWVudCBpbnN0YW5jZW9mIElTY2hlbWFPYmplY3RS
ZWZlcmVuY2UgJiYgKChJU2NoZW1hT2JqZWN0UmVmZXJlbmNlKSBlbGVtZW50KS5nZXRSZWZlcmVu
Y2VkT2JqZWN0KCkgPT0gbnVsbCkNCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFs
L3VpL3dpemFyZHMvdG9jL1RvY0hUTUxXaXphcmRQYWdlLmphdmENCj09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBm
aWxlOiAvY3Zzcm9vdC9lY2xpcHNlL29yZy5lY2xpcHNlLnBkZS51aS9zcmMvb3JnL2VjbGlwc2Uv
cGRlL2ludGVybmFsL3VpL3dpemFyZHMvdG9jL1RvY0hUTUxXaXphcmRQYWdlLmphdmEsdg0KcmV0
cmlldmluZyByZXZpc2lvbiAxLjINCmRpZmYgLXUgLXIxLjIgVG9jSFRNTFdpemFyZFBhZ2UuamF2
YQ0KLS0tIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvd2l6YXJkcy90b2MvVG9jSFRN
TFdpemFyZFBhZ2UuamF2YQkyOSBBdWcgMjAwNyAxNToyOTozNCAtMDAwMAkxLjINCisrKyBzcmMv
b3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL3dpemFyZHMvdG9jL1RvY0hUTUxXaXphcmRQYWdl
LmphdmEJMTEgSmFuIDIwMDggMjE6NDE6MDAgLTAwMDANCkBAIC0xOCw3ICsxOCw3IEBADQogaW1w
b3J0IG9yZy5lY2xpcHNlLm9zZ2kudXRpbC5OTFM7DQogaW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5p
bnRlcm5hbC51aS5QREVQbHVnaW47DQogaW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51
aS5QREVVSU1lc3NhZ2VzOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLnRvYy5Ub2NFeHRlbnNpb25VdGlsOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwudWkuZWRpdG9yLnRvYy5IZWxwRWRpdG9yVXRpbDsNCiBpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0
LndpZGdldHMuQ29tcG9zaXRlOw0KIGltcG9ydCBvcmcuZWNsaXBzZS51aS5kaWFsb2dzLldpemFy
ZE5ld0ZpbGVDcmVhdGlvblBhZ2U7DQogDQpAQCAtNTgsMTAgKzU4LDEwIEBADQogCQkJcmV0dXJu
IGZhbHNlOw0KIAkJfQ0KIA0KLQkJaWYoIVRvY0V4dGVuc2lvblV0aWwuaGFzVmFsaWRQYWdlRXh0
ZW5zaW9uKG5ldyBQYXRoKGZMYXN0RmlsZW5hbWUpKSkNCisJCWlmKCFIZWxwRWRpdG9yVXRpbC5o
YXNWYWxpZFBhZ2VFeHRlbnNpb24obmV3IFBhdGgoZkxhc3RGaWxlbmFtZSkpKQ0KIAkJewlTdHJp
bmcgbWVzc2FnZSA9IE5MUy5iaW5kKA0KIAkJCQlQREVVSU1lc3NhZ2VzLlRvY0hUTUxXaXphcmRQ
YWdlX2JhZEV4dGVuc2lvbiwgDQotCQkJCVRvY0V4dGVuc2lvblV0aWwuZ2V0UGFnZUV4dGVuc2lv
bkxpc3QoKSk7DQorCQkJCUhlbHBFZGl0b3JVdGlsLmdldFBhZ2VFeHRlbnNpb25MaXN0KCkpOw0K
IAkJDQogCQkJc2V0RXJyb3JNZXNzYWdlKG1lc3NhZ2UpOw0KIAkJCXJldHVybiBmYWxzZTsNCklu
ZGV4OiBwbHVnaW4ueG1sDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9v
cmcuZWNsaXBzZS5wZGUudWkvcGx1Z2luLnhtbCx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuNDM0
DQpkaWZmIC11IC1yMS40MzQgcGx1Z2luLnhtbA0KLS0tIHBsdWdpbi54bWwJMiBKYW4gMjAwOCAy
MzoxOToxNSAtMDAwMAkxLjQzNA0KKysrIHBsdWdpbi54bWwJMTEgSmFuIDIwMDggMjE6NDA6NTkg
LTAwMDANCkBAIC00MjIsNiArNDIyLDE3IEBADQogICAgICAgICAgICAgICAgY29udGVudFR5cGVJ
ZD0ib3JnLmVjbGlwc2UucGRlLnRvY0ZpbGUiPg0KICAgICAgICAgIDwvY29udGVudFR5cGVCaW5k
aW5nPg0KICAgICAgIDwvZWRpdG9yPg0KKyAgICAgIDxlZGl0b3INCisgICAgICAgICAgICBjbGFz
cz0ib3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLkN0eEhlbHBFZGl0
b3IiDQorICAgICAgICAgICAgY29udHJpYnV0b3JDbGFzcz0ib3JnLmVjbGlwc2UucGRlLmludGVy
bmFsLnVpLmVkaXRvci50b2MuVG9jRWRpdG9yQ29udHJpYnV0b3IiDQorICAgICAgICAgICAgZGVm
YXVsdD0idHJ1ZSINCisgICAgICAgICAgICBpY29uPSIkbmwkL2ljb25zL29iajE2L3RvY19vYmou
Z2lmIg0KKyAgICAgICAgICAgIGlkPSJvcmcuZWNsaXBzZS5wZGUudWkuY3R4SGVscEVkaXRvciIN
CisgICAgICAgICAgICBuYW1lPSJDb250ZXh0IEhlbHAgRWRpdG9yIj4NCisgICAgICAgICA8Y29u
dGVudFR5cGVCaW5kaW5nDQorICAgICAgICAgICAgICAgY29udGVudFR5cGVJZD0ib3JnLmVjbGlw
c2UuaGVscC5jb250ZXh0cyI+DQorICAgICAgICAgPC9jb250ZW50VHlwZUJpbmRpbmc+DQorICAg
ICAgPC9lZGl0b3I+DQogICAgPC9leHRlbnNpb24+DQogICAgPGV4dGVuc2lvbg0KICAgICAgICAg
IHBvaW50PSJvcmcuZWNsaXBzZS51aS52aWV3cyI+DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3Bk
ZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhlbHBBYnN0cmFjdERldGFp
bHMuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJu
YWwvdWkvZWRpdG9yL2N0eGhlbHAvZGV0YWlscy9DdHhIZWxwQWJzdHJhY3REZXRhaWxzLmphdmEN
CmRpZmYgLU4gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9k
ZXRhaWxzL0N0eEhlbHBBYnN0cmFjdERldGFpbHMuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAx
OTcwIDAwOjAwOjAwIC0wMDAwDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9l
ZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhlbHBBYnN0cmFjdERldGFpbHMuamF2YQkxIEphbiAx
OTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsxLDIwMCBAQA0KKy8qKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqDQorICogQ29weXJpZ2h0IChjKSAyMDA3IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJz
Lg0KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFu
eWluZyBtYXRlcmlhbHMNCisgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9m
IHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0
aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cuZWNs
aXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQorICoNCisgKiBDb250cmlidXRvcnM6DQorICog
ICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqLw0KKw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVy
bmFsLnVpLmVkaXRvci5jdHhoZWxwLmRldGFpbHM7DQorDQoraW1wb3J0IG9yZy5lY2xpcHNlLmpm
YWNlLnZpZXdlcnMuSVNlbGVjdGlvbjsNCitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vy
cy5JU3RydWN0dXJlZFNlbGVjdGlvbjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmNvcmUuSU1v
ZGVsQ2hhbmdlZEV2ZW50Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVs
cC5DdHhIZWxwVHJlZVNlY3Rpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5TV1Q7DQoraW1w
b3J0IG9yZy5lY2xpcHNlLnN3dC5sYXlvdXQuR3JpZERhdGE7DQoraW1wb3J0IG9yZy5lY2xpcHNl
LnN3dC53aWRnZXRzLkNvbXBvc2l0ZTsNCitpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LndpZGdldHMu
TGFiZWw7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmZvcm1zLklGb3JtUGFydDsNCitpbXBvcnQg
b3JnLmVjbGlwc2UudWkuZm9ybXMud2lkZ2V0cy4qOw0KKw0KKy8qKg0KKyAqIFRvY0Fic3RyYWN0
RGV0YWlscw0KKyAqDQorICovDQorcHVibGljIGFic3RyYWN0IGNsYXNzIEN0eEhlbHBBYnN0cmFj
dERldGFpbHMgZXh0ZW5kcyBQREVEZXRhaWxzIHsNCisNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwg
aW50IE5VTV9DT0xVTU5TID0gMzsNCisNCisJcHJpdmF0ZSBDdHhIZWxwVHJlZVNlY3Rpb24gZk1h
c3RlclNlY3Rpb247DQorCXByaXZhdGUgU2VjdGlvbiBmTWFpblNlY3Rpb247DQorCXByaXZhdGUg
U3RyaW5nIGZDb250ZXh0SUQ7DQorDQorCXB1YmxpYyBDdHhIZWxwQWJzdHJhY3REZXRhaWxzKEN0
eEhlbHBUcmVlU2VjdGlvbiBtYXN0ZXJTZWN0aW9uLCBTdHJpbmcgY29udGV4dElEKSB7DQorCQlm
TWFzdGVyU2VjdGlvbiA9IG1hc3RlclNlY3Rpb247DQorCQlmQ29udGV4dElEID0gY29udGV4dElE
Ow0KKwkJZk1haW5TZWN0aW9uID0gbnVsbDsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQor
CSAqIEBzZWUgb3JnLmVjbGlwc2UudWkuZm9ybXMuSURldGFpbHNQYWdlI2NyZWF0ZUNvbnRlbnRz
KG9yZy5lY2xpcHNlLnN3dC53aWRnZXRzLkNvbXBvc2l0ZSkNCisJICovDQorCXB1YmxpYyB2b2lk
IGNyZWF0ZUNvbnRlbnRzKENvbXBvc2l0ZSBwYXJlbnQpIHsNCisJCWNvbmZpZ3VyZVBhcmVudExh
eW91dChwYXJlbnQpOw0KKwkJY3JlYXRlRGV0YWlscyhwYXJlbnQpOw0KKwkJaG9va0xpc3RlbmVy
cygpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBAcGFyYW0gcGFyZW50DQorCSAqLw0KKwlwcml2YXRl
IHZvaWQgY29uZmlndXJlUGFyZW50TGF5b3V0KENvbXBvc2l0ZSBwYXJlbnQpIHsNCisJCXBhcmVu
dC5zZXRMYXlvdXQoRm9ybUxheW91dEZhY3RvcnkuY3JlYXRlRGV0YWlsc0dyaWRMYXlvdXQoZmFs
c2UsIDEpKTsNCisJfQ0KKw0KKwkvKioNCisJICogQHBhcmFtIHBhcmVudA0KKwkgKi8NCisJcHVi
bGljIHZvaWQgY3JlYXRlRGV0YWlscyhDb21wb3NpdGUgcGFyZW50KSB7IC8vIENyZWF0ZSB0aGUg
bWFpbiBzZWN0aW9uDQorCQlpbnQgc3R5bGUgPSBFeHBhbmRhYmxlQ29tcG9zaXRlLlRJVExFX0JB
UjsNCisNCisJCWlmIChnZXREZXRhaWxzRGVzY3JpcHRpb24oKSAhPSBudWxsKQ0KKwkJCXN0eWxl
IHw9IFNlY3Rpb24uREVTQ1JJUFRJT047DQorDQorCQlmTWFpblNlY3Rpb24gPSBnZXRQYWdlKCku
Y3JlYXRlVUlTZWN0aW9uKHBhcmVudCwgZ2V0RGV0YWlsc1RpdGxlKCksIGdldERldGFpbHNEZXNj
cmlwdGlvbigpLCBzdHlsZSk7DQorCQkvLyBBbGlnbiB0aGUgbWFzdGVyIGFuZCBkZXRhaWxzIHNl
Y3Rpb24gaGVhZGVycyAobWlzYWxpZ25tZW50IGNhdXNlZA0KKwkJLy8gYnkgc2VjdGlvbiB0b29s
YmFyIGljb25zKQ0KKwkJZ2V0UGFnZSgpLmFsaWduU2VjdGlvbkhlYWRlcnMoZ2V0TWFzdGVyU2Vj
dGlvbigpLmdldFNlY3Rpb24oKSwgZk1haW5TZWN0aW9uKTsNCisJCS8vIENyZWF0ZSB0aGUgY29u
dGFpbmVyIGZvciB0aGUgbWFpbiBzZWN0aW9uDQorCQlDb21wb3NpdGUgc2VjdGlvbkNsaWVudCA9
IGdldFBhZ2UoKS5jcmVhdGVVSVNlY3Rpb25Db250YWluZXIoZk1haW5TZWN0aW9uLCBOVU1fQ09M
VU1OUyk7DQorCQlHcmlkRGF0YSBkYXRhID0gbmV3IEdyaWREYXRhKEdyaWREYXRhLkZJTExfQk9U
SCk7DQorCQlmTWFpblNlY3Rpb24uc2V0TGF5b3V0RGF0YShkYXRhKTsNCisJCWNyZWF0ZUZpZWxk
cyhzZWN0aW9uQ2xpZW50KTsNCisNCisJCS8vIEJpbmQgd2lkZ2V0cw0KKwkJZ2V0TWFuYWdlZEZv
cm0oKS5nZXRUb29sa2l0KCkucGFpbnRCb3JkZXJzRm9yKHNlY3Rpb25DbGllbnQpOw0KKwkJZk1h
aW5TZWN0aW9uLnNldENsaWVudChzZWN0aW9uQ2xpZW50KTsNCisJCW1hcmtEZXRhaWxzUGFydChm
TWFpblNlY3Rpb24pOw0KKwl9DQorDQorCS8qKg0KKwkgKiANCisJICovDQorCXByb3RlY3RlZCBh
YnN0cmFjdCB2b2lkIGNyZWF0ZUZpZWxkcyhDb21wb3NpdGUgcGFyZW50KTsNCisNCisJLyoqDQor
CSAqIA0KKwkgKi8NCisJcHJvdGVjdGVkIGFic3RyYWN0IFN0cmluZyBnZXREZXRhaWxzVGl0bGUo
KTsNCisNCisJLyoqDQorCSAqIA0KKwkgKi8NCisJcHJvdGVjdGVkIGFic3RyYWN0IFN0cmluZyBn
ZXREZXRhaWxzRGVzY3JpcHRpb24oKTsNCisNCisJLyoqDQorCSAqIA0KKwkgKi8NCisJcHVibGlj
IGFic3RyYWN0IHZvaWQgdXBkYXRlRmllbGRzKCk7DQorDQorCS8qKg0KKwkgKiANCisJICovDQor
CXB1YmxpYyBhYnN0cmFjdCB2b2lkIGhvb2tMaXN0ZW5lcnMoKTsNCisNCisJLyogKG5vbi1KYXZh
ZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnVpLmZvcm1zLklQYXJ0U2VsZWN0aW9uTGlzdGVu
ZXIjc2VsZWN0aW9uQ2hhbmdlZChvcmcuZWNsaXBzZS51aS5mb3Jtcy5JRm9ybVBhcnQsIG9yZy5l
Y2xpcHNlLmpmYWNlLnZpZXdlcnMuSVNlbGVjdGlvbikNCisJICovDQorCXB1YmxpYyB2b2lkIHNl
bGVjdGlvbkNoYW5nZWQoSUZvcm1QYXJ0IHBhcnQsIElTZWxlY3Rpb24gc2VsZWN0aW9uKSB7DQor
CQkvLyBOTy1PUA0KKwkJLy8gQ2hpbGRyZW4gdG8gb3ZlcnJpZGUNCisJfQ0KKw0KKwkvKiAobm9u
LUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5J
Q29udGV4dFBhcnQjZmlyZVNhdmVOZWVkZWQoKQ0KKwkgKi8NCisJcHVibGljIHZvaWQgZmlyZVNh
dmVOZWVkZWQoKSB7DQorCQltYXJrRGlydHkoKTsNCisJCWdldFBhZ2UoKS5nZXRQREVFZGl0b3Io
KS5maXJlU2F2ZU5lZWRlZChnZXRDb250ZXh0SWQoKSwgZmFsc2UpOw0KKwl9DQorDQorCS8qIChu
b24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9y
LklDb250ZXh0UGFydCNnZXRDb250ZXh0SWQoKQ0KKwkgKi8NCisJcHVibGljIFN0cmluZyBnZXRD
b250ZXh0SWQoKSB7DQorCQlyZXR1cm4gZkNvbnRleHRJRDsNCisJfQ0KKw0KKwkvKiAobm9uLUph
dmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5JQ29u
dGV4dFBhcnQjZ2V0UGFnZSgpDQorCSAqLw0KKwlwdWJsaWMgUERFRm9ybVBhZ2UgZ2V0UGFnZSgp
IHsNCisJCXJldHVybiAoUERFRm9ybVBhZ2UpIGdldE1hbmFnZWRGb3JtKCkuZ2V0Q29udGFpbmVy
KCk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC51aS5lZGl0b3IuSUNvbnRleHRQYXJ0I2lzRWRpdGFibGUoKQ0KKwkgKi8NCisJ
cHVibGljIGJvb2xlYW4gaXNFZGl0YWJsZSgpIHsNCisJCXJldHVybiBmTWFzdGVyU2VjdGlvbi5p
c0VkaXRhYmxlKCk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5l
Y2xpcHNlLnBkZS5jb3JlLklNb2RlbENoYW5nZWRMaXN0ZW5lciNtb2RlbENoYW5nZWQob3JnLmVj
bGlwc2UucGRlLmNvcmUuSU1vZGVsQ2hhbmdlZEV2ZW50KQ0KKwkgKi8NCisJcHVibGljIHZvaWQg
bW9kZWxDaGFuZ2VkKElNb2RlbENoYW5nZWRFdmVudCBldmVudCkgew0KKwkJLy8gTk8tT1ANCisJ
fQ0KKw0KKwkvKioNCisJICogQHJldHVybg0KKwkgKi8NCisJcHVibGljIGJvb2xlYW4gaXNFZGl0
YWJsZUVsZW1lbnQoKSB7DQorCQlyZXR1cm4gZk1hc3RlclNlY3Rpb24uaXNFZGl0YWJsZSgpOw0K
Kwl9DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuDQorCSAqLw0KKwlwdWJsaWMgRm9ybVRvb2xraXQg
Z2V0VG9vbGtpdCgpIHsNCisJCXJldHVybiBnZXRNYW5hZ2VkRm9ybSgpLmdldFRvb2xraXQoKTsN
CisJfQ0KKw0KKwkvKioNCisJICogQHJldHVybg0KKwkgKi8NCisJcHVibGljIEN0eEhlbHBUcmVl
U2VjdGlvbiBnZXRNYXN0ZXJTZWN0aW9uKCkgew0KKwkJcmV0dXJuIGZNYXN0ZXJTZWN0aW9uOw0K
Kwl9DQorDQorCS8qKg0KKwkgKiBAcGFyYW0gc2VsZWN0aW9uDQorCSAqIEByZXR1cm4NCisJICov
DQorCXByb3RlY3RlZCBPYmplY3QgZ2V0Rmlyc3RTZWxlY3RlZE9iamVjdChJU2VsZWN0aW9uIHNl
bGVjdGlvbikgew0KKwkJLy8gR2V0IHRoZSBzdHJ1Y3R1cmVkIHNlbGVjdGlvbiAob2J0YWluZWQg
ZnJvbSB0aGUgbWFzdGVyIHRyZWUgdmlld2VyKQ0KKwkJSVN0cnVjdHVyZWRTZWxlY3Rpb24gc3Ry
dWN0dXJlZFNlbCA9ICgoSVN0cnVjdHVyZWRTZWxlY3Rpb24pIHNlbGVjdGlvbik7DQorCQkvLyBF
bnN1cmUgd2UgaGF2ZSBhIHNlbGVjdGlvbg0KKwkJaWYgKHN0cnVjdHVyZWRTZWwgPT0gbnVsbCkg
ew0KKwkJCXJldHVybiBudWxsOw0KKwkJfQ0KKwkJcmV0dXJuIHN0cnVjdHVyZWRTZWwuZ2V0Rmly
c3RFbGVtZW50KCk7DQorCX0NCisNCisJcHJvdGVjdGVkIHZvaWQgY3JlYXRlTGFiZWwoQ29tcG9z
aXRlIGNsaWVudCwgRm9ybVRvb2xraXQgdG9vbGtpdCwgU3RyaW5nIHRleHQpIHsNCisJCUxhYmVs
IGxhYmVsID0gdG9vbGtpdC5jcmVhdGVMYWJlbChjbGllbnQsIHRleHQsIFNXVC5XUkFQKTsNCisJ
CUdyaWREYXRhIGdkID0gbmV3IEdyaWREYXRhKFNXVC5GSUxMLCBTV1QuQ0VOVEVSLCB0cnVlLCBm
YWxzZSk7DQorCQlnZC5ob3Jpem9udGFsU3BhbiA9IE5VTV9DT0xVTU5TOw0KKwkJbGFiZWwuc2V0
TGF5b3V0RGF0YShnZCk7DQorCX0NCisNCisJcHJvdGVjdGVkIHZvaWQgY3JlYXRlU3BhY2UoQ29t
cG9zaXRlIHBhcmVudCkgew0KKwkJY3JlYXRlTGFiZWwocGFyZW50LCBnZXRNYW5hZ2VkRm9ybSgp
LmdldFRvb2xraXQoKSwgIiIpOyAvLyROT04tTkxTLTEkDQorCX0NCisNCit9DQpJbmRleDogc3Jj
L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwRm9ybU91
dGxpbmVQYWdlLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiBzcmMvb3JnL2VjbGlwc2UvcGRl
L2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBGb3JtT3V0bGluZVBhZ2UuamF2YQ0K
ZGlmZiAtTiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0
eEhlbHBGb3JtT3V0bGluZVBhZ2UuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAw
OjAwIC0wMDAwDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4
aGVscC9DdHhIZWxwRm9ybU91dGxpbmVQYWdlLmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAw
MA0KQEAgLTAsMCArMSw5MCBAQA0KKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQorICogQ29weXJp
Z2h0IChjKSAyMDA2IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIEFsbCByaWdodHMg
cmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCisg
KiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1Ymxp
YyBMaWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwg
YW5kIGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBs
LXYxMC5odG1sDQorICoNCisgKiBDb250cmlidXRvcnM6DQorICogICAgIElCTSBDb3Jwb3JhdGlv
biAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqLw0KKw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHho
ZWxwOw0KKw0KK2ltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCitpbXBvcnQgb3JnLmVjbGlwc2UuamZh
Y2Uudmlld2Vycy5JTGFiZWxQcm92aWRlcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVy
bmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBNb2RlbDsNCitpbXBvcnQgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBPYmplY3Q7DQoraW1wb3J0IG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnV0aWwuUERFVGV4dEhlbHBlcjsNCitpbXBvcnQg
b3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5Gb3JtT3V0bGluZVBhZ2U7DQoraW1w
b3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFRm9ybUVkaXRvcjsNCisN
CisvKioNCisgKiBUb2NGb3JtT3V0bGluZVBhZ2UNCisgKg0KKyAqLw0KK3B1YmxpYyBjbGFzcyBD
dHhIZWxwRm9ybU91dGxpbmVQYWdlIGV4dGVuZHMgRm9ybU91dGxpbmVQYWdlIHsNCisJLyoqDQor
CSAqIEBwYXJhbSBlZGl0b3INCisJICovDQorCXB1YmxpYyBDdHhIZWxwRm9ybU91dGxpbmVQYWdl
KFBERUZvcm1FZGl0b3IgZWRpdG9yKSB7DQorCQlzdXBlcihlZGl0b3IpOw0KKwl9DQorDQorCS8q
Kg0KKwkgKiBUb2NMYWJlbFByb3ZpZGVyDQorCSAqDQorCSAqLw0KKwlwcml2YXRlIGNsYXNzIEN0
eEhlbHBMYWJlbFByb3ZpZGVyIGV4dGVuZHMgQmFzaWNMYWJlbFByb3ZpZGVyIHsNCisJCXB1Ymxp
YyBTdHJpbmcgZ2V0VGV4dChPYmplY3Qgb2JqKSB7DQorCQkJaWYgKG9iaiBpbnN0YW5jZW9mIEN0
eEhlbHBPYmplY3QpIHsNCisJCQkJcmV0dXJuIGdldE9iamVjdFRleHQoKEN0eEhlbHBPYmplY3Qp
IG9iaik7DQorCQkJfQ0KKwkJCXJldHVybiBzdXBlci5nZXRUZXh0KG9iaik7DQorCQl9DQorCX0N
CisNCisJLyoqDQorCSAqIEBwYXJhbSBvYmoNCisJICogQHJldHVybg0KKwkgKi8NCisJcHJvdGVj
dGVkIFN0cmluZyBnZXRPYmplY3RUZXh0KEN0eEhlbHBPYmplY3Qgb2JqKSB7DQorCQlyZXR1cm4g
UERFVGV4dEhlbHBlci50cmFuc2xhdGVSZWFkVGV4dChvYmouZ2V0TmFtZSgpKTsNCisJfQ0KKw0K
KwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVp
LmVkaXRvci5Gb3JtT3V0bGluZVBhZ2UjZ2V0Q2hpbGRyZW4oamF2YS5sYW5nLk9iamVjdCkNCisJ
ICovDQorCXByb3RlY3RlZCBPYmplY3RbXSBnZXRDaGlsZHJlbihPYmplY3QgcGFyZW50KSB7DQor
CQlpZiAocGFyZW50IGluc3RhbmNlb2YgQ3R4SGVscFBhZ2UpIHsNCisJCQlDdHhIZWxwTW9kZWwg
bW9kZWwgPSAoQ3R4SGVscE1vZGVsKSBmRWRpdG9yLmdldEFnZ3JlZ2F0ZU1vZGVsKCk7DQorCQkJ
aWYgKG1vZGVsICE9IG51bGwgJiYgbW9kZWwuaXNMb2FkZWQoKSkgew0KKwkJCQlPYmplY3RbXSBs
aXN0ID0gbmV3IE9iamVjdFsxXTsNCisJCQkJbGlzdFswXSA9IG1vZGVsLmdldEN0eEhlbHBSb290
KCk7DQorCQkJCXJldHVybiBsaXN0Ow0KKwkJCX0NCisJCX0gZWxzZSBpZiAocGFyZW50IGluc3Rh
bmNlb2YgQ3R4SGVscE9iamVjdCkgew0KKwkJCUxpc3QgbGlzdCA9ICgoQ3R4SGVscE9iamVjdCkg
cGFyZW50KS5nZXRDaGlsZHJlbigpOw0KKwkJCS8vIExpc3QgaXMgbmV2ZXIgbnVsbA0KKwkJCWlm
IChsaXN0LnNpemUoKSA+IDApIHsNCisJCQkJcmV0dXJuIGxpc3QudG9BcnJheSgpOw0KKwkJCX0N
CisJCX0NCisNCisJCXJldHVybiBzdXBlci5nZXRDaGlsZHJlbihwYXJlbnQpOw0KKwl9DQorDQor
CS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWku
ZWRpdG9yLkZvcm1PdXRsaW5lUGFnZSNjcmVhdGVMYWJlbFByb3ZpZGVyKCkNCisJICovDQorCXB1
YmxpYyBJTGFiZWxQcm92aWRlciBjcmVhdGVMYWJlbFByb3ZpZGVyKCkgew0KKwkJcmV0dXJuIG5l
dyBDdHhIZWxwTGFiZWxQcm92aWRlcigpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJ
ICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLkZvcm1PdXRsaW5lUGFn
ZSNnZXRQYXJlbnRQYWdlSWQoamF2YS5sYW5nLk9iamVjdCkNCisJICovDQorCXByb3RlY3RlZCBT
dHJpbmcgZ2V0UGFyZW50UGFnZUlkKE9iamVjdCBpdGVtKSB7DQorCQlyZXR1cm4gQ3R4SGVscFBh
Z2UuUEFHRV9JRDsNCisJfQ0KK30NCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFs
L3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBQYWdlLmphdmENCj09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxl
OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBQ
YWdlLmphdmENCmRpZmYgLU4gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3Iv
Y3R4aGVscC9DdHhIZWxwUGFnZS5qYXZhDQotLS0gL2Rldi9udWxsCTEgSmFuIDE5NzAgMDA6MDA6
MDAgLTAwMDANCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHho
ZWxwL0N0eEhlbHBQYWdlLmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAgLTAsMCAr
MSwxNTcgQEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMjAw
NyBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBU
aGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQorICogYXJlIG1hZGUg
YXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2
MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFp
bGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0K
KyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFs
IEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCisNCitw
YWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscDsNCisNCitp
bXBvcnQgb3JnLmVjbGlwc2UuamZhY2UudGV4dC5zb3VyY2UuSVNvdXJjZVZpZXdlcjsNCitpbXBv
cnQgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy5JU2VsZWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNs
aXBzZS5qZmFjZS52aWV3ZXJzLlN0cnVjdHVyZWRTZWxlY3Rpb247DQoraW1wb3J0IG9yZy5lY2xp
cHNlLnBkZS5jb3JlLklNb2RlbENoYW5nZWRFdmVudDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRl
LmNvcmUuSU1vZGVsQ2hhbmdlZExpc3RlbmVyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50
ZXJuYWwuY29yZS50ZXh0Lio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3Jl
LnRleHQuY3R4aGVscC5DdHhIZWxwTW9kZWw7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwT2JqZWN0Ow0KK2ltcG9ydCBvcmcuZWNsaXBz
ZS5wZGUuaW50ZXJuYWwudWkuKjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVp
LmVkaXRvci5QREVGb3JtUGFnZTsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVp
LmVkaXRvci5QREVNYXN0ZXJEZXRhaWxzQmxvY2s7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5j
dXN0b20uU3R5bGVkVGV4dDsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWkuZm9ybXMuSU1hbmFnZWRG
b3JtOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS51aS5mb3Jtcy5lZGl0b3IuRm9ybUVkaXRvcjsNCitp
bXBvcnQgb3JnLmVjbGlwc2UudWkuZm9ybXMuZWRpdG9yLklGb3JtUGFnZTsNCitpbXBvcnQgb3Jn
LmVjbGlwc2UudWkuZm9ybXMud2lkZ2V0cy5TY3JvbGxlZEZvcm07DQorDQorLyoqDQorICogVG9j
UGFnZQ0KKyAqDQorICovDQorcHVibGljIGNsYXNzIEN0eEhlbHBQYWdlIGV4dGVuZHMgUERFRm9y
bVBhZ2UgaW1wbGVtZW50cyBJTW9kZWxDaGFuZ2VkTGlzdGVuZXIgew0KKwlwdWJsaWMgc3RhdGlj
IGZpbmFsIFN0cmluZyBQQUdFX0lEID0gImN0eEhlbHBQYWdlIjsgLy8kTk9OLU5MUy0xJA0KKw0K
Kwlwcml2YXRlIEN0eEhlbHBCbG9jayBmQmxvY2s7DQorDQorCS8qKg0KKwkgKiBAcGFyYW0gZWRp
dG9yDQorCSAqLw0KKwlwdWJsaWMgQ3R4SGVscFBhZ2UoRm9ybUVkaXRvciBlZGl0b3IpIHsNCisJ
CXN1cGVyKGVkaXRvciwgUEFHRV9JRCwgUERFVUlNZXNzYWdlcy5Ub2NQYWdlX3RpdGxlKTsNCisJ
CWZCbG9jayA9IG5ldyBDdHhIZWxwQmxvY2sodGhpcyk7DQorCX0NCisNCisJLyoqDQorCSAqIEBy
ZXR1cm4NCisJICovDQorCXB1YmxpYyBQREVNYXN0ZXJEZXRhaWxzQmxvY2sgZ2V0QmxvY2soKSB7
DQorCQlyZXR1cm4gZkJsb2NrOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNl
ZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBERUZvcm1QYWdlI2NyZWF0ZUZv
cm1Db250ZW50KG9yZy5lY2xpcHNlLnVpLmZvcm1zLklNYW5hZ2VkRm9ybSkNCisJICovDQorCXBy
b3RlY3RlZCB2b2lkIGNyZWF0ZUZvcm1Db250ZW50KElNYW5hZ2VkRm9ybSBtYW5hZ2VkRm9ybSkg
ew0KKwkJU2Nyb2xsZWRGb3JtIGZvcm0gPSBtYW5hZ2VkRm9ybS5nZXRGb3JtKCk7DQorCQlDdHhI
ZWxwTW9kZWwgbW9kZWwgPSAoQ3R4SGVscE1vZGVsKSBnZXRNb2RlbCgpOw0KKw0KKwkJLy8gRW5z
dXJlIHRoZSBtb2RlbCB3YXMgbG9hZGVkIHByb3Blcmx5DQorCQlpZiAoKG1vZGVsID09IG51bGwp
IHx8IChtb2RlbC5pc0xvYWRlZCgpID09IGZhbHNlKSkgew0KKwkJCWNyZWF0ZUVycm9yQ29udGVu
dChtYW5hZ2VkRm9ybSwgbW9kZWwpOw0KKwkJCXJldHVybjsNCisJCX0NCisNCisJCS8vIFRPRE8g
QWRkIEhlbHAgY29udGV4dA0KKwkJLy8JCVBsYXRmb3JtVUkuZ2V0V29ya2JlbmNoKCkuZ2V0SGVs
cFN5c3RlbSgpLnNldEhlbHAoZm9ybS5nZXRCb2R5KCksIElIZWxwQ29udGV4dElkcy5UT0NfRURJ
VE9SKTsNCisNCisJCS8vIENyZWF0ZSB0aGUgcmVzdCBvZiB0aGUgYWN0aW9ucyBpbiB0aGUgZm9y
bSB0aXRsZSBhcmVhDQorCQlzdXBlci5jcmVhdGVGb3JtQ29udGVudChtYW5hZ2VkRm9ybSk7DQor
CQkvLyBGb3JtIGltYWdlDQorCQlmb3JtLnNldEltYWdlKFBERVBsdWdpbi5nZXREZWZhdWx0KCku
Z2V0TGFiZWxQcm92aWRlcigpLmdldChQREVQbHVnaW5JbWFnZXMuREVTQ19DVFhIRUxQX0NPTlRF
WFRfT0JKKSk7DQorCQlmb3JtLnNldFRleHQoIkNvbnRleHQtU2Vuc2l0aXZlIEhlbHAgQ29udGVu
dCIpOw0KKwkJLy8gQ3JlYXRlIHRoZSBtYXN0ZXIgZGV0YWlscyBibG9jaw0KKwkJZkJsb2NrLmNy
ZWF0ZUNvbnRlbnQobWFuYWdlZEZvcm0pOw0KKwkJLy8gRm9yY2UgdGhlIHNlbGVjdGlvbiBpbiB0
aGUgbWFzdGVycyB0cmVlIHNlY3Rpb24gdG8gbG9hZCB0aGUgDQorCQkvLyBwcm9wZXIgZGV0YWls
cyBzZWN0aW9uDQorCQlmQmxvY2suZ2V0TWFzdGVyU2VjdGlvbigpLmZpcmVTZWxlY3Rpb24oKTsN
CisJCS8vIFJlZ2lzdGVyIHRoaXMgcGFnZSB0byBiZSBpbmZvcm1lZCBvZiBtb2RlbCBjaGFuZ2Ug
ZXZlbnRzDQorCQltb2RlbC5hZGRNb2RlbENoYW5nZWRMaXN0ZW5lcih0aGlzKTsNCisJfQ0KKw0K
Kwlwcml2YXRlIHZvaWQgY3JlYXRlRXJyb3JDb250ZW50KElNYW5hZ2VkRm9ybSBtYW5hZ2VkRm9y
bSwgQ3R4SGVscE1vZGVsIG1vZGVsKSB7DQorCQkvLyBDcmVhdGUgYSBmb3JtYXR0ZWQgZXJyb3Ig
cGFnZQ0KKwkJY3JlYXRlRm9ybUVycm9yQ29udGVudChtYW5hZ2VkRm9ybSwgUERFVUlNZXNzYWdl
cy5Ub2NQYWdlX21zZ1RPQ0xvYWRGYWlsdXJlLCBQREVVSU1lc3NhZ2VzLlRvY1BhZ2VfbXNnVE9D
UGFyc2luZ0ZhaWx1cmUsIG51bGwpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICog
QHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBERUZvcm1QYWdlI2Rpc3Bv
c2UoKQ0KKwkgKi8NCisJcHVibGljIHZvaWQgZGlzcG9zZSgpIHsNCisJCUN0eEhlbHBNb2RlbCBt
b2RlbCA9IChDdHhIZWxwTW9kZWwpIGdldE1vZGVsKCk7DQorCQlpZiAobW9kZWwgIT0gbnVsbCkg
ew0KKwkJCW1vZGVsLnJlbW92ZU1vZGVsQ2hhbmdlZExpc3RlbmVyKHRoaXMpOw0KKwkJfQ0KKwkJ
c3VwZXIuZGlzcG9zZSgpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBv
cmcuZWNsaXBzZS5wZGUuY29yZS5JTW9kZWxDaGFuZ2VkTGlzdGVuZXIjbW9kZWxDaGFuZ2VkKG9y
Zy5lY2xpcHNlLnBkZS5jb3JlLklNb2RlbENoYW5nZWRFdmVudCkNCisJICovDQorCXB1YmxpYyB2
b2lkIG1vZGVsQ2hhbmdlZChJTW9kZWxDaGFuZ2VkRXZlbnQgZXZlbnQpIHsNCisJCS8vIEluZm9y
bSB0aGUgYmxvY2sNCisJCWZCbG9jay5tb2RlbENoYW5nZWQoZXZlbnQpOw0KKwl9DQorDQorCS8q
Kg0KKwkgKiBAcmV0dXJuDQorCSAqLw0KKwlwdWJsaWMgSVNlbGVjdGlvbiBnZXRTZWxlY3Rpb24o
KSB7DQorCQlyZXR1cm4gZkJsb2NrLmdldFNlbGVjdGlvbigpOw0KKwl9DQorDQorCXB1YmxpYyB2
b2lkIHNldEFjdGl2ZShib29sZWFuIGFjdGl2ZSkgew0KKwkJc3VwZXIuc2V0QWN0aXZlKGFjdGl2
ZSk7DQorCQlpZiAoYWN0aXZlKSB7DQorCQkJSUZvcm1QYWdlIHBhZ2UgPSBnZXRQREVFZGl0b3Io
KS5maW5kUGFnZShDdHhIZWxwSW5wdXRDb250ZXh0LkNPTlRFWFRfSUQpOw0KKwkJCWlmIChwYWdl
IGluc3RhbmNlb2YgQ3R4SGVscFNvdXJjZVBhZ2UgJiYgKChDdHhIZWxwU291cmNlUGFnZSkgcGFn
ZSkuZ2V0SW5wdXRDb250ZXh0KCkuaXNJblNvdXJjZU1vZGUoKSkgew0KKwkJCQlJU291cmNlVmll
d2VyIHZpZXdlciA9ICgoQ3R4SGVscFNvdXJjZVBhZ2UpIHBhZ2UpLmdldFZpZXdlcigpOw0KKwkJ
CQlpZiAodmlld2VyID09IG51bGwpIHsNCisJCQkJCXJldHVybjsNCisJCQkJfQ0KKw0KKwkJCQlT
dHlsZWRUZXh0IHRleHQgPSB2aWV3ZXIuZ2V0VGV4dFdpZGdldCgpOw0KKwkJCQlpZiAodGV4dCA9
PSBudWxsKSB7DQorCQkJCQlyZXR1cm47DQorCQkJCX0NCisNCisJCQkJaW50IG9mZnNldCA9IHRl
eHQuZ2V0Q2FyZXRPZmZzZXQoKTsNCisJCQkJaWYgKG9mZnNldCA8IDApIHsNCisJCQkJCXJldHVy
bjsNCisJCQkJfQ0KKw0KKwkJCQlJRG9jdW1lbnRSYW5nZSByYW5nZSA9ICgoQ3R4SGVscFNvdXJj
ZVBhZ2UpIHBhZ2UpLmdldFJhbmdlRWxlbWVudChvZmZzZXQsIHRydWUpOw0KKwkJCQlpZiAocmFu
Z2UgaW5zdGFuY2VvZiBJRG9jdW1lbnRBdHRyaWJ1dGVOb2RlKSB7DQorCQkJCQlyYW5nZSA9ICgo
SURvY3VtZW50QXR0cmlidXRlTm9kZSkgcmFuZ2UpLmdldEVuY2xvc2luZ0VsZW1lbnQoKTsNCisJ
CQkJfSBlbHNlIGlmIChyYW5nZSBpbnN0YW5jZW9mIElEb2N1bWVudFRleHROb2RlKSB7DQorCQkJ
CQlyYW5nZSA9ICgoSURvY3VtZW50VGV4dE5vZGUpIHJhbmdlKS5nZXRFbmNsb3NpbmdFbGVtZW50
KCk7DQorCQkJCX0NCisNCisJCQkJaWYgKHJhbmdlIGluc3RhbmNlb2YgQ3R4SGVscE9iamVjdCkg
ew0KKwkJCQkJZkJsb2NrLmdldE1hc3RlclNlY3Rpb24oKS5zZXRTZWxlY3Rpb24obmV3IFN0cnVj
dHVyZWRTZWxlY3Rpb24ocmFuZ2UpKTsNCisJCQkJfQ0KKwkJCX0NCisJCX0NCisJfQ0KKw0KKwkv
KiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVk
aXRvci5QREVGb3JtUGFnZSNnZXRIZWxwUmVzb3VyY2UoKQ0KKwkgKi8NCisJcHJvdGVjdGVkIFN0
cmluZyBnZXRIZWxwUmVzb3VyY2UoKSB7DQorCQkvLyBUT0RPIEZpeCBoZWxwDQorCQlyZXR1cm4g
SVBERVVJQ29uc3RhbnRzLlBMVUdJTl9ET0NfUk9PVCArICJndWlkZS90b29scy9lZGl0b3JzL3Rv
Y19lZGl0b3IvcGFnZV90b2MuaHRtIjsgLy8kTk9OLU5MUy0xJA0KKwl9DQorfQ0KSW5kZXg6IHNy
Yy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscElucHV0
Q29udGV4dE1hbmFnZXIuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHNyYy9vcmcvZWNsaXBz
ZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscElucHV0Q29udGV4dE1hbmFn
ZXIuamF2YQ0KZGlmZiAtTiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9j
dHhoZWxwL0N0eEhlbHBJbnB1dENvbnRleHRNYW5hZ2VyLmphdmENCi0tLSAvZGV2L251bGwJMSBK
YW4gMTk3MCAwMDowMDowMCAtMDAwMA0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwv
dWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscElucHV0Q29udGV4dE1hbmFnZXIuamF2YQkxIEphbiAx
OTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsxLDM4IEBADQorLyoqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIwMDYgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMu
DQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55
aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2Yg
dGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRo
aXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xp
cHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAg
ICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKiovDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwu
dWkuZWRpdG9yLmN0eGhlbHA7DQorDQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5jb3JlLklCYXNl
TW9kZWw7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFRm9y
bUVkaXRvcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jb250
ZXh0LklucHV0Q29udGV4dDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVk
aXRvci5jb250ZXh0LklucHV0Q29udGV4dE1hbmFnZXI7DQorDQorcHVibGljIGNsYXNzIEN0eEhl
bHBJbnB1dENvbnRleHRNYW5hZ2VyIGV4dGVuZHMgSW5wdXRDb250ZXh0TWFuYWdlciB7DQorDQor
CS8qKg0KKwkgKiBAcGFyYW0gZWRpdG9yDQorCSAqLw0KKwlwdWJsaWMgQ3R4SGVscElucHV0Q29u
dGV4dE1hbmFnZXIoUERFRm9ybUVkaXRvciBlZGl0b3IpIHsNCisJCXN1cGVyKGVkaXRvcik7DQor
CX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC51aS5lZGl0b3IuY29udGV4dC5JbnB1dENvbnRleHRNYW5hZ2VyI2dldEFnZ3JlZ2F0ZU1v
ZGVsKCkNCisJICovDQorCXB1YmxpYyBJQmFzZU1vZGVsIGdldEFnZ3JlZ2F0ZU1vZGVsKCkgew0K
KwkJSW5wdXRDb250ZXh0IGNvbnRleHQgPSBmaW5kQ29udGV4dChDdHhIZWxwSW5wdXRDb250ZXh0
LkNPTlRFWFRfSUQpOw0KKwkJaWYgKGNvbnRleHQgPT0gbnVsbCkgew0KKwkJCXJldHVybiBudWxs
Ow0KKwkJfQ0KKwkJcmV0dXJuIGNvbnRleHQuZ2V0TW9kZWwoKTsNCisJfQ0KKw0KK30NCkluZGV4
OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBE
cm9wQWRhcHRlci5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogc3JjL29yZy9lY2xpcHNlL3Bk
ZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwRHJvcEFkYXB0ZXIuamF2YQ0KZGlm
ZiAtTiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhl
bHBEcm9wQWRhcHRlci5qYXZhDQotLS0gL2Rldi9udWxsCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAw
MDANCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0
eEhlbHBEcm9wQWRhcHRlci5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAg
KzEsMjI4IEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIw
MDcgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4g
VGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRl
IGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2Ug
djEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZh
aWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwN
CisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlh
bCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQorDQor
cGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHA7DQorDQor
aW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLlJlc291cmNlc1BsdWdpbjsNCitpbXBv
cnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLklQYXRoOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5j
b3JlLnJ1bnRpbWUuUGF0aDsNCitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy5UcmVl
Vmlld2VyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLlZpZXdlckRyb3BBZGFw
dGVyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuY29yZS5JQmFzZU1vZGVsOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLk1vZGVsRGF0YVRyYW5zZmVyOw0KK2lt
cG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLnRvYy5IZWxwRWRpdG9yVXRp
bDsNCitpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LmRuZC4qOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5z
d3QuZ3JhcGhpY3MuUG9pbnQ7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5ncmFwaGljcy5SZWN0
YW5nbGU7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC53aWRnZXRzLkl0ZW07DQorDQorLyoqDQor
ICogVG9jRHJvcEFkYXB0ZXIgLSBpbXBsZW1lbnRzIGRyb3AgYmVoYXZpb3VyIGZvciB0aGUgVE9D
IFRyZWUgU2VjdGlvbi4NCisgKiBJdCBleHRlbmRzIFZpZXdlckRyb3BBZGFwdGVyIGZvciBhZHZh
bmNlZCBmZWVkYmFjayBiZWhhdmlvdXIsIGJ1dA0KKyAqIG1vc3RseSBvdmVycmlkZXMgdGhlIHNw
ZWNpZmllZCBkcm9wIGJlaGF2aW91ci4NCisgKi8NCitwdWJsaWMgY2xhc3MgQ3R4SGVscERyb3BB
ZGFwdGVyIGV4dGVuZHMgVmlld2VyRHJvcEFkYXB0ZXIgew0KKwlwcml2YXRlIEN0eEhlbHBUcmVl
U2VjdGlvbiBmU2VjdGlvbjsNCisNCisJLyoqDQorCSAqIENvbnN0YW50IGRlc2NyaWJpbmcgdGhl
IHBvc2l0aW9uIG9mIHRoZSBjdXJzb3IgcmVsYXRpdmUgDQorCSAqIHRvIHRoZSB0YXJnZXQgb2Jq
ZWN0LiAgVGhpcyBtZWFucyB0aGUgbW91c2UgaXMgcG9zaXRpb25lZA0KKwkgKiBzbGlnaHRseSBh
ZnRlciB0aGUgdGFyZ2V0LCBidXQgbm90IGFmdGVyIGl0cyBjaGlsZHJlbiBpZiBpdCBpcw0KKwkg
KiBleHBhbmRlZC4NCisJICogQHNlZSAjZ2V0Q3VycmVudExvY2F0aW9uKCkNCisJICovDQorCXB1
YmxpYyBzdGF0aWMgZmluYWwgaW50IExPQ0FUSU9OX0pVU1RfQUZURVIgPSA1Ow0KKw0KKwlwdWJs
aWMgQ3R4SGVscERyb3BBZGFwdGVyKFRyZWVWaWV3ZXIgdG9jVHJlZSwgQ3R4SGVscFRyZWVTZWN0
aW9uIHNlY3Rpb24pIHsNCisJCXN1cGVyKHRvY1RyZWUpOw0KKwkJZlNlY3Rpb24gPSBzZWN0aW9u
Ow0KKwl9DQorDQorCS8qKg0KKwkgKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgZ2l2ZW4g
ZXZlbnQncyBjb29yZGluYXRlcyByZWxhdGl2ZSB0byBpdHMgdGFyZ2V0Lg0KKwkgKiBUaGUgcG9z
aXRpb24gaXMgZGV0ZXJtaW5lZCB0byBiZSBiZWZvcmUsIGFmdGVyLCBvciBvbiB0aGUgaXRlbSwg
YmFzZWQgb24NCisJICogc29tZSB0aHJlc2hvbGQgdmFsdWUuDQorCSAqDQorCSAqIEBwYXJhbSBl
dmVudCB0aGUgZXZlbnQNCisJICogQHJldHVybiBvbmUgb2YgdGhlIDxjb2RlPkxPQ0FUSU9OXyog
PC9jb2RlPmNvbnN0YW50cyBkZWZpbmVkIGluIHRoaXMgY2xhc3MNCisJICovDQorCXByb3RlY3Rl
ZCBpbnQgZGV0ZXJtaW5lTG9jYXRpb24oRHJvcFRhcmdldEV2ZW50IGV2ZW50KSB7DQorCQlpZiAo
IShldmVudC5pdGVtIGluc3RhbmNlb2YgSXRlbSkpIHsNCisJCQlyZXR1cm4gTE9DQVRJT05fTk9O
RTsNCisJCX0NCisJCUl0ZW0gaXRlbSA9IChJdGVtKSBldmVudC5pdGVtOw0KKwkJUG9pbnQgY29v
cmRpbmF0ZXMgPSBuZXcgUG9pbnQoZXZlbnQueCwgZXZlbnQueSk7DQorCQljb29yZGluYXRlcyA9
IGdldFZpZXdlcigpLmdldENvbnRyb2woKS50b0NvbnRyb2woY29vcmRpbmF0ZXMpOw0KKwkJaWYg
KGl0ZW0gIT0gbnVsbCkgew0KKwkJCVJlY3RhbmdsZSBib3VuZHMgPSBnZXRCb3VuZHMoaXRlbSk7
DQorCQkJaWYgKGJvdW5kcyA9PSBudWxsKSB7DQorCQkJCXJldHVybiBMT0NBVElPTl9OT05FOw0K
KwkJCX0NCisJCQlpZiAoKGNvb3JkaW5hdGVzLnkgLSBib3VuZHMueSkgPCA1KSB7DQorCQkJCXJl
dHVybiBMT0NBVElPTl9CRUZPUkU7DQorCQkJfQ0KKwkJCWlmICgoYm91bmRzLnkgKyBib3VuZHMu
aGVpZ2h0IC0gY29vcmRpbmF0ZXMueSkgPCA1KSB7DQorCQkJCWlmICgoYm91bmRzLnkgLSBjb29y
ZGluYXRlcy55KSA8IDUpIHsNCisJCQkJCXJldHVybiBMT0NBVElPTl9KVVNUX0FGVEVSOw0KKwkJ
CQl9DQorCQkJCXJldHVybiBMT0NBVElPTl9BRlRFUjsNCisJCQl9DQorCQl9DQorCQlyZXR1cm4g
TE9DQVRJT05fT047DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBBIG5ldyBkcmFn
IGhhcyBlbnRlcmVkIHRoZSB3aWRnZXQuIERvIGZpbGUgdmFsaWRhdGlvbiBpZiBuZWNlc3Nhcnks
DQorCSAqIGFuZCB0aGVuIHNldCB0aGUgRHJhZyBhbmQgRHJvcCBtb2RlLg0KKwkgKi8NCisJcHVi
bGljIHZvaWQgZHJhZ0VudGVyKERyb3BUYXJnZXRFdmVudCBldmVudCkgew0KKwkJdmFsaWRhdGVG
aWxlRHJvcChldmVudCk7DQorCQlzZXRETkRNb2RlKGV2ZW50KTsNCisJfQ0KKw0KKwkvKiAobm9u
LUphdmFkb2MpDQorCSAqIE92ZXJyaWRlIHRoZSBkcmFnT3ZlciBiZWhhdmlvdXIgdG8gZGlyZWN0
bHkgc3VwcGx5IGV2ZW50IGZlZWRiYWNrDQorCSAqIGJ1dCBkbyBub3RoaW5nIGVsc2UuDQorCSAq
Lw0KKwlwdWJsaWMgdm9pZCBkcmFnT3ZlcihEcm9wVGFyZ2V0RXZlbnQgZXZlbnQpIHsNCisJCWlu
dCBjdXJyZW50TG9jYXRpb24gPSBkZXRlcm1pbmVMb2NhdGlvbihldmVudCk7DQorCQlzd2l0Y2gg
KGN1cnJlbnRMb2NhdGlvbikgew0KKwkJCWNhc2UgTE9DQVRJT05fQkVGT1JFIDoNCisJCQkJZXZl
bnQuZmVlZGJhY2sgPSBETkQuRkVFREJBQ0tfSU5TRVJUX0JFRk9SRTsNCisJCQkJYnJlYWs7DQor
CQkJY2FzZSBMT0NBVElPTl9BRlRFUiA6DQorCQkJY2FzZSBMT0NBVElPTl9KVVNUX0FGVEVSIDoN
CisJCQkJZXZlbnQuZmVlZGJhY2sgPSBETkQuRkVFREJBQ0tfSU5TRVJUX0FGVEVSOw0KKwkJCQli
cmVhazsNCisJCQljYXNlIExPQ0FUSU9OX09OIDoNCisJCQlkZWZhdWx0IDoNCisJCQkJZXZlbnQu
ZmVlZGJhY2sgPSBETkQuRkVFREJBQ0tfU0VMRUNUOw0KKwkJCQlicmVhazsNCisJCX0NCisNCisJ
CWV2ZW50LmZlZWRiYWNrIHw9IERORC5GRUVEQkFDS19FWFBBTkQgfCBETkQuRkVFREJBQ0tfU0NS
T0xMOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogVGhlIERyYWcgYW5kIERyb3Ag
b3BlcmF0aW9uIGNoYW5nZWQuIENoYW5nZSB0aGUgb3BlcmF0aW9uIHRvIGEgdmFsaWQgb25lDQor
CSAqIGlmIG5lY2Vzc2FyeS4NCisJICovDQorCXB1YmxpYyB2b2lkIGRyYWdPcGVyYXRpb25DaGFu
Z2VkKERyb3BUYXJnZXRFdmVudCBldmVudCkgew0KKwkJdmFsaWRhdGVGaWxlRHJvcChldmVudCk7
DQorCQlzZXRETkRNb2RlKGV2ZW50KTsNCisJfQ0KKw0KKwkvKioNCisJICogU2V0IHRoZSBEcmFn
IGFuZCBEcm9wIG1vZGUgZGVwZW5kaW5nIG9uIHRoZSBkcmFnZ2VkIGl0ZW1zIGFuZCBldmVudA0K
KwkgKiBkZXRhaWxzLiBGaWxlcyBjYW4gb25seSBiZSBjb3BpZWQsIG5vdCBsaW5rZWQgb3IgbW92
ZWQuDQorCSAqIE1vZGVsIGRhdGEgb2JqZWN0cyBjYW4gaGF2ZSBhbnkgb3BlcmF0aW9uIG9jY3Vy
Lg0KKwkgKiANCisJICogQWxsIG90aGVyIG9iamVjdHMgY2Fubm90IGJlIGRyb3BwZWQuDQorCSAq
IA0KKwkgKiBAcGFyYW0gZXZlbnQgVGhlIGRyb3AgZXZlbnQgdG8gY2hhbmdlLg0KKwkgKi8NCisJ
cHJpdmF0ZSB2b2lkIHNldERORE1vZGUoRHJvcFRhcmdldEV2ZW50IGV2ZW50KSB7DQorCQlpZiAo
RmlsZVRyYW5zZmVyLmdldEluc3RhbmNlKCkuaXNTdXBwb3J0ZWRUeXBlKGV2ZW50LmN1cnJlbnRE
YXRhVHlwZSkpIHsgLy9JZiBhIGZpbGUgaXMgYmVpbmcgZHJhZ2dlZA0KKwkJCWlmIChldmVudC5k
ZXRhaWwgPT0gRE5ELkRST1BfREVGQVVMVCkgeyAvL0lmIG5vIG1vZGlmaWVyIGtleSBpcyBwcmVz
c2VkDQorCQkJCS8vc2V0IHRoZSBvcGVyYXRpb24gdG8gRFJPUF9DT1BZIGlmIGF2YWlsYWJsZQ0K
KwkJCQkvL0RST1BfTk9ORSBvdGhlcndpc2UNCisJCQkJZXZlbnQuZGV0YWlsID0gKGV2ZW50Lm9w
ZXJhdGlvbnMgJiBETkQuRFJPUF9DT1BZKTsNCisJCQl9IGVsc2UgeyAvL0lmIGEgbW9kaWZpZXIg
a2V5IGlzIHByZXNzZWQgZm9yIGEgZmlsZSBhbmQgdGhlIG9wZXJhdGlvbiBpc24ndCBhIGNvcHks
DQorCQkJCS8vZGlzYWxsb3cgaXQNCisJCQkJZXZlbnQuZGV0YWlsICY9IERORC5EUk9QX0NPUFk7
DQorCQkJfQ0KKwkJfQ0KKwkJLy9UaGUgb25seSBvdGhlciB0cmFuc2ZlciB0eXBlIGFsbG93ZWQg
aXMgYSBNb2RlbCBEYXRhIFRyYW5zZmVyDQorCQllbHNlIGlmICghTW9kZWxEYXRhVHJhbnNmZXIu
Z2V0SW5zdGFuY2UoKS5pc1N1cHBvcnRlZFR5cGUoZXZlbnQuY3VycmVudERhdGFUeXBlKSkgeyAv
L2Rpc2FsbG93IGRyYWcgaWYgdGhlIHRyYW5zZmVyIGlzIG5vdCBNb2RlbCBEYXRhIG9yIEZpbGVz
DQorCQkJZXZlbnQuZGV0YWlsID0gRE5ELkRST1BfTk9ORTsNCisJCX0NCisJfQ0KKw0KKwkvKioN
CisJICogRW5zdXJlIHRoYXQsIGlmIGZpbGVzIGFyZSBiZWluZyBkcm9wcGVkLCB0aGV5IGhhdmUg
dmFsaWQNCisJICogZmlsZSBleHRlbnNpb25zIGZvciB0aGUgVE9DIEVkaXRvciAoSFRNTCBwYWdl
cyBhbmQgWE1MIGRvY3VtZW50cykuDQorCSAqIA0KKwkgKiBJbnZhbGlkYXRlIHRoZSBkcm9wIGlm
IHRoaXMgY29uZGl0aW9uIGlzIG5vdCBtZXQuDQorCSAqIA0KKwkgKiBAcGFyYW0gZXZlbnQgVGhl
IGRyb3AgZXZlbnQgY29udGFpbmluZyB0aGUgdHJhbnNmZXIuDQorCSAqLw0KKwlwcml2YXRlIHZv
aWQgdmFsaWRhdGVGaWxlRHJvcChEcm9wVGFyZ2V0RXZlbnQgZXZlbnQpIHsNCisJCWlmIChGaWxl
VHJhbnNmZXIuZ2V0SW5zdGFuY2UoKS5pc1N1cHBvcnRlZFR5cGUoZXZlbnQuY3VycmVudERhdGFU
eXBlKSkgew0KKwkJCUlCYXNlTW9kZWwgbW9kZWwgPSBmU2VjdGlvbi5nZXRQYWdlKCkuZ2V0TW9k
ZWwoKTsNCisJCQlTdHJpbmdbXSBmaWxlTmFtZXMgPSAoU3RyaW5nW10pIEZpbGVUcmFuc2Zlci5n
ZXRJbnN0YW5jZSgpLm5hdGl2ZVRvSmF2YShldmVudC5jdXJyZW50RGF0YVR5cGUpOw0KKwkJCWZv
ciAoaW50IGkgPSAwOyBpIDwgZmlsZU5hbWVzLmxlbmd0aDsgaSsrKSB7DQorCQkJCUlQYXRoIHBh
dGggPSBuZXcgUGF0aChmaWxlTmFtZXNbaV0pOw0KKw0KKwkJCQkvLyBNYWtlIHN1cmUgdGhhdCB0
aGUgZmlsZSBpcyBpbiB0aGUgd29ya3NwYWNlDQorCQkJCWlmIChSZXNvdXJjZXNQbHVnaW4uZ2V0
V29ya3NwYWNlKCkuZ2V0Um9vdCgpLmdldEZpbGVGb3JMb2NhdGlvbihwYXRoKSA9PSBudWxsKSB7
DQorCQkJCQlldmVudC5kZXRhaWwgPSBETkQuRFJPUF9OT05FOw0KKwkJCQkJcmV0dXJuOw0KKwkJ
CQl9DQorDQorCQkJCWlmICghSGVscEVkaXRvclV0aWwuaGFzVmFsaWRQYWdlRXh0ZW5zaW9uKHBh
dGgpICYmICFIZWxwRWRpdG9yVXRpbC5pc1RPQ0ZpbGUocGF0aCkpIHsNCisJCQkJCWV2ZW50LmRl
dGFpbCA9IERORC5EUk9QX05PTkU7DQorCQkJCQlyZXR1cm47DQorCQkJCX0NCisNCisJCQkJLy8g
TWFrZSBzdXJlIHRoYXQgdGhlIHVzZXIgaXNuJ3QgZHJvcHBpbmcgYSBUT0MgaW50byBpdHNlbGYN
CisJCQkJaWYgKEhlbHBFZGl0b3JVdGlsLmlzQ3VycmVudFJlc291cmNlKHBhdGgsIG1vZGVsKSkg
ew0KKwkJCQkJZXZlbnQuZGV0YWlsID0gRE5ELkRST1BfTk9ORTsNCisJCQkJCXJldHVybjsNCisJ
CQkJfQ0KKwkJCX0NCisJCX0NCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIE92ZXJy
aWRlIHRoZSBkcm9wIGJlaGF2aW91ciBpbiBvcmRlciB0byBkaXJlY3RseSBtYW5hZ2UgdGhlIGRy
b3AgZXZlbnQNCisJICovDQorCXB1YmxpYyB2b2lkIGRyb3AoRHJvcFRhcmdldEV2ZW50IGV2ZW50
KSB7DQorCQlPYmplY3QgdGFyZ2V0ID0gZGV0ZXJtaW5lVGFyZ2V0KGV2ZW50KTsNCisJCWludCBs
b2NhdGlvbiA9IGRldGVybWluZUxvY2F0aW9uKGV2ZW50KTsNCisJCWlmICghZlNlY3Rpb24ucGVy
Zm9ybURyb3AodGFyZ2V0LCBldmVudC5kYXRhLCBsb2NhdGlvbikpIHsNCisJCQlldmVudC5kZXRh
aWwgPSBETkQuRFJPUF9OT05FOw0KKwkJfQ0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJ
ICogT3ZlcnJpZGUgdGhlIGJlaGF2aW91ciBvZiBWaWV3ZXJEcm9wQWRhcHRlciNkcmFnTGVhdmUo
b3JnLmVjbGlwc2Uuc3d0LmRuZC5Ecm9wVGFyZ2V0RXZlbnQpDQorCSAqIA0KKwkgKiBAc2VlIG9y
Zy5lY2xpcHNlLnN3dC5kbmQuRHJvcFRhcmdldEFkYXB0ZXIjZHJhZ0xlYXZlKG9yZy5lY2xpcHNl
LnN3dC5kbmQuRHJvcFRhcmdldEV2ZW50KQ0KKwkgKi8NCisJcHVibGljIHZvaWQgZHJhZ0xlYXZl
KERyb3BUYXJnZXRFdmVudCBldmVudCkgeyAvL05PLU9QDQorCX0NCisNCisJLyogKG5vbi1KYXZh
ZG9jKQ0KKwkgKiBPdmVycmlkZSB0aGUgYmVoYXZpb3VyIG9mIFZpZXdlckRyb3BBZGFwdGVyI2Ry
b3BBY2NlcHQob3JnLmVjbGlwc2Uuc3d0LmRuZC5Ecm9wVGFyZ2V0RXZlbnQpDQorCSAqIA0KKwkg
KiBAc2VlIG9yZy5lY2xpcHNlLnN3dC5kbmQuRHJvcFRhcmdldEFkYXB0ZXIjZHJvcEFjY2VwdChv
cmcuZWNsaXBzZS5zd3QuZG5kLkRyb3BUYXJnZXRFdmVudCkNCisJICovDQorCXB1YmxpYyB2b2lk
IGRyb3BBY2NlcHQoRHJvcFRhcmdldEV2ZW50IGV2ZW50KSB7IC8vTk8tT1ANCisJfQ0KKw0KKwkv
L1RoZXNlIG1ldGhvZHMgYXJlIG5ldmVyIGNhbGxlZCBiZWNhdXNlIG11Y2ggb2YgVmlld2VyRHJv
cEFkYXB0ZXIncw0KKwkvL2JlaGF2aW91ciBpcyBvdmVycmlkZGVuLCBidXQgdGhleSBtdXN0IGJl
IGltcGxlbWVudGVkLg0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlw
c2UuamZhY2Uudmlld2Vycy5WaWV3ZXJEcm9wQWRhcHRlciNwZXJmb3JtRHJvcChqYXZhLmxhbmcu
T2JqZWN0KQ0KKwkgKi8NCisJcHVibGljIGJvb2xlYW4gcGVyZm9ybURyb3AoT2JqZWN0IGRhdGEp
IHsNCisJCXJldHVybiBmYWxzZTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBz
ZWUgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy5WaWV3ZXJEcm9wQWRhcHRlciN2YWxpZGF0ZURy
b3AoamF2YS5sYW5nLk9iamVjdCwgaW50LCBvcmcuZWNsaXBzZS5zd3QuZG5kLlRyYW5zZmVyRGF0
YSkNCisJICovDQorCXB1YmxpYyBib29sZWFuIHZhbGlkYXRlRHJvcChPYmplY3QgdGFyZ2V0LCBp
bnQgb3BlcmF0aW9uLCBUcmFuc2ZlckRhdGEgdHJhbnNmZXJUeXBlKSB7DQorCQlyZXR1cm4gZmFs
c2U7DQorCX0NCisNCit9DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9l
ZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhlbHBDb250ZXh0RGV0YWlscy5qYXZhDQo9PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09DQpSQ1MgZmlsZTogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4
aGVscC9kZXRhaWxzL0N0eEhlbHBDb250ZXh0RGV0YWlscy5qYXZhDQpkaWZmIC1OIHNyYy9vcmcv
ZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvZGV0YWlscy9DdHhIZWxwQ29u
dGV4dERldGFpbHMuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAw
DQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9kZXRh
aWxzL0N0eEhlbHBDb250ZXh0RGV0YWlscy5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDAN
CkBAIC0wLDAgKzEsMTQwIEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmln
aHQgKGMpIDIwMDcgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyBy
ZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAq
IGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGlj
IExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBh
bmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwt
djEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9u
IC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KiovDQorDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhl
bHAuZGV0YWlsczsNCisNCitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy5JU2VsZWN0
aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAu
Q3R4SGVscENvbnRleHQ7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0
b3IuRm9ybUVudHJ5QWRhcHRlcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVp
LmVkaXRvci5jdHhoZWxwLkN0eEhlbHBJbnB1dENvbnRleHQ7DQoraW1wb3J0IG9yZy5lY2xpcHNl
LnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5DdHhIZWxwVHJlZVNlY3Rpb247DQoraW1w
b3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5wYXJ0cy5Gb3JtRW50cnk7DQoraW1wb3J0
IG9yZy5lY2xpcHNlLnN3dC5TV1Q7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5sYXlvdXQuR3Jp
ZERhdGE7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC53aWRnZXRzLkNvbXBvc2l0ZTsNCitpbXBv
cnQgb3JnLmVjbGlwc2UudWkuZm9ybXMuSUZvcm1QYXJ0Ow0KKw0KK3B1YmxpYyBjbGFzcyBDdHhI
ZWxwQ29udGV4dERldGFpbHMgZXh0ZW5kcyBDdHhIZWxwQWJzdHJhY3REZXRhaWxzIHsNCisNCisJ
cHJpdmF0ZSBDdHhIZWxwQ29udGV4dCBmQ29udGV4dDsNCisJcHJpdmF0ZSBGb3JtRW50cnkgZklk
RW50cnk7DQorCXByaXZhdGUgRm9ybUVudHJ5IGZUaXRsZUVudHJ5Ow0KKwlwcml2YXRlIEZvcm1F
bnRyeSBmRGVzY0VudHJ5Ow0KKw0KKwkvKioNCisJICogQHBhcmFtIG1hc3RlclNlY3Rpb24NCisJ
ICovDQorCXB1YmxpYyBDdHhIZWxwQ29udGV4dERldGFpbHMoQ3R4SGVscFRyZWVTZWN0aW9uIG1h
c3RlclNlY3Rpb24pIHsNCisJCXN1cGVyKG1hc3RlclNlY3Rpb24sIEN0eEhlbHBJbnB1dENvbnRl
eHQuQ09OVEVYVF9JRCk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IudG9jLlRvY0Fic3RyYWN0RGV0YWlscyNj
cmVhdGVEZXRhaWxzKG9yZy5lY2xpcHNlLnN3dC53aWRnZXRzLkNvbXBvc2l0ZSkNCisJICovDQor
CXB1YmxpYyB2b2lkIGNyZWF0ZUZpZWxkcyhDb21wb3NpdGUgcGFyZW50KSB7DQorCQljcmVhdGVM
YWJlbChwYXJlbnQsIGdldE1hbmFnZWRGb3JtKCkuZ2V0VG9vbGtpdCgpLCAiU3BlY2lmeSB0aGUg
aGVscCBjb250ZXh0IGlkOiIpOw0KKwkJZklkRW50cnkgPSBuZXcgRm9ybUVudHJ5KHBhcmVudCwg
Z2V0TWFuYWdlZEZvcm0oKS5nZXRUb29sa2l0KCksICJJRDoiLCBTV1QuTk9ORSk7DQorCQljcmVh
dGVTcGFjZShwYXJlbnQpOw0KKwkJY3JlYXRlTGFiZWwocGFyZW50LCBnZXRNYW5hZ2VkRm9ybSgp
LmdldFRvb2xraXQoKSwgIlNwZWNpZnkgdGhlIGNvbnRleHQgZGVzY3JpcHRpb24gdGhhdCB3aWxs
IGJlIGRpc3BsYXllZCB0byB0aGUgdXNlcjoiKTsNCisJCWZEZXNjRW50cnkgPSBuZXcgRm9ybUVu
dHJ5KHBhcmVudCwgZ2V0TWFuYWdlZEZvcm0oKS5nZXRUb29sa2l0KCksICJEZXNjcmlwdGlvbjoi
LCBTV1QuTVVMVEkgfCBTV1QuV1JBUCB8IFNXVC5WX1NDUk9MTCk7DQorCQlHcmlkRGF0YSBkYXRh
ID0gbmV3IEdyaWREYXRhKEdyaWREYXRhLkZJTExfSE9SSVpPTlRBTCk7DQorCQlkYXRhLmhlaWdo
dEhpbnQgPSA1MDsNCisJCWZEZXNjRW50cnkuZ2V0VGV4dCgpLnNldExheW91dERhdGEoZGF0YSk7
DQorCQlkYXRhID0gbmV3IEdyaWREYXRhKEdyaWREYXRhLlZFUlRJQ0FMX0FMSUdOX0JFR0lOTklO
RyB8IEdyaWREYXRhLkhPUklaT05UQUxfQUxJR05fRU5EKTsNCisJCWZEZXNjRW50cnkuZ2V0TGFi
ZWwoKS5zZXRMYXlvdXREYXRhKGRhdGEpOw0KKwkJY3JlYXRlU3BhY2UocGFyZW50KTsNCisJCWNy
ZWF0ZUxhYmVsKHBhcmVudCwgZ2V0TWFuYWdlZEZvcm0oKS5nZXRUb29sa2l0KCksICJPdmVycmlk
ZSB0aGUgZGVmYXVsdCB0aXRsZSBieSBzcGVjaWZ5aW5nIG9uZSBoZXJlOiIpOw0KKwkJZlRpdGxl
RW50cnkgPSBuZXcgRm9ybUVudHJ5KHBhcmVudCwgZ2V0TWFuYWdlZEZvcm0oKS5nZXRUb29sa2l0
KCksICJUaXRsZToiLCBTV1QuTk9ORSk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkg
KiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxz
LkN0eEhlbHBBYnN0cmFjdERldGFpbHMjZ2V0RGV0YWlsc1RpdGxlKCkNCisJICovDQorCXByb3Rl
Y3RlZCBTdHJpbmcgZ2V0RGV0YWlsc1RpdGxlKCkgew0KKwkJcmV0dXJuICJDb250ZXh0IERldGFp
bHMiOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5w
ZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlscy5DdHhIZWxwQWJzdHJhY3REZXRh
aWxzI2dldERldGFpbHNEZXNjcmlwdGlvbigpDQorCSAqLw0KKwlwcm90ZWN0ZWQgU3RyaW5nIGdl
dERldGFpbHNEZXNjcmlwdGlvbigpIHsNCisJCXJldHVybiBudWxsOw0KKwl9DQorDQorCS8qIChu
b24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9y
LnRvYy5Ub2NBYnN0cmFjdERldGFpbHMjaG9va0xpc3RlbmVycygpDQorCSAqLw0KKwlwdWJsaWMg
dm9pZCBob29rTGlzdGVuZXJzKCkgew0KKwkJZklkRW50cnkuc2V0Rm9ybUVudHJ5TGlzdGVuZXIo
bmV3IEZvcm1FbnRyeUFkYXB0ZXIodGhpcykgew0KKwkJCXB1YmxpYyB2b2lkIHRleHRWYWx1ZUNo
YW5nZWQoRm9ybUVudHJ5IGVudHJ5KSB7DQorCQkJCWlmIChmQ29udGV4dCAhPSBudWxsKSB7DQor
CQkJCQlmQ29udGV4dC5zZXRJRChmSWRFbnRyeS5nZXRWYWx1ZSgpKTsNCisJCQkJfQ0KKwkJCX0N
CisJCX0pOw0KKwkJZkRlc2NFbnRyeS5zZXRGb3JtRW50cnlMaXN0ZW5lcihuZXcgRm9ybUVudHJ5
QWRhcHRlcih0aGlzKSB7DQorCQkJcHVibGljIHZvaWQgdGV4dFZhbHVlQ2hhbmdlZChGb3JtRW50
cnkgZW50cnkpIHsNCisJCQkJaWYgKGZDb250ZXh0ICE9IG51bGwpIHsNCisJCQkJCWlmIChmRGVz
Y0VudHJ5LmdldFZhbHVlKCkudHJpbSgpLmxlbmd0aCgpID4gMCkgew0KKwkJCQkJCWZDb250ZXh0
LnNldERlc2NyaXB0aW9uKGZEZXNjRW50cnkuZ2V0VmFsdWUoKSk7DQorCQkJCQl9IGVsc2Ugew0K
KwkJCQkJCS8vIFBhc3MgbnVsbCB0byBkZWxldGUgdGhlIGRlc2NyaXB0aW9uIG5vZGUgYmVjYXVz
ZSBpdCBpcyBlbXB0eQ0KKwkJCQkJCWZDb250ZXh0LnNldERlc2NyaXB0aW9uKG51bGwpOw0KKwkJ
CQkJfQ0KKwkJCQl9DQorCQkJfQ0KKwkJfSk7DQorCQlmVGl0bGVFbnRyeS5zZXRGb3JtRW50cnlM
aXN0ZW5lcihuZXcgRm9ybUVudHJ5QWRhcHRlcih0aGlzKSB7DQorCQkJcHVibGljIHZvaWQgdGV4
dFZhbHVlQ2hhbmdlZChGb3JtRW50cnkgZW50cnkpIHsgLy8gRW5zdXJlIGRhdGEgb2JqZWN0IGlz
IGRlZmluZWQNCisJCQkJaWYgKGZDb250ZXh0ICE9IG51bGwpIHsNCisJCQkJCWZDb250ZXh0LnNl
dFRpdGxlKGZUaXRsZUVudHJ5LmdldFZhbHVlKCkpOw0KKwkJCQl9DQorCQkJfQ0KKwkJfSk7DQor
CX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC51aS5lZGl0b3IudG9jLlRvY0Fic3RyYWN0RGV0YWlscyN1cGRhdGVGaWVsZHMoKQ0KKwkg
Ki8NCisJcHVibGljIHZvaWQgdXBkYXRlRmllbGRzKCkgew0KKwkJaWYgKGZDb250ZXh0ICE9IG51
bGwpIHsNCisJCQlmSWRFbnRyeS5zZXRWYWx1ZShmQ29udGV4dC5nZXRJZCgpLCB0cnVlKTsNCisJ
CQlmSWRFbnRyeS5zZXRFZGl0YWJsZShpc0VkaXRhYmxlRWxlbWVudCgpKTsNCisJCQlmRGVzY0Vu
dHJ5LnNldFZhbHVlKGZDb250ZXh0LmdldERlc2NyaXB0aW9uKCksIHRydWUpOw0KKwkJCWZEZXNj
RW50cnkuc2V0RWRpdGFibGUoaXNFZGl0YWJsZUVsZW1lbnQoKSk7DQorCQkJZlRpdGxlRW50cnku
c2V0VmFsdWUoZkNvbnRleHQuZ2V0VGl0bGUoKSwgdHJ1ZSk7DQorCQkJZlRpdGxlRW50cnkuc2V0
RWRpdGFibGUoaXNFZGl0YWJsZUVsZW1lbnQoKSk7DQorCQl9DQorCX0NCisNCisJLyogKG5vbi1K
YXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnVpLmZvcm1zLkFic3RyYWN0Rm9ybVBhcnQj
Y29tbWl0KGJvb2xlYW4pDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBjb21taXQoYm9vbGVhbiBvblNh
dmUpIHsNCisJCXN1cGVyLmNvbW1pdChvblNhdmUpOw0KKwkJLy8gT25seSByZXF1aXJlZCBmb3Ig
Zm9ybSBlbnRyaWVzDQorCQlmSWRFbnRyeS5jb21taXQoKTsNCisJCWZEZXNjRW50cnkuY29tbWl0
KCk7DQorCQlmVGl0bGVFbnRyeS5jb21taXQoKTsNCisNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFk
b2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UudWkuZm9ybXMuSVBhcnRTZWxlY3Rpb25MaXN0ZW5l
ciNzZWxlY3Rpb25DaGFuZ2VkKG9yZy5lY2xpcHNlLnVpLmZvcm1zLklGb3JtUGFydCwgb3JnLmVj
bGlwc2UuamZhY2Uudmlld2Vycy5JU2VsZWN0aW9uKQ0KKwkgKi8NCisJcHVibGljIHZvaWQgc2Vs
ZWN0aW9uQ2hhbmdlZChJRm9ybVBhcnQgcGFydCwgSVNlbGVjdGlvbiBzZWxlY3Rpb24pIHsNCisJ
CU9iamVjdCBvYmplY3QgPSBnZXRGaXJzdFNlbGVjdGVkT2JqZWN0KHNlbGVjdGlvbik7DQorCQlp
ZiAob2JqZWN0IGluc3RhbmNlb2YgQ3R4SGVscENvbnRleHQpIHsNCisJCQlmQ29udGV4dCA9IChD
dHhIZWxwQ29udGV4dCkgb2JqZWN0Ow0KKwkJCXVwZGF0ZUZpZWxkcygpOw0KKwkJfQ0KKwl9DQor
fQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAv
Q3R4SGVscFJlbW92ZUFjdGlvbi5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogc3JjL29yZy9l
Y2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwUmVtb3ZlQWN0aW9u
LmphdmENCmRpZmYgLU4gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4
aGVscC9DdHhIZWxwUmVtb3ZlQWN0aW9uLmphdmENCi0tLSAvZGV2L251bGwJMSBKYW4gMTk3MCAw
MDowMDowMCAtMDAwMA0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9y
L2N0eGhlbHAvQ3R4SGVscFJlbW92ZUFjdGlvbi5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAw
MDANCkBAIC0wLDAgKzEsODkgQEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHly
aWdodCAoYykgMjAwNyBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRz
IHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQor
ICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJs
aWMgTGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24s
IGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2Vw
bC12MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRp
b24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKi8NCisNCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4
aGVscDsNCisNCitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2UuYWN0aW9uLkFjdGlvbjsNCitpbXBv
cnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBPYmpl
Y3Q7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5QREVVSU1lc3NhZ2VzOw0K
Kw0KK3B1YmxpYyBjbGFzcyBDdHhIZWxwUmVtb3ZlQWN0aW9uIGV4dGVuZHMgQWN0aW9uIHsNCisN
CisJcHJpdmF0ZSBDdHhIZWxwT2JqZWN0W10gZk9iamVjdHM7DQorDQorCS8vVGhlIG5leHQgb2Jq
ZWN0IHRvIGJlIHNlbGVjdGVkIGFmdGVyIHRoZQ0KKwkvL3NlbGVjdGVkIG9iamVjdCBpcyByZW1v
dmVkDQorCXByaXZhdGUgQ3R4SGVscE9iamVjdCBmT2JqZWN0VG9TZWxlY3Q7DQorDQorCXB1Ymxp
YyBDdHhIZWxwUmVtb3ZlQWN0aW9uKCkgew0KKwkJLy8gQWRkcyB0aGUgJ0RlbGV0ZScga2V5Ymlu
ZGluZyB0byB0aGUgYWN0aW9uIHdoZW4gZGlzcGxheWVkDQorCQkvLyBpbiBhIGNvbnRleHQgbWVu
dQ0KKwkJc2V0QWN0aW9uRGVmaW5pdGlvbklkKCJvcmcuZWNsaXBzZS51aS5lZGl0LmRlbGV0ZSIp
OyAvLyROT04tTkxTLTEkDQorCQlzZXRUZXh0KFBERVVJTWVzc2FnZXMuVG9jUGFnZV9yZW1vdmUp
Ow0KKwl9DQorDQorCXB1YmxpYyB2b2lkIHNldFRvUmVtb3ZlKEN0eEhlbHBPYmplY3RbXSBvYmpl
Y3RzKSB7DQorCQlmT2JqZWN0cyA9IG9iamVjdHM7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9j
KQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLmpmYWNlLmFjdGlvbi5BY3Rpb24jcnVuKCkNCisJICov
DQorCXB1YmxpYyB2b2lkIHJ1bigpIHsNCisJCWlmIChmT2JqZWN0cyA9PSBudWxsKQ0KKwkJCXJl
dHVybjsNCisNCisJCWZvciAoaW50IGkgPSAwOyBpIDwgZk9iamVjdHMubGVuZ3RoOyArK2kpIHsN
CisJCQlpZiAoZk9iamVjdHNbaV0gIT0gbnVsbCAmJiBmT2JqZWN0c1tpXS5jYW5CZVJlbW92ZWQo
KSkgew0KKwkJCQlDdHhIZWxwT2JqZWN0IHBhcmVudCA9IGZPYmplY3RzW2ldLmdldFBhcmVudCgp
Ow0KKwkJCQlpZiAocGFyZW50ICE9IG51bGwpIHsNCisJCQkJCWRldGVybWluZU5leHRTZWxlY3Rp
b24ocGFyZW50LCBpKTsNCisJCQkJCS8vIFJlbW92ZSB0aGUgVE9DIG9iamVjdA0KKwkJCQkJcGFy
ZW50LnJlbW92ZUNoaWxkKGZPYmplY3RzW2ldKTsNCisJCQkJfQ0KKwkJCX0NCisJCX0NCisJfQ0K
Kw0KKwkvKioNCisJICogRGV0ZXJtaW5lIHRoZSBuZXh0IG9iamVjdCB0aGF0IHNob3VsZCBiZSBz
ZWxlY3RlZA0KKwkgKiBhZnRlciB0aGUgZGVzaWduYXRlZCBvYmplY3QgaGFzIGJlZW4gcmVtb3Zl
ZA0KKwkgKiANCisJICogQHBhcmFtIHBhcmVudCBUaGUgcGFyZW50IG9mIHRoZSBkZWxldGVkIG9i
amVjdA0KKwkgKi8NCisJcHJpdmF0ZSB2b2lkIGRldGVybWluZU5leHRTZWxlY3Rpb24oQ3R4SGVs
cE9iamVjdCBwYXJlbnQsIGludCBpbmRleCkgew0KKwkJLy8gU2VsZWN0IHRoZSBuZXh0IHNpYmxp
bmcNCisJCWZPYmplY3RUb1NlbGVjdCA9IHBhcmVudC5nZXROZXh0U2libGluZyhmT2JqZWN0c1tp
bmRleF0pOw0KKwkJaWYgKGZPYmplY3RUb1NlbGVjdCA9PSBudWxsKSB7DQorCQkJLy8gTm8gbmV4
dCBzaWJsaW5nDQorCQkJLy8gU2VsZWN0IHRoZSBwcmV2aW91cyBzaWJsaW5nDQorCQkJZk9iamVj
dFRvU2VsZWN0ID0gcGFyZW50LmdldFByZXZpb3VzU2libGluZyhmT2JqZWN0c1tpbmRleF0pOw0K
KwkJCWlmIChmT2JqZWN0VG9TZWxlY3QgPT0gbnVsbCkgew0KKwkJCQkvLyBObyBwcmV2aW91cyBz
aWJsaW5nDQorCQkJCS8vIFNlbGVjdCB0aGUgcGFyZW50DQorCQkJCWZPYmplY3RUb1NlbGVjdCA9
IHBhcmVudDsNCisJCQl9DQorCQl9DQorCX0NCisNCisJLyoqDQorCSAqIEByZXR1cm4gdGhlIG9i
amVjdCB0aGF0IHNob3VsZCBiZSBzZWxlY3RlZA0KKwkgKiBhZnRlciB0aGUgY3VycmVudCBvbmUg
aXMgcmVtb3ZlZA0KKwkgKi8NCisJcHVibGljIEN0eEhlbHBPYmplY3QgZ2V0TmV4dFNlbGVjdGlv
bigpIHsNCisJCXJldHVybiBmT2JqZWN0VG9TZWxlY3Q7DQorCX0NCisNCisJcHVibGljIHZvaWQg
Y2xlYXJOZXh0U2VsZWN0aW9uKCkgew0KKwkJZk9iamVjdFRvU2VsZWN0ID0gbnVsbDsNCisJfQ0K
Kw0KK30NCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHho
ZWxwL0N0eEhlbHBDb250ZW50UHJvdmlkZXIuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHNy
Yy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscENvbnRl
bnRQcm92aWRlci5qYXZhDQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkv
ZWRpdG9yL2N0eGhlbHAvQ3R4SGVscENvbnRlbnRQcm92aWRlci5qYXZhDQotLS0gL2Rldi9udWxs
CTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVy
bmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBDb250ZW50UHJvdmlkZXIuamF2YQkxIEphbiAx
OTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsxLDYzIEBADQorLyoqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIwMDcgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMu
DQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55
aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2Yg
dGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRo
aXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xp
cHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAg
ICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKiovDQorDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwudWkuZWRpdG9yLmN0eGhlbHA7DQorDQoraW1wb3J0IGphdmEudXRpbC5MaXN0Ow0KK2ltcG9y
dCBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklUcmVlQ29udGVudFByb3ZpZGVyOw0KK2ltcG9y
dCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE1vZGVs
Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4
SGVscE9iamVjdDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVsZW1lbnRz
LkRlZmF1bHRDb250ZW50UHJvdmlkZXI7DQorDQorLyoqDQorICogVG9jQ29udGVudFByb3ZpZGVy
DQorICovDQorcHVibGljIGNsYXNzIEN0eEhlbHBDb250ZW50UHJvdmlkZXIgZXh0ZW5kcyBEZWZh
dWx0Q29udGVudFByb3ZpZGVyIGltcGxlbWVudHMgSVRyZWVDb250ZW50UHJvdmlkZXIgew0KKw0K
KwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy5J
VHJlZUNvbnRlbnRQcm92aWRlciNnZXRDaGlsZHJlbihqYXZhLmxhbmcuT2JqZWN0KQ0KKwkgKi8N
CisJcHVibGljIE9iamVjdFtdIGdldENoaWxkcmVuKE9iamVjdCBwYXJlbnRFbGVtZW50KSB7DQor
CQlpZiAocGFyZW50RWxlbWVudCBpbnN0YW5jZW9mIEN0eEhlbHBNb2RlbCkgew0KKwkJCUN0eEhl
bHBPYmplY3Qgcm9vdCA9ICgoQ3R4SGVscE1vZGVsKSBwYXJlbnRFbGVtZW50KS5nZXRDdHhIZWxw
Um9vdCgpOw0KKwkJCXJldHVybiBuZXcgT2JqZWN0W10ge3Jvb3R9Ow0KKwkJfSBlbHNlIGlmIChw
YXJlbnRFbGVtZW50IGluc3RhbmNlb2YgQ3R4SGVscE9iamVjdCkgew0KKwkJCUxpc3QgbGlzdCA9
ICgoQ3R4SGVscE9iamVjdCkgcGFyZW50RWxlbWVudCkuZ2V0Q2hpbGRyZW4oKTsNCisJCQlyZXR1
cm4gbGlzdC50b0FycmF5KCk7DQorCQl9DQorCQlyZXR1cm4gbmV3IE9iamVjdFswXTsNCisJfQ0K
Kw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vy
cy5JVHJlZUNvbnRlbnRQcm92aWRlciNnZXRQYXJlbnQoamF2YS5sYW5nLk9iamVjdCkNCisJICov
DQorCXB1YmxpYyBPYmplY3QgZ2V0UGFyZW50KE9iamVjdCBlbGVtZW50KSB7DQorCQlpZiAoZWxl
bWVudCBpbnN0YW5jZW9mIEN0eEhlbHBPYmplY3QpIHsNCisJCQlyZXR1cm4gKChDdHhIZWxwT2Jq
ZWN0KSBlbGVtZW50KS5nZXRQYXJlbnQoKTsNCisJCX0NCisJCXJldHVybiBudWxsOw0KKwl9DQor
DQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJz
LklUcmVlQ29udGVudFByb3ZpZGVyI2hhc0NoaWxkcmVuKGphdmEubGFuZy5PYmplY3QpDQorCSAq
Lw0KKwlwdWJsaWMgYm9vbGVhbiBoYXNDaGlsZHJlbihPYmplY3QgZWxlbWVudCkgew0KKwkJcmV0
dXJuIChnZXRDaGlsZHJlbihlbGVtZW50KS5sZW5ndGggPiAwKTsNCisJfQ0KKw0KKwkvKiAobm9u
LUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy5JU3RydWN0dXJl
ZENvbnRlbnRQcm92aWRlciNnZXRFbGVtZW50cyhqYXZhLmxhbmcuT2JqZWN0KQ0KKwkgKi8NCisJ
cHVibGljIE9iamVjdFtdIGdldEVsZW1lbnRzKE9iamVjdCBpbnB1dEVsZW1lbnQpIHsNCisJCXJl
dHVybiBnZXRDaGlsZHJlbihpbnB1dEVsZW1lbnQpOw0KKwl9DQorDQorfQ0KSW5kZXg6IHNyYy9v
cmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscFRyZWVTZWN0
aW9uLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVy
bmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBUcmVlU2VjdGlvbi5qYXZhDQpkaWZmIC1OIHNy
Yy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscFRyZWVT
ZWN0aW9uLmphdmENCi0tLSAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KKysr
IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscFRy
ZWVTZWN0aW9uLmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAgLTAsMCArMSwxMTc4
IEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIwMDcgSUJN
IENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBw
cm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRlIGF2YWls
YWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0K
KyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxl
IGF0DQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKg0K
KyAqIENvbnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkg
YW5kIGltcGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQorDQorcGFja2Fn
ZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHA7DQorDQoraW1wb3J0
IGphdmEudXRpbC4qOw0KK2ltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCitpbXBvcnQgb3JnLmVjbGlw
c2UuY29yZS5yZXNvdXJjZXMuKjsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLklQ
YXRoOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuUGF0aDsNCitpbXBvcnQgb3Jn
LmVjbGlwc2UuamZhY2UuYWN0aW9uLio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLmRpYWxv
Z3MuTWVzc2FnZURpYWxvZzsNCitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy4qOw0K
K2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuY29yZS5JTW9kZWxDaGFuZ2VkRXZlbnQ7DQoraW1wb3J0
IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLmljdHhoZWxwLklDdHhIZWxwQ29uc3RhbnRz
Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LklEb2N1bWVudEVs
ZW1lbnROb2RlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0
eGhlbHAuKjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLlBERVBsdWdpbjsN
CitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLlBERVVJTWVzc2FnZXM7DQoraW1w
b3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuKjsNCitpbXBvcnQgb3JnLmVj
bGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5hY3Rpb25zLkNvbGxhcHNlQWN0aW9uOw0KK2lt
cG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLnBsdWdpbi5Gb3JtRmlsdGVy
ZWRUcmVlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLnRvYy5I
ZWxwRWRpdG9yVXRpbDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLnBhcnRz
LlRyZWVQYXJ0Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkudXRpbC5QREVM
YWJlbFV0aWxpdHk7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5TV1Q7DQoraW1wb3J0IG9yZy5l
Y2xpcHNlLnN3dC5kbmQuKjsNCitpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LmV2ZW50cy5EaXNwb3Nl
RXZlbnQ7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5ldmVudHMuRGlzcG9zZUxpc3RlbmVyOw0K
K2ltcG9ydCBvcmcuZWNsaXBzZS5zd3QuZ3JhcGhpY3MuQ3Vyc29yOw0KK2ltcG9ydCBvcmcuZWNs
aXBzZS5zd3Qud2lkZ2V0cy4qOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS51aS5QYXJ0SW5pdEV4Y2Vw
dGlvbjsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWkuUGxhdGZvcm1VSTsNCitpbXBvcnQgb3JnLmVj
bGlwc2UudWkuYWN0aW9ucy5BY3Rpb25GYWN0b3J5Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS51aS5h
Y3Rpb25zLkNvbnRyaWJ1dGlvbkl0ZW1GYWN0b3J5Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS51aS5k
aWFsb2dzLlBhdHRlcm5GaWx0ZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmZvcm1zLndpZGdl
dHMuRm9ybVRvb2xraXQ7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmZvcm1zLndpZGdldHMuU2Vj
dGlvbjsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWkuaWRlLklERTsNCitpbXBvcnQgb3JnLmVjbGlw
c2UudWkua2V5cy5JQmluZGluZ1NlcnZpY2U7DQorDQorLyoqDQorICogVG9jVHJlZVNlY3Rpb24g
LSBUaGUgc2VjdGlvbiB0aGF0IGRpc3BsYXlzIHRoZSBUT0MNCisgKiB0cmVlIHN0cnVjdHVyZSBh
bmQgYW55IGJ1dHRvbnMgdXNlZCB0byBtYW5pcHVsYXRlIGl0Lg0KKyAqIFRoaXMgaXMgdGhlIG1h
aW4gc2VjdGlvbiB0aGF0IHRoZSB1c2VyIHdpbGwgaW50ZXJhY3QNCisgKiB3aXRoIHRoZSBUT0Mg
dGhyb3VnaC4NCisgKi8NCitwdWJsaWMgY2xhc3MgQ3R4SGVscFRyZWVTZWN0aW9uIGV4dGVuZHMg
VHJlZVNlY3Rpb24gew0KKwlwcml2YXRlIEN0eEhlbHBNb2RlbCBmTW9kZWw7DQorCXByaXZhdGUg
VHJlZVZpZXdlciBmVHJlZTsNCisJcHJpdmF0ZSBGb3JtRmlsdGVyZWRUcmVlIGZGaWx0ZXJlZFRy
ZWU7DQorDQorCS8qIFRoZSBpbmRpY2VzIGZvciBlYWNoIGJ1dHRvbiBhdHRhY2hlZCB0byB0aGUg
VHJlZSBWaWV3ZXIuDQorCSAqIFRoaXMgdHlwZSBvZiBVSSBmb3JtIGRvZXMgbm90IHBlcm1pdCBk
aXJlY3QgYWNjZXNzIHRvIGVhY2ggcGFydGljdWxhcg0KKwkgKiBidXR0b24uIEhvd2V2ZXIsIHVz
aW5nIHRoZXNlIGluZGljZXMsIG9uZSBjYW4gcGVyZm9ybSBhbnkgdHlwaWNhbCBTV1QNCisJICog
b3BlcmF0aW9uIG9uIGFueSBidXR0b24uDQorCSAqLw0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBp
bnQgRl9CVVRUT05fQUREX0NPTlRFWFQgPSAwOw0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBpbnQg
Rl9CVVRUT05fQUREX1RPUElDID0gMjsNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgaW50IEZfQlVU
VE9OX0FERF9DT01NQU5EID0gMzsNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgaW50IEZfQlVUVE9O
X1JFTU9WRSA9IDU7DQorCXByaXZhdGUgc3RhdGljIGZpbmFsIGludCBGX0JVVFRPTl9VUCA9IDY7
DQorCXByaXZhdGUgc3RhdGljIGZpbmFsIGludCBGX0JVVFRPTl9ET1dOID0gNzsNCisNCisJcHJp
dmF0ZSBzdGF0aWMgZmluYWwgaW50IEZfVVBfRkxBRyA9IC0xOw0KKwlwcml2YXRlIHN0YXRpYyBm
aW5hbCBpbnQgRl9ET1dOX0ZMQUcgPSAxOw0KKw0KKwkvLyBUaGUgYWN0aW9uIHRoYXQgY29sbGFw
c2VzIGRvd24gdGhlIFRPQyB0cmVlDQorCXByaXZhdGUgQ29sbGFwc2VBY3Rpb24gZkNvbGxhcHNl
QWN0aW9uOw0KKw0KKwkvLyBUaGUgYWN0aW9ucyB0aGF0IHdpbGwgYWRkIGVhY2ggdHlwZSBvZiBU
T0Mgb2JqZWN0DQorCXByaXZhdGUgQ3R4SGVscEFic3RyYWN0QWRkQWN0aW9uIGZBZGRDb250ZXh0
QWN0aW9uOw0KKwlwcml2YXRlIEN0eEhlbHBBYnN0cmFjdEFkZEFjdGlvbiBmQWRkVG9waWNBY3Rp
b247DQorCXByaXZhdGUgQ3R4SGVscEFic3RyYWN0QWRkQWN0aW9uIGZBZGRDb21tYW5kQWN0aW9u
Ow0KKw0KKwkvLyBUaGUgb2JqZWN0IHJlbW92YWwgYWN0aW9uDQorCXByaXZhdGUgQ3R4SGVscFJl
bW92ZUFjdGlvbiBmUmVtb3ZlT2JqZWN0QWN0aW9uOw0KKw0KKwkvLyBUaGUgYWN0aW9uIGZvciBv
cGVuaW5nIGEgbGluayBmcm9tIHRoZSBjb250ZXh0IG1lbnUNCisJcHJpdmF0ZSBPcGVuTGlua0Fj
dGlvbiBmT3BlbkxpbmtBY3Rpb247DQorDQorCS8vIFRoZSBhZGFwdGVyIHRoYXQgd2lsbCBsaXN0
ZW4gZm9yIGRyYWcgZXZlbnRzIGluIHRoZSB0cmVlDQorCXByaXZhdGUgQ3R4SGVscERyYWdBZGFw
dGVyIGZEcmFnQWRhcHRlcjsNCisNCisJLyoqIElmIGl0ZW1zIGFyZSBkcmFnZ2VkIGFuZCBkcm9w
cGVkIHdpdGhpbiB0aGlzIHRyZWUsIHRoZW4NCisJICogdGhpcyBmbGFnIGluaGliaXRzIHJlc2Vs
ZWN0aW9uIG9uIHRoZSByZW1vdmFsIChkcmFnKSBhY3Rpb24sDQorCSAqIHRodXMgZW5zdXJpbmcg
dGhhdCB0aGUgc2VsZWN0ZWQgb2JqZWN0cyBhcmUgdGhlIG9uZXMgdGhhdCB3ZXJlDQorCSAqIGRy
b3BwZWQuDQorCSAqLw0KKwlwcml2YXRlIGJvb2xlYW4gZkRyYWdGcm9tSGVyZTsNCisNCisJY2xh
c3MgT3BlbkxpbmtBY3Rpb24gZXh0ZW5kcyBBY3Rpb24gew0KKw0KKwkJcHJpdmF0ZSBDdHhIZWxw
VG9waWMgZk9wZW5UYXJnZXQ7DQorDQorCQlwdWJsaWMgT3BlbkxpbmtBY3Rpb24oKSB7DQorCQkJ
c3VwZXIoUERFVUlNZXNzYWdlcy5BY3Rpb25zX29wZW5fbGFiZWwpOw0KKwkJfQ0KKw0KKwkJcHVi
bGljIHZvaWQgc2V0VGFyZ2V0KEN0eEhlbHBUb3BpYyB0YXJnZXQpIHsNCisJCQlmT3BlblRhcmdl
dCA9IHRhcmdldDsNCisJCX0NCisNCisJCXB1YmxpYyB2b2lkIHJ1bigpIHsNCisJCQlpZiAoZk9w
ZW5UYXJnZXQgIT0gbnVsbCkgew0KKwkJCQlvcGVuKGZPcGVuVGFyZ2V0KTsNCisJCQl9DQorCQl9
DQorCX0NCisNCisJLyoqDQorCSAqIENvbnN0cnVjdHMgYSBuZXcgVE9DIHRyZWUgc2VjdGlvbi4N
CisJICogDQorCSAqIEBwYXJhbSBmb3JtUGFnZSBUaGUgcGFnZSB0aGF0IHdpbGwgaG9sZCB0aGlz
IG5ldyB0cmVlIHNlY3Rpb24NCisJICogQHBhcmFtIHBhcmVudCBUaGUgcGFyZW50IGNvbXBvc2l0
ZSBpbiB0aGUgcGFnZSB0aGF0IHdpbGwgY29udGFpbiB0aGUgc2VjdGlvbiB3aWRnZXRzDQorCSAq
Lw0KKwlwdWJsaWMgQ3R4SGVscFRyZWVTZWN0aW9uKFBERUZvcm1QYWdlIGZvcm1QYWdlLCBDb21w
b3NpdGUgcGFyZW50KSB7DQorDQorCQkvKiBDcmVhdGUgYSBuZXcgc2VjdGlvbiB3aXRoIGEgZGVz
Y3JpcHRpb24gYXJlYSwgYW5kIHNvbWUgYnV0dG9ucy4NCisJCSAqIFRoZSBudWxsIGVudHJpZXMg
aW4gdGhlIFN0cmluZyBhcnJheSB3aWxsIGJlY29tZSBibGFuayBzcGFjZSANCisJCSAqIHNlcGFy
YXRvcnMgYmV0d2VlbiB0aGUgYnV0dG9ucy4NCisJCSAqLw0KKwkJc3VwZXIoZm9ybVBhZ2UsIHBh
cmVudCwgU2VjdGlvbi5ERVNDUklQVElPTiwgbmV3IFN0cmluZ1tdIHsiQWRkIENvbnRleHQiLCBu
dWxsLCAiQWRkIFRvcGljIiwgIkFkZCBDb21tYW5kIiwgbnVsbCwgUERFVUlNZXNzYWdlcy5Ub2NQ
YWdlX3JlbW92ZSwgUERFVUlNZXNzYWdlcy5Ub2NQYWdlX3VwLCBQREVVSU1lc3NhZ2VzLlRvY1Bh
Z2VfZG93bn0pOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNs
aXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBERVNlY3Rpb24jY3JlYXRlQ2xpZW50KG9yZy5l
Y2xpcHNlLnVpLmZvcm1zLndpZGdldHMuU2VjdGlvbiwgb3JnLmVjbGlwc2UudWkuZm9ybXMud2lk
Z2V0cy5Gb3JtVG9vbGtpdCkNCisJICovDQorCXByb3RlY3RlZCB2b2lkIGNyZWF0ZUNsaWVudChT
ZWN0aW9uIHNlY3Rpb24sIEZvcm1Ub29sa2l0IHRvb2xraXQpIHsNCisJCS8vIEdldCB0aGUgbW9k
ZWwNCisJCWZNb2RlbCA9IChDdHhIZWxwTW9kZWwpIGdldFBhZ2UoKS5nZXRNb2RlbCgpOw0KKw0K
KwkJLy8gQ3JlYXRlIGEgY29udGFpbmVyIGluIHRoZSBzZWN0aW9uDQorCQlDb21wb3NpdGUgY29u
dGFpbmVyID0gY3JlYXRlQ2xpZW50Q29udGFpbmVyKHNlY3Rpb24sIDIsIHRvb2xraXQpOw0KKwkJ
Ly8gQ3JlYXRlIGEgVE9DIHRyZWUgaW4gdGhlIG5ldyBjb250YWluZXINCisJCWNyZWF0ZVRyZWUo
Y29udGFpbmVyLCB0b29sa2l0KTsNCisJCXRvb2xraXQucGFpbnRCb3JkZXJzRm9yKGNvbnRhaW5l
cik7DQorCQlzZWN0aW9uLnNldFRleHQoUERFVUlNZXNzYWdlcy5Ub2NUcmVlU2VjdGlvbl90aXRs
ZSk7DQorCQlzZWN0aW9uLnNldERlc2NyaXB0aW9uKFBERVVJTWVzc2FnZXMuVG9jVHJlZVNlY3Rp
b25fc2VjdGlvbkRlc2NyaXB0aW9uKTsNCisJCXNlY3Rpb24uc2V0Q2xpZW50KGNvbnRhaW5lcik7
DQorDQorCQljcmVhdGVDb21tYW5kcygpOw0KKw0KKwkJaW5pdGlhbGl6ZVRyZWVWaWV3ZXIoKTsN
CisJCWNyZWF0ZVNlY3Rpb25Ub29sYmFyKHNlY3Rpb24sIHRvb2xraXQpOw0KKw0KKwkJLy8gQ3Jl
YXRlIHRoZSBhZGFwdGVkIGxpc3RlbmVyIGZvciB0aGUgZmlsdGVyIGVudHJ5IGZpZWxkDQorCQlm
RmlsdGVyZWRUcmVlLmNyZWF0ZVVJTGlzdGVuZXJFbnRyeUZpbHRlcih0aGlzKTsNCisJfQ0KKw0K
Kwlwcml2YXRlIHZvaWQgY3JlYXRlQ29tbWFuZHMoKSB7DQorCQlmQWRkQ29udGV4dEFjdGlvbiA9
IG5ldyBDdHhIZWxwQWJzdHJhY3RBZGRBY3Rpb24oKSB7DQorCQkJcHVibGljIHZvaWQgcnVuKCkg
ew0KKwkJCQlpZiAoZlBhcmVudE9iamVjdCAhPSBudWxsKSB7DQorCQkJCQlDdHhIZWxwQ29udGV4
dCBjb250ZXh0ID0gZlBhcmVudE9iamVjdC5nZXRNb2RlbCgpLmdldEZhY3RvcnkoKS5jcmVhdGVD
b250ZXh0KCk7DQorCQkJCQlTdHJpbmcgaWQgPSBQREVMYWJlbFV0aWxpdHkuZ2VuZXJhdGVOYW1l
KGdldENoaWxkTmFtZXMoKSwgIkhlbHBfQ29udGV4dCIpOw0KKwkJCQkJY29udGV4dC5zZXRJRChp
ZCk7DQorCQkJCQlhZGRDaGlsZChjb250ZXh0KTsNCisJCQkJfQ0KKwkJCX0NCisJCX07DQorCQlm
QWRkQ29udGV4dEFjdGlvbi5zZXRUZXh0KCJDb250ZXh0Iik7DQorCQlmQWRkVG9waWNBY3Rpb24g
PSBuZXcgQ3R4SGVscEFic3RyYWN0QWRkQWN0aW9uKCkgew0KKwkJCXB1YmxpYyB2b2lkIHJ1bigp
IHsNCisJCQkJaWYgKGZQYXJlbnRPYmplY3QgIT0gbnVsbCkgew0KKwkJCQkJQ3R4SGVscFRvcGlj
IHRvcGljID0gZlBhcmVudE9iamVjdC5nZXRNb2RlbCgpLmdldEZhY3RvcnkoKS5jcmVhdGVUb3Bp
YygpOw0KKwkJCQkJU3RyaW5nIGxhYmVsID0gUERFTGFiZWxVdGlsaXR5LmdlbmVyYXRlTmFtZShn
ZXRDaGlsZE5hbWVzKCksICJIZWxwX1RvcGljIik7DQorCQkJCQl0b3BpYy5zZXRMYWJlbChsYWJl
bCk7DQorCQkJCQlhZGRDaGlsZCh0b3BpYyk7DQorCQkJCX0NCisJCQl9DQorCQl9Ow0KKwkJZkFk
ZFRvcGljQWN0aW9uLnNldFRleHQoIlRvcGljIik7DQorCQlmQWRkQ29tbWFuZEFjdGlvbiA9IG5l
dyBDdHhIZWxwQWJzdHJhY3RBZGRBY3Rpb24oKSB7DQorCQkJcHVibGljIHZvaWQgcnVuKCkgew0K
KwkJCQlpZiAoZlBhcmVudE9iamVjdCAhPSBudWxsKSB7DQorCQkJCQlDdHhIZWxwQ29tbWFuZCBj
b21tYW5kID0gZlBhcmVudE9iamVjdC5nZXRNb2RlbCgpLmdldEZhY3RvcnkoKS5jcmVhdGVDb21t
YW5kKCk7DQorCQkJCQlTdHJpbmcgbGFiZWwgPSBQREVMYWJlbFV0aWxpdHkuZ2VuZXJhdGVOYW1l
KGdldENoaWxkTmFtZXMoKSwgIkhlbHBfQ29tbWFuZCIpOw0KKwkJCQkJY29tbWFuZC5zZXRMYWJl
bChsYWJlbCk7DQorCQkJCQlhZGRDaGlsZChjb21tYW5kKTsNCisJCQkJfQ0KKwkJCX0NCisJCX07
DQorCQlmQWRkQ29tbWFuZEFjdGlvbi5zZXRUZXh0KCJDb21tYW5kIik7DQorDQorCQlmUmVtb3Zl
T2JqZWN0QWN0aW9uID0gbmV3IEN0eEhlbHBSZW1vdmVBY3Rpb24oKTsNCisNCisJCWZPcGVuTGlu
a0FjdGlvbiA9IG5ldyBPcGVuTGlua0FjdGlvbigpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBBZGRz
IGEgbGluayAod2l0aCBoYW5kIGN1cnNvcikgZm9yIHRyZWUgJ0NvbGxhcHNlIEFsbCcgYWN0aW9u
LA0KKwkgKiB3aGljaCBjb2xsYXBzZXMgdGhlIFRPQyB0cmVlIGRvd24gdG8gdGhlIHNlY29uZCBs
ZXZlbA0KKwkgKiANCisJICogQHBhcmFtIHNlY3Rpb24gVGhlIHNlY3Rpb24gdGhhdCB0aGUgdG9v
bGJhciB3aWxsIGJlbG9uZyB0bw0KKwkgKiBAcGFyYW0gdG9vbGtpdCBUaGUgdG9vbGtpdCB0aGF0
IHdpbGwgYmUgdXNlZCB0byBtYWtlIHRoZSB0b29sYmFyDQorCSAqLw0KKwlwcml2YXRlIHZvaWQg
Y3JlYXRlU2VjdGlvblRvb2xiYXIoU2VjdGlvbiBzZWN0aW9uLCBGb3JtVG9vbGtpdCB0b29sa2l0
KSB7DQorCQlUb29sQmFyTWFuYWdlciB0b29sQmFyTWFuYWdlciA9IG5ldyBUb29sQmFyTWFuYWdl
cihTV1QuRkxBVCk7DQorCQlUb29sQmFyIHRvb2xiYXIgPSB0b29sQmFyTWFuYWdlci5jcmVhdGVD
b250cm9sKHNlY3Rpb24pOw0KKw0KKwkJZmluYWwgQ3Vyc29yIGhhbmRDdXJzb3IgPSBuZXcgQ3Vy
c29yKERpc3BsYXkuZ2V0Q3VycmVudCgpLCBTV1QuQ1VSU09SX0hBTkQpOw0KKwkJdG9vbGJhci5z
ZXRDdXJzb3IoaGFuZEN1cnNvcik7DQorCQkvLyBDdXJzb3IgbmVlZHMgdG8gYmUgZXhwbGljaXRs
eSBkaXNwb3NlZA0KKwkJdG9vbGJhci5hZGREaXNwb3NlTGlzdGVuZXIobmV3IERpc3Bvc2VMaXN0
ZW5lcigpIHsNCisJCQlwdWJsaWMgdm9pZCB3aWRnZXREaXNwb3NlZChEaXNwb3NlRXZlbnQgZSkg
ew0KKwkJCQlpZiAoKGhhbmRDdXJzb3IgIT0gbnVsbCkgJiYgKGhhbmRDdXJzb3IuaXNEaXNwb3Nl
ZCgpID09IGZhbHNlKSkgew0KKwkJCQkJaGFuZEN1cnNvci5kaXNwb3NlKCk7DQorCQkJCX0NCisJ
CQl9DQorCQl9KTsNCisNCisJCS8vIEFkZCBjb2xsYXBzZSBhY3Rpb24gdG8gdGhlIHRvb2wgYmFy
DQorCQlmQ29sbGFwc2VBY3Rpb24gPSBuZXcgQ29sbGFwc2VBY3Rpb24oZlRyZWUsIFBERVVJTWVz
c2FnZXMuRXh0ZW5zaW9uc1BhZ2VfY29sbGFwc2VBbGwsIDEsIGZNb2RlbC5nZXRDdHhIZWxwUm9v
dCgpKTsNCisJCXRvb2xCYXJNYW5hZ2VyLmFkZChmQ29sbGFwc2VBY3Rpb24pOw0KKw0KKwkJdG9v
bEJhck1hbmFnZXIudXBkYXRlKHRydWUpOw0KKwkJc2VjdGlvbi5zZXRUZXh0Q2xpZW50KHRvb2xi
YXIpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBDcmVhdGUgdGhlIHRyZWUgd2lkZ2V0IHRoYXQgd2ls
bCBjb250YWluIHRoZSBUT0MNCisJICogDQorCSAqIEBwYXJhbSBjb250YWluZXIgVGhlIGNvbnRh
aW5lciBvZiB0aGUgdHJlZSB3aWRnZXQNCisJICogQHBhcmFtIHRvb2xraXQgVGhlIHRvb2xraXQg
dXNlZCB0byBjcmVhdGUgdGhlIHRyZWUNCisJICovDQorCXByaXZhdGUgdm9pZCBjcmVhdGVUcmVl
KENvbXBvc2l0ZSBjb250YWluZXIsIEZvcm1Ub29sa2l0IHRvb2xraXQpIHsNCisJCVRyZWVQYXJ0
IHRyZWVQYXJ0ID0gZ2V0VHJlZVBhcnQoKTsNCisJCWNyZWF0ZVZpZXdlclBhcnRDb250cm9sKGNv
bnRhaW5lciwgU1dULk1VTFRJLCAyLCB0b29sa2l0KTsNCisNCisJCWZUcmVlID0gdHJlZVBhcnQu
Z2V0VHJlZVZpZXdlcigpOw0KKwkJZlRyZWUuc2V0Q29udGVudFByb3ZpZGVyKG5ldyBDdHhIZWxw
Q29udGVudFByb3ZpZGVyKCkpOw0KKwkJZlRyZWUuc2V0TGFiZWxQcm92aWRlcihQREVQbHVnaW4u
Z2V0RGVmYXVsdCgpLmdldExhYmVsUHJvdmlkZXIoKSk7DQorDQorCQlQREVQbHVnaW4uZ2V0RGVm
YXVsdCgpLmdldExhYmVsUHJvdmlkZXIoKS5jb25uZWN0KHRoaXMpOw0KKw0KKwkJY3JlYXRlVHJl
ZUxpc3RlbmVycygpOw0KKwkJaW5pdERyYWdBbmREcm9wKCk7DQorCX0NCisNCisJLyoqDQorCSAq
IEluaXRpYWxpemUgdGhlIHNlY3Rpb24ncyBkcmFnIGFuZCBkcm9wIGNhcGFiaWxpdGllcw0KKwkg
Ki8NCisJcHJpdmF0ZSB2b2lkIGluaXREcmFnQW5kRHJvcCgpIHsNCisJCWludCBvcHMgPSBETkQu
RFJPUF9DT1BZOw0KKwkJaWYgKGlzRWRpdGFibGUoKSkgew0KKwkJCW9wcyB8PSBETkQuRFJPUF9N
T1ZFOw0KKwkJfQ0KKw0KKwkJLy9Db250ZW50IGRyYWdnZWQgZnJvbSB0aGUgdHJlZSB2aWV3ZXIg
Y2FuIGJlIHRyZWF0ZWQgYXMgbW9kZWwgb2JqZWN0cyAoVG9jT2JqZWN0cykNCisJCS8vb3IgYXMg
dGV4dCAoWE1MIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBUb2NPYmplY3RzKQ0KKwkJVHJhbnNmZXJb
XSBkcmFnVHJhbnNmZXJzID0gbmV3IFRyYW5zZmVyW10ge01vZGVsRGF0YVRyYW5zZmVyLmdldElu
c3RhbmNlKCksIFRleHRUcmFuc2Zlci5nZXRJbnN0YW5jZSgpfTsNCisJCWZEcmFnQWRhcHRlciA9
IG5ldyBDdHhIZWxwRHJhZ0FkYXB0ZXIodGhpcyk7DQorCQlmVHJlZS5hZGREcmFnU3VwcG9ydChv
cHMsIGRyYWdUcmFuc2ZlcnMsIGZEcmFnQWRhcHRlcik7DQorDQorCQlpZiAoaXNFZGl0YWJsZSgp
KSB7IC8vTW9kZWwgb2JqZWN0cyBhbmQgZmlsZXMgY2FuIGJlIGRyb3BwZWQgb250byB0aGUgdmll
d2VyDQorCQkJLy9UT0RPOiBDb25zaWRlciBhbGxvd2luZyBkcm9wcy9wYXN0ZXMgb2YgcHVyZSBY
TUwgdGV4dA0KKwkJCVRyYW5zZmVyW10gZHJvcFRyYW5zZmVycyA9IG5ldyBUcmFuc2ZlcltdIHtN
b2RlbERhdGFUcmFuc2Zlci5nZXRJbnN0YW5jZSgpLCBGaWxlVHJhbnNmZXIuZ2V0SW5zdGFuY2Uo
KX07DQorCQkJZlRyZWUuYWRkRHJvcFN1cHBvcnQob3BzIHwgRE5ELkRST1BfREVGQVVMVCwgZHJv
cFRyYW5zZmVycywgbmV3IEN0eEhlbHBEcm9wQWRhcHRlcihmVHJlZSwgdGhpcykpOw0KKwkJfQ0K
Kwl9DQorDQorCS8qKg0KKwkgKiBDcmVhdGUgdGhlIGFjdGlvbiBsaXN0ZW5lcnMgZm9yIHRoZSB0
cmVlLg0KKwkgKi8NCisJcHJpdmF0ZSB2b2lkIGNyZWF0ZVRyZWVMaXN0ZW5lcnMoKSB7DQorCQkv
LyBDcmVhdGUgbGlzdGVuZXIgZm9yIHRoZSBvdXRsaW5lIHZpZXcgJ2xpbmsgd2l0aCBlZGl0b3In
IHRvZ2dsZSBidXR0b24NCisJCWZUcmVlLmFkZFBvc3RTZWxlY3Rpb25DaGFuZ2VkTGlzdGVuZXIo
Z2V0UGFnZSgpLmdldFBERUVkaXRvcigpLm5ldyBQREVGb3JtRWRpdG9yQ2hhbmdlTGlzdGVuZXIo
KSk7DQorCX0NCisNCisJLyoqDQorCSAqIEluaXRpYWxpemUgdGhlIHRyZWUgdmlld2VyIHdpZGdl
dCBhbmQgaXRzIGJ1dHRvbnMuDQorCSAqLw0KKwlwcml2YXRlIHZvaWQgaW5pdGlhbGl6ZVRyZWVW
aWV3ZXIoKSB7DQorCQlpZiAoZk1vZGVsID09IG51bGwpIHsNCisJCQlyZXR1cm47DQorCQl9DQor
DQorCQlDdHhIZWxwUm9vdCByb290ID0gZk1vZGVsLmdldEN0eEhlbHBSb290KCk7DQorCQlmVHJl
ZS5zZXRJbnB1dChyb290KTsNCisNCisJCS8vIEJ1dHRvbnMgbXVzdCBiZSBkaXNhYmxlZCBpZiBm
aWxlIGlzIGluZWRpdGFibGUNCisJCWdldFRyZWVQYXJ0KCkuc2V0QnV0dG9uRW5hYmxlZChGX0JV
VFRPTl9BRERfQ09OVEVYVCwgaXNFZGl0YWJsZSgpKTsNCisJCWdldFRyZWVQYXJ0KCkuc2V0QnV0
dG9uRW5hYmxlZChGX0JVVFRPTl9BRERfQ09NTUFORCwgaXNFZGl0YWJsZSgpKTsNCisJCWdldFRy
ZWVQYXJ0KCkuc2V0QnV0dG9uRW5hYmxlZChGX0JVVFRPTl9BRERfVE9QSUMsIGlzRWRpdGFibGUo
KSk7DQorDQorCQkvLyBTZXQgdG8gZmFsc2UgYmVjYXVzZSBpbml0aWFsIG5vZGUgc2VsZWN0ZWQg
aXMgdGhlIHJvb3QgVE9DIG5vZGUNCisJCWdldFRyZWVQYXJ0KCkuc2V0QnV0dG9uRW5hYmxlZChG
X0JVVFRPTl9SRU1PVkUsIGZhbHNlKTsNCisJCS8vIFNldCB0byBmYWxzZSBiZWNhdXNlIGluaXRp
YWwgbm9kZSBzZWxlY3RlZCBpcyB0aGUgcm9vdCBUT0Mgbm9kZQ0KKwkJZ2V0VHJlZVBhcnQoKS5z
ZXRCdXR0b25FbmFibGVkKEZfQlVUVE9OX1VQLCBmYWxzZSk7DQorCQkvLyBTZXQgdG8gZmFsc2Ug
YmVjYXVzZSBpbml0aWFsIG5vZGUgc2VsZWN0ZWQgaXMgdGhlIHJvb3QgVE9DIG5vZGUNCisJCWdl
dFRyZWVQYXJ0KCkuc2V0QnV0dG9uRW5hYmxlZChGX0JVVFRPTl9ET1dOLCBmYWxzZSk7DQorDQor
CQkvL0luaXRpYWxseSwgdGhlIHJvb3QgVE9DIGVsZW1lbnQgaXMgc2VsZWN0ZWQNCisJCS8vCQlm
VHJlZS5zZXRTZWxlY3Rpb24obmV3IFN0cnVjdHVyZWRTZWxlY3Rpb24ocm9vdCksIHRydWUpOw0K
KwkJLy8JCWZUcmVlLmV4cGFuZFRvTGV2ZWwoMCk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9j
KQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnVpLmZvcm1zLkFic3RyYWN0Rm9ybVBhcnQjc2V0Rm9y
bUlucHV0KGphdmEubGFuZy5PYmplY3QpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBzZXRGb3Jt
SW5wdXQoT2JqZWN0IG9iamVjdCkgew0KKwkJLy8gVGhpcyBtZXRob2QgYWxsb3dzIHRoZSBvdXRs
aW5lIHZpZXcgdG8gc2VsZWN0IGl0ZW1zIGluIHRoZSB0cmVlDQorCQkvLyAoSW52b2tlZCBieSBv
cmcuZWNsaXBzZS51aS5mb3Jtcy5lZGl0b3IuSUZvcm1QYWdlLnNlbGVjdFJldmVhbChPYmplY3Qg
b2JqZWN0KSkNCisNCisJCWlmIChvYmplY3QgaW5zdGFuY2VvZiBDdHhIZWxwT2JqZWN0KSB7IC8v
IFNlbGVjdCB0aGUgaXRlbSBpbiB0aGUgdHJlZQ0KKwkJCWZUcmVlLnNldFNlbGVjdGlvbihuZXcg
U3RydWN0dXJlZFNlbGVjdGlvbihvYmplY3QpLCB0cnVlKTsNCisNCisJCQkvLyBWZXJpZnkgdGhh
dCBzb21ldGhpbmcgd2FzIGFjdHVhbGx5IHNlbGVjdGVkDQorCQkJSVNlbGVjdGlvbiBzZWxlY3Rp
b24gPSBmVHJlZS5nZXRTZWxlY3Rpb24oKTsNCisJCQlpZiAoc2VsZWN0aW9uICE9IG51bGwgJiYg
IXNlbGVjdGlvbi5pc0VtcHR5KCkpIHsNCisJCQkJcmV0dXJuIHRydWU7DQorCQkJfQ0KKwkJfQ0K
Kw0KKwkJcmV0dXJuIGZhbHNlOw0KKwl9DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuIHRoZSBzZWxl
Y3Rpb24gb2YgdGhlIHRyZWUgc2VjdGlvbg0KKwkgKi8NCisJcHVibGljIElTZWxlY3Rpb24gZ2V0
U2VsZWN0aW9uKCkgew0KKwkJcmV0dXJuIGZUcmVlLmdldFNlbGVjdGlvbigpOw0KKwl9DQorDQor
CS8qKg0KKwkgKiBAcGFyYW0gc2VsZWN0aW9uIHRoZSBuZXcgc2VsZWN0aW9uIGZvciB0aGUgdHJl
ZSBzZWN0aW9uDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBzZXRTZWxlY3Rpb24oSVNlbGVjdGlvbiBz
ZWxlY3Rpb24pIHsNCisJCWZUcmVlLnNldFNlbGVjdGlvbihzZWxlY3Rpb24pOw0KKwl9DQorDQor
CS8qKg0KKwkgKiBGaXJlIGEgc2VsZWN0aW9uIGNoYW5nZSBldmVudCBhbmQgcmVmcmVzaCB0aGUg
dmlld2VyJ3Mgc2VsZWN0aW9uDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBmaXJlU2VsZWN0aW9uKCkg
ew0KKwkJZlRyZWUuc2V0U2VsZWN0aW9uKGZUcmVlLmdldFNlbGVjdGlvbigpKTsNCisJfQ0KKw0K
KwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVp
LmVkaXRvci5UcmVlU2VjdGlvbiNzZWxlY3Rpb25DaGFuZ2VkKG9yZy5lY2xpcHNlLmpmYWNlLnZp
ZXdlcnMuSVN0cnVjdHVyZWRTZWxlY3Rpb24pDQorCSAqLw0KKwlwcm90ZWN0ZWQgdm9pZCBzZWxl
Y3Rpb25DaGFuZ2VkKElTdHJ1Y3R1cmVkU2VsZWN0aW9uIHNlbGVjdGlvbikgew0KKwkJZ2V0UGFn
ZSgpLmdldFBERUVkaXRvcigpLnNldFNlbGVjdGlvbihzZWxlY3Rpb24pOw0KKwkJdXBkYXRlQnV0
dG9ucygpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBVcGRhdGUgdGhlIGJ1dHRvbnMgaW4gdGhlIHNl
Y3Rpb24gYmFzZWQgb24gdGhlIGN1cnJlbnQgc2VsZWN0aW9uDQorCSAqLw0KKwlwdWJsaWMgdm9p
ZCB1cGRhdGVCdXR0b25zKCkgew0KKw0KKwkJaWYgKCFmTW9kZWwuaXNFZGl0YWJsZSgpKSB7DQor
CQkJcmV0dXJuOw0KKwkJfQ0KKw0KKwkJSVN0cnVjdHVyZWRTZWxlY3Rpb24gc2VsZWN0aW9uID0g
KElTdHJ1Y3R1cmVkU2VsZWN0aW9uKSBmVHJlZS5nZXRTZWxlY3Rpb24oKTsNCisJCUN0eEhlbHBP
YmplY3QgZmlyc3RTZWxlY3RlZE9iamVjdCA9IChDdHhIZWxwT2JqZWN0KSBzZWxlY3Rpb24uZ2V0
Rmlyc3RFbGVtZW50KCk7DQorDQorCQkvLyBBZGQgQ29udGV4dA0KKwkJZ2V0VHJlZVBhcnQoKS5z
ZXRCdXR0b25FbmFibGVkKEZfQlVUVE9OX0FERF9DT05URVhULCB0cnVlKTsNCisNCisJCS8vIEFk
ZCBUb3BpYw0KKwkJYm9vbGVhbiBlbmFibGVBZGQgPSBmYWxzZTsNCisJCWlmIChmaXJzdFNlbGVj
dGVkT2JqZWN0ICE9IG51bGwpIHsNCisJCQlpZiAoZmlyc3RTZWxlY3RlZE9iamVjdC5jYW5BZGRT
aWJsaW5nKElDdHhIZWxwQ29uc3RhbnRzLlRZUEVfVE9QSUMpKSB7DQorCQkJCWVuYWJsZUFkZCA9
IHRydWU7DQorCQkJfSBlbHNlIGlmIChmaXJzdFNlbGVjdGVkT2JqZWN0LmNhbkFkZENoaWxkKElD
dHhIZWxwQ29uc3RhbnRzLlRZUEVfVE9QSUMpKSB7DQorCQkJCWVuYWJsZUFkZCA9IHRydWU7DQor
CQkJfQ0KKwkJfQ0KKwkJZ2V0VHJlZVBhcnQoKS5zZXRCdXR0b25FbmFibGVkKEZfQlVUVE9OX0FE
RF9UT1BJQywgZW5hYmxlQWRkKTsNCisNCisJCS8vIEFkZCBDb21tYW5kDQorCQllbmFibGVBZGQg
PSBmYWxzZTsNCisJCWlmIChmaXJzdFNlbGVjdGVkT2JqZWN0ICE9IG51bGwpIHsNCisJCQlpZiAo
Zmlyc3RTZWxlY3RlZE9iamVjdC5jYW5BZGRTaWJsaW5nKElDdHhIZWxwQ29uc3RhbnRzLlRZUEVf
Q09NTUFORCkpIHsNCisJCQkJZW5hYmxlQWRkID0gdHJ1ZTsNCisJCQl9IGVsc2UgaWYgKGZpcnN0
U2VsZWN0ZWRPYmplY3QuY2FuQWRkQ2hpbGQoSUN0eEhlbHBDb25zdGFudHMuVFlQRV9DT01NQU5E
KSkgew0KKwkJCQllbmFibGVBZGQgPSB0cnVlOw0KKwkJCX0NCisJCX0NCisJCWdldFRyZWVQYXJ0
KCkuc2V0QnV0dG9uRW5hYmxlZChGX0JVVFRPTl9BRERfQ09NTUFORCwgZW5hYmxlQWRkKTsNCisN
CisJCS8vIFJlbW92ZSBidXR0b24NCisJCWdldFRyZWVQYXJ0KCkuc2V0QnV0dG9uRW5hYmxlZChG
X0JVVFRPTl9SRU1PVkUsIGdldFJlbW92YWJsZU9iamVjdEZyb21TZWxlY3Rpb24oc2VsZWN0aW9u
KS5zaXplKCkgPiAwKTsNCisNCisJCS8vIFVwIGFuZCBEb3duIGJ1dHRvbnMNCisJCWJvb2xlYW4g
Y2FuTW92ZVVwID0gdHJ1ZTsNCisJCWJvb2xlYW4gY2FuTW92ZURvd24gPSB0cnVlOw0KKwkJaWYg
KGZpcnN0U2VsZWN0ZWRPYmplY3QgPT0gbnVsbCB8fCBmaXJzdFNlbGVjdGVkT2JqZWN0LmdldFR5
cGUoKSA9PSBJQ3R4SGVscENvbnN0YW50cy5UWVBFX1JPT1QgfHwgZmlyc3RTZWxlY3RlZE9iamVj
dC5nZXRUeXBlKCkgPT0gSUN0eEhlbHBDb25zdGFudHMuVFlQRV9ERVNDUklQVElPTiB8fCBzZWxl
Y3Rpb24uc2l6ZSgpID4gMSkgew0KKwkJCWNhbk1vdmVVcCA9IGZhbHNlOw0KKwkJCWNhbk1vdmVE
b3duID0gZmFsc2U7DQorCQl9IGVsc2Ugew0KKwkJCUN0eEhlbHBPYmplY3QgcGFyZW50ID0gZmly
c3RTZWxlY3RlZE9iamVjdC5nZXRQYXJlbnQoKTsNCisJCQlpZiAocGFyZW50ICE9IG51bGwpIHsN
CisJCQkJaWYgKHBhcmVudC5pc0ZpcnN0Q2hpbGROb2RlKGZpcnN0U2VsZWN0ZWRPYmplY3QsIGZp
cnN0U2VsZWN0ZWRPYmplY3QuZ2V0Q2xhc3MoKSkpIHsNCisJCQkJCWNhbk1vdmVVcCA9IGZhbHNl
Ow0KKwkJCQl9DQorCQkJCWlmIChwYXJlbnQuaXNMYXN0Q2hpbGROb2RlKGZpcnN0U2VsZWN0ZWRP
YmplY3QsIGZpcnN0U2VsZWN0ZWRPYmplY3QuZ2V0Q2xhc3MoKSkpIHsNCisJCQkJCWNhbk1vdmVE
b3duID0gZmFsc2U7DQorCQkJCX0NCisJCQl9DQorCQl9DQorCQlnZXRUcmVlUGFydCgpLnNldEJ1
dHRvbkVuYWJsZWQoRl9CVVRUT05fVVAsIGNhbk1vdmVVcCk7DQorCQlnZXRUcmVlUGFydCgpLnNl
dEJ1dHRvbkVuYWJsZWQoRl9CVVRUT05fRE9XTiwgY2FuTW92ZURvd24pOw0KKwl9DQorDQorCS8q
IChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLlN0cnVjdHVyZWRWaWV3ZXJTZWN0aW9uI2ZpbGxDb250ZXh0TWVudShvcmcuZWNsaXBzZS5q
ZmFjZS5hY3Rpb24uSU1lbnVNYW5hZ2VyKQ0KKwkgKi8NCisJcHJvdGVjdGVkIHZvaWQgZmlsbENv
bnRleHRNZW51KElNZW51TWFuYWdlciBtYW5hZ2VyKSB7DQorCQkvLyBHZXQgdGhlIGN1cnJlbnQg
c2VsZWN0aW9uDQorCQlJU3RydWN0dXJlZFNlbGVjdGlvbiBzZWxlY3Rpb24gPSAoSVN0cnVjdHVy
ZWRTZWxlY3Rpb24pIGZUcmVlLmdldFNlbGVjdGlvbigpOw0KKwkJT2JqZWN0IG9iamVjdCA9IHNl
bGVjdGlvbi5nZXRGaXJzdEVsZW1lbnQoKTsNCisJCS8vIEhhcyB0byBiZSBudWxsIG9yIGEgQ3R4
SGVscE9iamVjdCBvYmplY3QNCisJCUN0eEhlbHBPYmplY3QgZmlyc3RTZWxlY3RlZE9iamVjdCA9
IChDdHhIZWxwT2JqZWN0KSBvYmplY3Q7DQorDQorCQlpZiAoZmlyc3RTZWxlY3RlZE9iamVjdCAh
PSBudWxsKSB7DQorCQkJTWVudU1hbmFnZXIgc3VibWVudSA9IG5ldyBNZW51TWFuYWdlcihQREVV
SU1lc3NhZ2VzLk1lbnVzX25ld19sYWJlbCk7DQorDQorCQkJLy8gUG9wdWxhdGUgdGhlICJOZXci
IHN1Yi1tZW51DQorCQkJYm9vbGVhbiBhZGRNZW51ID0gZmFsc2U7DQorCQkJaWYgKHVwZGF0ZUFk
ZENvbnRleHRBY3Rpb25XaXRoU2VsZWN0aW9uKGZpcnN0U2VsZWN0ZWRPYmplY3QpKSB7DQorCQkJ
CXN1Ym1lbnUuYWRkKGZBZGRDb250ZXh0QWN0aW9uKTsNCisJCQkJYWRkTWVudSA9IHRydWU7DQor
CQkJfQ0KKwkJCWlmICh1cGRhdGVBZGRUb3BpY0FjdGlvbldpdGhTZWxlY3Rpb24oZmlyc3RTZWxl
Y3RlZE9iamVjdCkpIHsNCisJCQkJc3VibWVudS5hZGQoZkFkZFRvcGljQWN0aW9uKTsNCisJCQkJ
YWRkTWVudSA9IHRydWU7DQorCQkJfQ0KKwkJCWlmICh1cGRhdGVBZGRDb21tYW5kQWN0aW9uV2l0
aFNlbGVjdGlvbihmaXJzdFNlbGVjdGVkT2JqZWN0KSkgew0KKwkJCQlzdWJtZW51LmFkZChmQWRk
Q29tbWFuZEFjdGlvbik7DQorCQkJCWFkZE1lbnUgPSB0cnVlOw0KKwkJCX0NCisJCQlpZiAoYWRk
TWVudSkgew0KKwkJCQltYW5hZ2VyLmFkZChzdWJtZW51KTsNCisJCQkJbWFuYWdlci5hZGQobmV3
IFNlcGFyYXRvcigpKTsNCisJCQl9DQorCQl9DQorDQorCQlpZiAoZmlyc3RTZWxlY3RlZE9iamVj
dCBpbnN0YW5jZW9mIEN0eEhlbHBUb3BpYyAmJiAoKEN0eEhlbHBUb3BpYykgZmlyc3RTZWxlY3Rl
ZE9iamVjdCkuZ2V0TG9jYXRpb24oKSAhPSBudWxsKSB7DQorCQkJZk9wZW5MaW5rQWN0aW9uLnNl
dFRhcmdldCgoQ3R4SGVscFRvcGljKSBmaXJzdFNlbGVjdGVkT2JqZWN0KTsNCisJCQltYW5hZ2Vy
LmFkZChmT3BlbkxpbmtBY3Rpb24pOw0KKwkJCWZpbGxDb250ZXh0TWVudVNob3dJbkFjdGlvbiht
YW5hZ2VyKTsNCisJCQltYW5hZ2VyLmFkZChuZXcgU2VwYXJhdG9yKCkpOw0KKwkJfQ0KKw0KKwkJ
Ly8gQWRkIGNsaXBib2FyZCBhY3Rpb25zDQorCQlnZXRQYWdlKCkuZ2V0UERFRWRpdG9yKCkuZ2V0
Q29udHJpYnV0b3IoKS5jb250ZXh0TWVudUFib3V0VG9TaG93KG1hbmFnZXIpOw0KKwkJbWFuYWdl
ci5hZGQobmV3IFNlcGFyYXRvcigpKTsNCisNCisJCWlmICh1cGRhdGVSZW1vdmVBY3Rpb25XaXRo
U2VsZWN0aW9uKHNlbGVjdGlvbikpIHsNCisJCQltYW5hZ2VyLmFkZChmUmVtb3ZlT2JqZWN0QWN0
aW9uKTsNCisJCQltYW5hZ2VyLmFkZChuZXcgU2VwYXJhdG9yKCkpOw0KKwkJfQ0KKw0KKwl9DQor
DQorCXByaXZhdGUgdm9pZCBmaWxsQ29udGV4dE1lbnVTaG93SW5BY3Rpb24oSU1lbnVNYW5hZ2Vy
IG1hbmFnZXIpIHsNCisJCVN0cmluZyBzaG93SW5MYWJlbCA9IFBERVVJTWVzc2FnZXMuUGx1Z2lu
c1ZpZXdfc2hvd0luOw0KKw0KKwkJLy8gQWRkIGEgbGFiZWwgZm9yIHRoZSBrZXliaW5kaW5nIGZv
ciBTaG93IEluIGFjdGlvbiwgaWYgb25lIGV4aXN0cw0KKwkJSUJpbmRpbmdTZXJ2aWNlIGJpbmRp
bmdTZXJ2aWNlID0gKElCaW5kaW5nU2VydmljZSkgUGxhdGZvcm1VSS5nZXRXb3JrYmVuY2goKS5n
ZXRBZGFwdGVyKElCaW5kaW5nU2VydmljZS5jbGFzcyk7DQorCQlpZiAoYmluZGluZ1NlcnZpY2Ug
IT0gbnVsbCkgew0KKwkJCVN0cmluZyBrZXlCaW5kaW5nID0gYmluZGluZ1NlcnZpY2UuZ2V0QmVz
dEFjdGl2ZUJpbmRpbmdGb3JtYXR0ZWRGb3IoIm9yZy5lY2xpcHNlLnVpLm5hdmlnYXRlLnNob3dJ
blF1aWNrTWVudSIpOyAvLyROT04tTkxTLTEkDQorCQkJaWYgKGtleUJpbmRpbmcgIT0gbnVsbCkg
ew0KKwkJCQlzaG93SW5MYWJlbCArPSAnXHQnICsga2V5QmluZGluZzsNCisJCQl9DQorCQl9DQor
DQorCQkvLyBBZGQgdGhlICJTaG93IEluIiBhY3Rpb24gYW5kIGl0cyBjb250cmlidXRpb25zDQor
CQlJTWVudU1hbmFnZXIgc2hvd0luTWVudSA9IG5ldyBNZW51TWFuYWdlcihzaG93SW5MYWJlbCk7
DQorCQlzaG93SW5NZW51LmFkZChDb250cmlidXRpb25JdGVtRmFjdG9yeS5WSUVXU19TSE9XX0lO
LmNyZWF0ZShnZXRQYWdlKCkuZ2V0U2l0ZSgpLmdldFdvcmtiZW5jaFdpbmRvdygpKSk7DQorDQor
CQltYW5hZ2VyLmFkZChzaG93SW5NZW51KTsNCisJfQ0KKw0KKwlwcml2YXRlIGJvb2xlYW4gdXBk
YXRlQWRkQ29udGV4dEFjdGlvbldpdGhTZWxlY3Rpb24oQ3R4SGVscE9iamVjdCBzZWxlY3RlZE9i
amVjdCkgew0KKwkJaWYgKHNlbGVjdGVkT2JqZWN0ICE9IG51bGwgJiYgc2VsZWN0ZWRPYmplY3Qu
Y2FuQWRkU2libGluZyhJQ3R4SGVscENvbnN0YW50cy5UWVBFX0NPTlRFWFQpKSB7DQorCQkJZkFk
ZENvbnRleHRBY3Rpb24uc2V0UGFyZW50T2JqZWN0KHNlbGVjdGVkT2JqZWN0LmdldFBhcmVudCgp
KTsNCisJCQlmQWRkQ29udGV4dEFjdGlvbi5zZXRUYXJnZXRPYmplY3Qoc2VsZWN0ZWRPYmplY3Qp
Ow0KKwkJCWZBZGRDb250ZXh0QWN0aW9uLnNldEVuYWJsZWQoZk1vZGVsLmlzRWRpdGFibGUoKSk7
DQorCQkJcmV0dXJuIHRydWU7DQorCQl9IGVsc2UgaWYgKHNlbGVjdGVkT2JqZWN0ICE9IG51bGwg
JiYgc2VsZWN0ZWRPYmplY3QuY2FuQWRkQ2hpbGQoSUN0eEhlbHBDb25zdGFudHMuVFlQRV9DT05U
RVhUKSkgew0KKwkJCWZBZGRDb250ZXh0QWN0aW9uLnNldFBhcmVudE9iamVjdChzZWxlY3RlZE9i
amVjdCk7DQorCQkJZkFkZENvbnRleHRBY3Rpb24uc2V0VGFyZ2V0T2JqZWN0KG51bGwpOw0KKwkJ
CWZBZGRDb250ZXh0QWN0aW9uLnNldEVuYWJsZWQoZk1vZGVsLmlzRWRpdGFibGUoKSk7DQorCQkJ
cmV0dXJuIHRydWU7DQorCQl9IGVsc2UgaWYgKGZNb2RlbC5nZXRDdHhIZWxwUm9vdCgpLmNhbkFk
ZENoaWxkKElDdHhIZWxwQ29uc3RhbnRzLlRZUEVfQ09OVEVYVCkpIHsNCisJCQlmQWRkQ29udGV4
dEFjdGlvbi5zZXRQYXJlbnRPYmplY3QoZk1vZGVsLmdldEN0eEhlbHBSb290KCkpOw0KKwkJCWZB
ZGRDb250ZXh0QWN0aW9uLnNldFRhcmdldE9iamVjdChudWxsKTsNCisJCQlmQWRkQ29udGV4dEFj
dGlvbi5zZXRFbmFibGVkKGZNb2RlbC5pc0VkaXRhYmxlKCkpOw0KKwkJCXJldHVybiB0cnVlOw0K
KwkJfQ0KKwkJcmV0dXJuIGZhbHNlOw0KKwl9DQorDQorCXByaXZhdGUgYm9vbGVhbiB1cGRhdGVB
ZGRUb3BpY0FjdGlvbldpdGhTZWxlY3Rpb24oQ3R4SGVscE9iamVjdCBzZWxlY3RlZE9iamVjdCkg
ew0KKwkJaWYgKHNlbGVjdGVkT2JqZWN0ICE9IG51bGwpIHsNCisJCQlpZiAoc2VsZWN0ZWRPYmpl
Y3QuY2FuQWRkU2libGluZyhJQ3R4SGVscENvbnN0YW50cy5UWVBFX1RPUElDKSkgew0KKwkJCQlm
QWRkVG9waWNBY3Rpb24uc2V0UGFyZW50T2JqZWN0KHNlbGVjdGVkT2JqZWN0LmdldFBhcmVudCgp
KTsNCisJCQkJZkFkZFRvcGljQWN0aW9uLnNldFRhcmdldE9iamVjdChzZWxlY3RlZE9iamVjdCk7
DQorCQkJCWZBZGRUb3BpY0FjdGlvbi5zZXRFbmFibGVkKGZNb2RlbC5pc0VkaXRhYmxlKCkpOw0K
KwkJCQlyZXR1cm4gdHJ1ZTsNCisJCQl9IGVsc2UgaWYgKHNlbGVjdGVkT2JqZWN0LmNhbkFkZENo
aWxkKElDdHhIZWxwQ29uc3RhbnRzLlRZUEVfVE9QSUMpKSB7DQorCQkJCWZBZGRUb3BpY0FjdGlv
bi5zZXRQYXJlbnRPYmplY3Qoc2VsZWN0ZWRPYmplY3QpOw0KKwkJCQlmQWRkVG9waWNBY3Rpb24u
c2V0VGFyZ2V0T2JqZWN0KG51bGwpOw0KKwkJCQlmQWRkVG9waWNBY3Rpb24uc2V0RW5hYmxlZChm
TW9kZWwuaXNFZGl0YWJsZSgpKTsNCisJCQkJcmV0dXJuIHRydWU7DQorCQkJfQ0KKwkJfQ0KKwkJ
cmV0dXJuIGZhbHNlOw0KKwl9DQorDQorCXByaXZhdGUgYm9vbGVhbiB1cGRhdGVBZGRDb21tYW5k
QWN0aW9uV2l0aFNlbGVjdGlvbihDdHhIZWxwT2JqZWN0IHNlbGVjdGVkT2JqZWN0KSB7DQorCQlp
ZiAoc2VsZWN0ZWRPYmplY3QgIT0gbnVsbCkgew0KKwkJCWlmIChzZWxlY3RlZE9iamVjdC5jYW5B
ZGRTaWJsaW5nKElDdHhIZWxwQ29uc3RhbnRzLlRZUEVfQ09NTUFORCkpIHsNCisJCQkJZkFkZENv
bW1hbmRBY3Rpb24uc2V0UGFyZW50T2JqZWN0KHNlbGVjdGVkT2JqZWN0LmdldFBhcmVudCgpKTsN
CisJCQkJZkFkZENvbW1hbmRBY3Rpb24uc2V0VGFyZ2V0T2JqZWN0KHNlbGVjdGVkT2JqZWN0KTsN
CisJCQkJZkFkZENvbW1hbmRBY3Rpb24uc2V0RW5hYmxlZChmTW9kZWwuaXNFZGl0YWJsZSgpKTsN
CisJCQkJcmV0dXJuIHRydWU7DQorCQkJfSBlbHNlIGlmIChzZWxlY3RlZE9iamVjdC5jYW5BZGRD
aGlsZChJQ3R4SGVscENvbnN0YW50cy5UWVBFX0NPTU1BTkQpKSB7DQorCQkJCWZBZGRDb21tYW5k
QWN0aW9uLnNldFBhcmVudE9iamVjdChzZWxlY3RlZE9iamVjdCk7DQorCQkJCWZBZGRDb21tYW5k
QWN0aW9uLnNldFRhcmdldE9iamVjdChudWxsKTsNCisJCQkJZkFkZENvbW1hbmRBY3Rpb24uc2V0
RW5hYmxlZChmTW9kZWwuaXNFZGl0YWJsZSgpKTsNCisJCQkJcmV0dXJuIHRydWU7DQorCQkJfQ0K
KwkJfQ0KKwkJcmV0dXJuIGZhbHNlOw0KKwl9DQorDQorCXByaXZhdGUgYm9vbGVhbiB1cGRhdGVS
ZW1vdmVBY3Rpb25XaXRoU2VsZWN0aW9uKElTdHJ1Y3R1cmVkU2VsZWN0aW9uIHNlbGVjdGlvbikg
ew0KKwkJTGlzdCBvYmplY3RzVG9SZW1vdmUgPSBnZXRSZW1vdmFibGVPYmplY3RGcm9tU2VsZWN0
aW9uKHNlbGVjdGlvbik7DQorCQlmUmVtb3ZlT2JqZWN0QWN0aW9uLnNldFRvUmVtb3ZlKChDdHhI
ZWxwT2JqZWN0W10pIG9iamVjdHNUb1JlbW92ZS50b0FycmF5KG5ldyBDdHhIZWxwT2JqZWN0W29i
amVjdHNUb1JlbW92ZS5zaXplKCldKSk7DQorCQlmUmVtb3ZlT2JqZWN0QWN0aW9uLnNldEVuYWJs
ZWQoZk1vZGVsLmlzRWRpdGFibGUoKSk7DQorCQlyZXR1cm4gb2JqZWN0c1RvUmVtb3ZlLnNpemUo
KSA+IDA7DQorCX0NCisNCisJcHJpdmF0ZSBMaXN0IGdldFJlbW92YWJsZU9iamVjdEZyb21TZWxl
Y3Rpb24oSVN0cnVjdHVyZWRTZWxlY3Rpb24gc2VsZWN0aW9uKSB7DQorCQlMaXN0IG9iamVjdHNU
b1JlbW92ZSA9IG5ldyBBcnJheUxpc3QoKTsNCisJCWZvciAoSXRlcmF0b3IgaXRlcmF0b3IgPSBz
ZWxlY3Rpb24uaXRlcmF0b3IoKTsgaXRlcmF0b3IuaGFzTmV4dCgpOykgew0KKwkJCU9iamVjdCBj
dXJyZW50T2JqZWN0ID0gaXRlcmF0b3IubmV4dCgpOw0KKwkJCWlmIChjdXJyZW50T2JqZWN0IGlu
c3RhbmNlb2YgQ3R4SGVscE9iamVjdCAmJiAoKEN0eEhlbHBPYmplY3QpIGN1cnJlbnRPYmplY3Qp
LmNhbkJlUmVtb3ZlZCgpKSB7DQorCQkJCW9iamVjdHNUb1JlbW92ZS5hZGQoY3VycmVudE9iamVj
dCk7DQorCQkJfQ0KKwkJfQ0KKwkJcmV0dXJuIG9iamVjdHNUb1JlbW92ZTsNCisJfQ0KKw0KKwkv
KiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVk
aXRvci5TdHJ1Y3R1cmVkVmlld2VyU2VjdGlvbiNjYW5QYXN0ZShqYXZhLmxhbmcuT2JqZWN0LCBq
YXZhLmxhbmcuT2JqZWN0W10pDQorCSAqLw0KKwlwcm90ZWN0ZWQgYm9vbGVhbiBjYW5QYXN0ZShP
YmplY3QgdGFyZ2V0T2JqZWN0LCBPYmplY3RbXSBzb3VyY2VPYmplY3RzKSB7DQorCQlyZXR1cm4g
dHJ1ZTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLnVpLmVkaXRvci5QREVTZWN0aW9uI2RvR2xvYmFsQWN0aW9uKGphdmEubGFu
Zy5TdHJpbmcpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBkb0dsb2JhbEFjdGlvbihTdHJpbmcg
YWN0aW9uSWQpIHsNCisJCWJvb2xlYW4gY3V0QWN0aW9uID0gYWN0aW9uSWQuZXF1YWxzKEFjdGlv
bkZhY3RvcnkuQ1VULmdldElkKCkpOw0KKw0KKwkJaWYgKGN1dEFjdGlvbiB8fCBhY3Rpb25JZC5l
cXVhbHMoQWN0aW9uRmFjdG9yeS5ERUxFVEUuZ2V0SWQoKSkpIHsNCisJCQl1cGRhdGVSZW1vdmVB
Y3Rpb25XaXRoU2VsZWN0aW9uKChJU3RydWN0dXJlZFNlbGVjdGlvbikgZlRyZWUuZ2V0U2VsZWN0
aW9uKCkpOw0KKwkJCWZSZW1vdmVPYmplY3RBY3Rpb24ucnVuKCk7DQorCQkJcmV0dXJuICFjdXRB
Y3Rpb247DQorCQl9DQorDQorCQlpZiAoYWN0aW9uSWQuZXF1YWxzKEFjdGlvbkZhY3RvcnkuUEFT
VEUuZ2V0SWQoKSkpIHsNCisJCQlkb1Bhc3RlKCk7DQorCQkJcmV0dXJuIHRydWU7DQorCQl9DQor
DQorCQlyZXR1cm4gZmFsc2U7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2Vl
IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuU3RydWN0dXJlZFZpZXdlclNlY3Rp
b24jZG9QYXN0ZShqYXZhLmxhbmcuT2JqZWN0LCBqYXZhLmxhbmcuT2JqZWN0W10pDQorCSAqLw0K
Kwlwcm90ZWN0ZWQgdm9pZCBkb1Bhc3RlKE9iamVjdCB0YXJnZXRPYmplY3QsIE9iamVjdFtdIHNv
dXJjZU9iamVjdHMpIHsNCisJCXBlcmZvcm1Ecm9wKHRhcmdldE9iamVjdCwgc291cmNlT2JqZWN0
cywgVmlld2VyRHJvcEFkYXB0ZXIuTE9DQVRJT05fT04pOw0KKwl9DQorDQorCS8qIChub24tSmF2
YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlRyZWVT
ZWN0aW9uI2hhbmRsZURvdWJsZUNsaWNrKG9yZy5lY2xpcHNlLmpmYWNlLnZpZXdlcnMuSVN0cnVj
dHVyZWRTZWxlY3Rpb24pDQorCSAqLw0KKwlwcm90ZWN0ZWQgdm9pZCBoYW5kbGVEb3VibGVDbGlj
ayhJU3RydWN0dXJlZFNlbGVjdGlvbiBzZWxlY3Rpb24pIHsNCisJCU9iamVjdCBzZWxlY3RlZCA9
IHNlbGVjdGlvbi5nZXRGaXJzdEVsZW1lbnQoKTsNCisJCWlmIChzZWxlY3RlZCBpbnN0YW5jZW9m
IEN0eEhlbHBUb3BpYykgew0KKwkJCW9wZW4oKEN0eEhlbHBUb3BpYykgc2VsZWN0ZWQpOw0KKwkJ
fSBlbHNlIGlmIChzZWxlY3RlZCBpbnN0YW5jZW9mIEN0eEhlbHBPYmplY3QpIHsNCisJCQlmVHJl
ZS5leHBhbmRUb0xldmVsKHNlbGVjdGVkLCAxKTsNCisJCX0NCisJfQ0KKw0KKwkvKioNCisJICog
T3BlbnMgYSBkb2N1bWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgcGF0aA0KKwkgKiANCisJICogQHBh
cmFtIHBhdGggYSBwYXRoIHRvIGEgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoaXMgVE9DJ3Mgcm9v
dCBwcm9qZWN0DQorCSAqLw0KKwlwcml2YXRlIHZvaWQgb3BlbihDdHhIZWxwVG9waWMgdG9waWMp
IHsNCisJCUlQYXRoIHJlc291cmNlUGF0aCA9IHRvcGljLmdldExvY2F0aW9uKCk7DQorCQlpZiAo
IWlzRWRpdGFibGUoKSB8fCByZXNvdXJjZVBhdGggPT0gbnVsbCB8fCByZXNvdXJjZVBhdGguaXNF
bXB0eSgpKSB7DQorCQkJTWVzc2FnZURpYWxvZy5vcGVuV2FybmluZyhQREVQbHVnaW4uZ2V0QWN0
aXZlV29ya2JlbmNoU2hlbGwoKSwgUERFVUlNZXNzYWdlcy5XaW5kb3dJbWFnZXNTZWN0aW9uX29w
ZW4sIFBERVVJTWVzc2FnZXMuV2luZG93SW1hZ2VzU2VjdGlvbl9lbXB0eVBhdGgpOw0KKwkJCXJl
dHVybjsNCisJCX0NCisNCisJCUlSZXNvdXJjZSByZXNvdXJjZSA9IGZpbmRSZXNvdXJjZShyZXNv
dXJjZVBhdGgpOw0KKwkJaWYgKHJlc291cmNlICE9IG51bGwgJiYgcmVzb3VyY2UgaW5zdGFuY2Vv
ZiBJRmlsZSkgew0KKwkJCW9wZW5SZXNvdXJjZShyZXNvdXJjZSk7DQorCQl9IGVsc2Ugew0KKwkJ
CU1lc3NhZ2VEaWFsb2cub3Blbldhcm5pbmcoUERFUGx1Z2luLmdldEFjdGl2ZVdvcmtiZW5jaFNo
ZWxsKCksIFBERVVJTWVzc2FnZXMuV2luZG93SW1hZ2VzU2VjdGlvbl9vcGVuLCBQREVVSU1lc3Nh
Z2VzLldpbmRvd0ltYWdlc1NlY3Rpb25fd2FybmluZyk7DQorCQl9DQorCX0NCisNCisJcHVibGlj
IElGaWxlIG9wZW5GaWxlKFN0cmluZyBzdHJpbmdQYXRoKSB7DQorCQlJUGF0aCBwYXRoID0gbmV3
IFBhdGgoc3RyaW5nUGF0aCk7DQorCQlpZiAoaXNFZGl0YWJsZSgpKSB7DQorCQkJaWYgKCFwYXRo
LmlzRW1wdHkoKSkgew0KKwkJCQlJUmVzb3VyY2UgcGFnZSA9IGZpbmRSZXNvdXJjZShwYXRoKTsN
CisJCQkJaWYgKHBhZ2UgIT0gbnVsbCAmJiBwYWdlIGluc3RhbmNlb2YgSUZpbGUpIHsNCisJCQkJ
CW9wZW5SZXNvdXJjZShwYWdlKTsNCisJCQkJCXJldHVybiBudWxsOw0KKwkJCQl9DQorCQkJfQ0K
Kw0KKwkJCS8vIFRPRE8gQ29uc2lkZXIgaGF2aW5nIGEgbmV3IHdpemFyZA0KKwkJCS8vCQkJcmV0
dXJuIHNob3dOZXdXaXphcmQocGF0aCwgaXNUT0NGaWxlKTsNCisJCX0NCisNCisJCXJldHVybiBu
dWxsOw0KKwl9DQorDQorCS8vCXByaXZhdGUgSUZpbGUgc2hvd05ld1dpemFyZChTdHJpbmcgcGF0
aCwgYm9vbGVhbiB0b2NXaXphcmQpIHsNCisJLy8JCVRvY0hUTUxXaXphcmQgd2l6YXJkOw0KKwkv
LwkJaWYgKHRvY1dpemFyZCkgew0KKwkvLwkJCXdpemFyZCA9IG5ldyBOZXdUb2NGaWxlV2l6YXJk
KCk7DQorCS8vCQl9IGVsc2Ugew0KKwkvLwkJCXdpemFyZCA9IG5ldyBUb2NIVE1MV2l6YXJkKCk7
DQorCS8vCQl9DQorCS8vDQorCS8vCQkvLyBCeSBkZWZhdWx0LCB0aGUgZmlsZSB3aWxsIGJlIGNy
ZWF0ZWQgaW4gdGhlIHNhbWUgcHJvamVjdCBhcyB0aGUgVE9DDQorCS8vCQlJUmVzb3VyY2Ugc2Vs
ZWN0ZWRGb2xkZXIgPSBmTW9kZWwuZ2V0VW5kZXJseWluZ1Jlc291cmNlKCkuZ2V0UHJvamVjdCgp
Ow0KKwkvLwkJU3RyaW5nIGZpbGVuYW1lID0gbnVsbDsNCisJLy8NCisJLy8JCS8vIEZpbmQgdGhl
IGZvbGRlciBhc3NvY2lhdGVkIHdpdGggdGhlIHNwZWNpZmllZCBwYXRoDQorCS8vCQlJUGF0aCBp
bml0aWFsRm9sZGVyID0gbmV3IFBhdGgocGF0aC50cmltKCkpOw0KKwkvLwkJaWYgKCFpbml0aWFs
Rm9sZGVyLmlzRW1wdHkoKSkgew0KKwkvLwkJCUlQYXRoIG5ld1BhdGggPSBzZWxlY3RlZEZvbGRl
ci5nZXRGdWxsUGF0aCgpLmFwcGVuZChpbml0aWFsRm9sZGVyKTsNCisJLy8NCisJLy8JCQlJV29y
a3NwYWNlUm9vdCByb290ID0gUmVzb3VyY2VzUGx1Z2luLmdldFdvcmtzcGFjZSgpLmdldFJvb3Qo
KTsNCisJLy8JCQlJUmVzb3VyY2UgbmV3Rm9sZGVyID0gcm9vdC5maW5kTWVtYmVyKG5ld1BhdGgp
Ow0KKwkvLw0KKwkvLwkJCWlmIChuZXdGb2xkZXIgPT0gbnVsbCkgew0KKwkvLwkJCQlpZiAoIW5l
d1BhdGguaGFzVHJhaWxpbmdTZXBhcmF0b3IoKSkgew0KKwkvLwkJCQkJZmlsZW5hbWUgPSBuZXdQ
YXRoLmxhc3RTZWdtZW50KCk7DQorCS8vCQkJCX0NCisJLy8JCQl9DQorCS8vDQorCS8vCQkJd2hp
bGUgKG5ld0ZvbGRlciA9PSBudWxsICYmICFuZXdQYXRoLmlzRW1wdHkoKSkgew0KKwkvLwkJCQlu
ZXdQYXRoID0gbmV3UGF0aC5yZW1vdmVMYXN0U2VnbWVudHMoMSk7DQorCS8vCQkJCW5ld0ZvbGRl
ciA9IHJvb3QuZmluZE1lbWJlcihuZXdQYXRoKTsNCisJLy8JCQl9DQorCS8vDQorCS8vCQkJaWYg
KG5ld0ZvbGRlciAhPSBudWxsKSB7DQorCS8vCQkJCXNlbGVjdGVkRm9sZGVyID0gbmV3Rm9sZGVy
Ow0KKwkvLwkJCX0NCisJLy8JCX0NCisJLy8NCisJLy8JCS8vIFNlbGVjdCB0aGUgcHJvamVjdCBp
biB0aGUgd2l6YXJkDQorCS8vCQl3aXphcmQuaW5pdChQbGF0Zm9ybVVJLmdldFdvcmtiZW5jaCgp
LCBuZXcgU3RydWN0dXJlZFNlbGVjdGlvbihzZWxlY3RlZEZvbGRlcikpOw0KKwkvLw0KKwkvLwkJ
Ly8gQ3JlYXRlIHRoZSBkaWFsb2cgZm9yIHRoZSB3aXphcmQNCisJLy8JCVdpemFyZERpYWxvZyBk
aWFsb2cgPSBuZXcgV2l6YXJkRGlhbG9nKFBERVBsdWdpbi5nZXRBY3RpdmVXb3JrYmVuY2hTaGVs
bCgpLCB3aXphcmQpOw0KKwkvLwkJZGlhbG9nLmNyZWF0ZSgpOw0KKwkvLwkJLy8gR2V0IHRoZSB3
aXphcmQgcGFnZQ0KKwkvLwkJSVdpemFyZFBhZ2Ugd2l6YXJkUGFnZTsNCisJLy8JCXdpemFyZFBh
Z2UgPSB3aXphcmQuZ2V0U3RhcnRpbmdQYWdlKCk7DQorCS8vCQlpZiAoISh3aXphcmRQYWdlIGlu
c3RhbmNlb2YgV2l6YXJkTmV3RmlsZUNyZWF0aW9uUGFnZSkpIHsNCisJLy8JCQlyZXR1cm4gbnVs
bDsNCisJLy8JCX0NCisJLy8NCisJLy8JCVdpemFyZE5ld0ZpbGVDcmVhdGlvblBhZ2UgcGFnZSA9
IChXaXphcmROZXdGaWxlQ3JlYXRpb25QYWdlKSB3aXphcmRQYWdlOw0KKwkvLwkJaWYgKGZpbGVu
YW1lICE9IG51bGwpIHsNCisJLy8JCQlwYWdlLnNldEZpbGVOYW1lKGZpbGVuYW1lKTsNCisJLy8J
CQkvLyBJbmhpYml0IHRoZSBlcnJvciBtZXNzYWdlIHdoZW4gdGhlIHdpemFyZCBpcyBmaXJzdCBv
cGVuZWQNCisJLy8JCQlwYWdlLnNldEVycm9yTWVzc2FnZShudWxsKTsNCisJLy8JCX0NCisJLy8N
CisJLy8JCWlmIChkaWFsb2cub3BlbigpID09IFdpbmRvdy5PSykgew0KKwkvLwkJCXJldHVybiB3
aXphcmQuZ2V0TmV3UmVzb3VyY2UoKTsNCisJLy8JCX0NCisJLy8NCisJLy8JCXJldHVybiBudWxs
Ow0KKwkvLwl9DQorCS8vDQorCXByaXZhdGUgSVJlc291cmNlIGZpbmRSZXNvdXJjZShJUGF0aCBy
ZXNvdXJjZVBhdGgpIHsNCisJCUlQcm9qZWN0IHBsdWdpblByb2plY3QgPSBmTW9kZWwuZ2V0VW5k
ZXJseWluZ1Jlc291cmNlKCkuZ2V0UHJvamVjdCgpOw0KKwkJcmV0dXJuIHBsdWdpblByb2plY3Qu
ZmluZE1lbWJlcihyZXNvdXJjZVBhdGgpOw0KKwl9DQorDQorCXByaXZhdGUgdm9pZCBvcGVuUmVz
b3VyY2UoSVJlc291cmNlIHJlc291cmNlKSB7DQorCQlJUGF0aCBwYXRoID0gcmVzb3VyY2UuZ2V0
RnVsbFBhdGgoKTsNCisJCWlmIChpc0ZpbGVWYWxpZEluQ29udGV4dChwYXRoKSkgew0KKwkJCXRy
eSB7DQorCQkJCUlERS5vcGVuRWRpdG9yKFBERVBsdWdpbi5nZXRBY3RpdmVQYWdlKCksIChJRmls
ZSkgcmVzb3VyY2UsIHRydWUpOw0KKwkJCX0gY2F0Y2ggKFBhcnRJbml0RXhjZXB0aW9uIGUpIHsg
Ly9zdXBwcmVzcyBleGNlcHRpb24NCisJCQl9DQorCQl9DQorCX0NCisNCisJcHJpdmF0ZSBib29s
ZWFuIGlzRmlsZVZhbGlkSW5Db250ZXh0KElQYXRoIHBhdGgpIHsNCisJCVN0cmluZyBtZXNzYWdl
ID0gbnVsbDsNCisNCisJCWlmIChIZWxwRWRpdG9yVXRpbC5oYXNWYWxpZFBhZ2VFeHRlbnNpb24o
cGF0aCkpIHsNCisJCQlyZXR1cm4gdHJ1ZTsNCisJCX0NCisJCW1lc3NhZ2UgPSBQREVVSU1lc3Nh
Z2VzLlRvY1BhZ2VfaW52YWxpZEhUTUxGaWxlOw0KKwkJTWVzc2FnZURpYWxvZy5vcGVuV2Fybmlu
ZyhQREVQbHVnaW4uZ2V0QWN0aXZlV29ya2JlbmNoU2hlbGwoKSwgUERFVUlNZXNzYWdlcy5XaW5k
b3dJbWFnZXNTZWN0aW9uX29wZW4sIG1lc3NhZ2UpOw0KKwkJcmV0dXJuIGZhbHNlOw0KKwl9DQor
DQorCS8qKg0KKwkgKiBQZXJmb3JtIGEgZHJvcCBvZiB0aGUgc3BlY2lmaWVkIG9iamVjdHMgb24g
dGhlIHRhcmdldCBpbiB0aGUgd2lkZ2V0DQorCSAqIA0KKwkgKiBAcGFyYW0gY3VycmVudFRhcmdl
dCBUaGUgb2JqZWN0IHRoYXQgdGhlIGRyb3Agd2lsbCBvY2N1ciBuZWFyL29uDQorCSAqIEBwYXJh
bSBkcm9wcGVkIFRoZSBkcm9wcGVkIG9iamVjdHMNCisJICogQHBhcmFtIGxvY2F0aW9uIFRoZSBs
b2NhdGlvbiBvZiB0aGUgZHJvcCByZWxhdGl2ZSB0byB0aGUgdGFyZ2V0DQorCSAqIA0KKwkgKiBA
cmV0dXJuIHRydWUgaWZmIHRoZSBkcm9wIHdhcyBzdWNjZXNzZnVsDQorCSAqLw0KKwlwdWJsaWMg
Ym9vbGVhbiBwZXJmb3JtRHJvcChPYmplY3QgY3VycmVudFRhcmdldCwgT2JqZWN0IGRyb3BwZWQs
IGludCBsb2NhdGlvbikgew0KKwkJaWYgKGRyb3BwZWQgaW5zdGFuY2VvZiBPYmplY3RbXSkgew0K
KwkJCUN0eEhlbHBPYmplY3QgdGFyZ2V0ID0gKEN0eEhlbHBPYmplY3QpIGN1cnJlbnRUYXJnZXQ7
DQorCQkJLy8gRGV0ZXJtaW5lIHRoZSBvYmplY3QgdGhhdCB0aGUgZHJvcHBlZCBvYmplY3RzIHdp
bGwgYmUgdGhlDQorCQkJLy8gY2hpbGRyZW4gb2YNCisNCisJCQlDdHhIZWxwT2JqZWN0IHRhcmdl
dFBhcmVudCA9IGRldGVybWluZVBhcmVudCh0YXJnZXQsIGxvY2F0aW9uKTsNCisNCisJCQlpZiAo
bG9jYXRpb24gPT0gQ3R4SGVscERyb3BBZGFwdGVyLkxPQ0FUSU9OX0pVU1RfQUZURVIgJiYgdGFy
Z2V0UGFyZW50ID09IHRhcmdldCAmJiAhdGFyZ2V0LmdldENoaWxkcmVuKCkuaXNFbXB0eSgpICYm
IGZUcmVlLmdldEV4cGFuZGVkU3RhdGUodGFyZ2V0KSkgew0KKwkJCQkvLyBJZiB0aGUgZHJvcCBv
Y2N1cnMganVzdCBhZnRlciBhIHBhcmVudGFibGUgb2JqZWN0DQorCQkJCS8vIGFuZCBpdCBpcyBl
eHBhbmRlZCwgdGhlbiBpbnNlcnQgdGhlIGRyb3BwZWQgaXRlbXMNCisJCQkJLy8gYXMgdGhlIGZp
cnN0IGNoaWxkcmVuIG9mIHRoZSBwYXJlbnQNCisJCQkJbG9jYXRpb24gPSBWaWV3ZXJEcm9wQWRh
cHRlci5MT0NBVElPTl9CRUZPUkU7DQorCQkJCXRhcmdldCA9IChDdHhIZWxwT2JqZWN0KSB0YXJn
ZXQuZ2V0Q2hpbGRyZW4oKS5nZXQoMCk7DQorCQkJfQ0KKw0KKwkJCWlmICh0YXJnZXRQYXJlbnQg
IT0gbnVsbCkgeyAvLyBHZXQgdGhlIFRvY09iamVjdCB2ZXJzaW9ucyBvZiB0aGUgZHJvcHBlZCBv
YmplY3RzDQorCQkJCUFycmF5TGlzdCBvYmplY3RzVG9BZGQgPSBnZXRPYmplY3RzVG9BZGQoKE9i
amVjdFtdKSBkcm9wcGVkLCB0YXJnZXRQYXJlbnQpOw0KKw0KKwkJCQlpZiAob2JqZWN0c1RvQWRk
ICE9IG51bGwgJiYgIW9iamVjdHNUb0FkZC5pc0VtcHR5KCkpIHsNCisJCQkJCWlmIChmRHJhZ0Fk
YXB0ZXIuZ2V0RHJhZ2dlZEVsZW1lbnRzKCkgIT0gbnVsbCAmJiBmRHJhZ0FkYXB0ZXIuZ2V0RHJh
Z2dlZEVsZW1lbnRzKCkuc2l6ZSgpID09IDEgJiYgY3VycmVudFRhcmdldCA9PSBmRHJhZ0FkYXB0
ZXIuZ2V0RHJhZ2dlZEVsZW1lbnRzKCkuZ2V0KDApKSB7IC8vIExhc3QtbWludXRlIGNoZWNrOiBp
Z25vcmUgZHJvcHMgb2YgYW4gb2JqZWN0IG9udG8vbmVhciBpdHNlbGYNCisJCQkJCQkvLyB0byBh
dm9pZCB1bm5lY2Vzc2FyaWx5IGRpcnR5aW5nIHRoZSBwYWdlDQorCQkJCQkJcmV0dXJuIGZhbHNl
Ow0KKwkJCQkJfQ0KKw0KKwkJCQkJYm9vbGVhbiBpbnNlcnRCZWZvcmUgPSAobG9jYXRpb24gPT0g
Vmlld2VyRHJvcEFkYXB0ZXIuTE9DQVRJT05fQkVGT1JFKTsNCisNCisJCQkJCS8vIEFkZCB0aGUg
b2JqZWN0cw0KKwkJCQkJaGFuZGxlTXVsdGlBZGRBY3Rpb24ob2JqZWN0c1RvQWRkLCB0YXJnZXQs
IGluc2VydEJlZm9yZSwgdGFyZ2V0UGFyZW50KTsNCisJCQkJCXJldHVybiB0cnVlOw0KKwkJCQl9
DQorCQkJfQ0KKwkJfQ0KKwkJcmV0dXJuIGZhbHNlOw0KKwl9DQorDQorCS8qKg0KKwkgKiBEZXRl
cm1pbmUgdGhlIHBhcmVudCBvYmplY3QgdGhhdCBhIGRyb3Agd2lsbCBvY2N1ciB1bmRlciwNCisJ
ICogYmFzZWQgb24gdGhlIHJlbGF0aXZlIGxvY2F0aW9uIG9mIHRoZSBkcm9wIGFuZCB0aGUgYWJp
bGl0eQ0KKwkgKiBvZiB0aGUgdGFyZ2V0IHRvIGJlIGEgcGFyZW50DQorCSAqIA0KKwkgKiBAcGFy
YW0gZHJvcFRhcmdldCBUaGUgdGFyZ2V0IHRoYXQgdGhlIGRyb3Agb2NjdXJzIG5lYXIvb24NCisJ
ICogQHBhcmFtIGRyb3BMb2NhdGlvbiBUaGUgbG9jYXRpb24gb2YgdGhlIGRyb3AgcmVsYXRpdmUg
dG8gdGhlIHRhcmdldA0KKwkgKiBAcmV0dXJuDQorCSAqLw0KKwlwcml2YXRlIEN0eEhlbHBPYmpl
Y3QgZGV0ZXJtaW5lUGFyZW50KEN0eEhlbHBPYmplY3QgZHJvcFRhcmdldCwgaW50IGRyb3BMb2Nh
dGlvbikgew0KKwkJLy9XZSBtdXN0IGRldGVybWluZSB3aGF0IG9iamVjdCB3aWxsIGJlIHRoZSBw
YXJlbnQgb2YgdGhlDQorCQkvL2Ryb3BwZWQgb2JqZWN0cy4gVGhpcyBpcyBkb25lIGJ5IGxvb2tp
bmcgYXQgdGhlIGRyb3AgbG9jYXRpb24NCisJCS8vYW5kIGRyb3AgdGFyZ2V0IHR5cGUNCisNCisJ
CWlmIChkcm9wVGFyZ2V0ID09IG51bGwgfHwgZHJvcFRhcmdldC5nZXRUeXBlKCkgPT0gSUN0eEhl
bHBDb25zdGFudHMuVFlQRV9ST09UKSB7DQorCQkJLy9TaW5jZSB0aGUgVE9DIHJvb3QgaGFzIG5v
IHBhcmVudCwgaXQgbXVzdCBiZSB0aGUgdGFyZ2V0IHBhcmVudA0KKwkJCXJldHVybiBmTW9kZWwu
Z2V0Q3R4SGVscFJvb3QoKTsNCisJCX0NCisJCXN3aXRjaCAoZHJvcExvY2F0aW9uKSB7DQorCQkJ
Y2FzZSBDdHhIZWxwRHJvcEFkYXB0ZXIuTE9DQVRJT05fSlVTVF9BRlRFUiA6IHsgLy9pZiB0aGUg
ZHJvcCBvY2N1cmVkIGFmdGVyIGFuIGV4cGFuZGVkIG5vZGUNCisJCQkJLy9hbmQgYWxsIG9mIGl0
cyBjaGlsZHJlbiwNCisJCQkJLy9tYWtlIHRoZSBkcm9wIHRhcmdldCdzIHBhcmVudCB0aGUgdGFy
Z2V0IHBhcmVudCBvYmplY3QNCisJCQkJaWYgKCFmVHJlZS5nZXRFeHBhbmRlZFN0YXRlKGRyb3BU
YXJnZXQpKSB7DQorCQkJCQlyZXR1cm4gZHJvcFRhcmdldC5nZXRQYXJlbnQoKTsNCisJCQkJfQ0K
KwkJCQkvL290aGVyd2lzZSwgdGhlIHRhcmdldCBwYXJlbnQgaXMgdGhlIGRyb3AgdGFyZ2V0LA0K
KwkJCQkvL3NpbmNlIHRoZSBkcm9wIG9jY3VyZWQgYmV0d2VlbiBpdCBhbmQgaXRzIGZpcnN0IGNo
aWxkDQorCQkJfQ0KKwkJCWNhc2UgVmlld2VyRHJvcEFkYXB0ZXIuTE9DQVRJT05fT04gOiB7IC8v
dGhlIGRyb3AgbG9jYXRpb24gaXMgZGlyZWN0bHkgb24gdGhlIGRyb3AgdGFyZ2V0DQorCQkJCXJl
dHVybiBkcm9wVGFyZ2V0Ow0KKwkJCX0NCisJCQljYXNlIFZpZXdlckRyb3BBZGFwdGVyLkxPQ0FU
SU9OX0JFRk9SRSA6DQorCQkJY2FzZSBWaWV3ZXJEcm9wQWRhcHRlci5MT0NBVElPTl9BRlRFUiA6
IHsgLy9pZiB0aGUgZHJvcCBpcyBiZWZvcmUgb3IgYWZ0ZXIgdGhlIGRyb3AgdGFyZ2V0LA0KKwkJ
CQkvL21ha2UgdGhlIGRyb3AgdGFyZ2V0J3MgcGFyZW50IHRoZSB0YXJnZXQgcGFyZW50IG9iamVj
dA0KKwkJCQlyZXR1cm4gZHJvcFRhcmdldC5nZXRQYXJlbnQoKTsNCisJCQl9DQorCQl9DQorCQly
ZXR1cm4gbnVsbDsNCisJfQ0KKw0KKwkvKioNCisJICogR2V0IHRoZSBUb2NPYmplY3QgcmVwcmVz
ZW50YXRpb25zIG9mIGEgZ3JvdXAgb2YgZHJvcHBlZCBvYmplY3RzLg0KKwkgKiANCisJICogQHBh
cmFtIGRyb3BwaW5ncyBUaGUgb2JqZWN0cyB0aGF0IGFyZSBkcm9wcGVkOyBjYW4gYmUgZmlsZSBw
YXRoIFN0cmluZ3Mgb3INCisJICogZGVzZXJpYWxpemVkIFRvY09iamVjdHMNCisJICogDQorCSAq
IEBwYXJhbSB0YXJnZXRQYXJlbnQgVGhlIGRlc2lnbmF0ZWQgcGFyZW50IG9mIHRoZSBkcm9wcGVk
IG9iamVjdHMNCisJICogDQorCSAqIEByZXR1cm4gYSBsaXN0IG9mIHRoZSAocmVjb25uZWN0ZWQp
IFRvY09iamVjdCByZXByZXNlbnRhdGlvbnMgb2YgdGhlIGRyb3BwZWQgb2JqZWN0cw0KKwkgKi8N
CisJcHJpdmF0ZSBBcnJheUxpc3QgZ2V0T2JqZWN0c1RvQWRkKE9iamVjdFtdIGRyb3BwaW5ncywg
Q3R4SGVscE9iamVjdCB0YXJnZXRQYXJlbnQpIHsNCisJCUFycmF5TGlzdCBjdHhIZWxwT2JqZWN0
cyA9IG5ldyBBcnJheUxpc3QoZHJvcHBpbmdzLmxlbmd0aCk7DQorDQorCQlpZiAoZkRyYWdBZGFw
dGVyLmdldERyYWdnZWRFbGVtZW50cygpICE9IG51bGwpIHsgLy8gSWYgdGhlcmUgYXJlIGl0ZW1z
IGluIHRoZSBkcmFnIGFkYXB0ZXIsIHRoZW4gdGhlIGN1cnJlbnQgZHJhZyBtdXN0IGJlIGZyb20N
CisJCQkvLyB0aGlzIHNlY3Rpb24NCisJCQlmRHJhZ0Zyb21IZXJlID0gZkRyYWdBZGFwdGVyLmdl
dERyYWdnZWRFbGVtZW50cygpLnNpemUoKSA9PSBkcm9wcGluZ3MubGVuZ3RoOw0KKwkJfQ0KKw0K
KwkJZm9yIChpbnQgaSA9IDA7IGkgPCBkcm9wcGluZ3MubGVuZ3RoOyArK2kpIHsNCisJCQkvLyBU
T0RPIEZpbmlzaCBkcm9wDQorLy8JCQlpZiAoZHJvcHBpbmdzW2ldIGluc3RhbmNlb2YgU3RyaW5n
KSB7DQorLy8JCQkJSVdvcmtzcGFjZVJvb3Qgcm9vdCA9IFJlc291cmNlc1BsdWdpbi5nZXRXb3Jr
c3BhY2UoKS5nZXRSb290KCk7DQorLy8NCisvLwkJCQkvLyBJZiB0aGUgYXJyYXkgY29udGFpbnMg
U3RyaW5ncywgd2UgdHJlYXQgdGhlbSBhcyBmaWxlIHBhdGhzDQorLy8JCQkJUGF0aCBwYXRoID0g
bmV3IFBhdGgoKFN0cmluZykgZHJvcHBpbmdzW2ldKTsNCisvLwkJCQlJRmlsZSBmaWxlID0gcm9v
dC5nZXRGaWxlRm9yTG9jYXRpb24ocGF0aCk7DQorLy8JCQkJaWYgKGZpbGUgPT0gbnVsbCkgew0K
Ky8vCQkJCQljb250aW51ZTsNCisvLwkJCQl9DQorLy8JCQkJDQorLy8JCQkJLy8gSWYgdGhlIHBh
dGggaXMgdG8gYSB2YWxpZCBUT0MgZmlsZQ0KKy8vCQkJCS8vIGFuZCBpdCBpc24ndCB0aGUgZmls
ZSBpbiB0aGlzIG1vZGVsDQorLy8JCQkJLy8gdGhlbiBtYWtlIGEgbGluaw0KKy8vCQkJCWlmIChU
b2NFeHRlbnNpb25VdGlsLmlzVE9DRmlsZShwYXRoKSAmJiAhVG9jRXh0ZW5zaW9uVXRpbC5pc0N1
cnJlbnRSZXNvdXJjZShwYXRoLCBmTW9kZWwpKSB7DQorLy8JCQkJCXRvY09iamVjdHMuYWRkKG1h
a2VOZXdUb2NMaW5rKHRhcmdldFBhcmVudCwgZmlsZSkpOw0KKy8vCQkJCX0NCisvLwkJCQkvLyBJ
ZiB0aGUgcGF0aCBpcyB0byBhIGZpbGUgd2l0aCBhbiBIVE1MIHBhZ2UgZXh0ZW5zaW9uLCBtYWtl
IGEgdG9waWMNCisvLwkJCQllbHNlIGlmIChUb2NFeHRlbnNpb25VdGlsLmhhc1ZhbGlkUGFnZUV4
dGVuc2lvbihwYXRoKSkgew0KKy8vCQkJCQlUb2NUb3BpYyB0b3BpYyA9IG1ha2VOZXdUb2NUb3Bp
Yyh0YXJnZXRQYXJlbnQsIGZpbGUpOw0KKy8vCQkJCQlTdHJpbmcgdGl0bGUgPSBnZW5lcmF0ZVRp
dGxlKHRhcmdldFBhcmVudCwgcGF0aCk7DQorLy8NCisvLwkJCQkJdG9waWMuc2V0RmllbGRMYWJl
bCh0aXRsZSk7DQorLy8JCQkJCXRvY09iamVjdHMuYWRkKHRvcGljKTsNCisvLwkJCQl9DQorLy8J
CQl9IGVsc2UNCisJCQlpZiAoZHJvcHBpbmdzW2ldIGluc3RhbmNlb2YgQ3R4SGVscE9iamVjdCkg
ew0KKwkJCQlBcnJheUxpc3QgZHJhZ2dlZCA9IGZEcmFnQWRhcHRlci5nZXREcmFnZ2VkRWxlbWVu
dHMoKTsNCisJCQkJaWYgKGZEcmFnRnJvbUhlcmUpIHsNCisJCQkJCUN0eEhlbHBPYmplY3QgZHJh
Z2dlZE9iaiA9IChDdHhIZWxwT2JqZWN0KSBkcmFnZ2VkLmdldChpKTsNCisNCisJCQkJCS8vTmVz
dGluZyBhbiBvYmplY3QgaW5zaWRlIGl0c2VsZiBvciBpdHMgY2hpbGRyZW4NCisJCQkJCS8vaXMg
c28gc3R1cGlkIGFuZCByaWRpY3Vsb3VzIHRoYXQgSSBnZXQgYSBoZWFkYWNoZQ0KKwkJCQkJLy9q
dXN0IHRoaW5raW5nIGFib3V0IGl0LiBUaHVzLCB0aGlzIGRyYWcgaXMgbm90IGdvaW5nIHRvIGNv
bXBsZXRlLg0KKwkJCQkJaWYgKHRhcmdldFBhcmVudC5kZXNjZW5kc0Zyb20oZHJhZ2dlZE9iaikp
IHsNCisJCQkJCQlyZXR1cm4gbnVsbDsNCisJCQkJCX0NCisJCQkJfQ0KKw0KKwkJCQkvL1JlY29u
bmVjdCB0aGlzIFRvY09iamVjdCwgc2luY2UgaXQgd2FzIGRlc2VyaWFsaXplZA0KKwkJCQkoKEN0
eEhlbHBPYmplY3QpIGRyb3BwaW5nc1tpXSkucmVjb25uZWN0KHRhcmdldFBhcmVudCwgZk1vZGVs
KTsNCisJCQkJY3R4SGVscE9iamVjdHMuYWRkKGRyb3BwaW5nc1tpXSk7DQorCQkJfQ0KKwkJfQ0K
Kw0KKwkJcmV0dXJuIGN0eEhlbHBPYmplY3RzOw0KKwl9DQorDQorCS8qKg0KKwkgKiBHZW5lcmF0
ZSB0aGUgdGl0bGUgb2YgYSBUb3BpYyBjcmVhdGVkIHZpYSBkcmFnZ2luZyBpbiBhbiBIVE1MIHBh
Z2UuDQorCSAqIFVzZSB0aGUgdGl0bGUgb2YgdGhlIEhUTUwgcGFnZSwgb3IgZ2VuZXJhdGUgYSBu
YW1lIGJhc2VkIG9uIHRoZSB0YXJnZXQNCisJICogcGFyZW50IGlmIG5vIHRpdGxlIGV4aXN0cy4N
CisJICogDQorCSAqIEBwYXJhbSB0YXJnZXRQYXJlbnQgVGhlIGRlc2lnbmF0ZWQgcGFyZW50IG9m
IHRoaXMgdG9waWMNCisJICogQHBhcmFtIHBhdGggVGhlIHBhdGggdG8gdGhlIEhUTUwgZmlsZQ0K
KwkgKiANCisJICogQHJldHVybiBUaGUgZ2VuZXJhdGVkIG5hbWUgb2YgdGhlIFRvcGljLg0KKwkg
Ki8NCisvLwlwcml2YXRlIFN0cmluZyBnZW5lcmF0ZVRpdGxlKFRvY1RvcGljIHRhcmdldFBhcmVu
dCwgUGF0aCBwYXRoKSB7DQorLy8JCVN0cmluZyB0aXRsZSA9IFRvY0hUTUxUaXRsZVV0aWwuZmlu
ZFRpdGxlKHBhdGgudG9GaWxlKCkpOw0KKy8vCQlpZiAodGl0bGUgPT0gbnVsbCkgew0KKy8vCQkJ
aW50IG51bUNoaWxkcmVuID0gdGFyZ2V0UGFyZW50LmdldENoaWxkcmVuKCkuc2l6ZSgpOw0KKy8v
CQkJVG9jT2JqZWN0W10gY2hpbGRyZW4gPSAoVG9jT2JqZWN0W10pIHRhcmdldFBhcmVudC5nZXRD
aGlsZHJlbigpLnRvQXJyYXkobmV3IFRvY09iamVjdFtudW1DaGlsZHJlbl0pOw0KKy8vDQorLy8J
CQlTdHJpbmdbXSB0b2NPYmplY3ROYW1lcyA9IG5ldyBTdHJpbmdbY2hpbGRyZW4ubGVuZ3RoXTsN
CisvLw0KKy8vCQkJZm9yIChpbnQgaiA9IDA7IGogPCBudW1DaGlsZHJlbjsgKytqKSB7DQorLy8J
CQkJdG9jT2JqZWN0TmFtZXNbal0gPSBjaGlsZHJlbltqXS5nZXROYW1lKCk7DQorLy8JCQl9DQor
Ly8NCisvLwkJCXRpdGxlID0gUERFTGFiZWxVdGlsaXR5LmdlbmVyYXRlTmFtZSh0b2NPYmplY3RO
YW1lcywgUERFVUlNZXNzYWdlcy5Ub2NQYWdlX1RvY1RvcGljKTsNCisvLwkJfQ0KKy8vCQlyZXR1
cm4gdGl0bGU7DQorLy8JfQ0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlw
c2UucGRlLmludGVybmFsLnVpLmVkaXRvci5TdHJ1Y3R1cmVkVmlld2VyU2VjdGlvbiNidXR0b25T
ZWxlY3RlZChpbnQpDQorCSAqLw0KKwlwcm90ZWN0ZWQgdm9pZCBidXR0b25TZWxlY3RlZChpbnQg
aW5kZXgpIHsNCisJCUlTdHJ1Y3R1cmVkU2VsZWN0aW9uIHNlbGVjdGlvbiA9IChJU3RydWN0dXJl
ZFNlbGVjdGlvbikgZlRyZWUuZ2V0U2VsZWN0aW9uKCk7DQorCQlPYmplY3Qgb2JqZWN0ID0gc2Vs
ZWN0aW9uLmdldEZpcnN0RWxlbWVudCgpOw0KKwkJQ3R4SGVscE9iamVjdCBmaXJzdFNlbGVjdGVk
T2JqZWN0ID0gKEN0eEhlbHBPYmplY3QpIG9iamVjdDsNCisJCXN3aXRjaCAoaW5kZXgpIHsNCisJ
CQljYXNlIEZfQlVUVE9OX0FERF9DT05URVhUIDoNCisJCQkJdXBkYXRlQWRkQ29udGV4dEFjdGlv
bldpdGhTZWxlY3Rpb24oZmlyc3RTZWxlY3RlZE9iamVjdCk7DQorCQkJCWZBZGRDb250ZXh0QWN0
aW9uLnJ1bigpOw0KKwkJCQlicmVhazsNCisJCQljYXNlIEZfQlVUVE9OX0FERF9UT1BJQyA6DQor
CQkJCXVwZGF0ZUFkZFRvcGljQWN0aW9uV2l0aFNlbGVjdGlvbihmaXJzdFNlbGVjdGVkT2JqZWN0
KTsNCisJCQkJZkFkZFRvcGljQWN0aW9uLnJ1bigpOw0KKwkJCQlicmVhazsNCisJCQljYXNlIEZf
QlVUVE9OX0FERF9DT01NQU5EIDoNCisJCQkJdXBkYXRlQWRkQ29tbWFuZEFjdGlvbldpdGhTZWxl
Y3Rpb24oZmlyc3RTZWxlY3RlZE9iamVjdCk7DQorCQkJCWZBZGRDb21tYW5kQWN0aW9uLnJ1bigp
Ow0KKwkJCQlicmVhazsNCisJCQljYXNlIEZfQlVUVE9OX1JFTU9WRSA6DQorCQkJCXVwZGF0ZVJl
bW92ZUFjdGlvbldpdGhTZWxlY3Rpb24oc2VsZWN0aW9uKTsNCisJCQkJZlJlbW92ZU9iamVjdEFj
dGlvbi5ydW4oKTsNCisJCQkJYnJlYWs7DQorCQkJY2FzZSBGX0JVVFRPTl9VUCA6DQorCQkJCWhh
bmRsZU1vdmVBY3Rpb24oRl9VUF9GTEFHKTsNCisJCQkJYnJlYWs7DQorCQkJY2FzZSBGX0JVVFRP
Tl9ET1dOIDoNCisJCQkJaGFuZGxlTW92ZUFjdGlvbihGX0RPV05fRkxBRyk7DQorCQkJCWJyZWFr
Ow0KKwkJfQ0KKwl9DQorDQorCS8qKg0KKwkgKiBIYW5kbGUgdGhlIGFkZGl0aW9uIG9mIG11bHRp
cGxlIGluaXRpYWxpemVkIG9iamVjdHMgdG8gdGhlIFRPQy4NCisJICogDQorCSAqIEBwYXJhbSBv
YmplY3RzVG9BZGQgVGhlIG9iamVjdHMgdG8gYmUgYWRkZWQNCisJICogQHBhcmFtIHRhcmdldCBU
aGUgdGFyZ2V0IHRvIGFkZCB0aGVzZSBvYmplY3RzIHJlbGF0aXZlIHRvDQorCSAqIEBwYXJhbSBp
bnNlcnRCZWZvcmUgV2hldGhlciBvciBub3QgdGhlIGluc2VydGlvbiBvY2N1cnMgYmVmb3JlIHRo
ZSB0YXJnZXQNCisJICogQHBhcmFtIHRhcmdldFBhcmVudCBUaGUgcGFyZW50IG9iamVjdCBvZiB0
aGUgbmV3bHkgYWRkZWQgb2JqZWN0cw0KKwkgKi8NCisJcHJpdmF0ZSB2b2lkIGhhbmRsZU11bHRp
QWRkQWN0aW9uKExpc3Qgb2JqZWN0c1RvQWRkLCBDdHhIZWxwT2JqZWN0IHRhcmdldCwgYm9vbGVh
biBpbnNlcnRCZWZvcmUsIEN0eEhlbHBPYmplY3QgdGFyZ2V0UGFyZW50KSB7DQorCQlDdHhIZWxw
T2JqZWN0W10gdG9jT2JqZWN0cyA9IChDdHhIZWxwT2JqZWN0W10pIG9iamVjdHNUb0FkZC50b0Fy
cmF5KG5ldyBDdHhIZWxwT2JqZWN0W29iamVjdHNUb0FkZC5zaXplKCldKTsNCisJCWlmICh0b2NP
YmplY3RzID09IG51bGwpDQorCQkJcmV0dXJuOw0KKw0KKwkJZm9yIChpbnQgaSA9IDA7IGkgPCB0
b2NPYmplY3RzLmxlbmd0aDsgKytpKSB7DQorCQkJaWYgKHRvY09iamVjdHNbaV0gIT0gbnVsbCkg
ew0KKwkJCQlpZiAodGFyZ2V0UGFyZW50ICE9IG51bGwgJiYgdGFyZ2V0UGFyZW50LmNhbkJlUGFy
ZW50KCkgJiYgdGFyZ2V0UGFyZW50LmNhbkFkZENoaWxkKHRvY09iamVjdHNbaV0uZ2V0VHlwZSgp
KSkgew0KKwkJCQkJaWYgKHRhcmdldCAhPSBudWxsICYmIHRhcmdldCAhPSB0YXJnZXRQYXJlbnQp
IHsgLy8gQWRkIHRoZSBvYmplY3QgYXMgYSBkaXJlY3Qgc2libGluZyBvZiB0aGUgdGFyZ2V0DQor
CQkJCQkJdGFyZ2V0UGFyZW50LmFkZENoaWxkKHRvY09iamVjdHNbaV0sIHRhcmdldCwgaW5zZXJ0
QmVmb3JlKTsNCisJCQkJCX0gZWxzZSB7IC8vIEFkZCB0aGUgb2JqZWN0IGFzIHRoZSBsYXN0IGNo
aWxkIG9mIHRoZSB0YXJnZXQgcGFyZW50DQorCQkJCQkJdGFyZ2V0UGFyZW50LmFkZENoaWxkKHRv
Y09iamVjdHNbaV0pOw0KKwkJCQkJfQ0KKwkJCQl9DQorCQkJfQ0KKwkJfQ0KKwl9DQorDQorCS8v
DQorCS8vCS8qKg0KKwkvLwkgKiBSZW1vdmUgdGhlIHNlbGVjdGVkIG9iamVjdHMgZnJvbSB0aGUg
VE9DIHRyZWUNCisJLy8JICovDQorCS8vCXByaXZhdGUgdm9pZCBoYW5kbGVEZWxldGVBY3Rpb24o
KSB7DQorCS8vCQlBcnJheUxpc3Qgb2JqZWN0cyA9IG5ldyBBcnJheUxpc3QoKChJU3RydWN0dXJl
ZFNlbGVjdGlvbikgZlRyZWUuZ2V0U2VsZWN0aW9uKCkpLnRvTGlzdCgpKTsNCisJLy8JCWJvb2xl
YW4gYmVlcCA9IGZhbHNlOw0KKwkvLw0KKwkvLwkJLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBsaXN0
IG9mIHNlbGVjdGVkIG9iamVjdHMsIHJlbW92aW5nIG9uZXMNCisJLy8JCS8vIHRoYXQgY2Fubm90
IGJlIHJlbW92ZWQNCisJLy8JCWZvciAoSXRlcmF0b3IgaSA9IG9iamVjdHMuaXRlcmF0b3IoKTsg
aS5oYXNOZXh0KCk7KSB7DQorCS8vCQkJT2JqZWN0IG9iamVjdCA9IGkubmV4dCgpOw0KKwkvLwkJ
CWlmIChvYmplY3QgaW5zdGFuY2VvZiBUb2NPYmplY3QpIHsNCisJLy8JCQkJVG9jT2JqZWN0IHRv
Y09iamVjdCA9IChUb2NPYmplY3QpIG9iamVjdDsNCisJLy8NCisJLy8JCQkJaWYgKCF0b2NPYmpl
Y3QuY2FuQmVSZW1vdmVkKCkpIHsNCisJLy8JCQkJCWkucmVtb3ZlKCk7DQorCS8vCQkJCQliZWVw
ID0gdHJ1ZTsNCisJLy8JCQkJfQ0KKwkvLwkJCX0NCisJLy8JCX0NCisJLy8NCisJLy8JCWlmIChi
ZWVwKSB7IC8vIElmIGFueSBvYmplY3QgY2Fubm90IGJlIHJlbW92ZWQsIGJlZXAgdG8gbm90aWZ5
IHRoZSB1c2VyCQkJDQorCS8vCQkJRGlzcGxheS5nZXRDdXJyZW50KCkuYmVlcCgpOw0KKwkvLwkJ
fQ0KKwkvLw0KKwkvLwkJLy8gUmVtb3ZlIHRoZSByZW1haW5pbmcgb2JqZWN0cw0KKwkvLwkJaGFu
ZGxlUmVtb3ZlKG9iamVjdHMpOw0KKwkvLwl9DQorCS8vDQorCS8vCS8qKg0KKwkvLwkgKiBSZW1v
dmUgdGhlIGl0ZW1zIGxpc3RlZCBmcm9tIHRoZSBUT0MuDQorCS8vCSAqIA0KKwkvLwkgKiBAcGFy
YW0gaXRlbXNUb1JlbW92ZSBUaGUgbGlzdCBvZiBpdGVtcyB0byByZW1vdmUgZnJvbSB0aGUgVE9D
IA0KKwkvLwkgKi8NCisJLy8JcHVibGljIHZvaWQgaGFuZGxlUmVtb3ZlKExpc3QgaXRlbXNUb1Jl
bW92ZSkgew0KKwkvLwkJaWYgKCFpdGVtc1RvUmVtb3ZlLmlzRW1wdHkoKSkgeyAvLyBUYXJnZXQg
dGhlIG9iamVjdHMgZm9yIHJlbW92YWwNCisJLy8JCQlmUmVtb3ZlT2JqZWN0QWN0aW9uLnNldFRv
UmVtb3ZlKChUb2NPYmplY3RbXSkgaXRlbXNUb1JlbW92ZS50b0FycmF5KG5ldyBUb2NPYmplY3Rb
aXRlbXNUb1JlbW92ZS5zaXplKCldKSk7DQorCS8vDQorCS8vCQkJLy8gUnVuIHRoZSByZW1vdmFs
IGFjdGlvbg0KKwkvLwkJCWZSZW1vdmVPYmplY3RBY3Rpb24ucnVuKCk7DQorCS8vCQl9DQorCS8v
CX0NCisNCisJLyoqDQorCSAqIEhhbmRsZSB0aGUgZHJhZ2dpbmcgb2Ygb2JqZWN0cyBvdXQgb2Yg
dGhpcyBUT0MuDQorCSAqIA0KKwkgKiBAcGFyYW0gaXRlbXNEcmFnZ2VkIFRoZSBpdGVtcyBkcmFn
Z2VkIG91dCBvZiB0aGUgVE9DDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBoYW5kbGVEcmFnKExpc3Qg
aXRlbXNEcmFnZ2VkKSB7DQorCQkvLyBUT0RPIEhhbmRsZSBtdWx0aSBkcmFnLCB3aXRoIGluc3Rh
bmNlb2YgY2hlY2tzDQorCQlDdHhIZWxwT2JqZWN0IG9iamVjdCA9IChDdHhIZWxwT2JqZWN0KSBp
dGVtc0RyYWdnZWQuZ2V0KDApOw0KKwkJaWYgKG9iamVjdCAhPSBudWxsICYmIG9iamVjdC5jYW5C
ZVJlbW92ZWQoKSkgew0KKwkJCWlmICh1cGRhdGVSZW1vdmVBY3Rpb25XaXRoU2VsZWN0aW9uKG5l
dyBTdHJ1Y3R1cmVkU2VsZWN0aW9uKGl0ZW1zRHJhZ2dlZCkpKSB7DQorCQkJCWZSZW1vdmVPYmpl
Y3RBY3Rpb24ucnVuKCk7DQorCQkJfQ0KKwkJfQ0KKw0KKwkJLy8gVGhlIGRyYWcgaXMgZmluaXNo
ZWQsIHNvIHRoZXJlIGlzIG5vIGludHJhLWVkaXRvciBETkQgb3BlcmF0aW9uIG9jY3VyaW5nIG5v
dw0KKwkJZkRyYWdGcm9tSGVyZSA9IGZhbHNlOw0KKwl9DQorDQorCS8qKg0KKwkgKiBNb3ZlIGFu
IG9iamVjdCB3aXRoaW4gdGhlIFRPQy4NCisJICogDQorCSAqIEBwYXJhbSBwb3NpdGlvbkZsYWcg
VGhlIGRpcmVjdGlvbiB0aGF0IHRoZSBvYmplY3Qgd2lsbCBtb3ZlDQorCSAqLw0KKwlwcml2YXRl
IHZvaWQgaGFuZGxlTW92ZUFjdGlvbihpbnQgcG9zaXRpb25GbGFnKSB7DQorCQlJU3RydWN0dXJl
ZFNlbGVjdGlvbiBzZWwgPSAoSVN0cnVjdHVyZWRTZWxlY3Rpb24pIGZUcmVlLmdldFNlbGVjdGlv
bigpOw0KKw0KKwkJT2JqZWN0IG9iamVjdCA9IHNlbC5nZXRGaXJzdEVsZW1lbnQoKTsNCisJCWlm
IChvYmplY3QgPT0gbnVsbCkgew0KKwkJCXJldHVybjsNCisJCX0gZWxzZSBpZiAob2JqZWN0IGlu
c3RhbmNlb2YgQ3R4SGVscE9iamVjdCkgew0KKwkJCUN0eEhlbHBPYmplY3QgY3R4SGVscE9iamVj
dCA9IChDdHhIZWxwT2JqZWN0KSBvYmplY3Q7DQorCQkJQ3R4SGVscE9iamVjdCBwYXJlbnQgPSBj
dHhIZWxwT2JqZWN0LmdldFBhcmVudCgpOw0KKwkJCWlmIChwYXJlbnQgIT0gbnVsbCkgew0KKwkJ
CQlwYXJlbnQubW92ZUNoaWxkKGN0eEhlbHBPYmplY3QsIHBvc2l0aW9uRmxhZyk7DQorCQkJCWZU
cmVlLnNldFNlbGVjdGlvbihuZXcgU3RydWN0dXJlZFNlbGVjdGlvbihjdHhIZWxwT2JqZWN0KSwg
dHJ1ZSk7DQorCQkJfQ0KKwkJfQ0KKw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICog
QHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBERVNlY3Rpb24jbW9kZWxD
aGFuZ2VkKG9yZy5lY2xpcHNlLnBkZS5jb3JlLklNb2RlbENoYW5nZWRFdmVudCkNCisJICovDQor
CXB1YmxpYyB2b2lkIG1vZGVsQ2hhbmdlZChJTW9kZWxDaGFuZ2VkRXZlbnQgZXZlbnQpIHsNCisJ
CS8vIE5vIG5lZWQgdG8gY2FsbCBzdXBlciwgd29ybGQgY2hhbmdlZCBldmVudCBoYW5kbGVkIGhl
cmUNCisJCWlmIChldmVudC5nZXRDaGFuZ2VUeXBlKCkgPT0gSU1vZGVsQ2hhbmdlZEV2ZW50LldP
UkxEX0NIQU5HRUQpIHsNCisJCQloYW5kbGVNb2RlbEV2ZW50V29ybGRDaGFuZ2VkKGV2ZW50KTsN
CisJCX0gZWxzZSBpZiAoZXZlbnQuZ2V0Q2hhbmdlVHlwZSgpID09IElNb2RlbENoYW5nZWRFdmVu
dC5JTlNFUlQpIHsNCisJCQloYW5kbGVNb2RlbEluc2VydFR5cGUoZXZlbnQpOw0KKwkJfSBlbHNl
IGlmIChldmVudC5nZXRDaGFuZ2VUeXBlKCkgPT0gSU1vZGVsQ2hhbmdlZEV2ZW50LlJFTU9WRSkg
ew0KKwkJCWhhbmRsZU1vZGVsUmVtb3ZlVHlwZShldmVudCk7DQorCQl9IGVsc2UgaWYgKChldmVu
dC5nZXRDaGFuZ2VUeXBlKCkgPT0gSU1vZGVsQ2hhbmdlZEV2ZW50LkNIQU5HRSkgJiYgKGV2ZW50
LmdldENoYW5nZWRQcm9wZXJ0eSgpLmVxdWFscyhJRG9jdW1lbnRFbGVtZW50Tm9kZS5GX1BST1BF
UlRZX0NIQU5HRV9UWVBFX1NXQVApKSkgew0KKwkJCWhhbmRsZU1vZGVsQ2hhbmdlVHlwZVN3YXAo
ZXZlbnQpOw0KKwkJfSBlbHNlIGlmIChldmVudC5nZXRDaGFuZ2VUeXBlKCkgPT0gSU1vZGVsQ2hh
bmdlZEV2ZW50LkNIQU5HRSkgew0KKwkJCWhhbmRsZU1vZGVsQ2hhbmdlVHlwZShldmVudCk7DQor
CQl9DQorCX0NCisNCisJLyoqDQorCSAqIEBwYXJhbSBldmVudA0KKwkgKi8NCisJcHJpdmF0ZSB2
b2lkIGhhbmRsZU1vZGVsQ2hhbmdlVHlwZVN3YXAoSU1vZGVsQ2hhbmdlZEV2ZW50IGV2ZW50KSB7
DQorCQkvLyBTd2FwIGV2ZW50DQorCQkvLyBHZXQgdGhlIGNoYW5nZWQgb2JqZWN0DQorCQlPYmpl
Y3RbXSBvYmplY3RzID0gZXZlbnQuZ2V0Q2hhbmdlZE9iamVjdHMoKTsNCisJCUN0eEhlbHBPYmpl
Y3Qgb2JqZWN0ID0gKEN0eEhlbHBPYmplY3QpIG9iamVjdHNbMF07DQorDQorCQlpZiAob2JqZWN0
ICE9IG51bGwpIHsgLy8gVXBkYXRlIHRoZSBlbGVtZW50IGluIHRoZSB0cmVlIHZpZXdlcg0KKwkJ
CWZUcmVlLnJlZnJlc2gob2JqZWN0KTsNCisJCX0NCisJfQ0KKw0KKwkvKioNCisJICogVGhlIG1v
ZGVsIGlzIHN0YWxlLCByZWZyZXNoIHRoZSBVSQ0KKwkgKiANCisJICogQHBhcmFtIGV2ZW50IFRo
ZSB3b3JsZC1jaGFuZ2UgZXZlbnQNCisJICovDQorCXByaXZhdGUgdm9pZCBoYW5kbGVNb2RlbEV2
ZW50V29ybGRDaGFuZ2VkKElNb2RlbENoYW5nZWRFdmVudCBldmVudCkgew0KKwkJbWFya1N0YWxl
KCk7DQorCX0NCisNCisJLyoqDQorCSAqIEhhbmRsZSBpbnNlcnRpb25zIGluIHRoZSBtb2RlbA0K
KwkgKiBAcGFyYW0gZXZlbnQgdGhlIGluc2VydGlvbiBldmVudA0KKwkgKi8NCisJcHJpdmF0ZSB2
b2lkIGhhbmRsZU1vZGVsSW5zZXJ0VHlwZShJTW9kZWxDaGFuZ2VkRXZlbnQgZXZlbnQpIHsNCisJ
CS8vIEluc2VydCBldmVudA0KKwkJT2JqZWN0W10gb2JqZWN0cyA9IGV2ZW50LmdldENoYW5nZWRP
YmplY3RzKCk7DQorCQlDdHhIZWxwT2JqZWN0IG9iamVjdCA9IChDdHhIZWxwT2JqZWN0KSBvYmpl
Y3RzWzBdOw0KKwkJaWYgKG9iamVjdCAhPSBudWxsKSB7DQorCQkJaWYgKG9iamVjdC5nZXRUeXBl
KCkgIT0gSUN0eEhlbHBDb25zdGFudHMuVFlQRV9ST09UKSB7DQorCQkJCS8vIFJlZnJlc2ggdGhl
IHBhcmVudCBlbGVtZW50IGluIHRoZSB0cmVlIHZpZXdlcg0KKwkJCQkvLyBUT0RPOiBDYW4gd2Ug
Z2V0IGF3YXkgd2l0aCBhbiB1cGRhdGUgaW5zdGVhZCBvZiBhIHJlZnJlc2ggaGVyZT8NCisJCQkJ
ZlRyZWUucmVmcmVzaChvYmplY3QuZ2V0UGFyZW50KCkpOw0KKwkJCQkvLyBTZWxlY3QgdGhlIG5l
dyBvYmplY3QgaW4gdGhlIHRyZWUsIHVubGVzcyBpdCBpcyBhIGRlc2NyaXB0aW9uIG5vZGUNCisJ
CQkJaWYgKCEob2JqZWN0IGluc3RhbmNlb2YgQ3R4SGVscERlc2NyaXB0aW9uKSkgew0KKwkJCQkJ
ZlRyZWUuc2V0U2VsZWN0aW9uKG5ldyBTdHJ1Y3R1cmVkU2VsZWN0aW9uKG9iamVjdCksIHRydWUp
Ow0KKwkJCQl9DQorCQkJfQ0KKwkJfQ0KKwl9DQorDQorCS8qKg0KKwkgKiBIYW5kbGUgcmVtb3Zh
bHMgaW4gdGhlIG1vZGVsDQorCSAqIA0KKwkgKiBAcGFyYW0gZXZlbnQgdGhlIHJlbW92YWwgZXZl
bnQNCisJICovDQorCXByaXZhdGUgdm9pZCBoYW5kbGVNb2RlbFJlbW92ZVR5cGUoSU1vZGVsQ2hh
bmdlZEV2ZW50IGV2ZW50KSB7DQorCQkvLyBSZW1vdmUgZXZlbnQNCisJCU9iamVjdFtdIG9iamVj
dHMgPSBldmVudC5nZXRDaGFuZ2VkT2JqZWN0cygpOw0KKwkJaWYgKG9iamVjdHNbMF0gIT0gbnVs
bCkgew0KKwkJCUN0eEhlbHBPYmplY3Qgb2JqZWN0ID0gKEN0eEhlbHBPYmplY3QpIG9iamVjdHNb
MF07DQorCQkJZlRyZWUucmVtb3ZlKG9iamVjdCk7DQorCQkJQ3R4SGVscE9iamVjdCBuZXh0U2Vs
ZWN0aW9uID0gZlJlbW92ZU9iamVjdEFjdGlvbi5nZXROZXh0U2VsZWN0aW9uKCk7DQorCQkJaWYg
KG5leHRTZWxlY3Rpb24gIT0gbnVsbCkgew0KKwkJCQlpZiAobmV4dFNlbGVjdGlvbi5lcXVhbHMo
b2JqZWN0LmdldFBhcmVudCgpKSkgew0KKwkJCQkJZlRyZWUucmVmcmVzaChvYmplY3QuZ2V0UGFy
ZW50KCkpOw0KKwkJCQl9DQorCQkJCWlmICghZkRyYWdGcm9tSGVyZSkgew0KKwkJCQkJZlRyZWUu
c2V0U2VsZWN0aW9uKG5ldyBTdHJ1Y3R1cmVkU2VsZWN0aW9uKG5leHRTZWxlY3Rpb24pLCB0cnVl
KTsNCisJCQkJfQ0KKwkJCQlmUmVtb3ZlT2JqZWN0QWN0aW9uLmNsZWFyTmV4dFNlbGVjdGlvbigp
Ow0KKwkJCX0NCisJCX0NCisJfQ0KKw0KKwkvKioNCisJICogSGFuZGxlIGFuIHVwZGF0ZSB0byBh
IFRvY09iamVjdCdzIHByb3BlcnRpZXMNCisJICogQHBhcmFtIGV2ZW50IHRoZSB1cGRhdGUgZXZl
bnQNCisJICovDQorCXByaXZhdGUgdm9pZCBoYW5kbGVNb2RlbENoYW5nZVR5cGUoSU1vZGVsQ2hh
bmdlZEV2ZW50IGV2ZW50KSB7DQorCQkvLyBHZXQgdGhlIGNoYW5nZWQgb2JqZWN0DQorCQlPYmpl
Y3RbXSBvYmplY3RzID0gZXZlbnQuZ2V0Q2hhbmdlZE9iamVjdHMoKTsNCisJCUN0eEhlbHBPYmpl
Y3Qgb2JqZWN0ID0gKEN0eEhlbHBPYmplY3QpIG9iamVjdHNbMF07DQorDQorCQlpZiAob2JqZWN0
ICE9IG51bGwpIHsgLy8gVXBkYXRlIHRoZSBlbGVtZW50IGluIHRoZSB0cmVlIHZpZXdlcg0KKwkJ
CWZUcmVlLnVwZGF0ZShvYmplY3QsIG51bGwpOw0KKwkJfQ0KKwl9DQorDQorCXB1YmxpYyB2b2lk
IHJlZnJlc2goKSB7DQorCQlDdHhIZWxwTW9kZWwgbW9kZWwgPSAoQ3R4SGVscE1vZGVsKSBnZXRQ
YWdlKCkuZ2V0TW9kZWwoKTsNCisJCWZUcmVlLnNldElucHV0KG1vZGVsKTsNCisJCWZUcmVlLmV4
cGFuZFRvTGV2ZWwoMik7DQorCQlmVHJlZS5zZXRTZWxlY3Rpb24obmV3IFN0cnVjdHVyZWRTZWxl
Y3Rpb24obW9kZWwuZ2V0Q3R4SGVscFJvb3QoKSksIHRydWUpOw0KKwkJZ2V0TWFuYWdlZEZvcm0o
KS5maXJlU2VsZWN0aW9uQ2hhbmdlZCh0aGlzLCBmVHJlZS5nZXRTZWxlY3Rpb24oKSk7DQorCQlz
dXBlci5yZWZyZXNoKCk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuVHJlZVNlY3Rpb24jY3JlYXRlVHJlZVZp
ZXdlcihvcmcuZWNsaXBzZS5zd3Qud2lkZ2V0cy5Db21wb3NpdGUsIGludCkNCisJICovDQorCXBy
b3RlY3RlZCBUcmVlVmlld2VyIGNyZWF0ZVRyZWVWaWV3ZXIoQ29tcG9zaXRlIHBhcmVudCwgaW50
IHN0eWxlKSB7DQorCQlmRmlsdGVyZWRUcmVlID0gbmV3IEZvcm1GaWx0ZXJlZFRyZWUocGFyZW50
LCBzdHlsZSwgbmV3IFBhdHRlcm5GaWx0ZXIoKSk7DQorCQlwYXJlbnQuc2V0RGF0YSgiZmlsdGVy
ZWQiLCBCb29sZWFuLlRSVUUpOyAvLyROT04tTkxTLTEkDQorCQlyZXR1cm4gZkZpbHRlcmVkVHJl
ZS5nZXRWaWV3ZXIoKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3Jn
LmVjbGlwc2UudWkuZm9ybXMuQWJzdHJhY3RGb3JtUGFydCNkaXNwb3NlKCkNCisJICovDQorCXB1
YmxpYyB2b2lkIGRpc3Bvc2UoKSB7DQorCQlQREVQbHVnaW4uZ2V0RGVmYXVsdCgpLmdldExhYmVs
UHJvdmlkZXIoKS5kaXNjb25uZWN0KHRoaXMpOw0KKwkJc3VwZXIuZGlzcG9zZSgpOw0KKwl9DQor
fQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9kZXRh
aWxzL0hlbHBFZGl0b3JGaWx0ZXIuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHNyYy9vcmcv
ZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9kZXRhaWxzL0hlbHBFZGl0b3JGaWx0
ZXIuamF2YQ0KZGlmZiAtTiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90
b2MvZGV0YWlscy9IZWxwRWRpdG9yRmlsdGVyLmphdmENCi0tLSAvZGV2L251bGwJMSBKYW4gMTk3
MCAwMDowMDowMCAtMDAwMA0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRp
dG9yL3RvYy9kZXRhaWxzL0hlbHBFZGl0b3JGaWx0ZXIuamF2YQkxIEphbiAxOTcwIDAwOjAwOjAw
IC0wMDAwDQpAQCAtMCwwICsxLDQ3IEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBD
b3B5cmlnaHQgKGMpIDIwMDcgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJp
Z2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFs
cw0KKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2Ug
UHVibGljIExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0
aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdh
bC9lcGwtdjEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBv
cmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKiovDQorDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9y
LnRvYy5kZXRhaWxzOw0KKw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJlc291cmNlcy4qOw0K
K2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuQ29yZUV4Y2VwdGlvbjsNCitpbXBvcnQg
b3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLklQYXRoOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFj
ZS52aWV3ZXJzLlZpZXdlcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy5WaWV3
ZXJGaWx0ZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IudG9j
LkhlbHBFZGl0b3JVdGlsOw0KKw0KK3B1YmxpYyBjbGFzcyBIZWxwRWRpdG9yRmlsdGVyIGV4dGVu
ZHMgVmlld2VyRmlsdGVyIHsNCisJcHVibGljIGJvb2xlYW4gc2VsZWN0KFZpZXdlciB2aWV3ZXIs
IE9iamVjdCBwYXJlbnQsIE9iamVjdCBlbGVtZW50KSB7DQorCQlpZiAoZWxlbWVudCBpbnN0YW5j
ZW9mIElGaWxlKSB7DQorCQkJSVBhdGggcGF0aCA9ICgoSUZpbGUpIGVsZW1lbnQpLmdldEZ1bGxQ
YXRoKCk7DQorDQorCQkJcmV0dXJuIEhlbHBFZGl0b3JVdGlsLmhhc1ZhbGlkUGFnZUV4dGVuc2lv
bihwYXRoKTsNCisJCX0NCisNCisJCWlmIChlbGVtZW50IGluc3RhbmNlb2YgSVByb2plY3QgJiYg
ISgoSVByb2plY3QpIGVsZW1lbnQpLmlzT3BlbigpKSB7DQorCQkJcmV0dXJuIGZhbHNlOw0KKwkJ
fQ0KKw0KKwkJaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBJQ29udGFpbmVyKSB7DQorCQkJdHJ5IHsN
CisJCQkJSVJlc291cmNlW10gcmVzb3VyY2VzID0gKChJQ29udGFpbmVyKSBlbGVtZW50KS5tZW1i
ZXJzKCk7DQorCQkJCWZvciAoaW50IGkgPSAwOyBpIDwgcmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7
DQorCQkJCQlpZiAoc2VsZWN0KHZpZXdlciwgcGFyZW50LCByZXNvdXJjZXNbaV0pKSB7DQorCQkJ
CQkJcmV0dXJuIHRydWU7DQorCQkJCQl9DQorCQkJCX0NCisJCQl9IGNhdGNoIChDb3JlRXhjZXB0
aW9uIGUpIHsNCisJCQl9DQorCQl9DQorDQorCQlyZXR1cm4gZmFsc2U7DQorCX0NCit9DQpJbmRl
eDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxz
L0N0eEhlbHBDb21tYW5kRGV0YWlscy5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogc3JjL29y
Zy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhlbHBD
b21tYW5kRGV0YWlscy5qYXZhDQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwv
dWkvZWRpdG9yL2N0eGhlbHAvZGV0YWlscy9DdHhIZWxwQ29tbWFuZERldGFpbHMuamF2YQ0KLS0t
IC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgc3JjL29yZy9lY2xpcHNl
L3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhlbHBDb21tYW5kRGV0
YWlscy5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsMTE1IEBADQor
LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIwMDcgSUJNIENvcnBv
cmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFt
IGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1
bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KKyAqIHdo
aWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQor
ICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKg0KKyAqIENv
bnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGlt
cGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQorDQorcGFja2FnZSBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlsczsNCisNCitpbXBv
cnQgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy5JU2VsZWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNs
aXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscENvbW1hbmQ7DQoraW1w
b3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuRm9ybUVudHJ5QWRhcHRlcjsN
CitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLkN0eEhl
bHBJbnB1dENvbnRleHQ7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0
b3IuY3R4aGVscC5DdHhIZWxwVHJlZVNlY3Rpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5p
bnRlcm5hbC51aS5wYXJ0cy5Gb3JtRW50cnk7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5TV1Q7
DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC53aWRnZXRzLkNvbXBvc2l0ZTsNCitpbXBvcnQgb3Jn
LmVjbGlwc2UudWkuZm9ybXMuSUZvcm1QYXJ0Ow0KKw0KK3B1YmxpYyBjbGFzcyBDdHhIZWxwQ29t
bWFuZERldGFpbHMgZXh0ZW5kcyBDdHhIZWxwQWJzdHJhY3REZXRhaWxzIHsNCisNCisJcHJpdmF0
ZSBDdHhIZWxwQ29tbWFuZCBmQ29tbWFuZDsNCisJcHJpdmF0ZSBGb3JtRW50cnkgZkxhYmVsRW50
cnk7DQorCXByaXZhdGUgRm9ybUVudHJ5IGZTZXJpYWxFbnRyeTsNCisNCisJLyoqDQorCSAqIEBw
YXJhbSBtYXN0ZXJTZWN0aW9uDQorCSAqLw0KKwlwdWJsaWMgQ3R4SGVscENvbW1hbmREZXRhaWxz
KEN0eEhlbHBUcmVlU2VjdGlvbiBtYXN0ZXJTZWN0aW9uKSB7DQorCQlzdXBlcihtYXN0ZXJTZWN0
aW9uLCBDdHhIZWxwSW5wdXRDb250ZXh0LkNPTlRFWFRfSUQpOw0KKwl9DQorDQorCS8qIChub24t
SmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLnRv
Yy5Ub2NBYnN0cmFjdERldGFpbHMjY3JlYXRlRGV0YWlscyhvcmcuZWNsaXBzZS5zd3Qud2lkZ2V0
cy5Db21wb3NpdGUpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBjcmVhdGVGaWVsZHMoQ29tcG9zaXRl
IHBhcmVudCkgew0KKwkJY3JlYXRlTGFiZWwocGFyZW50LCBnZXRNYW5hZ2VkRm9ybSgpLmdldFRv
b2xraXQoKSwgIlNwZWNpZnkgdGhlIGRpc3BsYXkgbGFiZWwgZm9yIHRoaXMgY29tbWFuZDoiKTsN
CisJCWZMYWJlbEVudHJ5ID0gbmV3IEZvcm1FbnRyeShwYXJlbnQsIGdldE1hbmFnZWRGb3JtKCku
Z2V0VG9vbGtpdCgpLCAiTGFiZWw6IiwgU1dULk5PTkUpOw0KKwkJY3JlYXRlU3BhY2UocGFyZW50
KTsNCisJCWNyZWF0ZUxhYmVsKHBhcmVudCwgZ2V0TWFuYWdlZEZvcm0oKS5nZXRUb29sa2l0KCks
ICJTcGVjaWZ5IHRoZSBjb21tYW5kIHRvIGludm9rZToiKTsNCisJCWZTZXJpYWxFbnRyeSA9IG5l
dyBGb3JtRW50cnkocGFyZW50LCBnZXRNYW5hZ2VkRm9ybSgpLmdldFRvb2xraXQoKSwgIkNvbW1h
bmQ6IiwgU1dULk5PTkUpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBv
cmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlscy5DdHhIZWxw
QWJzdHJhY3REZXRhaWxzI2dldERldGFpbHNUaXRsZSgpDQorCSAqLw0KKwlwcm90ZWN0ZWQgU3Ry
aW5nIGdldERldGFpbHNUaXRsZSgpIHsNCisJCXJldHVybiAiQ29tbWFuZCBEZXRhaWxzIjsNCisJ
fQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVy
bmFsLnVpLmVkaXRvci5jdHhoZWxwLmRldGFpbHMuQ3R4SGVscEFic3RyYWN0RGV0YWlscyNnZXRE
ZXRhaWxzRGVzY3JpcHRpb24oKQ0KKwkgKi8NCisJcHJvdGVjdGVkIFN0cmluZyBnZXREZXRhaWxz
RGVzY3JpcHRpb24oKSB7DQorCQlyZXR1cm4gbnVsbDsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFk
b2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci50b2MuVG9j
QWJzdHJhY3REZXRhaWxzI2hvb2tMaXN0ZW5lcnMoKQ0KKwkgKi8NCisJcHVibGljIHZvaWQgaG9v
a0xpc3RlbmVycygpIHsNCisJCWZMYWJlbEVudHJ5LnNldEZvcm1FbnRyeUxpc3RlbmVyKG5ldyBG
b3JtRW50cnlBZGFwdGVyKHRoaXMpIHsNCisJCQlwdWJsaWMgdm9pZCB0ZXh0VmFsdWVDaGFuZ2Vk
KEZvcm1FbnRyeSBlbnRyeSkgew0KKwkJCQlpZiAoZkNvbW1hbmQgIT0gbnVsbCkgew0KKwkJCQkJ
ZkNvbW1hbmQuc2V0TGFiZWwoZkxhYmVsRW50cnkuZ2V0VmFsdWUoKSk7DQorCQkJCX0NCisJCQl9
DQorCQl9KTsNCisJCWZTZXJpYWxFbnRyeS5zZXRGb3JtRW50cnlMaXN0ZW5lcihuZXcgRm9ybUVu
dHJ5QWRhcHRlcih0aGlzKSB7DQorCQkJcHVibGljIHZvaWQgdGV4dFZhbHVlQ2hhbmdlZChGb3Jt
RW50cnkgZW50cnkpIHsgLy8gRW5zdXJlIGRhdGEgb2JqZWN0IGlzIGRlZmluZWQNCisJCQkJaWYg
KGZDb21tYW5kICE9IG51bGwpIHsNCisJCQkJCWZDb21tYW5kLnNldFNlcmlhbGl6YXRpb24oZlNl
cmlhbEVudHJ5LmdldFZhbHVlKCkpOw0KKwkJCQl9DQorCQkJfQ0KKwkJfSk7DQorCX0NCisNCisJ
LyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5l
ZGl0b3IudG9jLlRvY0Fic3RyYWN0RGV0YWlscyN1cGRhdGVGaWVsZHMoKQ0KKwkgKi8NCisJcHVi
bGljIHZvaWQgdXBkYXRlRmllbGRzKCkgew0KKwkJaWYgKGZDb21tYW5kICE9IG51bGwpIHsNCisJ
CQlmTGFiZWxFbnRyeS5zZXRWYWx1ZShmQ29tbWFuZC5nZXRMYWJlbCgpLCB0cnVlKTsNCisJCQlm
TGFiZWxFbnRyeS5zZXRFZGl0YWJsZShpc0VkaXRhYmxlRWxlbWVudCgpKTsNCisJCQlmU2VyaWFs
RW50cnkuc2V0VmFsdWUoZkNvbW1hbmQuZ2V0U2VyaWFsaXphdGlvbigpLCB0cnVlKTsNCisJCQlm
U2VyaWFsRW50cnkuc2V0RWRpdGFibGUoaXNFZGl0YWJsZUVsZW1lbnQoKSk7DQorCQl9DQorCX0N
CisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnVpLmZvcm1zLkFi
c3RyYWN0Rm9ybVBhcnQjY29tbWl0KGJvb2xlYW4pDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBjb21t
aXQoYm9vbGVhbiBvblNhdmUpIHsNCisJCXN1cGVyLmNvbW1pdChvblNhdmUpOw0KKwkJLy8gT25s
eSByZXF1aXJlZCBmb3IgZm9ybSBlbnRyaWVzDQorCQlmTGFiZWxFbnRyeS5jb21taXQoKTsNCisJ
CWZTZXJpYWxFbnRyeS5jb21taXQoKTsNCisNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQor
CSAqIEBzZWUgb3JnLmVjbGlwc2UudWkuZm9ybXMuSVBhcnRTZWxlY3Rpb25MaXN0ZW5lciNzZWxl
Y3Rpb25DaGFuZ2VkKG9yZy5lY2xpcHNlLnVpLmZvcm1zLklGb3JtUGFydCwgb3JnLmVjbGlwc2Uu
amZhY2Uudmlld2Vycy5JU2VsZWN0aW9uKQ0KKwkgKi8NCisJcHVibGljIHZvaWQgc2VsZWN0aW9u
Q2hhbmdlZChJRm9ybVBhcnQgcGFydCwgSVNlbGVjdGlvbiBzZWxlY3Rpb24pIHsNCisJCU9iamVj
dCBvYmplY3QgPSBnZXRGaXJzdFNlbGVjdGVkT2JqZWN0KHNlbGVjdGlvbik7DQorCQlpZiAob2Jq
ZWN0IGluc3RhbmNlb2YgQ3R4SGVscENvbW1hbmQpIHsNCisJCQlmQ29tbWFuZCA9IChDdHhIZWxw
Q29tbWFuZCkgb2JqZWN0Ow0KKwkJCXVwZGF0ZUZpZWxkcygpOw0KKwkJfQ0KKwl9DQorfQ0KSW5k
ZXg6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVs
cFNvdXJjZVBhZ2UuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHNyYy9vcmcvZWNsaXBzZS9w
ZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscFNvdXJjZVBhZ2UuamF2YQ0KZGlm
ZiAtTiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhl
bHBTb3VyY2VQYWdlLmphdmENCi0tLSAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAw
MA0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4
SGVscFNvdXJjZVBhZ2UuamF2YQkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsx
LDEyMiBAQA0KKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQorICogQ29weXJpZ2h0IChjKSAyMDA3
IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRo
aXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCisgKiBhcmUgbWFkZSBh
dmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYx
LjANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWls
YWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQor
ICoNCisgKiBDb250cmlidXRvcnM6DQorICogICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwg
QVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KKw0KK3Bh
Y2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwOw0KKw0KK2lt
cG9ydCBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC5jb3JlLnRleHQuKjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBNb2RlbDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRl
LmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBPYmplY3Q7DQoraW1wb3J0IG9yZy5l
Y2xpcHNlLnBkZS5pbnRlcm5hbC51aS5QREVQbHVnaW47DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC51aS5QREVVSU1lc3NhZ2VzOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50
ZXJuYWwudWkuZWRpdG9yLlBERUZvcm1FZGl0b3I7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5p
bnRlcm5hbC51aS5lZGl0b3IuWE1MU291cmNlUGFnZTsNCisNCisvKioNCisgKiBUb2NTb3VyY2VQ
YWdlDQorICovDQorcHVibGljIGNsYXNzIEN0eEhlbHBTb3VyY2VQYWdlIGV4dGVuZHMgWE1MU291
cmNlUGFnZSB7DQorDQorCS8qKg0KKwkgKiBAcGFyYW0gZWRpdG9yDQorCSAqIEBwYXJhbSBpZA0K
KwkgKiBAcGFyYW0gdGl0bGUNCisJICovDQorCXB1YmxpYyBDdHhIZWxwU291cmNlUGFnZShQREVG
b3JtRWRpdG9yIGVkaXRvciwgU3RyaW5nIGlkLCBTdHJpbmcgdGl0bGUpIHsNCisJCXN1cGVyKGVk
aXRvciwgaWQsIHRpdGxlKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUg
b3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5QREVQcm9qZWN0aW9uU291cmNlUGFn
ZSNpc1F1aWNrT3V0bGluZUVuYWJsZWQoKQ0KKwkgKi8NCisJcHVibGljIGJvb2xlYW4gaXNRdWlj
a091dGxpbmVFbmFibGVkKCkgew0KKwkJcmV0dXJuIHRydWU7DQorCX0NCisNCisJLyogKG5vbi1K
YXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERF
U291cmNlUGFnZSNjcmVhdGVPdXRsaW5lQ29tcGFyYXRvcigpDQorCSAqLw0KKwlwdWJsaWMgVmll
d2VyQ29tcGFyYXRvciBjcmVhdGVPdXRsaW5lQ29tcGFyYXRvcigpIHsNCisJCXJldHVybiBudWxs
Ow0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwudWkuZWRpdG9yLlBERVNvdXJjZVBhZ2UjY3JlYXRlT3V0bGluZUNvbnRlbnRQcm92
aWRlcigpDQorCSAqLw0KKwlwdWJsaWMgSVRyZWVDb250ZW50UHJvdmlkZXIgY3JlYXRlT3V0bGlu
ZUNvbnRlbnRQcm92aWRlcigpIHsNCisJCXJldHVybiBuZXcgQ3R4SGVscENvbnRlbnRQcm92aWRl
cigpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5w
ZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBERVNvdXJjZVBhZ2UjY3JlYXRlT3V0bGluZUxhYmVsUHJv
dmlkZXIoKQ0KKwkgKi8NCisJcHVibGljIElMYWJlbFByb3ZpZGVyIGNyZWF0ZU91dGxpbmVMYWJl
bFByb3ZpZGVyKCkgew0KKwkJcmV0dXJuIFBERVBsdWdpbi5nZXREZWZhdWx0KCkuZ2V0TGFiZWxQ
cm92aWRlcigpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNs
aXBzZS51aS5wYXJ0LkVkaXRvclBhcnQjc2V0UGFydE5hbWUoamF2YS5sYW5nLlN0cmluZykNCisJ
ICovDQorCXByb3RlY3RlZCB2b2lkIHNldFBhcnROYW1lKFN0cmluZyBwYXJ0TmFtZSkgew0KKwkJ
c3VwZXIuc2V0UGFydE5hbWUoUERFVUlNZXNzYWdlcy5FZGl0b3JTb3VyY2VQYWdlX25hbWUpOw0K
Kwl9DQorDQorCXByb3RlY3RlZCBib29sZWFuIGlzU2VsZWN0aW9uTGlzdGVuZXIoKSB7DQorCQly
ZXR1cm4gdHJ1ZTsNCisJfQ0KKw0KKwkvLyBUT0RPIENvbnNpZGVyIGFkZGluZyBjdXN0b20gaHlw
ZXJsaW5rIGRldGVjdG9yDQorCS8vCXB1YmxpYyBPYmplY3QgZ2V0QWRhcHRlcihDbGFzcyBhZGFw
dGVyKSB7DQorCS8vCQlpZiAoSUh5cGVybGlua0RldGVjdG9yLmNsYXNzLmVxdWFscyhhZGFwdGVy
KSkNCisJLy8JCQlyZXR1cm4gbmV3IFRvY0h5cGVybGlua0RldGVjdG9yKHRoaXMpOw0KKwkvLwkJ
cmV0dXJuIHN1cGVyLmdldEFkYXB0ZXIoYWRhcHRlcik7DQorCS8vCX0NCisNCisJLyogKG5vbi1K
YXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERF
U291cmNlUGFnZSN1cGRhdGVTZWxlY3Rpb24oamF2YS5sYW5nLk9iamVjdCkNCisJICovDQorCXB1
YmxpYyB2b2lkIHVwZGF0ZVNlbGVjdGlvbihPYmplY3Qgb2JqZWN0KSB7DQorCQlpZiAoKG9iamVj
dCBpbnN0YW5jZW9mIElEb2N1bWVudEVsZW1lbnROb2RlKSAmJiAhKChJRG9jdW1lbnRFbGVtZW50
Tm9kZSkgb2JqZWN0KS5pc0Vycm9yTm9kZSgpKSB7DQorCQkJc2V0U2VsZWN0ZWRPYmplY3Qob2Jq
ZWN0KTsNCisJCQlzZXRIaWdobGlnaHRSYW5nZSgoSURvY3VtZW50RWxlbWVudE5vZGUpIG9iamVj
dCwgdHJ1ZSk7DQorCQkJc2V0U2VsZWN0ZWRSYW5nZSgoSURvY3VtZW50RWxlbWVudE5vZGUpIG9i
amVjdCwgZmFsc2UpOw0KKwkJfQ0KKwl9DQorDQorCXByb3RlY3RlZCBJRG9jdW1lbnRSYW5nZSBm
aW5kUmFuZ2UoKSB7DQorCQlpZiAoZ2V0U2VsZWN0aW9uKCkgaW5zdGFuY2VvZiBJRG9jdW1lbnRF
bGVtZW50Tm9kZSkgew0KKwkJCXJldHVybiAoSURvY3VtZW50RWxlbWVudE5vZGUpIGdldFNlbGVj
dGlvbigpOw0KKwkJfQ0KKw0KKwkJcmV0dXJuIG51bGw7DQorCX0NCisNCisJcHVibGljIElEb2N1
bWVudFJhbmdlIGdldFJhbmdlRWxlbWVudChpbnQgb2Zmc2V0LCBib29sZWFuIHNlYXJjaENoaWxk
cmVuKSB7DQorCQlDdHhIZWxwT2JqZWN0IHJvb3QgPSAoKEN0eEhlbHBNb2RlbCkgZ2V0SW5wdXRD
b250ZXh0KCkuZ2V0TW9kZWwoKSkuZ2V0Q3R4SGVscFJvb3QoKTsNCisJCXJldHVybiBmaW5kTm9k
ZShyb290LCBvZmZzZXQsIHNlYXJjaENoaWxkcmVuKTsNCisJfQ0KKw0KKwlwcm90ZWN0ZWQgdm9p
ZCBzeW5jaHJvbml6ZU91dGxpbmVQYWdlKGludCBvZmZzZXQpIHsNCisJCUlEb2N1bWVudFJhbmdl
IHJhbmdlRWxlbWVudCA9IGdldFJhbmdlRWxlbWVudChvZmZzZXQsIHRydWUpOw0KKwkJdXBkYXRl
SGlnaGxpZ2h0UmFuZ2UocmFuZ2VFbGVtZW50KTsNCisJCS8vIFRPRE86IE1QOiBURU86IExPVzog
R2VuZXJhbGl6ZSBmb3IgcGFyZW50IC0gc2VhcmNoIGNoaWxkcmVuID0gdHJ1ZSBhbmQgaGFuZGxl
IGF0dHJpYnV0ZXMNCisJCWlmIChyYW5nZUVsZW1lbnQgaW5zdGFuY2VvZiBJRG9jdW1lbnRBdHRy
aWJ1dGVOb2RlKSB7DQorCQkJcmFuZ2VFbGVtZW50ID0gKChJRG9jdW1lbnRBdHRyaWJ1dGVOb2Rl
KSByYW5nZUVsZW1lbnQpLmdldEVuY2xvc2luZ0VsZW1lbnQoKTsNCisJCX0NCisJCXVwZGF0ZU91
dGxpbmVQYWdlU2VsZWN0aW9uKHJhbmdlRWxlbWVudCk7DQorCX0NCisNCisJcHJvdGVjdGVkIHZv
aWQgaW5pdGlhbGl6ZUVkaXRvcigpIHsNCisJCXN1cGVyLmluaXRpYWxpemVFZGl0b3IoKTsNCisJ
CS8vIFRPRE8gRml4IGhlbHAgY29udGV4dA0KKwkJLy8JCXNldEhlbHBDb250ZXh0SWQoSUhlbHBD
b250ZXh0SWRzLlRPQ19FRElUT1IpOw0KKwl9DQorfQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9w
ZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvZGV0YWlscy9DdHhIZWxwRGVzY3JpcHRpb25E
ZXRhaWxzLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiBzcmMvb3JnL2VjbGlwc2UvcGRlL2lu
dGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVscERlc2NyaXB0aW9uRGV0YWls
cy5qYXZhDQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0
eGhlbHAvZGV0YWlscy9DdHhIZWxwRGVzY3JpcHRpb25EZXRhaWxzLmphdmENCi0tLSAvZGV2L251
bGwJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50
ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvZGV0YWlscy9DdHhIZWxwRGVzY3JpcHRpb25EZXRhaWxz
LmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAgLTAsMCArMSwxMDggQEANCisvKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMjAwNyBJQk0gQ29ycG9yYXRp
b24gYW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5k
IHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVy
IHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hpY2gg
YWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBo
dHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29udHJp
YnV0b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVt
ZW50YXRpb24NCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCisNCitwYWNrYWdlIG9yZy5lY2xp
cHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzOw0KKw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklTZWxlY3Rpb247DQoraW1wb3J0IG9yZy5lY2xpcHNl
LnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwRGVzY3JpcHRpb247DQoraW1w
b3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5QREVVSU1lc3NhZ2VzOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLkZvcm1FbnRyeUFkYXB0ZXI7DQoraW1w
b3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5DdHhIZWxwSW5w
dXRDb250ZXh0Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0
eGhlbHAuQ3R4SGVscFRyZWVTZWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwudWkucGFydHMuRm9ybUVudHJ5Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3QuU1dUOw0KK2lt
cG9ydCBvcmcuZWNsaXBzZS5zd3QubGF5b3V0LkdyaWREYXRhOw0KK2ltcG9ydCBvcmcuZWNsaXBz
ZS5zd3Qud2lkZ2V0cy5Db21wb3NpdGU7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmZvcm1zLklG
b3JtUGFydDsNCisNCitwdWJsaWMgY2xhc3MgQ3R4SGVscERlc2NyaXB0aW9uRGV0YWlscyBleHRl
bmRzIEN0eEhlbHBBYnN0cmFjdERldGFpbHMgew0KKw0KKwlwcml2YXRlIEN0eEhlbHBEZXNjcmlw
dGlvbiBmRGVzY3JpcHRpb247DQorCXByaXZhdGUgRm9ybUVudHJ5IGZEZXNjRW50cnk7DQorDQor
CS8qKg0KKwkgKiBAcGFyYW0gbWFzdGVyU2VjdGlvbg0KKwkgKi8NCisJcHVibGljIEN0eEhlbHBE
ZXNjcmlwdGlvbkRldGFpbHMoQ3R4SGVscFRyZWVTZWN0aW9uIG1hc3RlclNlY3Rpb24pIHsNCisJ
CXN1cGVyKG1hc3RlclNlY3Rpb24sIEN0eEhlbHBJbnB1dENvbnRleHQuQ09OVEVYVF9JRCk7DQor
CX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC51aS5lZGl0b3IudG9jLlRvY0Fic3RyYWN0RGV0YWlscyNjcmVhdGVEZXRhaWxzKG9yZy5l
Y2xpcHNlLnN3dC53aWRnZXRzLkNvbXBvc2l0ZSkNCisJICovDQorCXB1YmxpYyB2b2lkIGNyZWF0
ZUZpZWxkcyhDb21wb3NpdGUgcGFyZW50KSB7DQorCQljcmVhdGVMYWJlbChwYXJlbnQsIGdldE1h
bmFnZWRGb3JtKCkuZ2V0VG9vbGtpdCgpLCAiU3BlY2lmeSB0aGUgY29udGV4dCBkZXNjcmlwdGlv
biB0aGF0IHdpbGwgYmUgZGlzcGxheWVkIHRvIHRoZSB1c2VyOiIpOw0KKwkJZkRlc2NFbnRyeSA9
IG5ldyBGb3JtRW50cnkocGFyZW50LCBnZXRNYW5hZ2VkRm9ybSgpLmdldFRvb2xraXQoKSwgIkRl
c2NyaXB0aW9uOiIsIFNXVC5NVUxUSSB8IFNXVC5XUkFQIHwgU1dULlZfU0NST0xMKTsNCisJCUdy
aWREYXRhIGRhdGEgPSBuZXcgR3JpZERhdGEoR3JpZERhdGEuRklMTF9IT1JJWk9OVEFMKTsNCisJ
CWRhdGEuaGVpZ2h0SGludCA9IDUwOw0KKwkJZkRlc2NFbnRyeS5nZXRUZXh0KCkuc2V0TGF5b3V0
RGF0YShkYXRhKTsNCisJCWRhdGEgPSBuZXcgR3JpZERhdGEoR3JpZERhdGEuVkVSVElDQUxfQUxJ
R05fQkVHSU5OSU5HIHwgR3JpZERhdGEuSE9SSVpPTlRBTF9BTElHTl9FTkQpOw0KKwkJZkRlc2NF
bnRyeS5nZXRMYWJlbCgpLnNldExheW91dERhdGEoZGF0YSk7DQorCX0NCisNCisJLyogKG5vbi1K
YXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4
aGVscC5kZXRhaWxzLkN0eEhlbHBBYnN0cmFjdERldGFpbHMjZ2V0RGV0YWlsc1RpdGxlKCkNCisJ
ICovDQorCXByb3RlY3RlZCBTdHJpbmcgZ2V0RGV0YWlsc1RpdGxlKCkgew0KKwkJcmV0dXJuIFBE
RVVJTWVzc2FnZXMuVG9jVG9waWNEZXRhaWxzX3RpdGxlOw0KKwl9DQorDQorCS8qIChub24tSmF2
YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhl
bHAuZGV0YWlscy5DdHhIZWxwQWJzdHJhY3REZXRhaWxzI2dldERldGFpbHNEZXNjcmlwdGlvbigp
DQorCSAqLw0KKwlwcm90ZWN0ZWQgU3RyaW5nIGdldERldGFpbHNEZXNjcmlwdGlvbigpIHsNCisJ
CXJldHVybiBudWxsOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLnRvYy5Ub2NBYnN0cmFjdERldGFpbHMjaG9v
a0xpc3RlbmVycygpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBob29rTGlzdGVuZXJzKCkgew0KKwkJ
ZkRlc2NFbnRyeS5zZXRGb3JtRW50cnlMaXN0ZW5lcihuZXcgRm9ybUVudHJ5QWRhcHRlcih0aGlz
KSB7DQorCQkJcHVibGljIHZvaWQgdGV4dFZhbHVlQ2hhbmdlZChGb3JtRW50cnkgZW50cnkpIHsN
CisJCQkJaWYgKGZEZXNjcmlwdGlvbiAhPSBudWxsKSB7DQorCQkJCQlmRGVzY3JpcHRpb24uc2V0
RGVzY3JpcHRpb24oZkRlc2NFbnRyeS5nZXRWYWx1ZSgpKTsNCisJCQkJfQ0KKwkJCX0NCisJCX0p
Ow0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwudWkuZWRpdG9yLnRvYy5Ub2NBYnN0cmFjdERldGFpbHMjdXBkYXRlRmllbGRzKCkN
CisJICovDQorCXB1YmxpYyB2b2lkIHVwZGF0ZUZpZWxkcygpIHsNCisJCWlmIChmRGVzY3JpcHRp
b24gIT0gbnVsbCkgew0KKwkJCWZEZXNjRW50cnkuc2V0VmFsdWUoZkRlc2NyaXB0aW9uLmdldERl
c2NyaXB0aW9uKCksIHRydWUpOw0KKwkJCWZEZXNjRW50cnkuc2V0RWRpdGFibGUoaXNFZGl0YWJs
ZUVsZW1lbnQoKSk7DQorCQl9DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2Vl
IG9yZy5lY2xpcHNlLnVpLmZvcm1zLkFic3RyYWN0Rm9ybVBhcnQjY29tbWl0KGJvb2xlYW4pDQor
CSAqLw0KKwlwdWJsaWMgdm9pZCBjb21taXQoYm9vbGVhbiBvblNhdmUpIHsNCisJCXN1cGVyLmNv
bW1pdChvblNhdmUpOw0KKwkJLy8gT25seSByZXF1aXJlZCBmb3IgZm9ybSBlbnRyaWVzDQorCQlm
RGVzY0VudHJ5LmNvbW1pdCgpOw0KKw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICog
QHNlZSBvcmcuZWNsaXBzZS51aS5mb3Jtcy5JUGFydFNlbGVjdGlvbkxpc3RlbmVyI3NlbGVjdGlv
bkNoYW5nZWQob3JnLmVjbGlwc2UudWkuZm9ybXMuSUZvcm1QYXJ0LCBvcmcuZWNsaXBzZS5qZmFj
ZS52aWV3ZXJzLklTZWxlY3Rpb24pDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBzZWxlY3Rpb25DaGFu
Z2VkKElGb3JtUGFydCBwYXJ0LCBJU2VsZWN0aW9uIHNlbGVjdGlvbikgew0KKwkJT2JqZWN0IG9i
amVjdCA9IGdldEZpcnN0U2VsZWN0ZWRPYmplY3Qoc2VsZWN0aW9uKTsNCisJCWlmIChvYmplY3Qg
aW5zdGFuY2VvZiBDdHhIZWxwRGVzY3JpcHRpb24pIHsNCisJCQlmRGVzY3JpcHRpb24gPSAoQ3R4
SGVscERlc2NyaXB0aW9uKSBvYmplY3Q7DQorCQkJdXBkYXRlRmllbGRzKCk7DQorCQl9DQorCX0N
Cit9DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVs
cC9DdHhIZWxwRWRpdG9yLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiBzcmMvb3JnL2VjbGlw
c2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBFZGl0b3IuamF2YQ0KZGlm
ZiAtTiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhl
bHBFZGl0b3IuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQor
Kysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxw
RWRpdG9yLmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAgLTAsMCArMSwyNjMgQEAN
CisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMjAwOCBJQk0gQ29y
cG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dy
YW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxl
IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICog
d2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQN
CisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICog
Q29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQg
aW1wbGVtZW50YXRpb24NCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCisNCitwYWNrYWdlIG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscDsNCisNCitpbXBvcnQgamF2
YS5pby5GaWxlOw0KK2ltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0Ow0KK2ltcG9ydCBqYXZhLnV0
aWwuSXRlcmF0b3I7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLio7DQoraW1w
b3J0IG9yZy5lY2xpcHNlLmNvcmUucnVudGltZS5JUGF0aDsNCitpbXBvcnQgb3JnLmVjbGlwc2Uu
amR0LnVpLkphdmFVSTsNCitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy4qOw0KK2lt
cG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuKjsNCitpbXBv
cnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLklQREVVSUNvbnN0YW50czsNCitpbXBvcnQg
b3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLlBERVBsdWdpbjsNCitpbXBvcnQgb3JnLmVjbGlw
c2UucGRlLmludGVybmFsLnVpLmVkaXRvci4qOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50
ZXJuYWwudWkuZWRpdG9yLmNvbnRleHQuSW5wdXRDb250ZXh0Ow0KK2ltcG9ydCBvcmcuZWNsaXBz
ZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmNvbnRleHQuSW5wdXRDb250ZXh0TWFuYWdlcjsNCitp
bXBvcnQgb3JnLmVjbGlwc2UudWkuKjsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWkuZm9ybXMuZWRp
dG9yLklGb3JtUGFnZTsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWkucGFydC4qOw0KKw0KKy8qKg0K
KyAqIFRvY0VkaXRvcg0KKyAqIEBzaW5jZSAzLjQNCisgKg0KKyAqLw0KK3B1YmxpYyBjbGFzcyBD
dHhIZWxwRWRpdG9yIGV4dGVuZHMgTXVsdGlTb3VyY2VFZGl0b3Igew0KKw0KKwlwdWJsaWMgQ3R4
SGVscEVkaXRvcigpIHsNCisJCXN1cGVyKCk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0K
KwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFRm9ybUVkaXRv
ciNnZXRFZGl0b3JJRCgpDQorCSAqLw0KKwlwcm90ZWN0ZWQgU3RyaW5nIGdldEVkaXRvcklEKCkg
ew0KKwkJcmV0dXJuIElQREVVSUNvbnN0YW50cy5DT05URVhUX0hFTFBfRURJVE9SX0lEOw0KKwl9
DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwudWkuZWRpdG9yLlBERUZvcm1FZGl0b3IjZ2V0QWRhcHRlcihqYXZhLmxhbmcuQ2xhc3MpDQor
CSAqLw0KKwlwdWJsaWMgT2JqZWN0IGdldEFkYXB0ZXIoQ2xhc3MgYWRhcHRlcikgew0KKwkJaWYg
KGlzU2hvd0luQXBwbGljYWJsZSgpKSB7DQorCQkJaWYgKGFkYXB0ZXIgPT0gSVNob3dJblNvdXJj
ZS5jbGFzcykgew0KKwkJCQlyZXR1cm4gZ2V0U2hvd0luU291cmNlKCk7DQorCQkJfSBlbHNlIGlm
IChhZGFwdGVyID09IElTaG93SW5UYXJnZXRMaXN0LmNsYXNzKSB7DQorCQkJCXJldHVybiBnZXRT
aG93SW5UYXJnZXRMaXN0KCk7DQorCQkJfQ0KKwkJfQ0KKwkJcmV0dXJuIHN1cGVyLmdldEFkYXB0
ZXIoYWRhcHRlcik7DQorCX0NCisNCisJcHJpdmF0ZSBib29sZWFuIGlzU2hvd0luQXBwbGljYWJs
ZSgpIHsNCisJCWlmIChnZXRTZWxlY3Rpb24oKS5pc0VtcHR5KCkpIHsNCisJCQlyZXR1cm4gZmFs
c2U7DQorCQl9DQorCQlpZiAoZ2V0U2VsZWN0aW9uKCkgaW5zdGFuY2VvZiBJU3RydWN0dXJlZFNl
bGVjdGlvbikgew0KKwkJCUlTdHJ1Y3R1cmVkU2VsZWN0aW9uIHNlbGVjdGlvbiA9IChJU3RydWN0
dXJlZFNlbGVjdGlvbikgZ2V0U2VsZWN0aW9uKCk7DQorCQkJZm9yIChJdGVyYXRvciBpdGVyID0g
c2VsZWN0aW9uLml0ZXJhdG9yKCk7IGl0ZXIuaGFzTmV4dCgpOykgew0KKwkJCQlPYmplY3Qgb2Jq
ID0gaXRlci5uZXh0KCk7DQorCQkJCWlmIChvYmogaW5zdGFuY2VvZiBDdHhIZWxwVG9waWMgJiYg
KChDdHhIZWxwVG9waWMpIG9iaikuZ2V0TG9jYXRpb24oKSAhPSBudWxsKSB7DQorCQkJCQlyZXR1
cm4gdHJ1ZTsNCisJCQkJfQ0KKwkJCX0NCisJCX0NCisJCXJldHVybiBmYWxzZTsNCisJfQ0KKw0K
KwkvKioNCisJICogUmV0dXJucyB0aGUgPGNvZGU+SVNob3dJblNvdXJjZTwvY29kZT4gZm9yIHRo
aXMgc2VjdGlvbi4NCisJICogQHJldHVybiB0aGUgPGNvZGU+SVNob3dJblNvdXJjZTwvY29kZT4g
DQorCSAqLw0KKwlwcml2YXRlIElTaG93SW5Tb3VyY2UgZ2V0U2hvd0luU291cmNlKCkgew0KKwkJ
cmV0dXJuIG5ldyBJU2hvd0luU291cmNlKCkgew0KKwkJCXB1YmxpYyBTaG93SW5Db250ZXh0IGdl
dFNob3dJbkNvbnRleHQoKSB7DQorCQkJCUFycmF5TGlzdCByZXNvdXJjZUxpc3QgPSBuZXcgQXJy
YXlMaXN0KCk7DQorCQkJCUlTdHJ1Y3R1cmVkU2VsZWN0aW9uIHNlbGVjdGlvbiA9IChJU3RydWN0
dXJlZFNlbGVjdGlvbikgZ2V0U2VsZWN0aW9uKCk7DQorCQkJCUlTdHJ1Y3R1cmVkU2VsZWN0aW9u
IHJlc291cmNlczsNCisJCQkJaWYgKHNlbGVjdGlvbi5pc0VtcHR5KCkpIHsNCisJCQkJCXJlc291
cmNlcyA9IG51bGw7DQorCQkJCX0gZWxzZSB7DQorCQkJCQlJV29ya3NwYWNlUm9vdCByb290ID0g
UERFUGx1Z2luLmdldFdvcmtzcGFjZSgpLmdldFJvb3QoKTsNCisJCQkJCWZvciAoSXRlcmF0b3Ig
aXRlciA9IHNlbGVjdGlvbi5pdGVyYXRvcigpOyBpdGVyLmhhc05leHQoKTspIHsNCisJCQkJCQlP
YmplY3Qgb2JqID0gaXRlci5uZXh0KCk7DQorCQkJCQkJaWYgKG9iaiBpbnN0YW5jZW9mIEN0eEhl
bHBUb3BpYykgew0KKwkJCQkJCQlJUGF0aCBwYXRoID0gKChDdHhIZWxwVG9waWMpIG9iaikuZ2V0
TG9jYXRpb24oKTsNCisJCQkJCQkJaWYgKHBhdGggIT0gbnVsbCAmJiAhcGF0aC5pc0VtcHR5KCkp
IHsNCisJCQkJCQkJCUN0eEhlbHBNb2RlbCBtb2RlbCA9IChDdHhIZWxwTW9kZWwpIGdldEFnZ3Jl
Z2F0ZU1vZGVsKCk7DQorCQkJCQkJCQlJUGF0aCBwbHVnaW5QYXRoID0gbW9kZWwuZ2V0VW5kZXJs
eWluZ1Jlc291cmNlKCkuZ2V0UHJvamVjdCgpLmdldEZ1bGxQYXRoKCk7DQorCQkJCQkJCQlJUmVz
b3VyY2UgcmVzb3VyY2UgPSByb290LmZpbmRNZW1iZXIocGx1Z2luUGF0aC5hcHBlbmQocGF0aCkp
Ow0KKwkJCQkJCQkJaWYgKHJlc291cmNlICE9IG51bGwpIHsNCisJCQkJCQkJCQlyZXNvdXJjZUxp
c3QuYWRkKHJlc291cmNlKTsNCisJCQkJCQkJCX0NCisJCQkJCQkJfQ0KKwkJCQkJCX0NCisJCQkJ
CX0NCisJCQkJCXJlc291cmNlcyA9IG5ldyBTdHJ1Y3R1cmVkU2VsZWN0aW9uKHJlc291cmNlTGlz
dCk7DQorCQkJCX0NCisJCQkJcmV0dXJuIG5ldyBTaG93SW5Db250ZXh0KG51bGwsIHJlc291cmNl
cyk7DQorCQkJfQ0KKwkJfTsNCisJfQ0KKw0KKwkvKioNCisJICogUmV0dXJucyB0aGUgPGNvZGU+
SVNob3dJblRhcmdldExpc3Q8L2NvZGU+IGZvciB0aGlzIHNlY3Rpb24uDQorCSAqIEByZXR1cm4g
dGhlIDxjb2RlPklTaG93SW5UYXJnZXRMaXN0PC9jb2RlPiANCisJICovDQorCXByaXZhdGUgSVNo
b3dJblRhcmdldExpc3QgZ2V0U2hvd0luVGFyZ2V0TGlzdCgpIHsNCisJCXJldHVybiBuZXcgSVNo
b3dJblRhcmdldExpc3QoKSB7DQorCQkJcHVibGljIFN0cmluZ1tdIGdldFNob3dJblRhcmdldElk
cygpIHsNCisJCQkJcmV0dXJuIG5ldyBTdHJpbmdbXSB7SmF2YVVJLklEX1BBQ0tBR0VTLCBJUGFn
ZUxheW91dC5JRF9SRVNfTkFWfTsNCisJCQl9DQorCQl9Ow0KKwl9DQorDQorCS8qIChub24tSmF2
YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBERUZv
cm1FZGl0b3IjaXNTYXZlQXNBbGxvd2VkKCkNCisJICovDQorCXB1YmxpYyBib29sZWFuIGlzU2F2
ZUFzQWxsb3dlZCgpIHsNCisJCXJldHVybiB0cnVlOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRv
YykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBERUZvcm1F
ZGl0b3IjZ2V0Q29udGV4dElERm9yU2F2ZUFzKCkNCisJICovDQorCXB1YmxpYyBTdHJpbmcgZ2V0
Q29udGV4dElERm9yU2F2ZUFzKCkgew0KKwkJcmV0dXJuIEN0eEhlbHBJbnB1dENvbnRleHQuQ09O
VEVYVF9JRDsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlw
c2UucGRlLmludGVybmFsLnVpLmVkaXRvci5QREVGb3JtRWRpdG9yI2FkZEVkaXRvclBhZ2VzKCkN
CisJICovDQorCXByb3RlY3RlZCB2b2lkIGFkZEVkaXRvclBhZ2VzKCkgew0KKwkJdHJ5IHsNCisJ
CQlhZGRQYWdlKG5ldyBDdHhIZWxwUGFnZSh0aGlzKSk7DQorCQl9IGNhdGNoIChQYXJ0SW5pdEV4
Y2VwdGlvbiBlKSB7DQorCQkJUERFUGx1Z2luLmxvZ0V4Y2VwdGlvbihlKTsNCisJCX0NCisJCS8v
IEFkZCBzb3VyY2UgcGFnZQ0KKwkJYWRkU291cmNlUGFnZShDdHhIZWxwSW5wdXRDb250ZXh0LkNP
TlRFWFRfSUQpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNs
aXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBERUZvcm1FZGl0b3IjY3JlYXRlQ29udGVudE91
dGxpbmUoKQ0KKwkgKi8NCisJcHJvdGVjdGVkIElTb3J0YWJsZUNvbnRlbnRPdXRsaW5lUGFnZSBj
cmVhdGVDb250ZW50T3V0bGluZSgpIHsNCisJCXJldHVybiBuZXcgQ3R4SGVscEZvcm1PdXRsaW5l
UGFnZSh0aGlzKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVj
bGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5QREVGb3JtRWRpdG9yI2NyZWF0ZUlucHV0Q29u
dGV4dE1hbmFnZXIoKQ0KKwkgKi8NCisJcHJvdGVjdGVkIElucHV0Q29udGV4dE1hbmFnZXIgY3Jl
YXRlSW5wdXRDb250ZXh0TWFuYWdlcigpIHsNCisJCXJldHVybiBuZXcgQ3R4SGVscElucHV0Q29u
dGV4dE1hbmFnZXIodGhpcyk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2Vl
IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFRm9ybUVkaXRvciNjcmVhdGVS
ZXNvdXJjZUNvbnRleHRzKG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY29udGV4
dC5JbnB1dENvbnRleHRNYW5hZ2VyLCBvcmcuZWNsaXBzZS51aS5JRmlsZUVkaXRvcklucHV0KQ0K
KwkgKi8NCisJcHJvdGVjdGVkIHZvaWQgY3JlYXRlUmVzb3VyY2VDb250ZXh0cyhJbnB1dENvbnRl
eHRNYW5hZ2VyIGNvbnRleHRzLCBJRmlsZUVkaXRvcklucHV0IGlucHV0KSB7DQorCQljb250ZXh0
cy5wdXRDb250ZXh0KGlucHV0LCBuZXcgQ3R4SGVscElucHV0Q29udGV4dCh0aGlzLCBpbnB1dCwg
dHJ1ZSkpOw0KKwkJY29udGV4dHMubW9uaXRvckZpbGUoaW5wdXQuZ2V0RmlsZSgpKTsNCisJfQ0K
Kw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LnVpLmVkaXRvci5QREVGb3JtRWRpdG9yI2NyZWF0ZVN0b3JhZ2VDb250ZXh0cyhvcmcuZWNsaXBz
ZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmNvbnRleHQuSW5wdXRDb250ZXh0TWFuYWdlciwgb3Jn
LmVjbGlwc2UudWkuSVN0b3JhZ2VFZGl0b3JJbnB1dCkNCisJICovDQorCXByb3RlY3RlZCB2b2lk
IGNyZWF0ZVN0b3JhZ2VDb250ZXh0cyhJbnB1dENvbnRleHRNYW5hZ2VyIGNvbnRleHRzLCBJU3Rv
cmFnZUVkaXRvcklucHV0IGlucHV0KSB7DQorCQljb250ZXh0cy5wdXRDb250ZXh0KGlucHV0LCBu
ZXcgQ3R4SGVscElucHV0Q29udGV4dCh0aGlzLCBpbnB1dCwgdHJ1ZSkpOw0KKwl9DQorDQorCS8q
IChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLlBERUZvcm1FZGl0b3IjY3JlYXRlU3lzdGVtRmlsZUNvbnRleHRzKG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC51aS5lZGl0b3IuY29udGV4dC5JbnB1dENvbnRleHRNYW5hZ2VyLCBvcmcuZWNs
aXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlN5c3RlbUZpbGVFZGl0b3JJbnB1dCkNCisJICov
DQorCXByb3RlY3RlZCB2b2lkIGNyZWF0ZVN5c3RlbUZpbGVDb250ZXh0cyhJbnB1dENvbnRleHRN
YW5hZ2VyIGNvbnRleHRzLCBTeXN0ZW1GaWxlRWRpdG9ySW5wdXQgaW5wdXQpIHsNCisJCUZpbGUg
ZmlsZSA9IChGaWxlKSBpbnB1dC5nZXRBZGFwdGVyKEZpbGUuY2xhc3MpOw0KKwkJaWYgKGZpbGUg
IT0gbnVsbCkgew0KKwkJCUlFZGl0b3JJbnB1dCBpbiA9IG5ldyBTeXN0ZW1GaWxlRWRpdG9ySW5w
dXQoZmlsZSk7DQorCQkJY29udGV4dHMucHV0Q29udGV4dChpbiwgbmV3IEN0eEhlbHBJbnB1dENv
bnRleHQodGhpcywgaW4sIHRydWUpKTsNCisJCX0NCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2Mp
DQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5QREVGb3JtRWRp
dG9yI2VkaXRvckNvbnRleHRBZGRlZChvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9y
LmNvbnRleHQuSW5wdXRDb250ZXh0KQ0KKwkgKi8NCisJcHVibGljIHZvaWQgZWRpdG9yQ29udGV4
dEFkZGVkKElucHV0Q29udGV4dCBjb250ZXh0KSB7DQorCQkvLyBBZGQgdGhlIHNvdXJjZSBwYWdl
DQorCQlhZGRTb3VyY2VQYWdlKGNvbnRleHQuZ2V0SWQoKSk7DQorCX0NCisNCisJLyogKG5vbi1K
YXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERF
Rm9ybUVkaXRvciNnZXRJbnB1dENvbnRleHQoamF2YS5sYW5nLk9iamVjdCkNCisJICovDQorCXBy
b3RlY3RlZCBJbnB1dENvbnRleHQgZ2V0SW5wdXRDb250ZXh0KE9iamVjdCBvYmplY3QpIHsNCisJ
CXJldHVybiBmSW5wdXRDb250ZXh0TWFuYWdlci5maW5kQ29udGV4dChDdHhIZWxwSW5wdXRDb250
ZXh0LkNPTlRFWFRfSUQpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBv
cmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmNvbnRleHQuSUlucHV0Q29udGV4dExp
c3RlbmVyI2NvbnRleHRSZW1vdmVkKG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3Iu
Y29udGV4dC5JbnB1dENvbnRleHQpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBjb250ZXh0UmVtb3Zl
ZChJbnB1dENvbnRleHQgY29udGV4dCkgew0KKwkJY2xvc2UoZmFsc2UpOw0KKwl9DQorDQorCS8q
IChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLmNvbnRleHQuSUlucHV0Q29udGV4dExpc3RlbmVyI21vbml0b3JlZEZpbGVBZGRlZChvcmcu
ZWNsaXBzZS5jb3JlLnJlc291cmNlcy5JRmlsZSkNCisJICovDQorCXB1YmxpYyB2b2lkIG1vbml0
b3JlZEZpbGVBZGRlZChJRmlsZSBtb25pdG9yZWRGaWxlKSB7DQorCQkvLyBOTy1PUA0KKwl9DQor
DQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwu
dWkuZWRpdG9yLmNvbnRleHQuSUlucHV0Q29udGV4dExpc3RlbmVyI21vbml0b3JlZEZpbGVSZW1v
dmVkKG9yZy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLklGaWxlKQ0KKwkgKi8NCisJcHVibGljIGJv
b2xlYW4gbW9uaXRvcmVkRmlsZVJlbW92ZWQoSUZpbGUgbW9uaXRvcmVkRmlsZSkgew0KKwkJcmV0
dXJuIHRydWU7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xp
cHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFRm9ybUVkaXRvciNnZXRTZWxlY3Rpb24oKQ0K
KwkgKi8NCisJcHVibGljIElTZWxlY3Rpb24gZ2V0U2VsZWN0aW9uKCkgew0KKwkJSUZvcm1QYWdl
IGZvcm1QYWdlID0gZ2V0QWN0aXZlUGFnZUluc3RhbmNlKCk7DQorCQlpZiAoKGZvcm1QYWdlICE9
IG51bGwpICYmIChmb3JtUGFnZSBpbnN0YW5jZW9mIEN0eEhlbHBQYWdlKSkgew0KKwkJCS8vIFN5
bmNocm9uaXplcyB0aGUgc2VsZWN0aW9uIG1hZGUgaW4gdGhlIG1hc3RlciB0cmVlIHZpZXcgd2l0
aCB0aGUNCisJCQkvLyBzZWxlY3Rpb24gaW4gdGhlIG91dGxpbmUgdmlldyB3aGVuIHRoZSBsaW5r
IHdpdGggZWRpdG9yIGJ1dHRvbg0KKwkJCS8vIGlzIHRvZ2dsZWQgb24NCisJCQlyZXR1cm4gKChD
dHhIZWxwUGFnZSkgZm9ybVBhZ2UpLmdldFNlbGVjdGlvbigpOw0KKwkJfQ0KKwkJcmV0dXJuIHN1
cGVyLmdldFNlbGVjdGlvbigpOw0KKwl9DQorDQorCXB1YmxpYyBib29sZWFuIGNhbkN1dChJU2Vs
ZWN0aW9uIHNlbGVjdGlvbikgew0KKwkJaWYgKHNlbGVjdGlvbiBpbnN0YW5jZW9mIElTdHJ1Y3R1
cmVkU2VsZWN0aW9uKSB7DQorCQkJSVN0cnVjdHVyZWRTZWxlY3Rpb24gc2VsID0gKElTdHJ1Y3R1
cmVkU2VsZWN0aW9uKSBzZWxlY3Rpb247DQorCQkJZm9yIChJdGVyYXRvciBpdGVyID0gc2VsLml0
ZXJhdG9yKCk7IGl0ZXIuaGFzTmV4dCgpOykgew0KKwkJCQlPYmplY3Qgb2JqID0gaXRlci5uZXh0
KCk7DQorCQkJCWlmIChvYmogaW5zdGFuY2VvZiBDdHhIZWxwT2JqZWN0ICYmICgoQ3R4SGVscE9i
amVjdCkgb2JqKS5jYW5CZVJlbW92ZWQoKSkgew0KKwkJCQkJcmV0dXJuIGNhbkNvcHkoc2VsZWN0
aW9uKTsNCisJCQkJfQ0KKwkJCX0NCisJCX0NCisJCXJldHVybiBmYWxzZTsNCisJfQ0KKw0KKwkv
KiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVk
aXRvci5NdWx0aVNvdXJjZUVkaXRvciNjcmVhdGVTb3VyY2VQYWdlKG9yZy5lY2xpcHNlLnBkZS5p
bnRlcm5hbC51aS5lZGl0b3IuUERFRm9ybUVkaXRvciwgamF2YS5sYW5nLlN0cmluZywgamF2YS5s
YW5nLlN0cmluZywgamF2YS5sYW5nLlN0cmluZykNCisJICovDQorCXByb3RlY3RlZCBQREVTb3Vy
Y2VQYWdlIGNyZWF0ZVNvdXJjZVBhZ2UoUERFRm9ybUVkaXRvciBlZGl0b3IsIFN0cmluZyB0aXRs
ZSwgU3RyaW5nIG5hbWUsIFN0cmluZyBjb250ZXh0SWQpIHsNCisJCXJldHVybiBuZXcgQ3R4SGVs
cFNvdXJjZVBhZ2UoZWRpdG9yLCB0aXRsZSwgbmFtZSk7DQorCX0NCisNCit9DQpJbmRleDogc3Jj
L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL0hlbHBFZGl0b3JVdGlsLmph
dmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT0NClJDUyBmaWxlOiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3Vp
L2VkaXRvci90b2MvSGVscEVkaXRvclV0aWwuamF2YQ0KZGlmZiAtTiBzcmMvb3JnL2VjbGlwc2Uv
cGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvSGVscEVkaXRvclV0aWwuamF2YQ0KLS0tIC9kZXYv
bnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9p
bnRlcm5hbC91aS9lZGl0b3IvdG9jL0hlbHBFZGl0b3JVdGlsLmphdmEJMSBKYW4gMTk3MCAwMDow
MDowMCAtMDAwMA0KQEAgLTAsMCArMSwxMDUgQEANCisvKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0K
KyAqIENvcHlyaWdodCAoYykgMjAwNyBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBB
bGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0
ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNs
aXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0
cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3Jn
L2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0g
Q29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKi8NCisNCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5l
ZGl0b3IudG9jOw0KKw0KK2ltcG9ydCBqYXZhLnV0aWwuSGFzaFNldDsNCitpbXBvcnQgamF2YS51
dGlsLkxvY2FsZTsNCisNCitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5yZXNvdXJjZXMuSUZpbGU7
DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLklSZXNvdXJjZTsNCitpbXBvcnQg
b3JnLmVjbGlwc2UuY29yZS5yZXNvdXJjZXMuSVdvcmtzcGFjZVJvb3Q7DQoraW1wb3J0IG9yZy5l
Y2xpcHNlLmNvcmUucmVzb3VyY2VzLlJlc291cmNlc1BsdWdpbjsNCitpbXBvcnQgb3JnLmVjbGlw
c2UuY29yZS5ydW50aW1lLklQYXRoOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuY29yZS5JQmFz
ZU1vZGVsOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuY29yZS5JTW9kZWw7DQoraW1wb3J0IG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLml0b2MuSVRvY0NvbnN0YW50czsNCitpbXBvcnQg
b3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLnV0aWwuWE1MUm9vdEVsZW1lbnRNYXRjaGVyOw0K
Kw0KK3B1YmxpYyBjbGFzcyBIZWxwRWRpdG9yVXRpbCB7DQorCXB1YmxpYyBzdGF0aWMgZmluYWwg
U3RyaW5nW10gcGFnZUV4dGVuc2lvbnMgPSB7Imh0bSIsInNodG1sIiwiaHRtbCIsInhodG1sIn07
IC8vJE5PTi1OTFMtMSQgLy8kTk9OLU5MUy0yJCAvLyROT04tTkxTLTMkIC8vJE5PTi1OTFMtNCQN
CisJcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgdG9jRXh0ZW5zaW9uID0gInhtbCI7IC8vJE5P
Ti1OTFMtMSQNCisJcHJpdmF0ZSBzdGF0aWMgSGFzaFNldCBwYWdlRXh0ZW5zaW9uU2V0ID0gbmV3
IEhhc2hTZXQocGFnZUV4dGVuc2lvbnMubGVuZ3RoKTsNCisNCisJcHJpdmF0ZSBzdGF0aWMgdm9p
ZCBwb3B1bGF0ZUhhc2hTZXQoKQ0KKwl7CWZvcihpbnQgaSA9IDA7IGkgPCBwYWdlRXh0ZW5zaW9u
cy5sZW5ndGg7ICsraSkNCisJCXsJcGFnZUV4dGVuc2lvblNldC5hZGQocGFnZUV4dGVuc2lvbnNb
aV0pOw0KKwkJfQ0KKwl9DQorCQ0KKwlwdWJsaWMgc3RhdGljIGJvb2xlYW4gaGFzVmFsaWRQYWdl
RXh0ZW5zaW9uKElQYXRoIHBhdGgpDQorCXsJU3RyaW5nIGZpbGVFeHRlbnNpb24gPSBwYXRoLmdl
dEZpbGVFeHRlbnNpb24oKTsJDQorCQlpZihmaWxlRXh0ZW5zaW9uICE9IG51bGwpDQorCQl7CWZp
bGVFeHRlbnNpb24gPSBmaWxlRXh0ZW5zaW9uLnRvTG93ZXJDYXNlKExvY2FsZS5FTkdMSVNIKTsN
CisJCQlpZihwYWdlRXh0ZW5zaW9uU2V0LmlzRW1wdHkoKSkNCisJCQl7CXBvcHVsYXRlSGFzaFNl
dCgpOw0KKwkJCX0NCisJCQkNCisJCQlyZXR1cm4gcGFnZUV4dGVuc2lvblNldC5jb250YWlucyhm
aWxlRXh0ZW5zaW9uKTsNCisJCX0NCisNCisJCXJldHVybiBmYWxzZTsNCisJfQ0KKw0KKwlwcml2
YXRlIHN0YXRpYyBib29sZWFuIGhhc1ZhbGlkVG9jRXh0ZW5zaW9uKElQYXRoIHBhdGgpDQorCXsJ
U3RyaW5nIGZpbGVFeHRlbnNpb24gPSBwYXRoLmdldEZpbGVFeHRlbnNpb24oKTsNCisJCXJldHVy
biBmaWxlRXh0ZW5zaW9uICE9IG51bGwgJiYgZmlsZUV4dGVuc2lvbi5lcXVhbHModG9jRXh0ZW5z
aW9uKTsgDQorCX0NCisNCisJLyoqDQorCSAqIEBwYXJhbSBmaWxlDQorCSAqLw0KKwlwdWJsaWMg
c3RhdGljIGJvb2xlYW4gaXNUT0NGaWxlKElQYXRoIHBhdGgpIHsNCisJCWlmKCFoYXNWYWxpZFRv
Y0V4dGVuc2lvbihwYXRoKSkNCisJCQlyZXR1cm4gZmFsc2U7DQorCQkNCisJCUlXb3Jrc3BhY2VS
b290IHJvb3QgPSBSZXNvdXJjZXNQbHVnaW4uZ2V0V29ya3NwYWNlKCkuZ2V0Um9vdCgpOw0KKw0K
KwkJSVJlc291cmNlIHJlc291cmNlID0gcm9vdC5maW5kTWVtYmVyKHBhdGgpOw0KKwkJaWYocmVz
b3VyY2UgIT0gbnVsbCAmJiByZXNvdXJjZSBpbnN0YW5jZW9mIElGaWxlKQ0KKwkJewlyZXR1cm4g
WE1MUm9vdEVsZW1lbnRNYXRjaGVyLmZpbGVNYXRjaGVzRWxlbWVudCgoSUZpbGUpcmVzb3VyY2Us
IElUb2NDb25zdGFudHMuRUxFTUVOVF9UT0MpOw0KKwkJfQ0KKw0KKwkJcmV0dXJuIFhNTFJvb3RF
bGVtZW50TWF0Y2hlci5maWxlTWF0Y2hlc0VsZW1lbnQocGF0aC50b0ZpbGUoKSwgSVRvY0NvbnN0
YW50cy5FTEVNRU5UX1RPQyk7DQorCX0NCisNCisJcHVibGljIHN0YXRpYyBib29sZWFuIGlzQ3Vy
cmVudFJlc291cmNlKElQYXRoIHBhdGgsIElCYXNlTW9kZWwgbW9kZWwpDQorCXsJaWYobW9kZWwg
aW5zdGFuY2VvZiBJTW9kZWwpDQorCQl7CUlQYXRoIHdvcmtzcGFjZVBhdGggPSBSZXNvdXJjZXNQ
bHVnaW4uZ2V0V29ya3NwYWNlKCkuZ2V0Um9vdCgpLmdldExvY2F0aW9uKCk7DQorCQkJSVBhdGgg
ZnVsbFBhdGg7CQ0KKw0KKwkJCWlmKHdvcmtzcGFjZVBhdGguaXNQcmVmaXhPZihwYXRoKSkNCisJ
CQl7CWZ1bGxQYXRoID0gKChJTW9kZWwpbW9kZWwpLmdldFVuZGVybHlpbmdSZXNvdXJjZSgpLmdl
dExvY2F0aW9uKCk7CQ0KKwkJCX0NCisJCQllbHNlDQorCQkJewlmdWxsUGF0aCA9ICgoSU1vZGVs
KW1vZGVsKS5nZXRVbmRlcmx5aW5nUmVzb3VyY2UoKS5nZXRGdWxsUGF0aCgpOw0KKwkJCX0NCisN
CisJCQlyZXR1cm4gZnVsbFBhdGguZXF1YWxzKHBhdGgpOw0KKwkJfQ0KKw0KKwkJcmV0dXJuIGZh
bHNlOw0KKwl9DQorDQorCXB1YmxpYyBzdGF0aWMgU3RyaW5nIGdldFBhZ2VFeHRlbnNpb25MaXN0
KCkgew0KKwkJU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZmZXIoKTsNCisNCisJCWZv
cihpbnQgaSA9IDA7IGkgPCBwYWdlRXh0ZW5zaW9ucy5sZW5ndGg7ICsraSkNCisJCXsJYnVmLmFw
cGVuZCgnLicpOw0KKwkJCWJ1Zi5hcHBlbmQocGFnZUV4dGVuc2lvbnNbaV0pOw0KKwkJCWlmKGkg
IT0gcGFnZUV4dGVuc2lvbnMubGVuZ3RoIC0gMSkNCisJCQl7CWJ1Zi5hcHBlbmQoIiwgIik7IC8v
JE5PTi1OTFMtMSQNCisJCQl9DQorCQl9DQorDQorCQlyZXR1cm4gYnVmLnRvU3RyaW5nKCk7DQor
CX0NCit9DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4
aGVscC9DdHhIZWxwQmxvY2suamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHNyYy9vcmcvZWNs
aXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscEJsb2NrLmphdmENCmRp
ZmYgLU4gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhI
ZWxwQmxvY2suamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQor
Kysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxw
QmxvY2suamF2YQkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsxLDk4IEBADQor
cGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHA7DQorDQor
aW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnZpZXdlcnMuSVNlbGVjdGlvbjsNCitpbXBvcnQgb3Jn
LmVjbGlwc2UuamZhY2Uudmlld2Vycy5JU3RydWN0dXJlZFNlbGVjdGlvbjsNCitpbXBvcnQgb3Jn
LmVjbGlwc2UucGRlLmNvcmUuSU1vZGVsQ2hhbmdlZEV2ZW50Ow0KK2ltcG9ydCBvcmcuZWNsaXBz
ZS5wZGUuY29yZS5JTW9kZWxDaGFuZ2VkTGlzdGVuZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscC4qOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwudWkuZWRpdG9yLio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51
aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzLio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC53aWRn
ZXRzLkNvbXBvc2l0ZTsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWkuZm9ybXMuKjsNCisNCitwdWJs
aWMgY2xhc3MgQ3R4SGVscEJsb2NrIGV4dGVuZHMgUERFTWFzdGVyRGV0YWlsc0Jsb2NrIGltcGxl
bWVudHMgSU1vZGVsQ2hhbmdlZExpc3RlbmVyLCBJRGV0YWlsc1BhZ2VQcm92aWRlciB7DQorDQor
CXByaXZhdGUgQ3R4SGVscFRyZWVTZWN0aW9uIGZNYXN0ZXJTZWN0aW9uOw0KKw0KKwkvLwlwcml2
YXRlIFRvY0Fic3RyYWN0RGV0YWlscyBmRGV0YWlsczsNCisJLy8JcHJpdmF0ZSBUb2NBbmNob3JE
ZXRhaWxzIGZBbmNob3JEZXRhaWxzOw0KKwkvLwlwcml2YXRlIFRvY0xpbmtEZXRhaWxzIGZMaW5r
RGV0YWlsczsNCisNCisJLyoqVE9ETzogQ29tbWVudA0KKwkgKiBAcGFyYW0gcGFnZQ0KKwkgKi8N
CisJcHVibGljIEN0eEhlbHBCbG9jayhQREVGb3JtUGFnZSBwYWdlKSB7DQorCQlzdXBlcihwYWdl
KTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRl
LmludGVybmFsLnVpLmVkaXRvci5QREVNYXN0ZXJEZXRhaWxzQmxvY2sjY3JlYXRlTWFzdGVyU2Vj
dGlvbihvcmcuZWNsaXBzZS51aS5mb3Jtcy5JTWFuYWdlZEZvcm0sIG9yZy5lY2xpcHNlLnN3dC53
aWRnZXRzLkNvbXBvc2l0ZSkNCisJICovDQorCXByb3RlY3RlZCBQREVTZWN0aW9uIGNyZWF0ZU1h
c3RlclNlY3Rpb24oSU1hbmFnZWRGb3JtIG1hbmFnZWRGb3JtLCBDb21wb3NpdGUgcGFyZW50KSB7
DQorCQlmTWFzdGVyU2VjdGlvbiA9IG5ldyBDdHhIZWxwVHJlZVNlY3Rpb24oZ2V0UGFnZSgpLCBw
YXJlbnQpOw0KKwkJcmV0dXJuIGZNYXN0ZXJTZWN0aW9uOw0KKwl9DQorDQorCS8qIChub24tSmF2
YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS51aS5mb3Jtcy5NYXN0ZXJEZXRhaWxzQmxvY2sj
cmVnaXN0ZXJQYWdlcyhvcmcuZWNsaXBzZS51aS5mb3Jtcy5EZXRhaWxzUGFydCkNCisJICovDQor
CXByb3RlY3RlZCB2b2lkIHJlZ2lzdGVyUGFnZXMoRGV0YWlsc1BhcnQgZGV0YWlsc1BhcnQpIHsN
CisJCS8vIE9ubHkgc3RhdGljIHBhZ2VzIHRvIGJlIGRlZmluZWQuICBEbyBub3QgY2FjaGUgcGFn
ZXMNCisJCWRldGFpbHNQYXJ0LnNldFBhZ2VMaW1pdCgwKTsNCisJCWRldGFpbHNQYXJ0LnJlZ2lz
dGVyUGFnZShDdHhIZWxwQ29udGV4dERldGFpbHMuY2xhc3MsIG5ldyBDdHhIZWxwQ29udGV4dERl
dGFpbHMoZk1hc3RlclNlY3Rpb24pKTsNCisJCWRldGFpbHNQYXJ0LnJlZ2lzdGVyUGFnZShDdHhI
ZWxwRGVzY3JpcHRpb25EZXRhaWxzLmNsYXNzLCBuZXcgQ3R4SGVscERlc2NyaXB0aW9uRGV0YWls
cyhmTWFzdGVyU2VjdGlvbikpOw0KKwkJZGV0YWlsc1BhcnQucmVnaXN0ZXJQYWdlKEN0eEhlbHBU
b3BpY0RldGFpbHMuY2xhc3MsIG5ldyBDdHhIZWxwVG9waWNEZXRhaWxzKGZNYXN0ZXJTZWN0aW9u
KSk7DQorCQlkZXRhaWxzUGFydC5yZWdpc3RlclBhZ2UoQ3R4SGVscENvbW1hbmREZXRhaWxzLmNs
YXNzLCBuZXcgQ3R4SGVscENvbW1hbmREZXRhaWxzKGZNYXN0ZXJTZWN0aW9uKSk7DQorCQlkZXRh
aWxzUGFydC5zZXRQYWdlUHJvdmlkZXIodGhpcyk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9j
KQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5jb3JlLklNb2RlbENoYW5nZWRMaXN0ZW5lciNt
b2RlbENoYW5nZWQob3JnLmVjbGlwc2UucGRlLmNvcmUuSU1vZGVsQ2hhbmdlZEV2ZW50KQ0KKwkg
Ki8NCisJcHVibGljIHZvaWQgbW9kZWxDaGFuZ2VkKElNb2RlbENoYW5nZWRFdmVudCBldmVudCkg
ew0KKwkJaWYgKGZNYXN0ZXJTZWN0aW9uICE9IG51bGwpIHsNCisJCQlmTWFzdGVyU2VjdGlvbi5t
b2RlbENoYW5nZWQoZXZlbnQpOw0KKwkJfQ0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJ
ICogQHNlZSBvcmcuZWNsaXBzZS51aS5mb3Jtcy5JRGV0YWlsc1BhZ2VQcm92aWRlciNnZXRQYWdl
KGphdmEubGFuZy5PYmplY3QpDQorCSAqLw0KKwlwdWJsaWMgSURldGFpbHNQYWdlIGdldFBhZ2Uo
T2JqZWN0IGtleSkgew0KKwkJLy8gTm8gZHluYW1pYyBwYWdlcy4gIFN0YXRpYyBwYWdlcyBhbHJl
YWR5IHJlZ2lzdGVyZWQNCisJCXJldHVybiBudWxsOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRv
YykNCisJICogQHNlZSBvcmcuZWNsaXBzZS51aS5mb3Jtcy5JRGV0YWlsc1BhZ2VQcm92aWRlciNn
ZXRQYWdlS2V5KGphdmEubGFuZy5PYmplY3QpDQorCSAqLw0KKwlwdWJsaWMgT2JqZWN0IGdldFBh
Z2VLZXkoT2JqZWN0IG9iamVjdCkgew0KKwkJSVNlbGVjdGlvbiBzZWxlY3Rpb24gPSBnZXRTZWxl
Y3Rpb24oKTsNCisJCWlmICghKHNlbGVjdGlvbiBpbnN0YW5jZW9mIElTdHJ1Y3R1cmVkU2VsZWN0
aW9uKSB8fCAoKElTdHJ1Y3R1cmVkU2VsZWN0aW9uKSBzZWxlY3Rpb24pLnNpemUoKSA+IDEpIHsN
CisJCQlyZXR1cm4gb2JqZWN0LmdldENsYXNzKCk7DQorCQl9DQorDQorCQlpZiAob2JqZWN0IGlu
c3RhbmNlb2YgQ3R4SGVscENvbnRleHQpIHsNCisJCQlyZXR1cm4gQ3R4SGVscENvbnRleHREZXRh
aWxzLmNsYXNzOw0KKwkJfSBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBDdHhIZWxwRGVzY3Jp
cHRpb24pIHsNCisJCQlyZXR1cm4gQ3R4SGVscERlc2NyaXB0aW9uRGV0YWlscy5jbGFzczsNCisJ
CX0gZWxzZSBpZiAob2JqZWN0IGluc3RhbmNlb2YgQ3R4SGVscFRvcGljKSB7DQorCQkJcmV0dXJu
IEN0eEhlbHBUb3BpY0RldGFpbHMuY2xhc3M7DQorCQl9IGVsc2UgaWYgKG9iamVjdCBpbnN0YW5j
ZW9mIEN0eEhlbHBDb21tYW5kKSB7DQorCQkJcmV0dXJuIEN0eEhlbHBDb21tYW5kRGV0YWlscy5j
bGFzczsNCisJCX0NCisNCisJCXJldHVybiBvYmplY3QuZ2V0Q2xhc3MoKTsNCisJfQ0KKw0KKwlw
dWJsaWMgSVNlbGVjdGlvbiBnZXRTZWxlY3Rpb24oKSB7DQorCQlpZiAoZk1hc3RlclNlY3Rpb24g
IT0gbnVsbCkgew0KKwkJCXJldHVybiBmTWFzdGVyU2VjdGlvbi5nZXRTZWxlY3Rpb24oKTsNCisJ
CX0NCisJCXJldHVybiBudWxsOw0KKwl9DQorDQorCXB1YmxpYyBDdHhIZWxwVHJlZVNlY3Rpb24g
Z2V0TWFzdGVyU2VjdGlvbigpIHsNCisJCXJldHVybiBmTWFzdGVyU2VjdGlvbjsNCisJfQ0KK30N
CkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL2Rl
dGFpbHMvQ3R4SGVscFRvcGljRGV0YWlscy5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogc3Jj
L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhl
bHBUb3BpY0RldGFpbHMuamF2YQ0KZGlmZiAtTiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFs
L3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVscFRvcGljRGV0YWlscy5qYXZhDQotLS0g
L2Rldi9udWxsCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCisrKyBzcmMvb3JnL2VjbGlwc2Uv
cGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVscFRvcGljRGV0YWls
cy5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsMTc2IEBADQorLyoq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIwMDcgSUJNIENvcnBvcmF0
aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFu
ZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRl
ciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNo
IGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQorICog
aHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKg0KKyAqIENvbnRy
aWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxl
bWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQorDQorcGFja2FnZSBvcmcuZWNs
aXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlsczsNCisNCitpbXBvcnQg
b3JnLmVjbGlwc2UuY29yZS5yZXNvdXJjZXMuSUZpbGU7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNv
cmUucnVudGltZS5JUGF0aDsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLlBhdGg7
DQoraW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnZpZXdlcnMuSVNlbGVjdGlvbjsNCitpbXBvcnQg
b3JnLmVjbGlwc2UuamZhY2Uud2luZG93LldpbmRvdzsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRl
LmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBUb3BpYzsNCitpbXBvcnQgb3JnLmVj
bGlwc2UucGRlLmludGVybmFsLnVpLlBERVBsdWdpbjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRl
LmludGVybmFsLnVpLlBERVVJTWVzc2FnZXM7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC51aS5lZGl0b3IuRm9ybUVudHJ5QWRhcHRlcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRl
LmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLkN0eEhlbHBJbnB1dENvbnRleHQ7DQoraW1wb3J0
IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5DdHhIZWxwVHJlZVNl
Y3Rpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IudG9jLmRl
dGFpbHMuSGVscEVkaXRvckZpbHRlcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LnVpLnBhcnRzLkZvcm1FbnRyeTsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVp
LnV0aWwuRmlsZVZhbGlkYXRvcjsNCitpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LlNXVDsNCitpbXBv
cnQgb3JnLmVjbGlwc2Uuc3d0LndpZGdldHMuQ29tcG9zaXRlOw0KK2ltcG9ydCBvcmcuZWNsaXBz
ZS51aS5kaWFsb2dzLkVsZW1lbnRUcmVlU2VsZWN0aW9uRGlhbG9nOw0KK2ltcG9ydCBvcmcuZWNs
aXBzZS51aS5mb3Jtcy5JRm9ybVBhcnQ7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmZvcm1zLmV2
ZW50cy5IeXBlcmxpbmtFdmVudDsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWkubW9kZWwuV29ya2Jl
bmNoQ29udGVudFByb3ZpZGVyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS51aS5tb2RlbC5Xb3JrYmVu
Y2hMYWJlbFByb3ZpZGVyOw0KKw0KK3B1YmxpYyBjbGFzcyBDdHhIZWxwVG9waWNEZXRhaWxzIGV4
dGVuZHMgQ3R4SGVscEFic3RyYWN0RGV0YWlscyB7DQorDQorCXByaXZhdGUgQ3R4SGVscFRvcGlj
IGZUb3BpYzsNCisJcHJpdmF0ZSBGb3JtRW50cnkgZkxhYmVsRW50cnk7DQorCXByaXZhdGUgRm9y
bUVudHJ5IGZMaW5rRW50cnk7DQorDQorCS8qKg0KKwkgKiBAcGFyYW0gbWFzdGVyU2VjdGlvbg0K
KwkgKi8NCisJcHVibGljIEN0eEhlbHBUb3BpY0RldGFpbHMoQ3R4SGVscFRyZWVTZWN0aW9uIG1h
c3RlclNlY3Rpb24pIHsNCisJCXN1cGVyKG1hc3RlclNlY3Rpb24sIEN0eEhlbHBJbnB1dENvbnRl
eHQuQ09OVEVYVF9JRCk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IudG9jLlRvY0Fic3RyYWN0RGV0YWlscyNj
cmVhdGVEZXRhaWxzKG9yZy5lY2xpcHNlLnN3dC53aWRnZXRzLkNvbXBvc2l0ZSkNCisJICovDQor
CXB1YmxpYyB2b2lkIGNyZWF0ZUZpZWxkcyhDb21wb3NpdGUgcGFyZW50KSB7DQorCQljcmVhdGVM
YWJlbChwYXJlbnQsIGdldE1hbmFnZWRGb3JtKCkuZ2V0VG9vbGtpdCgpLCAiU3BlY2lmeSB0aGUg
ZGlzcGxheSBsYWJlbCBmb3IgdGhpcyB0b3BpYzoiKTsNCisJCWZMYWJlbEVudHJ5ID0gbmV3IEZv
cm1FbnRyeShwYXJlbnQsIGdldE1hbmFnZWRGb3JtKCkuZ2V0VG9vbGtpdCgpLCAiTGFiZWw6Iiwg
U1dULk5PTkUpOw0KKwkJY3JlYXRlU3BhY2UocGFyZW50KTsNCisJCWNyZWF0ZUxhYmVsKHBhcmVu
dCwgZ2V0TWFuYWdlZEZvcm0oKS5nZXRUb29sa2l0KCksICJTcGVjaWZ5IHRoZSBsb2NhdGlvbiBv
ZiBhbiBIVE1MIGZpbGUgY29udGFpbmluZyBjb250ZW50OiIpOw0KKwkJZkxpbmtFbnRyeSA9IG5l
dyBGb3JtRW50cnkocGFyZW50LCBnZXRNYW5hZ2VkRm9ybSgpLmdldFRvb2xraXQoKSwgIkxvY2F0
aW9uOiIsIFBERVVJTWVzc2FnZXMuR2VuZXJhbEluZm9TZWN0aW9uX2Jyb3dzZSwgaXNFZGl0YWJs
ZSgpKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLmRldGFpbHMuQ3R4SGVscEFic3RyYWN0RGV0
YWlscyNnZXREZXRhaWxzVGl0bGUoKQ0KKwkgKi8NCisJcHJvdGVjdGVkIFN0cmluZyBnZXREZXRh
aWxzVGl0bGUoKSB7DQorCQlyZXR1cm4gUERFVUlNZXNzYWdlcy5Ub2NUb3BpY0RldGFpbHNfdGl0
bGU7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzLkN0eEhlbHBBYnN0cmFjdERldGFp
bHMjZ2V0RGV0YWlsc0Rlc2NyaXB0aW9uKCkNCisJICovDQorCXByb3RlY3RlZCBTdHJpbmcgZ2V0
RGV0YWlsc0Rlc2NyaXB0aW9uKCkgew0KKwkJcmV0dXJuIG51bGw7DQorCX0NCisNCisJLyogKG5v
bi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3Iu
dG9jLlRvY0Fic3RyYWN0RGV0YWlscyNob29rTGlzdGVuZXJzKCkNCisJICovDQorCXB1YmxpYyB2
b2lkIGhvb2tMaXN0ZW5lcnMoKSB7DQorCQlmTGFiZWxFbnRyeS5zZXRGb3JtRW50cnlMaXN0ZW5l
cihuZXcgRm9ybUVudHJ5QWRhcHRlcih0aGlzKSB7DQorCQkJcHVibGljIHZvaWQgdGV4dFZhbHVl
Q2hhbmdlZChGb3JtRW50cnkgZW50cnkpIHsNCisJCQkJaWYgKGZUb3BpYyAhPSBudWxsKSB7DQor
CQkJCQlmVG9waWMuc2V0TGFiZWwoZkxhYmVsRW50cnkuZ2V0VmFsdWUoKSk7DQorCQkJCX0NCisJ
CQl9DQorCQl9KTsNCisJCWZMaW5rRW50cnkuc2V0Rm9ybUVudHJ5TGlzdGVuZXIobmV3IEZvcm1F
bnRyeUFkYXB0ZXIodGhpcykgew0KKwkJCXB1YmxpYyB2b2lkIHRleHRWYWx1ZUNoYW5nZWQoRm9y
bUVudHJ5IGVudHJ5KSB7IC8vIEVuc3VyZSBkYXRhIG9iamVjdCBpcyBkZWZpbmVkDQorCQkJCWlm
IChmVG9waWMgIT0gbnVsbCkgew0KKwkJCQkJLy8gVE9ETyBEbyB3ZSBuZWVkIGJldHRlciB0ZXN0
aW5nIGZvciBwYXRoIHZhbGlkaXR5Pw0KKwkJCQkJZlRvcGljLnNldExvY2F0aW9uKG5ldyBQYXRo
KGZMaW5rRW50cnkuZ2V0VmFsdWUoKSkpOw0KKwkJCQl9DQorCQkJfQ0KKw0KKwkJCXB1YmxpYyB2
b2lkIGJyb3dzZUJ1dHRvblNlbGVjdGVkKEZvcm1FbnRyeSBlbnRyeSkgew0KKwkJCQloYW5kbGVC
cm93c2UoKTsNCisJCQl9DQorDQorCQkJcHVibGljIHZvaWQgbGlua0FjdGl2YXRlZChIeXBlcmxp
bmtFdmVudCBlKSB7DQorCQkJCWhhbmRsZU9wZW4oKTsNCisJCQl9DQorCQl9KTsNCisJfQ0KKw0K
Kwlwcml2YXRlIHZvaWQgaGFuZGxlQnJvd3NlKCkgew0KKwkJRWxlbWVudFRyZWVTZWxlY3Rpb25E
aWFsb2cgZGlhbG9nID0gbmV3IEVsZW1lbnRUcmVlU2VsZWN0aW9uRGlhbG9nKGdldFBhZ2UoKS5n
ZXRTaXRlKCkuZ2V0U2hlbGwoKSwgbmV3IFdvcmtiZW5jaExhYmVsUHJvdmlkZXIoKSwgbmV3IFdv
cmtiZW5jaENvbnRlbnRQcm92aWRlcigpKTsNCisNCisJCS8vIFRPRE8gRml4IGJyb3dzZQ0KKwkJ
ZGlhbG9nLnNldFZhbGlkYXRvcihuZXcgRmlsZVZhbGlkYXRvcigpKTsNCisJCWRpYWxvZy5zZXRB
bGxvd011bHRpcGxlKGZhbHNlKTsNCisJCWRpYWxvZy5zZXRUaXRsZShQREVVSU1lc3NhZ2VzLlRv
Y0RldGFpbHNfYnJvd3NlU2VsZWN0aW9uKTsNCisJCWRpYWxvZy5zZXRNZXNzYWdlKFBERVVJTWVz
c2FnZXMuVG9jRGV0YWlsc19icm93c2VNZXNzYWdlKTsNCisJCS8vIEN1cnJlbnRseSB3ZSBjYW4g
anVzdCB1c2UgdGhlIFRPQyBwYWdlIGZpbHRlciAob25seSBhbGxvd3MgaHRtbCBmaWxlcyBmcm9t
IGxvY2FsIHByb2plY3RzL2NvbnRhaW5lcnMpDQorCQlkaWFsb2cuYWRkRmlsdGVyKG5ldyBIZWxw
RWRpdG9yRmlsdGVyKCkpOw0KKw0KKwkJZGlhbG9nLnNldElucHV0KFBERVBsdWdpbi5nZXRXb3Jr
c3BhY2UoKS5nZXRSb290KCkpOw0KKw0KKwkJaWYgKGRpYWxvZy5vcGVuKCkgPT0gV2luZG93Lk9L
KSB7DQorCQkJSUZpbGUgZmlsZSA9IChJRmlsZSkgZGlhbG9nLmdldEZpcnN0UmVzdWx0KCk7DQor
CQkJc2V0UGF0aEVudHJ5KGZpbGUpOw0KKwkJfQ0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykN
CisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLnRvYy5Ub2NBYnN0
cmFjdERldGFpbHMjdXBkYXRlRmllbGRzKCkNCisJICovDQorCXB1YmxpYyB2b2lkIHVwZGF0ZUZp
ZWxkcygpIHsNCisJCWlmIChmVG9waWMgIT0gbnVsbCkgew0KKwkJCWZMYWJlbEVudHJ5LnNldFZh
bHVlKGZUb3BpYy5nZXRMYWJlbCgpLCB0cnVlKTsNCisJCQlmTGFiZWxFbnRyeS5zZXRFZGl0YWJs
ZShpc0VkaXRhYmxlRWxlbWVudCgpKTsNCisJCQlpZiAoZlRvcGljLmdldExvY2F0aW9uKCkgPT0g
bnVsbCkgew0KKwkJCQlmTGlua0VudHJ5LnNldFZhbHVlKCIiLCB0cnVlKTsNCisJCQl9IGVsc2Ug
ew0KKwkJCQlmTGlua0VudHJ5LnNldFZhbHVlKGZUb3BpYy5nZXRMb2NhdGlvbigpLnRvUG9ydGFi
bGVTdHJpbmcoKSwgdHJ1ZSk7DQorCQkJfQ0KKwkJCWZMaW5rRW50cnkuc2V0RWRpdGFibGUoaXNF
ZGl0YWJsZUVsZW1lbnQoKSk7DQorCQl9DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkg
KiBAc2VlIG9yZy5lY2xpcHNlLnVpLmZvcm1zLkFic3RyYWN0Rm9ybVBhcnQjY29tbWl0KGJvb2xl
YW4pDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBjb21taXQoYm9vbGVhbiBvblNhdmUpIHsNCisJCXN1
cGVyLmNvbW1pdChvblNhdmUpOw0KKwkJLy8gT25seSByZXF1aXJlZCBmb3IgZm9ybSBlbnRyaWVz
DQorCQlmTGFiZWxFbnRyeS5jb21taXQoKTsNCisJCWZMaW5rRW50cnkuY29tbWl0KCk7DQorDQor
CX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnVpLmZvcm1z
LklQYXJ0U2VsZWN0aW9uTGlzdGVuZXIjc2VsZWN0aW9uQ2hhbmdlZChvcmcuZWNsaXBzZS51aS5m
b3Jtcy5JRm9ybVBhcnQsIG9yZy5lY2xpcHNlLmpmYWNlLnZpZXdlcnMuSVNlbGVjdGlvbikNCisJ
ICovDQorCXB1YmxpYyB2b2lkIHNlbGVjdGlvbkNoYW5nZWQoSUZvcm1QYXJ0IHBhcnQsIElTZWxl
Y3Rpb24gc2VsZWN0aW9uKSB7DQorCQlPYmplY3Qgb2JqZWN0ID0gZ2V0Rmlyc3RTZWxlY3RlZE9i
amVjdChzZWxlY3Rpb24pOw0KKwkJaWYgKG9iamVjdCBpbnN0YW5jZW9mIEN0eEhlbHBUb3BpYykg
ew0KKwkJCWZUb3BpYyA9IChDdHhIZWxwVG9waWMpIG9iamVjdDsNCisJCQl1cGRhdGVGaWVsZHMo
KTsNCisJCX0NCisJfQ0KKw0KKwlwcm90ZWN0ZWQgdm9pZCBzZXRQYXRoRW50cnkoSUZpbGUgZmls
ZSkgew0KKwkJSVBhdGggcGF0aCA9IGZpbGUuZ2V0RnVsbFBhdGgoKTsNCisJCWlmIChmaWxlLmdl
dFByb2plY3QoKS5lcXVhbHMoZlRvcGljLmdldE1vZGVsKCkuZ2V0VW5kZXJseWluZ1Jlc291cmNl
KCkuZ2V0UHJvamVjdCgpKSkgew0KKwkJCWZMaW5rRW50cnkuc2V0VmFsdWUocGF0aC5yZW1vdmVG
aXJzdFNlZ21lbnRzKDEpLnRvU3RyaW5nKCkpOw0KKwkJfSBlbHNlIHsNCisJCQlmTGlua0VudHJ5
LnNldFZhbHVlKCIuLiIgKyBwYXRoLnRvU3RyaW5nKCkpOyAvLyROT04tTkxTLTEkDQorCQl9DQor
CX0NCisNCisJcHJvdGVjdGVkIHZvaWQgaGFuZGxlT3BlbigpIHsNCisJCUlGaWxlIGZpbGUgPSBn
ZXRNYXN0ZXJTZWN0aW9uKCkub3BlbkZpbGUoZkxpbmtFbnRyeS5nZXRWYWx1ZSgpKTsNCisJCWlm
IChmaWxlICE9IG51bGwpIHsNCisJCQlzZXRQYXRoRW50cnkoZmlsZSk7DQorCQl9DQorCX0NCisN
Cit9DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVs
cC9DdHhIZWxwRHJhZ0FkYXB0ZXIuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHNyYy9vcmcv
ZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscERyYWdBZGFwdGVy
LmphdmENCmRpZmYgLU4gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4
aGVscC9DdHhIZWxwRHJhZ0FkYXB0ZXIuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAw
OjAwOjAwIC0wMDAwDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3Iv
Y3R4aGVscC9DdHhIZWxwRHJhZ0FkYXB0ZXIuamF2YQkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAw
DQpAQCAtMCwwICsxLDEyNSBAQA0KKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQorICogQ29weXJp
Z2h0IChjKSAyMDA3IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIEFsbCByaWdodHMg
cmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCisg
KiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1Ymxp
YyBMaWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwg
YW5kIGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBs
LXYxMC5odG1sDQorICoNCisgKiBDb250cmlidXRvcnM6DQorICogICAgIElCTSBDb3Jwb3JhdGlv
biAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqLw0KKw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHho
ZWxwOw0KKw0KK2ltcG9ydCBqYXZhLmlvLlByaW50V3JpdGVyOw0KK2ltcG9ydCBqYXZhLmlvLlN0
cmluZ1dyaXRlcjsNCitpbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsNCitpbXBvcnQgamF2YS51
dGlsLkl0ZXJhdG9yOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklTdHJ1Y3R1
cmVkU2VsZWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0
LmN0eGhlbHAuQ3R4SGVscE9iamVjdDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LnVpLmVkaXRvci5Nb2RlbERhdGFUcmFuc2ZlcjsNCitpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LmRu
ZC4qOw0KKw0KKy8qKg0KKyAqIFRvY0RyYWdBZGFwdGVyIGltcGxlbWVudHMgdGhlIGRyYWcgYmVo
YXZpb3VyIGZvciB0aGUgVE9DIHRyZWUgc2VjdGlvbi4NCisgKi8NCitwdWJsaWMgY2xhc3MgQ3R4
SGVscERyYWdBZGFwdGVyIGltcGxlbWVudHMgRHJhZ1NvdXJjZUxpc3RlbmVyIHsNCisJLy9UaGUg
VHJlZSBTZWN0aW9uIGJlaW5nIGRyYWdnZWQgZnJvbQ0KKwlwcml2YXRlIEN0eEhlbHBUcmVlU2Vj
dGlvbiBmU2VjdGlvbjsNCisJLy9UaGUgZHJhZ2dlZCBpdGVtcw0KKwlwcml2YXRlIEFycmF5TGlz
dCBmRHJhZ2dlZEl0ZW1zOw0KKw0KKwkvKioNCisJICogQ29uc3RydWN0cyBhIG5ldyBEcmFnIEFk
YXB0ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIHNlbGVjdGlvbg0KKwkgKiBwcm92aWRlciBhbmQgVG9j
VHJlZVNlY3Rpb24NCisJICogDQorCSAqIEBwYXJhbSBwcm92aWRlciBUaGUgcHJvdmlkZXIgb2Yg
dGhlIGRyYWdnZWQgaXRlbXMNCisJICogQHBhcmFtIHNlY3Rpb24gVGhlIHNlY3Rpb24gdGhhdCB3
aWxsIGhhbmRsZSByZW1vdmFsDQorCSAqLw0KKwlwdWJsaWMgQ3R4SGVscERyYWdBZGFwdGVyKEN0
eEhlbHBUcmVlU2VjdGlvbiBzZWN0aW9uKSB7DQorCQlmU2VjdGlvbiA9IHNlY3Rpb247DQorCX0N
CisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnN3dC5kbmQuRHJh
Z1NvdXJjZUxpc3RlbmVyI2RyYWdTdGFydChvcmcuZWNsaXBzZS5zd3QuZG5kLkRyYWdTb3VyY2VF
dmVudCkNCisJICovDQorCXB1YmxpYyB2b2lkIGRyYWdTdGFydChEcmFnU291cmNlRXZlbnQgZXZl
bnQpIHsNCisJCWlmIChldmVudC5kb2l0KSB7IC8vVGhlIGV2ZW50IHNob3VsZCBvbmx5IGJlIGVu
YWJsZWQgaWYgdGhlcmUgaXMgYSBzZWxlY3Rpb24gdG8gZHJhZw0KKwkJCWV2ZW50LmRvaXQgPSAh
ZlNlY3Rpb24uZ2V0U2VsZWN0aW9uKCkuaXNFbXB0eSgpOw0KKwkJfQ0KKwl9DQorDQorCS8qIChu
b24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5zd3QuZG5kLkRyYWdTb3VyY2VMaXN0
ZW5lciNkcmFnU2V0RGF0YShvcmcuZWNsaXBzZS5zd3QuZG5kLkRyYWdTb3VyY2VFdmVudCkNCisJ
ICovDQorCXB1YmxpYyB2b2lkIGRyYWdTZXREYXRhKERyYWdTb3VyY2VFdmVudCBldmVudCkgew0K
KwkJLy9DaGVjayBpZiB0aGUgZHJhZyBpcyBzdGlsbCBlbmFibGVkDQorCQlpZiAoZXZlbnQuZG9p
dCkgew0KKwkJCUlTdHJ1Y3R1cmVkU2VsZWN0aW9uIHNlbCA9IChJU3RydWN0dXJlZFNlbGVjdGlv
bikgZlNlY3Rpb24uZ2V0U2VsZWN0aW9uKCk7DQorDQorCQkJaWYgKFRleHRUcmFuc2Zlci5nZXRJ
bnN0YW5jZSgpLmlzU3VwcG9ydGVkVHlwZShldmVudC5kYXRhVHlwZSkpIHsgLy9JZiB0aGUgZXhw
ZWN0ZWQgZGF0YSBpcyB0ZXh0LCB0aGVuIHdyaXRlIG91dCB0aGUgc2VsZWN0aW9uDQorCQkJCS8v
aW50byBpdHMgWE1MIHJlcHJlc2VudGF0aW9uDQorDQorCQkJCVN0cmluZ1dyaXRlciBzdyA9IG5l
dyBTdHJpbmdXcml0ZXIoKTsNCisJCQkJUHJpbnRXcml0ZXIgd3JpdGVyID0gbmV3IFByaW50V3Jp
dGVyKHN3KTsNCisNCisJCQkJLy9Xcml0ZSB0aGUgWE1MIHJlcHJlc2VudGF0aW9uIG9mIGVhY2gg
c2VsZWN0ZWQgb2JqZWN0DQorCQkJCWZvciAoSXRlcmF0b3IgaXRlciA9IHNlbC5pdGVyYXRvcigp
OyBpdGVyLmhhc05leHQoKTspIHsNCisJCQkJCU9iamVjdCBvYmogPSBpdGVyLm5leHQoKTsNCisJ
CQkJCWlmIChvYmogaW5zdGFuY2VvZiBDdHhIZWxwT2JqZWN0KSB7DQorCQkJCQkJKChDdHhIZWxw
T2JqZWN0KSBvYmopLndyaXRlKCIiLCB3cml0ZXIpOyAvLyROT04tTkxTLTEkDQorCQkJCQl9DQor
CQkJCX0NCisNCisJCQkJLy9TZXQgdGhlIGV2ZW50J3MgZHJhZyBvYmplY3QgdG8gYmUgdGhpcyBT
dHJpbmcNCisJCQkJZXZlbnQuZGF0YSA9IHN3LnRvU3RyaW5nKCk7DQorCQkJCS8vU2V0IHRoZSBh
cnJheSBvZiBkcmFnZ2VkIGl0ZW1zIHRvIG51bGwsDQorCQkJCS8vc2luY2Ugd2UgYXJlIGRyYWdn
aW5nIGEgU3RyaW5nDQorCQkJCWZEcmFnZ2VkSXRlbXMgPSBudWxsOw0KKwkJCX0gZWxzZSBpZiAo
TW9kZWxEYXRhVHJhbnNmZXIuZ2V0SW5zdGFuY2UoKS5pc1N1cHBvcnRlZFR5cGUoZXZlbnQuZGF0
YVR5cGUpKSB7DQorCQkJCS8vSWYgd2UgYXJlIGRyYWdnaW5nIGl0ZW1zIGZyb20gdGhlIG1vZGVs
DQorCQkJCWZEcmFnZ2VkSXRlbXMgPSBnZXRTZWxlY3RlZE9iamVjdHMoc2VsKTsNCisJCQkJQ3R4
SGVscE9iamVjdFtdIHNlbGVjdGVkT2JqZWN0cyA9IChDdHhIZWxwT2JqZWN0W10pIGZEcmFnZ2Vk
SXRlbXMudG9BcnJheShuZXcgQ3R4SGVscE9iamVjdFtmRHJhZ2dlZEl0ZW1zLnNpemUoKV0pOw0K
KwkJCQlpZiAoc2VsZWN0ZWRPYmplY3RzLmxlbmd0aCA9PSAwKSB7IC8vZGlzYWJsZSB0aGUgZHJh
ZyBpZiB0aGVyZSBhcmUgbm8gaXRlbXMgc2VsZWN0ZWQNCisJCQkJCWV2ZW50LmRvaXQgPSBmYWxz
ZTsNCisJCQkJfSBlbHNlIHsgLy9zZXQgdGhlIGV2ZW50J3MgZHJhZyBvYmplY3QgdG8gdGhlIHNl
bGVjdGlvbg0KKwkJCQkJZXZlbnQuZGF0YSA9IHNlbGVjdGVkT2JqZWN0czsNCisJCQkJfQ0KKwkJ
CX0NCisJCX0NCisJfQ0KKw0KKwkvKioNCisJICogQHBhcmFtIHNlbGVjdGlvbiBUaGUgc2VsZWN0
aW9uIHRvIHBsYWNlIGluIHRoZSBBcnJheUxpc3QNCisJICogQHJldHVybiBhbiBBcnJheUxpc3Qg
Y29udGFpbmluZyBhbGwgcmVtb3ZhYmxlIFRvY09iamVjdHMgaW4gdGhlIHNlbGVjdGlvbg0KKwkg
Ki8NCisJcHJpdmF0ZSBBcnJheUxpc3QgZ2V0U2VsZWN0ZWRPYmplY3RzKElTdHJ1Y3R1cmVkU2Vs
ZWN0aW9uIHNlbGVjdGlvbikgew0KKwkJQXJyYXlMaXN0IG9iamVjdHMgPSBuZXcgQXJyYXlMaXN0
KCk7DQorCQlmb3IgKEl0ZXJhdG9yIGl0ZXIgPSBzZWxlY3Rpb24uaXRlcmF0b3IoKTsgaXRlci5o
YXNOZXh0KCk7KSB7DQorCQkJT2JqZWN0IG9iaiA9IGl0ZXIubmV4dCgpOw0KKwkJCWlmIChvYmog
aW5zdGFuY2VvZiBDdHhIZWxwT2JqZWN0ICYmICgoQ3R4SGVscE9iamVjdCkgb2JqKS5jYW5CZVJl
bW92ZWQoKSkgeyAvL0lmIHRoZSBvYmplY3QgaXMgYSByZW1vdmFibGUgQ3R4SGVscE9iamVjdCwg
YWRkIGl0DQorCQkJCW9iamVjdHMuYWRkKG9iaik7DQorCQkJfSBlbHNlIHsgLy9JZiB0aGUgb2Jq
ZWN0IGlzIG5vdCBhIHJlbW92YWJsZSBDdHhIZWxwT2JqZWN0LA0KKwkJCQkvL3dlIGRvbid0IHdh
bnQgdG8gcGVybWl0IHRoZSBkcmFnLCBzbyByZXR1cm4gYW4gZW1wdHkgbGlzdA0KKwkJCQlyZXR1
cm4gbmV3IEFycmF5TGlzdCgpOw0KKwkJCX0NCisJCX0NCisNCisJCXJldHVybiBvYmplY3RzOw0K
Kwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5zd3QuZG5k
LkRyYWdTb3VyY2VMaXN0ZW5lciNkcmFnRmluaXNoZWQob3JnLmVjbGlwc2Uuc3d0LmRuZC5EcmFn
U291cmNlRXZlbnQpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBkcmFnRmluaXNoZWQoRHJhZ1NvdXJj
ZUV2ZW50IGV2ZW50KSB7DQorCQlpZiAoZXZlbnQuZGV0YWlsID09IERORC5EUk9QX01PVkUgJiYg
ZkRyYWdnZWRJdGVtcyAhPSBudWxsKSB7DQorCQkJZlNlY3Rpb24uaGFuZGxlRHJhZyhmRHJhZ2dl
ZEl0ZW1zKTsNCisJCX0NCisNCisJCWZEcmFnZ2VkSXRlbXMgPSBudWxsOw0KKwl9DQorDQorCXB1
YmxpYyBBcnJheUxpc3QgZ2V0RHJhZ2dlZEVsZW1lbnRzKCkgew0KKwkJcmV0dXJuIGZEcmFnZ2Vk
SXRlbXM7DQorCX0NCit9DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9l
ZGl0b3IvY3R4aGVscC9DdHhIZWxwSW5wdXRDb250ZXh0LmphdmENCj09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBm
aWxlOiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhl
bHBJbnB1dENvbnRleHQuamF2YQ0KZGlmZiAtTiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFs
L3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBJbnB1dENvbnRleHQuamF2YQ0KLS0tIC9kZXYvbnVs
bAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRl
cm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwSW5wdXRDb250ZXh0LmphdmEJMSBKYW4gMTk3
MCAwMDowMDowMCAtMDAwMA0KQEAgLTAsMCArMSwxMDkgQEANCisvKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKg0KKyAqIENvcHlyaWdodCAoYykgMjAwNyBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4N
CisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlp
bmcgbWF0ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0
aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhp
cyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlw
c2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAg
ICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKi8NCisNCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5h
bC51aS5lZGl0b3IuY3R4aGVscDsNCisNCitpbXBvcnQgamF2YS5pby5GaWxlOw0KK2ltcG9ydCBq
YXZhLnV0aWwuQXJyYXlMaXN0Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJlc291cmNlcy5J
RmlsZTsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLkNvcmVFeGNlcHRpb247DQor
aW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQuSURvY3VtZW50Ow0KK2ltcG9ydCBvcmcuZWNs
aXBzZS5wZGUuY29yZS5JQmFzZU1vZGVsOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwuY29yZS50ZXh0LkFic3RyYWN0RWRpdGluZ01vZGVsOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5w
ZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE1vZGVsOw0KK2ltcG9ydCBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC51aS5lZGl0b3IuY29udGV4dC5YTUxJbnB1dENvbnRleHQ7DQoraW1wb3J0IG9y
Zy5lY2xpcHNlLnVpLio7DQorDQorLyoqDQorICogVG9jSW5wdXRDb250ZXh0DQorICoNCisgKi8N
CitwdWJsaWMgY2xhc3MgQ3R4SGVscElucHV0Q29udGV4dCBleHRlbmRzIFhNTElucHV0Q29udGV4
dCB7DQorDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIENPTlRFWFRfSUQgPSAiY3R4aGVs
cC1jb250ZXh0IjsgLy8kTk9OLU5MUy0xJAkNCisNCisJLyoqDQorCSAqIEBwYXJhbSBlZGl0b3IN
CisJICogQHBhcmFtIGlucHV0DQorCSAqIEBwYXJhbSBwcmltYXJ5DQorCSAqLw0KKwlwdWJsaWMg
Q3R4SGVscElucHV0Q29udGV4dChQREVGb3JtRWRpdG9yIGVkaXRvciwgSUVkaXRvcklucHV0IGlu
cHV0LCBib29sZWFuIHByaW1hcnkpIHsNCisJCXN1cGVyKGVkaXRvciwgaW5wdXQsIHByaW1hcnkp
Ow0KKwkJY3JlYXRlKCk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY29udGV4dC5JbnB1dENvbnRleHQjY3Jl
YXRlTW9kZWwob3JnLmVjbGlwc2UudWkuSUVkaXRvcklucHV0KQ0KKwkgKi8NCisJcHJvdGVjdGVk
IElCYXNlTW9kZWwgY3JlYXRlTW9kZWwoSUVkaXRvcklucHV0IGlucHV0KSB0aHJvd3MgQ29yZUV4
Y2VwdGlvbiB7DQorCQlpZiAoaW5wdXQgaW5zdGFuY2VvZiBJU3RvcmFnZUVkaXRvcklucHV0KSB7
DQorCQkJYm9vbGVhbiBpc1JlY29uY2lsaW5nID0gaW5wdXQgaW5zdGFuY2VvZiBJRmlsZUVkaXRv
cklucHV0Ow0KKwkJCUlEb2N1bWVudCBkb2N1bWVudCA9IGdldERvY3VtZW50UHJvdmlkZXIoKS5n
ZXREb2N1bWVudChpbnB1dCk7DQorDQorCQkJQ3R4SGVscE1vZGVsIG1vZGVsID0gbmV3IEN0eEhl
bHBNb2RlbChkb2N1bWVudCwgaXNSZWNvbmNpbGluZyk7DQorDQorCQkJaWYgKGlucHV0IGluc3Rh
bmNlb2YgSUZpbGVFZGl0b3JJbnB1dCkgew0KKwkJCQlJRmlsZSBmaWxlID0gKChJRmlsZUVkaXRv
cklucHV0KSBpbnB1dCkuZ2V0RmlsZSgpOw0KKwkJCQltb2RlbC5zZXRVbmRlcmx5aW5nUmVzb3Vy
Y2UoZmlsZSk7DQorCQkJCW1vZGVsLnNldENoYXJzZXQoZmlsZS5nZXRDaGFyc2V0KCkpOw0KKwkJ
CX0gZWxzZSBpZiAoaW5wdXQgaW5zdGFuY2VvZiBTeXN0ZW1GaWxlRWRpdG9ySW5wdXQpIHsNCisJ
CQkJRmlsZSBmaWxlID0gKEZpbGUpICgoU3lzdGVtRmlsZUVkaXRvcklucHV0KSBpbnB1dCkuZ2V0
QWRhcHRlcihGaWxlLmNsYXNzKTsNCisJCQkJbW9kZWwuc2V0SW5zdGFsbExvY2F0aW9uKGZpbGUu
Z2V0UGFyZW50KCkpOw0KKwkJCQltb2RlbC5zZXRDaGFyc2V0KGdldERlZmF1bHRDaGFyc2V0KCkp
Ow0KKwkJCX0gZWxzZSBpZiAoaW5wdXQgaW5zdGFuY2VvZiBKYXJFbnRyeUVkaXRvcklucHV0KSB7
DQorCQkJCUZpbGUgZmlsZSA9IChGaWxlKSAoKEphckVudHJ5RWRpdG9ySW5wdXQpIGlucHV0KS5n
ZXRBZGFwdGVyKEZpbGUuY2xhc3MpOw0KKwkJCQltb2RlbC5zZXRJbnN0YWxsTG9jYXRpb24oZmls
ZS50b1N0cmluZygpKTsNCisJCQkJbW9kZWwuc2V0Q2hhcnNldChnZXREZWZhdWx0Q2hhcnNldCgp
KTsNCisJCQl9IGVsc2Ugew0KKwkJCQltb2RlbC5zZXRDaGFyc2V0KGdldERlZmF1bHRDaGFyc2V0
KCkpOw0KKwkJCX0NCisNCisJCQltb2RlbC5sb2FkKCk7DQorDQorCQkJcmV0dXJuIG1vZGVsOw0K
KwkJfQ0KKw0KKwkJcmV0dXJuIG51bGw7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkg
KiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY29udGV4dC5JbnB1dENv
bnRleHQjZ2V0SWQoKQ0KKwkgKi8NCisJcHVibGljIFN0cmluZyBnZXRJZCgpIHsNCisJCXJldHVy
biBDT05URVhUX0lEOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmNvbnRleHQuWE1MSW5wdXRDb250ZXh0I3Jl
b3JkZXJJbnNlcnRFZGl0cyhqYXZhLnV0aWwuQXJyYXlMaXN0KQ0KKwkgKi8NCisJcHJvdGVjdGVk
IHZvaWQgcmVvcmRlckluc2VydEVkaXRzKEFycmF5TGlzdCBvcHMpIHsNCisJCS8vIE5PLU9QDQor
CX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC51aS5lZGl0b3IuY29udGV4dC5JbnB1dENvbnRleHQjZG9SZXZlcnQoKQ0KKwkgKi8NCisJ
cHVibGljIHZvaWQgZG9SZXZlcnQoKSB7DQorCQlmRWRpdE9wZXJhdGlvbnMuY2xlYXIoKTsNCisJ
CWZPcGVyYXRpb25UYWJsZS5jbGVhcigpOw0KKwkJZk1vdmVPcGVyYXRpb25zLmNsZWFyKCk7DQor
CQlBYnN0cmFjdEVkaXRpbmdNb2RlbCBtb2RlbCA9IChBYnN0cmFjdEVkaXRpbmdNb2RlbCkgZ2V0
TW9kZWwoKTsNCisJCW1vZGVsLnJlY29uY2lsZWQobW9kZWwuZ2V0RG9jdW1lbnQoKSk7DQorCX0N
CisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5h
bC51aS5lZGl0b3IuY29udGV4dC5JbnB1dENvbnRleHQjZ2V0UGFydGl0aW9uTmFtZSgpDQorCSAq
Lw0KKwlwcm90ZWN0ZWQgU3RyaW5nIGdldFBhcnRpdGlvbk5hbWUoKSB7DQorCQlyZXR1cm4gIl9f
X2N0eGhlbHBfcGFydGl0aW9uIjsgLy8kTk9OLU5MUy0xJA0KKwl9DQorfQ0KSW5kZXg6IHNyYy9v
cmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscEFic3RyYWN0
QWRkQWN0aW9uLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiBzcmMvb3JnL2VjbGlwc2UvcGRl
L2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBBYnN0cmFjdEFkZEFjdGlvbi5qYXZh
DQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAv
Q3R4SGVscEFic3RyYWN0QWRkQWN0aW9uLmphdmENCi0tLSAvZGV2L251bGwJMSBKYW4gMTk3MCAw
MDowMDowMCAtMDAwMA0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9y
L2N0eGhlbHAvQ3R4SGVscEFic3RyYWN0QWRkQWN0aW9uLmphdmEJMSBKYW4gMTk3MCAwMDowMDow
MCAtMDAwMA0KQEAgLTAsMCArMSw3NiBAQA0KKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQorICog
Q29weXJpZ2h0IChjKSAyMDA3IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIEFsbCBy
aWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlh
bHMNCisgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNl
IFB1YmxpYyBMaWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1
dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVn
YWwvZXBsLXYxMC5odG1sDQorICoNCisgKiBDb250cmlidXRvcnM6DQorICogICAgIElCTSBDb3Jw
b3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqLw0KKw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRv
ci5jdHhoZWxwOw0KKw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS5hY3Rpb24uQWN0aW9uOw0K
K2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVs
cE9iamVjdDsNCisNCisvKioNCisgKiBUb2NBZGRPYmplY3RBY3Rpb24gLSB0aGUgYWJzdHJhY3Qg
aW1wbGVtZW50YXRpb24gZm9yDQorICogYWRkaW5nIG9iamVjdHMgdG8gYSBUT0Mgb2JqZWN0Lg0K
KyAqLw0KK3B1YmxpYyBhYnN0cmFjdCBjbGFzcyBDdHhIZWxwQWJzdHJhY3RBZGRBY3Rpb24gZXh0
ZW5kcyBBY3Rpb24gew0KKw0KKwlDdHhIZWxwT2JqZWN0IGZQYXJlbnRPYmplY3Q7DQorDQorCS8v
VGhlIHRhcmdldCBvYmplY3QgdG8gaW5zZXJ0IGFmdGVyDQorCUN0eEhlbHBPYmplY3QgZlRhcmdl
dE9iamVjdDsNCisNCisJLyoqDQorCSAqIFNldCB0aGUgcGFyZW50IG9iamVjdCB0aGF0IHRoaXMg
YWN0aW9uIHdpbGwgYWRkDQorCSAqIG9iamVjdHMgdG8uDQorCSAqIA0KKwkgKiBAcGFyYW0gcGFy
ZW50IFRoZSBuZXcgcGFyZW50IG9iamVjdCBmb3IgdGhpcyBhY3Rpb24NCisJICovDQorCXB1Ymxp
YyB2b2lkIHNldFBhcmVudE9iamVjdChDdHhIZWxwT2JqZWN0IHBhcmVudCkgew0KKwkJZlBhcmVu
dE9iamVjdCA9IHBhcmVudDsNCisJfQ0KKw0KKwkvKioNCisJICogU2V0IHRoZSB0YXJnZXQgb2Jq
ZWN0IHRoYXQgdGhpcyBhY3Rpb24gd2lsbCBhZGQNCisJICogb2JqZWN0cyBhZnRlci4NCisJICog
DQorCSAqIEBwYXJhbSB0YXJnZXQgVGhlIG5ldyB0YXJnZXQgb2JqZWN0IGZvciB0aGlzIGFjdGlv
bg0KKwkgKi8NCisJcHVibGljIHZvaWQgc2V0VGFyZ2V0T2JqZWN0KEN0eEhlbHBPYmplY3QgdGFy
Z2V0KSB7DQorCQlmVGFyZ2V0T2JqZWN0ID0gdGFyZ2V0Ow0KKwl9DQorDQorCS8qKg0KKwkgKiBA
cmV0dXJuIFRoZSBuYW1lcyBvZiB0aGUgY2hpbGRyZW4gb2YgdGhpcyBUT0Mgb2JqZWN0DQorCSAq
Lw0KKwlwdWJsaWMgU3RyaW5nW10gZ2V0Q2hpbGROYW1lcygpIHsNCisJCWludCBudW1DaGlsZHJl
biA9IGZQYXJlbnRPYmplY3QuZ2V0Q2hpbGRyZW4oKS5zaXplKCk7DQorCQlDdHhIZWxwT2JqZWN0
W10gY3R4SGVscE9iamVjdHMgPSAoQ3R4SGVscE9iamVjdFtdKSBmUGFyZW50T2JqZWN0LmdldENo
aWxkcmVuKCkudG9BcnJheShuZXcgQ3R4SGVscE9iamVjdFtudW1DaGlsZHJlbl0pOw0KKw0KKwkJ
U3RyaW5nW10gY3R4SGVscE9iamVjdE5hbWVzID0gbmV3IFN0cmluZ1tjdHhIZWxwT2JqZWN0cy5s
ZW5ndGhdOw0KKw0KKwkJZm9yIChpbnQgaSA9IDA7IGkgPCBudW1DaGlsZHJlbjsgKytpKSB7DQor
CQkJY3R4SGVscE9iamVjdE5hbWVzW2ldID0gY3R4SGVscE9iamVjdHNbaV0uZ2V0TmFtZSgpOw0K
KwkJfQ0KKwkJcmV0dXJuIGN0eEhlbHBPYmplY3ROYW1lczsNCisJfQ0KKw0KKwkvKioNCisJICog
QWRkIHRoZSBjaGlsZCB0byB0aGUgcGFyZW50IG9iamVjdC4gSWYgYSB0YXJnZXQgb2JqZWN0IGlz
IHNwZWNpZmllZCwNCisJICogYWRkIHRoZSBjaGlsZCBhcyBhIGRpcmVjdCBzaWJsaW5nIGFmdGVy
IHRoYXQgb2JqZWN0Lg0KKwkgKiANCisJICogQHBhcmFtIGNoaWxkIFRoZSBvYmplY3QgdG8gYWRk
IHRvIHRoZSBwYXJlbnQNCisJICovDQorCXByb3RlY3RlZCB2b2lkIGFkZENoaWxkKEN0eEhlbHBP
YmplY3QgY2hpbGQpIHsNCisJCWlmIChmVGFyZ2V0T2JqZWN0ID09IG51bGwpIHsNCisJCQlmUGFy
ZW50T2JqZWN0LmFkZENoaWxkKGNoaWxkKTsNCisJCX0gZWxzZSB7DQorCQkJZlBhcmVudE9iamVj
dC5hZGRDaGlsZChjaGlsZCwgZlRhcmdldE9iamVjdCwgZmFsc2UpOw0KKwkJfQ0KKwl9DQorfQ0K
</data>

          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>87186</attachid>
            <date>2008-01-17 13:28:00 -0500</date>
            <delta_ts>2008-01-18 14:50:53 -0500</delta_ts>
            <desc>Patch</desc>
            <filename>215091ContextHelpAwesomeEditors.patch</filename>
            <type>text/plain</type>
            <size>192610</size>
            <attacher name="Curtis Windatt">cwindatt</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UucGRlLnVpDQpJ
bmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL1RvY0ZpbGVW
YWxpZGF0b3IuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uvb3Jn
LmVjbGlwc2UucGRlLnVpL3NyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3Rv
Yy9Ub2NGaWxlVmFsaWRhdG9yLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjUNCmRpZmYg
LXUgLXIxLjUgVG9jRmlsZVZhbGlkYXRvci5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL3BkZS9p
bnRlcm5hbC91aS9lZGl0b3IvdG9jL1RvY0ZpbGVWYWxpZGF0b3IuamF2YQkxNiBKYW4gMjAwOCAx
NzowODoyNyAtMDAwMAkxLjUNCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2Vk
aXRvci90b2MvVG9jRmlsZVZhbGlkYXRvci5qYXZhCTE3IEphbiAyMDA4IDE4OjE2OjAyIC0wMDAw
DQpAQCAtMSw1ICsxLDUgQEANCiAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KLSAqIENvcHlyaWdo
dCAoYykgMjAwNyBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBDb3B5cmlnaHQgKGMp
IDIwMDcsIDIwMDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQogICogQWxsIHJpZ2h0cyBy
ZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KICAq
IGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGlj
IExpY2Vuc2UgdjEuMA0KICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBh
bmQgaXMgYXZhaWxhYmxlIGF0DQpAQCAtNDgsMTIgKzQ4LDEyIEBADQogCQl9DQogCQlJRmlsZSBm
aWxlID0gKElGaWxlKSBzZWxlY3Rpb25bMF07DQogCQkvLyBFbnN1cmUgd2UgaGF2ZSBhIFRPQyBm
aWxlDQotCQlpZiAoIVRvY0V4dGVuc2lvblV0aWwuaXNUT0NGaWxlKGZpbGUuZ2V0RnVsbFBhdGgo
KSkpIHsNCisJCWlmICghSGVscEVkaXRvclV0aWwuaXNUT0NGaWxlKGZpbGUuZ2V0RnVsbFBhdGgo
KSkpIHsNCiAJCQlyZXR1cm4gZXJyb3JTdGF0dXMoUERFVUlNZXNzYWdlcy5Ub2NGaWxlVmFsaWRh
dG9yX2Vycm9ySW52YWxpZFRPQyk7DQogCQl9DQogDQogCQkvL0Vuc3VyZSB0aGF0IHRoZSBUT0Mg
ZmlsZSBzZWxlY3RlZCBpc24ndCB0aGUgY3VycmVudCBmaWxlDQotCQlpZiAoVG9jRXh0ZW5zaW9u
VXRpbC5pc0N1cnJlbnRSZXNvdXJjZShmaWxlLmdldEZ1bGxQYXRoKCksIGZNb2RlbCkpIHsNCisJ
CWlmIChIZWxwRWRpdG9yVXRpbC5pc0N1cnJlbnRSZXNvdXJjZShmaWxlLmdldEZ1bGxQYXRoKCks
IGZNb2RlbCkpIHsNCiAJCQlyZXR1cm4gZXJyb3JTdGF0dXMoUERFVUlNZXNzYWdlcy5Ub2NGaWxl
VmFsaWRhdG9yX2Vycm9yU2FtZVRPQyk7DQogCQl9DQogDQpAQCAtNjIsMTggKzYyLDEwIEBADQog
DQogCX0NCiANCi0JLyoqDQotCSAqIEBwYXJhbSBtZXNzYWdlDQotCSAqIEByZXR1cm4NCi0JICov
DQogCXByaXZhdGUgSVN0YXR1cyBlcnJvclN0YXR1cyhTdHJpbmcgbWVzc2FnZSkgew0KIAkJcmV0
dXJuIG5ldyBTdGF0dXMoSVN0YXR1cy5FUlJPUiwgUERFUGx1Z2luLmdldFBsdWdpbklkKCksIElT
dGF0dXMuRVJST1IsIG1lc3NhZ2UsIG51bGwpOw0KIAl9DQogDQotCS8qKg0KLQkgKiBAcGFyYW0g
bWVzc2FnZQ0KLQkgKiBAcmV0dXJuDQotCSAqLw0KIAlwcml2YXRlIElTdGF0dXMgb2tTdGF0dXMo
U3RyaW5nIG1lc3NhZ2UpIHsNCiAJCXJldHVybiBuZXcgU3RhdHVzKElTdGF0dXMuT0ssIFBERVBs
dWdpbi5nZXRQbHVnaW5JZCgpLCBJU3RhdHVzLk9LLCBtZXNzYWdlLCBudWxsKTsNCiAJfQ0KSW5k
ZXg6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9Ub2NUcmVlU2Vj
dGlvbi5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9vcmcuZWNs
aXBzZS5wZGUudWkvc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL1Rv
Y1RyZWVTZWN0aW9uLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjEyDQpkaWZmIC11IC1y
MS4xMiBUb2NUcmVlU2VjdGlvbi5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5h
bC91aS9lZGl0b3IvdG9jL1RvY1RyZWVTZWN0aW9uLmphdmEJMTYgSmFuIDIwMDggMTc6MDg6Mjcg
LTAwMDAJMS4xMg0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3Rv
Yy9Ub2NUcmVlU2VjdGlvbi5qYXZhCTE3IEphbiAyMDA4IDE4OjE2OjAyIC0wMDAwDQpAQCAtMSw1
ICsxLDUgQEANCiAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KLSAqIENvcHlyaWdodCAoYykgMjAw
NyBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBDb3B5cmlnaHQgKGMpIDIwMDcsIDIw
MDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4g
VGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KICAqIGFyZSBtYWRl
IGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2Ug
djEuMA0KICAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZh
aWxhYmxlIGF0DQpAQCAtMzU2LDExICszNTYsMTEgQEANCiANCiAJCQkJVG9jT2JqZWN0IHBhcmVu
dCA9IHRvY09iamVjdC5nZXRQYXJlbnQoKTsNCiAJCQkJaWYgKHNlbC5zaXplKCkgPT0gMSAmJiAo
dG9jT2JqZWN0LmdldFR5cGUoKSA9PSBJVG9jQ29uc3RhbnRzLlRZUEVfVE9DIHx8IHBhcmVudC5n
ZXRUeXBlKCkgPT0gSVRvY0NvbnN0YW50cy5UWVBFX1RPUElDIHx8IHBhcmVudC5nZXRUeXBlKCkg
PT0gSVRvY0NvbnN0YW50cy5UWVBFX1RPQykpIHsgLyogU2VtYW50aWMgcnVsZTogDQotCQkJCQkJ
CQkgKiBBcyBsb25nIGFzIHRoZSBzZWxlY3Rpb24gaXMgYSBjaGlsZCBvZiBhIA0KLQkJCQkJCQkJ
ICogVE9DIHJvb3Qgb3IgYSB0b3BpYywgb3IgdGhlIHNlbGVjdGlvbiBpdHNlbGYNCi0JCQkJCQkJ
CSAqIGlzIGEgVE9DIHJvb3QsIHRoZW4gYSBuZXcgb2JqZWN0IGNhbiBiZSBhZGRlZA0KLQkJCQkJ
CQkJICogZWl0aGVyIHRvIHRoZSBzZWxlY3Rpb24gb3IgdG8gdGhlIHBhcmVudA0KLQkJCQkJCQkJ
ICovDQorCQkJCQkJCQkJCQkJCQkJCQkgKiBBcyBsb25nIGFzIHRoZSBzZWxlY3Rpb24gaXMgYSBj
aGlsZCBvZiBhIA0KKwkJCQkJCQkJCQkJCQkJCQkJICogVE9DIHJvb3Qgb3IgYSB0b3BpYywgb3Ig
dGhlIHNlbGVjdGlvbiBpdHNlbGYNCisJCQkJCQkJCQkJCQkJCQkJCSAqIGlzIGEgVE9DIHJvb3Qs
IHRoZW4gYSBuZXcgb2JqZWN0IGNhbiBiZSBhZGRlZA0KKwkJCQkJCQkJCQkJCQkJCQkJICogZWl0
aGVyIHRvIHRoZSBzZWxlY3Rpb24gb3IgdG8gdGhlIHBhcmVudA0KKwkJCQkJCQkJCQkJCQkJCQkJ
ICovDQogCQkJCQljYW5BZGRPYmplY3QgPSB0cnVlOw0KIAkJCQl9DQogDQpAQCAtNjcwLDEzICs2
NzAsMTMgQEANCiAJCVN0cmluZyBtZXNzYWdlID0gbnVsbDsNCiANCiAJCWlmICh0b2NGaWxlKSB7
DQotCQkJaWYgKFRvY0V4dGVuc2lvblV0aWwuaXNUT0NGaWxlKHBhdGgpKSB7DQorCQkJaWYgKEhl
bHBFZGl0b3JVdGlsLmlzVE9DRmlsZShwYXRoKSkgew0KIAkJCQlyZXR1cm4gdHJ1ZTsNCiAJCQl9
DQogDQogCQkJbWVzc2FnZSA9IFBERVVJTWVzc2FnZXMuVG9jUGFnZV9pbnZhbGlkVG9jRmlsZTsN
CiAJCX0gZWxzZSB7DQotCQkJaWYgKFRvY0V4dGVuc2lvblV0aWwuaGFzVmFsaWRQYWdlRXh0ZW5z
aW9uKHBhdGgpKSB7DQorCQkJaWYgKEhlbHBFZGl0b3JVdGlsLmhhc1ZhbGlkUGFnZUV4dGVuc2lv
bihwYXRoKSkgew0KIAkJCQlyZXR1cm4gdHJ1ZTsNCiAJCQl9DQogDQpAQCAtNzM5LDcgKzczOSw3
IEBADQogCSAqIA0KIAkgKiBAcGFyYW0gZHJvcFRhcmdldCBUaGUgdGFyZ2V0IHRoYXQgdGhlIGRy
b3Agb2NjdXJzIG5lYXIvb24NCiAJICogQHBhcmFtIGRyb3BMb2NhdGlvbiBUaGUgbG9jYXRpb24g
b2YgdGhlIGRyb3AgcmVsYXRpdmUgdG8gdGhlIHRhcmdldA0KLQkgKiBAcmV0dXJuDQorCSAqIEBy
ZXR1cm4gcGFyZW50DQogCSAqLw0KIAlwcml2YXRlIFRvY1RvcGljIGRldGVybWluZVBhcmVudChU
b2NPYmplY3QgZHJvcFRhcmdldCwgaW50IGRyb3BMb2NhdGlvbikgew0KIAkJLy9XZSBtdXN0IGRl
dGVybWluZSB3aGF0IG9iamVjdCB3aWxsIGJlIHRoZSBwYXJlbnQgb2YgdGhlDQpAQCAtNzU1LDE0
ICs3NTUsMTQgQEANCiAJCX0gZWxzZSB7IC8vSW4gYWxsIG90aGVyIGNhc2VzLCBpdCBkZXBlbmRz
IG9uIHRoZSBsb2NhdGlvbiBvZiB0aGUgZHJvcA0KIAkJCS8vcmVsYXRpdmUgdG8gdGhlIGRyb3Ag
dGFyZ2V0DQogCQkJc3dpdGNoIChkcm9wTG9jYXRpb24pIHsNCi0JCQkJY2FzZSBUb2NEcm9wQWRh
cHRlci5MT0NBVElPTl9KVVNUX0FGVEVSIDogeyAvL2lmIHRoZSBkcm9wIG9jY3VyZWQgYWZ0ZXIg
YW4gZXhwYW5kZWQgbm9kZQ0KKwkJCQljYXNlIFRvY0Ryb3BBZGFwdGVyLkxPQ0FUSU9OX0pVU1Rf
QUZURVIgOiB7IC8vaWYgdGhlIGRyb3Agb2NjdXJyZWQgYWZ0ZXIgYW4gZXhwYW5kZWQgbm9kZQ0K
IAkJCQkJLy9hbmQgYWxsIG9mIGl0cyBjaGlsZHJlbiwNCiAJCQkJCS8vbWFrZSB0aGUgZHJvcCB0
YXJnZXQncyBwYXJlbnQgdGhlIHRhcmdldCBwYXJlbnQgb2JqZWN0DQogCQkJCQlpZiAoIWZUb2NU
cmVlLmdldEV4cGFuZGVkU3RhdGUoZHJvcFRhcmdldCkpIHsNCiAJCQkJCQlyZXR1cm4gKFRvY1Rv
cGljKSBkcm9wVGFyZ2V0LmdldFBhcmVudCgpOw0KIAkJCQkJfQ0KIAkJCQkJLy9vdGhlcndpc2Us
IHRoZSB0YXJnZXQgcGFyZW50IGlzIHRoZSBkcm9wIHRhcmdldCwNCi0JCQkJCS8vc2luY2UgdGhl
IGRyb3Agb2NjdXJlZCBiZXR3ZWVuIGl0IGFuZCBpdHMgZmlyc3QgY2hpbGQNCisJCQkJCS8vc2lu
Y2UgdGhlIGRyb3Agb2NjdXJyZWQgYmV0d2VlbiBpdCBhbmQgaXRzIGZpcnN0IGNoaWxkDQogCQkJ
CX0NCiAJCQkJY2FzZSBWaWV3ZXJEcm9wQWRhcHRlci5MT0NBVElPTl9PTiA6IHsgLy90aGUgZHJv
cCBsb2NhdGlvbiBpcyBkaXJlY3RseSBvbiB0aGUgZHJvcCB0YXJnZXQNCiAJCQkJCS8vc2V0IHRo
ZSBwYXJlbnQgb2JqZWN0IHRvIGJlIHRoZSBkcm9wIHRhcmdldA0KQEAgLTgxMSwxMSArODExLDEx
IEBADQogCQkJCS8vIElmIHRoZSBwYXRoIGlzIHRvIGEgdmFsaWQgVE9DIGZpbGUNCiAJCQkJLy8g
YW5kIGl0IGlzbid0IHRoZSBmaWxlIGluIHRoaXMgbW9kZWwNCiAJCQkJLy8gdGhlbiBtYWtlIGEg
bGluaw0KLQkJCQlpZiAoVG9jRXh0ZW5zaW9uVXRpbC5pc1RPQ0ZpbGUocGF0aCkgJiYgIVRvY0V4
dGVuc2lvblV0aWwuaXNDdXJyZW50UmVzb3VyY2UocGF0aCwgZk1vZGVsKSkgew0KKwkJCQlpZiAo
SGVscEVkaXRvclV0aWwuaXNUT0NGaWxlKHBhdGgpICYmICFIZWxwRWRpdG9yVXRpbC5pc0N1cnJl
bnRSZXNvdXJjZShwYXRoLCBmTW9kZWwpKSB7DQogCQkJCQl0b2NPYmplY3RzLmFkZChtYWtlTmV3
VG9jTGluayh0YXJnZXRQYXJlbnQsIGZpbGUpKTsNCiAJCQkJfQ0KIAkJCQkvLyBJZiB0aGUgcGF0
aCBpcyB0byBhIGZpbGUgd2l0aCBhbiBIVE1MIHBhZ2UgZXh0ZW5zaW9uLCBtYWtlIGEgdG9waWMN
Ci0JCQkJZWxzZSBpZiAoVG9jRXh0ZW5zaW9uVXRpbC5oYXNWYWxpZFBhZ2VFeHRlbnNpb24ocGF0
aCkpIHsNCisJCQkJZWxzZSBpZiAoSGVscEVkaXRvclV0aWwuaGFzVmFsaWRQYWdlRXh0ZW5zaW9u
KHBhdGgpKSB7DQogCQkJCQlUb2NUb3BpYyB0b3BpYyA9IG1ha2VOZXdUb2NUb3BpYyh0YXJnZXRQ
YXJlbnQsIGZpbGUpOw0KIAkJCQkJU3RyaW5nIHRpdGxlID0gZ2VuZXJhdGVUaXRsZSh0YXJnZXRQ
YXJlbnQsIHBhdGgpOw0KIA0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkv
ZWRpdG9yL3RvYy9Ub2NFeHRlbnNpb25VdGlsLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiBz
cmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvVG9jRXh0ZW5zaW9uVXRp
bC5qYXZhDQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3Rv
Yy9Ub2NFeHRlbnNpb25VdGlsLmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFs
L3VpL2VkaXRvci90b2MvVG9jRXh0ZW5zaW9uVXRpbC5qYXZhCTE2IEphbiAyMDA4IDE3OjA4OjI3
IC0wMDAwCTEuNw0KKysrIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAt
MSwxMDAgKzAsMCBAQA0KLS8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQotICogQ29weXJpZ2h0IChj
KSAyMDA3IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KLSAqIEFsbCByaWdodHMgcmVzZXJ2
ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCi0gKiBhcmUg
bWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNl
bnNlIHYxLjANCi0gKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlz
IGF2YWlsYWJsZSBhdA0KLSAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5o
dG1sDQotICoNCi0gKiBDb250cmlidXRvcnM6DQotICogICAgIElCTSBDb3Jwb3JhdGlvbiAtIGlu
aXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KLSAqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0K
LQ0KLXBhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci50b2M7DQotDQot
aW1wb3J0IGphdmEudXRpbC5IYXNoU2V0Ow0KLWltcG9ydCBqYXZhLnV0aWwuTG9jYWxlOw0KLWlt
cG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJlc291cmNlcy4qOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5j
b3JlLnJ1bnRpbWUuSVBhdGg7DQotaW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5jb3JlLklCYXNlTW9k
ZWw7DQotaW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5jb3JlLklNb2RlbDsNCi1pbXBvcnQgb3JnLmVj
bGlwc2UucGRlLmludGVybmFsLmNvcmUuaXRvYy5JVG9jQ29uc3RhbnRzOw0KLWltcG9ydCBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkudXRpbC5YTUxSb290RWxlbWVudE1hdGNoZXI7DQotDQot
cHVibGljIGNsYXNzIFRvY0V4dGVuc2lvblV0aWwgew0KLQlwdWJsaWMgc3RhdGljIGZpbmFsIFN0
cmluZ1tdIHBhZ2VFeHRlbnNpb25zID0geyJodG0iLCAic2h0bWwiLCAiaHRtbCIsICJ4aHRtbCJ9
OyAvLyROT04tTkxTLTEkIC8vJE5PTi1OTFMtMiQgLy8kTk9OLU5MUy0zJCAvLyROT04tTkxTLTQk
DQotCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIHRvY0V4dGVuc2lvbiA9ICJ4bWwiOyAvLyRO
T04tTkxTLTEkDQotCXByaXZhdGUgc3RhdGljIEhhc2hTZXQgcGFnZUV4dGVuc2lvblNldCA9IG5l
dyBIYXNoU2V0KHBhZ2VFeHRlbnNpb25zLmxlbmd0aCk7DQotDQotCXByaXZhdGUgc3RhdGljIHZv
aWQgcG9wdWxhdGVIYXNoU2V0KCkgew0KLQkJZm9yIChpbnQgaSA9IDA7IGkgPCBwYWdlRXh0ZW5z
aW9ucy5sZW5ndGg7ICsraSkgew0KLQkJCXBhZ2VFeHRlbnNpb25TZXQuYWRkKHBhZ2VFeHRlbnNp
b25zW2ldKTsNCi0JCX0NCi0JfQ0KLQ0KLQlwdWJsaWMgc3RhdGljIGJvb2xlYW4gaGFzVmFsaWRQ
YWdlRXh0ZW5zaW9uKElQYXRoIHBhdGgpIHsNCi0JCVN0cmluZyBmaWxlRXh0ZW5zaW9uID0gcGF0
aC5nZXRGaWxlRXh0ZW5zaW9uKCk7DQotCQlpZiAoZmlsZUV4dGVuc2lvbiAhPSBudWxsKSB7DQot
CQkJZmlsZUV4dGVuc2lvbiA9IGZpbGVFeHRlbnNpb24udG9Mb3dlckNhc2UoTG9jYWxlLkVOR0xJ
U0gpOw0KLQkJCWlmIChwYWdlRXh0ZW5zaW9uU2V0LmlzRW1wdHkoKSkgew0KLQkJCQlwb3B1bGF0
ZUhhc2hTZXQoKTsNCi0JCQl9DQotDQotCQkJcmV0dXJuIHBhZ2VFeHRlbnNpb25TZXQuY29udGFp
bnMoZmlsZUV4dGVuc2lvbik7DQotCQl9DQotDQotCQlyZXR1cm4gZmFsc2U7DQotCX0NCi0NCi0J
cHJpdmF0ZSBzdGF0aWMgYm9vbGVhbiBoYXNWYWxpZFRvY0V4dGVuc2lvbihJUGF0aCBwYXRoKSB7
DQotCQlTdHJpbmcgZmlsZUV4dGVuc2lvbiA9IHBhdGguZ2V0RmlsZUV4dGVuc2lvbigpOw0KLQkJ
cmV0dXJuIGZpbGVFeHRlbnNpb24gIT0gbnVsbCAmJiBmaWxlRXh0ZW5zaW9uLmVxdWFscyh0b2NF
eHRlbnNpb24pOw0KLQl9DQotDQotCS8qKg0KLQkgKiBAcGFyYW0gZmlsZQ0KLQkgKi8NCi0JcHVi
bGljIHN0YXRpYyBib29sZWFuIGlzVE9DRmlsZShJUGF0aCBwYXRoKSB7DQotCQlpZiAoIWhhc1Zh
bGlkVG9jRXh0ZW5zaW9uKHBhdGgpKQ0KLQkJCXJldHVybiBmYWxzZTsNCi0NCi0JCUlXb3Jrc3Bh
Y2VSb290IHJvb3QgPSBSZXNvdXJjZXNQbHVnaW4uZ2V0V29ya3NwYWNlKCkuZ2V0Um9vdCgpOw0K
LQ0KLQkJSVJlc291cmNlIHJlc291cmNlID0gcm9vdC5maW5kTWVtYmVyKHBhdGgpOw0KLQkJaWYg
KHJlc291cmNlICE9IG51bGwgJiYgcmVzb3VyY2UgaW5zdGFuY2VvZiBJRmlsZSkgew0KLQkJCXJl
dHVybiBYTUxSb290RWxlbWVudE1hdGNoZXIuZmlsZU1hdGNoZXNFbGVtZW50KChJRmlsZSkgcmVz
b3VyY2UsIElUb2NDb25zdGFudHMuRUxFTUVOVF9UT0MpOw0KLQkJfQ0KLQ0KLQkJcmV0dXJuIFhN
TFJvb3RFbGVtZW50TWF0Y2hlci5maWxlTWF0Y2hlc0VsZW1lbnQocGF0aC50b0ZpbGUoKSwgSVRv
Y0NvbnN0YW50cy5FTEVNRU5UX1RPQyk7DQotCX0NCi0NCi0JcHVibGljIHN0YXRpYyBib29sZWFu
IGlzQ3VycmVudFJlc291cmNlKElQYXRoIHBhdGgsIElCYXNlTW9kZWwgbW9kZWwpIHsNCi0JCWlm
IChtb2RlbCBpbnN0YW5jZW9mIElNb2RlbCkgew0KLQkJCUlQYXRoIHdvcmtzcGFjZVBhdGggPSBS
ZXNvdXJjZXNQbHVnaW4uZ2V0V29ya3NwYWNlKCkuZ2V0Um9vdCgpLmdldExvY2F0aW9uKCk7DQot
CQkJSVBhdGggZnVsbFBhdGg7DQotDQotCQkJaWYgKHdvcmtzcGFjZVBhdGguaXNQcmVmaXhPZihw
YXRoKSkgew0KLQkJCQlmdWxsUGF0aCA9ICgoSU1vZGVsKSBtb2RlbCkuZ2V0VW5kZXJseWluZ1Jl
c291cmNlKCkuZ2V0TG9jYXRpb24oKTsNCi0JCQl9IGVsc2Ugew0KLQkJCQlmdWxsUGF0aCA9ICgo
SU1vZGVsKSBtb2RlbCkuZ2V0VW5kZXJseWluZ1Jlc291cmNlKCkuZ2V0RnVsbFBhdGgoKTsNCi0J
CQl9DQotDQotCQkJcmV0dXJuIGZ1bGxQYXRoLmVxdWFscyhwYXRoKTsNCi0JCX0NCi0NCi0JCXJl
dHVybiBmYWxzZTsNCi0JfQ0KLQ0KLQlwdWJsaWMgc3RhdGljIFN0cmluZyBnZXRQYWdlRXh0ZW5z
aW9uTGlzdCgpIHsNCi0JCVN0cmluZ0J1ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7DQot
DQotCQlmb3IgKGludCBpID0gMDsgaSA8IHBhZ2VFeHRlbnNpb25zLmxlbmd0aDsgKytpKSB7DQot
CQkJYnVmLmFwcGVuZCgnLicpOw0KLQkJCWJ1Zi5hcHBlbmQocGFnZUV4dGVuc2lvbnNbaV0pOw0K
LQkJCWlmIChpICE9IHBhZ2VFeHRlbnNpb25zLmxlbmd0aCAtIDEpIHsNCi0JCQkJYnVmLmFwcGVu
ZCgiLCAiKTsgLy8kTk9OLU5MUy0xJA0KLQkJCX0NCi0JCX0NCi0NCi0JCXJldHVybiBidWYudG9T
dHJpbmcoKTsNCi0JfQ0KLX0NCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3Vp
L2VkaXRvci90b2MvVG9jRHJvcEFkYXB0ZXIuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9j
dnNyb290L2VjbGlwc2Uvb3JnLmVjbGlwc2UucGRlLnVpL3NyYy9vcmcvZWNsaXBzZS9wZGUvaW50
ZXJuYWwvdWkvZWRpdG9yL3RvYy9Ub2NEcm9wQWRhcHRlci5qYXZhLHYNCnJldHJpZXZpbmcgcmV2
aXNpb24gMS43DQpkaWZmIC11IC1yMS43IFRvY0Ryb3BBZGFwdGVyLmphdmENCi0tLSBzcmMvb3Jn
L2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvVG9jRHJvcEFkYXB0ZXIuamF2YQkx
NiBKYW4gMjAwOCAxNzowODoyNyAtMDAwMAkxLjcNCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRlL2lu
dGVybmFsL3VpL2VkaXRvci90b2MvVG9jRHJvcEFkYXB0ZXIuamF2YQkxNyBKYW4gMjAwOCAxODox
NjowMiAtMDAwMA0KQEAgLTEsNSArMSw1IEBADQogLyoqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCi0g
KiBDb3B5cmlnaHQgKGMpIDIwMDcgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQ29w
eXJpZ2h0IChjKSAyMDA3LCAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KICAqIEFs
bCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRl
cmlhbHMNCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xp
cHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3Ry
aWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KQEAgLTE2NiwxNCArMTY2LDE1IEBADQogCQkJ
CQlyZXR1cm47DQogCQkJCX0NCiANCi0JCQkJaWYgKCFUb2NFeHRlbnNpb25VdGlsLmhhc1ZhbGlk
UGFnZUV4dGVuc2lvbihwYXRoKSAmJiAhVG9jRXh0ZW5zaW9uVXRpbC5pc1RPQ0ZpbGUocGF0aCkp
IHsNCi0JCQkJCWV2ZW50LmRldGFpbCA9IERORC5EUk9QX05PTkU7DQorCQkJCWlmKCFIZWxwRWRp
dG9yVXRpbC5oYXNWYWxpZFBhZ2VFeHRlbnNpb24ocGF0aCkNCisJCQkJCSYmICFIZWxwRWRpdG9y
VXRpbC5pc1RPQ0ZpbGUocGF0aCkpDQorCQkJCXsJZXZlbnQuZGV0YWlsID0gRE5ELkRST1BfTk9O
RTsNCiAJCQkJCXJldHVybjsNCiAJCQkJfQ0KIA0KIAkJCQkvLyBNYWtlIHN1cmUgdGhhdCB0aGUg
dXNlciBpc24ndCBkcm9wcGluZyBhIFRPQyBpbnRvIGl0c2VsZg0KLQkJCQlpZiAoVG9jRXh0ZW5z
aW9uVXRpbC5pc0N1cnJlbnRSZXNvdXJjZShwYXRoLCBtb2RlbCkpIHsNCi0JCQkJCWV2ZW50LmRl
dGFpbCA9IERORC5EUk9QX05PTkU7DQorCQkJCWlmKEhlbHBFZGl0b3JVdGlsLmlzQ3VycmVudFJl
c291cmNlKHBhdGgsIG1vZGVsKSkNCisJCQkJewlldmVudC5kZXRhaWwgPSBETkQuRFJPUF9OT05F
Ow0KIAkJCQkJcmV0dXJuOw0KIAkJCQl9DQogCQkJfQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9w
ZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9kZXRhaWxzL1RvY1BhZ2VGaWx0ZXIuamF2YQ0KPT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PQ0KUkNTIGZpbGU6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9y
L3RvYy9kZXRhaWxzL1RvY1BhZ2VGaWx0ZXIuamF2YQ0KZGlmZiAtTiBzcmMvb3JnL2VjbGlwc2Uv
cGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvZGV0YWlscy9Ub2NQYWdlRmlsdGVyLmphdmENCi0t
LSBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvZGV0YWlscy9Ub2NQ
YWdlRmlsdGVyLmphdmEJMTYgSmFuIDIwMDggMTc6MDg6MzQgLTAwMDAJMS4zDQorKysgL2Rldi9u
dWxsCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0xLDQ3ICswLDAgQEANCi0vKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKg0KLSAqIENvcHlyaWdodCAoYykgMjAwNyBJQk0gQ29ycG9yYXRpb24g
YW5kIG90aGVycy4NCi0gKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRo
ZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQotICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRo
ZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQotICogd2hpY2ggYWNj
b21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCi0gKiBodHRw
Oi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KLSAqDQotICogQ29udHJpYnV0
b3JzOg0KLSAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50
YXRpb24NCi0gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCi0NCi1wYWNrYWdlIG9yZy5lY2xpcHNl
LnBkZS5pbnRlcm5hbC51aS5lZGl0b3IudG9jLmRldGFpbHM7DQotDQotaW1wb3J0IG9yZy5lY2xp
cHNlLmNvcmUucmVzb3VyY2VzLio7DQotaW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucnVudGltZS5D
b3JlRXhjZXB0aW9uOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuSVBhdGg7DQot
aW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnZpZXdlcnMuVmlld2VyOw0KLWltcG9ydCBvcmcuZWNs
aXBzZS5qZmFjZS52aWV3ZXJzLlZpZXdlckZpbHRlcjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UucGRl
LmludGVybmFsLnVpLmVkaXRvci50b2MuVG9jRXh0ZW5zaW9uVXRpbDsNCi0NCi1wdWJsaWMgY2xh
c3MgVG9jUGFnZUZpbHRlciBleHRlbmRzIFZpZXdlckZpbHRlciB7DQotCXB1YmxpYyBib29sZWFu
IHNlbGVjdChWaWV3ZXIgdmlld2VyLCBPYmplY3QgcGFyZW50LCBPYmplY3QgZWxlbWVudCkgew0K
LQkJaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBJRmlsZSkgew0KLQkJCUlQYXRoIHBhdGggPSAoKElG
aWxlKSBlbGVtZW50KS5nZXRGdWxsUGF0aCgpOw0KLQ0KLQkJCXJldHVybiBUb2NFeHRlbnNpb25V
dGlsLmhhc1ZhbGlkUGFnZUV4dGVuc2lvbihwYXRoKTsNCi0JCX0NCi0NCi0JCWlmIChlbGVtZW50
IGluc3RhbmNlb2YgSVByb2plY3QgJiYgISgoSVByb2plY3QpIGVsZW1lbnQpLmlzT3BlbigpKSB7
DQotCQkJcmV0dXJuIGZhbHNlOw0KLQkJfQ0KLQ0KLQkJaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBJ
Q29udGFpbmVyKSB7DQotCQkJdHJ5IHsNCi0JCQkJSVJlc291cmNlW10gcmVzb3VyY2VzID0gKChJ
Q29udGFpbmVyKSBlbGVtZW50KS5tZW1iZXJzKCk7DQotCQkJCWZvciAoaW50IGkgPSAwOyBpIDwg
cmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7DQotCQkJCQlpZiAoc2VsZWN0KHZpZXdlciwgcGFyZW50
LCByZXNvdXJjZXNbaV0pKSB7DQotCQkJCQkJcmV0dXJuIHRydWU7DQotCQkJCQl9DQotCQkJCX0N
Ci0JCQl9IGNhdGNoIChDb3JlRXhjZXB0aW9uIGUpIHsNCi0JCQl9DQotCQl9DQotDQotCQlyZXR1
cm4gZmFsc2U7DQotCX0NCi19DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91
aS9lZGl0b3IvdG9jL2RldGFpbHMvVG9jRGV0YWlscy5qYXZhDQo9PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmls
ZTogL2N2c3Jvb3QvZWNsaXBzZS9vcmcuZWNsaXBzZS5wZGUudWkvc3JjL29yZy9lY2xpcHNlL3Bk
ZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL2RldGFpbHMvVG9jRGV0YWlscy5qYXZhLHYNCnJldHJp
ZXZpbmcgcmV2aXNpb24gMS40DQpkaWZmIC11IC1yMS40IFRvY0RldGFpbHMuamF2YQ0KLS0tIHNy
Yy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9kZXRhaWxzL1RvY0RldGFp
bHMuamF2YQkxNiBKYW4gMjAwOCAxNzowODozNCAtMDAwMAkxLjQNCisrKyBzcmMvb3JnL2VjbGlw
c2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvZGV0YWlscy9Ub2NEZXRhaWxzLmphdmEJMTcg
SmFuIDIwMDggMTg6MTY6MDIgLTAwMDANCkBAIC0xLDUgKzEsNSBAQA0KIC8qKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqDQotICogQ29weXJpZ2h0IChjKSAyMDA3IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3Ro
ZXJzLg0KKyAqIENvcHlyaWdodCAoYykgMjAwNywgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90
aGVycy4NCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2Nv
bXBhbnlpbmcgbWF0ZXJpYWxzDQogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJt
cyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQogICogd2hpY2ggYWNjb21wYW5p
ZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCkBAIC0xODIsNyArMTgy
LDcgQEANCiAJCWRpYWxvZy5zZXRBbGxvd011bHRpcGxlKGZhbHNlKTsNCiAJCWRpYWxvZy5zZXRU
aXRsZShQREVVSU1lc3NhZ2VzLlRvY0RldGFpbHNfYnJvd3NlU2VsZWN0aW9uKTsNCiAJCWRpYWxv
Zy5zZXRNZXNzYWdlKFBERVVJTWVzc2FnZXMuVG9jRGV0YWlsc19icm93c2VNZXNzYWdlKTsNCi0J
CWRpYWxvZy5hZGRGaWx0ZXIobmV3IFRvY1BhZ2VGaWx0ZXIoKSk7DQorCQlkaWFsb2cuYWRkRmls
dGVyKG5ldyBIZWxwRWRpdG9yRmlsdGVyKCkpOw0KIA0KIAkJZGlhbG9nLnNldElucHV0KFBERVBs
dWdpbi5nZXRXb3Jrc3BhY2UoKS5nZXRSb290KCkpOw0KIA0KSW5kZXg6IHNyYy9vcmcvZWNsaXBz
ZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9kZXRhaWxzL1RvY0xpbmtEZXRhaWxzLmphdmEN
Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9vdC9lY2xpcHNlL29yZy5lY2xpcHNlLnBkZS51
aS9zcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvZGV0YWlscy9Ub2NM
aW5rRGV0YWlscy5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS42DQpkaWZmIC11IC1yMS42
IFRvY0xpbmtEZXRhaWxzLmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3Vp
L2VkaXRvci90b2MvZGV0YWlscy9Ub2NMaW5rRGV0YWlscy5qYXZhCTE2IEphbiAyMDA4IDE3OjA4
OjM0IC0wMDAwCTEuNg0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9y
L3RvYy9kZXRhaWxzL1RvY0xpbmtEZXRhaWxzLmphdmEJMTcgSmFuIDIwMDggMTg6MTY6MDIgLTAw
MDANCkBAIC0xMjUsNyArMTI1LDcgQEANCiAJCWRpYWxvZy5zZXRBbGxvd011bHRpcGxlKGZhbHNl
KTsNCiAJCWRpYWxvZy5zZXRUaXRsZShQREVVSU1lc3NhZ2VzLlRvY0xpbmtEZXRhaWxzX2Jyb3dz
ZVNlbGVjdGlvbik7DQogCQlkaWFsb2cuc2V0TWVzc2FnZShQREVVSU1lc3NhZ2VzLlRvY0xpbmtE
ZXRhaWxzX2Jyb3dzZU1lc3NhZ2UpOw0KLQkJZGlhbG9nLmFkZEZpbHRlcihuZXcgRmlsZUV4dGVu
c2lvbkZpbHRlcihUb2NFeHRlbnNpb25VdGlsLnRvY0V4dGVuc2lvbikpOw0KKwkJZGlhbG9nLmFk
ZEZpbHRlcihuZXcgRmlsZUV4dGVuc2lvbkZpbHRlcihIZWxwRWRpdG9yVXRpbC50b2NFeHRlbnNp
b24pKTsNCiANCiAJCWRpYWxvZy5zZXRJbnB1dChQREVQbHVnaW4uZ2V0V29ya3NwYWNlKCkuZ2V0
Um9vdCgpKTsNCiANCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRv
ci90b2MvZGV0YWlscy9Ub2NUb3BpY0RldGFpbHMuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6
IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlwc2UucGRlLnVpL3NyYy9vcmcvZWNsaXBzZS9wZGUv
aW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9kZXRhaWxzL1RvY1RvcGljRGV0YWlscy5qYXZhLHYNCnJl
dHJpZXZpbmcgcmV2aXNpb24gMS41DQpkaWZmIC11IC1yMS41IFRvY1RvcGljRGV0YWlscy5qYXZh
DQotLS0gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL2RldGFpbHMv
VG9jVG9waWNEZXRhaWxzLmphdmEJMTYgSmFuIDIwMDggMTc6MDg6MzQgLTAwMDAJMS41DQorKysg
c3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL2RldGFpbHMvVG9jVG9w
aWNEZXRhaWxzLmphdmEJMTcgSmFuIDIwMDggMTg6MTY6MDIgLTAwMDANCkBAIC0xLDUgKzEsNSBA
QA0KIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqDQotICogQ29weXJpZ2h0IChjKSAyMDA3IElCTSBD
b3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIENvcHlyaWdodCAoYykgMjAwNywgMjAwOCBJQk0g
Q29ycG9yYXRpb24gYW5kIG90aGVycy4NCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHBy
b2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQogICogYXJlIG1hZGUgYXZhaWxh
YmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQog
ICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUg
YXQNCkBAIC04LDcgKzgsNiBAQA0KICAqIENvbnRyaWJ1dG9yczoNCiAgKiAgICAgSUJNIENvcnBv
cmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQogICoqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKiovDQotDQogcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9y
LnRvYy5kZXRhaWxzOw0KIA0KIGltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJlc291cmNlcy5JRmls
ZTsNCkBAIC0xNTAsMTAgKzE0OSwxMCBAQA0KIA0KIAkJZGlhbG9nLnNldFZhbGlkYXRvcihuZXcg
RmlsZVZhbGlkYXRvcigpKTsNCiAJCWRpYWxvZy5zZXRBbGxvd011bHRpcGxlKGZhbHNlKTsNCi0J
CWRpYWxvZy5zZXRUaXRsZShQREVVSU1lc3NhZ2VzLlRvY0RldGFpbHNfYnJvd3NlU2VsZWN0aW9u
KTsNCi0JCWRpYWxvZy5zZXRNZXNzYWdlKFBERVVJTWVzc2FnZXMuVG9jRGV0YWlsc19icm93c2VN
ZXNzYWdlKTsNCi0JCWRpYWxvZy5hZGRGaWx0ZXIobmV3IFRvY1BhZ2VGaWx0ZXIoKSk7DQotDQor
CQlkaWFsb2cuc2V0VGl0bGUoUERFVUlNZXNzYWdlcy5Ub2NEZXRhaWxzX2Jyb3dzZVNlbGVjdGlv
bik7ICANCisJCWRpYWxvZy5zZXRNZXNzYWdlKFBERVVJTWVzc2FnZXMuVG9jRGV0YWlsc19icm93
c2VNZXNzYWdlKTsgIA0KKwkJZGlhbG9nLmFkZEZpbHRlcihuZXcgSGVscEVkaXRvckZpbHRlcigp
KTsNCisJCQ0KIAkJZGlhbG9nLnNldElucHV0KFBERVBsdWdpbi5nZXRXb3Jrc3BhY2UoKS5nZXRS
b290KCkpOw0KIA0KIAkJaWYgKGRpYWxvZy5vcGVuKCkgPT0gV2luZG93Lk9LKSB7DQpJbmRleDog
c3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9wZGVyZXNvdXJjZXMucHJvcGVydGllcw0K
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlwc2UucGRlLnVp
L3NyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvcGRlcmVzb3VyY2VzLnByb3BlcnRpZXMs
dg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjk1Nw0KZGlmZiAtdSAtcjEuOTU3IHBkZXJlc291cmNl
cy5wcm9wZXJ0aWVzDQotLS0gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9wZGVyZXNv
dXJjZXMucHJvcGVydGllcwkxNiBKYW4gMjAwOCAwMDo1NTowMSAtMDAwMAkxLjk1Nw0KKysrIHNy
Yy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvcGRlcmVzb3VyY2VzLnByb3BlcnRpZXMJMTcg
SmFuIDIwMDggMTg6MTY6MDEgLTAwMDANCkBAIC0yNDA1LDYgKzI0MDUsMzggQEANCiBTcGxhc2hD
b25maWd1cmF0aW9uU2VjdGlvbl9tc2dEZWNvcmF0aW9uVGVtcGxhdGVTdXBwb3J0PVRoaXMgdGVt
cGxhdGUgd2lsbCBvbmx5IHdvcmsgd2l0aCBwcm9kdWN0cyBidWlsdCBvbiBFY2xpcHNlIDMuMyBh
bmQgaGlnaGVyDQogUmVtb3ZlU3BsYXNoSGFuZGxlckJpbmRpbmdBY3Rpb25fbXNnUHJvZ3Jlc3NS
ZW1vdmVQcm9kdWN0QmluZGluZ3M9UmVtb3ZpbmcgcHJvZHVjdCBiaW5kaW5ncyBmcm9tIGV4dGVu
c2lvbiAnJ3swfScnIC4uLg0KIENTQWJzdHJhY3RQYWdlX21zZ1JlZ2lzdGVyVGhpc0NoZWF0U2hl
ZXQ9UmVnaXN0ZXIgdGhpcyBjaGVhdCBzaGVldA0KK0N0eEhlbHBDb21tYW5kRGV0YWlsc19jb21t
YW5kPUNvbW1hbmQ6DQorQ3R4SGVscENvbW1hbmREZXRhaWxzX2NvbW1hbmREZXRhaWxzPUNvbW1h
bmQgRGV0YWlscw0KK0N0eEhlbHBDb21tYW5kRGV0YWlsc19sYWJlbD1MYWJlbDoNCitDdHhIZWxw
Q29tbWFuZERldGFpbHNfc3BlY2lmeURpc3BsYXlMYWJlbD1TcGVjaWZ5IHRoZSBkaXNwbGF5IGxh
YmVsIGZvciB0aGlzIGNvbW1hbmQ6DQorQ3R4SGVscENvbW1hbmREZXRhaWxzX3NwZWNpZnlUaGVD
b21tYW5kPVNwZWNpZnkgdGhlIGNvbW1hbmQgdG8gaW52b2tlOg0KK0N0eEhlbHBDb250ZXh0RGV0
YWlsc19jb250ZXh0RGV0YWlscz1Db250ZXh0IERldGFpbHMNCitDdHhIZWxwQ29udGV4dERldGFp
bHNfZGVzY3JpcHRpb249RGVzY3JpcHRpb246DQorQ3R4SGVscENvbnRleHREZXRhaWxzX2lkPUlE
Og0KK0N0eEhlbHBDb250ZXh0RGV0YWlsc19zcGVjaWZ5RGVzY3JpcHRpb249U3BlY2lmeSB0aGUg
Y29udGV4dCBkZXNjcmlwdGlvbiB0aGF0IHdpbGwgYmUgZGlzcGxheWVkIHRvIHRoZSB1c2VyOg0K
K0N0eEhlbHBDb250ZXh0RGV0YWlsc19zcGVjaWZ5SUQ9U3BlY2lmeSB0aGUgaGVscCBjb250ZXh0
IGlkOg0KK0N0eEhlbHBDb250ZXh0RGV0YWlsc19zcGVjaWZ5VGl0bGU9T3ZlcnJpZGUgdGhlIGRl
ZmF1bHQgdGl0bGUgYnkgc3BlY2lmeWluZyBvbmUgaGVyZToNCitDdHhIZWxwQ29udGV4dERldGFp
bHNfdGl0bGU9VGl0bGU6DQorQ3R4SGVscERlc2NyaXB0aW9uRGV0YWlsc19kZXNjcmlwdGlvbj1E
ZXNjcmlwdGlvbjoNCitDdHhIZWxwRGVzY3JpcHRpb25EZXRhaWxzX3NwZWNpZnlEZXNjcmlwdGlv
bj1TcGVjaWZ5IHRoZSBjb250ZXh0IGRlc2NyaXB0aW9uIHRoYXQgd2lsbCBiZSBkaXNwbGF5ZWQg
dG8gdGhlIHVzZXI6DQorQ3R4SGVscFBhZ2VfY29udGV4dEhlbHA9Q29udGV4dCBIZWxwDQorQ3R4
SGVscFBhZ2VfZXJyb3JQYXJzaW5nPUFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHBhcnNpbmcgdGhl
IGNvbnRleHQgaGVscCB4bWwgZmlsZS4NCitDdHhIZWxwUGFnZV9mYWlsZWRUb0xvYWQ9RmFpbGVk
IHRvIGxvYWQgY29udGV4dCBoZWxwIGNvbnRlbnRzDQorQ3R4SGVscFRvcGljRGV0YWlsc19sYWJl
bD1MYWJlbDoNCitDdHhIZWxwVG9waWNEZXRhaWxzX2xvY2F0aW9uPUxvY2F0aW9uOg0KK0N0eEhl
bHBUb3BpY0RldGFpbHNfc3BlY2lmeUxhYmVsPVNwZWNpZnkgdGhlIGRpc3BsYXkgbGFiZWwgZm9y
IHRoaXMgdG9waWM6DQorQ3R4SGVscFRvcGljRGV0YWlsc19zcGVjaWZ5TG9jYXRpb249U3BlY2lm
eSB0aGUgbG9jYXRpb24gb2YgYW4gSFRNTCBmaWxlIGNvbnRhaW5pbmcgY29udGVudDoNCitDdHhI
ZWxwVHJlZVNlY3Rpb25fYWRkQ29tbWFuZD1BZGQgQ29tbWFuZA0KK0N0eEhlbHBUcmVlU2VjdGlv
bl9hZGRDb250ZXh0PUFkZCBDb250ZXh0DQorQ3R4SGVscFRyZWVTZWN0aW9uX2FkZFRvcGljPUFk
ZCBUb3BpYw0KK0N0eEhlbHBUcmVlU2VjdGlvbl9jb250ZXh0SGVscD1Db250ZXh0IEhlbHANCitD
dHhIZWxwVHJlZVNlY3Rpb25fZGVmYXVsdENvbW1hbmROYW1lPUhlbHBfQ29tbWFuZA0KK0N0eEhl
bHBUcmVlU2VjdGlvbl9kZWZhdWx0Q29udGV4dE5hbWU9SGVscF9Db250ZXh0DQorQ3R4SGVscFRy
ZWVTZWN0aW9uX2RlZmF1bHRUb3BpY05hbWU9SGVscF9Ub3BpYw0KK0N0eEhlbHBUcmVlU2VjdGlv
bl9lZGl0Q29udGV4dEhlbHBTdHJ1Y3R1cmU9RWRpdCB0aGUgc3RydWN0dXJlIG9mIHRoZSBjb250
ZXh0IGhlbHAgZmlsZSBpbiB0aGlzIHNlY3Rpb24uDQorQ3R4SGVscFRyZWVTZWN0aW9uX25ld0Nv
bW1hbmQ9Q29tbWFuZA0KK0N0eEhlbHBUcmVlU2VjdGlvbl9uZXdDb250ZXh0PUNvbnRleHQNCitD
dHhIZWxwVHJlZVNlY3Rpb25fbmV3VG9waWM9VG9waWMNCiBTdGF0ZVZpZXdQYWdlX3JlcXVpcmVk
QnVuZGxlcz1SZXF1aXJlZCBQbHVnLWlucw0KIFN0YXRlVmlld1BhZ2VfaW1wb3J0ZWRQYWNrYWdl
cz1JbXBvcnRlZCBQYWNrYWdlcw0KIFN0YXRlVmlld1BhZ2VfZm9jdXNBY3Rpb25Ub29sVGlwPUZv
Y3VzIG9uIHNlbGVjdGVkIGl0ZW0NCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFs
L3VpL0lQREVVSUNvbnN0YW50cy5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3Qv
ZWNsaXBzZS9vcmcuZWNsaXBzZS5wZGUudWkvc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91
aS9JUERFVUlDb25zdGFudHMuamF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuMzANCmRpZmYg
LXUgLXIxLjMwIElQREVVSUNvbnN0YW50cy5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL3BkZS9p
bnRlcm5hbC91aS9JUERFVUlDb25zdGFudHMuamF2YQkxNiBKYW4gMjAwOCAxNzowODozNyAtMDAw
MAkxLjMwDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9JUERFVUlDb25zdGFu
dHMuamF2YQkxNyBKYW4gMjAwOCAxODoxNTo1OSAtMDAwMA0KQEAgLTEsNSArMSw1IEBADQogLyoq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioNCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMDcgSUJNIENv
cnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDA4IElCTSBD
b3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJv
Z3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCiAgKiBhcmUgbWFkZSBhdmFpbGFi
bGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCiAg
KiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBh
dA0KQEAgLTI0LDYgKzI0LDcgQEANCiAJU3RyaW5nIFNJTVBMRV9DSEVBVF9TSEVFVF9FRElUT1Jf
SUQgPSBQTFVHSU5fSUQgKyAiLnNpbXBsZUNoZWF0U2hlZXRFZGl0b3IiOyAvLyROT04tTkxTLTEk
DQogCVN0cmluZyBDT01QT1NJVEVfQ0hFQVRfU0hFRVRfRURJVE9SX0lEID0gUExVR0lOX0lEICsg
Ii5jb21wb3NpdGVDaGVhdFNoZWV0RWRpdG9yIjsgLy8kTk9OLU5MUy0xJA0KIAlTdHJpbmcgVEFC
TEVfT0ZfQ09OVEVOVFNfRURJVE9SX0lEID0gUExVR0lOX0lEICsgIi50b2NFZGl0b3IiOyAvLyRO
T04tTkxTLTEkDQorCVN0cmluZyBDT05URVhUX0hFTFBfRURJVE9SX0lEID0gUExVR0lOX0lEICsg
Ii5oZWxwQ29udGV4dEVkaXRvciI7IC8vJE5PTi1OTFMtMSQNCiAJU3RyaW5nIFRBUkdFVF9FRElU
T1JfSUQgPSBQTFVHSU5fSUQgKyAiLnRhcmdldEVkaXRvciI7IC8vJE5PTi1OTFMtMSQNCiAJU3Ry
aW5nIFBMVUdJTlNfVklFV19JRCA9ICJvcmcuZWNsaXBzZS5wZGUudWkuUGx1Z2luc1ZpZXciOyAv
LyROT04tTkxTLTEkDQogCVN0cmluZyBERVBFTkRFTkNJRVNfVklFV19JRCA9ICJvcmcuZWNsaXBz
ZS5wZGUudWkuRGVwZW5kZW5jaWVzVmlldyI7IC8vJE5PTi1OTFMtMSQNCkluZGV4OiBzcmMvb3Jn
L2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL1BERVVJTWVzc2FnZXMuamF2YQ0KPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0K
UkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlwc2UucGRlLnVpL3NyYy9vcmcvZWNs
aXBzZS9wZGUvaW50ZXJuYWwvdWkvUERFVUlNZXNzYWdlcy5qYXZhLHYNCnJldHJpZXZpbmcgcmV2
aXNpb24gMS4zNTINCmRpZmYgLXUgLXIxLjM1MiBQREVVSU1lc3NhZ2VzLmphdmENCi0tLSBzcmMv
b3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL1BERVVJTWVzc2FnZXMuamF2YQkxNiBKYW4gMjAw
OCAwMDo1NTowMSAtMDAwMAkxLjM1Mg0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwv
dWkvUERFVUlNZXNzYWdlcy5qYXZhCTE3IEphbiAyMDA4IDE4OjE2OjAwIC0wMDAwDQpAQCAtMjgz
Myw2ICsyODMzLDcwIEBADQogDQogCXB1YmxpYyBzdGF0aWMgU3RyaW5nIENvbXBpbGVyc0NvbmZp
Z3VyYXRpb25UYWJfYnVpbGRQcm9wZXJ0aWVzRXJyb3JzOw0KIA0KKwlwdWJsaWMgc3RhdGljIFN0
cmluZyBDdHhIZWxwQ29tbWFuZERldGFpbHNfY29tbWFuZDsNCisNCisJcHVibGljIHN0YXRpYyBT
dHJpbmcgQ3R4SGVscENvbW1hbmREZXRhaWxzX2NvbW1hbmREZXRhaWxzOw0KKw0KKwlwdWJsaWMg
c3RhdGljIFN0cmluZyBDdHhIZWxwQ29tbWFuZERldGFpbHNfbGFiZWw7DQorDQorCXB1YmxpYyBz
dGF0aWMgU3RyaW5nIEN0eEhlbHBDb21tYW5kRGV0YWlsc19zcGVjaWZ5RGlzcGxheUxhYmVsOw0K
Kw0KKwlwdWJsaWMgc3RhdGljIFN0cmluZyBDdHhIZWxwQ29tbWFuZERldGFpbHNfc3BlY2lmeVRo
ZUNvbW1hbmQ7DQorDQorCXB1YmxpYyBzdGF0aWMgU3RyaW5nIEN0eEhlbHBDb250ZXh0RGV0YWls
c19jb250ZXh0RGV0YWlsczsNCisNCisJcHVibGljIHN0YXRpYyBTdHJpbmcgQ3R4SGVscENvbnRl
eHREZXRhaWxzX2Rlc2NyaXB0aW9uOw0KKw0KKwlwdWJsaWMgc3RhdGljIFN0cmluZyBDdHhIZWxw
Q29udGV4dERldGFpbHNfaWQ7DQorDQorCXB1YmxpYyBzdGF0aWMgU3RyaW5nIEN0eEhlbHBDb250
ZXh0RGV0YWlsc19zcGVjaWZ5RGVzY3JpcHRpb247DQorDQorCXB1YmxpYyBzdGF0aWMgU3RyaW5n
IEN0eEhlbHBDb250ZXh0RGV0YWlsc19zcGVjaWZ5SUQ7DQorDQorCXB1YmxpYyBzdGF0aWMgU3Ry
aW5nIEN0eEhlbHBDb250ZXh0RGV0YWlsc19zcGVjaWZ5VGl0bGU7DQorDQorCXB1YmxpYyBzdGF0
aWMgU3RyaW5nIEN0eEhlbHBDb250ZXh0RGV0YWlsc190aXRsZTsNCisNCisJcHVibGljIHN0YXRp
YyBTdHJpbmcgQ3R4SGVscERlc2NyaXB0aW9uRGV0YWlsc19kZXNjcmlwdGlvbjsNCisNCisJcHVi
bGljIHN0YXRpYyBTdHJpbmcgQ3R4SGVscERlc2NyaXB0aW9uRGV0YWlsc19zcGVjaWZ5RGVzY3Jp
cHRpb247DQorDQorCXB1YmxpYyBzdGF0aWMgU3RyaW5nIEN0eEhlbHBQYWdlX2NvbnRleHRIZWxw
Ow0KKw0KKwlwdWJsaWMgc3RhdGljIFN0cmluZyBDdHhIZWxwUGFnZV9lcnJvclBhcnNpbmc7DQor
DQorCXB1YmxpYyBzdGF0aWMgU3RyaW5nIEN0eEhlbHBQYWdlX2ZhaWxlZFRvTG9hZDsNCisNCisJ
cHVibGljIHN0YXRpYyBTdHJpbmcgQ3R4SGVscFRvcGljRGV0YWlsc19sYWJlbDsNCisNCisJcHVi
bGljIHN0YXRpYyBTdHJpbmcgQ3R4SGVscFRvcGljRGV0YWlsc19sb2NhdGlvbjsNCisNCisJcHVi
bGljIHN0YXRpYyBTdHJpbmcgQ3R4SGVscFRvcGljRGV0YWlsc19zcGVjaWZ5TGFiZWw7DQorDQor
CXB1YmxpYyBzdGF0aWMgU3RyaW5nIEN0eEhlbHBUb3BpY0RldGFpbHNfc3BlY2lmeUxvY2F0aW9u
Ow0KKw0KKwlwdWJsaWMgc3RhdGljIFN0cmluZyBDdHhIZWxwVHJlZVNlY3Rpb25fYWRkQ29tbWFu
ZDsNCisNCisJcHVibGljIHN0YXRpYyBTdHJpbmcgQ3R4SGVscFRyZWVTZWN0aW9uX2FkZENvbnRl
eHQ7DQorDQorCXB1YmxpYyBzdGF0aWMgU3RyaW5nIEN0eEhlbHBUcmVlU2VjdGlvbl9hZGRUb3Bp
YzsNCisNCisJcHVibGljIHN0YXRpYyBTdHJpbmcgQ3R4SGVscFRyZWVTZWN0aW9uX2NvbnRleHRI
ZWxwOw0KKw0KKwlwdWJsaWMgc3RhdGljIFN0cmluZyBDdHhIZWxwVHJlZVNlY3Rpb25fZGVmYXVs
dENvbW1hbmROYW1lOw0KKw0KKwlwdWJsaWMgc3RhdGljIFN0cmluZyBDdHhIZWxwVHJlZVNlY3Rp
b25fZGVmYXVsdENvbnRleHROYW1lOw0KKw0KKwlwdWJsaWMgc3RhdGljIFN0cmluZyBDdHhIZWxw
VHJlZVNlY3Rpb25fZGVmYXVsdFRvcGljTmFtZTsNCisNCisJcHVibGljIHN0YXRpYyBTdHJpbmcg
Q3R4SGVscFRyZWVTZWN0aW9uX2VkaXRDb250ZXh0SGVscFN0cnVjdHVyZTsNCisNCisJcHVibGlj
IHN0YXRpYyBTdHJpbmcgQ3R4SGVscFRyZWVTZWN0aW9uX25ld0NvbW1hbmQ7DQorDQorCXB1Ymxp
YyBzdGF0aWMgU3RyaW5nIEN0eEhlbHBUcmVlU2VjdGlvbl9uZXdDb250ZXh0Ow0KKw0KKwlwdWJs
aWMgc3RhdGljIFN0cmluZyBDdHhIZWxwVHJlZVNlY3Rpb25fbmV3VG9waWM7DQorDQogCXB1Ymxp
YyBzdGF0aWMgU3RyaW5nIFBsdWdpbnNWaWV3X2Rlc2NyaXB0aW9uOw0KIA0KIAlwdWJsaWMgc3Rh
dGljIFN0cmluZyBUYXJnZXRQcm9maWxlV2luZG93X2FkZGl0aW9uYWxMb2NhdGlvbnM7DQpJbmRl
eDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9QREVMYWJlbFByb3ZpZGVyLmphdmEN
Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9vdC9lY2xpcHNlL29yZy5lY2xpcHNlLnBkZS51
aS9zcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL1BERUxhYmVsUHJvdmlkZXIuamF2YSx2
DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuODkNCmRpZmYgLXUgLXIxLjg5IFBERUxhYmVsUHJvdmlk
ZXIuamF2YQ0KLS0tIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvUERFTGFiZWxQcm92
aWRlci5qYXZhCTQgSmFuIDIwMDggMjA6MTA6MTUgLTAwMDAJMS44OQ0KKysrIHNyYy9vcmcvZWNs
aXBzZS9wZGUvaW50ZXJuYWwvdWkvUERFTGFiZWxQcm92aWRlci5qYXZhCTE3IEphbiAyMDA4IDE4
OjE1OjU5IC0wMDAwDQpAQCAtMSw1ICsxLDUgQEANCiAvKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0K
LSAqIENvcHlyaWdodCAoYykgMjAwMCwgMjAwNyBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4N
CisgKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMu
DQogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55
aW5nIG1hdGVyaWFscw0KICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2Yg
dGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KICAqIHdoaWNoIGFjY29tcGFuaWVzIHRo
aXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQpAQCAtMjgsNiArMjgsNyBAQA0K
IGltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS5pY2hlYXRzaGVldC5jb21wLklD
b21wQ1NPYmplY3Q7DQogaW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLmljaGVh
dHNoZWV0LnNpbXBsZS5JU2ltcGxlQ1NDb25zdGFudHM7DQogaW1wb3J0IG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC5jb3JlLmljaGVhdHNoZWV0LnNpbXBsZS5JU2ltcGxlQ1NPYmplY3Q7DQoraW1w
b3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLmljdHhoZWxwLklDdHhIZWxwQ29uc3Rh
bnRzOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS5pZmVhdHVyZS4qOw0K
IGltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS5pcHJvZHVjdC5JUHJvZHVjdEZl
YXR1cmU7DQogaW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLmlwcm9kdWN0LklQ
cm9kdWN0UGx1Z2luOw0KQEAgLTM3LDYgKzM4LDcgQEANCiBpbXBvcnQgb3JnLmVjbGlwc2UucGRl
LmludGVybmFsLmNvcmUuaXRvYy5JVG9jQ29uc3RhbnRzOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5w
ZGUuaW50ZXJuYWwuY29yZS5wbHVnaW4uSW1wb3J0T2JqZWN0Ow0KIGltcG9ydCBvcmcuZWNsaXBz
ZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmJ1bmRsZS4qOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5w
ZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE9iamVjdDsNCiBpbXBvcnQgb3Jn
LmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC50b2MuVG9jT2JqZWN0Ow0KIGltcG9ydCBv
cmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS51dGlsLlBERVRleHRIZWxwZXI7DQogaW1wb3J0
IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lbGVtZW50cy5OYW1lZEVsZW1lbnQ7DQpAQCAt
OTMsNiArOTUsOSBAQA0KIAkJaWYgKG9iaiBpbnN0YW5jZW9mIFRvY09iamVjdCkgew0KIAkJCXJl
dHVybiBnZXRPYmplY3RUZXh0KChUb2NPYmplY3QpIG9iaik7DQogCQl9DQorCQlpZiAob2JqIGlu
c3RhbmNlb2YgQ3R4SGVscE9iamVjdCkgew0KKwkJCXJldHVybiBnZXRPYmplY3RUZXh0KChDdHhI
ZWxwT2JqZWN0KSBvYmopOw0KKwkJfQ0KIAkJaWYgKG9iaiBpbnN0YW5jZW9mIEZlYXR1cmVQbHVn
aW4pIHsNCiAJCQlyZXR1cm4gZ2V0T2JqZWN0VGV4dCgoRmVhdHVyZVBsdWdpbikgb2JqKTsNCiAJ
CX0NCkBAIC0yODgsNiArMjkzLDEzIEBADQogCQlyZXR1cm4gUERFVGV4dEhlbHBlci50cmFuc2xh
dGVSZWFkVGV4dChvYmouZ2V0TmFtZSgpKTsNCiAJfQ0KIA0KKwkvKioNCisJICogQHBhcmFtIG9i
ag0KKwkgKi8NCisJcHVibGljIFN0cmluZyBnZXRPYmplY3RUZXh0KEN0eEhlbHBPYmplY3Qgb2Jq
KSB7DQorCQlyZXR1cm4gUERFVGV4dEhlbHBlci50cmFuc2xhdGVSZWFkVGV4dChvYmouZ2V0TmFt
ZSgpKTsNCisJfQ0KKw0KIAlwdWJsaWMgU3RyaW5nIGdldE9iamVjdFRleHQoRmVhdHVyZVBsdWdp
biBvYmopIHsNCiAJCVN0cmluZyBuYW1lID0gaXNGdWxsTmFtZU1vZGVFbmFibGVkKCkgPyBvYmou
Z2V0TGFiZWwoKSA6IG9iai5nZXRJZCgpOw0KIAkJU3RyaW5nIHZlcnNpb24gPSBvYmouZ2V0VmVy
c2lvbigpOw0KQEAgLTQ0Miw2ICs0NTQsOSBAQA0KIAkJaWYgKG9iaiBpbnN0YW5jZW9mIFRvY09i
amVjdCkgew0KIAkJCXJldHVybiBnZXRPYmplY3RJbWFnZSgoVG9jT2JqZWN0KSBvYmopOw0KIAkJ
fQ0KKwkJaWYgKG9iaiBpbnN0YW5jZW9mIEN0eEhlbHBPYmplY3QpIHsNCisJCQlyZXR1cm4gZ2V0
T2JqZWN0SW1hZ2UoKEN0eEhlbHBPYmplY3QpIG9iaik7DQorCQl9DQogCQlpZiAob2JqIGluc3Rh
bmNlb2YgSVNjaGVtYUF0dHJpYnV0ZSkgew0KIAkJCXJldHVybiBnZXRPYmplY3RJbWFnZSgoSVNj
aGVtYUF0dHJpYnV0ZSkgb2JqKTsNCiAJCX0NCkBAIC03MTcsNiArNzMyLDMxIEBADQogCQl9DQog
CX0NCiANCisJLyoqDQorCSAqIEBwYXJhbSBvYmplY3QNCisJICovDQorCXByaXZhdGUgSW1hZ2Ug
Z2V0T2JqZWN0SW1hZ2UoQ3R4SGVscE9iamVjdCBvYmplY3QpIHsNCisJCXN3aXRjaCAob2JqZWN0
LmdldFR5cGUoKSkgew0KKwkJCWNhc2UgSUN0eEhlbHBDb25zdGFudHMuVFlQRV9ST09UIDogew0K
KwkJCQlyZXR1cm4gZ2V0KFBERVBsdWdpbkltYWdlcy5ERVNDX1RPQ19PQkopOw0KKwkJCX0NCisJ
CQljYXNlIElDdHhIZWxwQ29uc3RhbnRzLlRZUEVfQ09OVEVYVCA6IHsNCisJCQkJcmV0dXJuIGdl
dChQREVQbHVnaW5JbWFnZXMuREVTQ19DVFhIRUxQX0NPTlRFWFRfT0JKKTsNCisJCQl9DQorCQkJ
Y2FzZSBJQ3R4SGVscENvbnN0YW50cy5UWVBFX0RFU0NSSVBUSU9OIDogew0KKwkJCQlyZXR1cm4g
Z2V0KFBERVBsdWdpbkltYWdlcy5ERVNDX0NUWEhFTFBfREVTQ19PQkopOw0KKwkJCX0NCisJCQlj
YXNlIElDdHhIZWxwQ29uc3RhbnRzLlRZUEVfVE9QSUMgOiB7DQorCQkJCXJldHVybiBnZXQoUERF
UGx1Z2luSW1hZ2VzLkRFU0NfVE9DX0xFQUZUT1BJQ19PQkopOw0KKwkJCX0NCisJCQljYXNlIElD
dHhIZWxwQ29uc3RhbnRzLlRZUEVfQ09NTUFORCA6IHsNCisJCQkJcmV0dXJuIGdldChQREVQbHVn
aW5JbWFnZXMuREVTQ19DVFhIRUxQX0NPTU1BTkRfT0JKKTsNCisJCQl9DQorCQkJZGVmYXVsdCA6
DQorCQkJCXJldHVybiBnZXQoUERFUGx1Z2luSW1hZ2VzLkRFU0NfU0lNUExFQ1NfT0JKLCBGX0VS
Uk9SKTsNCisJCX0NCisJfQ0KKw0KIAlwcml2YXRlIEltYWdlIGdldE9iamVjdEltYWdlKElTY2hl
bWFFbGVtZW50IGVsZW1lbnQpIHsNCiAJCWludCBmbGFncyA9IDA7DQogCQlpZiAoZWxlbWVudCBp
bnN0YW5jZW9mIElTY2hlbWFPYmplY3RSZWZlcmVuY2UgJiYgKChJU2NoZW1hT2JqZWN0UmVmZXJl
bmNlKSBlbGVtZW50KS5nZXRSZWZlcmVuY2VkT2JqZWN0KCkgPT0gbnVsbCkNCkluZGV4OiBzcmMv
b3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL1BERVBsdWdpbkltYWdlcy5qYXZhDQo9PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9vcmcuZWNsaXBzZS5wZGUudWkvc3JjL29y
Zy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9QREVQbHVnaW5JbWFnZXMuamF2YSx2DQpyZXRyaWV2
aW5nIHJldmlzaW9uIDEuMTA1DQpkaWZmIC11IC1yMS4xMDUgUERFUGx1Z2luSW1hZ2VzLmphdmEN
Ci0tLSBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL1BERVBsdWdpbkltYWdlcy5qYXZh
CTE2IEphbiAyMDA4IDE3OjA4OjM3IC0wMDAwCTEuMTA1DQorKysgc3JjL29yZy9lY2xpcHNlL3Bk
ZS9pbnRlcm5hbC91aS9QREVQbHVnaW5JbWFnZXMuamF2YQkxNyBKYW4gMjAwOCAxODoxNTo1OSAt
MDAwMA0KQEAgLTEsNSArMSw1IEBADQogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCi0gKiBDb3B5
cmlnaHQgKGMpIDIwMDAsIDIwMDcgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQ29w
eXJpZ2h0IChjKSAyMDAwLCAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KICAqIEFs
bCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRl
cmlhbHMNCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xp
cHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3Ry
aWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KQEAgLTExMSw2ICsxMTEsMTAgQEANCiAJcHVi
bGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19UT0NfTElOS19PQkogPSBjcmVh
dGUoUEFUSF9PQkosICJ0b2NfbGlua19vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCiAJcHVibGlj
IHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19UT0NfQU5DSE9SX09CSiA9IGNyZWF0
ZShQQVRIX09CSiwgInRvY19hbmNob3Jfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQogDQorCXB1
YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfQ1RYSEVMUF9DT05URVhUX09C
SiA9IGNyZWF0ZShQQVRIX09CSiwgImN0eGhlbHBfY29udGV4dF9vYmouZ2lmIik7IC8vJE5PTi1O
TFMtMSQNCisJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVTQ19DVFhIRUxQ
X0RFU0NfT0JKID0gY3JlYXRlKFBBVEhfT0JKLCAiY3R4aGVscF9kZXNjX29iai5naWYiKTsgLy8k
Tk9OLU5MUy0xJA0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0NU
WEhFTFBfQ09NTUFORF9PQkogPSBjcmVhdGUoUEFUSF9PQkosICJjdHhoZWxwX2NvbW1hbmRfb2Jq
LmdpZiIpOyAvLyROT04tTkxTLTEkDQorDQogCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNj
cmlwdG9yIERFU0NfQ09NR1JPVVBfT0JKID0gY3JlYXRlKFBBVEhfT0JKLCAia2V5Z3JvdXBzX29i
ai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KIAlwdWJsaWMgc3RhdGljIGZpbmFsIEltYWdlRGVzY3Jp
cHRvciBERVNDX0dFTkNPTV9PQkogPSBjcmVhdGUoUEFUSF9PQkosICJjb21tYW5kX29iai5naWYi
KTsgLy8kTk9OLU5MUy0xJA0KIA0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwv
dWkvd2l6YXJkcy90b2MvVG9jSFRNTFdpemFyZFBhZ2UuamF2YQ0KPT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZp
bGU6IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlwc2UucGRlLnVpL3NyYy9vcmcvZWNsaXBzZS9w
ZGUvaW50ZXJuYWwvdWkvd2l6YXJkcy90b2MvVG9jSFRNTFdpemFyZFBhZ2UuamF2YSx2DQpyZXRy
aWV2aW5nIHJldmlzaW9uIDEuMw0KZGlmZiAtdSAtcjEuMyBUb2NIVE1MV2l6YXJkUGFnZS5qYXZh
DQotLS0gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS93aXphcmRzL3RvYy9Ub2NIVE1M
V2l6YXJkUGFnZS5qYXZhCTE2IEphbiAyMDA4IDE3OjA4OjI0IC0wMDAwCTEuMw0KKysrIHNyYy9v
cmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvd2l6YXJkcy90b2MvVG9jSFRNTFdpemFyZFBhZ2Uu
amF2YQkxNyBKYW4gMjAwOCAxODoxNjowMiAtMDAwMA0KQEAgLTEsNSArMSw1IEBADQogLyoqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioNCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDcgSUJNIENvcnBvcmF0aW9u
IGFuZCBvdGhlcnMuDQorICogQ29weXJpZ2h0IChjKSAyMDA3LCAyMDA4IElCTSBDb3Jwb3JhdGlv
biBhbmQgb3RoZXJzLg0KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQg
dGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIg
dGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCiAgKiB3aGljaCBh
Y2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KQEAgLTE2
LDcgKzE2LDcgQEANCiBpbXBvcnQgb3JnLmVjbGlwc2Uub3NnaS51dGlsLk5MUzsNCiBpbXBvcnQg
b3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLlBERVBsdWdpbjsNCiBpbXBvcnQgb3JnLmVjbGlw
c2UucGRlLmludGVybmFsLnVpLlBERVVJTWVzc2FnZXM7DQotaW1wb3J0IG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC51aS5lZGl0b3IudG9jLlRvY0V4dGVuc2lvblV0aWw7DQoraW1wb3J0IG9yZy5l
Y2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IudG9jLkhlbHBFZGl0b3JVdGlsOw0KIGltcG9y
dCBvcmcuZWNsaXBzZS5zd3Qud2lkZ2V0cy5Db21wb3NpdGU7DQogaW1wb3J0IG9yZy5lY2xpcHNl
LnVpLmRpYWxvZ3MuV2l6YXJkTmV3RmlsZUNyZWF0aW9uUGFnZTsNCiANCkBAIC01NSw5ICs1NSwx
MSBAQA0KIAkJCXJldHVybiBmYWxzZTsNCiAJCX0NCiANCi0JCWlmICghVG9jRXh0ZW5zaW9uVXRp
bC5oYXNWYWxpZFBhZ2VFeHRlbnNpb24obmV3IFBhdGgoZkxhc3RGaWxlbmFtZSkpKSB7DQotCQkJ
U3RyaW5nIG1lc3NhZ2UgPSBOTFMuYmluZChQREVVSU1lc3NhZ2VzLlRvY0hUTUxXaXphcmRQYWdl
X2JhZEV4dGVuc2lvbiwgVG9jRXh0ZW5zaW9uVXRpbC5nZXRQYWdlRXh0ZW5zaW9uTGlzdCgpKTsN
Ci0NCisJCWlmKCFIZWxwRWRpdG9yVXRpbC5oYXNWYWxpZFBhZ2VFeHRlbnNpb24obmV3IFBhdGgo
Zkxhc3RGaWxlbmFtZSkpKQ0KKwkJewlTdHJpbmcgbWVzc2FnZSA9IE5MUy5iaW5kKA0KKwkJCQlQ
REVVSU1lc3NhZ2VzLlRvY0hUTUxXaXphcmRQYWdlX2JhZEV4dGVuc2lvbiwgDQorCQkJCUhlbHBF
ZGl0b3JVdGlsLmdldFBhZ2VFeHRlbnNpb25MaXN0KCkpOw0KKwkJDQogCQkJc2V0RXJyb3JNZXNz
YWdlKG1lc3NhZ2UpOw0KIAkJCXJldHVybiBmYWxzZTsNCiAJCX0NCkluZGV4OiBwbHVnaW4ucHJv
cGVydGllcw0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlw
c2UucGRlLnVpL3BsdWdpbi5wcm9wZXJ0aWVzLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS4yMDgN
CmRpZmYgLXUgLXIxLjIwOCBwbHVnaW4ucHJvcGVydGllcw0KLS0tIHBsdWdpbi5wcm9wZXJ0aWVz
CTExIERlYyAyMDA3IDE4OjAzOjIyIC0wMDAwCTEuMjA4DQorKysgcGx1Z2luLnByb3BlcnRpZXMJ
MTcgSmFuIDIwMDggMTg6MTU6NTggLTAwMDANCkBAIC0xOTUsNiArMTk1LDcgQEANCiBjb21wb3Np
dGUuY2hlYXQuc2hlYXQuZWRpdG9yLm5hbWUgPSBDb21wb3NpdGUgQ2hlYXQgU2hlZXQgRWRpdG9y
DQogDQogdG9jLmVkaXRvciA9IFRhYmxlIG9mIENvbnRlbnRzIEVkaXRvcg0KK2N0eGhlbHAuZWRp
dG9yID0gQ29udGV4dCBIZWxwIEVkaXRvcg0KIA0KIHBhZ2UubmFtZS4wID0gT1NHaSBGcmFtZXdv
cmtzDQogDQpJbmRleDogcGx1Z2luLnhtbA0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290
L2VjbGlwc2Uvb3JnLmVjbGlwc2UucGRlLnVpL3BsdWdpbi54bWwsdg0KcmV0cmlldmluZyByZXZp
c2lvbiAxLjQzNQ0KZGlmZiAtdSAtcjEuNDM1IHBsdWdpbi54bWwNCi0tLSBwbHVnaW4ueG1sCTE0
IEphbiAyMDA4IDE2OjA0OjQ0IC0wMDAwCTEuNDM1DQorKysgcGx1Z2luLnhtbAkxNyBKYW4gMjAw
OCAxODoxNTo1OSAtMDAwMA0KQEAgLTQyMiw2ICs0MjIsMTcgQEANCiAgICAgICAgICAgICAgICBj
b250ZW50VHlwZUlkPSJvcmcuZWNsaXBzZS5wZGUudG9jRmlsZSI+DQogICAgICAgICAgPC9jb250
ZW50VHlwZUJpbmRpbmc+DQogICAgICAgPC9lZGl0b3I+DQorICAgICAgPGVkaXRvcg0KKyAgICAg
ICAgICAgIGNsYXNzPSJvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAu
Q3R4SGVscEVkaXRvciINCisgICAgICAgICAgICBjb250cmlidXRvckNsYXNzPSJvcmcuZWNsaXBz
ZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLnRvYy5Ub2NFZGl0b3JDb250cmlidXRvciINCisgICAg
ICAgICAgICBkZWZhdWx0PSJ0cnVlIg0KKyAgICAgICAgICAgIGljb249IiRubCQvaWNvbnMvb2Jq
MTYvdG9jX29iai5naWYiDQorICAgICAgICAgICAgaWQ9Im9yZy5lY2xpcHNlLnBkZS51aS5jdHhI
ZWxwRWRpdG9yIg0KKyAgICAgICAgICAgIG5hbWU9IiVjdHhoZWxwLmVkaXRvciI+DQorICAgICAg
ICAgPGNvbnRlbnRUeXBlQmluZGluZw0KKyAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlSWQ9Im9y
Zy5lY2xpcHNlLnBkZS5jdHhIZWxwRmlsZSI+DQorICAgICAgICAgPC9jb250ZW50VHlwZUJpbmRp
bmc+DQorICAgICAgPC9lZGl0b3I+DQogICAgPC9leHRlbnNpb24+DQogICAgPGV4dGVuc2lvbg0K
ICAgICAgICAgIHBvaW50PSJvcmcuZWNsaXBzZS51aS52aWV3cyI+DQpJbmRleDogc3JjL29yZy9l
Y2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhlbHBBYnN0
cmFjdERldGFpbHMuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHNyYy9vcmcvZWNsaXBzZS9w
ZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvZGV0YWlscy9DdHhIZWxwQWJzdHJhY3REZXRh
aWxzLmphdmENCmRpZmYgLU4gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3Iv
Y3R4aGVscC9kZXRhaWxzL0N0eEhlbHBBYnN0cmFjdERldGFpbHMuamF2YQ0KLS0tIC9kZXYvbnVs
bAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRl
cm5hbC91aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhlbHBBYnN0cmFjdERldGFpbHMuamF2
YQkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsxLDIxMiBAQA0KKy8qKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqDQorICogQ29weXJpZ2h0IChjKSAyMDA4IElCTSBDb3Jwb3JhdGlvbiBh
bmQgb3RoZXJzLg0KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhl
IGFjY29tcGFueWluZyBtYXRlcmlhbHMNCisgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhl
IHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2Nv
bXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6
Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQorICoNCisgKiBDb250cmlidXRv
cnM6DQorICogICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRh
dGlvbg0KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRl
LmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLmRldGFpbHM7DQorDQoraW1wb3J0IG9yZy5lY2xp
cHNlLmpmYWNlLnZpZXdlcnMuSVNlbGVjdGlvbjsNCitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2Uu
dmlld2Vycy5JU3RydWN0dXJlZFNlbGVjdGlvbjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmNv
cmUuSU1vZGVsQ2hhbmdlZEV2ZW50Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwu
dWkuZWRpdG9yLio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3Iu
Y3R4aGVscC5DdHhIZWxwVHJlZVNlY3Rpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5TV1Q7
DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5sYXlvdXQuR3JpZERhdGE7DQoraW1wb3J0IG9yZy5l
Y2xpcHNlLnN3dC53aWRnZXRzLkNvbXBvc2l0ZTsNCitpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0Lndp
ZGdldHMuTGFiZWw7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmZvcm1zLklGb3JtUGFydDsNCitp
bXBvcnQgb3JnLmVjbGlwc2UudWkuZm9ybXMud2lkZ2V0cy4qOw0KKw0KKy8qKg0KKyAqIEFic3Ry
YWN0IGRldGFpbHMgY2xhc3MgdGhhdCBhY3RzIGFzIHRoZSBiYXNlIGZvciB0aGUgZGV0YWlscyBz
ZWN0aW9uIG9mIHRoZSBjb250ZXh0DQorICogaGVscCBlZGl0b3IuICBUaGUgZGV0YWlscyBzZWN0
aW9uIHdpbGwgZGlzcGxheSBhIGZvcm0gc3BlY2lmaWMgdG8gdGhlIGN1cnJlbnQgdHJlZQ0KKyAq
IHNlbGVjdGlvbiwgYWxsb3dpbmcgdGhlIHVzZXIgdG8gZWRpdCB0aGUgZmllbGRzLg0KKyAqIEBz
aW5jZSAzLjQNCisgKi8NCitwdWJsaWMgYWJzdHJhY3QgY2xhc3MgQ3R4SGVscEFic3RyYWN0RGV0
YWlscyBleHRlbmRzIFBERURldGFpbHMgew0KKw0KKwkvKioNCisJICogTnVtYmVyIG9mIGNvbHVt
bnMgdGhlIGRldGFpbCBzZWN0aW9uIHdpbGwgaGF2ZQ0KKwkgKi8NCisJcHJpdmF0ZSBzdGF0aWMg
ZmluYWwgaW50IE5VTV9DT0xVTU5TID0gMzsNCisNCisJcHJpdmF0ZSBDdHhIZWxwVHJlZVNlY3Rp
b24gZk1hc3RlclNlY3Rpb247DQorCXByaXZhdGUgU2VjdGlvbiBmTWFpblNlY3Rpb247DQorCXBy
aXZhdGUgU3RyaW5nIGZDb250ZXh0SUQ7DQorDQorCXB1YmxpYyBDdHhIZWxwQWJzdHJhY3REZXRh
aWxzKEN0eEhlbHBUcmVlU2VjdGlvbiBtYXN0ZXJTZWN0aW9uLCBTdHJpbmcgY29udGV4dElEKSB7
DQorCQlmTWFzdGVyU2VjdGlvbiA9IG1hc3RlclNlY3Rpb247DQorCQlmQ29udGV4dElEID0gY29u
dGV4dElEOw0KKwkJZk1haW5TZWN0aW9uID0gbnVsbDsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFk
b2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UudWkuZm9ybXMuSURldGFpbHNQYWdlI2NyZWF0ZUNv
bnRlbnRzKG9yZy5lY2xpcHNlLnN3dC53aWRnZXRzLkNvbXBvc2l0ZSkNCisJICovDQorCXB1Ymxp
YyB2b2lkIGNyZWF0ZUNvbnRlbnRzKENvbXBvc2l0ZSBwYXJlbnQpIHsNCisJCXBhcmVudC5zZXRM
YXlvdXQoRm9ybUxheW91dEZhY3RvcnkuY3JlYXRlRGV0YWlsc0dyaWRMYXlvdXQoZmFsc2UsIDEp
KTsNCisJCWNyZWF0ZURldGFpbHMocGFyZW50KTsNCisJCWhvb2tMaXN0ZW5lcnMoKTsNCisJfQ0K
Kw0KKwkvKioNCisJICogQ3JlYXRlIHRoZSBVSSBlbGVtZW50cyBmb3IgdGhlIGRldGFpbCBzZWN0
aW9uDQorCSAqIEBwYXJhbSBwYXJlbnQgcGFyZW50IGNvbXBvc2l0ZSB0byBjcmVhdGUgdGhlIGRl
dGFpbHMgaW4NCisJICovDQorCXB1YmxpYyB2b2lkIGNyZWF0ZURldGFpbHMoQ29tcG9zaXRlIHBh
cmVudCkgeyAvLyBDcmVhdGUgdGhlIG1haW4gc2VjdGlvbg0KKwkJaW50IHN0eWxlID0gRXhwYW5k
YWJsZUNvbXBvc2l0ZS5USVRMRV9CQVI7DQorDQorCQlpZiAoZ2V0RGV0YWlsc0Rlc2NyaXB0aW9u
KCkgIT0gbnVsbCkNCisJCQlzdHlsZSB8PSBTZWN0aW9uLkRFU0NSSVBUSU9OOw0KKw0KKwkJZk1h
aW5TZWN0aW9uID0gZ2V0UGFnZSgpLmNyZWF0ZVVJU2VjdGlvbihwYXJlbnQsIGdldERldGFpbHNU
aXRsZSgpLCBnZXREZXRhaWxzRGVzY3JpcHRpb24oKSwgc3R5bGUpOw0KKwkJLy8gQWxpZ24gdGhl
IG1hc3RlciBhbmQgZGV0YWlscyBzZWN0aW9uIGhlYWRlcnMgKG1pc2FsaWdubWVudCBjYXVzZWQN
CisJCS8vIGJ5IHNlY3Rpb24gdG9vbGJhciBpY29ucykNCisJCWdldFBhZ2UoKS5hbGlnblNlY3Rp
b25IZWFkZXJzKGdldE1hc3RlclNlY3Rpb24oKS5nZXRTZWN0aW9uKCksIGZNYWluU2VjdGlvbik7
DQorCQkvLyBDcmVhdGUgdGhlIGNvbnRhaW5lciBmb3IgdGhlIG1haW4gc2VjdGlvbg0KKwkJQ29t
cG9zaXRlIHNlY3Rpb25DbGllbnQgPSBnZXRQYWdlKCkuY3JlYXRlVUlTZWN0aW9uQ29udGFpbmVy
KGZNYWluU2VjdGlvbiwgTlVNX0NPTFVNTlMpOw0KKwkJR3JpZERhdGEgZGF0YSA9IG5ldyBHcmlk
RGF0YShHcmlkRGF0YS5GSUxMX0JPVEgpOw0KKwkJZk1haW5TZWN0aW9uLnNldExheW91dERhdGEo
ZGF0YSk7DQorCQljcmVhdGVGaWVsZHMoc2VjdGlvbkNsaWVudCk7DQorDQorCQkvLyBCaW5kIHdp
ZGdldHMNCisJCWdldE1hbmFnZWRGb3JtKCkuZ2V0VG9vbGtpdCgpLnBhaW50Qm9yZGVyc0Zvcihz
ZWN0aW9uQ2xpZW50KTsNCisJCWZNYWluU2VjdGlvbi5zZXRDbGllbnQoc2VjdGlvbkNsaWVudCk7
DQorCQltYXJrRGV0YWlsc1BhcnQoZk1haW5TZWN0aW9uKTsNCisJfQ0KKw0KKwkvKioNCisJICog
U3ViY2xhc3NlcyBtdXN0IHVzZSB0aGlzIG1ldGhvZCB0byBjcmVhdGUgdGhlIGZpZWxkcyB0aGF0
IGFsbG93IHVzZXIgaW5wdXQuDQorCSAqIEBwYXJhbSBwYXJlbnQgcGFyZW50IGNvbXBvc2l0ZQ0K
KwkgKi8NCisJcHJvdGVjdGVkIGFic3RyYWN0IHZvaWQgY3JlYXRlRmllbGRzKENvbXBvc2l0ZSBw
YXJlbnQpOw0KKw0KKwkvKioNCisJICogQHJldHVybiB0aGUgdGl0bGUgdG8gZGlzcGxheSBhdCB0
aGUgdG9wIG9mIHRoZSBkZXRhaWxzIHNlY3Rpb24NCisJICovDQorCXByb3RlY3RlZCBhYnN0cmFj
dCBTdHJpbmcgZ2V0RGV0YWlsc1RpdGxlKCk7DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuIHRoZSBk
ZXNjcmlwdGlvbiB0byBkaXNwbGF5IGF0IHRoZSB0b3Agb2YgdGhlIGRldGFpbHMgc2VjdGlvbg0K
KwkgKi8NCisJcHJvdGVjdGVkIGFic3RyYWN0IFN0cmluZyBnZXREZXRhaWxzRGVzY3JpcHRpb24o
KTsNCisNCisJLyoqDQorCSAqIFN1YmNsYXNzZXMgc2hvdWxkIGFkZCB0aGVyZSBsaXN0ZW5lcnMg
Ynkgb3ZlcnJpZGluZyB0aGlzIG1ldGhvZC4NCisJICovDQorCXB1YmxpYyBhYnN0cmFjdCB2b2lk
IGhvb2tMaXN0ZW5lcnMoKTsNCisNCisJLyoqDQorCSAqIFN1YmNsYXNzZXMgc2hvdWxkIHVwZGF0
ZSB0aGUgZm9ybSBlbnRyaWVzIHVzaW5nIHRoZWlyIEN0eEhlbHBPYmplY3QuICBUaGlzIG1ldGhv
ZA0KKwkgKiBzaG91bGQgYmUgY2FsbGVkIGZyb20gc3ViY2xhc3NlcyBpbXBsZW1lbnRhdGlvbiBv
ZiB7QGxpbmsgI3NlbGVjdGlvbkNoYW5nZWQoSUZvcm1QYXJ0LCBJU2VsZWN0aW9uKX0NCisJICov
DQorCXB1YmxpYyBhYnN0cmFjdCB2b2lkIHVwZGF0ZUZpZWxkcygpOw0KKw0KKwkvKiAobm9uLUph
dmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UudWkuZm9ybXMuSVBhcnRTZWxlY3Rpb25MaXN0
ZW5lciNzZWxlY3Rpb25DaGFuZ2VkKG9yZy5lY2xpcHNlLnVpLmZvcm1zLklGb3JtUGFydCwgb3Jn
LmVjbGlwc2UuamZhY2Uudmlld2Vycy5JU2VsZWN0aW9uKQ0KKwkgKi8NCisJcHVibGljIHZvaWQg
c2VsZWN0aW9uQ2hhbmdlZChJRm9ybVBhcnQgcGFydCwgSVNlbGVjdGlvbiBzZWxlY3Rpb24pIHsN
CisJCS8vIE5PLU9QDQorCQkvLyBDaGlsZHJlbiB0byBvdmVycmlkZQ0KKwl9DQorDQorCS8qIChu
b24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9y
LklDb250ZXh0UGFydCNmaXJlU2F2ZU5lZWRlZCgpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBmaXJl
U2F2ZU5lZWRlZCgpIHsNCisJCW1hcmtEaXJ0eSgpOw0KKwkJZ2V0UGFnZSgpLmdldFBERUVkaXRv
cigpLmZpcmVTYXZlTmVlZGVkKGdldENvbnRleHRJZCgpLCBmYWxzZSk7DQorCX0NCisNCisJLyog
KG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0
b3IuSUNvbnRleHRQYXJ0I2dldENvbnRleHRJZCgpDQorCSAqLw0KKwlwdWJsaWMgU3RyaW5nIGdl
dENvbnRleHRJZCgpIHsNCisJCXJldHVybiBmQ29udGV4dElEOw0KKwl9DQorDQorCS8qIChub24t
SmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLklD
b250ZXh0UGFydCNnZXRQYWdlKCkNCisJICovDQorCXB1YmxpYyBQREVGb3JtUGFnZSBnZXRQYWdl
KCkgew0KKwkJcmV0dXJuIChQREVGb3JtUGFnZSkgZ2V0TWFuYWdlZEZvcm0oKS5nZXRDb250YWlu
ZXIoKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLnVpLmVkaXRvci5JQ29udGV4dFBhcnQjaXNFZGl0YWJsZSgpDQorCSAqLw0K
KwlwdWJsaWMgYm9vbGVhbiBpc0VkaXRhYmxlKCkgew0KKwkJcmV0dXJuIGZNYXN0ZXJTZWN0aW9u
LmlzRWRpdGFibGUoKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3Jn
LmVjbGlwc2UucGRlLmNvcmUuSU1vZGVsQ2hhbmdlZExpc3RlbmVyI21vZGVsQ2hhbmdlZChvcmcu
ZWNsaXBzZS5wZGUuY29yZS5JTW9kZWxDaGFuZ2VkRXZlbnQpDQorCSAqLw0KKwlwdWJsaWMgdm9p
ZCBtb2RlbENoYW5nZWQoSU1vZGVsQ2hhbmdlZEV2ZW50IGV2ZW50KSB7DQorCQkvLyBOTy1PUA0K
Kwl9DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuIHdoZXRoZXIgdGhlIHNlY3Rpb24gaXMgZWRpdGFi
bGUNCisJICovDQorCXB1YmxpYyBib29sZWFuIGlzRWRpdGFibGVFbGVtZW50KCkgew0KKwkJcmV0
dXJuIGZNYXN0ZXJTZWN0aW9uLmlzRWRpdGFibGUoKTsNCisJfQ0KKw0KKwkvKioNCisJICogQHJl
dHVybiB0aGUgdG9vbGtpdCB0byB1c2UgdG8gY3JlYXRlIHRoZSBmb3JtIGVsZW1lbnRzDQorCSAq
Lw0KKwlwdWJsaWMgRm9ybVRvb2xraXQgZ2V0VG9vbGtpdCgpIHsNCisJCXJldHVybiBnZXRNYW5h
Z2VkRm9ybSgpLmdldFRvb2xraXQoKTsNCisJfQ0KKw0KKwkvKioNCisJICogQHJldHVybiB0aGUg
dHJlZSBzZWN0aW9uIHRoYXQgY29udHJvbHMgdGhpcyBkZXRhaWxzIHNlY3Rpb24NCisJICovDQor
CXB1YmxpYyBDdHhIZWxwVHJlZVNlY3Rpb24gZ2V0TWFzdGVyU2VjdGlvbigpIHsNCisJCXJldHVy
biBmTWFzdGVyU2VjdGlvbjsNCisJfQ0KKw0KKwkvKioNCisJICogQ3JlYXRlIGEgbmV3IGxhYmVs
IGluIHRoZSBnaXZlbiBjb21wb3NpdGUgdXNpbmcgdGhlIGFwcHJvcHJpYXRlIHN0eWxlDQorCSAq
IGFzIGRlZmluZWQgYnkgdGhlIHRvb2xraXQuDQorCSAqIEBwYXJhbSBwYXJlbnQgY29tcG9zaXRl
IHRvIGNyZWF0ZSB0aGUgbGFiZWwgaW4NCisJICogQHBhcmFtIHRvb2xraXQgdG9vbGtpdCB0aGF0
IHdpbGwgZGVmaW5lIHRoZSBzdHlsZSBvZiB0aGUgbGFiZWwNCisJICogQHBhcmFtIHRleHQgbGFi
ZWwgdGV4dA0KKwkgKi8NCisJcHJvdGVjdGVkIHZvaWQgY3JlYXRlTGFiZWwoQ29tcG9zaXRlIHBh
cmVudCwgRm9ybVRvb2xraXQgdG9vbGtpdCwgU3RyaW5nIHRleHQpIHsNCisJCUxhYmVsIGxhYmVs
ID0gdG9vbGtpdC5jcmVhdGVMYWJlbChwYXJlbnQsIHRleHQsIFNXVC5XUkFQKTsNCisJCUdyaWRE
YXRhIGdkID0gbmV3IEdyaWREYXRhKFNXVC5GSUxMLCBTV1QuQ0VOVEVSLCB0cnVlLCBmYWxzZSk7
DQorCQlnZC5ob3Jpem9udGFsU3BhbiA9IE5VTV9DT0xVTU5TOw0KKwkJbGFiZWwuc2V0TGF5b3V0
RGF0YShnZCk7DQorCX0NCisNCisJLyoqDQorCSAqIENyZWF0ZXMgYW4gZW1wdHkgbGFiZWwgZ2Vu
ZXJhdGluZyBlbXB0eSBzcGFjZSBpbiB0aGUgcGFyZW50IGNvbXBvc2l0ZS4NCisJICogQHBhcmFt
IHBhcmVudCBjb21wb3NpdGUgdG8gY3JlYXRlIHRoZSBzcGFjZSBpbg0KKwkgKi8NCisJcHJvdGVj
dGVkIHZvaWQgY3JlYXRlU3BhY2UoQ29tcG9zaXRlIHBhcmVudCkgew0KKwkJY3JlYXRlTGFiZWwo
cGFyZW50LCBnZXRNYW5hZ2VkRm9ybSgpLmdldFRvb2xraXQoKSwgIiIpOyAvLyROT04tTkxTLTEk
DQorCX0NCisNCisJLyoqDQorCSAqIFJldHVybnMgdGhlIGZpcnN0IG9iamVjdCBmcm9tIHRoZSBz
ZWxlY3Rpb24gb3IgPGNvZGU+bnVsbDwvY29kZT4uDQorCSAqIEBwYXJhbSBzZWxlY3Rpb24gc2Vs
ZWN0aW9uIHRvIGdldCB0aGUgb2JqZWN0IGZyb20NCisJICogQHJldHVybiBmaXJzdCBvYmplY3Qg
aW4gdGhlIHNlbGVjdGlvbiBvciA8Y29kZT5udWxsPC9jb2RlPg0KKwkgKi8NCisJcHJvdGVjdGVk
IE9iamVjdCBnZXRGaXJzdFNlbGVjdGVkT2JqZWN0KElTZWxlY3Rpb24gc2VsZWN0aW9uKSB7DQor
CQkvLyBHZXQgdGhlIHN0cnVjdHVyZWQgc2VsZWN0aW9uIChvYnRhaW5lZCBmcm9tIHRoZSBtYXN0
ZXIgdHJlZSB2aWV3ZXIpDQorCQlJU3RydWN0dXJlZFNlbGVjdGlvbiBzdHJ1Y3R1cmVkU2VsID0g
KChJU3RydWN0dXJlZFNlbGVjdGlvbikgc2VsZWN0aW9uKTsNCisJCS8vIEVuc3VyZSB3ZSBoYXZl
IGEgc2VsZWN0aW9uDQorCQlpZiAoc3RydWN0dXJlZFNlbCA9PSBudWxsKSB7DQorCQkJcmV0dXJu
IG51bGw7DQorCQl9DQorCQlyZXR1cm4gc3RydWN0dXJlZFNlbC5nZXRGaXJzdEVsZW1lbnQoKTsN
CisJfQ0KKw0KK30NCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRv
ci9jdHhoZWxwL0N0eEhlbHBGb3JtT3V0bGluZVBhZ2UuamF2YQ0KPT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZp
bGU6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVs
cEZvcm1PdXRsaW5lUGFnZS5qYXZhDQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJu
YWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscEZvcm1PdXRsaW5lUGFnZS5qYXZhDQotLS0gL2Rl
di9udWxsCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRl
L2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBGb3JtT3V0bGluZVBhZ2UuamF2YQkx
IEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsxLDgxIEBADQorLyoqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIwMDggSUJNIENvcnBvcmF0aW9uIGFuZCBv
dGhlcnMuDQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNj
b21wYW55aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVy
bXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29tcGFu
aWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDovL3d3
dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9yczoN
CisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9u
DQorICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKiovDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50
ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHA7DQorDQoraW1wb3J0IGphdmEudXRpbC5MaXN0Ow0KK2lt
cG9ydCBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklMYWJlbFByb3ZpZGVyOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE1vZGVsOw0K
K2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVs
cE9iamVjdDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudXRpbC5QREVU
ZXh0SGVscGVyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLkZv
cm1PdXRsaW5lUGFnZTsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRv
ci5QREVGb3JtRWRpdG9yOw0KKw0KKy8qKg0KKyAqIFRoZSBvdXRsaW5lIHBhZ2UgZm9yIHRoZSBj
b250ZXh0IGhlbHAgZWRpdG9yDQorICogQHNpbmNlIDMuNA0KKyAqIEBzZWUgQ3R4SGVscEVkaXRv
cg0KKyAqLw0KK3B1YmxpYyBjbGFzcyBDdHhIZWxwRm9ybU91dGxpbmVQYWdlIGV4dGVuZHMgRm9y
bU91dGxpbmVQYWdlIHsNCisNCisJcHVibGljIEN0eEhlbHBGb3JtT3V0bGluZVBhZ2UoUERFRm9y
bUVkaXRvciBlZGl0b3IpIHsNCisJCXN1cGVyKGVkaXRvcik7DQorCX0NCisNCisJLyoqDQorCSAq
IExhYmVsIHByb3ZpZGVyIGZvciB0aGUgb3V0bGluZQ0KKwkgKiBAYXV0aG9yIGN3aW5kYXR0DQor
CSAqDQorCSAqLw0KKwlwcml2YXRlIGNsYXNzIEN0eEhlbHBMYWJlbFByb3ZpZGVyIGV4dGVuZHMg
QmFzaWNMYWJlbFByb3ZpZGVyIHsNCisJCXB1YmxpYyBTdHJpbmcgZ2V0VGV4dChPYmplY3Qgb2Jq
KSB7DQorCQkJaWYgKG9iaiBpbnN0YW5jZW9mIEN0eEhlbHBPYmplY3QpIHsNCisJCQkJcmV0dXJu
IFBERVRleHRIZWxwZXIudHJhbnNsYXRlUmVhZFRleHQoKChDdHhIZWxwT2JqZWN0KSBvYmopLmdl
dE5hbWUoKSk7DQorCQkJfQ0KKwkJCXJldHVybiBzdXBlci5nZXRUZXh0KG9iaik7DQorCQl9DQor
CX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC51aS5lZGl0b3IuRm9ybU91dGxpbmVQYWdlI2dldENoaWxkcmVuKGphdmEubGFuZy5PYmpl
Y3QpDQorCSAqLw0KKwlwcm90ZWN0ZWQgT2JqZWN0W10gZ2V0Q2hpbGRyZW4oT2JqZWN0IHBhcmVu
dCkgew0KKwkJaWYgKHBhcmVudCBpbnN0YW5jZW9mIEN0eEhlbHBQYWdlKSB7DQorCQkJQ3R4SGVs
cE1vZGVsIG1vZGVsID0gKEN0eEhlbHBNb2RlbCkgZkVkaXRvci5nZXRBZ2dyZWdhdGVNb2RlbCgp
Ow0KKwkJCWlmIChtb2RlbCAhPSBudWxsICYmIG1vZGVsLmlzTG9hZGVkKCkpIHsNCisJCQkJT2Jq
ZWN0W10gbGlzdCA9IG5ldyBPYmplY3RbMV07DQorCQkJCWxpc3RbMF0gPSBtb2RlbC5nZXRDdHhI
ZWxwUm9vdCgpOw0KKwkJCQlyZXR1cm4gbGlzdDsNCisJCQl9DQorCQl9IGVsc2UgaWYgKHBhcmVu
dCBpbnN0YW5jZW9mIEN0eEhlbHBPYmplY3QpIHsNCisJCQlMaXN0IGxpc3QgPSAoKEN0eEhlbHBP
YmplY3QpIHBhcmVudCkuZ2V0Q2hpbGRyZW4oKTsNCisJCQkvLyBMaXN0IGlzIG5ldmVyIG51bGwN
CisJCQlpZiAobGlzdC5zaXplKCkgPiAwKSB7DQorCQkJCXJldHVybiBsaXN0LnRvQXJyYXkoKTsN
CisJCQl9DQorCQl9DQorDQorCQlyZXR1cm4gc3VwZXIuZ2V0Q2hpbGRyZW4ocGFyZW50KTsNCisJ
fQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVy
bmFsLnVpLmVkaXRvci5Gb3JtT3V0bGluZVBhZ2UjY3JlYXRlTGFiZWxQcm92aWRlcigpDQorCSAq
Lw0KKwlwdWJsaWMgSUxhYmVsUHJvdmlkZXIgY3JlYXRlTGFiZWxQcm92aWRlcigpIHsNCisJCXJl
dHVybiBuZXcgQ3R4SGVscExhYmVsUHJvdmlkZXIoKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFk
b2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5Gb3JtT3V0
bGluZVBhZ2UjZ2V0UGFyZW50UGFnZUlkKGphdmEubGFuZy5PYmplY3QpDQorCSAqLw0KKwlwcm90
ZWN0ZWQgU3RyaW5nIGdldFBhcmVudFBhZ2VJZChPYmplY3QgaXRlbSkgew0KKwkJcmV0dXJuIEN0
eEhlbHBQYWdlLlBBR0VfSUQ7DQorCX0NCit9DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9p
bnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwUGFnZS5qYXZhDQo9PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpS
Q1MgZmlsZTogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9D
dHhIZWxwUGFnZS5qYXZhDQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkv
ZWRpdG9yL2N0eGhlbHAvQ3R4SGVscFBhZ2UuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcw
IDAwOjAwOjAwIC0wMDAwDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0
b3IvY3R4aGVscC9DdHhIZWxwUGFnZS5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBA
IC0wLDAgKzEsMTU0IEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQg
KGMpIDIwMDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyByZXNl
cnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAqIGFy
ZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExp
Y2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQg
aXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEw
Lmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0g
aW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiov
DQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHA7DQor
DQoraW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQuc291cmNlLklTb3VyY2VWaWV3ZXI7DQor
aW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnZpZXdlcnMuSVNlbGVjdGlvbjsNCitpbXBvcnQgb3Jn
LmVjbGlwc2UuamZhY2Uudmlld2Vycy5TdHJ1Y3R1cmVkU2VsZWN0aW9uOw0KK2ltcG9ydCBvcmcu
ZWNsaXBzZS5wZGUuY29yZS5JTW9kZWxDaGFuZ2VkRXZlbnQ7DQoraW1wb3J0IG9yZy5lY2xpcHNl
LnBkZS5jb3JlLklNb2RlbENoYW5nZWRMaXN0ZW5lcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRl
LmludGVybmFsLmNvcmUudGV4dC4qOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwu
Y29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE1vZGVsOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE9iamVjdDsNCitpbXBvcnQgb3JnLmVj
bGlwc2UucGRlLmludGVybmFsLnVpLio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5h
bC51aS5lZGl0b3IuUERFRm9ybVBhZ2U7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5h
bC51aS5lZGl0b3IuUERFTWFzdGVyRGV0YWlsc0Jsb2NrOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5z
d3QuY3VzdG9tLlN0eWxlZFRleHQ7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmZvcm1zLklNYW5h
Z2VkRm9ybTsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWkuZm9ybXMuZWRpdG9yLkZvcm1FZGl0b3I7
DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmZvcm1zLmVkaXRvci5JRm9ybVBhZ2U7DQoraW1wb3J0
IG9yZy5lY2xpcHNlLnVpLmZvcm1zLndpZGdldHMuU2Nyb2xsZWRGb3JtOw0KKw0KKy8qKg0KKyAq
IFRoZSBtYWluIHBhZ2UgZm9yIHRoZSBjb250ZXh0IGhlbHAgZWRpdG9yLiAgQ29udGFpbnMgYSB0
cmVlIGRpc3BsYXlpbmcgdGhlIA0KKyAqIHN0cnVjdHVyZSBvZiB0aGUgeG1sIGFuZCBhIGRldGFp
bHMgc2VjdGlvbi4gIFVJIGVsZW1lbnRzIGFyZSBoYW5kbGVkIGJ5IA0KKyAqIEN0eEhlbHBCbG9j
ay4NCisgKiBAc2luY2UgMy40DQorICogQHNlZSBDdHhIZWxwRWRpdG9yDQorICogQHNlZSBDdHhI
ZWxwQmxvY2sNCisgKi8NCitwdWJsaWMgY2xhc3MgQ3R4SGVscFBhZ2UgZXh0ZW5kcyBQREVGb3Jt
UGFnZSBpbXBsZW1lbnRzIElNb2RlbENoYW5nZWRMaXN0ZW5lciB7DQorCXB1YmxpYyBzdGF0aWMg
ZmluYWwgU3RyaW5nIFBBR0VfSUQgPSAiY3R4SGVscFBhZ2UiOyAvLyROT04tTkxTLTEkDQorDQor
CXByaXZhdGUgQ3R4SGVscEJsb2NrIGZCbG9jazsNCisNCisJcHVibGljIEN0eEhlbHBQYWdlKEZv
cm1FZGl0b3IgZWRpdG9yKSB7DQorCQlzdXBlcihlZGl0b3IsIFBBR0VfSUQsIFBERVVJTWVzc2Fn
ZXMuVG9jUGFnZV90aXRsZSk7DQorCQlmQmxvY2sgPSBuZXcgQ3R4SGVscEJsb2NrKHRoaXMpOw0K
Kwl9DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuIHRoZSBDdHhIZWxwQmxvY2sgY29udGFpbmluZyB1
aSBlbGVtZW50cw0KKwkgKi8NCisJcHVibGljIFBERU1hc3RlckRldGFpbHNCbG9jayBnZXRCbG9j
aygpIHsNCisJCXJldHVybiBmQmxvY2s7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkg
KiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFRm9ybVBhZ2UjY3Jl
YXRlRm9ybUNvbnRlbnQob3JnLmVjbGlwc2UudWkuZm9ybXMuSU1hbmFnZWRGb3JtKQ0KKwkgKi8N
CisJcHJvdGVjdGVkIHZvaWQgY3JlYXRlRm9ybUNvbnRlbnQoSU1hbmFnZWRGb3JtIG1hbmFnZWRG
b3JtKSB7DQorCQlTY3JvbGxlZEZvcm0gZm9ybSA9IG1hbmFnZWRGb3JtLmdldEZvcm0oKTsNCisJ
CUN0eEhlbHBNb2RlbCBtb2RlbCA9IChDdHhIZWxwTW9kZWwpIGdldE1vZGVsKCk7DQorDQorCQkv
LyBFbnN1cmUgdGhlIG1vZGVsIHdhcyBsb2FkZWQgcHJvcGVybHkNCisJCWlmICgobW9kZWwgPT0g
bnVsbCkgfHwgKG1vZGVsLmlzTG9hZGVkKCkgPT0gZmFsc2UpKSB7DQorCQkJY3JlYXRlRm9ybUVy
cm9yQ29udGVudChtYW5hZ2VkRm9ybSwgUERFVUlNZXNzYWdlcy5DdHhIZWxwUGFnZV9mYWlsZWRU
b0xvYWQsIFBERVVJTWVzc2FnZXMuQ3R4SGVscFBhZ2VfZXJyb3JQYXJzaW5nLCBudWxsKTsNCisJ
CQlyZXR1cm47DQorCQl9DQorDQorCQkvLyBUT0RPIEFkZCBIZWxwIGNvbnRleHQNCisJCS8vCQlQ
bGF0Zm9ybVVJLmdldFdvcmtiZW5jaCgpLmdldEhlbHBTeXN0ZW0oKS5zZXRIZWxwKGZvcm0uZ2V0
Qm9keSgpLCBJSGVscENvbnRleHRJZHMuVE9DX0VESVRPUik7DQorDQorCQkvLyBDcmVhdGUgdGhl
IHJlc3Qgb2YgdGhlIGFjdGlvbnMgaW4gdGhlIGZvcm0gdGl0bGUgYXJlYQ0KKwkJc3VwZXIuY3Jl
YXRlRm9ybUNvbnRlbnQobWFuYWdlZEZvcm0pOw0KKwkJLy8gRm9ybSBpbWFnZQ0KKwkJZm9ybS5z
ZXRJbWFnZShQREVQbHVnaW4uZ2V0RGVmYXVsdCgpLmdldExhYmVsUHJvdmlkZXIoKS5nZXQoUERF
UGx1Z2luSW1hZ2VzLkRFU0NfQ1RYSEVMUF9DT05URVhUX09CSikpOw0KKwkJZm9ybS5zZXRUZXh0
KFBERVVJTWVzc2FnZXMuQ3R4SGVscFBhZ2VfY29udGV4dEhlbHApOw0KKwkJLy8gQ3JlYXRlIHRo
ZSBtYXN0ZXIgZGV0YWlscyBibG9jaw0KKwkJZkJsb2NrLmNyZWF0ZUNvbnRlbnQobWFuYWdlZEZv
cm0pOw0KKwkJLy8gRm9yY2UgdGhlIHNlbGVjdGlvbiBpbiB0aGUgbWFzdGVycyB0cmVlIHNlY3Rp
b24gdG8gbG9hZCB0aGUgDQorCQkvLyBwcm9wZXIgZGV0YWlscyBzZWN0aW9uDQorCQlmQmxvY2su
Z2V0TWFzdGVyU2VjdGlvbigpLmZpcmVTZWxlY3Rpb24oKTsNCisJCS8vIFJlZ2lzdGVyIHRoaXMg
cGFnZSB0byBiZSBpbmZvcm1lZCBvZiBtb2RlbCBjaGFuZ2UgZXZlbnRzDQorCQltb2RlbC5hZGRN
b2RlbENoYW5nZWRMaXN0ZW5lcih0aGlzKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQor
CSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5QREVGb3JtUGFnZSNk
aXNwb3NlKCkNCisJICovDQorCXB1YmxpYyB2b2lkIGRpc3Bvc2UoKSB7DQorCQlDdHhIZWxwTW9k
ZWwgbW9kZWwgPSAoQ3R4SGVscE1vZGVsKSBnZXRNb2RlbCgpOw0KKwkJaWYgKG1vZGVsICE9IG51
bGwpIHsNCisJCQltb2RlbC5yZW1vdmVNb2RlbENoYW5nZWRMaXN0ZW5lcih0aGlzKTsNCisJCX0N
CisJCXN1cGVyLmRpc3Bvc2UoKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBz
ZWUgb3JnLmVjbGlwc2UucGRlLmNvcmUuSU1vZGVsQ2hhbmdlZExpc3RlbmVyI21vZGVsQ2hhbmdl
ZChvcmcuZWNsaXBzZS5wZGUuY29yZS5JTW9kZWxDaGFuZ2VkRXZlbnQpDQorCSAqLw0KKwlwdWJs
aWMgdm9pZCBtb2RlbENoYW5nZWQoSU1vZGVsQ2hhbmdlZEV2ZW50IGV2ZW50KSB7DQorCQlmQmxv
Y2subW9kZWxDaGFuZ2VkKGV2ZW50KTsNCisJfQ0KKw0KKwkvKioNCisJICogQHJldHVybiB0aGUg
Y3VycmVudCBzZWxlY3Rpb24gb2YgdGhlIHVpIGJsb2NrDQorCSAqLw0KKwlwdWJsaWMgSVNlbGVj
dGlvbiBnZXRTZWxlY3Rpb24oKSB7DQorCQlyZXR1cm4gZkJsb2NrLmdldFNlbGVjdGlvbigpOw0K
Kwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50
ZXJuYWwudWkuZWRpdG9yLlBERUZvcm1QYWdlI3NldEFjdGl2ZShib29sZWFuKQ0KKwkgKi8NCisJ
cHVibGljIHZvaWQgc2V0QWN0aXZlKGJvb2xlYW4gYWN0aXZlKSB7DQorCQlzdXBlci5zZXRBY3Rp
dmUoYWN0aXZlKTsNCisJCWlmIChhY3RpdmUpIHsNCisJCQlJRm9ybVBhZ2UgcGFnZSA9IGdldFBE
RUVkaXRvcigpLmZpbmRQYWdlKEN0eEhlbHBJbnB1dENvbnRleHQuQ09OVEVYVF9JRCk7DQorCQkJ
aWYgKHBhZ2UgaW5zdGFuY2VvZiBDdHhIZWxwU291cmNlUGFnZSAmJiAoKEN0eEhlbHBTb3VyY2VQ
YWdlKSBwYWdlKS5nZXRJbnB1dENvbnRleHQoKS5pc0luU291cmNlTW9kZSgpKSB7DQorCQkJCUlT
b3VyY2VWaWV3ZXIgdmlld2VyID0gKChDdHhIZWxwU291cmNlUGFnZSkgcGFnZSkuZ2V0Vmlld2Vy
KCk7DQorCQkJCWlmICh2aWV3ZXIgPT0gbnVsbCkgew0KKwkJCQkJcmV0dXJuOw0KKwkJCQl9DQor
DQorCQkJCVN0eWxlZFRleHQgdGV4dCA9IHZpZXdlci5nZXRUZXh0V2lkZ2V0KCk7DQorCQkJCWlm
ICh0ZXh0ID09IG51bGwpIHsNCisJCQkJCXJldHVybjsNCisJCQkJfQ0KKw0KKwkJCQlpbnQgb2Zm
c2V0ID0gdGV4dC5nZXRDYXJldE9mZnNldCgpOw0KKwkJCQlpZiAob2Zmc2V0IDwgMCkgew0KKwkJ
CQkJcmV0dXJuOw0KKwkJCQl9DQorDQorCQkJCUlEb2N1bWVudFJhbmdlIHJhbmdlID0gKChDdHhI
ZWxwU291cmNlUGFnZSkgcGFnZSkuZ2V0UmFuZ2VFbGVtZW50KG9mZnNldCwgdHJ1ZSk7DQorCQkJ
CWlmIChyYW5nZSBpbnN0YW5jZW9mIElEb2N1bWVudEF0dHJpYnV0ZU5vZGUpIHsNCisJCQkJCXJh
bmdlID0gKChJRG9jdW1lbnRBdHRyaWJ1dGVOb2RlKSByYW5nZSkuZ2V0RW5jbG9zaW5nRWxlbWVu
dCgpOw0KKwkJCQl9IGVsc2UgaWYgKHJhbmdlIGluc3RhbmNlb2YgSURvY3VtZW50VGV4dE5vZGUp
IHsNCisJCQkJCXJhbmdlID0gKChJRG9jdW1lbnRUZXh0Tm9kZSkgcmFuZ2UpLmdldEVuY2xvc2lu
Z0VsZW1lbnQoKTsNCisJCQkJfQ0KKw0KKwkJCQlpZiAocmFuZ2UgaW5zdGFuY2VvZiBDdHhIZWxw
T2JqZWN0KSB7DQorCQkJCQlmQmxvY2suZ2V0TWFzdGVyU2VjdGlvbigpLnNldFNlbGVjdGlvbihu
ZXcgU3RydWN0dXJlZFNlbGVjdGlvbihyYW5nZSkpOw0KKwkJCQl9DQorCQkJfQ0KKwkJfQ0KKwl9
DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwudWkuZWRpdG9yLlBERUZvcm1QYWdlI2dldEhlbHBSZXNvdXJjZSgpDQorCSAqLw0KKwlwcm90
ZWN0ZWQgU3RyaW5nIGdldEhlbHBSZXNvdXJjZSgpIHsNCisJCS8vIFRPRE8gRml4IGhlbHANCisJ
CXJldHVybiBJUERFVUlDb25zdGFudHMuUExVR0lOX0RPQ19ST09UICsgImd1aWRlL3Rvb2xzL2Vk
aXRvcnMvdG9jX2VkaXRvci9wYWdlX3RvYy5odG0iOyAvLyROT04tTkxTLTEkDQorCX0NCit9DQpJ
bmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhI
ZWxwSW5wdXRDb250ZXh0TWFuYWdlci5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogc3JjL29y
Zy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwSW5wdXRDb250
ZXh0TWFuYWdlci5qYXZhDQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkv
ZWRpdG9yL2N0eGhlbHAvQ3R4SGVscElucHV0Q29udGV4dE1hbmFnZXIuamF2YQ0KLS0tIC9kZXYv
bnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9p
bnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwSW5wdXRDb250ZXh0TWFuYWdlci5qYXZh
CTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsNDAgQEANCisvKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5k
IG90aGVycy4NCisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBh
Y2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0
ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21w
YW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8v
d3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3Jz
Og0KKyAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRp
b24NCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5p
bnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscDsNCisNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmNv
cmUuSUJhc2VNb2RlbDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRv
ci5QREVGb3JtRWRpdG9yOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLmNvbnRleHQuSW5wdXRDb250ZXh0Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwudWkuZWRpdG9yLmNvbnRleHQuSW5wdXRDb250ZXh0TWFuYWdlcjsNCisNCisvKioNCisgKiBJ
bnB1dCBjb250ZXh0IG1hbmFnZXIgZm9yIHRoZSBjb250ZXh0IGhlbHAgZWRpdG9yLg0KKyAqIEBz
aW5jZSAzLjQNCisgKiBAc2VlIEN0eEhlbHBFZGl0b3INCisgKi8NCitwdWJsaWMgY2xhc3MgQ3R4
SGVscElucHV0Q29udGV4dE1hbmFnZXIgZXh0ZW5kcyBJbnB1dENvbnRleHRNYW5hZ2VyIHsNCisN
CisJcHVibGljIEN0eEhlbHBJbnB1dENvbnRleHRNYW5hZ2VyKFBERUZvcm1FZGl0b3IgZWRpdG9y
KSB7DQorCQlzdXBlcihlZGl0b3IpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICog
QHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmNvbnRleHQuSW5wdXRDb250
ZXh0TWFuYWdlciNnZXRBZ2dyZWdhdGVNb2RlbCgpDQorCSAqLw0KKwlwdWJsaWMgSUJhc2VNb2Rl
bCBnZXRBZ2dyZWdhdGVNb2RlbCgpIHsNCisJCUlucHV0Q29udGV4dCBjb250ZXh0ID0gZmluZENv
bnRleHQoQ3R4SGVscElucHV0Q29udGV4dC5DT05URVhUX0lEKTsNCisJCWlmIChjb250ZXh0ID09
IG51bGwpIHsNCisJCQlyZXR1cm4gbnVsbDsNCisJCX0NCisJCXJldHVybiBjb250ZXh0LmdldE1v
ZGVsKCk7DQorCX0NCisNCit9DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91
aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhlbHBDb250ZXh0RGV0YWlscy5qYXZhDQo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09DQpSQ1MgZmlsZTogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3Iv
Y3R4aGVscC9kZXRhaWxzL0N0eEhlbHBDb250ZXh0RGV0YWlscy5qYXZhDQpkaWZmIC1OIHNyYy9v
cmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvZGV0YWlscy9DdHhIZWxw
Q29udGV4dERldGFpbHMuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0w
MDAwDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9k
ZXRhaWxzL0N0eEhlbHBDb250ZXh0RGV0YWlscy5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAw
MDANCkBAIC0wLDAgKzEsMTQzIEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5
cmlnaHQgKGMpIDIwMDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0
cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0K
KyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVi
bGljIExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9u
LCBhbmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9l
cGwtdjEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0
aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKiovDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhl
bHAuZGV0YWlsczsNCisNCitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy5JU2VsZWN0
aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAu
Q3R4SGVscENvbnRleHQ7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5QREVV
SU1lc3NhZ2VzOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLkZv
cm1FbnRyeUFkYXB0ZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0
b3IuY3R4aGVscC5DdHhIZWxwSW5wdXRDb250ZXh0Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAuQ3R4SGVscFRyZWVTZWN0aW9uOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkucGFydHMuRm9ybUVudHJ5Ow0KK2ltcG9ydCBvcmcu
ZWNsaXBzZS5zd3QuU1dUOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3QubGF5b3V0LkdyaWREYXRh
Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3Qud2lkZ2V0cy5Db21wb3NpdGU7DQoraW1wb3J0IG9y
Zy5lY2xpcHNlLnVpLmZvcm1zLklGb3JtUGFydDsNCisNCisvKioNCisgKiBEZXRhaWxzIHNlY3Rp
b24gZm9yIGNvbnRleHQgZW50cmllcy4NCisgKiBAc2luY2UgMy40DQorICogQHNlZSBDdHhIZWxw
QWJzdHJhY3REZXRhaWxzDQorICogQHNlZSBDdHhIZWxwQ29udGV4dA0KKyAqLw0KK3B1YmxpYyBj
bGFzcyBDdHhIZWxwQ29udGV4dERldGFpbHMgZXh0ZW5kcyBDdHhIZWxwQWJzdHJhY3REZXRhaWxz
IHsNCisNCisJcHJpdmF0ZSBDdHhIZWxwQ29udGV4dCBmQ29udGV4dDsNCisJcHJpdmF0ZSBGb3Jt
RW50cnkgZklkRW50cnk7DQorCXByaXZhdGUgRm9ybUVudHJ5IGZUaXRsZUVudHJ5Ow0KKwlwcml2
YXRlIEZvcm1FbnRyeSBmRGVzY0VudHJ5Ow0KKw0KKwlwdWJsaWMgQ3R4SGVscENvbnRleHREZXRh
aWxzKEN0eEhlbHBUcmVlU2VjdGlvbiBtYXN0ZXJTZWN0aW9uKSB7DQorCQlzdXBlcihtYXN0ZXJT
ZWN0aW9uLCBDdHhIZWxwSW5wdXRDb250ZXh0LkNPTlRFWFRfSUQpOw0KKwl9DQorDQorCS8qIChu
b24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9y
LmN0eGhlbHAuZGV0YWlscy5DdHhIZWxwQWJzdHJhY3REZXRhaWxzI2NyZWF0ZUZpZWxkcyhvcmcu
ZWNsaXBzZS5zd3Qud2lkZ2V0cy5Db21wb3NpdGUpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBjcmVh
dGVGaWVsZHMoQ29tcG9zaXRlIHBhcmVudCkgew0KKwkJY3JlYXRlTGFiZWwocGFyZW50LCBnZXRN
YW5hZ2VkRm9ybSgpLmdldFRvb2xraXQoKSwgUERFVUlNZXNzYWdlcy5DdHhIZWxwQ29udGV4dERl
dGFpbHNfc3BlY2lmeUlEKTsNCisJCWZJZEVudHJ5ID0gbmV3IEZvcm1FbnRyeShwYXJlbnQsIGdl
dE1hbmFnZWRGb3JtKCkuZ2V0VG9vbGtpdCgpLCBQREVVSU1lc3NhZ2VzLkN0eEhlbHBDb250ZXh0
RGV0YWlsc19pZCwgU1dULk5PTkUpOw0KKwkJY3JlYXRlU3BhY2UocGFyZW50KTsNCisJCWNyZWF0
ZUxhYmVsKHBhcmVudCwgZ2V0TWFuYWdlZEZvcm0oKS5nZXRUb29sa2l0KCksIFBERVVJTWVzc2Fn
ZXMuQ3R4SGVscENvbnRleHREZXRhaWxzX3NwZWNpZnlEZXNjcmlwdGlvbik7DQorCQlmRGVzY0Vu
dHJ5ID0gbmV3IEZvcm1FbnRyeShwYXJlbnQsIGdldE1hbmFnZWRGb3JtKCkuZ2V0VG9vbGtpdCgp
LCBQREVVSU1lc3NhZ2VzLkN0eEhlbHBDb250ZXh0RGV0YWlsc19kZXNjcmlwdGlvbiwgU1dULk1V
TFRJIHwgU1dULldSQVAgfCBTV1QuVl9TQ1JPTEwpOw0KKwkJR3JpZERhdGEgZGF0YSA9IG5ldyBH
cmlkRGF0YShHcmlkRGF0YS5GSUxMX0hPUklaT05UQUwpOw0KKwkJZGF0YS5oZWlnaHRIaW50ID0g
NTA7DQorCQlmRGVzY0VudHJ5LmdldFRleHQoKS5zZXRMYXlvdXREYXRhKGRhdGEpOw0KKwkJZGF0
YSA9IG5ldyBHcmlkRGF0YShHcmlkRGF0YS5WRVJUSUNBTF9BTElHTl9CRUdJTk5JTkcgfCBHcmlk
RGF0YS5IT1JJWk9OVEFMX0FMSUdOX0VORCk7DQorCQlmRGVzY0VudHJ5LmdldExhYmVsKCkuc2V0
TGF5b3V0RGF0YShkYXRhKTsNCisJCWNyZWF0ZVNwYWNlKHBhcmVudCk7DQorCQljcmVhdGVMYWJl
bChwYXJlbnQsIGdldE1hbmFnZWRGb3JtKCkuZ2V0VG9vbGtpdCgpLCBQREVVSU1lc3NhZ2VzLkN0
eEhlbHBDb250ZXh0RGV0YWlsc19zcGVjaWZ5VGl0bGUpOw0KKwkJZlRpdGxlRW50cnkgPSBuZXcg
Rm9ybUVudHJ5KHBhcmVudCwgZ2V0TWFuYWdlZEZvcm0oKS5nZXRUb29sa2l0KCksIFBERVVJTWVz
c2FnZXMuQ3R4SGVscENvbnRleHREZXRhaWxzX3RpdGxlLCBTV1QuTk9ORSk7DQorCX0NCisNCisJ
LyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5l
ZGl0b3IuY3R4aGVscC5kZXRhaWxzLkN0eEhlbHBBYnN0cmFjdERldGFpbHMjZ2V0RGV0YWlsc1Rp
dGxlKCkNCisJICovDQorCXByb3RlY3RlZCBTdHJpbmcgZ2V0RGV0YWlsc1RpdGxlKCkgew0KKwkJ
cmV0dXJuIFBERVVJTWVzc2FnZXMuQ3R4SGVscENvbnRleHREZXRhaWxzX2NvbnRleHREZXRhaWxz
Ow0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlscy5DdHhIZWxwQWJzdHJhY3REZXRhaWxz
I2dldERldGFpbHNEZXNjcmlwdGlvbigpDQorCSAqLw0KKwlwcm90ZWN0ZWQgU3RyaW5nIGdldERl
dGFpbHNEZXNjcmlwdGlvbigpIHsNCisJCXJldHVybiBudWxsOw0KKwl9DQorDQorCS8qIChub24t
SmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0
eGhlbHAuZGV0YWlscy5DdHhIZWxwQWJzdHJhY3REZXRhaWxzI2hvb2tMaXN0ZW5lcnMoKQ0KKwkg
Ki8NCisJcHVibGljIHZvaWQgaG9va0xpc3RlbmVycygpIHsNCisJCWZJZEVudHJ5LnNldEZvcm1F
bnRyeUxpc3RlbmVyKG5ldyBGb3JtRW50cnlBZGFwdGVyKHRoaXMpIHsNCisJCQlwdWJsaWMgdm9p
ZCB0ZXh0VmFsdWVDaGFuZ2VkKEZvcm1FbnRyeSBlbnRyeSkgew0KKwkJCQlpZiAoZkNvbnRleHQg
IT0gbnVsbCkgew0KKwkJCQkJZkNvbnRleHQuc2V0SUQoZklkRW50cnkuZ2V0VmFsdWUoKSk7DQor
CQkJCX0NCisJCQl9DQorCQl9KTsNCisJCWZEZXNjRW50cnkuc2V0Rm9ybUVudHJ5TGlzdGVuZXIo
bmV3IEZvcm1FbnRyeUFkYXB0ZXIodGhpcykgew0KKwkJCXB1YmxpYyB2b2lkIHRleHRWYWx1ZUNo
YW5nZWQoRm9ybUVudHJ5IGVudHJ5KSB7DQorCQkJCWlmIChmQ29udGV4dCAhPSBudWxsKSB7DQor
CQkJCQlpZiAoZkRlc2NFbnRyeS5nZXRWYWx1ZSgpLnRyaW0oKS5sZW5ndGgoKSA+IDApIHsNCisJ
CQkJCQlmQ29udGV4dC5zZXREZXNjcmlwdGlvbihmRGVzY0VudHJ5LmdldFZhbHVlKCkpOw0KKwkJ
CQkJfSBlbHNlIHsNCisJCQkJCQkvLyBQYXNzIG51bGwgdG8gZGVsZXRlIHRoZSBkZXNjcmlwdGlv
biBub2RlIGJlY2F1c2UgaXQgaXMgZW1wdHkNCisJCQkJCQlmQ29udGV4dC5zZXREZXNjcmlwdGlv
bihudWxsKTsNCisJCQkJCX0NCisJCQkJfQ0KKwkJCX0NCisJCX0pOw0KKwkJZlRpdGxlRW50cnku
c2V0Rm9ybUVudHJ5TGlzdGVuZXIobmV3IEZvcm1FbnRyeUFkYXB0ZXIodGhpcykgew0KKwkJCXB1
YmxpYyB2b2lkIHRleHRWYWx1ZUNoYW5nZWQoRm9ybUVudHJ5IGVudHJ5KSB7IC8vIEVuc3VyZSBk
YXRhIG9iamVjdCBpcyBkZWZpbmVkDQorCQkJCWlmIChmQ29udGV4dCAhPSBudWxsKSB7DQorCQkJ
CQlmQ29udGV4dC5zZXRUaXRsZShmVGl0bGVFbnRyeS5nZXRWYWx1ZSgpKTsNCisJCQkJfQ0KKwkJ
CX0NCisJCX0pOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNs
aXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlscy5DdHhIZWxwQWJzdHJh
Y3REZXRhaWxzI3VwZGF0ZUZpZWxkcygpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCB1cGRhdGVGaWVs
ZHMoKSB7DQorCQlpZiAoZkNvbnRleHQgIT0gbnVsbCkgew0KKwkJCWZJZEVudHJ5LnNldFZhbHVl
KGZDb250ZXh0LmdldElkKCksIHRydWUpOw0KKwkJCWZJZEVudHJ5LnNldEVkaXRhYmxlKGlzRWRp
dGFibGVFbGVtZW50KCkpOw0KKwkJCWZEZXNjRW50cnkuc2V0VmFsdWUoZkNvbnRleHQuZ2V0RGVz
Y3JpcHRpb24oKSwgdHJ1ZSk7DQorCQkJZkRlc2NFbnRyeS5zZXRFZGl0YWJsZShpc0VkaXRhYmxl
RWxlbWVudCgpKTsNCisJCQlmVGl0bGVFbnRyeS5zZXRWYWx1ZShmQ29udGV4dC5nZXRUaXRsZSgp
LCB0cnVlKTsNCisJCQlmVGl0bGVFbnRyeS5zZXRFZGl0YWJsZShpc0VkaXRhYmxlRWxlbWVudCgp
KTsNCisJCX0NCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlw
c2UudWkuZm9ybXMuQWJzdHJhY3RGb3JtUGFydCNjb21taXQoYm9vbGVhbikNCisJICovDQorCXB1
YmxpYyB2b2lkIGNvbW1pdChib29sZWFuIG9uU2F2ZSkgew0KKwkJc3VwZXIuY29tbWl0KG9uU2F2
ZSk7DQorCQkvLyBPbmx5IHJlcXVpcmVkIGZvciBmb3JtIGVudHJpZXMNCisJCWZJZEVudHJ5LmNv
bW1pdCgpOw0KKwkJZkRlc2NFbnRyeS5jb21taXQoKTsNCisJCWZUaXRsZUVudHJ5LmNvbW1pdCgp
Ow0KKw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5w
ZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlscy5DdHhIZWxwQWJzdHJhY3REZXRh
aWxzI3NlbGVjdGlvbkNoYW5nZWQob3JnLmVjbGlwc2UudWkuZm9ybXMuSUZvcm1QYXJ0LCBvcmcu
ZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklTZWxlY3Rpb24pDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBz
ZWxlY3Rpb25DaGFuZ2VkKElGb3JtUGFydCBwYXJ0LCBJU2VsZWN0aW9uIHNlbGVjdGlvbikgew0K
KwkJT2JqZWN0IG9iamVjdCA9IGdldEZpcnN0U2VsZWN0ZWRPYmplY3Qoc2VsZWN0aW9uKTsNCisJ
CWlmIChvYmplY3QgaW5zdGFuY2VvZiBDdHhIZWxwQ29udGV4dCkgew0KKwkJCWZDb250ZXh0ID0g
KEN0eEhlbHBDb250ZXh0KSBvYmplY3Q7DQorCQkJdXBkYXRlRmllbGRzKCk7DQorCQl9DQorCX0N
Cit9DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVs
cC9DdHhIZWxwQ29udGVudFByb3ZpZGVyLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiBzcmMv
b3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBDb250ZW50
UHJvdmlkZXIuamF2YQ0KZGlmZiAtTiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2Vk
aXRvci9jdHhoZWxwL0N0eEhlbHBDb250ZW50UHJvdmlkZXIuamF2YQ0KLS0tIC9kZXYvbnVsbAkx
IEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5h
bC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwQ29udGVudFByb3ZpZGVyLmphdmEJMSBKYW4gMTk3
MCAwMDowMDowMCAtMDAwMA0KQEAgLTAsMCArMSw2NSBAQA0KKy8qKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqDQorICogQ29weXJpZ2h0IChjKSAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0K
KyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWlu
ZyBtYXRlcmlhbHMNCisgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRo
ZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlz
IGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cuZWNsaXBz
ZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQorICoNCisgKiBDb250cmlidXRvcnM6DQorICogICAg
IElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqLw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVp
LmVkaXRvci5jdHhoZWxwOw0KKw0KK2ltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCitpbXBvcnQgb3Jn
LmVjbGlwc2UuamZhY2Uudmlld2Vycy5JVHJlZUNvbnRlbnRQcm92aWRlcjsNCitpbXBvcnQgb3Jn
LmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBNb2RlbDsNCitp
bXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBP
YmplY3Q7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lbGVtZW50cy5EZWZh
dWx0Q29udGVudFByb3ZpZGVyOw0KKw0KKy8qKg0KKyAqIENvbnRlbnQgcHJvdmlkZXIgZm9yIHRo
ZSB0cmVlIHNlY3Rpb24gb2YgdGhlIGNvbnRleHQgaGVscCBlZGl0b3IuICBHZXRzIHRoZSBjaGls
ZHJlbiBvZiANCisgKiBlYWNoIGVsZW1lbnQuDQorICogQHNpbmNlIDMuNA0KKyAqIEBzZWUgQ3R4
SGVscFRyZWVTZWN0aW9uDQorICovDQorcHVibGljIGNsYXNzIEN0eEhlbHBDb250ZW50UHJvdmlk
ZXIgZXh0ZW5kcyBEZWZhdWx0Q29udGVudFByb3ZpZGVyIGltcGxlbWVudHMgSVRyZWVDb250ZW50
UHJvdmlkZXIgew0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2Uu
amZhY2Uudmlld2Vycy5JVHJlZUNvbnRlbnRQcm92aWRlciNnZXRDaGlsZHJlbihqYXZhLmxhbmcu
T2JqZWN0KQ0KKwkgKi8NCisJcHVibGljIE9iamVjdFtdIGdldENoaWxkcmVuKE9iamVjdCBwYXJl
bnRFbGVtZW50KSB7DQorCQlpZiAocGFyZW50RWxlbWVudCBpbnN0YW5jZW9mIEN0eEhlbHBNb2Rl
bCkgew0KKwkJCUN0eEhlbHBPYmplY3Qgcm9vdCA9ICgoQ3R4SGVscE1vZGVsKSBwYXJlbnRFbGVt
ZW50KS5nZXRDdHhIZWxwUm9vdCgpOw0KKwkJCXJldHVybiBuZXcgT2JqZWN0W10ge3Jvb3R9Ow0K
KwkJfSBlbHNlIGlmIChwYXJlbnRFbGVtZW50IGluc3RhbmNlb2YgQ3R4SGVscE9iamVjdCkgew0K
KwkJCUxpc3QgbGlzdCA9ICgoQ3R4SGVscE9iamVjdCkgcGFyZW50RWxlbWVudCkuZ2V0Q2hpbGRy
ZW4oKTsNCisJCQlyZXR1cm4gbGlzdC50b0FycmF5KCk7DQorCQl9DQorCQlyZXR1cm4gbmV3IE9i
amVjdFswXTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlw
c2UuamZhY2Uudmlld2Vycy5JVHJlZUNvbnRlbnRQcm92aWRlciNnZXRQYXJlbnQoamF2YS5sYW5n
Lk9iamVjdCkNCisJICovDQorCXB1YmxpYyBPYmplY3QgZ2V0UGFyZW50KE9iamVjdCBlbGVtZW50
KSB7DQorCQlpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEN0eEhlbHBPYmplY3QpIHsNCisJCQlyZXR1
cm4gKChDdHhIZWxwT2JqZWN0KSBlbGVtZW50KS5nZXRQYXJlbnQoKTsNCisJCX0NCisJCXJldHVy
biBudWxsOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBz
ZS5qZmFjZS52aWV3ZXJzLklUcmVlQ29udGVudFByb3ZpZGVyI2hhc0NoaWxkcmVuKGphdmEubGFu
Zy5PYmplY3QpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBoYXNDaGlsZHJlbihPYmplY3QgZWxl
bWVudCkgew0KKwkJcmV0dXJuIChnZXRDaGlsZHJlbihlbGVtZW50KS5sZW5ndGggPiAwKTsNCisJ
fQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UuamZhY2Uudmll
d2Vycy5JU3RydWN0dXJlZENvbnRlbnRQcm92aWRlciNnZXRFbGVtZW50cyhqYXZhLmxhbmcuT2Jq
ZWN0KQ0KKwkgKi8NCisJcHVibGljIE9iamVjdFtdIGdldEVsZW1lbnRzKE9iamVjdCBpbnB1dEVs
ZW1lbnQpIHsNCisJCXJldHVybiBnZXRDaGlsZHJlbihpbnB1dEVsZW1lbnQpOw0KKwl9DQorDQor
fQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAv
Q3R4SGVscFRyZWVTZWN0aW9uLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiBzcmMvb3JnL2Vj
bGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBUcmVlU2VjdGlvbi5q
YXZhDQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhl
bHAvQ3R4SGVscFRyZWVTZWN0aW9uLmphdmENCi0tLSAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDow
MDowMCAtMDAwMA0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0
eGhlbHAvQ3R4SGVscFRyZWVTZWN0aW9uLmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0K
QEAgLTAsMCArMSw5MzEgQEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdo
dCAoYykgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRzIHJl
c2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQorICog
YXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMg
TGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFu
ZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12
MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRpb24g
LSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
Ki8NCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscDsN
CisNCitpbXBvcnQgamF2YS51dGlsLio7DQoraW1wb3J0IGphdmEudXRpbC5MaXN0Ow0KK2ltcG9y
dCBvcmcuZWNsaXBzZS5jb3JlLnJlc291cmNlcy5JRmlsZTsNCitpbXBvcnQgb3JnLmVjbGlwc2Uu
Y29yZS5yZXNvdXJjZXMuSVJlc291cmNlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRp
bWUuSVBhdGg7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLmFjdGlvbi4qOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5qZmFjZS5kaWFsb2dzLk1lc3NhZ2VEaWFsb2c7DQoraW1wb3J0IG9yZy5lY2xp
cHNlLmpmYWNlLnZpZXdlcnMuKjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmNvcmUuSU1vZGVs
Q2hhbmdlZEV2ZW50Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS5pY3R4
aGVscC5JQ3R4SGVscENvbnN0YW50czsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LmNvcmUudGV4dC5JRG9jdW1lbnRFbGVtZW50Tm9kZTsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRl
LmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5p
bnRlcm5hbC51aS5QREVQbHVnaW47DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51
aS5QREVVSU1lc3NhZ2VzOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLlBERUZvcm1QYWdlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLlRyZWVTZWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLmFjdGlvbnMuQ29sbGFwc2VBY3Rpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzLkN0eEhlbHBBYnN0cmFjdEFkZEFjdGlvbjsN
CitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLmRldGFp
bHMuQ3R4SGVscFJlbW92ZUFjdGlvbjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LnVpLmVkaXRvci5wbHVnaW4uRm9ybUZpbHRlcmVkVHJlZTsNCitpbXBvcnQgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLnVpLmVkaXRvci50b2MuSGVscEVkaXRvclV0aWw7DQoraW1wb3J0IG9yZy5l
Y2xpcHNlLnBkZS5pbnRlcm5hbC51aS5wYXJ0cy5UcmVlUGFydDsNCitpbXBvcnQgb3JnLmVjbGlw
c2UucGRlLmludGVybmFsLnVpLnV0aWwuUERFTGFiZWxVdGlsaXR5Ow0KK2ltcG9ydCBvcmcuZWNs
aXBzZS5zd3QuU1dUOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3QuZG5kLkRORDsNCitpbXBvcnQg
b3JnLmVjbGlwc2Uuc3d0LmV2ZW50cy5EaXNwb3NlRXZlbnQ7DQoraW1wb3J0IG9yZy5lY2xpcHNl
LnN3dC5ldmVudHMuRGlzcG9zZUxpc3RlbmVyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3QuZ3Jh
cGhpY3MuQ3Vyc29yOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3Qud2lkZ2V0cy4qOw0KK2ltcG9y
dCBvcmcuZWNsaXBzZS51aS5QYXJ0SW5pdEV4Y2VwdGlvbjsNCitpbXBvcnQgb3JnLmVjbGlwc2Uu
dWkuUGxhdGZvcm1VSTsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWkuYWN0aW9ucy5BY3Rpb25GYWN0
b3J5Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS51aS5hY3Rpb25zLkNvbnRyaWJ1dGlvbkl0ZW1GYWN0
b3J5Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS51aS5kaWFsb2dzLlBhdHRlcm5GaWx0ZXI7DQoraW1w
b3J0IG9yZy5lY2xpcHNlLnVpLmZvcm1zLndpZGdldHMuRm9ybVRvb2xraXQ7DQoraW1wb3J0IG9y
Zy5lY2xpcHNlLnVpLmZvcm1zLndpZGdldHMuU2VjdGlvbjsNCitpbXBvcnQgb3JnLmVjbGlwc2Uu
dWkuaWRlLklERTsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWkua2V5cy5JQmluZGluZ1NlcnZpY2U7
DQorDQorLyoqDQorICogVHJlZSBzZWN0aW9uIGZvciB0aGUgY29udGV4dCBoZWxwIGVkaXRvci4g
IERpc3BsYXlzIHRoZSBzdHJ1Y3R1cmUNCisgKiBvZiB0aGUgeG1sIGZpbGUgYW5kIGFkZHMgYWN0
aW9ucyBhbGxvd2luZyBtYW5pcHVsYXRpb24gb2YgdGhlIHN0cnVjdHVyZS4NCisgKiBAc2luY2Ug
My40DQorICogQHNlZSBDdHhIZWxwRWRpdG9yDQorICovDQorcHVibGljIGNsYXNzIEN0eEhlbHBU
cmVlU2VjdGlvbiBleHRlbmRzIFRyZWVTZWN0aW9uIHsNCisJcHJpdmF0ZSBDdHhIZWxwTW9kZWwg
Zk1vZGVsOw0KKwlwcml2YXRlIFRyZWVWaWV3ZXIgZlRyZWU7DQorCXByaXZhdGUgRm9ybUZpbHRl
cmVkVHJlZSBmRmlsdGVyZWRUcmVlOw0KKw0KKwkvKiBUaGUgaW5kaWNlcyBmb3IgZWFjaCBidXR0
b24gYXR0YWNoZWQgdG8gdGhlIFRyZWUgVmlld2VyLg0KKwkgKiBUaGlzIHR5cGUgb2YgVUkgZm9y
bSBkb2VzIG5vdCBwZXJtaXQgZGlyZWN0IGFjY2VzcyB0byBlYWNoIHBhcnRpY3VsYXINCisJICog
YnV0dG9uLiBIb3dldmVyLCB1c2luZyB0aGVzZSBpbmRpY2VzLCBvbmUgY2FuIHBlcmZvcm0gYW55
IHR5cGljYWwgU1dUDQorCSAqIG9wZXJhdGlvbiBvbiBhbnkgYnV0dG9uLg0KKwkgKi8NCisJcHJp
dmF0ZSBzdGF0aWMgZmluYWwgaW50IEZfQlVUVE9OX0FERF9DT05URVhUID0gMDsNCisJcHJpdmF0
ZSBzdGF0aWMgZmluYWwgaW50IEZfQlVUVE9OX0FERF9UT1BJQyA9IDI7DQorCXByaXZhdGUgc3Rh
dGljIGZpbmFsIGludCBGX0JVVFRPTl9BRERfQ09NTUFORCA9IDM7DQorCXByaXZhdGUgc3RhdGlj
IGZpbmFsIGludCBGX0JVVFRPTl9SRU1PVkUgPSA1Ow0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBp
bnQgRl9CVVRUT05fVVAgPSA2Ow0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBpbnQgRl9CVVRUT05f
RE9XTiA9IDc7DQorDQorCS8vIFdoZW4gb25lIG9mIHRoZSBtb3ZlIGJ1dHRvbnMgaXMgcHJlc3Nl
ZCwgYSBmbGFnIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBkaXJlY3Rpb24NCisJcHJpdmF0ZSBz
dGF0aWMgZmluYWwgaW50IEZfVVBfRkxBRyA9IC0xOw0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBp
bnQgRl9ET1dOX0ZMQUcgPSAxOw0KKw0KKwkvLyBUaGUgYWN0aW9ucyB0aGF0IHdpbGwgYWRkIGVh
Y2ggdHlwZSBvZiBvYmplY3QNCisJcHJpdmF0ZSBDdHhIZWxwQWJzdHJhY3RBZGRBY3Rpb24gZkFk
ZENvbnRleHRBY3Rpb247DQorCXByaXZhdGUgQ3R4SGVscEFic3RyYWN0QWRkQWN0aW9uIGZBZGRU
b3BpY0FjdGlvbjsNCisJcHJpdmF0ZSBDdHhIZWxwQWJzdHJhY3RBZGRBY3Rpb24gZkFkZENvbW1h
bmRBY3Rpb247DQorDQorCS8vIFRoZSBvYmplY3QgcmVtb3ZhbCBhY3Rpb24NCisJcHJpdmF0ZSBD
dHhIZWxwUmVtb3ZlQWN0aW9uIGZSZW1vdmVPYmplY3RBY3Rpb247DQorDQorCS8vIFRoZSBhY3Rp
b24gZm9yIG9wZW5pbmcgYSBsaW5rIGZyb20gdGhlIGNvbnRleHQgbWVudQ0KKwlwcml2YXRlIE9w
ZW5MaW5rQWN0aW9uIGZPcGVuTGlua0FjdGlvbjsNCisNCisJLy8gVXNlZCB0byB0ZW1wb3Jhcmls
eSBzdG9yZSB0aGUgdGFyZ2V0IG9mIGEgZHJvcCBvcGVyYXRpb24gDQorCS8vIHNvIHRoYXQgaXQg
ZG9lcyBub3QgaGF2ZSBiZSBiZSByZWNhbGN1bGF0ZWQNCisJcHJpdmF0ZSBDdHhIZWxwT2JqZWN0
IGZEcm9wVGFyZ2V0UGFyZW50Ow0KKwlwcml2YXRlIEN0eEhlbHBPYmplY3QgZkRyb3BUYXJnZXRT
aWJsaW5nOw0KKw0KKwkvKiogSWYgaXRlbXMgYXJlIGRyYWdnZWQgYW5kIGRyb3BwZWQgd2l0aGlu
IHRoaXMgdHJlZSwgdGhlbg0KKwkgKiB0aGlzIGZsYWcgaW5oaWJpdHMgcmVzZWxlY3Rpb24gb24g
dGhlIHJlbW92YWwgKGRyYWcpIGFjdGlvbiwNCisJICogdGh1cyBlbnN1cmluZyB0aGF0IHRoZSBz
ZWxlY3RlZCBvYmplY3RzIGFyZSB0aGUgb25lcyB0aGF0IHdlcmUNCisJICogZHJvcHBlZC4NCisJ
ICovDQorCXByaXZhdGUgYm9vbGVhbiBmRHJhZ0Zyb21IZXJlOw0KKw0KKwkvKioNCisJICogQWN0
aW9uIHRoYXQgYWxsb3dzIGEgbGlua2VkIGZpbGUgdG8gYmUgb3BlbmVkIGluIHRoZSBlZGl0b3IN
CisJICogQHNpbmNlIDMuNA0KKwkgKi8NCisJY2xhc3MgT3BlbkxpbmtBY3Rpb24gZXh0ZW5kcyBB
Y3Rpb24gew0KKwkJcHJpdmF0ZSBDdHhIZWxwVG9waWMgZk9wZW5UYXJnZXQ7DQorDQorCQlwdWJs
aWMgT3BlbkxpbmtBY3Rpb24oKSB7DQorCQkJc3VwZXIoUERFVUlNZXNzYWdlcy5BY3Rpb25zX29w
ZW5fbGFiZWwpOw0KKwkJfQ0KKw0KKwkJcHVibGljIHZvaWQgc2V0VGFyZ2V0KEN0eEhlbHBUb3Bp
YyB0YXJnZXQpIHsNCisJCQlmT3BlblRhcmdldCA9IHRhcmdldDsNCisJCX0NCisNCisJCXB1Ymxp
YyB2b2lkIHJ1bigpIHsNCisJCQlpZiAoZk9wZW5UYXJnZXQgIT0gbnVsbCkgew0KKwkJCQlvcGVu
KGZPcGVuVGFyZ2V0KTsNCisJCQl9DQorCQl9DQorCX0NCisNCisJcHVibGljIEN0eEhlbHBUcmVl
U2VjdGlvbihQREVGb3JtUGFnZSBmb3JtUGFnZSwgQ29tcG9zaXRlIHBhcmVudCkgew0KKwkJc3Vw
ZXIoZm9ybVBhZ2UsIHBhcmVudCwgU2VjdGlvbi5ERVNDUklQVElPTiwgbmV3IFN0cmluZ1tdIHtQ
REVVSU1lc3NhZ2VzLkN0eEhlbHBUcmVlU2VjdGlvbl9hZGRDb250ZXh0LCBudWxsLCBQREVVSU1l
c3NhZ2VzLkN0eEhlbHBUcmVlU2VjdGlvbl9hZGRUb3BpYywgUERFVUlNZXNzYWdlcy5DdHhIZWxw
VHJlZVNlY3Rpb25fYWRkQ29tbWFuZCwgbnVsbCwgUERFVUlNZXNzYWdlcy5Ub2NQYWdlX3JlbW92
ZSwgUERFVUlNZXNzYWdlcy5Ub2NQYWdlX3VwLCBQREVVSU1lc3NhZ2VzLlRvY1BhZ2VfZG93bn0p
Ow0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwudWkuZWRpdG9yLlBERVNlY3Rpb24jY3JlYXRlQ2xpZW50KG9yZy5lY2xpcHNlLnVp
LmZvcm1zLndpZGdldHMuU2VjdGlvbiwgb3JnLmVjbGlwc2UudWkuZm9ybXMud2lkZ2V0cy5Gb3Jt
VG9vbGtpdCkNCisJICovDQorCXByb3RlY3RlZCB2b2lkIGNyZWF0ZUNsaWVudChTZWN0aW9uIHNl
Y3Rpb24sIEZvcm1Ub29sa2l0IHRvb2xraXQpIHsNCisJCWZNb2RlbCA9IChDdHhIZWxwTW9kZWwp
IGdldFBhZ2UoKS5nZXRNb2RlbCgpOw0KKw0KKwkJQ29tcG9zaXRlIGNvbnRhaW5lciA9IGNyZWF0
ZUNsaWVudENvbnRhaW5lcihzZWN0aW9uLCAyLCB0b29sa2l0KTsNCisJCWNyZWF0ZVRyZWUoY29u
dGFpbmVyLCB0b29sa2l0KTsNCisJCXRvb2xraXQucGFpbnRCb3JkZXJzRm9yKGNvbnRhaW5lcik7
DQorDQorCQlzZWN0aW9uLnNldFRleHQoUERFVUlNZXNzYWdlcy5DdHhIZWxwVHJlZVNlY3Rpb25f
Y29udGV4dEhlbHApOw0KKwkJc2VjdGlvbi5zZXREZXNjcmlwdGlvbihQREVVSU1lc3NhZ2VzLkN0
eEhlbHBUcmVlU2VjdGlvbl9lZGl0Q29udGV4dEhlbHBTdHJ1Y3R1cmUpOw0KKwkJc2VjdGlvbi5z
ZXRDbGllbnQoY29udGFpbmVyKTsNCisNCisJCWNyZWF0ZUNvbW1hbmRzKCk7DQorDQorCQlpbml0
aWFsaXplVHJlZVZpZXdlcigpOw0KKwkJY3JlYXRlU2VjdGlvblRvb2xiYXIoc2VjdGlvbiwgdG9v
bGtpdCk7DQorDQorCQkvLyBDcmVhdGUgdGhlIGFkYXB0ZWQgbGlzdGVuZXIgZm9yIHRoZSBmaWx0
ZXIgZW50cnkgZmllbGQNCisJCWZGaWx0ZXJlZFRyZWUuY3JlYXRlVUlMaXN0ZW5lckVudHJ5Rmls
dGVyKHRoaXMpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBDcmVhdGVzIHRoZSBjb21tYW5kcyB1c2Vk
IGluIHRoaXMgc2VjdGlvbi4NCisJICovDQorCXByaXZhdGUgdm9pZCBjcmVhdGVDb21tYW5kcygp
IHsNCisJCWZBZGRDb250ZXh0QWN0aW9uID0gbmV3IEN0eEhlbHBBYnN0cmFjdEFkZEFjdGlvbigp
IHsNCisJCQlwdWJsaWMgdm9pZCBydW4oKSB7DQorCQkJCWlmIChmUGFyZW50T2JqZWN0ICE9IG51
bGwpIHsNCisJCQkJCUN0eEhlbHBDb250ZXh0IGNvbnRleHQgPSBmUGFyZW50T2JqZWN0LmdldE1v
ZGVsKCkuZ2V0RmFjdG9yeSgpLmNyZWF0ZUNvbnRleHQoKTsNCisJCQkJCVN0cmluZyBpZCA9IFBE
RUxhYmVsVXRpbGl0eS5nZW5lcmF0ZU5hbWUoZ2V0Q2hpbGROYW1lcygpLCBQREVVSU1lc3NhZ2Vz
LkN0eEhlbHBUcmVlU2VjdGlvbl9kZWZhdWx0Q29udGV4dE5hbWUpOw0KKwkJCQkJY29udGV4dC5z
ZXRJRChpZCk7DQorCQkJCQlhZGRDaGlsZChjb250ZXh0KTsNCisJCQkJfQ0KKwkJCX0NCisJCX07
DQorCQlmQWRkQ29udGV4dEFjdGlvbi5zZXRUZXh0KFBERVVJTWVzc2FnZXMuQ3R4SGVscFRyZWVT
ZWN0aW9uX25ld0NvbnRleHQpOw0KKwkJZkFkZFRvcGljQWN0aW9uID0gbmV3IEN0eEhlbHBBYnN0
cmFjdEFkZEFjdGlvbigpIHsNCisJCQlwdWJsaWMgdm9pZCBydW4oKSB7DQorCQkJCWlmIChmUGFy
ZW50T2JqZWN0ICE9IG51bGwpIHsNCisJCQkJCUN0eEhlbHBUb3BpYyB0b3BpYyA9IGZQYXJlbnRP
YmplY3QuZ2V0TW9kZWwoKS5nZXRGYWN0b3J5KCkuY3JlYXRlVG9waWMoKTsNCisJCQkJCVN0cmlu
ZyBsYWJlbCA9IFBERUxhYmVsVXRpbGl0eS5nZW5lcmF0ZU5hbWUoZ2V0Q2hpbGROYW1lcygpLCBQ
REVVSU1lc3NhZ2VzLkN0eEhlbHBUcmVlU2VjdGlvbl9kZWZhdWx0VG9waWNOYW1lKTsNCisJCQkJ
CXRvcGljLnNldExhYmVsKGxhYmVsKTsNCisJCQkJCWFkZENoaWxkKHRvcGljKTsNCisJCQkJfQ0K
KwkJCX0NCisJCX07DQorCQlmQWRkVG9waWNBY3Rpb24uc2V0VGV4dChQREVVSU1lc3NhZ2VzLkN0
eEhlbHBUcmVlU2VjdGlvbl9uZXdUb3BpYyk7DQorCQlmQWRkQ29tbWFuZEFjdGlvbiA9IG5ldyBD
dHhIZWxwQWJzdHJhY3RBZGRBY3Rpb24oKSB7DQorCQkJcHVibGljIHZvaWQgcnVuKCkgew0KKwkJ
CQlpZiAoZlBhcmVudE9iamVjdCAhPSBudWxsKSB7DQorCQkJCQlDdHhIZWxwQ29tbWFuZCBjb21t
YW5kID0gZlBhcmVudE9iamVjdC5nZXRNb2RlbCgpLmdldEZhY3RvcnkoKS5jcmVhdGVDb21tYW5k
KCk7DQorCQkJCQlTdHJpbmcgbGFiZWwgPSBQREVMYWJlbFV0aWxpdHkuZ2VuZXJhdGVOYW1lKGdl
dENoaWxkTmFtZXMoKSwgUERFVUlNZXNzYWdlcy5DdHhIZWxwVHJlZVNlY3Rpb25fZGVmYXVsdENv
bW1hbmROYW1lKTsNCisJCQkJCWNvbW1hbmQuc2V0TGFiZWwobGFiZWwpOw0KKwkJCQkJYWRkQ2hp
bGQoY29tbWFuZCk7DQorCQkJCX0NCisJCQl9DQorCQl9Ow0KKwkJZkFkZENvbW1hbmRBY3Rpb24u
c2V0VGV4dChQREVVSU1lc3NhZ2VzLkN0eEhlbHBUcmVlU2VjdGlvbl9uZXdDb21tYW5kKTsNCisN
CisJCWZSZW1vdmVPYmplY3RBY3Rpb24gPSBuZXcgQ3R4SGVscFJlbW92ZUFjdGlvbigpOw0KKwkJ
Zk9wZW5MaW5rQWN0aW9uID0gbmV3IE9wZW5MaW5rQWN0aW9uKCk7DQorCX0NCisNCisJLyoqDQor
CSAqIEFkZHMgYSBsaW5rICh3aXRoIGhhbmQgY3Vyc29yKSBmb3IgdHJlZSAnQ29sbGFwc2UgQWxs
JyBhY3Rpb24sDQorCSAqIHdoaWNoIGNvbGxhcHNlcyB0aGUgdHJlZSBkb3duIHRvIHRoZSBzZWNv
bmQgbGV2ZWwNCisJICogDQorCSAqIEBwYXJhbSBzZWN0aW9uIFRoZSBzZWN0aW9uIHRoYXQgdGhl
IHRvb2xiYXIgd2lsbCBiZWxvbmcgdG8NCisJICogQHBhcmFtIHRvb2xraXQgVGhlIHRvb2xraXQg
dGhhdCB3aWxsIGJlIHVzZWQgdG8gbWFrZSB0aGUgdG9vbGJhcg0KKwkgKi8NCisJcHJpdmF0ZSB2
b2lkIGNyZWF0ZVNlY3Rpb25Ub29sYmFyKFNlY3Rpb24gc2VjdGlvbiwgRm9ybVRvb2xraXQgdG9v
bGtpdCkgew0KKwkJVG9vbEJhck1hbmFnZXIgdG9vbEJhck1hbmFnZXIgPSBuZXcgVG9vbEJhck1h
bmFnZXIoU1dULkZMQVQpOw0KKwkJVG9vbEJhciB0b29sYmFyID0gdG9vbEJhck1hbmFnZXIuY3Jl
YXRlQ29udHJvbChzZWN0aW9uKTsNCisNCisJCWZpbmFsIEN1cnNvciBoYW5kQ3Vyc29yID0gbmV3
IEN1cnNvcihEaXNwbGF5LmdldEN1cnJlbnQoKSwgU1dULkNVUlNPUl9IQU5EKTsNCisJCXRvb2xi
YXIuc2V0Q3Vyc29yKGhhbmRDdXJzb3IpOw0KKwkJLy8gQ3Vyc29yIG5lZWRzIHRvIGJlIGV4cGxp
Y2l0bHkgZGlzcG9zZWQNCisJCXRvb2xiYXIuYWRkRGlzcG9zZUxpc3RlbmVyKG5ldyBEaXNwb3Nl
TGlzdGVuZXIoKSB7DQorCQkJcHVibGljIHZvaWQgd2lkZ2V0RGlzcG9zZWQoRGlzcG9zZUV2ZW50
IGUpIHsNCisJCQkJaWYgKChoYW5kQ3Vyc29yICE9IG51bGwpICYmIChoYW5kQ3Vyc29yLmlzRGlz
cG9zZWQoKSA9PSBmYWxzZSkpIHsNCisJCQkJCWhhbmRDdXJzb3IuZGlzcG9zZSgpOw0KKwkJCQl9
DQorCQkJfQ0KKwkJfSk7DQorDQorCQkvLyBBZGQgY29sbGFwc2UgYWN0aW9uIHRvIHRoZSB0b29s
IGJhcg0KKwkJdG9vbEJhck1hbmFnZXIuYWRkKG5ldyBDb2xsYXBzZUFjdGlvbihmVHJlZSwgUERF
VUlNZXNzYWdlcy5FeHRlbnNpb25zUGFnZV9jb2xsYXBzZUFsbCwgMSwgZk1vZGVsLmdldEN0eEhl
bHBSb290KCkpKTsNCisJCXRvb2xCYXJNYW5hZ2VyLnVwZGF0ZSh0cnVlKTsNCisJCXNlY3Rpb24u
c2V0VGV4dENsaWVudCh0b29sYmFyKTsNCisJfQ0KKw0KKwkvKioNCisJICogQ3JlYXRlIHRoZSB0
cmVlIHdpZGdldCB0aGF0IHdpbGwgY29udGFpbiB0aGUgc3RydWN0dXJlDQorCSAqIA0KKwkgKiBA
cGFyYW0gY29udGFpbmVyIFRoZSBjb250YWluZXIgb2YgdGhlIHRyZWUgd2lkZ2V0DQorCSAqIEBw
YXJhbSB0b29sa2l0IFRoZSB0b29sa2l0IHVzZWQgdG8gY3JlYXRlIHRoZSB0cmVlDQorCSAqLw0K
Kwlwcml2YXRlIHZvaWQgY3JlYXRlVHJlZShDb21wb3NpdGUgY29udGFpbmVyLCBGb3JtVG9vbGtp
dCB0b29sa2l0KSB7DQorCQlUcmVlUGFydCB0cmVlUGFydCA9IGdldFRyZWVQYXJ0KCk7DQorCQlj
cmVhdGVWaWV3ZXJQYXJ0Q29udHJvbChjb250YWluZXIsIFNXVC5NVUxUSSwgMiwgdG9vbGtpdCk7
DQorDQorCQlmVHJlZSA9IHRyZWVQYXJ0LmdldFRyZWVWaWV3ZXIoKTsNCisJCWZUcmVlLnNldENv
bnRlbnRQcm92aWRlcihuZXcgQ3R4SGVscENvbnRlbnRQcm92aWRlcigpKTsNCisJCWZUcmVlLnNl
dExhYmVsUHJvdmlkZXIoUERFUGx1Z2luLmdldERlZmF1bHQoKS5nZXRMYWJlbFByb3ZpZGVyKCkp
Ow0KKw0KKwkJUERFUGx1Z2luLmdldERlZmF1bHQoKS5nZXRMYWJlbFByb3ZpZGVyKCkuY29ubmVj
dCh0aGlzKTsNCisNCisJCS8vIENyZWF0ZSBsaXN0ZW5lciBmb3IgdGhlIG91dGxpbmUgdmlldyAn
bGluayB3aXRoIGVkaXRvcicgdG9nZ2xlIGJ1dHRvbg0KKwkJZlRyZWUuYWRkUG9zdFNlbGVjdGlv
bkNoYW5nZWRMaXN0ZW5lcihnZXRQYWdlKCkuZ2V0UERFRWRpdG9yKCkubmV3IFBERUZvcm1FZGl0
b3JDaGFuZ2VMaXN0ZW5lcigpKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBz
ZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5UcmVlU2VjdGlvbiNjcmVhdGVU
cmVlVmlld2VyKG9yZy5lY2xpcHNlLnN3dC53aWRnZXRzLkNvbXBvc2l0ZSwgaW50KQ0KKwkgKi8N
CisJcHJvdGVjdGVkIFRyZWVWaWV3ZXIgY3JlYXRlVHJlZVZpZXdlcihDb21wb3NpdGUgcGFyZW50
LCBpbnQgc3R5bGUpIHsNCisJCWZGaWx0ZXJlZFRyZWUgPSBuZXcgRm9ybUZpbHRlcmVkVHJlZShw
YXJlbnQsIHN0eWxlLCBuZXcgUGF0dGVybkZpbHRlcigpKTsNCisJCXBhcmVudC5zZXREYXRhKCJm
aWx0ZXJlZCIsIEJvb2xlYW4uVFJVRSk7IC8vJE5PTi1OTFMtMSQNCisJCXJldHVybiBmRmlsdGVy
ZWRUcmVlLmdldFZpZXdlcigpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBJbml0aWFsaXplIHRoZSB0
cmVlIHZpZXdlciB3aWRnZXQgYW5kIGl0cyBidXR0b25zLg0KKwkgKi8NCisJcHJpdmF0ZSB2b2lk
IGluaXRpYWxpemVUcmVlVmlld2VyKCkgew0KKwkJaWYgKGZNb2RlbCA9PSBudWxsKSB7DQorCQkJ
cmV0dXJuOw0KKwkJfQ0KKw0KKwkJQ3R4SGVscFJvb3Qgcm9vdCA9IGZNb2RlbC5nZXRDdHhIZWxw
Um9vdCgpOw0KKwkJZlRyZWUuc2V0SW5wdXQocm9vdCk7DQorDQorCQkvLyBCdXR0b25zIG11c3Qg
YmUgZGlzYWJsZWQgaWYgZmlsZSBpcyBub3QgZWRpdGFibGUNCisJCWdldFRyZWVQYXJ0KCkuc2V0
QnV0dG9uRW5hYmxlZChGX0JVVFRPTl9BRERfQ09OVEVYVCwgaXNFZGl0YWJsZSgpKTsNCisJCWdl
dFRyZWVQYXJ0KCkuc2V0QnV0dG9uRW5hYmxlZChGX0JVVFRPTl9BRERfQ09NTUFORCwgaXNFZGl0
YWJsZSgpKTsNCisJCWdldFRyZWVQYXJ0KCkuc2V0QnV0dG9uRW5hYmxlZChGX0JVVFRPTl9BRERf
VE9QSUMsIGlzRWRpdGFibGUoKSk7DQorDQorCQlnZXRUcmVlUGFydCgpLnNldEJ1dHRvbkVuYWJs
ZWQoRl9CVVRUT05fUkVNT1ZFLCBmYWxzZSk7DQorCQlnZXRUcmVlUGFydCgpLnNldEJ1dHRvbkVu
YWJsZWQoRl9CVVRUT05fVVAsIGZhbHNlKTsNCisJCWdldFRyZWVQYXJ0KCkuc2V0QnV0dG9uRW5h
YmxlZChGX0JVVFRPTl9ET1dOLCBmYWxzZSk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0K
KwkgKiBAc2VlIG9yZy5lY2xpcHNlLnVpLmZvcm1zLkFic3RyYWN0Rm9ybVBhcnQjc2V0Rm9ybUlu
cHV0KGphdmEubGFuZy5PYmplY3QpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBzZXRGb3JtSW5w
dXQoT2JqZWN0IG9iamVjdCkgew0KKwkJLy8gVGhpcyBtZXRob2QgYWxsb3dzIHRoZSBvdXRsaW5l
IHZpZXcgdG8gc2VsZWN0IGl0ZW1zIGluIHRoZSB0cmVlDQorCQkvLyAoSW52b2tlZCBieSBvcmcu
ZWNsaXBzZS51aS5mb3Jtcy5lZGl0b3IuSUZvcm1QYWdlLnNlbGVjdFJldmVhbChPYmplY3Qgb2Jq
ZWN0KSkNCisJCWlmIChvYmplY3QgaW5zdGFuY2VvZiBDdHhIZWxwT2JqZWN0KSB7DQorCQkJZlRy
ZWUuc2V0U2VsZWN0aW9uKG5ldyBTdHJ1Y3R1cmVkU2VsZWN0aW9uKG9iamVjdCksIHRydWUpOw0K
Kw0KKwkJCS8vIFZlcmlmeSB0aGF0IHNvbWV0aGluZyB3YXMgYWN0dWFsbHkgc2VsZWN0ZWQNCisJ
CQlJU2VsZWN0aW9uIHNlbGVjdGlvbiA9IGZUcmVlLmdldFNlbGVjdGlvbigpOw0KKwkJCWlmIChz
ZWxlY3Rpb24gIT0gbnVsbCAmJiAhc2VsZWN0aW9uLmlzRW1wdHkoKSkgew0KKwkJCQlyZXR1cm4g
dHJ1ZTsNCisJCQl9DQorCQl9DQorCQlyZXR1cm4gZmFsc2U7DQorCX0NCisNCisJLyoqDQorCSAq
IEByZXR1cm4gdGhlIHNlbGVjdGlvbiBvZiB0aGUgdHJlZQ0KKwkgKi8NCisJcHVibGljIElTZWxl
Y3Rpb24gZ2V0U2VsZWN0aW9uKCkgew0KKwkJcmV0dXJuIGZUcmVlLmdldFNlbGVjdGlvbigpOw0K
Kwl9DQorDQorCS8qKg0KKwkgKiBAcGFyYW0gc2VsZWN0aW9uIHRoZSBuZXcgc2VsZWN0aW9uIGZv
ciB0aGUgdHJlZSBzZWN0aW9uDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBzZXRTZWxlY3Rpb24oSVNl
bGVjdGlvbiBzZWxlY3Rpb24pIHsNCisJCWZUcmVlLnNldFNlbGVjdGlvbihzZWxlY3Rpb24pOw0K
Kwl9DQorDQorCS8qKg0KKwkgKiBGaXJlIGEgc2VsZWN0aW9uIGNoYW5nZSBldmVudCBhbmQgcmVm
cmVzaCB0aGUgdmlld2VyJ3Mgc2VsZWN0aW9uDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBmaXJlU2Vs
ZWN0aW9uKCkgew0KKwkJZlRyZWUuc2V0U2VsZWN0aW9uKGZUcmVlLmdldFNlbGVjdGlvbigpKTsN
CisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmlu
dGVybmFsLnVpLmVkaXRvci5UcmVlU2VjdGlvbiNzZWxlY3Rpb25DaGFuZ2VkKG9yZy5lY2xpcHNl
LmpmYWNlLnZpZXdlcnMuSVN0cnVjdHVyZWRTZWxlY3Rpb24pDQorCSAqLw0KKwlwcm90ZWN0ZWQg
dm9pZCBzZWxlY3Rpb25DaGFuZ2VkKElTdHJ1Y3R1cmVkU2VsZWN0aW9uIHNlbGVjdGlvbikgew0K
KwkJZ2V0UGFnZSgpLmdldFBERUVkaXRvcigpLnNldFNlbGVjdGlvbihzZWxlY3Rpb24pOw0KKwkJ
dXBkYXRlQnV0dG9ucygpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBVcGRhdGUgdGhlIGJ1dHRvbnMg
aW4gdGhlIHNlY3Rpb24gYmFzZWQgb24gdGhlIGN1cnJlbnQgc2VsZWN0aW9uDQorCSAqLw0KKwlw
dWJsaWMgdm9pZCB1cGRhdGVCdXR0b25zKCkgew0KKwkJaWYgKCFmTW9kZWwuaXNFZGl0YWJsZSgp
KSB7DQorCQkJcmV0dXJuOw0KKwkJfQ0KKw0KKwkJSVN0cnVjdHVyZWRTZWxlY3Rpb24gc2VsZWN0
aW9uID0gKElTdHJ1Y3R1cmVkU2VsZWN0aW9uKSBmVHJlZS5nZXRTZWxlY3Rpb24oKTsNCisJCUN0
eEhlbHBPYmplY3QgZmlyc3RTZWxlY3RlZE9iamVjdCA9IChDdHhIZWxwT2JqZWN0KSBzZWxlY3Rp
b24uZ2V0Rmlyc3RFbGVtZW50KCk7DQorDQorCQkvLyBBZGQgQ29udGV4dA0KKwkJZ2V0VHJlZVBh
cnQoKS5zZXRCdXR0b25FbmFibGVkKEZfQlVUVE9OX0FERF9DT05URVhULCB0cnVlKTsNCisNCisJ
CS8vIEFkZCBUb3BpYw0KKwkJYm9vbGVhbiBlbmFibGVBZGQgPSBmYWxzZTsNCisJCWlmIChmaXJz
dFNlbGVjdGVkT2JqZWN0ICE9IG51bGwpIHsNCisJCQlpZiAoZmlyc3RTZWxlY3RlZE9iamVjdC5j
YW5BZGRTaWJsaW5nKElDdHhIZWxwQ29uc3RhbnRzLlRZUEVfVE9QSUMpKSB7DQorCQkJCWVuYWJs
ZUFkZCA9IHRydWU7DQorCQkJfSBlbHNlIGlmIChmaXJzdFNlbGVjdGVkT2JqZWN0LmNhbkFkZENo
aWxkKElDdHhIZWxwQ29uc3RhbnRzLlRZUEVfVE9QSUMpKSB7DQorCQkJCWVuYWJsZUFkZCA9IHRy
dWU7DQorCQkJfQ0KKwkJfQ0KKwkJZ2V0VHJlZVBhcnQoKS5zZXRCdXR0b25FbmFibGVkKEZfQlVU
VE9OX0FERF9UT1BJQywgZW5hYmxlQWRkKTsNCisNCisJCS8vIEFkZCBDb21tYW5kDQorCQllbmFi
bGVBZGQgPSBmYWxzZTsNCisJCWlmIChmaXJzdFNlbGVjdGVkT2JqZWN0ICE9IG51bGwpIHsNCisJ
CQlpZiAoZmlyc3RTZWxlY3RlZE9iamVjdC5jYW5BZGRTaWJsaW5nKElDdHhIZWxwQ29uc3RhbnRz
LlRZUEVfQ09NTUFORCkpIHsNCisJCQkJZW5hYmxlQWRkID0gdHJ1ZTsNCisJCQl9IGVsc2UgaWYg
KGZpcnN0U2VsZWN0ZWRPYmplY3QuY2FuQWRkQ2hpbGQoSUN0eEhlbHBDb25zdGFudHMuVFlQRV9D
T01NQU5EKSkgew0KKwkJCQllbmFibGVBZGQgPSB0cnVlOw0KKwkJCX0NCisJCX0NCisJCWdldFRy
ZWVQYXJ0KCkuc2V0QnV0dG9uRW5hYmxlZChGX0JVVFRPTl9BRERfQ09NTUFORCwgZW5hYmxlQWRk
KTsNCisNCisJCS8vIFJlbW92ZSBidXR0b24NCisJCWdldFRyZWVQYXJ0KCkuc2V0QnV0dG9uRW5h
YmxlZChGX0JVVFRPTl9SRU1PVkUsIGdldFJlbW92YWJsZU9iamVjdEZyb21TZWxlY3Rpb24oc2Vs
ZWN0aW9uKS5zaXplKCkgPiAwKTsNCisNCisJCS8vIFVwIGFuZCBEb3duIGJ1dHRvbnMNCisJCWJv
b2xlYW4gY2FuTW92ZVVwID0gdHJ1ZTsNCisJCWJvb2xlYW4gY2FuTW92ZURvd24gPSB0cnVlOw0K
KwkJaWYgKGZpcnN0U2VsZWN0ZWRPYmplY3QgPT0gbnVsbCB8fCBmaXJzdFNlbGVjdGVkT2JqZWN0
LmdldFR5cGUoKSA9PSBJQ3R4SGVscENvbnN0YW50cy5UWVBFX1JPT1QgfHwgZmlyc3RTZWxlY3Rl
ZE9iamVjdC5nZXRUeXBlKCkgPT0gSUN0eEhlbHBDb25zdGFudHMuVFlQRV9ERVNDUklQVElPTiB8
fCBzZWxlY3Rpb24uc2l6ZSgpID4gMSkgew0KKwkJCWNhbk1vdmVVcCA9IGZhbHNlOw0KKwkJCWNh
bk1vdmVEb3duID0gZmFsc2U7DQorCQl9IGVsc2Ugew0KKwkJCUN0eEhlbHBPYmplY3QgcGFyZW50
ID0gZmlyc3RTZWxlY3RlZE9iamVjdC5nZXRQYXJlbnQoKTsNCisJCQlpZiAocGFyZW50ICE9IG51
bGwpIHsNCisJCQkJaWYgKHBhcmVudC5pc0ZpcnN0Q2hpbGROb2RlKGZpcnN0U2VsZWN0ZWRPYmpl
Y3QsIGZpcnN0U2VsZWN0ZWRPYmplY3QuZ2V0Q2xhc3MoKSkpIHsNCisJCQkJCWNhbk1vdmVVcCA9
IGZhbHNlOw0KKwkJCQl9DQorCQkJCWlmIChwYXJlbnQuaXNMYXN0Q2hpbGROb2RlKGZpcnN0U2Vs
ZWN0ZWRPYmplY3QsIGZpcnN0U2VsZWN0ZWRPYmplY3QuZ2V0Q2xhc3MoKSkpIHsNCisJCQkJCWNh
bk1vdmVEb3duID0gZmFsc2U7DQorCQkJCX0NCisJCQl9DQorCQl9DQorCQlnZXRUcmVlUGFydCgp
LnNldEJ1dHRvbkVuYWJsZWQoRl9CVVRUT05fVVAsIGNhbk1vdmVVcCk7DQorCQlnZXRUcmVlUGFy
dCgpLnNldEJ1dHRvbkVuYWJsZWQoRl9CVVRUT05fRE9XTiwgY2FuTW92ZURvd24pOw0KKwl9DQor
DQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwu
dWkuZWRpdG9yLlN0cnVjdHVyZWRWaWV3ZXJTZWN0aW9uI2ZpbGxDb250ZXh0TWVudShvcmcuZWNs
aXBzZS5qZmFjZS5hY3Rpb24uSU1lbnVNYW5hZ2VyKQ0KKwkgKi8NCisJcHJvdGVjdGVkIHZvaWQg
ZmlsbENvbnRleHRNZW51KElNZW51TWFuYWdlciBtYW5hZ2VyKSB7DQorCQlJU3RydWN0dXJlZFNl
bGVjdGlvbiBzZWxlY3Rpb24gPSAoSVN0cnVjdHVyZWRTZWxlY3Rpb24pIGZUcmVlLmdldFNlbGVj
dGlvbigpOw0KKwkJT2JqZWN0IG9iamVjdCA9IHNlbGVjdGlvbi5nZXRGaXJzdEVsZW1lbnQoKTsN
CisJCS8vIEhhcyB0byBiZSBudWxsIG9yIGEgQ3R4SGVscE9iamVjdCBvYmplY3QNCisJCUN0eEhl
bHBPYmplY3QgZmlyc3RTZWxlY3RlZE9iamVjdCA9IChDdHhIZWxwT2JqZWN0KSBvYmplY3Q7DQor
DQorCQkvLyBQb3B1bGF0ZSB0aGUgIk5ldyIgc3ViLW1lbnUNCisJCWlmIChmaXJzdFNlbGVjdGVk
T2JqZWN0ICE9IG51bGwpIHsNCisJCQlNZW51TWFuYWdlciBzdWJtZW51ID0gbmV3IE1lbnVNYW5h
Z2VyKFBERVVJTWVzc2FnZXMuTWVudXNfbmV3X2xhYmVsKTsNCisJCQlib29sZWFuIGFkZE1lbnUg
PSBmYWxzZTsNCisJCQlpZiAodXBkYXRlQWRkQ29udGV4dEFjdGlvbldpdGhTZWxlY3Rpb24oZmly
c3RTZWxlY3RlZE9iamVjdCkpIHsNCisJCQkJc3VibWVudS5hZGQoZkFkZENvbnRleHRBY3Rpb24p
Ow0KKwkJCQlhZGRNZW51ID0gdHJ1ZTsNCisJCQl9DQorCQkJaWYgKHVwZGF0ZUFkZFRvcGljQWN0
aW9uV2l0aFNlbGVjdGlvbihmaXJzdFNlbGVjdGVkT2JqZWN0KSkgew0KKwkJCQlzdWJtZW51LmFk
ZChmQWRkVG9waWNBY3Rpb24pOw0KKwkJCQlhZGRNZW51ID0gdHJ1ZTsNCisJCQl9DQorCQkJaWYg
KHVwZGF0ZUFkZENvbW1hbmRBY3Rpb25XaXRoU2VsZWN0aW9uKGZpcnN0U2VsZWN0ZWRPYmplY3Qp
KSB7DQorCQkJCXN1Ym1lbnUuYWRkKGZBZGRDb21tYW5kQWN0aW9uKTsNCisJCQkJYWRkTWVudSA9
IHRydWU7DQorCQkJfQ0KKwkJCWlmIChhZGRNZW51KSB7DQorCQkJCW1hbmFnZXIuYWRkKHN1Ym1l
bnUpOw0KKwkJCQltYW5hZ2VyLmFkZChuZXcgU2VwYXJhdG9yKCkpOw0KKwkJCX0NCisJCX0NCisN
CisJCS8vIEFkZCB0aGUgb3BlbiBsaW5rIGFuZCBzaG93IGluIGFjdGlvbnMNCisJCWlmIChmaXJz
dFNlbGVjdGVkT2JqZWN0IGluc3RhbmNlb2YgQ3R4SGVscFRvcGljICYmICgoQ3R4SGVscFRvcGlj
KSBmaXJzdFNlbGVjdGVkT2JqZWN0KS5nZXRMb2NhdGlvbigpICE9IG51bGwpIHsNCisJCQlmT3Bl
bkxpbmtBY3Rpb24uc2V0VGFyZ2V0KChDdHhIZWxwVG9waWMpIGZpcnN0U2VsZWN0ZWRPYmplY3Qp
Ow0KKwkJCW1hbmFnZXIuYWRkKGZPcGVuTGlua0FjdGlvbik7DQorCQkJZmlsbENvbnRleHRNZW51
U2hvd0luQWN0aW9uKG1hbmFnZXIpOw0KKwkJCW1hbmFnZXIuYWRkKG5ldyBTZXBhcmF0b3IoKSk7
DQorCQl9DQorDQorCQkvLyBBZGQgY2xpcGJvYXJkIGFjdGlvbnMNCisJCWdldFBhZ2UoKS5nZXRQ
REVFZGl0b3IoKS5nZXRDb250cmlidXRvcigpLmNvbnRleHRNZW51QWJvdXRUb1Nob3cobWFuYWdl
cik7DQorCQltYW5hZ2VyLmFkZChuZXcgU2VwYXJhdG9yKCkpOw0KKw0KKwkJLy8gQWRkIHJlbW92
ZSBhY3Rpb24NCisJCWlmICh1cGRhdGVSZW1vdmVBY3Rpb25XaXRoU2VsZWN0aW9uKHNlbGVjdGlv
bikpIHsNCisJCQltYW5hZ2VyLmFkZChmUmVtb3ZlT2JqZWN0QWN0aW9uKTsNCisJCQltYW5hZ2Vy
LmFkZChuZXcgU2VwYXJhdG9yKCkpOw0KKwkJfQ0KKw0KKwl9DQorDQorCS8qKg0KKwkgKiBDcmVh
dGVzIGFuZCBhIG5ldyBzdWJtZW51IGluIHRoZSBnaXZlbiBtZW51IG1hbmFnZXIgYW5kIGFkZHMg
YWN0aW9ucyB0bw0KKwkgKiBhbGxvdyBhIGxpbmtlZCBmaWxlIHRvIGJlIG9wZW5lZCBpbiB2YXJp
b3VzIHZpZXdzLg0KKwkgKiBAcGFyYW0gbWFuYWdlciBtZW51IG1hbmFnZXIgdG8gYWRkIHRoZSBz
dWJtZW51IHRvDQorCSAqLw0KKwlwcml2YXRlIHZvaWQgZmlsbENvbnRleHRNZW51U2hvd0luQWN0
aW9uKElNZW51TWFuYWdlciBtYW5hZ2VyKSB7DQorCQlTdHJpbmcgc2hvd0luTGFiZWwgPSBQREVV
SU1lc3NhZ2VzLlBsdWdpbnNWaWV3X3Nob3dJbjsNCisNCisJCS8vIEFkZCBhIGxhYmVsIGZvciB0
aGUga2V5YmluZGluZyBmb3IgU2hvdyBJbiBhY3Rpb24sIGlmIG9uZSBleGlzdHMNCisJCUlCaW5k
aW5nU2VydmljZSBiaW5kaW5nU2VydmljZSA9IChJQmluZGluZ1NlcnZpY2UpIFBsYXRmb3JtVUku
Z2V0V29ya2JlbmNoKCkuZ2V0QWRhcHRlcihJQmluZGluZ1NlcnZpY2UuY2xhc3MpOw0KKwkJaWYg
KGJpbmRpbmdTZXJ2aWNlICE9IG51bGwpIHsNCisJCQlTdHJpbmcga2V5QmluZGluZyA9IGJpbmRp
bmdTZXJ2aWNlLmdldEJlc3RBY3RpdmVCaW5kaW5nRm9ybWF0dGVkRm9yKCJvcmcuZWNsaXBzZS51
aS5uYXZpZ2F0ZS5zaG93SW5RdWlja01lbnUiKTsgLy8kTk9OLU5MUy0xJA0KKwkJCWlmIChrZXlC
aW5kaW5nICE9IG51bGwpIHsNCisJCQkJc2hvd0luTGFiZWwgKz0gJ1x0JyArIGtleUJpbmRpbmc7
DQorCQkJfQ0KKwkJfQ0KKw0KKwkJSU1lbnVNYW5hZ2VyIHNob3dJbk1lbnUgPSBuZXcgTWVudU1h
bmFnZXIoc2hvd0luTGFiZWwpOw0KKwkJc2hvd0luTWVudS5hZGQoQ29udHJpYnV0aW9uSXRlbUZh
Y3RvcnkuVklFV1NfU0hPV19JTi5jcmVhdGUoZ2V0UGFnZSgpLmdldFNpdGUoKS5nZXRXb3JrYmVu
Y2hXaW5kb3coKSkpOw0KKw0KKwkJbWFuYWdlci5hZGQoc2hvd0luTWVudSk7DQorCX0NCisNCisJ
LyoqDQorCSAqIFVwZGF0ZXMgdGhlIGFkZCBjb250ZXh0IGFjdGlvbiBpZiB0aGUgYWN0aW9uIHNo
b3VsZCBiZSBhdmFpbGFibGUgZm9yIHRoZSBzZWxlY3Rpb24uDQorCSAqIFVwZGF0ZXMgZW5hYmxl
bWVudCwgcGFyZW50IG9iamVjdCBhbmQgdGFyZ2V0IG9iamVjdC4gIFJldHVybnMgdHJ1ZSBpZiB0
aGUgYWN0aW9uDQorCSAqIHNob3VsZCBiZSBhdmFpbGFibGUgdG8gdGhlIHNlbGVjdGlvbi4gDQor
CSAqIEBwYXJhbSBzZWxlY3RlZE9iamVjdCBzZWxlY3RlZCBvYmplY3QNCisJICogQHJldHVybiB0
cnVlIGlmIHRoZSBhY3Rpb24gc2hvdWxkIGJlIGF2YWlsYWJsZSBmb3IgdGhlIGN1cnJlbnQgc2Vs
ZWN0aW9uLCBmYWxzZSBvdGhlcndpc2UNCisJICovDQorCXByaXZhdGUgYm9vbGVhbiB1cGRhdGVB
ZGRDb250ZXh0QWN0aW9uV2l0aFNlbGVjdGlvbihDdHhIZWxwT2JqZWN0IHNlbGVjdGVkT2JqZWN0
KSB7DQorCQlpZiAoc2VsZWN0ZWRPYmplY3QgIT0gbnVsbCAmJiBzZWxlY3RlZE9iamVjdC5jYW5B
ZGRTaWJsaW5nKElDdHhIZWxwQ29uc3RhbnRzLlRZUEVfQ09OVEVYVCkpIHsNCisJCQlmQWRkQ29u
dGV4dEFjdGlvbi5zZXRQYXJlbnRPYmplY3Qoc2VsZWN0ZWRPYmplY3QuZ2V0UGFyZW50KCkpOw0K
KwkJCWZBZGRDb250ZXh0QWN0aW9uLnNldFRhcmdldE9iamVjdChzZWxlY3RlZE9iamVjdCk7DQor
CQkJZkFkZENvbnRleHRBY3Rpb24uc2V0RW5hYmxlZChmTW9kZWwuaXNFZGl0YWJsZSgpKTsNCisJ
CQlyZXR1cm4gdHJ1ZTsNCisJCX0gZWxzZSBpZiAoc2VsZWN0ZWRPYmplY3QgIT0gbnVsbCAmJiBz
ZWxlY3RlZE9iamVjdC5jYW5BZGRDaGlsZChJQ3R4SGVscENvbnN0YW50cy5UWVBFX0NPTlRFWFQp
KSB7DQorCQkJZkFkZENvbnRleHRBY3Rpb24uc2V0UGFyZW50T2JqZWN0KHNlbGVjdGVkT2JqZWN0
KTsNCisJCQlmQWRkQ29udGV4dEFjdGlvbi5zZXRUYXJnZXRPYmplY3QobnVsbCk7DQorCQkJZkFk
ZENvbnRleHRBY3Rpb24uc2V0RW5hYmxlZChmTW9kZWwuaXNFZGl0YWJsZSgpKTsNCisJCQlyZXR1
cm4gdHJ1ZTsNCisJCX0gZWxzZSBpZiAoZk1vZGVsLmdldEN0eEhlbHBSb290KCkuY2FuQWRkQ2hp
bGQoSUN0eEhlbHBDb25zdGFudHMuVFlQRV9DT05URVhUKSkgew0KKwkJCWZBZGRDb250ZXh0QWN0
aW9uLnNldFBhcmVudE9iamVjdChmTW9kZWwuZ2V0Q3R4SGVscFJvb3QoKSk7DQorCQkJZkFkZENv
bnRleHRBY3Rpb24uc2V0VGFyZ2V0T2JqZWN0KG51bGwpOw0KKwkJCWZBZGRDb250ZXh0QWN0aW9u
LnNldEVuYWJsZWQoZk1vZGVsLmlzRWRpdGFibGUoKSk7DQorCQkJcmV0dXJuIHRydWU7DQorCQl9
DQorCQlyZXR1cm4gZmFsc2U7DQorCX0NCisNCisJLyoqDQorCSAqIFVwZGF0ZXMgdGhlIGFkZCB0
b3BpYyBhY3Rpb24gaWYgdGhlIGFjdGlvbiBzaG91bGQgYmUgYXZhaWxhYmxlIGZvciB0aGUgc2Vs
ZWN0aW9uLg0KKwkgKiBVcGRhdGVzIGVuYWJsZW1lbnQsIHBhcmVudCBvYmplY3QgYW5kIHRhcmdl
dCBvYmplY3QuICBSZXR1cm5zIHRydWUgaWYgdGhlIGFjdGlvbg0KKwkgKiBzaG91bGQgYmUgYXZh
aWxhYmxlIHRvIHRoZSBzZWxlY3Rpb24uIA0KKwkgKiBAcGFyYW0gc2VsZWN0ZWRPYmplY3Qgc2Vs
ZWN0ZWQgb2JqZWN0DQorCSAqIEByZXR1cm4gdHJ1ZSBpZiB0aGUgYWN0aW9uIHNob3VsZCBiZSBh
dmFpbGFibGUgZm9yIHRoZSBjdXJyZW50IHNlbGVjdGlvbiwgZmFsc2Ugb3RoZXJ3aXNlDQorCSAq
Lw0KKwlwcml2YXRlIGJvb2xlYW4gdXBkYXRlQWRkVG9waWNBY3Rpb25XaXRoU2VsZWN0aW9uKEN0
eEhlbHBPYmplY3Qgc2VsZWN0ZWRPYmplY3QpIHsNCisJCWlmIChzZWxlY3RlZE9iamVjdCAhPSBu
dWxsKSB7DQorCQkJaWYgKHNlbGVjdGVkT2JqZWN0LmNhbkFkZFNpYmxpbmcoSUN0eEhlbHBDb25z
dGFudHMuVFlQRV9UT1BJQykpIHsNCisJCQkJZkFkZFRvcGljQWN0aW9uLnNldFBhcmVudE9iamVj
dChzZWxlY3RlZE9iamVjdC5nZXRQYXJlbnQoKSk7DQorCQkJCWZBZGRUb3BpY0FjdGlvbi5zZXRU
YXJnZXRPYmplY3Qoc2VsZWN0ZWRPYmplY3QpOw0KKwkJCQlmQWRkVG9waWNBY3Rpb24uc2V0RW5h
YmxlZChmTW9kZWwuaXNFZGl0YWJsZSgpKTsNCisJCQkJcmV0dXJuIHRydWU7DQorCQkJfSBlbHNl
IGlmIChzZWxlY3RlZE9iamVjdC5jYW5BZGRDaGlsZChJQ3R4SGVscENvbnN0YW50cy5UWVBFX1RP
UElDKSkgew0KKwkJCQlmQWRkVG9waWNBY3Rpb24uc2V0UGFyZW50T2JqZWN0KHNlbGVjdGVkT2Jq
ZWN0KTsNCisJCQkJZkFkZFRvcGljQWN0aW9uLnNldFRhcmdldE9iamVjdChudWxsKTsNCisJCQkJ
ZkFkZFRvcGljQWN0aW9uLnNldEVuYWJsZWQoZk1vZGVsLmlzRWRpdGFibGUoKSk7DQorCQkJCXJl
dHVybiB0cnVlOw0KKwkJCX0NCisJCX0NCisJCXJldHVybiBmYWxzZTsNCisJfQ0KKw0KKwkvKioN
CisJICogVXBkYXRlcyB0aGUgYWRkIHRvcGljIGFjdGlvbiBpZiB0aGUgYWN0aW9uIHNob3VsZCBi
ZSBhdmFpbGFibGUgZm9yIHRoZSBzZWxlY3Rpb24uDQorCSAqIFVwZGF0ZXMgZW5hYmxlbWVudCwg
cGFyZW50IG9iamVjdCBhbmQgdGFyZ2V0IG9iamVjdC4gIFJldHVybnMgdHJ1ZSBpZiB0aGUgYWN0
aW9uDQorCSAqIHNob3VsZCBiZSBhdmFpbGFibGUgdG8gdGhlIHNlbGVjdGlvbi4gDQorCSAqIEBw
YXJhbSBzZWxlY3RlZE9iamVjdCBzZWxlY3RlZCBvYmplY3QNCisJICogQHJldHVybiB0cnVlIGlm
IHRoZSBhY3Rpb24gc2hvdWxkIGJlIGF2YWlsYWJsZSBmb3IgdGhlIGN1cnJlbnQgc2VsZWN0aW9u
LCBmYWxzZSBvdGhlcndpc2UNCisJICovDQorCXByaXZhdGUgYm9vbGVhbiB1cGRhdGVBZGRDb21t
YW5kQWN0aW9uV2l0aFNlbGVjdGlvbihDdHhIZWxwT2JqZWN0IHNlbGVjdGVkT2JqZWN0KSB7DQor
CQlpZiAoc2VsZWN0ZWRPYmplY3QgIT0gbnVsbCkgew0KKwkJCWlmIChzZWxlY3RlZE9iamVjdC5j
YW5BZGRTaWJsaW5nKElDdHhIZWxwQ29uc3RhbnRzLlRZUEVfQ09NTUFORCkpIHsNCisJCQkJZkFk
ZENvbW1hbmRBY3Rpb24uc2V0UGFyZW50T2JqZWN0KHNlbGVjdGVkT2JqZWN0LmdldFBhcmVudCgp
KTsNCisJCQkJZkFkZENvbW1hbmRBY3Rpb24uc2V0VGFyZ2V0T2JqZWN0KHNlbGVjdGVkT2JqZWN0
KTsNCisJCQkJZkFkZENvbW1hbmRBY3Rpb24uc2V0RW5hYmxlZChmTW9kZWwuaXNFZGl0YWJsZSgp
KTsNCisJCQkJcmV0dXJuIHRydWU7DQorCQkJfSBlbHNlIGlmIChzZWxlY3RlZE9iamVjdC5jYW5B
ZGRDaGlsZChJQ3R4SGVscENvbnN0YW50cy5UWVBFX0NPTU1BTkQpKSB7DQorCQkJCWZBZGRDb21t
YW5kQWN0aW9uLnNldFBhcmVudE9iamVjdChzZWxlY3RlZE9iamVjdCk7DQorCQkJCWZBZGRDb21t
YW5kQWN0aW9uLnNldFRhcmdldE9iamVjdChudWxsKTsNCisJCQkJZkFkZENvbW1hbmRBY3Rpb24u
c2V0RW5hYmxlZChmTW9kZWwuaXNFZGl0YWJsZSgpKTsNCisJCQkJcmV0dXJuIHRydWU7DQorCQkJ
fQ0KKwkJfQ0KKwkJcmV0dXJuIGZhbHNlOw0KKwl9DQorDQorCS8qKg0KKwkgKiBVcGRhdGVzIHRo
ZSByZW1vdmUgYWN0aW9uIGlmIHRoZSBhY3Rpb24gc2hvdWxkIGJlIGF2YWlsYWJsZSBmb3IgdGhl
IHNlbGVjdGlvbi4NCisJICogVXBkYXRlcyBlbmFibGVtZW50LCBwYXJlbnQgb2JqZWN0IGFuZCB0
YXJnZXQgb2JqZWN0LiAgUmV0dXJucyB0cnVlIGlmIHRoZSBhY3Rpb24NCisJICogc2hvdWxkIGJl
IGF2YWlsYWJsZSB0byB0aGUgc2VsZWN0aW9uLiANCisJICogQHBhcmFtIHNlbGVjdGVkT2JqZWN0
IHNlbGVjdGVkIG9iamVjdA0KKwkgKiBAcmV0dXJuIHRydWUgaWYgdGhlIGFjdGlvbiBzaG91bGQg
YmUgYXZhaWxhYmxlIGZvciB0aGUgY3VycmVudCBzZWxlY3Rpb24sIGZhbHNlIG90aGVyd2lzZQ0K
KwkgKi8NCisJcHJpdmF0ZSBib29sZWFuIHVwZGF0ZVJlbW92ZUFjdGlvbldpdGhTZWxlY3Rpb24o
SVN0cnVjdHVyZWRTZWxlY3Rpb24gc2VsZWN0aW9uKSB7DQorCQlMaXN0IG9iamVjdHNUb1JlbW92
ZSA9IGdldFJlbW92YWJsZU9iamVjdEZyb21TZWxlY3Rpb24oc2VsZWN0aW9uKTsNCisJCWZSZW1v
dmVPYmplY3RBY3Rpb24uc2V0VG9SZW1vdmUoKEN0eEhlbHBPYmplY3RbXSkgb2JqZWN0c1RvUmVt
b3ZlLnRvQXJyYXkobmV3IEN0eEhlbHBPYmplY3Rbb2JqZWN0c1RvUmVtb3ZlLnNpemUoKV0pKTsN
CisJCWZSZW1vdmVPYmplY3RBY3Rpb24uc2V0RW5hYmxlZChmTW9kZWwuaXNFZGl0YWJsZSgpKTsN
CisJCXJldHVybiBvYmplY3RzVG9SZW1vdmUuc2l6ZSgpID4gMDsNCisJfQ0KKw0KKwkvKioNCisJ
ICogUmV0dXJucyBhIGxpc3Qgb2Ygb2JqZWN0cyB0aGF0IGlzIHRoZSBzdWJzZXQgb2Ygb2JqZWN0
cyBpbiB0aGUgc2VsZWN0aW9uIHRoYXQNCisJICogY2FuIGJlIHJlbW92ZWQuDQorCSAqIEBwYXJh
bSBzZWxlY3Rpb24gdGhlIHNlbGVjdGlvbg0KKwkgKiBAcmV0dXJuIGxpc3Qgb2Yge0BsaW5rIEN0
eEhlbHBPYmplY3R9cyB0aGF0IGNhbiBiZSByZW1vdmVkLCBwb3NzaWJseSBlbXB0eS4NCisJICov
DQorCXByaXZhdGUgTGlzdCBnZXRSZW1vdmFibGVPYmplY3RGcm9tU2VsZWN0aW9uKElTdHJ1Y3R1
cmVkU2VsZWN0aW9uIHNlbGVjdGlvbikgew0KKwkJTGlzdCBvYmplY3RzVG9SZW1vdmUgPSBuZXcg
QXJyYXlMaXN0KCk7DQorCQlmb3IgKEl0ZXJhdG9yIGl0ZXJhdG9yID0gc2VsZWN0aW9uLml0ZXJh
dG9yKCk7IGl0ZXJhdG9yLmhhc05leHQoKTspIHsNCisJCQlPYmplY3QgY3VycmVudE9iamVjdCA9
IGl0ZXJhdG9yLm5leHQoKTsNCisJCQlpZiAoY3VycmVudE9iamVjdCBpbnN0YW5jZW9mIEN0eEhl
bHBPYmplY3QgJiYgKChDdHhIZWxwT2JqZWN0KSBjdXJyZW50T2JqZWN0KS5jYW5CZVJlbW92ZWQo
KSkgew0KKwkJCQlvYmplY3RzVG9SZW1vdmUuYWRkKGN1cnJlbnRPYmplY3QpOw0KKwkJCX0NCisJ
CX0NCisJCXJldHVybiBvYmplY3RzVG9SZW1vdmU7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9j
KQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFU2VjdGlv
biNkb0dsb2JhbEFjdGlvbihqYXZhLmxhbmcuU3RyaW5nKQ0KKwkgKi8NCisJcHVibGljIGJvb2xl
YW4gZG9HbG9iYWxBY3Rpb24oU3RyaW5nIGFjdGlvbklkKSB7DQorCQlib29sZWFuIGN1dEFjdGlv
biA9IGFjdGlvbklkLmVxdWFscyhBY3Rpb25GYWN0b3J5LkNVVC5nZXRJZCgpKTsNCisNCisJCWlm
IChjdXRBY3Rpb24gfHwgYWN0aW9uSWQuZXF1YWxzKEFjdGlvbkZhY3RvcnkuREVMRVRFLmdldElk
KCkpKSB7DQorCQkJdXBkYXRlUmVtb3ZlQWN0aW9uV2l0aFNlbGVjdGlvbigoSVN0cnVjdHVyZWRT
ZWxlY3Rpb24pIGZUcmVlLmdldFNlbGVjdGlvbigpKTsNCisJCQlmUmVtb3ZlT2JqZWN0QWN0aW9u
LnJ1bigpOw0KKwkJCXJldHVybiAhY3V0QWN0aW9uOw0KKwkJfQ0KKw0KKwkJaWYgKGFjdGlvbklk
LmVxdWFscyhBY3Rpb25GYWN0b3J5LlBBU1RFLmdldElkKCkpKSB7DQorCQkJZG9QYXN0ZSgpOw0K
KwkJCXJldHVybiB0cnVlOw0KKwkJfQ0KKw0KKwkJcmV0dXJuIGZhbHNlOw0KKwl9DQorDQorCS8q
IChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLlN0cnVjdHVyZWRWaWV3ZXJTZWN0aW9uI2NhblBhc3RlKGphdmEubGFuZy5PYmplY3QsIGph
dmEubGFuZy5PYmplY3RbXSkNCisJICovDQorCXByb3RlY3RlZCBib29sZWFuIGNhblBhc3RlKE9i
amVjdCB0YXJnZXRPYmplY3QsIE9iamVjdFtdIHNvdXJjZU9iamVjdHMpIHsNCisJCXJldHVybiBj
YW5Ecm9wQ29weSh0YXJnZXRPYmplY3QsIHNvdXJjZU9iamVjdHMsIFZpZXdlckRyb3BBZGFwdGVy
LkxPQ0FUSU9OX09OKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3Jn
LmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5TdHJ1Y3R1cmVkVmlld2VyU2VjdGlvbiNk
b1Bhc3RlKGphdmEubGFuZy5PYmplY3QsIGphdmEubGFuZy5PYmplY3RbXSkNCisJICovDQorCXBy
b3RlY3RlZCB2b2lkIGRvUGFzdGUoT2JqZWN0IHRhcmdldE9iamVjdCwgT2JqZWN0W10gc291cmNl
T2JqZWN0cykgew0KKwkJZG9Ecm9wQ29weSh0YXJnZXRPYmplY3QsIHNvdXJjZU9iamVjdHMsIFZp
ZXdlckRyb3BBZGFwdGVyLkxPQ0FUSU9OX09OKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2Mp
DQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5UcmVlU2VjdGlv
biNoYW5kbGVEb3VibGVDbGljayhvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklTdHJ1Y3R1cmVk
U2VsZWN0aW9uKQ0KKwkgKi8NCisJcHJvdGVjdGVkIHZvaWQgaGFuZGxlRG91YmxlQ2xpY2soSVN0
cnVjdHVyZWRTZWxlY3Rpb24gc2VsZWN0aW9uKSB7DQorCQlPYmplY3Qgc2VsZWN0ZWQgPSBzZWxl
Y3Rpb24uZ2V0Rmlyc3RFbGVtZW50KCk7DQorCQlpZiAoc2VsZWN0ZWQgaW5zdGFuY2VvZiBDdHhI
ZWxwVG9waWMpIHsNCisJCQlvcGVuKChDdHhIZWxwVG9waWMpIHNlbGVjdGVkKTsNCisJCX0gZWxz
ZSBpZiAoc2VsZWN0ZWQgaW5zdGFuY2VvZiBDdHhIZWxwT2JqZWN0KSB7DQorCQkJZlRyZWUuZXhw
YW5kVG9MZXZlbChzZWxlY3RlZCwgMSk7DQorCQl9DQorCX0NCisNCisJLyoqDQorCSAqIE9wZW5z
IHRoZSBmaWxlIHRoYXQgaXMgbGlua2VkIGluIHRoZSBnaXZlbiB0b3BpYy4NCisJICogQHBhcmFt
IHRvcGljIHRoZSB0b3BpYyBjb250YWluaW5nIGEgbGluayB0byBhIGZpbGUNCisJICovDQorCXB1
YmxpYyB2b2lkIG9wZW4oQ3R4SGVscFRvcGljIHRvcGljKSB7DQorCQlJUGF0aCByZXNvdXJjZVBh
dGggPSB0b3BpYy5nZXRMb2NhdGlvbigpOw0KKwkJaWYgKCFpc0VkaXRhYmxlKCkgfHwgcmVzb3Vy
Y2VQYXRoID09IG51bGwgfHwgcmVzb3VyY2VQYXRoLmlzRW1wdHkoKSkgew0KKwkJCU1lc3NhZ2VE
aWFsb2cub3Blbldhcm5pbmcoUERFUGx1Z2luLmdldEFjdGl2ZVdvcmtiZW5jaFNoZWxsKCksIFBE
RVVJTWVzc2FnZXMuV2luZG93SW1hZ2VzU2VjdGlvbl9vcGVuLCBQREVVSU1lc3NhZ2VzLldpbmRv
d0ltYWdlc1NlY3Rpb25fZW1wdHlQYXRoKTsNCisJCQlyZXR1cm47DQorCQl9DQorDQorCQlJUmVz
b3VyY2UgcmVzb3VyY2UgPSBmTW9kZWwuZ2V0VW5kZXJseWluZ1Jlc291cmNlKCkuZ2V0UHJvamVj
dCgpLmZpbmRNZW1iZXIocmVzb3VyY2VQYXRoKTsNCisJCWlmIChyZXNvdXJjZSAhPSBudWxsICYm
IHJlc291cmNlIGluc3RhbmNlb2YgSUZpbGUpIHsNCisJCQlJUGF0aCBwYXRoID0gcmVzb3VyY2Uu
Z2V0RnVsbFBhdGgoKTsNCisJCQlpZiAoSGVscEVkaXRvclV0aWwuaGFzVmFsaWRQYWdlRXh0ZW5z
aW9uKHBhdGgpKSB7DQorCQkJCXRyeSB7DQorCQkJCQlJREUub3BlbkVkaXRvcihQREVQbHVnaW4u
Z2V0QWN0aXZlUGFnZSgpLCAoSUZpbGUpIHJlc291cmNlLCB0cnVlKTsNCisJCQkJfSBjYXRjaCAo
UGFydEluaXRFeGNlcHRpb24gZSkgeyAvL3N1cHByZXNzIGV4Y2VwdGlvbg0KKwkJCQl9DQorCQkJ
fSBlbHNlIHsNCisJCQkJTWVzc2FnZURpYWxvZy5vcGVuV2FybmluZyhQREVQbHVnaW4uZ2V0QWN0
aXZlV29ya2JlbmNoU2hlbGwoKSwgUERFVUlNZXNzYWdlcy5XaW5kb3dJbWFnZXNTZWN0aW9uX29w
ZW4sIFBERVVJTWVzc2FnZXMuVG9jUGFnZV9pbnZhbGlkSFRNTEZpbGUpOw0KKwkJCX0NCisJCX0g
ZWxzZSB7DQorCQkJTWVzc2FnZURpYWxvZy5vcGVuV2FybmluZyhQREVQbHVnaW4uZ2V0QWN0aXZl
V29ya2JlbmNoU2hlbGwoKSwgUERFVUlNZXNzYWdlcy5XaW5kb3dJbWFnZXNTZWN0aW9uX29wZW4s
IFBERVVJTWVzc2FnZXMuV2luZG93SW1hZ2VzU2VjdGlvbl93YXJuaW5nKTsNCisJCX0NCisJfQ0K
Kw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LnVpLmVkaXRvci5TdHJ1Y3R1cmVkVmlld2VyU2VjdGlvbiNidXR0b25TZWxlY3RlZChpbnQpDQor
CSAqLw0KKwlwcm90ZWN0ZWQgdm9pZCBidXR0b25TZWxlY3RlZChpbnQgaW5kZXgpIHsNCisJCUlT
dHJ1Y3R1cmVkU2VsZWN0aW9uIHNlbGVjdGlvbiA9IChJU3RydWN0dXJlZFNlbGVjdGlvbikgZlRy
ZWUuZ2V0U2VsZWN0aW9uKCk7DQorCQlPYmplY3Qgb2JqZWN0ID0gc2VsZWN0aW9uLmdldEZpcnN0
RWxlbWVudCgpOw0KKwkJQ3R4SGVscE9iamVjdCBmaXJzdFNlbGVjdGVkT2JqZWN0ID0gKEN0eEhl
bHBPYmplY3QpIG9iamVjdDsNCisJCXN3aXRjaCAoaW5kZXgpIHsNCisJCQljYXNlIEZfQlVUVE9O
X0FERF9DT05URVhUIDoNCisJCQkJdXBkYXRlQWRkQ29udGV4dEFjdGlvbldpdGhTZWxlY3Rpb24o
Zmlyc3RTZWxlY3RlZE9iamVjdCk7DQorCQkJCWZBZGRDb250ZXh0QWN0aW9uLnJ1bigpOw0KKwkJ
CQlicmVhazsNCisJCQljYXNlIEZfQlVUVE9OX0FERF9UT1BJQyA6DQorCQkJCXVwZGF0ZUFkZFRv
cGljQWN0aW9uV2l0aFNlbGVjdGlvbihmaXJzdFNlbGVjdGVkT2JqZWN0KTsNCisJCQkJZkFkZFRv
cGljQWN0aW9uLnJ1bigpOw0KKwkJCQlicmVhazsNCisJCQljYXNlIEZfQlVUVE9OX0FERF9DT01N
QU5EIDoNCisJCQkJdXBkYXRlQWRkQ29tbWFuZEFjdGlvbldpdGhTZWxlY3Rpb24oZmlyc3RTZWxl
Y3RlZE9iamVjdCk7DQorCQkJCWZBZGRDb21tYW5kQWN0aW9uLnJ1bigpOw0KKwkJCQlicmVhazsN
CisJCQljYXNlIEZfQlVUVE9OX1JFTU9WRSA6DQorCQkJCXVwZGF0ZVJlbW92ZUFjdGlvbldpdGhT
ZWxlY3Rpb24oc2VsZWN0aW9uKTsNCisJCQkJZlJlbW92ZU9iamVjdEFjdGlvbi5ydW4oKTsNCisJ
CQkJYnJlYWs7DQorCQkJY2FzZSBGX0JVVFRPTl9VUCA6DQorCQkJCWhhbmRsZU1vdmVBY3Rpb24o
Rl9VUF9GTEFHKTsNCisJCQkJYnJlYWs7DQorCQkJY2FzZSBGX0JVVFRPTl9ET1dOIDoNCisJCQkJ
aGFuZGxlTW92ZUFjdGlvbihGX0RPV05fRkxBRyk7DQorCQkJCWJyZWFrOw0KKwkJfQ0KKwl9DQor
DQorCS8qKg0KKwkgKiBNb3ZlIGFuIG9iamVjdCB3aXRoaW4gdGhlIHN0cnVjdHVyZS4NCisJICog
DQorCSAqIEBwYXJhbSBwb3NpdGlvbkZsYWcgVGhlIGRpcmVjdGlvbiB0aGF0IHRoZSBvYmplY3Qg
d2lsbCBtb3ZlLCBlaXRoZXIgRl9VUF9GTEFHIG9yIEZfRE9XTl9GTEFHDQorCSAqLw0KKwlwcml2
YXRlIHZvaWQgaGFuZGxlTW92ZUFjdGlvbihpbnQgcG9zaXRpb25GbGFnKSB7DQorCQlJU3RydWN0
dXJlZFNlbGVjdGlvbiBzZWwgPSAoSVN0cnVjdHVyZWRTZWxlY3Rpb24pIGZUcmVlLmdldFNlbGVj
dGlvbigpOw0KKw0KKwkJT2JqZWN0IG9iamVjdCA9IHNlbC5nZXRGaXJzdEVsZW1lbnQoKTsNCisJ
CWlmIChvYmplY3QgPT0gbnVsbCkgew0KKwkJCXJldHVybjsNCisJCX0gZWxzZSBpZiAob2JqZWN0
IGluc3RhbmNlb2YgQ3R4SGVscE9iamVjdCkgew0KKwkJCUN0eEhlbHBPYmplY3QgY3R4SGVscE9i
amVjdCA9IChDdHhIZWxwT2JqZWN0KSBvYmplY3Q7DQorCQkJQ3R4SGVscE9iamVjdCBwYXJlbnQg
PSBjdHhIZWxwT2JqZWN0LmdldFBhcmVudCgpOw0KKwkJCWlmIChwYXJlbnQgIT0gbnVsbCkgew0K
KwkJCQlwYXJlbnQubW92ZUNoaWxkKGN0eEhlbHBPYmplY3QsIHBvc2l0aW9uRmxhZyk7DQorCQkJ
CWZUcmVlLnNldFNlbGVjdGlvbihuZXcgU3RydWN0dXJlZFNlbGVjdGlvbihjdHhIZWxwT2JqZWN0
KSwgdHJ1ZSk7DQorCQkJfQ0KKwkJfQ0KKw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJ
ICogQHNlZSBvcmcuZWNsaXBzZS51aS5mb3Jtcy5BYnN0cmFjdEZvcm1QYXJ0I3JlZnJlc2goKQ0K
KwkgKi8NCisJcHVibGljIHZvaWQgcmVmcmVzaCgpIHsNCisJCUN0eEhlbHBNb2RlbCBtb2RlbCA9
IChDdHhIZWxwTW9kZWwpIGdldFBhZ2UoKS5nZXRNb2RlbCgpOw0KKwkJZlRyZWUuc2V0SW5wdXQo
bW9kZWwpOw0KKwkJZlRyZWUuZXhwYW5kVG9MZXZlbCgyKTsNCisJCWZUcmVlLnNldFNlbGVjdGlv
bihuZXcgU3RydWN0dXJlZFNlbGVjdGlvbihtb2RlbC5nZXRDdHhIZWxwUm9vdCgpKSwgdHJ1ZSk7
DQorCQlnZXRNYW5hZ2VkRm9ybSgpLmZpcmVTZWxlY3Rpb25DaGFuZ2VkKHRoaXMsIGZUcmVlLmdl
dFNlbGVjdGlvbigpKTsNCisJCXN1cGVyLnJlZnJlc2goKTsNCisJfQ0KKw0KKwkvKiAobm9uLUph
dmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UudWkuZm9ybXMuQWJzdHJhY3RGb3JtUGFydCNk
aXNwb3NlKCkNCisJICovDQorCXB1YmxpYyB2b2lkIGRpc3Bvc2UoKSB7DQorCQlQREVQbHVnaW4u
Z2V0RGVmYXVsdCgpLmdldExhYmVsUHJvdmlkZXIoKS5kaXNjb25uZWN0KHRoaXMpOw0KKwkJc3Vw
ZXIuZGlzcG9zZSgpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlN0cnVjdHVyZWRWaWV3ZXJTZWN0aW9uI2lz
RHJhZ0FuZERyb3BFbmFibGVkKCkNCisJICovDQorCXByb3RlY3RlZCBib29sZWFuIGlzRHJhZ0Fu
ZERyb3BFbmFibGVkKCkgew0KKwkJLy8gVE9ETyBETkQgdHVybmVkIG9mZiBiZWNhdXNlIHRoZSBp
bnNlcnRlZCBlbGVtZW50IHdvdWxkIG9mdGVuIGJlIHBsYWNlZCBpbiB0aGUgd3JvbmcgbG9jYXRp
b24gaW4gdGhlIHhtbA0KKwkJcmV0dXJuIGZhbHNlOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRv
YykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlN0cnVjdHVy
ZWRWaWV3ZXJTZWN0aW9uI2dldFN1cHBvcnRlZERORE9wZXJhdGlvbnMoKQ0KKwkgKi8NCisJcHVi
bGljIGludCBnZXRTdXBwb3J0ZWRETkRPcGVyYXRpb25zKCkgew0KKwkJcmV0dXJuIERORC5EUk9Q
X01PVkUgfCBETkQuRFJPUF9DT1BZOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICog
QHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlN0cnVjdHVyZWRWaWV3ZXJT
ZWN0aW9uI2RvRHJvcENvcHkoamF2YS5sYW5nLk9iamVjdCwgamF2YS5sYW5nLk9iamVjdFtdLCBp
bnQpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBkb0Ryb3BDb3B5KE9iamVjdCB0YXJnZXRPYmplY3Qs
IE9iamVjdFtdIHNvdXJjZU9iamVjdHMsIGludCB0YXJnZXRMb2NhdGlvbikgew0KKwkJaWYgKGZE
cm9wVGFyZ2V0UGFyZW50ICE9IG51bGwpIHsNCisJCQlpZiAoZkRyb3BUYXJnZXRTaWJsaW5nICE9
IG51bGwpIHsNCisJCQkJaWYgKHRhcmdldExvY2F0aW9uID09IFZpZXdlckRyb3BBZGFwdGVyLkxP
Q0FUSU9OX0JFRk9SRSkgew0KKwkJCQkJZm9yIChpbnQgaSA9IDA7IGkgPCBzb3VyY2VPYmplY3Rz
Lmxlbmd0aDsgaSsrKSB7DQorCQkJCQkJZkRyb3BUYXJnZXRQYXJlbnQuYWRkQ2hpbGQoKEN0eEhl
bHBPYmplY3QpIHNvdXJjZU9iamVjdHNbaV0sIGZEcm9wVGFyZ2V0U2libGluZywgdHJ1ZSk7DQor
CQkJCQl9DQorCQkJCX0gZWxzZSB7DQorCQkJCQlmb3IgKGludCBpID0gc291cmNlT2JqZWN0cy5s
ZW5ndGggLSAxOyBpID49IDA7IGktLSkgew0KKwkJCQkJCWZEcm9wVGFyZ2V0UGFyZW50LmFkZENo
aWxkKChDdHhIZWxwT2JqZWN0KSBzb3VyY2VPYmplY3RzW2ldLCBmRHJvcFRhcmdldFNpYmxpbmcs
IGZhbHNlKTsNCisJCQkJCX0NCisJCQkJfQ0KKwkJCX0gZWxzZSB7DQorCQkJCWZvciAoaW50IGkg
PSAwOyBpIDwgc291cmNlT2JqZWN0cy5sZW5ndGg7IGkrKykgew0KKwkJCQkJZkRyb3BUYXJnZXRQ
YXJlbnQuYWRkQ2hpbGQoKEN0eEhlbHBPYmplY3QpIHNvdXJjZU9iamVjdHNbaV0pOw0KKwkJCQl9
DQorCQkJfQ0KKwkJfQ0KKwkJZkRyb3BUYXJnZXRQYXJlbnQgPSBudWxsOw0KKwkJZkRyb3BUYXJn
ZXRTaWJsaW5nID0gbnVsbDsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUg
b3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5TdHJ1Y3R1cmVkVmlld2VyU2VjdGlv
biNkb0Ryb3BNb3ZlKGphdmEubGFuZy5PYmplY3QsIGphdmEubGFuZy5PYmplY3RbXSwgaW50KQ0K
KwkgKi8NCisJcHVibGljIHZvaWQgZG9Ecm9wTW92ZShPYmplY3QgdGFyZ2V0T2JqZWN0LCBPYmpl
Y3RbXSBzb3VyY2VPYmplY3RzLCBpbnQgdGFyZ2V0TG9jYXRpb24pIHsNCisJCWRvRHJvcENvcHko
dGFyZ2V0T2JqZWN0LCBzb3VyY2VPYmplY3RzLCB0YXJnZXRMb2NhdGlvbik7DQorCX0NCisNCisJ
LyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5l
ZGl0b3IuU3RydWN0dXJlZFZpZXdlclNlY3Rpb24jY2FuRHJvcENvcHkoamF2YS5sYW5nLk9iamVj
dCwgamF2YS5sYW5nLk9iamVjdFtdLCBpbnQpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBjYW5E
cm9wQ29weShPYmplY3QgdGFyZ2V0T2JqZWN0LCBPYmplY3RbXSBzb3VyY2VPYmplY3RzLCBpbnQg
dGFyZ2V0TG9jYXRpb24pIHsNCisJCS8vIEFkZCBhcyBhIGNoaWxkIG9mIHRoZSByb290DQorCQlp
ZiAodGFyZ2V0T2JqZWN0ID09IG51bGwgfHwgISh0YXJnZXRPYmplY3QgaW5zdGFuY2VvZiBDdHhI
ZWxwT2JqZWN0IHx8ICgoQ3R4SGVscE9iamVjdCkgdGFyZ2V0T2JqZWN0KS5nZXRUeXBlKCkgPT0g
SUN0eEhlbHBDb25zdGFudHMuVFlQRV9ST09UKSkgew0KKwkJCWZvciAoaW50IGkgPSAwOyBpIDwg
c291cmNlT2JqZWN0cy5sZW5ndGg7IGkrKykgew0KKwkJCQlpZiAoIShzb3VyY2VPYmplY3RzW2ld
IGluc3RhbmNlb2YgQ3R4SGVscE9iamVjdCkgfHwgIWZNb2RlbC5nZXRDdHhIZWxwUm9vdCgpLmNh
bkFkZENoaWxkKCgoQ3R4SGVscE9iamVjdCkgc291cmNlT2JqZWN0c1tpXSkuZ2V0VHlwZSgpKSkg
ew0KKwkJCQkJcmV0dXJuIGZhbHNlOw0KKwkJCQl9DQorCQkJfQ0KKwkJCWZEcm9wVGFyZ2V0UGFy
ZW50ID0gZk1vZGVsLmdldEN0eEhlbHBSb290KCk7DQorCQkJZkRyb3BUYXJnZXRTaWJsaW5nID0g
bnVsbDsNCisJCQlyZXR1cm4gdHJ1ZTsNCisJCX0NCisNCisJCUN0eEhlbHBPYmplY3QgZHJvcFRh
cmdldCA9IChDdHhIZWxwT2JqZWN0KSB0YXJnZXRPYmplY3Q7DQorDQorCQkvLyBBZGQgYXMgYSBj
aGlsZCBvZiB0aGUgdGFyZ2V0DQorCQlpZiAodGFyZ2V0TG9jYXRpb24gPT0gVmlld2VyRHJvcEFk
YXB0ZXIuTE9DQVRJT05fT04pIHsNCisJCQlib29sZWFuIHJlc3VsdCA9IHRydWU7DQorCQkJZm9y
IChpbnQgaSA9IDA7IGkgPCBzb3VyY2VPYmplY3RzLmxlbmd0aDsgaSsrKSB7DQorCQkJCWlmICgh
KHNvdXJjZU9iamVjdHNbaV0gaW5zdGFuY2VvZiBDdHhIZWxwT2JqZWN0KSB8fCAhZHJvcFRhcmdl
dC5jYW5BZGRDaGlsZCgoKEN0eEhlbHBPYmplY3QpIHNvdXJjZU9iamVjdHNbaV0pLmdldFR5cGUo
KSkpIHsNCisJCQkJCXJlc3VsdCA9IGZhbHNlOw0KKwkJCQkJYnJlYWs7DQorCQkJCX0NCisJCQl9
DQorCQkJLy8gSWYgYWRkaW5nIGFzIGEgY2hpbGQgd29ya3MsIGRvIHNvLCBvdGhlcndpc2UgdHJ5
IGFzIGEgc2libGluZw0KKwkJCWlmIChyZXN1bHQpIHsNCisJCQkJZkRyb3BUYXJnZXRQYXJlbnQg
PSBkcm9wVGFyZ2V0Ow0KKwkJCQlmRHJvcFRhcmdldFNpYmxpbmcgPSBudWxsOw0KKwkJCQlyZXR1
cm4gdHJ1ZTsNCisJCQl9DQorCQl9DQorDQorCQkvLyBBZGQgYXMgYSBzaWJsaW5nIG9mIHRoZSB0
YXJnZXQNCisJCWZvciAoaW50IGkgPSAwOyBpIDwgc291cmNlT2JqZWN0cy5sZW5ndGg7IGkrKykg
ew0KKwkJCWlmICghKHNvdXJjZU9iamVjdHNbaV0gaW5zdGFuY2VvZiBDdHhIZWxwT2JqZWN0KSB8
fCAhZHJvcFRhcmdldC5jYW5BZGRTaWJsaW5nKCgoQ3R4SGVscE9iamVjdCkgc291cmNlT2JqZWN0
c1tpXSkuZ2V0VHlwZSgpKSkgew0KKwkJCQlyZXR1cm4gZmFsc2U7DQorCQkJfQ0KKwkJfQ0KKwkJ
ZkRyb3BUYXJnZXRQYXJlbnQgPSBkcm9wVGFyZ2V0LmdldFBhcmVudCgpOw0KKwkJZkRyb3BUYXJn
ZXRTaWJsaW5nID0gZHJvcFRhcmdldDsNCisJCXJldHVybiB0cnVlOw0KKwl9DQorDQorCS8qIChu
b24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9y
LlN0cnVjdHVyZWRWaWV3ZXJTZWN0aW9uI2NhbkRyb3BNb3ZlKGphdmEubGFuZy5PYmplY3QsIGph
dmEubGFuZy5PYmplY3RbXSwgaW50KQ0KKwkgKi8NCisJcHVibGljIGJvb2xlYW4gY2FuRHJvcE1v
dmUoT2JqZWN0IHRhcmdldE9iamVjdCwgT2JqZWN0W10gc291cmNlT2JqZWN0cywgaW50IHRhcmdl
dExvY2F0aW9uKSB7DQorCQkvLyBTYW1lIGFzIGRyb3AgY29weSBvcGVyYXRpb24NCisJCXJldHVy
biBjYW5Ecm9wQ29weSh0YXJnZXRPYmplY3QsIHNvdXJjZU9iamVjdHMsIHRhcmdldExvY2F0aW9u
KTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRl
LmludGVybmFsLnVpLmVkaXRvci5TdHJ1Y3R1cmVkVmlld2VyU2VjdGlvbiNjYW5EcmFnQ29weShq
YXZhLmxhbmcuT2JqZWN0W10pDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBjYW5EcmFnQ29weShP
YmplY3RbXSBzb3VyY2VPYmplY3RzKSB7DQorCQkvLyBBbGxvdyBhbnl0aGluZyB0byBiZSBkcmFn
IGNvcGllZA0KKwkJcmV0dXJuIHRydWU7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkg
KiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuU3RydWN0dXJlZFZpZXdl
clNlY3Rpb24jY2FuRHJhZ01vdmUoamF2YS5sYW5nLk9iamVjdFtdKQ0KKwkgKi8NCisJcHVibGlj
IGJvb2xlYW4gY2FuRHJhZ01vdmUoT2JqZWN0W10gc291cmNlT2JqZWN0cykgew0KKwkJZm9yIChp
bnQgaSA9IDA7IGkgPCBzb3VyY2VPYmplY3RzLmxlbmd0aDsgaSsrKSB7DQorCQkJaWYgKCEoc291
cmNlT2JqZWN0c1tpXSBpbnN0YW5jZW9mIEN0eEhlbHBPYmplY3QpIHx8ICEoKEN0eEhlbHBPYmpl
Y3QpIHNvdXJjZU9iamVjdHNbaV0pLmNhbkJlUmVtb3ZlZCgpKSB7DQorCQkJCXJldHVybiBmYWxz
ZTsNCisJCQl9DQorCQl9DQorCQlmRHJhZ0Zyb21IZXJlID0gdHJ1ZTsNCisJCXJldHVybiB0cnVl
Ow0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwudWkuZWRpdG9yLlN0cnVjdHVyZWRWaWV3ZXJTZWN0aW9uI2RvRHJhZ1JlbW92ZShq
YXZhLmxhbmcuT2JqZWN0W10pDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBkb0RyYWdSZW1vdmUoT2Jq
ZWN0W10gc291cmNlT2JqZWN0cykgew0KKwkJdXBkYXRlUmVtb3ZlQWN0aW9uV2l0aFNlbGVjdGlv
bihuZXcgU3RydWN0dXJlZFNlbGVjdGlvbihzb3VyY2VPYmplY3RzKSk7DQorCQlmUmVtb3ZlT2Jq
ZWN0QWN0aW9uLnJ1bigpOw0KKwkJZkRyYWdGcm9tSGVyZSA9IGZhbHNlOw0KKwl9DQorDQorCS8q
IChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLlBERVNlY3Rpb24jbW9kZWxDaGFuZ2VkKG9yZy5lY2xpcHNlLnBkZS5jb3JlLklNb2RlbENo
YW5nZWRFdmVudCkNCisJICovDQorCXB1YmxpYyB2b2lkIG1vZGVsQ2hhbmdlZChJTW9kZWxDaGFu
Z2VkRXZlbnQgZXZlbnQpIHsNCisJCS8vIE5vIG5lZWQgdG8gY2FsbCBzdXBlciwgd29ybGQgY2hh
bmdlZCBldmVudCBoYW5kbGVkIGhlcmUNCisJCWlmIChldmVudC5nZXRDaGFuZ2VUeXBlKCkgPT0g
SU1vZGVsQ2hhbmdlZEV2ZW50LldPUkxEX0NIQU5HRUQpIHsNCisJCQloYW5kbGVNb2RlbEV2ZW50
V29ybGRDaGFuZ2VkKGV2ZW50KTsNCisJCX0gZWxzZSBpZiAoZXZlbnQuZ2V0Q2hhbmdlVHlwZSgp
ID09IElNb2RlbENoYW5nZWRFdmVudC5JTlNFUlQpIHsNCisJCQloYW5kbGVNb2RlbEluc2VydFR5
cGUoZXZlbnQpOw0KKwkJfSBlbHNlIGlmIChldmVudC5nZXRDaGFuZ2VUeXBlKCkgPT0gSU1vZGVs
Q2hhbmdlZEV2ZW50LlJFTU9WRSkgew0KKwkJCWhhbmRsZU1vZGVsUmVtb3ZlVHlwZShldmVudCk7
DQorCQl9IGVsc2UgaWYgKChldmVudC5nZXRDaGFuZ2VUeXBlKCkgPT0gSU1vZGVsQ2hhbmdlZEV2
ZW50LkNIQU5HRSkgJiYgKGV2ZW50LmdldENoYW5nZWRQcm9wZXJ0eSgpLmVxdWFscyhJRG9jdW1l
bnRFbGVtZW50Tm9kZS5GX1BST1BFUlRZX0NIQU5HRV9UWVBFX1NXQVApKSkgew0KKwkJCWhhbmRs
ZU1vZGVsQ2hhbmdlVHlwZVN3YXAoZXZlbnQpOw0KKwkJfSBlbHNlIGlmIChldmVudC5nZXRDaGFu
Z2VUeXBlKCkgPT0gSU1vZGVsQ2hhbmdlZEV2ZW50LkNIQU5HRSkgew0KKwkJCWhhbmRsZU1vZGVs
Q2hhbmdlVHlwZShldmVudCk7DQorCQl9DQorCX0NCisNCisJLyoqDQorCSAqIEhhbmRsZXMgdGhl
IHN3YXAgZXZlbnQNCisJICogQHBhcmFtIGV2ZW50IHRoZSBzd2FwIGV2ZW50DQorCSAqLw0KKwlw
cml2YXRlIHZvaWQgaGFuZGxlTW9kZWxDaGFuZ2VUeXBlU3dhcChJTW9kZWxDaGFuZ2VkRXZlbnQg
ZXZlbnQpIHsNCisJCU9iamVjdFtdIG9iamVjdHMgPSBldmVudC5nZXRDaGFuZ2VkT2JqZWN0cygp
Ow0KKwkJQ3R4SGVscE9iamVjdCBvYmplY3QgPSAoQ3R4SGVscE9iamVjdCkgb2JqZWN0c1swXTsN
CisNCisJCWlmIChvYmplY3QgIT0gbnVsbCkgew0KKwkJCWZUcmVlLnJlZnJlc2gob2JqZWN0KTsN
CisJCX0NCisJfQ0KKw0KKwkvKioNCisJICogVGhlIG1vZGVsIGlzIHN0YWxlLCByZWZyZXNoIHRo
ZSBVSQ0KKwkgKiBAcGFyYW0gZXZlbnQgVGhlIHdvcmxkLWNoYW5nZSBldmVudA0KKwkgKi8NCisJ
cHJpdmF0ZSB2b2lkIGhhbmRsZU1vZGVsRXZlbnRXb3JsZENoYW5nZWQoSU1vZGVsQ2hhbmdlZEV2
ZW50IGV2ZW50KSB7DQorCQltYXJrU3RhbGUoKTsNCisJfQ0KKw0KKwkvKioNCisJICogSGFuZGxl
IGluc2VydGlvbnMgaW4gdGhlIG1vZGVsDQorCSAqIEBwYXJhbSBldmVudCB0aGUgaW5zZXJ0aW9u
IGV2ZW50DQorCSAqLw0KKwlwcml2YXRlIHZvaWQgaGFuZGxlTW9kZWxJbnNlcnRUeXBlKElNb2Rl
bENoYW5nZWRFdmVudCBldmVudCkgew0KKwkJT2JqZWN0W10gb2JqZWN0cyA9IGV2ZW50LmdldENo
YW5nZWRPYmplY3RzKCk7DQorCQlmb3IgKGludCBpID0gMDsgaSA8IG9iamVjdHMubGVuZ3RoOyBp
KyspIHsNCisJCQlDdHhIZWxwT2JqZWN0IG9iamVjdCA9IChDdHhIZWxwT2JqZWN0KSBvYmplY3Rz
W2ldOw0KKwkJCWlmIChvYmplY3QgIT0gbnVsbCkgew0KKwkJCQlpZiAob2JqZWN0LmdldFR5cGUo
KSAhPSBJQ3R4SGVscENvbnN0YW50cy5UWVBFX1JPT1QpIHsNCisJCQkJCWZUcmVlLnJlZnJlc2go
b2JqZWN0LmdldFBhcmVudCgpKTsNCisJCQkJCS8vIFNlbGVjdCB0aGUgbmV3IG9iamVjdCBpbiB0
aGUgdHJlZSwgdW5sZXNzIGl0IGlzIGEgZGVzY3JpcHRpb24gbm9kZQ0KKwkJCQkJaWYgKCEob2Jq
ZWN0IGluc3RhbmNlb2YgQ3R4SGVscERlc2NyaXB0aW9uKSkgew0KKwkJCQkJCWZUcmVlLnNldFNl
bGVjdGlvbihuZXcgU3RydWN0dXJlZFNlbGVjdGlvbihvYmplY3QpLCB0cnVlKTsNCisJCQkJCX0N
CisJCQkJfQ0KKwkJCX0NCisJCX0NCisJfQ0KKw0KKwkvKioNCisJICogSGFuZGxlIHJlbW92YWxz
IGluIHRoZSBtb2RlbA0KKwkgKiBAcGFyYW0gZXZlbnQgdGhlIHJlbW92YWwgZXZlbnQNCisJICov
DQorCXByaXZhdGUgdm9pZCBoYW5kbGVNb2RlbFJlbW92ZVR5cGUoSU1vZGVsQ2hhbmdlZEV2ZW50
IGV2ZW50KSB7DQorCQlPYmplY3RbXSBvYmplY3RzID0gZXZlbnQuZ2V0Q2hhbmdlZE9iamVjdHMo
KTsNCisJCWZvciAoaW50IGkgPSAwOyBpIDwgb2JqZWN0cy5sZW5ndGg7IGkrKykgew0KKwkJCWlm
IChvYmplY3RzW2ldICE9IG51bGwpIHsNCisJCQkJQ3R4SGVscE9iamVjdCBvYmplY3QgPSAoQ3R4
SGVscE9iamVjdCkgb2JqZWN0c1tpXTsNCisJCQkJZlRyZWUucmVtb3ZlKG9iamVjdCk7DQorCQkJ
CUN0eEhlbHBPYmplY3QgbmV4dFNlbGVjdGlvbiA9IGZSZW1vdmVPYmplY3RBY3Rpb24uZ2V0TmV4
dFNlbGVjdGlvbigpOw0KKwkJCQlpZiAobmV4dFNlbGVjdGlvbiAhPSBudWxsKSB7DQorCQkJCQlm
VHJlZS5yZWZyZXNoKG9iamVjdC5nZXRQYXJlbnQoKSk7DQorCQkJCQlpZiAoIWZEcmFnRnJvbUhl
cmUpIHsNCisJCQkJCQlmVHJlZS5zZXRTZWxlY3Rpb24obmV3IFN0cnVjdHVyZWRTZWxlY3Rpb24o
bmV4dFNlbGVjdGlvbiksIHRydWUpOw0KKwkJCQkJfQ0KKwkJCQkJZlJlbW92ZU9iamVjdEFjdGlv
bi5jbGVhck5leHRTZWxlY3Rpb24oKTsNCisJCQkJfQ0KKwkJCX0NCisJCX0NCisJfQ0KKw0KKwkv
KioNCisJICogSGFuZGxlIGFuIHVwZGF0ZSB0byBhbiBvYmplY3QncyBwcm9wZXJ0aWVzDQorCSAq
IEBwYXJhbSBldmVudCB0aGUgdXBkYXRlIGV2ZW50DQorCSAqLw0KKwlwcml2YXRlIHZvaWQgaGFu
ZGxlTW9kZWxDaGFuZ2VUeXBlKElNb2RlbENoYW5nZWRFdmVudCBldmVudCkgew0KKwkJT2JqZWN0
W10gb2JqZWN0cyA9IGV2ZW50LmdldENoYW5nZWRPYmplY3RzKCk7DQorCQlDdHhIZWxwT2JqZWN0
IG9iamVjdCA9IChDdHhIZWxwT2JqZWN0KSBvYmplY3RzWzBdOw0KKw0KKwkJaWYgKG9iamVjdCAh
PSBudWxsKSB7DQorCQkJZlRyZWUudXBkYXRlKG9iamVjdCwgbnVsbCk7DQorCQl9DQorCX0NCisN
Cit9DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL2Rl
dGFpbHMvSGVscEVkaXRvckZpbHRlci5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogc3JjL29y
Zy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL2RldGFpbHMvSGVscEVkaXRvckZp
bHRlci5qYXZhDQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9y
L3RvYy9kZXRhaWxzL0hlbHBFZGl0b3JGaWx0ZXIuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAx
OTcwIDAwOjAwOjAwIC0wMDAwDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9l
ZGl0b3IvdG9jL2RldGFpbHMvSGVscEVkaXRvckZpbHRlci5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6
MDAgLTAwMDANCkBAIC0wLDAgKzEsNDcgQEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAq
IENvcHlyaWdodCAoYykgMjAwNywgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisg
KiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcg
bWF0ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUg
RWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBk
aXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uu
b3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJ
Qk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKi8NCisNCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51
aS5lZGl0b3IudG9jLmRldGFpbHM7DQorDQoraW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3Vy
Y2VzLio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucnVudGltZS5Db3JlRXhjZXB0aW9uOw0K
K2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuSVBhdGg7DQoraW1wb3J0IG9yZy5lY2xp
cHNlLmpmYWNlLnZpZXdlcnMuVmlld2VyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS52aWV3
ZXJzLlZpZXdlckZpbHRlcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVk
aXRvci50b2MuSGVscEVkaXRvclV0aWw7DQorDQorcHVibGljIGNsYXNzIEhlbHBFZGl0b3JGaWx0
ZXIgZXh0ZW5kcyBWaWV3ZXJGaWx0ZXIgew0KKwlwdWJsaWMgYm9vbGVhbiBzZWxlY3QoVmlld2Vy
IHZpZXdlciwgT2JqZWN0IHBhcmVudCwgT2JqZWN0IGVsZW1lbnQpIHsNCisJCWlmIChlbGVtZW50
IGluc3RhbmNlb2YgSUZpbGUpIHsNCisJCQlJUGF0aCBwYXRoID0gKChJRmlsZSkgZWxlbWVudCku
Z2V0RnVsbFBhdGgoKTsNCisNCisJCQlyZXR1cm4gSGVscEVkaXRvclV0aWwuaGFzVmFsaWRQYWdl
RXh0ZW5zaW9uKHBhdGgpOw0KKwkJfQ0KKw0KKwkJaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBJUHJv
amVjdCAmJiAhKChJUHJvamVjdCkgZWxlbWVudCkuaXNPcGVuKCkpIHsNCisJCQlyZXR1cm4gZmFs
c2U7DQorCQl9DQorDQorCQlpZiAoZWxlbWVudCBpbnN0YW5jZW9mIElDb250YWluZXIpIHsNCisJ
CQl0cnkgew0KKwkJCQlJUmVzb3VyY2VbXSByZXNvdXJjZXMgPSAoKElDb250YWluZXIpIGVsZW1l
bnQpLm1lbWJlcnMoKTsNCisJCQkJZm9yIChpbnQgaSA9IDA7IGkgPCByZXNvdXJjZXMubGVuZ3Ro
OyBpKyspIHsNCisJCQkJCWlmIChzZWxlY3Qodmlld2VyLCBwYXJlbnQsIHJlc291cmNlc1tpXSkp
IHsNCisJCQkJCQlyZXR1cm4gdHJ1ZTsNCisJCQkJCX0NCisJCQkJfQ0KKwkJCX0gY2F0Y2ggKENv
cmVFeGNlcHRpb24gZSkgew0KKwkJCX0NCisJCX0NCisNCisJCXJldHVybiBmYWxzZTsNCisJfQ0K
K30NCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxw
L2RldGFpbHMvQ3R4SGVscEFic3RyYWN0QWRkQWN0aW9uLmphdmENCj09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBm
aWxlOiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL2RldGFp
bHMvQ3R4SGVscEFic3RyYWN0QWRkQWN0aW9uLmphdmENCmRpZmYgLU4gc3JjL29yZy9lY2xpcHNl
L3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhlbHBBYnN0cmFjdEFk
ZEFjdGlvbi5qYXZhDQotLS0gL2Rldi9udWxsCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCisr
KyBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMv
Q3R4SGVscEFic3RyYWN0QWRkQWN0aW9uLmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0K
QEAgLTAsMCArMSw4MiBAQA0KKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQorICogQ29weXJpZ2h0
IChjKSAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIEFsbCByaWdodHMgcmVz
ZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCisgKiBh
cmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBM
aWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5k
IGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYx
MC5odG1sDQorICoNCisgKiBDb250cmlidXRvcnM6DQorICogICAgIElCTSBDb3Jwb3JhdGlvbiAt
IGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
Lw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLmRl
dGFpbHM7DQorDQoraW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLmFjdGlvbi5BY3Rpb247DQoraW1w
b3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwT2Jq
ZWN0Ow0KKw0KKy8qKg0KKyAqIEFic3RyYWN0IGFjdGlvbiB0aGF0IGFsbG93cyBuZXcgbm9kZXMg
dG8gYmUgYWRkZWQgdG8gdGhlIGNvbnRleHQgaGVscA0KKyAqIG1vZGVsLg0KKyAqIEBzaW5jZSAz
LjQNCisgKi8NCitwdWJsaWMgYWJzdHJhY3QgY2xhc3MgQ3R4SGVscEFic3RyYWN0QWRkQWN0aW9u
IGV4dGVuZHMgQWN0aW9uIHsNCisNCisJcHJvdGVjdGVkIEN0eEhlbHBPYmplY3QgZlBhcmVudE9i
amVjdDsNCisNCisJLy9UaGUgdGFyZ2V0IG9iamVjdCB0byBpbnNlcnQgYWZ0ZXINCisJcHJvdGVj
dGVkIEN0eEhlbHBPYmplY3QgZlRhcmdldE9iamVjdDsNCisNCisJLyoqDQorCSAqIFNldCB0aGUg
cGFyZW50IG9iamVjdCB0aGF0IHRoaXMgYWN0aW9uIHdpbGwgYWRkDQorCSAqIG9iamVjdHMgdG8u
DQorCSAqIA0KKwkgKiBAcGFyYW0gcGFyZW50IFRoZSBuZXcgcGFyZW50IG9iamVjdCBmb3IgdGhp
cyBhY3Rpb24NCisJICovDQorCXB1YmxpYyB2b2lkIHNldFBhcmVudE9iamVjdChDdHhIZWxwT2Jq
ZWN0IHBhcmVudCkgew0KKwkJZlBhcmVudE9iamVjdCA9IHBhcmVudDsNCisJfQ0KKw0KKwkvKioN
CisJICogU2V0IHRoZSB0YXJnZXQgb2JqZWN0IHRoYXQgdGhpcyBhY3Rpb24gd2lsbCBhZGQNCisJ
ICogb2JqZWN0cyBhZnRlci4NCisJICogDQorCSAqIEBwYXJhbSB0YXJnZXQgVGhlIG5ldyB0YXJn
ZXQgb2JqZWN0IGZvciB0aGlzIGFjdGlvbg0KKwkgKi8NCisJcHVibGljIHZvaWQgc2V0VGFyZ2V0
T2JqZWN0KEN0eEhlbHBPYmplY3QgdGFyZ2V0KSB7DQorCQlmVGFyZ2V0T2JqZWN0ID0gdGFyZ2V0
Ow0KKwl9DQorDQorCS8qKg0KKwkgKiBSZXR1cm5zIHRoZSBuYW1lcyBvZiB0aGUgY2hpbGRyZW4g
b2YgdGhlIHBhcmVudCBvYmplY3QuICBVc2VkDQorCSAqIHRvIGZpbmQgYSBuZXcgbmFtZSB0aGF0
IGRvZXNuJ3QgY29uZmxpY3QuICBXaWxsIHJldHVybiBhbiBlbXB0eQ0KKwkgKiBhcnJheSBpZiB0
aGUgcGFyZW50IGlzIG5vdCBzZXQuDQorCSAqIEByZXR1cm4gY2hpbGRyZW4gbmFtZXMgb3IgYW4g
ZW1wdHkgYXJyYXkNCisJICovDQorCXB1YmxpYyBTdHJpbmdbXSBnZXRDaGlsZE5hbWVzKCkgew0K
KwkJaWYgKGZQYXJlbnRPYmplY3QgIT0gbnVsbCkgew0KKwkJCWludCBudW1DaGlsZHJlbiA9IGZQ
YXJlbnRPYmplY3QuZ2V0Q2hpbGRyZW4oKS5zaXplKCk7DQorCQkJQ3R4SGVscE9iamVjdFtdIGN0
eEhlbHBPYmplY3RzID0gKEN0eEhlbHBPYmplY3RbXSkgZlBhcmVudE9iamVjdC5nZXRDaGlsZHJl
bigpLnRvQXJyYXkobmV3IEN0eEhlbHBPYmplY3RbbnVtQ2hpbGRyZW5dKTsNCisNCisJCQlTdHJp
bmdbXSBjdHhIZWxwT2JqZWN0TmFtZXMgPSBuZXcgU3RyaW5nW2N0eEhlbHBPYmplY3RzLmxlbmd0
aF07DQorDQorCQkJZm9yIChpbnQgaSA9IDA7IGkgPCBudW1DaGlsZHJlbjsgKytpKSB7DQorCQkJ
CWN0eEhlbHBPYmplY3ROYW1lc1tpXSA9IGN0eEhlbHBPYmplY3RzW2ldLmdldE5hbWUoKTsNCisJ
CQl9DQorCQkJcmV0dXJuIGN0eEhlbHBPYmplY3ROYW1lczsNCisJCX0NCisJCXJldHVybiBuZXcg
U3RyaW5nWzBdOw0KKwl9DQorDQorCS8qKg0KKwkgKiBBZGQgdGhlIGNoaWxkIHRvIHRoZSBwYXJl
bnQgb2JqZWN0LiBJZiBhIHRhcmdldCBvYmplY3QgaXMgc3BlY2lmaWVkLA0KKwkgKiBhZGQgdGhl
IGNoaWxkIGFzIGEgc2libGluZyBhZnRlciB0aGF0IG9iamVjdC4NCisJICogDQorCSAqIEBwYXJh
bSBjaGlsZCBUaGUgb2JqZWN0IHRvIGFkZCB0byB0aGUgcGFyZW50DQorCSAqLw0KKwlwcm90ZWN0
ZWQgdm9pZCBhZGRDaGlsZChDdHhIZWxwT2JqZWN0IGNoaWxkKSB7DQorCQlpZiAoZlRhcmdldE9i
amVjdCA9PSBudWxsKSB7DQorCQkJZlBhcmVudE9iamVjdC5hZGRDaGlsZChjaGlsZCk7DQorCQl9
IGVsc2Ugew0KKwkJCWZQYXJlbnRPYmplY3QuYWRkQ2hpbGQoY2hpbGQsIGZUYXJnZXRPYmplY3Qs
IGZhbHNlKTsNCisJCX0NCisJfQ0KK30NCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVy
bmFsL3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVscENvbW1hbmREZXRhaWxzLmphdmEN
Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT0NClJDUyBmaWxlOiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2Vk
aXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVscENvbW1hbmREZXRhaWxzLmphdmENCmRpZmYgLU4g
c3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0
eEhlbHBDb21tYW5kRGV0YWlscy5qYXZhDQotLS0gL2Rldi9udWxsCTEgSmFuIDE5NzAgMDA6MDA6
MDAgLTAwMDANCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHho
ZWxwL2RldGFpbHMvQ3R4SGVscENvbW1hbmREZXRhaWxzLmphdmEJMSBKYW4gMTk3MCAwMDowMDow
MCAtMDAwMA0KQEAgLTAsMCArMSwxMTggQEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAq
IENvcHlyaWdodCAoYykgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwg
cmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJp
YWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBz
ZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmli
dXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xl
Z2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29y
cG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKi8NCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3Iu
Y3R4aGVscC5kZXRhaWxzOw0KKw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklT
ZWxlY3Rpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4
aGVscC5DdHhIZWxwQ29tbWFuZDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVp
LlBERVVJTWVzc2FnZXM7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0
b3IuRm9ybUVudHJ5QWRhcHRlcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVp
LmVkaXRvci5jdHhoZWxwLkN0eEhlbHBJbnB1dENvbnRleHQ7DQoraW1wb3J0IG9yZy5lY2xpcHNl
LnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5DdHhIZWxwVHJlZVNlY3Rpb247DQoraW1w
b3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5wYXJ0cy5Gb3JtRW50cnk7DQoraW1wb3J0
IG9yZy5lY2xpcHNlLnN3dC5TV1Q7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC53aWRnZXRzLkNv
bXBvc2l0ZTsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWkuZm9ybXMuSUZvcm1QYXJ0Ow0KKw0KKy8q
Kg0KKyAqIERldGFpbHMgc2VjdGlvbiBmb3IgY29tbWFuZCBlbnRyaWVzLg0KKyAqIEBzaW5jZSAz
LjQNCisgKiBAc2VlIEN0eEhlbHBBYnN0cmFjdERldGFpbHMNCisgKiBAc2VlIEN0eEhlbHBDb21t
YW5kDQorICovDQorcHVibGljIGNsYXNzIEN0eEhlbHBDb21tYW5kRGV0YWlscyBleHRlbmRzIEN0
eEhlbHBBYnN0cmFjdERldGFpbHMgew0KKw0KKwlwcml2YXRlIEN0eEhlbHBDb21tYW5kIGZDb21t
YW5kOw0KKwlwcml2YXRlIEZvcm1FbnRyeSBmTGFiZWxFbnRyeTsNCisJcHJpdmF0ZSBGb3JtRW50
cnkgZlNlcmlhbEVudHJ5Ow0KKw0KKwlwdWJsaWMgQ3R4SGVscENvbW1hbmREZXRhaWxzKEN0eEhl
bHBUcmVlU2VjdGlvbiBtYXN0ZXJTZWN0aW9uKSB7DQorCQlzdXBlcihtYXN0ZXJTZWN0aW9uLCBD
dHhIZWxwSW5wdXRDb250ZXh0LkNPTlRFWFRfSUQpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRv
YykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAu
ZGV0YWlscy5DdHhIZWxwQWJzdHJhY3REZXRhaWxzI2NyZWF0ZUZpZWxkcyhvcmcuZWNsaXBzZS5z
d3Qud2lkZ2V0cy5Db21wb3NpdGUpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBjcmVhdGVGaWVsZHMo
Q29tcG9zaXRlIHBhcmVudCkgew0KKwkJY3JlYXRlTGFiZWwocGFyZW50LCBnZXRNYW5hZ2VkRm9y
bSgpLmdldFRvb2xraXQoKSwgUERFVUlNZXNzYWdlcy5DdHhIZWxwQ29tbWFuZERldGFpbHNfc3Bl
Y2lmeURpc3BsYXlMYWJlbCk7DQorCQlmTGFiZWxFbnRyeSA9IG5ldyBGb3JtRW50cnkocGFyZW50
LCBnZXRNYW5hZ2VkRm9ybSgpLmdldFRvb2xraXQoKSwgUERFVUlNZXNzYWdlcy5DdHhIZWxwQ29t
bWFuZERldGFpbHNfbGFiZWwsIFNXVC5OT05FKTsNCisJCWNyZWF0ZVNwYWNlKHBhcmVudCk7DQor
CQljcmVhdGVMYWJlbChwYXJlbnQsIGdldE1hbmFnZWRGb3JtKCkuZ2V0VG9vbGtpdCgpLCBQREVV
SU1lc3NhZ2VzLkN0eEhlbHBDb21tYW5kRGV0YWlsc19zcGVjaWZ5VGhlQ29tbWFuZCk7DQorCQlm
U2VyaWFsRW50cnkgPSBuZXcgRm9ybUVudHJ5KHBhcmVudCwgZ2V0TWFuYWdlZEZvcm0oKS5nZXRU
b29sa2l0KCksIFBERVVJTWVzc2FnZXMuQ3R4SGVscENvbW1hbmREZXRhaWxzX2NvbW1hbmQsIFNX
VC5OT05FKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlw
c2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLmRldGFpbHMuQ3R4SGVscEFic3RyYWN0
RGV0YWlscyNnZXREZXRhaWxzVGl0bGUoKQ0KKwkgKi8NCisJcHJvdGVjdGVkIFN0cmluZyBnZXRE
ZXRhaWxzVGl0bGUoKSB7DQorCQlyZXR1cm4gUERFVUlNZXNzYWdlcy5DdHhIZWxwQ29tbWFuZERl
dGFpbHNfY29tbWFuZERldGFpbHM7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBA
c2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzLkN0
eEhlbHBBYnN0cmFjdERldGFpbHMjZ2V0RGV0YWlsc0Rlc2NyaXB0aW9uKCkNCisJICovDQorCXBy
b3RlY3RlZCBTdHJpbmcgZ2V0RGV0YWlsc0Rlc2NyaXB0aW9uKCkgew0KKwkJcmV0dXJuIG51bGw7
DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5p
bnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzLkN0eEhlbHBBYnN0cmFjdERldGFpbHMj
aG9va0xpc3RlbmVycygpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBob29rTGlzdGVuZXJzKCkgew0K
KwkJZkxhYmVsRW50cnkuc2V0Rm9ybUVudHJ5TGlzdGVuZXIobmV3IEZvcm1FbnRyeUFkYXB0ZXIo
dGhpcykgew0KKwkJCXB1YmxpYyB2b2lkIHRleHRWYWx1ZUNoYW5nZWQoRm9ybUVudHJ5IGVudHJ5
KSB7DQorCQkJCWlmIChmQ29tbWFuZCAhPSBudWxsKSB7DQorCQkJCQlmQ29tbWFuZC5zZXRMYWJl
bChmTGFiZWxFbnRyeS5nZXRWYWx1ZSgpKTsNCisJCQkJfQ0KKwkJCX0NCisJCX0pOw0KKwkJZlNl
cmlhbEVudHJ5LnNldEZvcm1FbnRyeUxpc3RlbmVyKG5ldyBGb3JtRW50cnlBZGFwdGVyKHRoaXMp
IHsNCisJCQlwdWJsaWMgdm9pZCB0ZXh0VmFsdWVDaGFuZ2VkKEZvcm1FbnRyeSBlbnRyeSkgeyAv
LyBFbnN1cmUgZGF0YSBvYmplY3QgaXMgZGVmaW5lZA0KKwkJCQlpZiAoZkNvbW1hbmQgIT0gbnVs
bCkgew0KKwkJCQkJZkNvbW1hbmQuc2V0U2VyaWFsaXphdGlvbihmU2VyaWFsRW50cnkuZ2V0VmFs
dWUoKSk7DQorCQkJCX0NCisJCQl9DQorCQl9KTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2Mp
DQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLmRl
dGFpbHMuQ3R4SGVscEFic3RyYWN0RGV0YWlscyN1cGRhdGVGaWVsZHMoKQ0KKwkgKi8NCisJcHVi
bGljIHZvaWQgdXBkYXRlRmllbGRzKCkgew0KKwkJaWYgKGZDb21tYW5kICE9IG51bGwpIHsNCisJ
CQlmTGFiZWxFbnRyeS5zZXRWYWx1ZShmQ29tbWFuZC5nZXRMYWJlbCgpLCB0cnVlKTsNCisJCQlm
TGFiZWxFbnRyeS5zZXRFZGl0YWJsZShpc0VkaXRhYmxlRWxlbWVudCgpKTsNCisJCQlmU2VyaWFs
RW50cnkuc2V0VmFsdWUoZkNvbW1hbmQuZ2V0U2VyaWFsaXphdGlvbigpLCB0cnVlKTsNCisJCQlm
U2VyaWFsRW50cnkuc2V0RWRpdGFibGUoaXNFZGl0YWJsZUVsZW1lbnQoKSk7DQorCQl9DQorCX0N
CisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnVpLmZvcm1zLkFi
c3RyYWN0Rm9ybVBhcnQjY29tbWl0KGJvb2xlYW4pDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBjb21t
aXQoYm9vbGVhbiBvblNhdmUpIHsNCisJCXN1cGVyLmNvbW1pdChvblNhdmUpOw0KKwkJLy8gT25s
eSByZXF1aXJlZCBmb3IgZm9ybSBlbnRyaWVzDQorCQlmTGFiZWxFbnRyeS5jb21taXQoKTsNCisJ
CWZTZXJpYWxFbnRyeS5jb21taXQoKTsNCisNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQor
CSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLmRldGFp
bHMuQ3R4SGVscEFic3RyYWN0RGV0YWlscyNzZWxlY3Rpb25DaGFuZ2VkKG9yZy5lY2xpcHNlLnVp
LmZvcm1zLklGb3JtUGFydCwgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy5JU2VsZWN0aW9uKQ0K
KwkgKi8NCisJcHVibGljIHZvaWQgc2VsZWN0aW9uQ2hhbmdlZChJRm9ybVBhcnQgcGFydCwgSVNl
bGVjdGlvbiBzZWxlY3Rpb24pIHsNCisJCU9iamVjdCBvYmplY3QgPSBnZXRGaXJzdFNlbGVjdGVk
T2JqZWN0KHNlbGVjdGlvbik7DQorCQlpZiAob2JqZWN0IGluc3RhbmNlb2YgQ3R4SGVscENvbW1h
bmQpIHsNCisJCQlmQ29tbWFuZCA9IChDdHhIZWxwQ29tbWFuZCkgb2JqZWN0Ow0KKwkJCXVwZGF0
ZUZpZWxkcygpOw0KKwkJfQ0KKwl9DQorfQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50
ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscFNvdXJjZVBhZ2UuamF2YQ0KPT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PQ0KUkNTIGZpbGU6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhl
bHAvQ3R4SGVscFNvdXJjZVBhZ2UuamF2YQ0KZGlmZiAtTiBzcmMvb3JnL2VjbGlwc2UvcGRlL2lu
dGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBTb3VyY2VQYWdlLmphdmENCi0tLSAvZGV2
L251bGwJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUv
aW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscFNvdXJjZVBhZ2UuamF2YQkxIEphbiAx
OTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsxLDEyNyBAQA0KKy8qKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqDQorICogQ29weXJpZ2h0IChjKSAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJz
Lg0KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFu
eWluZyBtYXRlcmlhbHMNCisgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9m
IHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0
aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cuZWNs
aXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQorICoNCisgKiBDb250cmlidXRvcnM6DQorICog
ICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqLw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LnVpLmVkaXRvci5jdHhoZWxwOw0KKw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJz
Lio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuKjsNCitpbXBv
cnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBNb2Rl
bDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0
eEhlbHBPYmplY3Q7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5QREVQbHVn
aW47DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5QREVVSU1lc3NhZ2VzOw0K
K2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBERUZvcm1FZGl0b3I7
DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuWE1MU291cmNlUGFn
ZTsNCisNCisvKioNCisgKiBTb3VyY2UgcGFnZSBmb3IgdGhlIGNvbnRleHQgaGVscCBlZGl0b3Iu
ICBEaXNwbGF5cyB0aGUNCisgKiB4bWwgc291cmNlLg0KKyAqIEBzaW5jZSAzLjQNCisgKiBAc2Vl
IEN0eEhlbHBFZGl0b3INCisgKi8NCitwdWJsaWMgY2xhc3MgQ3R4SGVscFNvdXJjZVBhZ2UgZXh0
ZW5kcyBYTUxTb3VyY2VQYWdlIHsNCisNCisJcHVibGljIEN0eEhlbHBTb3VyY2VQYWdlKFBERUZv
cm1FZGl0b3IgZWRpdG9yLCBTdHJpbmcgaWQsIFN0cmluZyB0aXRsZSkgew0KKwkJc3VwZXIoZWRp
dG9yLCBpZCwgdGl0bGUpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBv
cmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBERVByb2plY3Rpb25Tb3VyY2VQYWdl
I2lzUXVpY2tPdXRsaW5lRW5hYmxlZCgpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBpc1F1aWNr
T3V0bGluZUVuYWJsZWQoKSB7DQorCQlyZXR1cm4gdHJ1ZTsNCisJfQ0KKw0KKwkvKiAobm9uLUph
dmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5QREVT
b3VyY2VQYWdlI2NyZWF0ZU91dGxpbmVDb21wYXJhdG9yKCkNCisJICovDQorCXB1YmxpYyBWaWV3
ZXJDb21wYXJhdG9yIGNyZWF0ZU91dGxpbmVDb21wYXJhdG9yKCkgew0KKwkJcmV0dXJuIG51bGw7
DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5p
bnRlcm5hbC51aS5lZGl0b3IuUERFU291cmNlUGFnZSNjcmVhdGVPdXRsaW5lQ29udGVudFByb3Zp
ZGVyKCkNCisJICovDQorCXB1YmxpYyBJVHJlZUNvbnRlbnRQcm92aWRlciBjcmVhdGVPdXRsaW5l
Q29udGVudFByb3ZpZGVyKCkgew0KKwkJcmV0dXJuIG5ldyBDdHhIZWxwQ29udGVudFByb3ZpZGVy
KCk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFU291cmNlUGFnZSNjcmVhdGVPdXRsaW5lTGFiZWxQcm92
aWRlcigpDQorCSAqLw0KKwlwdWJsaWMgSUxhYmVsUHJvdmlkZXIgY3JlYXRlT3V0bGluZUxhYmVs
UHJvdmlkZXIoKSB7DQorCQlyZXR1cm4gUERFUGx1Z2luLmdldERlZmF1bHQoKS5nZXRMYWJlbFBy
b3ZpZGVyKCk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xp
cHNlLnVpLnBhcnQuRWRpdG9yUGFydCNzZXRQYXJ0TmFtZShqYXZhLmxhbmcuU3RyaW5nKQ0KKwkg
Ki8NCisJcHJvdGVjdGVkIHZvaWQgc2V0UGFydE5hbWUoU3RyaW5nIHBhcnROYW1lKSB7DQorCQlz
dXBlci5zZXRQYXJ0TmFtZShQREVVSU1lc3NhZ2VzLkVkaXRvclNvdXJjZVBhZ2VfbmFtZSk7DQor
CX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC51aS5lZGl0b3IuUERFU291cmNlUGFnZSNpc1NlbGVjdGlvbkxpc3RlbmVyKCkNCisJICov
DQorCXByb3RlY3RlZCBib29sZWFuIGlzU2VsZWN0aW9uTGlzdGVuZXIoKSB7DQorCQlyZXR1cm4g
dHJ1ZTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLnVpLmVkaXRvci5QREVTb3VyY2VQYWdlI3VwZGF0ZVNlbGVjdGlvbihqYXZh
LmxhbmcuT2JqZWN0KQ0KKwkgKi8NCisJcHVibGljIHZvaWQgdXBkYXRlU2VsZWN0aW9uKE9iamVj
dCBvYmplY3QpIHsNCisJCWlmICgob2JqZWN0IGluc3RhbmNlb2YgSURvY3VtZW50RWxlbWVudE5v
ZGUpICYmICEoKElEb2N1bWVudEVsZW1lbnROb2RlKSBvYmplY3QpLmlzRXJyb3JOb2RlKCkpIHsN
CisJCQlzZXRTZWxlY3RlZE9iamVjdChvYmplY3QpOw0KKwkJCXNldEhpZ2hsaWdodFJhbmdlKChJ
RG9jdW1lbnRFbGVtZW50Tm9kZSkgb2JqZWN0LCB0cnVlKTsNCisJCQlzZXRTZWxlY3RlZFJhbmdl
KChJRG9jdW1lbnRFbGVtZW50Tm9kZSkgb2JqZWN0LCBmYWxzZSk7DQorCQl9DQorCX0NCisNCisJ
LyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5l
ZGl0b3IuUERFU291cmNlUGFnZSNmaW5kUmFuZ2UoKQ0KKwkgKi8NCisJcHJvdGVjdGVkIElEb2N1
bWVudFJhbmdlIGZpbmRSYW5nZSgpIHsNCisJCWlmIChnZXRTZWxlY3Rpb24oKSBpbnN0YW5jZW9m
IElEb2N1bWVudEVsZW1lbnROb2RlKSB7DQorCQkJcmV0dXJuIChJRG9jdW1lbnRFbGVtZW50Tm9k
ZSkgZ2V0U2VsZWN0aW9uKCk7DQorCQl9DQorDQorCQlyZXR1cm4gbnVsbDsNCisJfQ0KKw0KKwkv
KiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVk
aXRvci5QREVTb3VyY2VQYWdlI2dldFJhbmdlRWxlbWVudChpbnQsIGJvb2xlYW4pDQorCSAqLw0K
KwlwdWJsaWMgSURvY3VtZW50UmFuZ2UgZ2V0UmFuZ2VFbGVtZW50KGludCBvZmZzZXQsIGJvb2xl
YW4gc2VhcmNoQ2hpbGRyZW4pIHsNCisJCUN0eEhlbHBPYmplY3Qgcm9vdCA9ICgoQ3R4SGVscE1v
ZGVsKSBnZXRJbnB1dENvbnRleHQoKS5nZXRNb2RlbCgpKS5nZXRDdHhIZWxwUm9vdCgpOw0KKwkJ
cmV0dXJuIGZpbmROb2RlKHJvb3QsIG9mZnNldCwgc2VhcmNoQ2hpbGRyZW4pOw0KKwl9DQorDQor
CS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWku
ZWRpdG9yLlBERVNvdXJjZVBhZ2Ujc3luY2hyb25pemVPdXRsaW5lUGFnZShpbnQpDQorCSAqLw0K
Kwlwcm90ZWN0ZWQgdm9pZCBzeW5jaHJvbml6ZU91dGxpbmVQYWdlKGludCBvZmZzZXQpIHsNCisJ
CUlEb2N1bWVudFJhbmdlIHJhbmdlRWxlbWVudCA9IGdldFJhbmdlRWxlbWVudChvZmZzZXQsIHRy
dWUpOw0KKwkJdXBkYXRlSGlnaGxpZ2h0UmFuZ2UocmFuZ2VFbGVtZW50KTsNCisJCS8vIFRPRE86
IE1QOiBURU86IExPVzogR2VuZXJhbGl6ZSBmb3IgcGFyZW50IC0gc2VhcmNoIGNoaWxkcmVuID0g
dHJ1ZSBhbmQgaGFuZGxlIGF0dHJpYnV0ZXMNCisJCWlmIChyYW5nZUVsZW1lbnQgaW5zdGFuY2Vv
ZiBJRG9jdW1lbnRBdHRyaWJ1dGVOb2RlKSB7DQorCQkJcmFuZ2VFbGVtZW50ID0gKChJRG9jdW1l
bnRBdHRyaWJ1dGVOb2RlKSByYW5nZUVsZW1lbnQpLmdldEVuY2xvc2luZ0VsZW1lbnQoKTsNCisJ
CX0NCisJCXVwZGF0ZU91dGxpbmVQYWdlU2VsZWN0aW9uKHJhbmdlRWxlbWVudCk7DQorCX0NCisN
CisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnVpLmVkaXRvcnMudGV4
dC5UZXh0RWRpdG9yI2luaXRpYWxpemVFZGl0b3IoKQ0KKwkgKi8NCisJcHJvdGVjdGVkIHZvaWQg
aW5pdGlhbGl6ZUVkaXRvcigpIHsNCisJCXN1cGVyLmluaXRpYWxpemVFZGl0b3IoKTsNCisJCS8v
IFRPRE8gRml4IGhlbHAgY29udGV4dA0KKwkJLy8JCXNldEhlbHBDb250ZXh0SWQoSUhlbHBDb250
ZXh0SWRzLlRPQ19FRElUT1IpOw0KKwl9DQorfQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9wZGUv
aW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvZGV0YWlscy9DdHhIZWxwRGVzY3JpcHRpb25EZXRh
aWxzLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVy
bmFsL3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVscERlc2NyaXB0aW9uRGV0YWlscy5q
YXZhDQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhl
bHAvZGV0YWlscy9DdHhIZWxwRGVzY3JpcHRpb25EZXRhaWxzLmphdmENCi0tLSAvZGV2L251bGwJ
MSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJu
YWwvdWkvZWRpdG9yL2N0eGhlbHAvZGV0YWlscy9DdHhIZWxwRGVzY3JpcHRpb25EZXRhaWxzLmph
dmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAgLTAsMCArMSwxMTAgQEANCisvKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMjAwOCBJQk0gQ29ycG9yYXRpb24g
YW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRo
ZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRo
ZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNj
b21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRw
Oi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0
b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50
YXRpb24NCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzOw0KKw0KK2ltcG9ydCBvcmcuZWNs
aXBzZS5qZmFjZS52aWV3ZXJzLklTZWxlY3Rpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5p
bnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwRGVzY3JpcHRpb247DQoraW1wb3J0IG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5QREVVSU1lc3NhZ2VzOw0KK2ltcG9ydCBvcmcuZWNs
aXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLkZvcm1FbnRyeUFkYXB0ZXI7DQoraW1wb3J0IG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5DdHhIZWxwSW5wdXRDb250
ZXh0Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAu
Q3R4SGVscFRyZWVTZWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWku
cGFydHMuRm9ybUVudHJ5Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3QuU1dUOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5zd3QubGF5b3V0LkdyaWREYXRhOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3Qu
d2lkZ2V0cy5Db21wb3NpdGU7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmZvcm1zLklGb3JtUGFy
dDsNCisNCisvKioNCisgKiBEZXRhaWxzIHNlY3Rpb24gZm9yIGRlc2NyaXB0aW9uIGVudHJpZXMu
DQorICogQHNpbmNlIDMuNA0KKyAqIEBzZWUgQ3R4SGVscEFic3RyYWN0RGV0YWlscw0KKyAqIEBz
ZWUgQ3R4SGVscERlc2NyaXB0aW9uDQorICovDQorcHVibGljIGNsYXNzIEN0eEhlbHBEZXNjcmlw
dGlvbkRldGFpbHMgZXh0ZW5kcyBDdHhIZWxwQWJzdHJhY3REZXRhaWxzIHsNCisNCisJcHJpdmF0
ZSBDdHhIZWxwRGVzY3JpcHRpb24gZkRlc2NyaXB0aW9uOw0KKwlwcml2YXRlIEZvcm1FbnRyeSBm
RGVzY0VudHJ5Ow0KKw0KKwlwdWJsaWMgQ3R4SGVscERlc2NyaXB0aW9uRGV0YWlscyhDdHhIZWxw
VHJlZVNlY3Rpb24gbWFzdGVyU2VjdGlvbikgew0KKwkJc3VwZXIobWFzdGVyU2VjdGlvbiwgQ3R4
SGVscElucHV0Q29udGV4dC5DT05URVhUX0lEKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2Mp
DQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLmRl
dGFpbHMuQ3R4SGVscEFic3RyYWN0RGV0YWlscyNjcmVhdGVGaWVsZHMob3JnLmVjbGlwc2Uuc3d0
LndpZGdldHMuQ29tcG9zaXRlKQ0KKwkgKi8NCisJcHVibGljIHZvaWQgY3JlYXRlRmllbGRzKENv
bXBvc2l0ZSBwYXJlbnQpIHsNCisJCWNyZWF0ZUxhYmVsKHBhcmVudCwgZ2V0TWFuYWdlZEZvcm0o
KS5nZXRUb29sa2l0KCksIFBERVVJTWVzc2FnZXMuQ3R4SGVscERlc2NyaXB0aW9uRGV0YWlsc19z
cGVjaWZ5RGVzY3JpcHRpb24pOw0KKwkJZkRlc2NFbnRyeSA9IG5ldyBGb3JtRW50cnkocGFyZW50
LCBnZXRNYW5hZ2VkRm9ybSgpLmdldFRvb2xraXQoKSwgUERFVUlNZXNzYWdlcy5DdHhIZWxwRGVz
Y3JpcHRpb25EZXRhaWxzX2Rlc2NyaXB0aW9uLCBTV1QuTVVMVEkgfCBTV1QuV1JBUCB8IFNXVC5W
X1NDUk9MTCk7DQorCQlHcmlkRGF0YSBkYXRhID0gbmV3IEdyaWREYXRhKEdyaWREYXRhLkZJTExf
SE9SSVpPTlRBTCk7DQorCQlkYXRhLmhlaWdodEhpbnQgPSA1MDsNCisJCWZEZXNjRW50cnkuZ2V0
VGV4dCgpLnNldExheW91dERhdGEoZGF0YSk7DQorCQlkYXRhID0gbmV3IEdyaWREYXRhKEdyaWRE
YXRhLlZFUlRJQ0FMX0FMSUdOX0JFR0lOTklORyB8IEdyaWREYXRhLkhPUklaT05UQUxfQUxJR05f
RU5EKTsNCisJCWZEZXNjRW50cnkuZ2V0TGFiZWwoKS5zZXRMYXlvdXREYXRhKGRhdGEpOw0KKwl9
DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwudWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlscy5DdHhIZWxwQWJzdHJhY3REZXRhaWxzI2dldERl
dGFpbHNUaXRsZSgpDQorCSAqLw0KKwlwcm90ZWN0ZWQgU3RyaW5nIGdldERldGFpbHNUaXRsZSgp
IHsNCisJCXJldHVybiBQREVVSU1lc3NhZ2VzLlRvY1RvcGljRGV0YWlsc190aXRsZTsNCisJfQ0K
Kw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LnVpLmVkaXRvci5jdHhoZWxwLmRldGFpbHMuQ3R4SGVscEFic3RyYWN0RGV0YWlscyNnZXREZXRh
aWxzRGVzY3JpcHRpb24oKQ0KKwkgKi8NCisJcHJvdGVjdGVkIFN0cmluZyBnZXREZXRhaWxzRGVz
Y3JpcHRpb24oKSB7DQorCQlyZXR1cm4gbnVsbDsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2Mp
DQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLmRl
dGFpbHMuQ3R4SGVscEFic3RyYWN0RGV0YWlscyNob29rTGlzdGVuZXJzKCkNCisJICovDQorCXB1
YmxpYyB2b2lkIGhvb2tMaXN0ZW5lcnMoKSB7DQorCQlmRGVzY0VudHJ5LnNldEZvcm1FbnRyeUxp
c3RlbmVyKG5ldyBGb3JtRW50cnlBZGFwdGVyKHRoaXMpIHsNCisJCQlwdWJsaWMgdm9pZCB0ZXh0
VmFsdWVDaGFuZ2VkKEZvcm1FbnRyeSBlbnRyeSkgew0KKwkJCQlpZiAoZkRlc2NyaXB0aW9uICE9
IG51bGwpIHsNCisJCQkJCWZEZXNjcmlwdGlvbi5zZXREZXNjcmlwdGlvbihmRGVzY0VudHJ5Lmdl
dFZhbHVlKCkpOw0KKwkJCQl9DQorCQkJfQ0KKwkJfSk7DQorCX0NCisNCisJLyogKG5vbi1KYXZh
ZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVs
cC5kZXRhaWxzLkN0eEhlbHBBYnN0cmFjdERldGFpbHMjdXBkYXRlRmllbGRzKCkNCisJICovDQor
CXB1YmxpYyB2b2lkIHVwZGF0ZUZpZWxkcygpIHsNCisJCWlmIChmRGVzY3JpcHRpb24gIT0gbnVs
bCkgew0KKwkJCWZEZXNjRW50cnkuc2V0VmFsdWUoZkRlc2NyaXB0aW9uLmdldERlc2NyaXB0aW9u
KCksIHRydWUpOw0KKwkJCWZEZXNjRW50cnkuc2V0RWRpdGFibGUoaXNFZGl0YWJsZUVsZW1lbnQo
KSk7DQorCQl9DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xp
cHNlLnVpLmZvcm1zLkFic3RyYWN0Rm9ybVBhcnQjY29tbWl0KGJvb2xlYW4pDQorCSAqLw0KKwlw
dWJsaWMgdm9pZCBjb21taXQoYm9vbGVhbiBvblNhdmUpIHsNCisJCXN1cGVyLmNvbW1pdChvblNh
dmUpOw0KKwkJLy8gT25seSByZXF1aXJlZCBmb3IgZm9ybSBlbnRyaWVzDQorCQlmRGVzY0VudHJ5
LmNvbW1pdCgpOw0KKw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlscy5DdHhIZWxwQWJz
dHJhY3REZXRhaWxzI3NlbGVjdGlvbkNoYW5nZWQob3JnLmVjbGlwc2UudWkuZm9ybXMuSUZvcm1Q
YXJ0LCBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklTZWxlY3Rpb24pDQorCSAqLw0KKwlwdWJs
aWMgdm9pZCBzZWxlY3Rpb25DaGFuZ2VkKElGb3JtUGFydCBwYXJ0LCBJU2VsZWN0aW9uIHNlbGVj
dGlvbikgew0KKwkJT2JqZWN0IG9iamVjdCA9IGdldEZpcnN0U2VsZWN0ZWRPYmplY3Qoc2VsZWN0
aW9uKTsNCisJCWlmIChvYmplY3QgaW5zdGFuY2VvZiBDdHhIZWxwRGVzY3JpcHRpb24pIHsNCisJ
CQlmRGVzY3JpcHRpb24gPSAoQ3R4SGVscERlc2NyaXB0aW9uKSBvYmplY3Q7DQorCQkJdXBkYXRl
RmllbGRzKCk7DQorCQl9DQorCX0NCit9DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRl
cm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwRWRpdG9yLmphdmENCj09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJD
UyBmaWxlOiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0
eEhlbHBFZGl0b3IuamF2YQ0KZGlmZiAtTiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3Vp
L2VkaXRvci9jdHhoZWxwL0N0eEhlbHBFZGl0b3IuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAx
OTcwIDAwOjAwOjAwIC0wMDAwDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9l
ZGl0b3IvY3R4aGVscC9DdHhIZWxwRWRpdG9yLmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAw
MA0KQEAgLTAsMCArMSwyNzAgQEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHly
aWdodCAoYykgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRz
IHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQor
ICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJs
aWMgTGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24s
IGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2Vw
bC12MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRp
b24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKi8NCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVs
cDsNCisNCitpbXBvcnQgamF2YS5pby5GaWxlOw0KK2ltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0
Ow0KK2ltcG9ydCBqYXZhLnV0aWwuSXRlcmF0b3I7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUu
cmVzb3VyY2VzLio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucnVudGltZS5JUGF0aDsNCitp
bXBvcnQgb3JnLmVjbGlwc2UuamR0LnVpLkphdmFVSTsNCitpbXBvcnQgb3JnLmVjbGlwc2UuamZh
Y2Uudmlld2Vycy4qOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0
LmN0eGhlbHAuKjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLklQREVVSUNv
bnN0YW50czsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLlBERVBsdWdpbjsN
CitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci4qOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmNvbnRleHQuSW5wdXRDb250ZXh0Ow0K
K2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmNvbnRleHQuSW5wdXRD
b250ZXh0TWFuYWdlcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWkuKjsNCitpbXBvcnQgb3JnLmVj
bGlwc2UudWkuZm9ybXMuZWRpdG9yLklGb3JtUGFnZTsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWku
cGFydC4qOw0KKw0KKy8qKg0KKyAqIE1haW4gVUkgY2xhc3MgZm9yIHRoZSBjb250ZXh0IGhlbHAg
ZWRpdG9yLiAgVGhpcyBlZGl0b3IgcHJvdmlkZXMgYSBjb252ZW5pZW50IHdheSB0bw0KKyAqIGV4
cGxvcmUgYW5kIGVkaXQgdGhlIHhtbCBmaWxlcyBjb250YWluaW5nIGNvbnRleHQgaGVscCBlbnRy
aWVzLiAgVGhlIGVkaXRvciB3aWxsDQorICogaGF2ZSB0d28gcGFnZXMsIG9uZSBkaXNwbGF5aW5n
IHRoZSB4bWwgc291cmNlLCB0aGUgb3RoZXIgZGlzcGxheWluZyBhIGZvcm0gZWRpdG9yLg0KKyAq
IEBzaW5jZSAzLjQNCisgKiBAc2VlIEN0eEhlbHBTb3VyY2VQYWdlDQorICogQHNlZSBDdHhIZWxw
UGFnZQ0KKyAqLw0KK3B1YmxpYyBjbGFzcyBDdHhIZWxwRWRpdG9yIGV4dGVuZHMgTXVsdGlTb3Vy
Y2VFZGl0b3Igew0KKw0KKwlwdWJsaWMgQ3R4SGVscEVkaXRvcigpIHsNCisJCXN1cGVyKCk7DQor
CX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC51aS5lZGl0b3IuUERFRm9ybUVkaXRvciNnZXRFZGl0b3JJRCgpDQorCSAqLw0KKwlwcm90
ZWN0ZWQgU3RyaW5nIGdldEVkaXRvcklEKCkgew0KKwkJcmV0dXJuIElQREVVSUNvbnN0YW50cy5D
T05URVhUX0hFTFBfRURJVE9SX0lEOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICog
QHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBERUZvcm1FZGl0b3IjZ2V0
QWRhcHRlcihqYXZhLmxhbmcuQ2xhc3MpDQorCSAqLw0KKwlwdWJsaWMgT2JqZWN0IGdldEFkYXB0
ZXIoQ2xhc3MgYWRhcHRlcikgew0KKwkJaWYgKGlzU2hvd0luQXBwbGljYWJsZSgpKSB7DQorCQkJ
aWYgKGFkYXB0ZXIgPT0gSVNob3dJblNvdXJjZS5jbGFzcykgew0KKwkJCQlyZXR1cm4gZ2V0U2hv
d0luU291cmNlKCk7DQorCQkJfSBlbHNlIGlmIChhZGFwdGVyID09IElTaG93SW5UYXJnZXRMaXN0
LmNsYXNzKSB7DQorCQkJCXJldHVybiBnZXRTaG93SW5UYXJnZXRMaXN0KCk7DQorCQkJfQ0KKwkJ
fQ0KKwkJcmV0dXJuIHN1cGVyLmdldEFkYXB0ZXIoYWRhcHRlcik7DQorCX0NCisNCisJLyoqDQor
CSAqIEByZXR1cm4gd2hldGhlciB0aGVyZSBpcyBhIHNlbGVjdGlvbiB0aGF0IHJlcXVpcmVzIHRo
ZSAiU2hvdyBJbiIgbWVudSB0byBiZSBhdmFpbGFibGUNCisJICovDQorCXByaXZhdGUgYm9vbGVh
biBpc1Nob3dJbkFwcGxpY2FibGUoKSB7DQorCQlpZiAoZ2V0U2VsZWN0aW9uKCkuaXNFbXB0eSgp
KSB7DQorCQkJcmV0dXJuIGZhbHNlOw0KKwkJfQ0KKwkJaWYgKGdldFNlbGVjdGlvbigpIGluc3Rh
bmNlb2YgSVN0cnVjdHVyZWRTZWxlY3Rpb24pIHsNCisJCQlJU3RydWN0dXJlZFNlbGVjdGlvbiBz
ZWxlY3Rpb24gPSAoSVN0cnVjdHVyZWRTZWxlY3Rpb24pIGdldFNlbGVjdGlvbigpOw0KKwkJCWZv
ciAoSXRlcmF0b3IgaXRlciA9IHNlbGVjdGlvbi5pdGVyYXRvcigpOyBpdGVyLmhhc05leHQoKTsp
IHsNCisJCQkJT2JqZWN0IG9iaiA9IGl0ZXIubmV4dCgpOw0KKwkJCQlpZiAob2JqIGluc3RhbmNl
b2YgQ3R4SGVscFRvcGljICYmICgoQ3R4SGVscFRvcGljKSBvYmopLmdldExvY2F0aW9uKCkgIT0g
bnVsbCkgew0KKwkJCQkJcmV0dXJuIHRydWU7DQorCQkJCX0NCisJCQl9DQorCQl9DQorCQlyZXR1
cm4gZmFsc2U7DQorCX0NCisNCisJLyoqDQorCSAqIFJldHVybnMgdGhlIDxjb2RlPklTaG93SW5T
b3VyY2U8L2NvZGU+IGZvciB0aGlzIGVkaXRvci4NCisJICogQHJldHVybiB0aGUgPGNvZGU+SVNo
b3dJblNvdXJjZTwvY29kZT4gDQorCSAqLw0KKwlwcml2YXRlIElTaG93SW5Tb3VyY2UgZ2V0U2hv
d0luU291cmNlKCkgew0KKwkJcmV0dXJuIG5ldyBJU2hvd0luU291cmNlKCkgew0KKwkJCXB1Ymxp
YyBTaG93SW5Db250ZXh0IGdldFNob3dJbkNvbnRleHQoKSB7DQorCQkJCUFycmF5TGlzdCByZXNv
dXJjZUxpc3QgPSBuZXcgQXJyYXlMaXN0KCk7DQorCQkJCUlTdHJ1Y3R1cmVkU2VsZWN0aW9uIHNl
bGVjdGlvbiA9IChJU3RydWN0dXJlZFNlbGVjdGlvbikgZ2V0U2VsZWN0aW9uKCk7DQorCQkJCUlT
dHJ1Y3R1cmVkU2VsZWN0aW9uIHJlc291cmNlczsNCisJCQkJaWYgKHNlbGVjdGlvbi5pc0VtcHR5
KCkpIHsNCisJCQkJCXJlc291cmNlcyA9IG51bGw7DQorCQkJCX0gZWxzZSB7DQorCQkJCQlJV29y
a3NwYWNlUm9vdCByb290ID0gUERFUGx1Z2luLmdldFdvcmtzcGFjZSgpLmdldFJvb3QoKTsNCisJ
CQkJCWZvciAoSXRlcmF0b3IgaXRlciA9IHNlbGVjdGlvbi5pdGVyYXRvcigpOyBpdGVyLmhhc05l
eHQoKTspIHsNCisJCQkJCQlPYmplY3Qgb2JqID0gaXRlci5uZXh0KCk7DQorCQkJCQkJaWYgKG9i
aiBpbnN0YW5jZW9mIEN0eEhlbHBUb3BpYykgew0KKwkJCQkJCQlJUGF0aCBwYXRoID0gKChDdHhI
ZWxwVG9waWMpIG9iaikuZ2V0TG9jYXRpb24oKTsNCisJCQkJCQkJaWYgKHBhdGggIT0gbnVsbCAm
JiAhcGF0aC5pc0VtcHR5KCkpIHsNCisJCQkJCQkJCUN0eEhlbHBNb2RlbCBtb2RlbCA9IChDdHhI
ZWxwTW9kZWwpIGdldEFnZ3JlZ2F0ZU1vZGVsKCk7DQorCQkJCQkJCQlJUGF0aCBwbHVnaW5QYXRo
ID0gbW9kZWwuZ2V0VW5kZXJseWluZ1Jlc291cmNlKCkuZ2V0UHJvamVjdCgpLmdldEZ1bGxQYXRo
KCk7DQorCQkJCQkJCQlJUmVzb3VyY2UgcmVzb3VyY2UgPSByb290LmZpbmRNZW1iZXIocGx1Z2lu
UGF0aC5hcHBlbmQocGF0aCkpOw0KKwkJCQkJCQkJaWYgKHJlc291cmNlICE9IG51bGwpIHsNCisJ
CQkJCQkJCQlyZXNvdXJjZUxpc3QuYWRkKHJlc291cmNlKTsNCisJCQkJCQkJCX0NCisJCQkJCQkJ
fQ0KKwkJCQkJCX0NCisJCQkJCX0NCisJCQkJCXJlc291cmNlcyA9IG5ldyBTdHJ1Y3R1cmVkU2Vs
ZWN0aW9uKHJlc291cmNlTGlzdCk7DQorCQkJCX0NCisJCQkJcmV0dXJuIG5ldyBTaG93SW5Db250
ZXh0KG51bGwsIHJlc291cmNlcyk7DQorCQkJfQ0KKwkJfTsNCisJfQ0KKw0KKwkvKioNCisJICog
UmV0dXJucyB0aGUgPGNvZGU+SVNob3dJblRhcmdldExpc3Q8L2NvZGU+IGZvciB0aGlzIGVkaXRv
ci4NCisJICogQHJldHVybiB0aGUgPGNvZGU+SVNob3dJblRhcmdldExpc3Q8L2NvZGU+IA0KKwkg
Ki8NCisJcHJpdmF0ZSBJU2hvd0luVGFyZ2V0TGlzdCBnZXRTaG93SW5UYXJnZXRMaXN0KCkgew0K
KwkJcmV0dXJuIG5ldyBJU2hvd0luVGFyZ2V0TGlzdCgpIHsNCisJCQlwdWJsaWMgU3RyaW5nW10g
Z2V0U2hvd0luVGFyZ2V0SWRzKCkgew0KKwkJCQlyZXR1cm4gbmV3IFN0cmluZ1tdIHtKYXZhVUku
SURfUEFDS0FHRVMsIElQYWdlTGF5b3V0LklEX1JFU19OQVZ9Ow0KKwkJCX0NCisJCX07DQorCX0N
CisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5h
bC51aS5lZGl0b3IuUERFRm9ybUVkaXRvciNpc1NhdmVBc0FsbG93ZWQoKQ0KKwkgKi8NCisJcHVi
bGljIGJvb2xlYW4gaXNTYXZlQXNBbGxvd2VkKCkgew0KKwkJcmV0dXJuIHRydWU7DQorCX0NCisN
CisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51
aS5lZGl0b3IuUERFRm9ybUVkaXRvciNnZXRDb250ZXh0SURGb3JTYXZlQXMoKQ0KKwkgKi8NCisJ
cHVibGljIFN0cmluZyBnZXRDb250ZXh0SURGb3JTYXZlQXMoKSB7DQorCQlyZXR1cm4gQ3R4SGVs
cElucHV0Q29udGV4dC5DT05URVhUX0lEOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJ
ICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBERUZvcm1FZGl0b3Ij
YWRkRWRpdG9yUGFnZXMoKQ0KKwkgKi8NCisJcHJvdGVjdGVkIHZvaWQgYWRkRWRpdG9yUGFnZXMo
KSB7DQorCQl0cnkgew0KKwkJCWFkZFBhZ2UobmV3IEN0eEhlbHBQYWdlKHRoaXMpKTsNCisJCX0g
Y2F0Y2ggKFBhcnRJbml0RXhjZXB0aW9uIGUpIHsNCisJCQlQREVQbHVnaW4ubG9nRXhjZXB0aW9u
KGUpOw0KKwkJfQ0KKwkJYWRkU291cmNlUGFnZShDdHhIZWxwSW5wdXRDb250ZXh0LkNPTlRFWFRf
SUQpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5w
ZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBERUZvcm1FZGl0b3IjY3JlYXRlQ29udGVudE91dGxpbmUo
KQ0KKwkgKi8NCisJcHJvdGVjdGVkIElTb3J0YWJsZUNvbnRlbnRPdXRsaW5lUGFnZSBjcmVhdGVD
b250ZW50T3V0bGluZSgpIHsNCisJCXJldHVybiBuZXcgQ3R4SGVscEZvcm1PdXRsaW5lUGFnZSh0
aGlzKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLnVpLmVkaXRvci5QREVGb3JtRWRpdG9yI2NyZWF0ZUlucHV0Q29udGV4dE1h
bmFnZXIoKQ0KKwkgKi8NCisJcHJvdGVjdGVkIElucHV0Q29udGV4dE1hbmFnZXIgY3JlYXRlSW5w
dXRDb250ZXh0TWFuYWdlcigpIHsNCisJCXJldHVybiBuZXcgQ3R4SGVscElucHV0Q29udGV4dE1h
bmFnZXIodGhpcyk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5l
Y2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFRm9ybUVkaXRvciNjcmVhdGVSZXNvdXJj
ZUNvbnRleHRzKG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY29udGV4dC5JbnB1
dENvbnRleHRNYW5hZ2VyLCBvcmcuZWNsaXBzZS51aS5JRmlsZUVkaXRvcklucHV0KQ0KKwkgKi8N
CisJcHJvdGVjdGVkIHZvaWQgY3JlYXRlUmVzb3VyY2VDb250ZXh0cyhJbnB1dENvbnRleHRNYW5h
Z2VyIGNvbnRleHRzLCBJRmlsZUVkaXRvcklucHV0IGlucHV0KSB7DQorCQljb250ZXh0cy5wdXRD
b250ZXh0KGlucHV0LCBuZXcgQ3R4SGVscElucHV0Q29udGV4dCh0aGlzLCBpbnB1dCwgdHJ1ZSkp
Ow0KKwkJY29udGV4dHMubW9uaXRvckZpbGUoaW5wdXQuZ2V0RmlsZSgpKTsNCisJfQ0KKw0KKwkv
KiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVk
aXRvci5QREVGb3JtRWRpdG9yI2NyZWF0ZVN0b3JhZ2VDb250ZXh0cyhvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwudWkuZWRpdG9yLmNvbnRleHQuSW5wdXRDb250ZXh0TWFuYWdlciwgb3JnLmVjbGlw
c2UudWkuSVN0b3JhZ2VFZGl0b3JJbnB1dCkNCisJICovDQorCXByb3RlY3RlZCB2b2lkIGNyZWF0
ZVN0b3JhZ2VDb250ZXh0cyhJbnB1dENvbnRleHRNYW5hZ2VyIGNvbnRleHRzLCBJU3RvcmFnZUVk
aXRvcklucHV0IGlucHV0KSB7DQorCQljb250ZXh0cy5wdXRDb250ZXh0KGlucHV0LCBuZXcgQ3R4
SGVscElucHV0Q29udGV4dCh0aGlzLCBpbnB1dCwgdHJ1ZSkpOw0KKwl9DQorDQorCS8qIChub24t
SmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBE
RUZvcm1FZGl0b3IjY3JlYXRlU3lzdGVtRmlsZUNvbnRleHRzKG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC51aS5lZGl0b3IuY29udGV4dC5JbnB1dENvbnRleHRNYW5hZ2VyLCBvcmcuZWNsaXBzZS5w
ZGUuaW50ZXJuYWwudWkuZWRpdG9yLlN5c3RlbUZpbGVFZGl0b3JJbnB1dCkNCisJICovDQorCXBy
b3RlY3RlZCB2b2lkIGNyZWF0ZVN5c3RlbUZpbGVDb250ZXh0cyhJbnB1dENvbnRleHRNYW5hZ2Vy
IGNvbnRleHRzLCBTeXN0ZW1GaWxlRWRpdG9ySW5wdXQgaW5wdXQpIHsNCisJCUZpbGUgZmlsZSA9
IChGaWxlKSBpbnB1dC5nZXRBZGFwdGVyKEZpbGUuY2xhc3MpOw0KKwkJaWYgKGZpbGUgIT0gbnVs
bCkgew0KKwkJCUlFZGl0b3JJbnB1dCBpbiA9IG5ldyBTeXN0ZW1GaWxlRWRpdG9ySW5wdXQoZmls
ZSk7DQorCQkJY29udGV4dHMucHV0Q29udGV4dChpbiwgbmV3IEN0eEhlbHBJbnB1dENvbnRleHQo
dGhpcywgaW4sIHRydWUpKTsNCisJCX0NCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAq
IEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5QREVGb3JtRWRpdG9yI2Vk
aXRvckNvbnRleHRBZGRlZChvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmNvbnRl
eHQuSW5wdXRDb250ZXh0KQ0KKwkgKi8NCisJcHVibGljIHZvaWQgZWRpdG9yQ29udGV4dEFkZGVk
KElucHV0Q29udGV4dCBjb250ZXh0KSB7DQorCQkvLyBBZGQgdGhlIHNvdXJjZSBwYWdlDQorCQlh
ZGRTb3VyY2VQYWdlKGNvbnRleHQuZ2V0SWQoKSk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9j
KQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFRm9ybUVk
aXRvciNnZXRJbnB1dENvbnRleHQoamF2YS5sYW5nLk9iamVjdCkNCisJICovDQorCXByb3RlY3Rl
ZCBJbnB1dENvbnRleHQgZ2V0SW5wdXRDb250ZXh0KE9iamVjdCBvYmplY3QpIHsNCisJCXJldHVy
biBmSW5wdXRDb250ZXh0TWFuYWdlci5maW5kQ29udGV4dChDdHhIZWxwSW5wdXRDb250ZXh0LkNP
TlRFWFRfSUQpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNs
aXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmNvbnRleHQuSUlucHV0Q29udGV4dExpc3RlbmVy
I2NvbnRleHRSZW1vdmVkKG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY29udGV4
dC5JbnB1dENvbnRleHQpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBjb250ZXh0UmVtb3ZlZChJbnB1
dENvbnRleHQgY29udGV4dCkgew0KKwkJY2xvc2UoZmFsc2UpOw0KKwl9DQorDQorCS8qIChub24t
SmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmNv
bnRleHQuSUlucHV0Q29udGV4dExpc3RlbmVyI21vbml0b3JlZEZpbGVBZGRlZChvcmcuZWNsaXBz
ZS5jb3JlLnJlc291cmNlcy5JRmlsZSkNCisJICovDQorCXB1YmxpYyB2b2lkIG1vbml0b3JlZEZp
bGVBZGRlZChJRmlsZSBtb25pdG9yZWRGaWxlKSB7DQorCQkvLyBOTy1PUA0KKwl9DQorDQorCS8q
IChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLmNvbnRleHQuSUlucHV0Q29udGV4dExpc3RlbmVyI21vbml0b3JlZEZpbGVSZW1vdmVkKG9y
Zy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLklGaWxlKQ0KKwkgKi8NCisJcHVibGljIGJvb2xlYW4g
bW9uaXRvcmVkRmlsZVJlbW92ZWQoSUZpbGUgbW9uaXRvcmVkRmlsZSkgew0KKwkJcmV0dXJuIHRy
dWU7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFRm9ybUVkaXRvciNnZXRTZWxlY3Rpb24oKQ0KKwkgKi8N
CisJcHVibGljIElTZWxlY3Rpb24gZ2V0U2VsZWN0aW9uKCkgew0KKwkJSUZvcm1QYWdlIGZvcm1Q
YWdlID0gZ2V0QWN0aXZlUGFnZUluc3RhbmNlKCk7DQorCQlpZiAoKGZvcm1QYWdlICE9IG51bGwp
ICYmIChmb3JtUGFnZSBpbnN0YW5jZW9mIEN0eEhlbHBQYWdlKSkgew0KKwkJCS8vIFN5bmNocm9u
aXplcyB0aGUgc2VsZWN0aW9uIG1hZGUgaW4gdGhlIG1hc3RlciB0cmVlIHZpZXcgd2l0aCB0aGUN
CisJCQkvLyBzZWxlY3Rpb24gaW4gdGhlIG91dGxpbmUgdmlldyB3aGVuIHRoZSBsaW5rIHdpdGgg
ZWRpdG9yIGJ1dHRvbg0KKwkJCS8vIGlzIHRvZ2dsZWQgb24NCisJCQlyZXR1cm4gKChDdHhIZWxw
UGFnZSkgZm9ybVBhZ2UpLmdldFNlbGVjdGlvbigpOw0KKwkJfQ0KKwkJcmV0dXJuIHN1cGVyLmdl
dFNlbGVjdGlvbigpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBERUZvcm1FZGl0b3IjY2FuQ3V0KG9yZy5l
Y2xpcHNlLmpmYWNlLnZpZXdlcnMuSVNlbGVjdGlvbikNCisJICovDQorCXB1YmxpYyBib29sZWFu
IGNhbkN1dChJU2VsZWN0aW9uIHNlbGVjdGlvbikgew0KKwkJaWYgKHNlbGVjdGlvbiBpbnN0YW5j
ZW9mIElTdHJ1Y3R1cmVkU2VsZWN0aW9uKSB7DQorCQkJSVN0cnVjdHVyZWRTZWxlY3Rpb24gc2Vs
ID0gKElTdHJ1Y3R1cmVkU2VsZWN0aW9uKSBzZWxlY3Rpb247DQorCQkJZm9yIChJdGVyYXRvciBp
dGVyID0gc2VsLml0ZXJhdG9yKCk7IGl0ZXIuaGFzTmV4dCgpOykgew0KKwkJCQlPYmplY3Qgb2Jq
ID0gaXRlci5uZXh0KCk7DQorCQkJCWlmIChvYmogaW5zdGFuY2VvZiBDdHhIZWxwT2JqZWN0ICYm
ICgoQ3R4SGVscE9iamVjdCkgb2JqKS5jYW5CZVJlbW92ZWQoKSkgew0KKwkJCQkJcmV0dXJuIGNh
bkNvcHkoc2VsZWN0aW9uKTsNCisJCQkJfQ0KKwkJCX0NCisJCX0NCisJCXJldHVybiBmYWxzZTsN
CisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmlu
dGVybmFsLnVpLmVkaXRvci5NdWx0aVNvdXJjZUVkaXRvciNjcmVhdGVTb3VyY2VQYWdlKG9yZy5l
Y2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFRm9ybUVkaXRvciwgamF2YS5sYW5nLlN0
cmluZywgamF2YS5sYW5nLlN0cmluZywgamF2YS5sYW5nLlN0cmluZykNCisJICovDQorCXByb3Rl
Y3RlZCBQREVTb3VyY2VQYWdlIGNyZWF0ZVNvdXJjZVBhZ2UoUERFRm9ybUVkaXRvciBlZGl0b3Is
IFN0cmluZyB0aXRsZSwgU3RyaW5nIG5hbWUsIFN0cmluZyBjb250ZXh0SWQpIHsNCisJCXJldHVy
biBuZXcgQ3R4SGVscFNvdXJjZVBhZ2UoZWRpdG9yLCB0aXRsZSwgbmFtZSk7DQorCX0NCisNCit9
DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL0hlbHBF
ZGl0b3JVdGlsLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiBzcmMvb3JnL2VjbGlwc2UvcGRl
L2ludGVybmFsL3VpL2VkaXRvci90b2MvSGVscEVkaXRvclV0aWwuamF2YQ0KZGlmZiAtTiBzcmMv
b3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvSGVscEVkaXRvclV0aWwuamF2
YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgc3JjL29yZy9l
Y2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL0hlbHBFZGl0b3JVdGlsLmphdmEJMSBK
YW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAgLTAsMCArMSwxMDQgQEANCisvKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMjAwNywgMjAwOCBJQk0gQ29ycG9yYXRpb24g
YW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRo
ZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRo
ZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNj
b21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRw
Oi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0
b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50
YXRpb24NCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC51aS5lZGl0b3IudG9jOw0KKw0KK2ltcG9ydCBqYXZhLnV0aWwuSGFzaFNldDsN
CitpbXBvcnQgamF2YS51dGlsLkxvY2FsZTsNCisNCitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5y
ZXNvdXJjZXMuSUZpbGU7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLklSZXNv
dXJjZTsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5yZXNvdXJjZXMuSVdvcmtzcGFjZVJvb3Q7
DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLlJlc291cmNlc1BsdWdpbjsNCitp
bXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLklQYXRoOw0KK2ltcG9ydCBvcmcuZWNsaXBz
ZS5wZGUuY29yZS5JQmFzZU1vZGVsOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuY29yZS5JTW9k
ZWw7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLml0b2MuSVRvY0NvbnN0
YW50czsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLnV0aWwuWE1MUm9vdEVs
ZW1lbnRNYXRjaGVyOw0KKw0KK3B1YmxpYyBjbGFzcyBIZWxwRWRpdG9yVXRpbCB7DQorCXB1Ymxp
YyBzdGF0aWMgZmluYWwgU3RyaW5nW10gcGFnZUV4dGVuc2lvbnMgPSB7Imh0bSIsInNodG1sIiwi
aHRtbCIsInhodG1sIn07IC8vJE5PTi1OTFMtMSQgLy8kTk9OLU5MUy0yJCAvLyROT04tTkxTLTMk
IC8vJE5PTi1OTFMtNCQNCisJcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgdG9jRXh0ZW5zaW9u
ID0gInhtbCI7IC8vJE5PTi1OTFMtMSQNCisJcHJpdmF0ZSBzdGF0aWMgSGFzaFNldCBwYWdlRXh0
ZW5zaW9uU2V0ID0gbmV3IEhhc2hTZXQocGFnZUV4dGVuc2lvbnMubGVuZ3RoKTsNCisNCisJcHJp
dmF0ZSBzdGF0aWMgdm9pZCBwb3B1bGF0ZUhhc2hTZXQoKQ0KKwl7CWZvcihpbnQgaSA9IDA7IGkg
PCBwYWdlRXh0ZW5zaW9ucy5sZW5ndGg7ICsraSkNCisJCXsJcGFnZUV4dGVuc2lvblNldC5hZGQo
cGFnZUV4dGVuc2lvbnNbaV0pOw0KKwkJfQ0KKwl9DQorCQ0KKwlwdWJsaWMgc3RhdGljIGJvb2xl
YW4gaGFzVmFsaWRQYWdlRXh0ZW5zaW9uKElQYXRoIHBhdGgpDQorCXsJU3RyaW5nIGZpbGVFeHRl
bnNpb24gPSBwYXRoLmdldEZpbGVFeHRlbnNpb24oKTsJDQorCQlpZihmaWxlRXh0ZW5zaW9uICE9
IG51bGwpDQorCQl7CWZpbGVFeHRlbnNpb24gPSBmaWxlRXh0ZW5zaW9uLnRvTG93ZXJDYXNlKExv
Y2FsZS5FTkdMSVNIKTsNCisJCQlpZihwYWdlRXh0ZW5zaW9uU2V0LmlzRW1wdHkoKSkNCisJCQl7
CXBvcHVsYXRlSGFzaFNldCgpOw0KKwkJCX0NCisJCQkNCisJCQlyZXR1cm4gcGFnZUV4dGVuc2lv
blNldC5jb250YWlucyhmaWxlRXh0ZW5zaW9uKTsNCisJCX0NCisNCisJCXJldHVybiBmYWxzZTsN
CisJfQ0KKw0KKwlwcml2YXRlIHN0YXRpYyBib29sZWFuIGhhc1ZhbGlkVG9jRXh0ZW5zaW9uKElQ
YXRoIHBhdGgpDQorCXsJU3RyaW5nIGZpbGVFeHRlbnNpb24gPSBwYXRoLmdldEZpbGVFeHRlbnNp
b24oKTsNCisJCXJldHVybiBmaWxlRXh0ZW5zaW9uICE9IG51bGwgJiYgZmlsZUV4dGVuc2lvbi5l
cXVhbHModG9jRXh0ZW5zaW9uKTsgDQorCX0NCisNCisJLyoqDQorCSAqIEBwYXJhbSBmaWxlDQor
CSAqLw0KKwlwdWJsaWMgc3RhdGljIGJvb2xlYW4gaXNUT0NGaWxlKElQYXRoIHBhdGgpIHsNCisJ
CWlmKCFoYXNWYWxpZFRvY0V4dGVuc2lvbihwYXRoKSkNCisJCQlyZXR1cm4gZmFsc2U7DQorCQkN
CisJCUlXb3Jrc3BhY2VSb290IHJvb3QgPSBSZXNvdXJjZXNQbHVnaW4uZ2V0V29ya3NwYWNlKCku
Z2V0Um9vdCgpOw0KKw0KKwkJSVJlc291cmNlIHJlc291cmNlID0gcm9vdC5maW5kTWVtYmVyKHBh
dGgpOw0KKwkJaWYocmVzb3VyY2UgIT0gbnVsbCAmJiByZXNvdXJjZSBpbnN0YW5jZW9mIElGaWxl
KQ0KKwkJewlyZXR1cm4gWE1MUm9vdEVsZW1lbnRNYXRjaGVyLmZpbGVNYXRjaGVzRWxlbWVudCgo
SUZpbGUpcmVzb3VyY2UsIElUb2NDb25zdGFudHMuRUxFTUVOVF9UT0MpOw0KKwkJfQ0KKw0KKwkJ
cmV0dXJuIFhNTFJvb3RFbGVtZW50TWF0Y2hlci5maWxlTWF0Y2hlc0VsZW1lbnQocGF0aC50b0Zp
bGUoKSwgSVRvY0NvbnN0YW50cy5FTEVNRU5UX1RPQyk7DQorCX0NCisNCisJcHVibGljIHN0YXRp
YyBib29sZWFuIGlzQ3VycmVudFJlc291cmNlKElQYXRoIHBhdGgsIElCYXNlTW9kZWwgbW9kZWwp
DQorCXsJaWYobW9kZWwgaW5zdGFuY2VvZiBJTW9kZWwpDQorCQl7CUlQYXRoIHdvcmtzcGFjZVBh
dGggPSBSZXNvdXJjZXNQbHVnaW4uZ2V0V29ya3NwYWNlKCkuZ2V0Um9vdCgpLmdldExvY2F0aW9u
KCk7DQorCQkJSVBhdGggZnVsbFBhdGg7CQ0KKw0KKwkJCWlmKHdvcmtzcGFjZVBhdGguaXNQcmVm
aXhPZihwYXRoKSkNCisJCQl7CWZ1bGxQYXRoID0gKChJTW9kZWwpbW9kZWwpLmdldFVuZGVybHlp
bmdSZXNvdXJjZSgpLmdldExvY2F0aW9uKCk7CQ0KKwkJCX0NCisJCQllbHNlDQorCQkJewlmdWxs
UGF0aCA9ICgoSU1vZGVsKW1vZGVsKS5nZXRVbmRlcmx5aW5nUmVzb3VyY2UoKS5nZXRGdWxsUGF0
aCgpOw0KKwkJCX0NCisNCisJCQlyZXR1cm4gZnVsbFBhdGguZXF1YWxzKHBhdGgpOw0KKwkJfQ0K
Kw0KKwkJcmV0dXJuIGZhbHNlOw0KKwl9DQorDQorCXB1YmxpYyBzdGF0aWMgU3RyaW5nIGdldFBh
Z2VFeHRlbnNpb25MaXN0KCkgew0KKwkJU3RyaW5nQnVmZmVyIGJ1ZiA9IG5ldyBTdHJpbmdCdWZm
ZXIoKTsNCisNCisJCWZvcihpbnQgaSA9IDA7IGkgPCBwYWdlRXh0ZW5zaW9ucy5sZW5ndGg7ICsr
aSkNCisJCXsJYnVmLmFwcGVuZCgnLicpOw0KKwkJCWJ1Zi5hcHBlbmQocGFnZUV4dGVuc2lvbnNb
aV0pOw0KKwkJCWlmKGkgIT0gcGFnZUV4dGVuc2lvbnMubGVuZ3RoIC0gMSkNCisJCQl7CWJ1Zi5h
cHBlbmQoIiwgIik7IC8vJE5PTi1OTFMtMSQNCisJCQl9DQorCQl9DQorDQorCQlyZXR1cm4gYnVm
LnRvU3RyaW5nKCk7DQorCX0NCit9DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5h
bC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwQmxvY2suamF2YQ0KPT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZp
bGU6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVs
cEJsb2NrLmphdmENCmRpZmYgLU4gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0
b3IvY3R4aGVscC9DdHhIZWxwQmxvY2suamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAw
OjAwOjAwIC0wMDAwDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3Iv
Y3R4aGVscC9DdHhIZWxwQmxvY2suamF2YQkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAt
MCwwICsxLDExNCBAQA0KKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQorICogQ29weXJpZ2h0IChj
KSAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIEFsbCByaWdodHMgcmVzZXJ2
ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCisgKiBhcmUg
bWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNl
bnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlz
IGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5o
dG1sDQorICoNCisgKiBDb250cmlidXRvcnM6DQorICogICAgIElCTSBDb3Jwb3JhdGlvbiAtIGlu
aXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0K
K3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwOw0KKw0K
K2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklTZWxlY3Rpb247DQoraW1wb3J0IG9y
Zy5lY2xpcHNlLmpmYWNlLnZpZXdlcnMuSVN0cnVjdHVyZWRTZWxlY3Rpb247DQoraW1wb3J0IG9y
Zy5lY2xpcHNlLnBkZS5jb3JlLklNb2RlbENoYW5nZWRFdmVudDsNCitpbXBvcnQgb3JnLmVjbGlw
c2UucGRlLmNvcmUuSU1vZGVsQ2hhbmdlZExpc3RlbmVyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5w
ZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuKjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRl
LmludGVybmFsLnVpLmVkaXRvci4qOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwu
dWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlscy4qOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3Qud2lk
Z2V0cy5Db21wb3NpdGU7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmZvcm1zLio7DQorDQorLyoq
DQorICogQmxvY2sgY29udGFpbmluZyB0aGUgVUkgZWxlbWVudHMgZm9yIHRoZSBjb250ZXh0IGVk
aXRvci4gIEV4dGVuZHMgZnJvbSBQREVNYXN0ZXJEZXRhaWxzQmxvY2sNCisgKiB3aGljaCBzcGxp
dHMgdGhlIGVkaXRvciBpbnRvIHR3byBhcmVhcywgYSB0cmVlIHNlY3Rpb24gYW5kIGEgZGV0YWls
cyBzZWN0aW9uLg0KKyAqIEBzaW5jZSAzLjQNCisgKiBAc2VlIEN0eEhlbHBUcmVlU2VjdGlvbg0K
KyAqIEBzZWUgQ3R4SGVscEFic3RyYWN0RGV0YWlscw0KKyAqLw0KK3B1YmxpYyBjbGFzcyBDdHhI
ZWxwQmxvY2sgZXh0ZW5kcyBQREVNYXN0ZXJEZXRhaWxzQmxvY2sgaW1wbGVtZW50cyBJTW9kZWxD
aGFuZ2VkTGlzdGVuZXIsIElEZXRhaWxzUGFnZVByb3ZpZGVyIHsNCisNCisJcHJpdmF0ZSBDdHhI
ZWxwVHJlZVNlY3Rpb24gZk1hc3RlclNlY3Rpb247DQorDQorCXB1YmxpYyBDdHhIZWxwQmxvY2so
UERFRm9ybVBhZ2UgcGFnZSkgew0KKwkJc3VwZXIocGFnZSk7DQorCX0NCisNCisJLyogKG5vbi1K
YXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERF
TWFzdGVyRGV0YWlsc0Jsb2NrI2NyZWF0ZU1hc3RlclNlY3Rpb24ob3JnLmVjbGlwc2UudWkuZm9y
bXMuSU1hbmFnZWRGb3JtLCBvcmcuZWNsaXBzZS5zd3Qud2lkZ2V0cy5Db21wb3NpdGUpDQorCSAq
Lw0KKwlwcm90ZWN0ZWQgUERFU2VjdGlvbiBjcmVhdGVNYXN0ZXJTZWN0aW9uKElNYW5hZ2VkRm9y
bSBtYW5hZ2VkRm9ybSwgQ29tcG9zaXRlIHBhcmVudCkgew0KKwkJZk1hc3RlclNlY3Rpb24gPSBu
ZXcgQ3R4SGVscFRyZWVTZWN0aW9uKGdldFBhZ2UoKSwgcGFyZW50KTsNCisJCXJldHVybiBmTWFz
dGVyU2VjdGlvbjsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVj
bGlwc2UudWkuZm9ybXMuTWFzdGVyRGV0YWlsc0Jsb2NrI3JlZ2lzdGVyUGFnZXMob3JnLmVjbGlw
c2UudWkuZm9ybXMuRGV0YWlsc1BhcnQpDQorCSAqLw0KKwlwcm90ZWN0ZWQgdm9pZCByZWdpc3Rl
clBhZ2VzKERldGFpbHNQYXJ0IGRldGFpbHNQYXJ0KSB7DQorCQkvLyBPbmx5IHN0YXRpYyBwYWdl
cyB0byBiZSBkZWZpbmVkLiAgRG8gbm90IGNhY2hlIHBhZ2VzDQorCQlkZXRhaWxzUGFydC5zZXRQ
YWdlTGltaXQoMCk7DQorCQlkZXRhaWxzUGFydC5yZWdpc3RlclBhZ2UoQ3R4SGVscENvbnRleHRE
ZXRhaWxzLmNsYXNzLCBuZXcgQ3R4SGVscENvbnRleHREZXRhaWxzKGZNYXN0ZXJTZWN0aW9uKSk7
DQorCQlkZXRhaWxzUGFydC5yZWdpc3RlclBhZ2UoQ3R4SGVscERlc2NyaXB0aW9uRGV0YWlscy5j
bGFzcywgbmV3IEN0eEhlbHBEZXNjcmlwdGlvbkRldGFpbHMoZk1hc3RlclNlY3Rpb24pKTsNCisJ
CWRldGFpbHNQYXJ0LnJlZ2lzdGVyUGFnZShDdHhIZWxwVG9waWNEZXRhaWxzLmNsYXNzLCBuZXcg
Q3R4SGVscFRvcGljRGV0YWlscyhmTWFzdGVyU2VjdGlvbikpOw0KKwkJZGV0YWlsc1BhcnQucmVn
aXN0ZXJQYWdlKEN0eEhlbHBDb21tYW5kRGV0YWlscy5jbGFzcywgbmV3IEN0eEhlbHBDb21tYW5k
RGV0YWlscyhmTWFzdGVyU2VjdGlvbikpOw0KKwkJZGV0YWlsc1BhcnQuc2V0UGFnZVByb3ZpZGVy
KHRoaXMpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBz
ZS5wZGUuY29yZS5JTW9kZWxDaGFuZ2VkTGlzdGVuZXIjbW9kZWxDaGFuZ2VkKG9yZy5lY2xpcHNl
LnBkZS5jb3JlLklNb2RlbENoYW5nZWRFdmVudCkNCisJICovDQorCXB1YmxpYyB2b2lkIG1vZGVs
Q2hhbmdlZChJTW9kZWxDaGFuZ2VkRXZlbnQgZXZlbnQpIHsNCisJCWlmIChmTWFzdGVyU2VjdGlv
biAhPSBudWxsKSB7DQorCQkJZk1hc3RlclNlY3Rpb24ubW9kZWxDaGFuZ2VkKGV2ZW50KTsNCisJ
CX0NCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UudWku
Zm9ybXMuSURldGFpbHNQYWdlUHJvdmlkZXIjZ2V0UGFnZShqYXZhLmxhbmcuT2JqZWN0KQ0KKwkg
Ki8NCisJcHVibGljIElEZXRhaWxzUGFnZSBnZXRQYWdlKE9iamVjdCBrZXkpIHsNCisJCS8vIE5v
IGR5bmFtaWMgcGFnZXMuICBTdGF0aWMgcGFnZXMgYWxyZWFkeSByZWdpc3RlcmVkDQorCQlyZXR1
cm4gbnVsbDsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlw
c2UudWkuZm9ybXMuSURldGFpbHNQYWdlUHJvdmlkZXIjZ2V0UGFnZUtleShqYXZhLmxhbmcuT2Jq
ZWN0KQ0KKwkgKi8NCisJcHVibGljIE9iamVjdCBnZXRQYWdlS2V5KE9iamVjdCBvYmplY3QpIHsN
CisJCUlTZWxlY3Rpb24gc2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKCk7DQorCQlpZiAoIShzZWxl
Y3Rpb24gaW5zdGFuY2VvZiBJU3RydWN0dXJlZFNlbGVjdGlvbikgfHwgKChJU3RydWN0dXJlZFNl
bGVjdGlvbikgc2VsZWN0aW9uKS5zaXplKCkgPiAxKSB7DQorCQkJcmV0dXJuIG9iamVjdC5nZXRD
bGFzcygpOw0KKwkJfQ0KKw0KKwkJaWYgKG9iamVjdCBpbnN0YW5jZW9mIEN0eEhlbHBDb250ZXh0
KSB7DQorCQkJcmV0dXJuIEN0eEhlbHBDb250ZXh0RGV0YWlscy5jbGFzczsNCisJCX0gZWxzZSBp
ZiAob2JqZWN0IGluc3RhbmNlb2YgQ3R4SGVscERlc2NyaXB0aW9uKSB7DQorCQkJcmV0dXJuIEN0
eEhlbHBEZXNjcmlwdGlvbkRldGFpbHMuY2xhc3M7DQorCQl9IGVsc2UgaWYgKG9iamVjdCBpbnN0
YW5jZW9mIEN0eEhlbHBUb3BpYykgew0KKwkJCXJldHVybiBDdHhIZWxwVG9waWNEZXRhaWxzLmNs
YXNzOw0KKwkJfSBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBDdHhIZWxwQ29tbWFuZCkgew0K
KwkJCXJldHVybiBDdHhIZWxwQ29tbWFuZERldGFpbHMuY2xhc3M7DQorCQl9DQorDQorCQlyZXR1
cm4gb2JqZWN0LmdldENsYXNzKCk7DQorCX0NCisNCisJLyoqDQorCSAqIEByZXR1cm4gdGhlIGN1
cnJlbnQgc2VsZWN0aW9uIG9mIHRoZSB0cmVlIHNlY3Rpb24NCisJICovDQorCXB1YmxpYyBJU2Vs
ZWN0aW9uIGdldFNlbGVjdGlvbigpIHsNCisJCWlmIChmTWFzdGVyU2VjdGlvbiAhPSBudWxsKSB7
DQorCQkJcmV0dXJuIGZNYXN0ZXJTZWN0aW9uLmdldFNlbGVjdGlvbigpOw0KKwkJfQ0KKwkJcmV0
dXJuIG51bGw7DQorCX0NCisNCisJLyoqDQorCSAqIEByZXR1cm4gdGhlIHRyZWUgc2VjdGlvbg0K
KwkgKi8NCisJcHVibGljIEN0eEhlbHBUcmVlU2VjdGlvbiBnZXRNYXN0ZXJTZWN0aW9uKCkgew0K
KwkJcmV0dXJuIGZNYXN0ZXJTZWN0aW9uOw0KKwl9DQorfQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBz
ZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvZGV0YWlscy9DdHhIZWxwVG9waWNEZXRh
aWxzLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVy
bmFsL3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVscFRvcGljRGV0YWlscy5qYXZhDQpk
aWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvZGV0
YWlscy9DdHhIZWxwVG9waWNEZXRhaWxzLmphdmENCi0tLSAvZGV2L251bGwJMSBKYW4gMTk3MCAw
MDowMDowMCAtMDAwMA0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9y
L2N0eGhlbHAvZGV0YWlscy9DdHhIZWxwVG9waWNEZXRhaWxzLmphdmEJMSBKYW4gMTk3MCAwMDow
MDowMCAtMDAwMA0KQEAgLTAsMCArMSwxODQgQEANCisvKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0K
KyAqIENvcHlyaWdodCAoYykgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBB
bGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0
ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNs
aXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0
cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3Jn
L2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0g
Q29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKi8NCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0
b3IuY3R4aGVscC5kZXRhaWxzOw0KKw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJlc291cmNl
cy5JRmlsZTsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLklQYXRoOw0KK2ltcG9y
dCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuUGF0aDsNCitpbXBvcnQgb3JnLmVjbGlwc2UuamZh
Y2Uudmlld2Vycy5JU2VsZWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS53aW5kb3cu
V2luZG93Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhl
bHAuQ3R4SGVscFRvcGljOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuUERF
UGx1Z2luOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuUERFVUlNZXNzYWdl
czsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5Gb3JtRW50cnlB
ZGFwdGVyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhl
bHAuQ3R4SGVscElucHV0Q29udGV4dDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LnVpLmVkaXRvci5jdHhoZWxwLkN0eEhlbHBUcmVlU2VjdGlvbjsNCitpbXBvcnQgb3JnLmVjbGlw
c2UucGRlLmludGVybmFsLnVpLmVkaXRvci50b2MuZGV0YWlscy5IZWxwRWRpdG9yRmlsdGVyOw0K
K2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkucGFydHMuRm9ybUVudHJ5Ow0KK2lt
cG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkudXRpbC5GaWxlVmFsaWRhdG9yOw0KK2lt
cG9ydCBvcmcuZWNsaXBzZS5zd3QuU1dUOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3Qud2lkZ2V0
cy5Db21wb3NpdGU7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmRpYWxvZ3MuRWxlbWVudFRyZWVT
ZWxlY3Rpb25EaWFsb2c7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmZvcm1zLklGb3JtUGFydDsN
CitpbXBvcnQgb3JnLmVjbGlwc2UudWkuZm9ybXMuZXZlbnRzLkh5cGVybGlua0V2ZW50Ow0KK2lt
cG9ydCBvcmcuZWNsaXBzZS51aS5tb2RlbC5Xb3JrYmVuY2hDb250ZW50UHJvdmlkZXI7DQoraW1w
b3J0IG9yZy5lY2xpcHNlLnVpLm1vZGVsLldvcmtiZW5jaExhYmVsUHJvdmlkZXI7DQorDQorLyoq
DQorICogRGV0YWlscyBzZWN0aW9uIGZvciB0b3BpYyBlbnRyaWVzLg0KKyAqIEBzaW5jZSAzLjQN
CisgKiBAc2VlIEN0eEhlbHBBYnN0cmFjdERldGFpbHMNCisgKiBAc2VlIEN0eEhlbHBUb3BpYw0K
KyAqLw0KK3B1YmxpYyBjbGFzcyBDdHhIZWxwVG9waWNEZXRhaWxzIGV4dGVuZHMgQ3R4SGVscEFi
c3RyYWN0RGV0YWlscyB7DQorDQorCXByaXZhdGUgQ3R4SGVscFRvcGljIGZUb3BpYzsNCisJcHJp
dmF0ZSBGb3JtRW50cnkgZkxhYmVsRW50cnk7DQorCXByaXZhdGUgRm9ybUVudHJ5IGZMaW5rRW50
cnk7DQorDQorCXB1YmxpYyBDdHhIZWxwVG9waWNEZXRhaWxzKEN0eEhlbHBUcmVlU2VjdGlvbiBt
YXN0ZXJTZWN0aW9uKSB7DQorCQlzdXBlcihtYXN0ZXJTZWN0aW9uLCBDdHhIZWxwSW5wdXRDb250
ZXh0LkNPTlRFWFRfSUQpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBv
cmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlscy5DdHhIZWxw
QWJzdHJhY3REZXRhaWxzI2NyZWF0ZUZpZWxkcyhvcmcuZWNsaXBzZS5zd3Qud2lkZ2V0cy5Db21w
b3NpdGUpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBjcmVhdGVGaWVsZHMoQ29tcG9zaXRlIHBhcmVu
dCkgew0KKwkJY3JlYXRlTGFiZWwocGFyZW50LCBnZXRNYW5hZ2VkRm9ybSgpLmdldFRvb2xraXQo
KSwgUERFVUlNZXNzYWdlcy5DdHhIZWxwVG9waWNEZXRhaWxzX3NwZWNpZnlMYWJlbCk7DQorCQlm
TGFiZWxFbnRyeSA9IG5ldyBGb3JtRW50cnkocGFyZW50LCBnZXRNYW5hZ2VkRm9ybSgpLmdldFRv
b2xraXQoKSwgUERFVUlNZXNzYWdlcy5DdHhIZWxwVG9waWNEZXRhaWxzX2xhYmVsLCBTV1QuTk9O
RSk7DQorCQljcmVhdGVTcGFjZShwYXJlbnQpOw0KKwkJY3JlYXRlTGFiZWwocGFyZW50LCBnZXRN
YW5hZ2VkRm9ybSgpLmdldFRvb2xraXQoKSwgUERFVUlNZXNzYWdlcy5DdHhIZWxwVG9waWNEZXRh
aWxzX3NwZWNpZnlMb2NhdGlvbik7DQorCQlmTGlua0VudHJ5ID0gbmV3IEZvcm1FbnRyeShwYXJl
bnQsIGdldE1hbmFnZWRGb3JtKCkuZ2V0VG9vbGtpdCgpLCBQREVVSU1lc3NhZ2VzLkN0eEhlbHBU
b3BpY0RldGFpbHNfbG9jYXRpb24sIFBERVVJTWVzc2FnZXMuR2VuZXJhbEluZm9TZWN0aW9uX2Jy
b3dzZSwgaXNFZGl0YWJsZSgpKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBz
ZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLmRldGFpbHMuQ3R4
SGVscEFic3RyYWN0RGV0YWlscyNnZXREZXRhaWxzVGl0bGUoKQ0KKwkgKi8NCisJcHJvdGVjdGVk
IFN0cmluZyBnZXREZXRhaWxzVGl0bGUoKSB7DQorCQlyZXR1cm4gUERFVUlNZXNzYWdlcy5Ub2NU
b3BpY0RldGFpbHNfdGl0bGU7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2Vl
IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzLkN0eEhl
bHBBYnN0cmFjdERldGFpbHMjZ2V0RGV0YWlsc0Rlc2NyaXB0aW9uKCkNCisJICovDQorCXByb3Rl
Y3RlZCBTdHJpbmcgZ2V0RGV0YWlsc0Rlc2NyaXB0aW9uKCkgew0KKwkJcmV0dXJuIG51bGw7DQor
CX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzLkN0eEhlbHBBYnN0cmFjdERldGFpbHMjaG9v
a0xpc3RlbmVycygpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBob29rTGlzdGVuZXJzKCkgew0KKwkJ
ZkxhYmVsRW50cnkuc2V0Rm9ybUVudHJ5TGlzdGVuZXIobmV3IEZvcm1FbnRyeUFkYXB0ZXIodGhp
cykgew0KKwkJCXB1YmxpYyB2b2lkIHRleHRWYWx1ZUNoYW5nZWQoRm9ybUVudHJ5IGVudHJ5KSB7
DQorCQkJCWlmIChmVG9waWMgIT0gbnVsbCkgew0KKwkJCQkJZlRvcGljLnNldExhYmVsKGZMYWJl
bEVudHJ5LmdldFZhbHVlKCkpOw0KKwkJCQl9DQorCQkJfQ0KKwkJfSk7DQorCQlmTGlua0VudHJ5
LnNldEZvcm1FbnRyeUxpc3RlbmVyKG5ldyBGb3JtRW50cnlBZGFwdGVyKHRoaXMpIHsNCisJCQlw
dWJsaWMgdm9pZCB0ZXh0VmFsdWVDaGFuZ2VkKEZvcm1FbnRyeSBlbnRyeSkgeyAvLyBFbnN1cmUg
ZGF0YSBvYmplY3QgaXMgZGVmaW5lZA0KKwkJCQlpZiAoZlRvcGljICE9IG51bGwpIHsNCisJCQkJ
CS8vIFRPRE8gRG8gd2UgbmVlZCBiZXR0ZXIgdGVzdGluZyBmb3IgcGF0aCB2YWxpZGl0eT8NCisJ
CQkJCWZUb3BpYy5zZXRMb2NhdGlvbihuZXcgUGF0aChmTGlua0VudHJ5LmdldFZhbHVlKCkpKTsN
CisJCQkJfQ0KKwkJCX0NCisNCisJCQlwdWJsaWMgdm9pZCBicm93c2VCdXR0b25TZWxlY3RlZChG
b3JtRW50cnkgZW50cnkpIHsNCisJCQkJaGFuZGxlQnJvd3NlKCk7DQorCQkJfQ0KKw0KKwkJCXB1
YmxpYyB2b2lkIGxpbmtBY3RpdmF0ZWQoSHlwZXJsaW5rRXZlbnQgZSkgew0KKwkJCQloYW5kbGVP
cGVuKCk7DQorCQkJfQ0KKwkJfSk7DQorCX0NCisNCisJLyoqDQorCSAqIEhhbmRsZSB3aGVuIHRo
ZSBicm93c2UgYnV0dG9uIGlzIHByZXNzZWQuICBPcGVuIHVwIGEgZmlsZSBzZWxlY3Rpb24gZGlh
bG9nLg0KKwkgKi8NCisJcHJpdmF0ZSB2b2lkIGhhbmRsZUJyb3dzZSgpIHsNCisJCUVsZW1lbnRU
cmVlU2VsZWN0aW9uRGlhbG9nIGRpYWxvZyA9IG5ldyBFbGVtZW50VHJlZVNlbGVjdGlvbkRpYWxv
ZyhnZXRQYWdlKCkuZ2V0U2l0ZSgpLmdldFNoZWxsKCksIG5ldyBXb3JrYmVuY2hMYWJlbFByb3Zp
ZGVyKCksIG5ldyBXb3JrYmVuY2hDb250ZW50UHJvdmlkZXIoKSk7DQorDQorCQlkaWFsb2cuc2V0
VmFsaWRhdG9yKG5ldyBGaWxlVmFsaWRhdG9yKCkpOw0KKwkJZGlhbG9nLnNldEFsbG93TXVsdGlw
bGUoZmFsc2UpOw0KKwkJZGlhbG9nLnNldFRpdGxlKFBERVVJTWVzc2FnZXMuVG9jRGV0YWlsc19i
cm93c2VTZWxlY3Rpb24pOw0KKwkJZGlhbG9nLnNldE1lc3NhZ2UoUERFVUlNZXNzYWdlcy5Ub2NE
ZXRhaWxzX2Jyb3dzZU1lc3NhZ2UpOw0KKwkJZGlhbG9nLmFkZEZpbHRlcihuZXcgSGVscEVkaXRv
ckZpbHRlcigpKTsNCisNCisJCWRpYWxvZy5zZXRJbnB1dChQREVQbHVnaW4uZ2V0V29ya3NwYWNl
KCkuZ2V0Um9vdCgpKTsNCisNCisJCWlmIChkaWFsb2cub3BlbigpID09IFdpbmRvdy5PSykgew0K
KwkJCUlGaWxlIGZpbGUgPSAoSUZpbGUpIGRpYWxvZy5nZXRGaXJzdFJlc3VsdCgpOw0KKwkJCXNl
dFBhdGhFbnRyeShmaWxlKTsNCisJCX0NCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAq
IEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLmRldGFpbHMu
Q3R4SGVscEFic3RyYWN0RGV0YWlscyN1cGRhdGVGaWVsZHMoKQ0KKwkgKi8NCisJcHVibGljIHZv
aWQgdXBkYXRlRmllbGRzKCkgew0KKwkJaWYgKGZUb3BpYyAhPSBudWxsKSB7DQorCQkJZkxhYmVs
RW50cnkuc2V0VmFsdWUoZlRvcGljLmdldExhYmVsKCksIHRydWUpOw0KKwkJCWZMYWJlbEVudHJ5
LnNldEVkaXRhYmxlKGlzRWRpdGFibGVFbGVtZW50KCkpOw0KKwkJCWlmIChmVG9waWMuZ2V0TG9j
YXRpb24oKSA9PSBudWxsKSB7DQorCQkJCWZMaW5rRW50cnkuc2V0VmFsdWUoIiIsIHRydWUpOyAv
LyROT04tTkxTLTEkDQorCQkJfSBlbHNlIHsNCisJCQkJZkxpbmtFbnRyeS5zZXRWYWx1ZShmVG9w
aWMuZ2V0TG9jYXRpb24oKS50b1BvcnRhYmxlU3RyaW5nKCksIHRydWUpOw0KKwkJCX0NCisJCQlm
TGlua0VudHJ5LnNldEVkaXRhYmxlKGlzRWRpdGFibGVFbGVtZW50KCkpOw0KKwkJfQ0KKwl9DQor
DQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS51aS5mb3Jtcy5BYnN0
cmFjdEZvcm1QYXJ0I2NvbW1pdChib29sZWFuKQ0KKwkgKi8NCisJcHVibGljIHZvaWQgY29tbWl0
KGJvb2xlYW4gb25TYXZlKSB7DQorCQlzdXBlci5jb21taXQob25TYXZlKTsNCisJCS8vIE9ubHkg
cmVxdWlyZWQgZm9yIGZvcm0gZW50cmllcw0KKwkJZkxhYmVsRW50cnkuY29tbWl0KCk7DQorCQlm
TGlua0VudHJ5LmNvbW1pdCgpOw0KKw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICog
QHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlscy5D
dHhIZWxwQWJzdHJhY3REZXRhaWxzI3NlbGVjdGlvbkNoYW5nZWQob3JnLmVjbGlwc2UudWkuZm9y
bXMuSUZvcm1QYXJ0LCBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklTZWxlY3Rpb24pDQorCSAq
Lw0KKwlwdWJsaWMgdm9pZCBzZWxlY3Rpb25DaGFuZ2VkKElGb3JtUGFydCBwYXJ0LCBJU2VsZWN0
aW9uIHNlbGVjdGlvbikgew0KKwkJT2JqZWN0IG9iamVjdCA9IGdldEZpcnN0U2VsZWN0ZWRPYmpl
Y3Qoc2VsZWN0aW9uKTsNCisJCWlmIChvYmplY3QgaW5zdGFuY2VvZiBDdHhIZWxwVG9waWMpIHsN
CisJCQlmVG9waWMgPSAoQ3R4SGVscFRvcGljKSBvYmplY3Q7DQorCQkJdXBkYXRlRmllbGRzKCk7
DQorCQl9DQorCX0NCisNCisJLyoqDQorCSAqIFNldHMgdGhlIHRleHQgb2YgdGhlIGZvcm0gZW50
cnkgdXNlZCB0byBzdXBwbHkgYSBsaW5rDQorCSAqIEBwYXJhbSBmaWxlDQorCSAqLw0KKwlwcm90
ZWN0ZWQgdm9pZCBzZXRQYXRoRW50cnkoSUZpbGUgZmlsZSkgew0KKwkJSVBhdGggcGF0aCA9IGZp
bGUuZ2V0RnVsbFBhdGgoKTsNCisJCWlmIChmaWxlLmdldFByb2plY3QoKS5lcXVhbHMoZlRvcGlj
LmdldE1vZGVsKCkuZ2V0VW5kZXJseWluZ1Jlc291cmNlKCkuZ2V0UHJvamVjdCgpKSkgew0KKwkJ
CWZMaW5rRW50cnkuc2V0VmFsdWUocGF0aC5yZW1vdmVGaXJzdFNlZ21lbnRzKDEpLnRvU3RyaW5n
KCkpOw0KKwkJfSBlbHNlIHsNCisJCQlmTGlua0VudHJ5LnNldFZhbHVlKCIuLiIgKyBwYXRoLnRv
U3RyaW5nKCkpOyAvLyROT04tTkxTLTEkDQorCQl9DQorCX0NCisNCisJLyoqDQorCSAqIEhhbmRs
ZSB3aGVuIHRoZSBsaW5rIGlzIHByZXNzZWQuICBUcnkgb3BlbmluZyB0aGUgZmlsZSBhdCB0aGUg
c3BlY2lmaWVkIHBhdGguDQorCSAqLw0KKwlwcm90ZWN0ZWQgdm9pZCBoYW5kbGVPcGVuKCkgew0K
KwkJZ2V0TWFzdGVyU2VjdGlvbigpLm9wZW4oZlRvcGljKTsNCisJCS8vIFRPRE8gQ29uc2lkZXIg
aGF2aW5nIGEgd2l6YXJkIG9wZW4gdG8gY3JlYXRlIGEgbmV3IGZpbGUgaWYgdGhlIHBhdGggZG9l
cyBub3QgZXhpc3QNCisJfQ0KKw0KK30NCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVy
bmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBJbnB1dENvbnRleHQuamF2YQ0KPT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PQ0KUkNTIGZpbGU6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhl
bHAvQ3R4SGVscElucHV0Q29udGV4dC5qYXZhDQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUv
aW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscElucHV0Q29udGV4dC5qYXZhDQotLS0g
L2Rldi9udWxsCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCisrKyBzcmMvb3JnL2VjbGlwc2Uv
cGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBJbnB1dENvbnRleHQuamF2YQkx
IEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsxLDEwNCBAQA0KKy8qKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqDQorICogQ29weXJpZ2h0IChjKSAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQg
b3RoZXJzLg0KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFj
Y29tcGFueWluZyBtYXRlcmlhbHMNCisgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRl
cm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBh
bmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93
d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQorICoNCisgKiBDb250cmlidXRvcnM6
DQorICogICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlv
bg0KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmlu
dGVybmFsLnVpLmVkaXRvci5jdHhoZWxwOw0KKw0KK2ltcG9ydCBqYXZhLmlvLkZpbGU7DQoraW1w
b3J0IGphdmEudXRpbC5BcnJheUxpc3Q7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3Vy
Y2VzLklGaWxlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuQ29yZUV4Y2VwdGlv
bjsNCitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2UudGV4dC5JRG9jdW1lbnQ7DQoraW1wb3J0IG9y
Zy5lY2xpcHNlLnBkZS5jb3JlLklCYXNlTW9kZWw7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5p
bnRlcm5hbC5jb3JlLnRleHQuQWJzdHJhY3RFZGl0aW5nTW9kZWw7DQoraW1wb3J0IG9yZy5lY2xp
cHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwTW9kZWw7DQoraW1wb3J0
IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuKjsNCitpbXBvcnQgb3JnLmVjbGlw
c2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jb250ZXh0LlhNTElucHV0Q29udGV4dDsNCitpbXBv
cnQgb3JnLmVjbGlwc2UudWkuKjsNCisNCisvKioNCisgKiBUaGUgaW5wdXQgY29udGV4dCBmb3Ig
dGhlIGNvbnRleHQgaGVscCBlZGl0b3IsIGJhc2VkIG9uIGFuIHhtbCBmaWxlIGNvbnRhaW5pbmcN
CisgKiBoZWxwIGNvbnRleHQgaWRzLg0KKyAqIEBzaW5jZSAzLjQNCisgKi8NCitwdWJsaWMgY2xh
c3MgQ3R4SGVscElucHV0Q29udGV4dCBleHRlbmRzIFhNTElucHV0Q29udGV4dCB7DQorDQorCXB1
YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIENPTlRFWFRfSUQgPSAiY3R4aGVscC1jb250ZXh0Ijsg
Ly8kTk9OLU5MUy0xJAkNCisNCisJcHVibGljIEN0eEhlbHBJbnB1dENvbnRleHQoUERFRm9ybUVk
aXRvciBlZGl0b3IsIElFZGl0b3JJbnB1dCBpbnB1dCwgYm9vbGVhbiBwcmltYXJ5KSB7DQorCQlz
dXBlcihlZGl0b3IsIGlucHV0LCBwcmltYXJ5KTsNCisJCWNyZWF0ZSgpOw0KKwl9DQorDQorCS8q
IChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLmNvbnRleHQuSW5wdXRDb250ZXh0I2NyZWF0ZU1vZGVsKG9yZy5lY2xpcHNlLnVpLklFZGl0
b3JJbnB1dCkNCisJICovDQorCXByb3RlY3RlZCBJQmFzZU1vZGVsIGNyZWF0ZU1vZGVsKElFZGl0
b3JJbnB1dCBpbnB1dCkgdGhyb3dzIENvcmVFeGNlcHRpb24gew0KKwkJaWYgKGlucHV0IGluc3Rh
bmNlb2YgSVN0b3JhZ2VFZGl0b3JJbnB1dCkgew0KKwkJCWJvb2xlYW4gaXNSZWNvbmNpbGluZyA9
IGlucHV0IGluc3RhbmNlb2YgSUZpbGVFZGl0b3JJbnB1dDsNCisJCQlJRG9jdW1lbnQgZG9jdW1l
bnQgPSBnZXREb2N1bWVudFByb3ZpZGVyKCkuZ2V0RG9jdW1lbnQoaW5wdXQpOw0KKw0KKwkJCUN0
eEhlbHBNb2RlbCBtb2RlbCA9IG5ldyBDdHhIZWxwTW9kZWwoZG9jdW1lbnQsIGlzUmVjb25jaWxp
bmcpOw0KKw0KKwkJCWlmIChpbnB1dCBpbnN0YW5jZW9mIElGaWxlRWRpdG9ySW5wdXQpIHsNCisJ
CQkJSUZpbGUgZmlsZSA9ICgoSUZpbGVFZGl0b3JJbnB1dCkgaW5wdXQpLmdldEZpbGUoKTsNCisJ
CQkJbW9kZWwuc2V0VW5kZXJseWluZ1Jlc291cmNlKGZpbGUpOw0KKwkJCQltb2RlbC5zZXRDaGFy
c2V0KGZpbGUuZ2V0Q2hhcnNldCgpKTsNCisJCQl9IGVsc2UgaWYgKGlucHV0IGluc3RhbmNlb2Yg
U3lzdGVtRmlsZUVkaXRvcklucHV0KSB7DQorCQkJCUZpbGUgZmlsZSA9IChGaWxlKSAoKFN5c3Rl
bUZpbGVFZGl0b3JJbnB1dCkgaW5wdXQpLmdldEFkYXB0ZXIoRmlsZS5jbGFzcyk7DQorCQkJCW1v
ZGVsLnNldEluc3RhbGxMb2NhdGlvbihmaWxlLmdldFBhcmVudCgpKTsNCisJCQkJbW9kZWwuc2V0
Q2hhcnNldChnZXREZWZhdWx0Q2hhcnNldCgpKTsNCisJCQl9IGVsc2UgaWYgKGlucHV0IGluc3Rh
bmNlb2YgSmFyRW50cnlFZGl0b3JJbnB1dCkgew0KKwkJCQlGaWxlIGZpbGUgPSAoRmlsZSkgKChK
YXJFbnRyeUVkaXRvcklucHV0KSBpbnB1dCkuZ2V0QWRhcHRlcihGaWxlLmNsYXNzKTsNCisJCQkJ
bW9kZWwuc2V0SW5zdGFsbExvY2F0aW9uKGZpbGUudG9TdHJpbmcoKSk7DQorCQkJCW1vZGVsLnNl
dENoYXJzZXQoZ2V0RGVmYXVsdENoYXJzZXQoKSk7DQorCQkJfSBlbHNlIHsNCisJCQkJbW9kZWwu
c2V0Q2hhcnNldChnZXREZWZhdWx0Q2hhcnNldCgpKTsNCisJCQl9DQorDQorCQkJbW9kZWwubG9h
ZCgpOw0KKw0KKwkJCXJldHVybiBtb2RlbDsNCisJCX0NCisNCisJCXJldHVybiBudWxsOw0KKwl9
DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwudWkuZWRpdG9yLmNvbnRleHQuSW5wdXRDb250ZXh0I2dldElkKCkNCisJICovDQorCXB1Ymxp
YyBTdHJpbmcgZ2V0SWQoKSB7DQorCQlyZXR1cm4gQ09OVEVYVF9JRDsNCisJfQ0KKw0KKwkvKiAo
bm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRv
ci5jb250ZXh0LlhNTElucHV0Q29udGV4dCNyZW9yZGVySW5zZXJ0RWRpdHMoamF2YS51dGlsLkFy
cmF5TGlzdCkNCisJICovDQorCXByb3RlY3RlZCB2b2lkIHJlb3JkZXJJbnNlcnRFZGl0cyhBcnJh
eUxpc3Qgb3BzKSB7DQorCQkvLyBOTy1PUA0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJ
ICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmNvbnRleHQuSW5wdXRD
b250ZXh0I2RvUmV2ZXJ0KCkNCisJICovDQorCXB1YmxpYyB2b2lkIGRvUmV2ZXJ0KCkgew0KKwkJ
ZkVkaXRPcGVyYXRpb25zLmNsZWFyKCk7DQorCQlmT3BlcmF0aW9uVGFibGUuY2xlYXIoKTsNCisJ
CWZNb3ZlT3BlcmF0aW9ucy5jbGVhcigpOw0KKwkJQWJzdHJhY3RFZGl0aW5nTW9kZWwgbW9kZWwg
PSAoQWJzdHJhY3RFZGl0aW5nTW9kZWwpIGdldE1vZGVsKCk7DQorCQltb2RlbC5yZWNvbmNpbGVk
KG1vZGVsLmdldERvY3VtZW50KCkpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICog
QHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmNvbnRleHQuSW5wdXRDb250
ZXh0I2dldFBhcnRpdGlvbk5hbWUoKQ0KKwkgKi8NCisJcHJvdGVjdGVkIFN0cmluZyBnZXRQYXJ0
aXRpb25OYW1lKCkgew0KKwkJcmV0dXJuICJfX19jdHhoZWxwX3BhcnRpdGlvbiI7IC8vJE5PTi1O
TFMtMSQNCisJfQ0KK30NCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2Vk
aXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVscFJlbW92ZUFjdGlvbi5qYXZhDQo9PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
DQpSQ1MgZmlsZTogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVs
cC9kZXRhaWxzL0N0eEhlbHBSZW1vdmVBY3Rpb24uamF2YQ0KZGlmZiAtTiBzcmMvb3JnL2VjbGlw
c2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVscFJlbW92ZUFj
dGlvbi5qYXZhDQotLS0gL2Rldi9udWxsCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCisrKyBz
cmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4
SGVscFJlbW92ZUFjdGlvbi5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAg
KzEsOTggQEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMjAw
OCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBU
aGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQorICogYXJlIG1hZGUg
YXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2
MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFp
bGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0K
KyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFs
IEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCitwYWNr
YWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzOw0K
Kw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS5hY3Rpb24uQWN0aW9uOw0KK2ltcG9ydCBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE9iamVjdDsNCitp
bXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLlBERVVJTWVzc2FnZXM7DQorDQorLyoq
DQorICogVGhlIGFjdGlvbiB1c2VkIHRvIHJlbW92ZSBvbmUgb3IgbW9yZSBlbGVtZW50cyBmcm9t
IHRoZSBjb250ZXh0IGhlbHAgeG1sLg0KKyAqIEBzaW5jZSAzLjQNCisgKi8NCitwdWJsaWMgY2xh
c3MgQ3R4SGVscFJlbW92ZUFjdGlvbiBleHRlbmRzIEFjdGlvbiB7DQorDQorCXByaXZhdGUgQ3R4
SGVscE9iamVjdFtdIGZPYmplY3RzOw0KKw0KKwkvL1RoZSBuZXh0IG9iamVjdCB0byBiZSBzZWxl
Y3RlZCBhZnRlciB0aGUNCisJLy9zZWxlY3RlZCBvYmplY3QgaXMgcmVtb3ZlZA0KKwlwcml2YXRl
IEN0eEhlbHBPYmplY3QgZk9iamVjdFRvU2VsZWN0Ow0KKw0KKwlwdWJsaWMgQ3R4SGVscFJlbW92
ZUFjdGlvbigpIHsNCisJCS8vIEFkZHMgdGhlICdEZWxldGUnIGtleWJpbmRpbmcgdG8gdGhlIGFj
dGlvbiB3aGVuIGRpc3BsYXllZA0KKwkJLy8gaW4gYSBjb250ZXh0IG1lbnUNCisJCXNldEFjdGlv
bkRlZmluaXRpb25JZCgib3JnLmVjbGlwc2UudWkuZWRpdC5kZWxldGUiKTsgLy8kTk9OLU5MUy0x
JA0KKwkJc2V0VGV4dChQREVVSU1lc3NhZ2VzLlRvY1BhZ2VfcmVtb3ZlKTsNCisJfQ0KKw0KKwkv
KioNCisJICogU2V0cyB0aGUgb2JqZWN0cyB0byBiZSByZW1vdmVkIHdoZW4gdGhpcyBhY3Rpb24g
aXMgcnVuLg0KKwkgKiBAcGFyYW0gb2JqZWN0cyBvYmplY3RzIHRvIHJlbW92ZQ0KKwkgKi8NCisJ
cHVibGljIHZvaWQgc2V0VG9SZW1vdmUoQ3R4SGVscE9iamVjdFtdIG9iamVjdHMpIHsNCisJCWZP
YmplY3RzID0gb2JqZWN0czsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUg
b3JnLmVjbGlwc2UuamZhY2UuYWN0aW9uLkFjdGlvbiNydW4oKQ0KKwkgKi8NCisJcHVibGljIHZv
aWQgcnVuKCkgew0KKwkJaWYgKGZPYmplY3RzID09IG51bGwpDQorCQkJcmV0dXJuOw0KKw0KKwkJ
Zm9yIChpbnQgaSA9IDA7IGkgPCBmT2JqZWN0cy5sZW5ndGg7ICsraSkgew0KKwkJCWlmIChmT2Jq
ZWN0c1tpXSAhPSBudWxsICYmIGZPYmplY3RzW2ldLmNhbkJlUmVtb3ZlZCgpKSB7DQorCQkJCUN0
eEhlbHBPYmplY3QgcGFyZW50ID0gZk9iamVjdHNbaV0uZ2V0UGFyZW50KCk7DQorCQkJCWlmIChw
YXJlbnQgIT0gbnVsbCkgew0KKwkJCQkJZGV0ZXJtaW5lTmV4dFNlbGVjdGlvbihwYXJlbnQsIGkp
Ow0KKwkJCQkJcGFyZW50LnJlbW92ZUNoaWxkKGZPYmplY3RzW2ldKTsNCisJCQkJfQ0KKwkJCX0N
CisJCX0NCisJfQ0KKw0KKwkvKioNCisJICogRGV0ZXJtaW5lIHRoZSBuZXh0IG9iamVjdCB0aGF0
IHNob3VsZCBiZSBzZWxlY3RlZA0KKwkgKiBhZnRlciB0aGUgZGVzaWduYXRlZCBvYmplY3QgaGFz
IGJlZW4gcmVtb3ZlZA0KKwkgKiANCisJICogQHBhcmFtIHBhcmVudCBUaGUgcGFyZW50IG9mIHRo
ZSBkZWxldGVkIG9iamVjdA0KKwkgKi8NCisJcHJpdmF0ZSB2b2lkIGRldGVybWluZU5leHRTZWxl
Y3Rpb24oQ3R4SGVscE9iamVjdCBwYXJlbnQsIGludCBpbmRleCkgew0KKwkJLy8gU2VsZWN0IHRo
ZSBuZXh0IHNpYmxpbmcNCisJCWZPYmplY3RUb1NlbGVjdCA9IHBhcmVudC5nZXROZXh0U2libGlu
ZyhmT2JqZWN0c1tpbmRleF0pOw0KKwkJaWYgKGZPYmplY3RUb1NlbGVjdCA9PSBudWxsKSB7DQor
CQkJLy8gTm8gbmV4dCBzaWJsaW5nDQorCQkJLy8gU2VsZWN0IHRoZSBwcmV2aW91cyBzaWJsaW5n
DQorCQkJZk9iamVjdFRvU2VsZWN0ID0gcGFyZW50LmdldFByZXZpb3VzU2libGluZyhmT2JqZWN0
c1tpbmRleF0pOw0KKwkJCWlmIChmT2JqZWN0VG9TZWxlY3QgPT0gbnVsbCkgew0KKwkJCQkvLyBO
byBwcmV2aW91cyBzaWJsaW5nDQorCQkJCS8vIFNlbGVjdCB0aGUgcGFyZW50DQorCQkJCWZPYmpl
Y3RUb1NlbGVjdCA9IHBhcmVudDsNCisJCQl9DQorCQl9DQorCX0NCisNCisJLyoqDQorCSAqIFJl
dHVybnMgdGhlIG9iamVjdCB0aGF0IHNob3VsZCBiZSBzZWxlY3RlZCBhZnRlciB0aGUgYWN0aW9u
IGlzIHJ1bi4NCisJICogQHJldHVybiB0aGUgb2JqZWN0IHRvIHNlbGVjdCBvciA8Y29kZT5udWxs
PC9jb2RlPg0KKwkgKi8NCisJcHVibGljIEN0eEhlbHBPYmplY3QgZ2V0TmV4dFNlbGVjdGlvbigp
IHsNCisJCXJldHVybiBmT2JqZWN0VG9TZWxlY3Q7DQorCX0NCisNCisJLyoqDQorCSAqIENsZWFy
cyB0aGUgbmV4dCBzZWxlY3Rpb24gcmV0dXJuZWQgYnkge0BsaW5rICNnZXROZXh0U2VsZWN0aW9u
KCl9Lg0KKwkgKi8NCisJcHVibGljIHZvaWQgY2xlYXJOZXh0U2VsZWN0aW9uKCkgew0KKwkJZk9i
amVjdFRvU2VsZWN0ID0gbnVsbDsNCisJfQ0KKw0KK30NCiNQIG9yZy5lY2xpcHNlLnBkZS5jb3Jl
DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL2l0b2MvSVRvY0NvbnN0
YW50cy5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9vcmcuZWNs
aXBzZS5wZGUuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvaXRvYy9JVG9j
Q29uc3RhbnRzLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjMNCmRpZmYgLXUgLXIxLjMg
SVRvY0NvbnN0YW50cy5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3Jl
L2l0b2MvSVRvY0NvbnN0YW50cy5qYXZhCTIgSmFuIDIwMDggMTU6NTY6MjQgLTAwMDAJMS4zDQor
Kysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL2l0b2MvSVRvY0NvbnN0YW50cy5q
YXZhCTE3IEphbiAyMDA4IDE4OjE2OjA0IC0wMDAwDQpAQCAtMSw1ICsxLDUgQEANCiAvKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKg0KLSAqIENvcHlyaWdodCAoYykgMjAwNyBJQk0gQ29ycG9yYXRpb24g
YW5kIG90aGVycy4NCisgKiBDb3B5cmlnaHQgKGMpIDIwMDcsIDIwMDggSUJNIENvcnBvcmF0aW9u
IGFuZCBvdGhlcnMuDQogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0
aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0
aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KICAqIHdoaWNoIGFj
Y29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQpAQCAtMTQs
NiArMTQsNyBAQA0KIC8qKg0KICAqIElUb2NDb25zdGFudHMNCiAgKiBUaGlzIGludGVyZmFjZSBj
b250YWlucyBhbGwgb2YgdGhlIGNvbnN0YW50cyByZWxldmFudCB0byB0aGUgVE9DIGVkaXRvcg0K
KyAqIEBzaW5jZSAzLjQNCiAgKi8NCiBwdWJsaWMgaW50ZXJmYWNlIElUb2NDb25zdGFudHMgew0K
IA0KQEAgLTMzLDEzICszNCwxMyBAQA0KIA0KIAlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBB
VFRSSUJVVEVfTEFCRUwgPSAibGFiZWwiOyAvLyROT04tTkxTLTEkCQkNCiANCi0JcHVibGljIHN0
YXRpYyBmaW5hbCBTdHJpbmcgQVRUUklCVVRFX1RPUElDID0gRUxFTUVOVF9UT1BJQzsgLy8kTk9O
LU5MUy0xJA0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBBVFRSSUJVVEVfVE9QSUMgPSBF
TEVNRU5UX1RPUElDOw0KIA0KIAlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBBVFRSSUJVVEVf
SFJFRiA9ICJocmVmIjsgLy8kTk9OLU5MUy0xJAkJDQogDQogCXB1YmxpYyBzdGF0aWMgZmluYWwg
U3RyaW5nIEFUVFJJQlVURV9JRCA9ICJpZCI7IC8vJE5PTi1OTFMtMSQNCiANCi0JcHVibGljIHN0
YXRpYyBmaW5hbCBTdHJpbmcgQVRUUklCVVRFX1RPQyA9IEVMRU1FTlRfVE9DOyAvLyROT04tTkxT
LTEkCQkNCisJcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgQVRUUklCVVRFX1RPQyA9IEVMRU1F
TlRfVE9DOw0KIA0KIAkvLyBUeXBlcw0KIA0KQEAgLTUxLDIyICs1Miw0IEBADQogDQogCXB1Ymxp
YyBzdGF0aWMgZmluYWwgaW50IFRZUEVfTElOSyA9IDM7DQogDQotCS8vIEVuYWJsZW1lbnQgRWxl
bWVudHMNCi0NCi0JcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgRUxFTUVOVF9FTkFCTEVNRU5U
ID0gImVuYWJsZW1lbnQiOyAvLyROT04tTkxTLTEkDQotDQotCXB1YmxpYyBzdGF0aWMgZmluYWwg
U3RyaW5nIEVMRU1FTlRfVEVTVCA9ICJ0ZXN0IjsgLy8kTk9OLU5MUy0xJA0KLQ0KLQkvLyBFbmFi
bGVtZW50IEF0dHJpYnV0ZXMNCi0NCi0JcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgQVRUUklC
VVRFX1BST1BFUlRZID0gInByb3BlcnR5IjsgLy8kTk9OLU5MUy0xJAkJDQotDQotCXB1YmxpYyBz
dGF0aWMgZmluYWwgU3RyaW5nIEFUVFJJQlVURV9BUkdTID0gImFyZ3MiOyAvLyROT04tTkxTLTEk
DQotDQotCS8vIEVuYWJsZW1lbnQgVHlwZXMNCi0NCi0JcHVibGljIHN0YXRpYyBmaW5hbCBpbnQg
VFlQRV9FTkFCTEVNRU5UID0gNDsNCi0NCi0JcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgVFlQRV9U
RVNUID0gNTsNCi0NCiB9DQpJbmRleDogTUVUQS1JTkYvTUFOSUZFU1QuTUYNCj09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0N
ClJDUyBmaWxlOiAvY3Zzcm9vdC9lY2xpcHNlL29yZy5lY2xpcHNlLnBkZS5jb3JlL01FVEEtSU5G
L01BTklGRVNULk1GLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS4zMA0KZGlmZiAtdSAtcjEuMzAg
TUFOSUZFU1QuTUYNCi0tLSBNRVRBLUlORi9NQU5JRkVTVC5NRgkxMiBTZXAgMjAwNyAxNDowMzoz
OCAtMDAwMAkxLjMwDQorKysgTUVUQS1JTkYvTUFOSUZFU1QuTUYJMTcgSmFuIDIwMDggMTg6MTY6
MDQgLTAwMDANCkBAIC0yMiw2ICsyMiw3IEBADQogIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5j
b3JlLmljaGVhdHNoZWV0O3gtZnJpZW5kczo9Im9yZy5lY2xpcHNlLnBkZS51aSIsDQogIG9yZy5l
Y2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLmljaGVhdHNoZWV0LmNvbXA7eC1mcmllbmRzOj0ib3Jn
LmVjbGlwc2UucGRlLnVpIiwNCiAgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUuaWNoZWF0
c2hlZXQuc2ltcGxlO3gtZnJpZW5kczo9Im9yZy5lY2xpcHNlLnBkZS51aSIsDQorIG9yZy5lY2xp
cHNlLnBkZS5pbnRlcm5hbC5jb3JlLmljdHhoZWxwO3gtZnJpZW5kczo9Im9yZy5lY2xpcHNlLnBk
ZS51aSIsDQogIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLmlmZWF0dXJlO3gtZnJpZW5k
czo9Im9yZy5lY2xpcHNlLnBkZS51aSIsDQogIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3Jl
Lmlwcm9kdWN0O3gtZnJpZW5kczo9Im9yZy5lY2xpcHNlLnBkZS51aSIsDQogIG9yZy5lY2xpcHNl
LnBkZS5pbnRlcm5hbC5jb3JlLmlzY2hlbWE7eC1mcmllbmRzOj0ib3JnLmVjbGlwc2UucGRlLnVp
IiwNCkBAIC0zOSw2ICs0MCw3IEBADQogIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRl
eHQuYnVpbGQ7eC1mcmllbmRzOj0ib3JnLmVjbGlwc2UucGRlLnVpIiwNCiAgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLmNvcmUudGV4dC5idW5kbGU7eC1mcmllbmRzOj0ib3JnLmVjbGlwc2UucGRl
LnVpIiwNCiAgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jaGVhdHNoZWV0LnNp
bXBsZTt4LWZyaWVuZHM6PSJvcmcuZWNsaXBzZS5wZGUudWkiLA0KKyBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHA7eC1mcmllbmRzOj0ib3JnLmVjbGlwc2UucGRlLnVp
IiwNCiAgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5wbHVnaW47eC1mcmllbmRz
Oj0ib3JnLmVjbGlwc2UucGRlLnVpIiwNCiAgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUu
dGV4dC50b2M7eC1mcmllbmRzOj0ib3JnLmVjbGlwc2UucGRlLnVpIiwNCiAgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLmNvcmUudXRpbDt4LWZyaWVuZHM6PSJvcmcuZWNsaXBzZS5wZGUudWkiLA0K
SW5kZXg6IHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0
eEhlbHBEZXNjcmlwdGlvbi5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogdGV4dC9vcmcvZWNs
aXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscERlc2NyaXB0aW9uLmph
dmENCmRpZmYgLU4gdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhl
bHAvQ3R4SGVscERlc2NyaXB0aW9uLmphdmENCi0tLSAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDow
MDowMCAtMDAwMA0KKysrIHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9j
dHhoZWxwL0N0eEhlbHBEZXNjcmlwdGlvbi5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDAN
CkBAIC0wLDAgKzEsODIgQEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdo
dCAoYykgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRzIHJl
c2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQorICog
YXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMg
TGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFu
ZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12
MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRpb24g
LSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
Ki8NCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscDsN
CisNCisvKioNCisgKiBSZXByZXNlbnRzIGEgZGVzY3JpcHRpb24gZW50cnkgaW4gY29udGV4dCBo
ZWxwLiAgVGhlcmUgbWF5IGJlIG9uZSBkZXNjcmlwdGlvbg0KKyAqIGVsZW1lbnQgZm9yIGVhY2gg
Y29udGV4dC4gIEEgZGVzY3JpcHRpb24gZWxlbWVudCB3aWxsIGNvbnRhaW4gYSBDREFUQSBzdHJp
bmcNCisgKiBleHBsYWluaW5nIHRoZSBjb250ZXh0IHRoYXQgdGhlIHVzZXIgd2lsbCBzZWUgaW4g
ZHluYW1pYyBoZWxwLiAgRGVzY3JpcHRpb25zDQorICogYXJlIGxlYWYgb2JqZWN0cy4NCisgKiAN
CisgKiBAc2luY2UgMy40DQorICogQHNlZSBDdHhIZWxwT2JqZWN0DQorICogQHNlZSBDdHhIZWxw
TW9kZWwNCisgKiBAc2VlIEN0eEhlbHBEb2N1bWVudEZhY3RvcnkNCisgKi8NCitwdWJsaWMgY2xh
c3MgQ3R4SGVscERlc2NyaXB0aW9uIGV4dGVuZHMgQ3R4SGVscE9iamVjdCB7DQorDQorCXByaXZh
dGUgc3RhdGljIGZpbmFsIGxvbmcgc2VyaWFsVmVyc2lvblVJRCA9IDFMOw0KKw0KKwlwdWJsaWMg
Q3R4SGVscERlc2NyaXB0aW9uKEN0eEhlbHBNb2RlbCBtb2RlbCkgew0KKwkJc3VwZXIobW9kZWws
IEVMRU1FTlRfREVTQ1JJUFRJT04pOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICog
QHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LnRvYy5Ub2NPYmplY3QjY2Fu
QmVQYXJlbnQoKQ0KKwkgKi8NCisJcHVibGljIGJvb2xlYW4gY2FuQmVQYXJlbnQoKSB7DQorCQly
ZXR1cm4gZmFsc2U7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5l
Y2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRvYy5Ub2NPYmplY3QjZ2V0VHlwZSgpDQorCSAqLw0K
KwlwdWJsaWMgaW50IGdldFR5cGUoKSB7DQorCQlyZXR1cm4gVFlQRV9ERVNDUklQVElPTjsNCisJ
fQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVy
bmFsLmNvcmUudG9jLlRvY09iamVjdCNnZXROYW1lKCkNCisJICovDQorCXB1YmxpYyBTdHJpbmcg
Z2V0TmFtZSgpIHsNCisJCXJldHVybiBnZXREZXNjcmlwdGlvbigpOw0KKwl9DQorDQorCS8qKg0K
KwkgKiBAcmV0dXJuIHRoZSBYTUwgY29udGVudCBvZiB0aGlzIGVsZW1lbnQgY29udGFpbmluZyB0
aGUgZGVzY3JpcHRpb24gb3IgPGNvZGU+bnVsbDwvY29kZT4NCisJICovDQorCXB1YmxpYyBTdHJp
bmcgZ2V0RGVzY3JpcHRpb24oKSB7DQorCQlyZXR1cm4gZ2V0WE1MQ29udGVudCgpOw0KKwl9DQor
DQorCS8qKg0KKwkgKiBTZXRzIHRoZSBYTUwgY29udGVudCBvZiB0aGlzIGVsZW1lbnQgdG8gdGhl
IGdpdmVuIGRlc2NyaXB0aW9uIHN0cmluZy4NCisJICogUGFzc2luZyA8Y29kZT5udWxsPC9jb2Rl
PiB3aWxsIHNldCB0aGUgY29udGVudCB0byBiZSBlbXB0eS4NCisJICogQHBhcmFtIGRlc2NyaXB0
aW9uIG5ldyBjb250ZW50DQorCSAqLw0KKwlwdWJsaWMgdm9pZCBzZXREZXNjcmlwdGlvbihTdHJp
bmcgZGVzY3JpcHRpb24pIHsNCisJCXNldFhNTENvbnRlbnQoZGVzY3JpcHRpb24pOw0KKwl9DQor
DQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwu
Y29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE9iamVjdCNjYW5BZGRDaGlsZChvcmcuZWNsaXBzZS5w
ZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE9iamVjdCkNCisJICovDQorCXB1
YmxpYyBib29sZWFuIGNhbkFkZENoaWxkKGludCBvYmplY3RUeXBlKSB7DQorCQlyZXR1cm4gZmFs
c2U7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwT2JqZWN0I2NhbkFkZFNpYmxpbmco
aW50KQ0KKwkgKi8NCisJcHVibGljIGJvb2xlYW4gY2FuQWRkU2libGluZyhpbnQgb2JqZWN0VHlw
ZSkgew0KKwkJcmV0dXJuIG9iamVjdFR5cGUgPT0gVFlQRV9DT01NQU5EIHx8IG9iamVjdFR5cGUg
PT0gVFlQRV9UT1BJQzsNCisJfQ0KK30NCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVy
bmFsL2NvcmUvaWN0eGhlbHAvSUN0eEhlbHBDb25zdGFudHMuamF2YQ0KPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNT
IGZpbGU6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS9pY3R4aGVscC9JQ3R4SGVs
cENvbnN0YW50cy5qYXZhDQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29y
ZS9pY3R4aGVscC9JQ3R4SGVscENvbnN0YW50cy5qYXZhDQotLS0gL2Rldi9udWxsCTEgSmFuIDE5
NzAgMDA6MDA6MDAgLTAwMDANCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUv
aWN0eGhlbHAvSUN0eEhlbHBDb25zdGFudHMuamF2YQkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAw
DQpAQCAtMCwwICsxLDU4IEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmln
aHQgKGMpIDIwMDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyBy
ZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAq
IGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGlj
IExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBh
bmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwt
djEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9u
IC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KiovDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS5pY3R4aGVscDsNCisN
CisvKioNCisgKiBJbnRlcmZhY2UgY29udGFpbmluZyBjb25zdGFudHMgdXNlZCBmb3IgdGhlIGNv
bnRleHQgaGVscCBlZGl0b3IuDQorICogDQorICogQHNpbmNlIDMuNA0KKyAqLw0KK3B1YmxpYyBp
bnRlcmZhY2UgSUN0eEhlbHBDb25zdGFudHMgew0KKw0KKwkvLyBFbGVtZW50cw0KKw0KKwlwdWJs
aWMgc3RhdGljIGZpbmFsIFN0cmluZyBFTEVNRU5UX1JPT1QgPSAiY29udGV4dHMiOyAvLyROT04t
TkxTLTEkDQorDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEVMRU1FTlRfQ09OVEVYVCA9
ICJjb250ZXh0IjsgLy8kTk9OLU5MUy0xJA0KKw0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmlu
ZyBFTEVNRU5UX0RFU0NSSVBUSU9OID0gImRlc2NyaXB0aW9uIjsgLy8kTk9OLU5MUy0xJA0KKw0K
KwlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBFTEVNRU5UX1RPUElDID0gInRvcGljIjsgLy8k
Tk9OLU5MUy0xJA0KKw0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBFTEVNRU5UX0NPTU1B
TkQgPSAiY29tbWFuZCI7IC8vJE5PTi1OTFMtMSQNCisNCisJLy8gQXR0cmlidXRlcw0KKw0KKwlw
dWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBBVFRSSUJVVEVfSUQgPSAiaWQiOyAvLyROT04tTkxT
LTEkDQorDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEFUVFJJQlVURV9USVRMRSA9ICJ0
aXRsZSI7IC8vJE5PTi1OTFMtMSQJDQorDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEFU
VFJJQlVURV9MQUJFTCA9ICJsYWJlbCI7IC8vJE5PTi1OTFMtMSQJCQ0KKw0KKwlwdWJsaWMgc3Rh
dGljIGZpbmFsIFN0cmluZyBBVFRSSUJVVEVfSFJFRiA9ICJocmVmIjsgLy8kTk9OLU5MUy0xJA0K
Kw0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBBVFRSSUJVVEVfU0VSSUFMID0gInNlcmlh
bGl6YXRpb24iOyAvLyROT04tTkxTLTEkCQ0KKw0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmlu
ZyBBVFRSSUJVVEVfRklMVEVSID0gImZpbHRlciI7IC8vJE5PTi1OTFMtMSQJDQorDQorCS8vIFR5
cGVzDQorDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgaW50IFRZUEVfUk9PVCA9IDA7DQorDQorCXB1
YmxpYyBzdGF0aWMgZmluYWwgaW50IFRZUEVfQ09OVEVYVCA9IDE7DQorDQorCXB1YmxpYyBzdGF0
aWMgZmluYWwgaW50IFRZUEVfREVTQ1JJUFRJT04gPSAyOw0KKw0KKwlwdWJsaWMgc3RhdGljIGZp
bmFsIGludCBUWVBFX1RPUElDID0gMzsNCisNCisJcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgVFlQ
RV9DT01NQU5EID0gNDsNCisNCit9DQpJbmRleDogdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJu
YWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscE1vZGVsLmphdmENCj09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBm
aWxlOiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhI
ZWxwTW9kZWwuamF2YQ0KZGlmZiAtTiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3Jl
L3RleHQvY3R4aGVscC9DdHhIZWxwTW9kZWwuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcw
IDAwOjAwOjAwIC0wMDAwDQorKysgdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90
ZXh0L2N0eGhlbHAvQ3R4SGVscE1vZGVsLmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0K
QEAgLTAsMCArMSw4MyBAQA0KKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQorICogQ29weXJpZ2h0
IChjKSAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIEFsbCByaWdodHMgcmVz
ZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCisgKiBh
cmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBM
aWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5k
IGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYx
MC5odG1sDQorICoNCisgKiBDb250cmlidXRvcnM6DQorICogICAgIElCTSBDb3Jwb3JhdGlvbiAt
IGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
Lw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwOw0K
Kw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS50ZXh0LklEb2N1bWVudDsNCitpbXBvcnQgb3Jn
LmVjbGlwc2UucGRlLmNvcmUuSU1vZGVsOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuY29yZS5J
V3JpdGFibGU7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLk5MUmVzb3Vy
Y2VIZWxwZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuWE1M
RWRpdGluZ01vZGVsOw0KK2ltcG9ydCBvcmcueG1sLnNheC5oZWxwZXJzLkRlZmF1bHRIYW5kbGVy
Ow0KKw0KKy8qKg0KKyAqIE1vZGVsIGRlc2NyaWJpbmcgdGhlIGVsZW1lbnRzIG9mIGEgY29udGV4
dCBoZWxwIHhtbCBmaWxlLg0KKyAqIA0KKyAqIEBzaW5jZSAzLjQNCisgKiBAc2VlIEN0eEhlbHBS
b290DQorICogQHNlZSBDdHhIZWxwRG9jdW1lbnRGYWN0b3J5DQorICogQHNlZSBDdHhIZWxwRG9j
dW1lbnRIYW5kbGVyDQorICovDQorcHVibGljIGNsYXNzIEN0eEhlbHBNb2RlbCBleHRlbmRzIFhN
TEVkaXRpbmdNb2RlbCB7DQorDQorCXByaXZhdGUgQ3R4SGVscERvY3VtZW50SGFuZGxlciBmSGFu
ZGxlcjsNCisJcHJpdmF0ZSBDdHhIZWxwRG9jdW1lbnRGYWN0b3J5IGZGYWN0b3J5Ow0KKwlwcml2
YXRlIEN0eEhlbHBSb290IGZSb290Ow0KKw0KKwlwdWJsaWMgQ3R4SGVscE1vZGVsKElEb2N1bWVu
dCBkb2N1bWVudCwgYm9vbGVhbiBpc1JlY29uY2lsaW5nKSB7DQorCQlzdXBlcihkb2N1bWVudCwg
aXNSZWNvbmNpbGluZyk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuWE1MRWRpdGluZ01vZGVsI2NyZWF0ZURv
Y3VtZW50SGFuZGxlcihvcmcuZWNsaXBzZS5wZGUuY29yZS5JTW9kZWwsIGJvb2xlYW4pDQorCSAq
Lw0KKwlwcm90ZWN0ZWQgRGVmYXVsdEhhbmRsZXIgY3JlYXRlRG9jdW1lbnRIYW5kbGVyKElNb2Rl
bCBtb2RlbCwgYm9vbGVhbiByZWNvbmNpbGluZykgew0KKwkJaWYgKGZIYW5kbGVyID09IG51bGwp
IHsNCisJCQlmSGFuZGxlciA9IG5ldyBDdHhIZWxwRG9jdW1lbnRIYW5kbGVyKHRoaXMsIHJlY29u
Y2lsaW5nKTsNCisJCX0NCisJCXJldHVybiBmSGFuZGxlcjsNCisJfQ0KKw0KKwkvKiAobm9uLUph
dmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5BYnN0
cmFjdEVkaXRpbmdNb2RlbCNjcmVhdGVOTFJlc291cmNlSGVscGVyKCkNCisJICovDQorCXByb3Rl
Y3RlZCBOTFJlc291cmNlSGVscGVyIGNyZWF0ZU5MUmVzb3VyY2VIZWxwZXIoKSB7DQorCQkvLyBO
b3QgbmVlZGVkDQorCQlyZXR1cm4gbnVsbDsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQor
CSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUuaWNoZWF0c2hlZXQuc2ltcGxl
LklUb2NNb2RlbCNnZXRGYWN0b3J5KCkNCisJICovDQorCXB1YmxpYyBDdHhIZWxwRG9jdW1lbnRG
YWN0b3J5IGdldEZhY3RvcnkoKSB7DQorCQlpZiAoZkZhY3RvcnkgPT0gbnVsbCkgew0KKwkJCWZG
YWN0b3J5ID0gbmV3IEN0eEhlbHBEb2N1bWVudEZhY3RvcnkodGhpcyk7DQorCQl9DQorCQlyZXR1
cm4gZkZhY3Rvcnk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5l
Y2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLmljaGVhdHNoZWV0LnNpbXBsZS5JVG9jTW9kZWwjZ2V0
VG9jKCkNCisJICovDQorCXB1YmxpYyBDdHhIZWxwUm9vdCBnZXRDdHhIZWxwUm9vdCgpIHsNCisJ
CWlmIChmUm9vdCA9PSBudWxsKSB7DQorCQkJZlJvb3QgPSBnZXRGYWN0b3J5KCkuY3JlYXRlUm9v
dCgpOw0KKwkJfQ0KKwkJcmV0dXJuIGZSb290Ow0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykN
CisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LlhNTEVkaXRpbmdN
b2RlbCNnZXRSb290KCkNCisJICovDQorCXByb3RlY3RlZCBJV3JpdGFibGUgZ2V0Um9vdCgpIHsN
CisJCXJldHVybiBnZXRDdHhIZWxwUm9vdCgpOw0KKwl9DQorDQorfQ0KSW5kZXg6IHRleHQvb3Jn
L2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBEb2N1bWVudEZh
Y3RvcnkuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHRleHQvb3JnL2VjbGlwc2UvcGRlL2lu
dGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBEb2N1bWVudEZhY3RvcnkuamF2YQ0KZGlm
ZiAtTiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhI
ZWxwRG9jdW1lbnRGYWN0b3J5LmphdmENCi0tLSAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDowMDow
MCAtMDAwMA0KKysrIHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHho
ZWxwL0N0eEhlbHBEb2N1bWVudEZhY3RvcnkuamF2YQkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAw
DQpAQCAtMCwwICsxLDEwOSBAQA0KKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQorICogQ29weXJp
Z2h0IChjKSAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIEFsbCByaWdodHMg
cmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCisg
KiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1Ymxp
YyBMaWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwg
YW5kIGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBs
LXYxMC5odG1sDQorICoNCisgKiBDb250cmlidXRvcnM6DQorICogICAgIElCTSBDb3Jwb3JhdGlv
biAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqLw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxw
Ow0KKw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS5pY3R4aGVscC5JQ3R4
SGVscENvbnN0YW50czsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4
dC4qOw0KKw0KKy8qKg0KKyAqIEhhbmRsZXMgdGhlIGNyZWF0aW9uIG9mIGRvY3VtZW50IG5vZGVz
IHJlcHJlc2VudGluZyB0aGUgdHlwZXMgb2YgZWxlbWVudHMgdGhhdA0KKyAqIGNhbiBleGlzdCBp
biBhIGNvbnRleHQgaGVscCB4bWwgZmlsZS4NCisgKiANCisgKiBAc2luY2UgMy40DQorICogQHNl
ZSBDdHhIZWxwT2JqZWN0DQorICogQHNlZSBDdHhIZWxwTW9kZWwNCisgKiBAc2VlIEN0eEhlbHBE
b2N1bWVudEhhbmRsZXINCisgKi8NCitwdWJsaWMgY2xhc3MgQ3R4SGVscERvY3VtZW50RmFjdG9y
eSBleHRlbmRzIERvY3VtZW50Tm9kZUZhY3RvcnkgaW1wbGVtZW50cyBJRG9jdW1lbnROb2RlRmFj
dG9yeSB7DQorCXByaXZhdGUgQ3R4SGVscE1vZGVsIGZNb2RlbDsNCisNCisJcHVibGljIEN0eEhl
bHBEb2N1bWVudEZhY3RvcnkoQ3R4SGVscE1vZGVsIG1vZGVsKSB7DQorCQlmTW9kZWwgPSBtb2Rl
bDsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRl
LmludGVybmFsLmNvcmUudGV4dC5JRG9jdW1lbnROb2RlRmFjdG9yeSNjcmVhdGVEb2N1bWVudE5v
ZGUoamF2YS5sYW5nLlN0cmluZywgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5J
RG9jdW1lbnRFbGVtZW50Tm9kZSkNCisJICovDQorCXB1YmxpYyBJRG9jdW1lbnRFbGVtZW50Tm9k
ZSBjcmVhdGVEb2N1bWVudE5vZGUoU3RyaW5nIG5hbWUsIElEb2N1bWVudEVsZW1lbnROb2RlIHBh
cmVudCkgew0KKwkJaWYgKGlzUm9vdChuYW1lKSkgeyAvLyBSb290DQorCQkJcmV0dXJuIGNyZWF0
ZVJvb3QoKTsNCisJCX0NCisJCWlmIChpc0NvbnRleHQobmFtZSkpIHsgLy8gQ29udGV4dA0KKwkJ
CXJldHVybiBjcmVhdGVDb250ZXh0KCk7DQorCQl9DQorCQlpZiAoaXNEZXNjcmlwdGlvbihuYW1l
KSkgeyAvLyBMaW5rDQorCQkJcmV0dXJuIGNyZWF0ZURlc2NyaXB0aW9uKCk7DQorCQl9DQorCQlp
ZiAoaXNUb3BpYyhuYW1lKSkgeyAvLyBBbmNob3INCisJCQlyZXR1cm4gY3JlYXRlVG9waWMoKTsN
CisJCX0NCisJCWlmIChpc0NvbW1hbmQobmFtZSkpIHsgLy8gQW5jaG9yDQorCQkJcmV0dXJuIGNy
ZWF0ZUNvbW1hbmQoKTsNCisJCX0NCisJCXJldHVybiBzdXBlci5jcmVhdGVEb2N1bWVudE5vZGUo
bmFtZSwgcGFyZW50KTsNCisJfQ0KKw0KKwlwcml2YXRlIGJvb2xlYW4gaXNSb290KFN0cmluZyBu
YW1lKSB7DQorCQlyZXR1cm4gbmFtZS5lcXVhbHMoSUN0eEhlbHBDb25zdGFudHMuRUxFTUVOVF9S
T09UKTsNCisJfQ0KKw0KKwlwcml2YXRlIGJvb2xlYW4gaXNDb250ZXh0KFN0cmluZyBuYW1lKSB7
DQorCQlyZXR1cm4gbmFtZS5lcXVhbHMoSUN0eEhlbHBDb25zdGFudHMuRUxFTUVOVF9DT05URVhU
KTsNCisJfQ0KKw0KKwlwcml2YXRlIGJvb2xlYW4gaXNEZXNjcmlwdGlvbihTdHJpbmcgbmFtZSkg
ew0KKwkJcmV0dXJuIG5hbWUuZXF1YWxzKElDdHhIZWxwQ29uc3RhbnRzLkVMRU1FTlRfREVTQ1JJ
UFRJT04pOw0KKwl9DQorDQorCXByaXZhdGUgYm9vbGVhbiBpc1RvcGljKFN0cmluZyBuYW1lKSB7
DQorCQlyZXR1cm4gbmFtZS5lcXVhbHMoSUN0eEhlbHBDb25zdGFudHMuRUxFTUVOVF9UT1BJQyk7
DQorCX0NCisNCisJcHJpdmF0ZSBib29sZWFuIGlzQ29tbWFuZChTdHJpbmcgbmFtZSkgew0KKwkJ
cmV0dXJuIG5hbWUuZXF1YWxzKElDdHhIZWxwQ29uc3RhbnRzLkVMRU1FTlRfQ09NTUFORCk7DQor
CX0NCisNCisJLyoqDQorCSAqIEByZXR1cm4gYSBuZXcgcm9vdCBvYmplY3QgYmFzZWQgb24gdGhl
IGN1cnJlbnQgbW9kZWwNCisJICovDQorCXB1YmxpYyBDdHhIZWxwUm9vdCBjcmVhdGVSb290KCkg
ew0KKwkJcmV0dXJuIG5ldyBDdHhIZWxwUm9vdChmTW9kZWwpOw0KKwl9DQorDQorCS8qKg0KKwkg
KiBAcmV0dXJuIGEgbmV3IGNvbnRleHQgb2JqZWN0IGJhc2VkIG9uIHRoZSBjdXJyZW50IG1vZGVs
DQorCSAqLw0KKwlwdWJsaWMgQ3R4SGVscENvbnRleHQgY3JlYXRlQ29udGV4dCgpIHsNCisJCXJl
dHVybiBuZXcgQ3R4SGVscENvbnRleHQoZk1vZGVsKTsNCisJfQ0KKw0KKwkvKioNCisJICogQHJl
dHVybiBhIG5ldyBkZXNjcmlwdGlvbiBvYmplY3QgYmFzZWQgb24gdGhlIGN1cnJlbnQgbW9kZWwN
CisJICovDQorCXB1YmxpYyBDdHhIZWxwRGVzY3JpcHRpb24gY3JlYXRlRGVzY3JpcHRpb24oKSB7
DQorCQlyZXR1cm4gbmV3IEN0eEhlbHBEZXNjcmlwdGlvbihmTW9kZWwpOw0KKwl9DQorDQorCS8q
Kg0KKwkgKiBAcmV0dXJuIGEgbmV3IHRvcGljIG9iamVjdCBiYXNlZCBvbiB0aGUgY3VycmVudCBt
b2RlbA0KKwkgKi8NCisJcHVibGljIEN0eEhlbHBUb3BpYyBjcmVhdGVUb3BpYygpIHsNCisJCXJl
dHVybiBuZXcgQ3R4SGVscFRvcGljKGZNb2RlbCk7DQorCX0NCisNCisJLyoqDQorCSAqIEByZXR1
cm4gYSBuZXcgY29tbWFuZCBvYmplY3QgYmFzZWQgb24gdGhlIGN1cnJlbnQgbW9kZWwNCisJICov
DQorCXB1YmxpYyBDdHhIZWxwQ29tbWFuZCBjcmVhdGVDb21tYW5kKCkgew0KKwkJcmV0dXJuIG5l
dyBDdHhIZWxwQ29tbWFuZChmTW9kZWwpOw0KKwl9DQorDQorfQ0KSW5kZXg6IHRleHQvb3JnL2Vj
bGlwc2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBDb21tYW5kLmphdmEN
Cj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT0NClJDUyBmaWxlOiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3Jl
L3RleHQvY3R4aGVscC9DdHhIZWxwQ29tbWFuZC5qYXZhDQpkaWZmIC1OIHRleHQvb3JnL2VjbGlw
c2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBDb21tYW5kLmphdmENCi0t
LSAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KKysrIHRleHQvb3JnL2VjbGlw
c2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBDb21tYW5kLmphdmEJMSBK
YW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAgLTAsMCArMSw5NiBAQA0KKy8qKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqDQorICogQ29weXJpZ2h0IChjKSAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3Ro
ZXJzLg0KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29t
cGFueWluZyBtYXRlcmlhbHMNCisgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1z
IG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBhbmll
cyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cu
ZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQorICoNCisgKiBDb250cmlidXRvcnM6DQor
ICogICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0K
KyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqLw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVy
bmFsLmNvcmUudGV4dC5jdHhoZWxwOw0KKw0KKy8qKg0KKyAqIFJlcHJlc2VudHMgYSBjb21tYW5k
IGVudHJ5IGluIGNvbnRleHQgaGVscC4gIENvbW1hbmRzIGFyZSB1c2VkIHRvIGxhdW5jaA0KKyAq
IGFjdGlvbnMgd2hlbiBjbGlja2VkIG9uIGJ5IHRoZSB1c2VyLiAgQ29tbWFuZHMgYXJlIGxlYWYg
b2JqZWN0cy4NCisgKiANCisgKiBAc2luY2UgMy40DQorICogQHNlZSBDdHhIZWxwT2JqZWN0DQor
ICogQHNlZSBDdHhIZWxwTW9kZWwNCisgKiBAc2VlIEN0eEhlbHBEb2N1bWVudEZhY3RvcnkNCisg
Ki8NCitwdWJsaWMgY2xhc3MgQ3R4SGVscENvbW1hbmQgZXh0ZW5kcyBDdHhIZWxwT2JqZWN0IHsN
CisNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgbG9uZyBzZXJpYWxWZXJzaW9uVUlEID0gMUw7DQor
DQorCXB1YmxpYyBDdHhIZWxwQ29tbWFuZChDdHhIZWxwTW9kZWwgbW9kZWwpIHsNCisJCXN1cGVy
KG1vZGVsLCBFTEVNRU5UX0NPTU1BTkQpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJ
ICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LnRvYy5Ub2NPYmplY3Qj
Y2FuQmVQYXJlbnQoKQ0KKwkgKi8NCisJcHVibGljIGJvb2xlYW4gY2FuQmVQYXJlbnQoKSB7DQor
CQlyZXR1cm4gZmFsc2U7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRvYy5Ub2NPYmplY3QjZ2V0VHlwZSgpDQorCSAq
Lw0KKwlwdWJsaWMgaW50IGdldFR5cGUoKSB7DQorCQlyZXR1cm4gVFlQRV9DT01NQU5EOw0KKwl9
DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwuY29yZS50b2MuVG9jT2JqZWN0I2dldE5hbWUoKQ0KKwkgKi8NCisJcHVibGljIFN0cmluZyBn
ZXROYW1lKCkgew0KKwkJcmV0dXJuIGdldExhYmVsKCk7DQorCX0NCisNCisJLyoqDQorCSAqIEBy
ZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBsYWJlbCBhdHRyaWJ1dGUgb3IgPGNvZGU+bnVsbDwvY29k
ZT4gaWYgdGhlIGF0dHJpYnV0ZSBkb2VzIG5vdCBleGlzdA0KKwkgKi8NCisJcHVibGljIFN0cmlu
ZyBnZXRMYWJlbCgpIHsNCisJCXJldHVybiBnZXRYTUxBdHRyaWJ1dGVWYWx1ZShBVFRSSUJVVEVf
TEFCRUwpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBTZXQgdGhlIGxhYmVsIGF0dHJpYnV0ZSwgcGFz
c2luZyA8Y29kZT5udWxsPC9jb2RlPiB3aWxsIHNldCB0aGUNCisJICogYXR0cmlidXRlIHRvIGJl
IGVtcHR5Lg0KKwkgKiBAcGFyYW0gbGFiZWwgbmV3IHZhbHVlDQorCSAqLw0KKwlwdWJsaWMgdm9p
ZCBzZXRMYWJlbChTdHJpbmcgbGFiZWwpIHsNCisJCXNldFhNTEF0dHJpYnV0ZShBVFRSSUJVVEVf
TEFCRUwsIGxhYmVsKTsNCisJfQ0KKw0KKwkvKioNCisJICogQHJldHVybiB0aGUgdmFsdWUgb2Yg
dGhlIHNlcmlhbGl6YXRpb24gYXR0cmlidXRlIG9yIDxjb2RlPm51bGw8L2NvZGU+IGlmIHRoZSBh
dHRyaWJ1dGUgZG9lcyBub3QgZXhpc3QNCisJICovDQorCXB1YmxpYyBTdHJpbmcgZ2V0U2VyaWFs
aXphdGlvbigpIHsNCisJCXJldHVybiBnZXRYTUxBdHRyaWJ1dGVWYWx1ZShBVFRSSUJVVEVfU0VS
SUFMKTsNCisJfQ0KKw0KKwkvKioNCisJICogU2V0IHRoZSBzZXJpYWxpemF0aW9uIGF0dHJpYnV0
ZSwgcGFzc2luZyA8Y29kZT5udWxsPC9jb2RlPiB3aWxsIHNldCB0aGUNCisJICogYXR0cmlidXRl
IHRvIGJlIGVtcHR5Lg0KKwkgKiBAcGFyYW0gc2VyaWFsaXphdGlvbiBuZXcgdmFsdWUNCisJICov
DQorCXB1YmxpYyB2b2lkIHNldFNlcmlhbGl6YXRpb24oU3RyaW5nIHNlcmlhbGl6YXRpb24pIHsN
CisJCXNldFhNTEF0dHJpYnV0ZShBVFRSSUJVVEVfSFJFRiwgc2VyaWFsaXphdGlvbik7DQorCX0N
CisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5h
bC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwT2JqZWN0I2NhbkFkZENoaWxkKG9yZy5lY2xpcHNl
LnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwT2JqZWN0KQ0KKwkgKi8NCisJ
cHVibGljIGJvb2xlYW4gY2FuQWRkQ2hpbGQoaW50IG9iamVjdFR5cGUpIHsNCisJCXJldHVybiBm
YWxzZTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBPYmplY3QjY2FuQWRkU2libGlu
ZyhpbnQpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBjYW5BZGRTaWJsaW5nKGludCBvYmplY3RU
eXBlKSB7DQorCQlyZXR1cm4gb2JqZWN0VHlwZSA9PSBUWVBFX0NPTU1BTkQgfHwgb2JqZWN0VHlw
ZSA9PSBUWVBFX1RPUElDOw0KKwl9DQorfQ0KSW5kZXg6IHRleHQvb3JnL2VjbGlwc2UvcGRlL2lu
dGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBUb3BpYy5qYXZhDQo9PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpS
Q1MgZmlsZTogdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAv
Q3R4SGVscFRvcGljLmphdmENCmRpZmYgLU4gdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwv
Y29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscFRvcGljLmphdmENCi0tLSAvZGV2L251bGwJMSBKYW4g
MTk3MCAwMDowMDowMCAtMDAwMA0KKysrIHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2Nv
cmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBUb3BpYy5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAw
MDANCkBAIC0wLDAgKzEsMTA3IEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5
cmlnaHQgKGMpIDIwMDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0
cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0K
KyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVi
bGljIExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9u
LCBhbmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9l
cGwtdjEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0
aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKiovDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhl
bHA7DQorDQoraW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucnVudGltZS5JUGF0aDsNCitpbXBvcnQg
b3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLlBhdGg7DQorDQorLyoqDQorICogUmVwcmVzZW50cyBh
IHRvcGljIGVudHJ5IGluIGNvbnRleHQgaGVscC4gIFRvcGljcyBhcmUgdXNlZCB0byBvcGVuIHJl
bGF0ZWQNCisgKiBoZWxwIGluIG90aGVyIGZpbGVzLiAgVG9waWNzIGFyZSBsZWFmIG9iamVjdHMu
DQorICogDQorICogQHNpbmNlIDMuNA0KKyAqIEBzZWUgQ3R4SGVscE9iamVjdA0KKyAqIEBzZWUg
Q3R4SGVscE1vZGVsDQorICogQHNlZSBDdHhIZWxwRG9jdW1lbnRGYWN0b3J5DQorICovDQorcHVi
bGljIGNsYXNzIEN0eEhlbHBUb3BpYyBleHRlbmRzIEN0eEhlbHBPYmplY3Qgew0KKw0KKwlwcml2
YXRlIHN0YXRpYyBmaW5hbCBsb25nIHNlcmlhbFZlcnNpb25VSUQgPSAxTDsNCisNCisJcHVibGlj
IEN0eEhlbHBUb3BpYyhDdHhIZWxwTW9kZWwgbW9kZWwpIHsNCisJCXN1cGVyKG1vZGVsLCBFTEVN
RU5UX1RPUElDKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVj
bGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC50b2MuVG9jT2JqZWN0I2NhbkJlUGFyZW50KCkN
CisJICovDQorCXB1YmxpYyBib29sZWFuIGNhbkJlUGFyZW50KCkgew0KKwkJcmV0dXJuIGZhbHNl
Ow0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwuY29yZS50b2MuVG9jT2JqZWN0I2dldFR5cGUoKQ0KKwkgKi8NCisJcHVibGljIGlu
dCBnZXRUeXBlKCkgew0KKwkJcmV0dXJuIFRZUEVfVE9QSUM7DQorCX0NCisNCisJLyogKG5vbi1K
YXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRvYy5Ub2NP
YmplY3QjZ2V0TmFtZSgpDQorCSAqLw0KKwlwdWJsaWMgU3RyaW5nIGdldE5hbWUoKSB7DQorCQly
ZXR1cm4gZ2V0TGFiZWwoKTsNCisJfQ0KKw0KKwkvKioNCisJICogQHJldHVybiB0aGUgdmFsdWUg
b2YgdGhlIGxhYmVsIGF0dHJpYnV0ZSBvciA8Y29kZT5udWxsPC9jb2RlPiBpZiB0aGUgYXR0cmli
dXRlIGRvZXMgbm90IGV4aXN0DQorCSAqLw0KKwlwdWJsaWMgU3RyaW5nIGdldExhYmVsKCkgew0K
KwkJcmV0dXJuIGdldFhNTEF0dHJpYnV0ZVZhbHVlKEFUVFJJQlVURV9MQUJFTCk7DQorCX0NCisN
CisJLyoqDQorCSAqIFNldCB0aGUgbGFiZWwgYXR0cmlidXRlLCBwYXNzaW5nIDxjb2RlPm51bGw8
L2NvZGU+IHdpbGwgc2V0IHRoZQ0KKwkgKiBhdHRyaWJ1dGUgdG8gYmUgZW1wdHkuDQorCSAqIEBw
YXJhbSBsYWJlbCBuZXcgdmFsdWUNCisJICovDQorCXB1YmxpYyB2b2lkIHNldExhYmVsKFN0cmlu
ZyBsYWJlbCkgew0KKwkJc2V0WE1MQXR0cmlidXRlKEFUVFJJQlVURV9MQUJFTCwgbGFiZWwpOw0K
Kwl9DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgaHJlZiBhdHRyaWJ1
dGUgYXMgYSBwYXRoIG9yIDxjb2RlPm51bGw8L2NvZGU+DQorCSAqLw0KKwlwdWJsaWMgSVBhdGgg
Z2V0TG9jYXRpb24oKSB7DQorCQlTdHJpbmcgdmFsdWUgPSBnZXRYTUxBdHRyaWJ1dGVWYWx1ZShB
VFRSSUJVVEVfSFJFRik7DQorCQlpZiAodmFsdWUgIT0gbnVsbCkgew0KKwkJCXJldHVybiBuZXcg
UGF0aCh2YWx1ZSk7DQorCQl9DQorCQlyZXR1cm4gbnVsbDsNCisJfQ0KKw0KKwkvKioNCisJICog
U2V0IHRoZSBocmVmIChsaW5rKSBhdHRyaWJ1dGUsIHBhc3NpbmcgPGNvZGU+bnVsbDwvY29kZT4g
d2lsbCBzZXQgdGhlDQorCSAqIGF0dHJpYnV0ZSB0byBiZSBlbXB0eS4NCisJICogQHBhcmFtIHBh
dGggbmV3IHZhbHVlDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBzZXRMb2NhdGlvbihJUGF0aCBwYXRo
KSB7DQorCQlpZiAocGF0aCA9PSBudWxsKSB7DQorCQkJc2V0WE1MQXR0cmlidXRlKEFUVFJJQlVU
RV9IUkVGLCBudWxsKTsNCisJCX0gZWxzZSB7DQorCQkJc2V0WE1MQXR0cmlidXRlKEFUVFJJQlVU
RV9IUkVGLCBwYXRoLnRvUG9ydGFibGVTdHJpbmcoKSk7DQorCQl9DQorCX0NCisNCisJLyogKG5v
bi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQu
Y3R4aGVscC5DdHhIZWxwT2JqZWN0I2NhbkFkZENoaWxkKG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5h
bC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwT2JqZWN0KQ0KKwkgKi8NCisJcHVibGljIGJvb2xl
YW4gY2FuQWRkQ2hpbGQoaW50IG9iamVjdFR5cGUpIHsNCisJCXJldHVybiBmYWxzZTsNCisJfQ0K
Kw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBPYmplY3QjY2FuQWRkU2libGluZyhpbnQpDQorCSAq
Lw0KKwlwdWJsaWMgYm9vbGVhbiBjYW5BZGRTaWJsaW5nKGludCBvYmplY3RUeXBlKSB7DQorCQly
ZXR1cm4gb2JqZWN0VHlwZSA9PSBUWVBFX0NPTU1BTkQgfHwgb2JqZWN0VHlwZSA9PSBUWVBFX1RP
UElDOw0KKwl9DQorfQ0KSW5kZXg6IHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUv
dGV4dC9jdHhoZWxwL0N0eEhlbHBEb2N1bWVudEhhbmRsZXIuamF2YQ0KPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNT
IGZpbGU6IHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0
eEhlbHBEb2N1bWVudEhhbmRsZXIuamF2YQ0KZGlmZiAtTiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9p
bnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhIZWxwRG9jdW1lbnRIYW5kbGVyLmphdmENCi0t
LSAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KKysrIHRleHQvb3JnL2VjbGlw
c2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBEb2N1bWVudEhhbmRsZXIu
amF2YQkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsxLDQ3IEBADQorLyoqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIwMDggSUJNIENvcnBvcmF0aW9u
IGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0
aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0
aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFj
Y29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0
cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1
dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVu
dGF0aW9uDQorICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQorcGFja2FnZSBvcmcuZWNsaXBzZS5w
ZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHA7DQorDQoraW1wb3J0IG9yZy5lY2xpcHNlLmpm
YWNlLnRleHQuSURvY3VtZW50Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29y
ZS50ZXh0LklEb2N1bWVudEVsZW1lbnROb2RlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50
ZXJuYWwuY29yZS50ZXh0Lk5vZGVEb2N1bWVudEhhbmRsZXI7DQorDQorLyoqDQorICogRG9jdW1l
bnQgaGFuZGxlciBmb3IgY29udGV4dCBoZWxwIHhtbCBmaWxlcy4NCisgKiANCisgKiBAc2luY2Ug
My40DQorICogQHNlZSBDdHhIZWxwT2JqZWN0DQorICogQHNlZSBDdHhIZWxwTW9kZWwNCisgKiBA
c2VlIEN0eEhlbHBEb2N1bWVudEZhY3RvcnkNCisgKi8NCitwdWJsaWMgY2xhc3MgQ3R4SGVscERv
Y3VtZW50SGFuZGxlciBleHRlbmRzIE5vZGVEb2N1bWVudEhhbmRsZXIgew0KKw0KKwlwcml2YXRl
IEN0eEhlbHBNb2RlbCBmTW9kZWw7DQorDQorCXB1YmxpYyBDdHhIZWxwRG9jdW1lbnRIYW5kbGVy
KEN0eEhlbHBNb2RlbCBtb2RlbCwgYm9vbGVhbiByZWNvbmNpbGluZykgew0KKwkJc3VwZXIocmVj
b25jaWxpbmcsIG1vZGVsLmdldEZhY3RvcnkoKSk7DQorCQlmTW9kZWwgPSBtb2RlbDsNCisJfQ0K
Kw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LmNvcmUudGV4dC5Eb2N1bWVudEhhbmRsZXIjZ2V0RG9jdW1lbnQoKQ0KKwkgKi8NCisJcHJvdGVj
dGVkIElEb2N1bWVudCBnZXREb2N1bWVudCgpIHsNCisJCXJldHVybiBmTW9kZWwuZ2V0RG9jdW1l
bnQoKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLmNvcmUudGV4dC5Ob2RlRG9jdW1lbnRIYW5kbGVyI2dldFJvb3ROb2RlKCkN
CisJICovDQorCXByb3RlY3RlZCBJRG9jdW1lbnRFbGVtZW50Tm9kZSBnZXRSb290Tm9kZSgpIHsN
CisJCXJldHVybiAoSURvY3VtZW50RWxlbWVudE5vZGUpIGZNb2RlbC5nZXRSb290KCk7DQorCX0N
Cit9DQpJbmRleDogdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhl
bHAvQ3R4SGVscFJvb3QuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHRleHQvb3JnL2VjbGlw
c2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBSb290LmphdmENCmRpZmYg
LU4gdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVs
cFJvb3QuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysg
dGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscFJv
b3QuamF2YQkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsxLDczIEBADQorLyoq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIwMDggSUJNIENvcnBvcmF0
aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFu
ZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRl
ciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNo
IGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQorICog
aHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKg0KKyAqIENvbnRy
aWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxl
bWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQorcGFja2FnZSBvcmcuZWNsaXBz
ZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHA7DQorDQorLyoqDQorICogUmVwcmVzZW50
cyB0aGUgcm9vdCAiY29udGV4dHMiIGVudHJ5IGluIGEgY29udGV4dCBoZWxwIHhtbCBmaWxlLiAg
VGhlcmUgbWF5DQorICogYmUgb25seSBvbmUgcm9vdCBub2RlIGluIHRoZSBmaWxlIGFuZCBhbGwg
b3RoZXIgbm9kZXMgbXVzdCBiZSBpbnNpZGUgdGhlIHJvb3QuDQorICogVGhlIHJvb3QgbWF5IGNv
bnRhaW4gbWFueSBjb250ZXh0IGVsZW1lbnRzLg0KKyAqIA0KKyAqIEBzaW5jZSAzLjQNCisgKiBA
c2VlIEN0eEhlbHBPYmplY3QNCisgKiBAc2VlIEN0eEhlbHBNb2RlbA0KKyAqIEBzZWUgQ3R4SGVs
cERvY3VtZW50RmFjdG9yeQ0KKyAqLw0KK3B1YmxpYyBjbGFzcyBDdHhIZWxwUm9vdCBleHRlbmRz
IEN0eEhlbHBPYmplY3Qgew0KKw0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBsb25nIHNlcmlhbFZl
cnNpb25VSUQgPSAxTDsNCisNCisJcHVibGljIEN0eEhlbHBSb290KEN0eEhlbHBNb2RlbCBtb2Rl
bCkgew0KKwkJc3VwZXIobW9kZWwsIEVMRU1FTlRfUk9PVCk7DQorCQlzZXRJblRoZU1vZGVsKHRy
dWUpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5w
ZGUuaW50ZXJuYWwuY29yZS50ZXh0LnBsdWdpbi5QbHVnaW5Eb2N1bWVudE5vZGUjaXNSb290KCkN
CisJICovDQorCXB1YmxpYyBib29sZWFuIGlzUm9vdCgpIHsNCisJCXJldHVybiB0cnVlOw0KKwl9
DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwuY29yZS50b2MuVG9jT2JqZWN0I2dldFR5cGUoKQ0KKwkgKi8NCisJcHVibGljIGludCBnZXRU
eXBlKCkgew0KKwkJcmV0dXJuIFRZUEVfUk9PVDsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2Mp
DQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0
eEhlbHBPYmplY3QjY2FuQmVQYXJlbnQoKQ0KKwkgKi8NCisJcHVibGljIGJvb2xlYW4gY2FuQmVQ
YXJlbnQoKSB7DQorCQlyZXR1cm4gdHJ1ZTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQor
CSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhl
bHBPYmplY3QjZ2V0TmFtZSgpDQorCSAqLw0KKwlwdWJsaWMgU3RyaW5nIGdldE5hbWUoKSB7DQor
CQlyZXR1cm4gRUxFTUVOVF9ST09UOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICog
QHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE9i
amVjdCNjYW5BZGRDaGlsZChvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhl
bHAuQ3R4SGVscE9iamVjdCkNCisJICovDQorCXB1YmxpYyBib29sZWFuIGNhbkFkZENoaWxkKGlu
dCBvYmplY3RUeXBlKSB7DQorCQlyZXR1cm4gb2JqZWN0VHlwZSA9PSBUWVBFX0NPTlRFWFQ7DQor
CX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwT2JqZWN0I2NhbkFkZFNpYmxpbmcoaW50KQ0K
KwkgKi8NCisJcHVibGljIGJvb2xlYW4gY2FuQWRkU2libGluZyhpbnQgb2JqZWN0VHlwZSkgew0K
KwkJcmV0dXJuIGZhbHNlOw0KKwl9DQorfQ0KSW5kZXg6IHRleHQvb3JnL2VjbGlwc2UvcGRlL2lu
dGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBDb250ZXh0LmphdmENCj09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0N
ClJDUyBmaWxlOiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVs
cC9DdHhIZWxwQ29udGV4dC5qYXZhDQpkaWZmIC1OIHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVy
bmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBDb250ZXh0LmphdmENCi0tLSAvZGV2L251bGwJ
MSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KKysrIHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVy
bmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBDb250ZXh0LmphdmEJMSBKYW4gMTk3MCAwMDow
MDowMCAtMDAwMA0KQEAgLTAsMCArMSwxMzUgQEANCisvKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0K
KyAqIENvcHlyaWdodCAoYykgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBB
bGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0
ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNs
aXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0
cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3Jn
L2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0g
Q29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKi8NCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRl
eHQuY3R4aGVscDsNCisNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4
dC5JRG9jdW1lbnRFbGVtZW50Tm9kZTsNCisNCisvKioNCisgKiBSZXByZXNlbnRzIGEgY29udGV4
dCBlbnRyeSBpbiBjb250ZXh0IGhlbHAuICBDb250ZXh0cyBoYXZlIGEgc3BlY2lmaWMgaWQNCisg
KiB0aGF0IGFsbG93cyBVSSBlbGVtZW50cyB0byBiZSBhc3NvY2lhdGVkIHdpdGggYSBsaXN0IG9m
IGNvbW1hbmRzIGFuZCB0b3BpY3MNCisgKiB0aGF0IGFyZSBzdG9yZWQgaW4gdGhlIGNvbnRleHQu
ICBDb250ZXh0cyBtYXkgaGF2ZSBvbmUgb3B0aW9uYWwgZGVzY3JpcHRpb24NCisgKiBlbGVtZW50
IGFuZCBhcyBtYW55IHRvcGljIGFuZCBjb21tYW5kIGVsZW1lbnRzIGFzIG5lZWRlZC4NCisgKiAN
CisgKiBAc2luY2UgMy40DQorICogQHNlZSBDdHhIZWxwT2JqZWN0DQorICogQHNlZSBDdHhIZWxw
TW9kZWwNCisgKiBAc2VlIEN0eEhlbHBEb2N1bWVudEZhY3RvcnkNCisgKi8NCitwdWJsaWMgY2xh
c3MgQ3R4SGVscENvbnRleHQgZXh0ZW5kcyBDdHhIZWxwT2JqZWN0IHsNCisNCisJcHJpdmF0ZSBz
dGF0aWMgZmluYWwgbG9uZyBzZXJpYWxWZXJzaW9uVUlEID0gMUw7DQorDQorCXB1YmxpYyBDdHhI
ZWxwQ29udGV4dChDdHhIZWxwTW9kZWwgbW9kZWwpIHsNCisJCXN1cGVyKG1vZGVsLCBFTEVNRU5U
X0NPTlRFWFQpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNs
aXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LnRvYy5Ub2NPYmplY3QjY2FuQmVQYXJlbnQoKQ0K
KwkgKi8NCisJcHVibGljIGJvb2xlYW4gY2FuQmVQYXJlbnQoKSB7DQorCQlyZXR1cm4gdHJ1ZTsN
CisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmlu
dGVybmFsLmNvcmUudG9jLlRvY09iamVjdCNnZXRUeXBlKCkNCisJICovDQorCXB1YmxpYyBpbnQg
Z2V0VHlwZSgpIHsNCisJCXJldHVybiBUWVBFX0NPTlRFWFQ7DQorCX0NCisNCisJLyogKG5vbi1K
YXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRvYy5Ub2NP
YmplY3QjZ2V0TmFtZSgpDQorCSAqLw0KKwlwdWJsaWMgU3RyaW5nIGdldE5hbWUoKSB7DQorCQly
ZXR1cm4gZ2V0SWQoKTsNCisJfQ0KKw0KKwkvKioNCisJICogQHJldHVybiB0aGUgdmFsdWUgb2Yg
dGhlIGlkIGF0dHJpYnV0ZSBvciA8Y29kZT5udWxsPC9jb2RlPiBpZiB0aGUgYXR0cmlidXRlIGRv
ZXMgbm90IGV4aXN0DQorCSAqLw0KKwlwdWJsaWMgU3RyaW5nIGdldElkKCkgew0KKwkJcmV0dXJu
IGdldFhNTEF0dHJpYnV0ZVZhbHVlKEFUVFJJQlVURV9JRCk7DQorCX0NCisNCisJLyoqDQorCSAq
IFNldCB0aGUgaWQgYXR0cmlidXRlLCBwYXNzaW5nIDxjb2RlPm51bGw8L2NvZGU+IHdpbGwgc2V0
IHRoZQ0KKwkgKiBhdHRyaWJ1dGUgdG8gYmUgZW1wdHkuDQorCSAqIEBwYXJhbSBpZCBuZXcgdmFs
dWUNCisJICovDQorCXB1YmxpYyB2b2lkIHNldElEKFN0cmluZyBpZCkgew0KKwkJc2V0WE1MQXR0
cmlidXRlKEFUVFJJQlVURV9JRCwgaWQpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuIHRo
ZSB2YWx1ZSBvZiB0aGUgdGl0bGUgYXR0cmlidXRlIG9yIDxjb2RlPm51bGw8L2NvZGU+IGlmIHRo
ZSBhdHRyaWJ1dGUgZG9lcyBub3QgZXhpc3QNCisJICovDQorCXB1YmxpYyBTdHJpbmcgZ2V0VGl0
bGUoKSB7DQorCQlyZXR1cm4gZ2V0WE1MQXR0cmlidXRlVmFsdWUoQVRUUklCVVRFX1RJVExFKTsN
CisJfQ0KKw0KKwkvKioNCisJICogU2V0IHRoZSB0aXRsZSBhdHRyaWJ1dGUsIHBhc3NpbmcgPGNv
ZGU+bnVsbDwvY29kZT4gd2lsbCBzZXQgdGhlDQorCSAqIGF0dHJpYnV0ZSB0byBiZSBlbXB0eS4N
CisJICogQHBhcmFtIHRpdGxlIG5ldyB2YWx1ZQ0KKwkgKi8NCisJcHVibGljIHZvaWQgc2V0VGl0
bGUoU3RyaW5nIHRpdGxlKSB7DQorCQlzZXRYTUxBdHRyaWJ1dGUoQVRUUklCVVRFX1RJVExFLCB0
aXRsZSk7DQorCX0NCisNCisJLyoqDQorCSAqIFNlYXJjaGVzIGZvciBhIGNoaWxkIGRlc2NyaXB0
aW9uIG5vZGUgYW5kIHJldHVybnMgdGhlIHN0cmluZyBjb250ZW50cyBvZiB0aGF0IG5vZGUuDQor
CSAqIFJldHVybnMgPGNvZGU+bnVsbDwvY29kZT4gaWYgbm8gZGVzY3JpcHRpb24gbm9kZSBleGlz
dHMuDQorCSAqIEByZXR1cm4gZGVzY3JpcHRpb24gYXNzb2NpYXRlZCB3aXRoIHRoaXMgY29udGV4
dCBvciA8Y29kZT5udWxsPC9jb2RlPiBubyBkZXNjcmlwdGlvbiBleGlzdHMNCisJICovDQorCXB1
YmxpYyBTdHJpbmcgZ2V0RGVzY3JpcHRpb24oKSB7DQorCQlJRG9jdW1lbnRFbGVtZW50Tm9kZSBu
b2RlID0gZ2V0Q2hpbGROb2RlKEN0eEhlbHBEZXNjcmlwdGlvbi5jbGFzcyk7DQorCQlpZiAobm9k
ZSBpbnN0YW5jZW9mIEN0eEhlbHBEZXNjcmlwdGlvbikgew0KKwkJCXJldHVybiAoKEN0eEhlbHBE
ZXNjcmlwdGlvbikgbm9kZSkuZ2V0RGVzY3JpcHRpb24oKTsNCisJCX0NCisJCXJldHVybiBudWxs
Ow0KKwl9DQorDQorCS8qKg0KKwkgKiBTZXQgdGhlIGRlc2NyaXB0aW9uIHRvIGJlIGFzc29jaWF0
ZWQgd2l0aCB0aGlzIGNvbnRleHQuICBTZWFyY2hlcyBmb3IgYSBjaGlsZCBkZXNjcmlwdGlvbiBu
b2RlDQorCSAqIGFuZCB1cGRhdGVzIHRoZSBjb250ZW50IHdpdGggdGhlIGdpdmVuIHN0cmluZy4g
IElmIGEgZGVzY3JpcHRpb24gbm9kZSBkb2VzIG5vdCBleGlzdCwgb25lIHdpbGwNCisJICogYmUg
Y3JlYXRlZC4gIFBhc3NpbmcgPGNvZGU+bnVsbDwvY29kZT4gd2lsbCByZW1vdmUgYW55IGRlc2Ny
aXB0aW9uIG5vZGUgaWYgb25lIGV4aXN0cy4NCisJICogQHBhcmFtIGRlc2NyaXB0aW9uIG5ldyB2
YWx1ZQ0KKwkgKi8NCisJcHVibGljIHZvaWQgc2V0RGVzY3JpcHRpb24oU3RyaW5nIGRlc2NyaXB0
aW9uKSB7DQorCQlJRG9jdW1lbnRFbGVtZW50Tm9kZSBub2RlID0gZ2V0Q2hpbGROb2RlKEN0eEhl
bHBEZXNjcmlwdGlvbi5jbGFzcyk7DQorCQlpZiAobm9kZSBpbnN0YW5jZW9mIEN0eEhlbHBEZXNj
cmlwdGlvbikgew0KKwkJCWlmIChkZXNjcmlwdGlvbiA9PSBudWxsKSB7DQorCQkJCXJlbW92ZUNo
aWxkTm9kZShub2RlLCB0cnVlKTsNCisJCQl9IGVsc2Ugew0KKwkJCQkoKEN0eEhlbHBEZXNjcmlw
dGlvbikgbm9kZSkuc2V0RGVzY3JpcHRpb24oZGVzY3JpcHRpb24pOw0KKwkJCX0NCisJCX0gZWxz
ZSBpZiAoZGVzY3JpcHRpb24gIT0gbnVsbCkgew0KKwkJCUN0eEhlbHBEZXNjcmlwdGlvbiBuZXdE
ZXNjcmlwdGlvbiA9IGdldE1vZGVsKCkuZ2V0RmFjdG9yeSgpLmNyZWF0ZURlc2NyaXB0aW9uKCk7
DQorCQkJbmV3RGVzY3JpcHRpb24uc2V0RGVzY3JpcHRpb24oZGVzY3JpcHRpb24pOw0KKwkJCWFk
ZENoaWxkTm9kZShuZXdEZXNjcmlwdGlvbiwgMCwgdHJ1ZSk7DQorCQl9DQorCX0NCisNCisJLyog
KG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRl
eHQuY3R4aGVscC5DdHhIZWxwT2JqZWN0I2NhbkFkZENoaWxkKG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwT2JqZWN0KQ0KKwkgKi8NCisJcHVibGljIGJv
b2xlYW4gY2FuQWRkQ2hpbGQoaW50IG9iamVjdFR5cGUpIHsNCisJCXJldHVybiBvYmplY3RUeXBl
ID09IFRZUEVfVE9QSUMgfHwgb2JqZWN0VHlwZSA9PSBUWVBFX0NPTU1BTkQ7DQorCX0NCisNCisJ
LyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3Jl
LnRleHQuY3R4aGVscC5DdHhIZWxwT2JqZWN0I2NhbkFkZFNpYmxpbmcoaW50KQ0KKwkgKi8NCisJ
cHVibGljIGJvb2xlYW4gY2FuQWRkU2libGluZyhpbnQgb2JqZWN0VHlwZSkgew0KKwkJcmV0dXJu
IG9iamVjdFR5cGUgPT0gVFlQRV9DT05URVhUOw0KKwl9DQorDQorfQ0KSW5kZXg6IHRleHQvb3Jn
L2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBPYmplY3QuamF2
YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2Nv
cmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBPYmplY3QuamF2YQ0KZGlmZiAtTiB0ZXh0L29yZy9lY2xp
cHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhIZWxwT2JqZWN0LmphdmENCi0t
LSAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KKysrIHRleHQvb3JnL2VjbGlw
c2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBPYmplY3QuamF2YQkxIEph
biAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsxLDE5NiBAQA0KKy8qKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqDQorICogQ29weXJpZ2h0IChjKSAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3Ro
ZXJzLg0KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29t
cGFueWluZyBtYXRlcmlhbHMNCisgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1z
IG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBhbmll
cyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cu
ZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQorICoNCisgKiBDb250cmlidXRvcnM6DQor
ICogICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0K
KyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqLw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVy
bmFsLmNvcmUudGV4dC5jdHhoZWxwOw0KKw0KK2ltcG9ydCBqYXZhLmlvLlNlcmlhbGl6YWJsZTsN
CitpbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsNCitpbXBvcnQgamF2YS51dGlsLkxpc3Q7DQor
aW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5jb3JlLklNb2RlbDsNCitpbXBvcnQgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLmNvcmUuaWN0eGhlbHAuSUN0eEhlbHBDb25zdGFudHM7DQoraW1wb3J0IG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuRG9jdW1lbnRPYmplY3Q7DQoraW1wb3J0
IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuSURvY3VtZW50RWxlbWVudE5vZGU7
DQorDQorLyoqDQorICogQWxsIG1vZGVsZWQgb2JqZWN0cyBvZiBhIGNvbnRleHQgaGVscCB4bWwg
ZmlsZSBtdXN0IGV4dGVuZCBmcm9tIHRoaXMNCisgKiBhYnN0cmFjdCBjbGFzcy4NCisgKiANCisg
KiBAc2luY2UgMy40DQorICogQHNlZSBDdHhIZWxwTW9kZWwNCisgKiBAc2VlIEN0eEhlbHBEb2N1
bWVudEZhY3RvcnkNCisgKi8NCitwdWJsaWMgYWJzdHJhY3QgY2xhc3MgQ3R4SGVscE9iamVjdCBl
eHRlbmRzIERvY3VtZW50T2JqZWN0IGltcGxlbWVudHMgSUN0eEhlbHBDb25zdGFudHMsIFNlcmlh
bGl6YWJsZSB7DQorDQorCXByaXZhdGUgc3RhdGljIGZpbmFsIGxvbmcgc2VyaWFsVmVyc2lvblVJ
RCA9IDFMOw0KKw0KKwkvKioNCisJICogQ29uc3RydWN0cyB0aGUgQ3R4SGVscE9iamVjdCBhbmQg
aW5pdGlhbGl6ZXMgaXRzIGF0dHJpYnV0ZXMuDQorCSAqIA0KKwkgKiBAcGFyYW0gbW9kZWwgVGhl
IG1vZGVsIHRvIGFzc29jaWF0ZSB3aXRoIHRoaXMgQ3R4SGVscE9iamVjdA0KKwkgKiBAcGFyYW0g
dGFnTmFtZSBUaGUgeG1sIHRhZyBuYW1lIGZvciB0aGlzIG9iamVjdA0KKwkgKi8NCisJcHVibGlj
IEN0eEhlbHBPYmplY3QoQ3R4SGVscE1vZGVsIG1vZGVsLCBTdHJpbmcgdGFnTmFtZSkgew0KKwkJ
c3VwZXIobW9kZWwsIHRhZ05hbWUpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuIHRoZSBj
aGlsZHJlbiBvZiB0aGUgb2JqZWN0IG9yIGFuIGVtcHR5IExpc3QgaWYgbm9uZSBleGlzdC4NCisJ
ICovDQorCXB1YmxpYyBMaXN0IGdldENoaWxkcmVuKCkgew0KKwkJLy9DcmVhdGUgYSBjb3B5IG9m
IHRoZSBjaGlsZCBsaXN0IGluc3RlYWQgb2YgDQorCQkvL3JldHVybmluZyB0aGUgbGlzdCBpdHNl
bGYuIFRoYXQgd2F5LCBvdXIgbGlzdA0KKwkJLy9vZiBjaGlsZHJlbiBjYW5ub3QgYmUgYWx0ZXJl
ZCBmcm9tIG91dHNpZGUNCisJCUFycmF5TGlzdCBsaXN0ID0gbmV3IEFycmF5TGlzdCgpOw0KKw0K
KwkJLy8gQWRkIGNoaWxkcmVuIG9mIHRoaXMgdG9waWMNCisJCUlEb2N1bWVudEVsZW1lbnROb2Rl
W10gY2hpbGROb2RlcyA9IGdldENoaWxkTm9kZXMoKTsNCisJCWlmIChjaGlsZE5vZGVzLmxlbmd0
aCA+IDApIHsNCisJCQlmb3IgKGludCBpID0gMDsgaSA8IGNoaWxkTm9kZXMubGVuZ3RoOyArK2kp
IHsNCisJCQkJaWYgKGNoaWxkTm9kZXNbaV0gaW5zdGFuY2VvZiBDdHhIZWxwT2JqZWN0KSB7DQor
CQkJCQlsaXN0LmFkZChjaGlsZE5vZGVzW2ldKTsNCisJCQkJfQ0KKwkJCX0NCisJCX0NCisNCisJ
CXJldHVybiBsaXN0Ow0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LkRvY3VtZW50RWxlbWVudE5vZGUjaXNMZWFm
Tm9kZSgpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBpc0xlYWZOb2RlKCkgew0KKwkJcmV0dXJu
ICFjYW5CZVBhcmVudCgpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuIHRydWUgaWZmIHRo
aXMgb2JqZWN0IGlzIGNhcGFibGUgb2YgY29udGFpbmluZyBjaGlsZHJlbi4NCisJICovDQorCXB1
YmxpYyBhYnN0cmFjdCBib29sZWFuIGNhbkJlUGFyZW50KCk7DQorDQorCXB1YmxpYyBhYnN0cmFj
dCBib29sZWFuIGNhbkFkZENoaWxkKGludCBvYmplY3RUeXBlKTsNCisNCisJcHVibGljIGFic3Ry
YWN0IGJvb2xlYW4gY2FuQWRkU2libGluZyhpbnQgb2JqZWN0VHlwZSk7DQorDQorCS8vCXB1Ymxp
YyBhYnN0cmFjdCBib29sZWFuIGNhbkFkZFNpYmxpbmcoaW50IG9iamVjdFR5cGUpOw0KKw0KKwlw
dWJsaWMgdm9pZCBhZGRDaGlsZChDdHhIZWxwT2JqZWN0IG5ld09iamVjdCwgQ3R4SGVscE9iamVj
dCB0YXJnZXRTaWJsaW5nLCBib29sZWFuIGluc2VydEJlZm9yZSkgew0KKwkJaWYgKGNhbkFkZENo
aWxkKG5ld09iamVjdC5nZXRUeXBlKCkpKSB7DQorCQkJaW50IGN1cnJlbnRJbmRleCA9IGluZGV4
T2YodGFyZ2V0U2libGluZyk7DQorCQkJaWYgKCFpbnNlcnRCZWZvcmUpIHsNCisJCQkJY3VycmVu
dEluZGV4Kys7DQorCQkJfQ0KKwkJCWFkZENoaWxkTm9kZShuZXdPYmplY3QsIGN1cnJlbnRJbmRl
eCwgdHJ1ZSk7DQorCQl9DQorCX0NCisNCisJcHVibGljIHZvaWQgYWRkQ2hpbGQoQ3R4SGVscE9i
amVjdCBuZXdPYmplY3QpIHsNCisJCWlmIChjYW5BZGRDaGlsZChuZXdPYmplY3QuZ2V0VHlwZSgp
KSkgew0KKwkJCWFkZENoaWxkTm9kZShuZXdPYmplY3QsIHRydWUpOw0KKwkJfQ0KKwl9DQorDQor
CS8qKg0KKwkgKiBAcmV0dXJuIHRoZSByb290IG1vZGVsIG9iamVjdCB0aGF0IGlzIGFuIGFuY2Vz
dG9yIHRvIHRoaXMgb2JqZWN0Lg0KKwkgKi8NCisJcHVibGljIEN0eEhlbHBNb2RlbCBnZXRNb2Rl
bCgpIHsNCisJCWZpbmFsIElNb2RlbCBzaGFyZWRNb2RlbCA9IGdldFNoYXJlZE1vZGVsKCk7DQor
CQlpZiAoc2hhcmVkTW9kZWwgaW5zdGFuY2VvZiBDdHhIZWxwTW9kZWwpIHsNCisJCQlyZXR1cm4g
KEN0eEhlbHBNb2RlbCkgc2hhcmVkTW9kZWw7DQorCQl9DQorCQlyZXR1cm4gbnVsbDsNCisJfQ0K
Kw0KKwkvKioNCisJICogQHJldHVybiB0aGUgcm9vdCBlbGVtZW50IHRoYXQgaXMgYW4gYW5jZXN0
b3IgdG8gdGhpcyBvYmplY3QuDQorCSAqLw0KKwlwdWJsaWMgQ3R4SGVscFJvb3QgZ2V0Um9vdCgp
IHsNCisJCWZpbmFsIEN0eEhlbHBNb2RlbCBtb2RlbCA9IGdldE1vZGVsKCk7DQorCQlpZiAobW9k
ZWwgIT0gbnVsbCkgew0KKwkJCXJldHVybiBtb2RlbC5nZXRDdHhIZWxwUm9vdCgpOw0KKwkJfQ0K
KwkJcmV0dXJuIG51bGw7DQorCX0NCisNCisJLyoqDQorCSAqIEByZXR1cm4gdGhlIGlkZW50aWZp
ZXIgZm9yIHRoaXMgb2JqZWN0IHRvIGJlIHVzZWQgd2hlbiBkaXNwbGF5aW5nIHRoZSBlbGVtZW50
IHRvIHRoZSB1c2VyDQorCSAqLw0KKwlwdWJsaWMgYWJzdHJhY3QgU3RyaW5nIGdldE5hbWUoKTsN
CisNCisJLyoqDQorCSAqIEdldCB0aGUgY29uY3JldGUgdHlwZSBvZiB0aGlzIG9iamVjdCwgbXVz
dCBiZSBvbmUgb2YgdGhlIFRZUEUgY29uc3RhbnRzIGRlZmluZWQgaW4gSUN0eEhlbHBDb25zdGFu
dHMuDQorCSAqIEBzZWUgSUN0eEhlbHBDb25zdGFudHMNCisJICovDQorCXB1YmxpYyBhYnN0cmFj
dCBpbnQgZ2V0VHlwZSgpOw0KKw0KKwkvKioNCisJICogQHJldHVybiB0aGUgcGFyZW50IG9mIHRo
aXMgb2JqZWN0LCBvciA8Y29kZT5udWxsPC9jb2RlPiBpZiB0aGVyZSBpcyBubyBwYXJlbnQuDQor
CSAqLw0KKwlwdWJsaWMgQ3R4SGVscE9iamVjdCBnZXRQYXJlbnQoKSB7DQorCQlJRG9jdW1lbnRF
bGVtZW50Tm9kZSBwYXJlbnQgPSBnZXRQYXJlbnROb2RlKCk7DQorCQlyZXR1cm4gcGFyZW50IGlu
c3RhbmNlb2YgQ3R4SGVscE9iamVjdCA/IChDdHhIZWxwT2JqZWN0KSBwYXJlbnQgOiBudWxsOw0K
Kwl9DQorDQorCS8qKg0KKwkgKiBDaGVjayBpZiB0aGUgb2JqZWN0IGlzIGEgZGlyZWN0IG9yIGlu
ZGlyZWN0IGRlc2NlbmRhbnQNCisJICogb2YgdGhlIG9iamVjdCBwYXJhbWV0ZXIuDQorCSAqIA0K
KwkgKiBAcGFyYW0gb2JqIFRoZSBvYmplY3QgdG8gZmluZCBpbiB0aGlzIG9iamVjdCdzIGFuY2Vz
dHJ5DQorCSAqIEByZXR1cm4gdHJ1ZSBpZmYgb2JqIGlzIGFuIGFuY2VzdG9yIG9mIHRoaXMgb2Jq
ZWN0DQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBkZXNjZW5kc0Zyb20oQ3R4SGVscE9iamVjdCBv
YmopIHsNCisJCWlmICh0aGlzLmVxdWFscyhvYmopKSB7DQorCQkJcmV0dXJuIHRydWU7DQorCQl9
DQorCQlpZiAoZ2V0UGFyZW50KCkgIT0gbnVsbCAmJiBvYmouY2FuQmVQYXJlbnQoKSkgew0KKwkJ
CXJldHVybiBnZXRQYXJlbnQoKS5kZXNjZW5kc0Zyb20ob2JqKTsNCisJCX0NCisJCXJldHVybiBm
YWxzZTsNCisJfQ0KKw0KKwkvKioNCisJICogQHBhcmFtIGN0eEhlbHBPYmplY3QgdGhlIGNoaWxk
IHVzZWQgdG8gbG9jYXRlIGEgc2libGluZw0KKwkgKiBAcmV0dXJuIHRoZSBvYmplY3QgcHJlY2Vk
aW5nIHRoZSBzcGVjaWZpZWQgb25lIGluIHRoZSBsaXN0IG9mIGNoaWxkcmVuDQorCSAqLw0KKwlw
dWJsaWMgQ3R4SGVscE9iamVjdCBnZXRQcmV2aW91c1NpYmxpbmcoQ3R4SGVscE9iamVjdCBjdHhI
ZWxwT2JqZWN0KSB7DQorCQlyZXR1cm4gKEN0eEhlbHBPYmplY3QpIGdldFByZXZpb3VzU2libGlu
ZyhjdHhIZWxwT2JqZWN0LCBDdHhIZWxwT2JqZWN0LmNsYXNzKTsNCisJfQ0KKw0KKwkvKioNCisJ
ICogQHBhcmFtIGN0eEhlbHBPYmplY3QgdGhlIGNoaWxkIHVzZWQgdG8gbG9jYXRlIGEgc2libGlu
Zw0KKwkgKiBAcmV0dXJuIHRoZSBvYmplY3QgcHJvY2VlZGluZyB0aGUgc3BlY2lmaWVkIG9uZSBp
biB0aGUgbGlzdCBvZiBjaGlsZHJlbg0KKwkgKi8NCisJcHVibGljIEN0eEhlbHBPYmplY3QgZ2V0
TmV4dFNpYmxpbmcoQ3R4SGVscE9iamVjdCBjdHhIZWxwT2JqZWN0KSB7DQorCQlyZXR1cm4gKEN0
eEhlbHBPYmplY3QpIGdldE5leHRTaWJsaW5nKGN0eEhlbHBPYmplY3QsIEN0eEhlbHBPYmplY3Qu
Y2xhc3MpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuIHRydWUgaWZmIGEgdGhpcyBvYmpl
Y3QgY2FuIGJlIHJlbW92ZWQNCisJICovDQorCXB1YmxpYyBib29sZWFuIGNhbkJlUmVtb3ZlZCgp
IHsNCisJCWlmIChnZXRUeXBlKCkgPT0gVFlQRV9ST09UKSB7IC8vU2VtYW50aWMgUnVsZTogVGhl
IHJvb3QgZWxlbWVudCBjYW4gbmV2ZXIgYmUgcmVtb3ZlZA0KKwkJCXJldHVybiBmYWxzZTsNCisJ
CX0NCisJCXJldHVybiB0cnVlOw0KKwl9DQorDQorCXB1YmxpYyB2b2lkIHJlbW92ZUNoaWxkKEN0
eEhlbHBPYmplY3Qgb2JqZWN0KSB7DQorCQlpZiAob2JqZWN0LmNhbkJlUmVtb3ZlZCgpKSB7DQor
CQkJcmVtb3ZlQ2hpbGROb2RlKG9iamVjdCwgdHJ1ZSk7DQorCQl9DQorCX0NCisNCisJLyogKG5v
bi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRvYy5U
b2NPYmplY3QjbW92ZUNoaWxkKG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRvYy5Ub2NP
YmplY3QsIGludCkNCisJICovDQorCXB1YmxpYyB2b2lkIG1vdmVDaGlsZChDdHhIZWxwT2JqZWN0
IG9iamVjdCwgaW50IG5ld1JlbGF0aXZlSW5kZXgpIHsNCisJCW1vdmVDaGlsZE5vZGUob2JqZWN0
LCBuZXdSZWxhdGl2ZUluZGV4LCB0cnVlKTsNCisJfQ0KKw0KK30NCiNQIG9yZy5lY2xpcHNlLnBk
ZQ0KSW5kZXg6IHBsdWdpbi54bWwNCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9vdC9lY2xp
cHNlL29yZy5lY2xpcHNlLnBkZS9wbHVnaW4ueG1sLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS43
Mg0KZGlmZiAtdSAtcjEuNzIgcGx1Z2luLnhtbA0KLS0tIHBsdWdpbi54bWwJMzEgSnVsIDIwMDcg
MTg6MjI6MzggLTAwMDAJMS43Mg0KKysrIHBsdWdpbi54bWwJMTcgSmFuIDIwMDggMTg6MTY6MDYg
LTAwMDANCkBAIC0xODEsNiArMTgxLDIwIEBADQogICAgICAgICAgICAgPC9wYXJhbWV0ZXI+DQog
ICAgICAgICAgPC9kZXNjcmliZXI+DQogICAgICAgPC9jb250ZW50LXR5cGU+DQorICAgICAgPGNv
bnRlbnQtdHlwZQ0KKyAgICAgICAgICAgIGJhc2UtdHlwZT0ib3JnLmVjbGlwc2UuY29yZS5ydW50
aW1lLnhtbCINCisgICAgICAgICAgICBmaWxlLWV4dGVuc2lvbnM9InhtbCINCisgICAgICAgICAg
ICBpZD0iY3R4SGVscEZpbGUiDQorICAgICAgICAgICAgbmFtZT0iJWNvbnRleHRIZWxwIg0KKyAg
ICAgICAgICAgIHByaW9yaXR5PSJoaWdoIj4NCisgICAgICAgICA8ZGVzY3JpYmVyDQorICAgICAg
ICAgICAgICAgY2xhc3M9Im9yZy5lY2xpcHNlLmNvcmUucnVudGltZS5jb250ZW50LlhNTFJvb3RF
bGVtZW50Q29udGVudERlc2NyaWJlciI+DQorICAgICAgICAgICAgPHBhcmFtZXRlcg0KKyAgICAg
ICAgICAgICAgICAgIG5hbWU9ImVsZW1lbnQiDQorICAgICAgICAgICAgICAgICAgdmFsdWU9ImNv
bnRleHRzIj4NCisgICAgICAgICAgICA8L3BhcmFtZXRlcj4NCisgICAgICAgICA8L2Rlc2NyaWJl
cj4NCisgICAgICA8L2NvbnRlbnQtdHlwZT4NCiAgICAgPC9leHRlbnNpb24+DQogICAgDQogICAg
DQpJbmRleDogcGx1Z2luLnByb3BlcnRpZXMNCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9v
dC9lY2xpcHNlL29yZy5lY2xpcHNlLnBkZS9wbHVnaW4ucHJvcGVydGllcyx2DQpyZXRyaWV2aW5n
IHJldmlzaW9uIDEuMzUNCmRpZmYgLXUgLXIxLjM1IHBsdWdpbi5wcm9wZXJ0aWVzDQotLS0gcGx1
Z2luLnByb3BlcnRpZXMJMjMgTm92IDIwMDcgMjI6MzA6MjkgLTAwMDAJMS4zNQ0KKysrIHBsdWdp
bi5wcm9wZXJ0aWVzCTE3IEphbiAyMDA4IDE4OjE2OjA2IC0wMDAwDQpAQCAtMjMsNiArMjMsNyBA
QA0KIGJ1bmRsZU1hbmlmZXN0ID0gQnVuZGxlIE1hbmlmZXN0IEZpbGUNCiB0YXJnZXQucHJvZmls
ZS5jb250ZW50ID0gVGFyZ2V0IFByb2ZpbGUgRmlsZQ0KIHRhYmxlT2ZDb250ZW50cyA9IFRhYmxl
IG9mIENvbnRlbnRzIEZpbGUNCitjb250ZXh0SGVscCA9IENvbnRleHQgSGVscCBGaWxlDQogDQog
I0NoZWF0c2hlZXRzICANCiBjaGVhdHNoZWV0LmNhdGVnb3J5LnBkZSA9IFBsdWctaW4gRGV2ZWxv
cG1lbnQNCg==
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
            <attachid>87187</attachid>
            <date>2008-01-17 13:31:00 -0500</date>
            <delta_ts>2008-01-17 13:31:31 -0500</delta_ts>
            <desc>Icons</desc>
            <filename>icons.zip</filename>
            <type>application/x-zip-compressed</type>
            <size>1392</size>
            <attacher name="Curtis Windatt">cwindatt</attacher>
            
              <data encoding="base64">UEsDBBQACAAIAHdjMTgAAAAAAAAAAAAAAAA2AAAAb3JnLmVjbGlwc2UucGRlLnVpL2ljb25zL29i
ajE2L2N0eGhlbHBfY29tbWFuZF9vYmouZ2lmc/d0s7BMFGAQYHjGwMCb7MSf5iyQ5iyU4SKU4Sqc
4SaS6SZT6Cec4SKW7S6R4y6Z46FYFqhUHiRT4CWT6yFX5K1Y6q9UHqhSFaxcFqBU4q9SGaxRG6ZZ
G6ZdH6lTH6lbH6lWHaxeFaxWHmjQFBWyqjB0dWHIysLQVYWey1K9lqd5Lk2NWl8Stb40YnWR1/IU
v9UZcZvLfVak+q9MS95eGbguPXVTYsrGxIytyR0HWjK2JXYcaGrb19i+v6n7YGvOzqS+I639R9qn
nOws2Z1Ytidx+omOyv2JFfsSZ5zomHe2e9bJznlnehZf6Os4ntRzInHNxf51lyZsvDJxy7WJh+5O
P3B72v///xkGE1D8ycLIwBDAoAPigOKEgT23IaCpuaW1rb2js1VeWrKrWcrPX1iiX9zHy9tXSLZT
zMXZwdXNnUemndfazNzCxNLGVlSuVVBdUUlJQVlTQ0dfpIVdW1VNRUtXz4BPoJXb2MjI0NSKi7+d
zcnO3pGVs5PZ04OBpZ+DibH/5av2RgZrAFBLBwiiNpG/jQEAABACAABQSwMEFAAIAAgAd2MxOAAA
AAAAAAAAAAAAADYAAABvcmcuZWNsaXBzZS5wZGUudWkvaWNvbnMvb2JqMTYvY3R4aGVscF9jb250
ZXh0X29iai5naWZz93SzsEwUYBBguMrAcPXy2+MXX87fdHfPyaeFE89vOPCgf8GBigk7NAI6LTIW
3HjwktGhgTl0mX3+wpblp1ccuLHjxI0bL37oJkwMa1gxecsliYRZGStu7Dx69sSNBwcfvLx05/6D
Fy8//Pjx5P2b////P378GEgy0BIo/mRhZGBQYNABcUB+YmCb4TDhguFMjv4Ti5MdLCUme7YvK8hw
mNySyZyUoSDW0ca42zRER/bcsSBJbn5ZVwemABMVoaOthm35bJx8MsJCchUyYmEFwRxcMr5twjJc
3ArsUsHcfTJt7DIyglOn9zDPZxeaLyM5VUFYnolTbL6k5EresLXSIhJCrDLL57Ny5wlL8/HxCzXN
FzvsLix1XCiW+2qSh2scR/iduwqODNYAUEsHCMx8SuYqAQAAewEAAFBLAwQUAAgACAB3YzE4AAAA
AAAAAAAAAAAAMwAAAG9yZy5lY2xpcHNlLnBkZS51aS9pY29ucy9vYmoxNi9jdHhoZWxwX2Rlc2Nf
b2JqLmdpZnP3dLOwTBRgEGCYyMAwY9nJtvknVm8//f//f8WfLIwMDMwMOgxAAJJnYFKY079y9yMm
JY4pkV8WLHn4S4fxnkVDtKuZ/4mlq4R3fZojwmANAFBLBwglipc/UQAAAE8AAABQSwECFAAUAAgA
CAB3YzE4ojaRv40BAAAQAgAANgAAAAAAAAAAAAAAAAAAAAAAb3JnLmVjbGlwc2UucGRlLnVpL2lj
b25zL29iajE2L2N0eGhlbHBfY29tbWFuZF9vYmouZ2lmUEsBAhQAFAAIAAgAd2MxOMx8SuYqAQAA
ewEAADYAAAAAAAAAAAAAAAAA8QEAAG9yZy5lY2xpcHNlLnBkZS51aS9pY29ucy9vYmoxNi9jdHho
ZWxwX2NvbnRleHRfb2JqLmdpZlBLAQIUABQACAAIAHdjMTglipc/UQAAAE8AAAAzAAAAAAAAAAAA
AAAAAH8DAABvcmcuZWNsaXBzZS5wZGUudWkvaWNvbnMvb2JqMTYvY3R4aGVscF9kZXNjX29iai5n
aWZQSwUGAAAAAAMAAwApAQAAMQQAAAAA
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>87291</attachid>
            <date>2008-01-18 14:50:00 -0500</date>
            <delta_ts>2008-01-18 14:50:53 -0500</delta_ts>
            <desc>Patch for review</desc>
            <filename>215091ContextHelpEditor.patch</filename>
            <type>text/plain</type>
            <size>192919</size>
            <attacher name="Curtis Windatt">cwindatt</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UucGRlDQpJbmRl
eDogcGx1Z2luLnByb3BlcnRpZXMNCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9vdC9lY2xp
cHNlL29yZy5lY2xpcHNlLnBkZS9wbHVnaW4ucHJvcGVydGllcyx2DQpyZXRyaWV2aW5nIHJldmlz
aW9uIDEuMzUNCmRpZmYgLXUgLXIxLjM1IHBsdWdpbi5wcm9wZXJ0aWVzDQotLS0gcGx1Z2luLnBy
b3BlcnRpZXMJMjMgTm92IDIwMDcgMjI6MzA6MjkgLTAwMDAJMS4zNQ0KKysrIHBsdWdpbi5wcm9w
ZXJ0aWVzCTE4IEphbiAyMDA4IDE5OjQ2OjQxIC0wMDAwDQpAQCAtMjMsNiArMjMsNyBAQA0KIGJ1
bmRsZU1hbmlmZXN0ID0gQnVuZGxlIE1hbmlmZXN0IEZpbGUNCiB0YXJnZXQucHJvZmlsZS5jb250
ZW50ID0gVGFyZ2V0IFByb2ZpbGUgRmlsZQ0KIHRhYmxlT2ZDb250ZW50cyA9IFRhYmxlIG9mIENv
bnRlbnRzIEZpbGUNCitjb250ZXh0SGVscCA9IENvbnRleHQgSGVscCBGaWxlDQogDQogI0NoZWF0
c2hlZXRzICANCiBjaGVhdHNoZWV0LmNhdGVnb3J5LnBkZSA9IFBsdWctaW4gRGV2ZWxvcG1lbnQN
CkluZGV4OiBwbHVnaW4ueG1sDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBz
ZS9vcmcuZWNsaXBzZS5wZGUvcGx1Z2luLnhtbCx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuNzIN
CmRpZmYgLXUgLXIxLjcyIHBsdWdpbi54bWwNCi0tLSBwbHVnaW4ueG1sCTMxIEp1bCAyMDA3IDE4
OjIyOjM4IC0wMDAwCTEuNzINCisrKyBwbHVnaW4ueG1sCTE4IEphbiAyMDA4IDE5OjQ2OjQxIC0w
MDAwDQpAQCAtMTgxLDYgKzE4MSwyMCBAQA0KICAgICAgICAgICAgIDwvcGFyYW1ldGVyPg0KICAg
ICAgICAgIDwvZGVzY3JpYmVyPg0KICAgICAgIDwvY29udGVudC10eXBlPg0KKyAgICAgIDxjb250
ZW50LXR5cGUNCisgICAgICAgICAgICBiYXNlLXR5cGU9Im9yZy5lY2xpcHNlLmNvcmUucnVudGlt
ZS54bWwiDQorICAgICAgICAgICAgZmlsZS1leHRlbnNpb25zPSJ4bWwiDQorICAgICAgICAgICAg
aWQ9ImN0eEhlbHBGaWxlIg0KKyAgICAgICAgICAgIG5hbWU9IiVjb250ZXh0SGVscCINCisgICAg
ICAgICAgICBwcmlvcml0eT0iaGlnaCI+DQorICAgICAgICAgPGRlc2NyaWJlcg0KKyAgICAgICAg
ICAgICAgIGNsYXNzPSJvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuY29udGVudC5YTUxSb290RWxl
bWVudENvbnRlbnREZXNjcmliZXIiPg0KKyAgICAgICAgICAgIDxwYXJhbWV0ZXINCisgICAgICAg
ICAgICAgICAgICBuYW1lPSJlbGVtZW50Ig0KKyAgICAgICAgICAgICAgICAgIHZhbHVlPSJjb250
ZXh0cyI+DQorICAgICAgICAgICAgPC9wYXJhbWV0ZXI+DQorICAgICAgICAgPC9kZXNjcmliZXI+
DQorICAgICAgPC9jb250ZW50LXR5cGU+DQogICAgIDwvZXh0ZW5zaW9uPg0KICAgIA0KICAgIA0K
I1Agb3JnLmVjbGlwc2UucGRlLmNvcmUNCkluZGV4OiBNRVRBLUlORi9NQU5JRkVTVC5NRg0KPT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlwc2UucGRlLmNvcmUv
TUVUQS1JTkYvTUFOSUZFU1QuTUYsdg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjMwDQpkaWZmIC11
IC1yMS4zMCBNQU5JRkVTVC5NRg0KLS0tIE1FVEEtSU5GL01BTklGRVNULk1GCTEyIFNlcCAyMDA3
IDE0OjAzOjM4IC0wMDAwCTEuMzANCisrKyBNRVRBLUlORi9NQU5JRkVTVC5NRgkxOCBKYW4gMjAw
OCAxOTo0Njo0MiAtMDAwMA0KQEAgLTIyLDYgKzIyLDcgQEANCiAgb3JnLmVjbGlwc2UucGRlLmlu
dGVybmFsLmNvcmUuaWNoZWF0c2hlZXQ7eC1mcmllbmRzOj0ib3JnLmVjbGlwc2UucGRlLnVpIiwN
CiAgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUuaWNoZWF0c2hlZXQuY29tcDt4LWZyaWVu
ZHM6PSJvcmcuZWNsaXBzZS5wZGUudWkiLA0KICBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29y
ZS5pY2hlYXRzaGVldC5zaW1wbGU7eC1mcmllbmRzOj0ib3JnLmVjbGlwc2UucGRlLnVpIiwNCisg
b3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUuaWN0eGhlbHA7eC1mcmllbmRzOj0ib3JnLmVj
bGlwc2UucGRlLnVpIiwNCiAgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUuaWZlYXR1cmU7
eC1mcmllbmRzOj0ib3JnLmVjbGlwc2UucGRlLnVpIiwNCiAgb3JnLmVjbGlwc2UucGRlLmludGVy
bmFsLmNvcmUuaXByb2R1Y3Q7eC1mcmllbmRzOj0ib3JnLmVjbGlwc2UucGRlLnVpIiwNCiAgb3Jn
LmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUuaXNjaGVtYTt4LWZyaWVuZHM6PSJvcmcuZWNsaXBz
ZS5wZGUudWkiLA0KQEAgLTM5LDYgKzQwLDcgQEANCiAgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LmNvcmUudGV4dC5idWlsZDt4LWZyaWVuZHM6PSJvcmcuZWNsaXBzZS5wZGUudWkiLA0KICBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmJ1bmRsZTt4LWZyaWVuZHM6PSJvcmcuZWNs
aXBzZS5wZGUudWkiLA0KICBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmNoZWF0
c2hlZXQuc2ltcGxlO3gtZnJpZW5kczo9Im9yZy5lY2xpcHNlLnBkZS51aSIsDQorIG9yZy5lY2xp
cHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscDt4LWZyaWVuZHM6PSJvcmcuZWNsaXBz
ZS5wZGUudWkiLA0KICBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LnBsdWdpbjt4
LWZyaWVuZHM6PSJvcmcuZWNsaXBzZS5wZGUudWkiLA0KICBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwuY29yZS50ZXh0LnRvYzt4LWZyaWVuZHM6PSJvcmcuZWNsaXBzZS5wZGUudWkiLA0KICBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS51dGlsO3gtZnJpZW5kczo9Im9yZy5lY2xpcHNlLnBk
ZS51aSIsDQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL2l0b2MvSVRv
Y0NvbnN0YW50cy5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9v
cmcuZWNsaXBzZS5wZGUuY29yZS9zcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvaXRv
Yy9JVG9jQ29uc3RhbnRzLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjMNCmRpZmYgLXUg
LXIxLjMgSVRvY0NvbnN0YW50cy5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5h
bC9jb3JlL2l0b2MvSVRvY0NvbnN0YW50cy5qYXZhCTIgSmFuIDIwMDggMTU6NTY6MjQgLTAwMDAJ
MS4zDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL2l0b2MvSVRvY0NvbnN0
YW50cy5qYXZhCTE4IEphbiAyMDA4IDE5OjQ2OjQyIC0wMDAwDQpAQCAtMSw1ICsxLDUgQEANCiAv
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKg0KLSAqIENvcHlyaWdodCAoYykgMjAwNyBJQk0gQ29ycG9y
YXRpb24gYW5kIG90aGVycy4NCisgKiBDb3B5cmlnaHQgKGMpIDIwMDcsIDIwMDggSUJNIENvcnBv
cmF0aW9uIGFuZCBvdGhlcnMuDQogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFt
IGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1
bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KICAqIHdo
aWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQpA
QCAtMTQsNiArMTQsNyBAQA0KIC8qKg0KICAqIElUb2NDb25zdGFudHMNCiAgKiBUaGlzIGludGVy
ZmFjZSBjb250YWlucyBhbGwgb2YgdGhlIGNvbnN0YW50cyByZWxldmFudCB0byB0aGUgVE9DIGVk
aXRvcg0KKyAqIEBzaW5jZSAzLjQNCiAgKi8NCiBwdWJsaWMgaW50ZXJmYWNlIElUb2NDb25zdGFu
dHMgew0KIA0KQEAgLTMzLDEzICszNCwxMyBAQA0KIA0KIAlwdWJsaWMgc3RhdGljIGZpbmFsIFN0
cmluZyBBVFRSSUJVVEVfTEFCRUwgPSAibGFiZWwiOyAvLyROT04tTkxTLTEkCQkNCiANCi0JcHVi
bGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgQVRUUklCVVRFX1RPUElDID0gRUxFTUVOVF9UT1BJQzsg
Ly8kTk9OLU5MUy0xJA0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBBVFRSSUJVVEVfVE9Q
SUMgPSBFTEVNRU5UX1RPUElDOw0KIA0KIAlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBBVFRS
SUJVVEVfSFJFRiA9ICJocmVmIjsgLy8kTk9OLU5MUy0xJAkJDQogDQogCXB1YmxpYyBzdGF0aWMg
ZmluYWwgU3RyaW5nIEFUVFJJQlVURV9JRCA9ICJpZCI7IC8vJE5PTi1OTFMtMSQNCiANCi0JcHVi
bGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgQVRUUklCVVRFX1RPQyA9IEVMRU1FTlRfVE9DOyAvLyRO
T04tTkxTLTEkCQkNCisJcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgQVRUUklCVVRFX1RPQyA9
IEVMRU1FTlRfVE9DOw0KIA0KIAkvLyBUeXBlcw0KIA0KQEAgLTUxLDIyICs1Miw0IEBADQogDQog
CXB1YmxpYyBzdGF0aWMgZmluYWwgaW50IFRZUEVfTElOSyA9IDM7DQogDQotCS8vIEVuYWJsZW1l
bnQgRWxlbWVudHMNCi0NCi0JcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgRUxFTUVOVF9FTkFC
TEVNRU5UID0gImVuYWJsZW1lbnQiOyAvLyROT04tTkxTLTEkDQotDQotCXB1YmxpYyBzdGF0aWMg
ZmluYWwgU3RyaW5nIEVMRU1FTlRfVEVTVCA9ICJ0ZXN0IjsgLy8kTk9OLU5MUy0xJA0KLQ0KLQkv
LyBFbmFibGVtZW50IEF0dHJpYnV0ZXMNCi0NCi0JcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcg
QVRUUklCVVRFX1BST1BFUlRZID0gInByb3BlcnR5IjsgLy8kTk9OLU5MUy0xJAkJDQotDQotCXB1
YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEFUVFJJQlVURV9BUkdTID0gImFyZ3MiOyAvLyROT04t
TkxTLTEkDQotDQotCS8vIEVuYWJsZW1lbnQgVHlwZXMNCi0NCi0JcHVibGljIHN0YXRpYyBmaW5h
bCBpbnQgVFlQRV9FTkFCTEVNRU5UID0gNDsNCi0NCi0JcHVibGljIHN0YXRpYyBmaW5hbCBpbnQg
VFlQRV9URVNUID0gNTsNCi0NCiB9DQpJbmRleDogdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJu
YWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscFRvcGljLmphdmENCj09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBm
aWxlOiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhI
ZWxwVG9waWMuamF2YQ0KZGlmZiAtTiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3Jl
L3RleHQvY3R4aGVscC9DdHhIZWxwVG9waWMuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcw
IDAwOjAwOjAwIC0wMDAwDQorKysgdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90
ZXh0L2N0eGhlbHAvQ3R4SGVscFRvcGljLmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0K
QEAgLTAsMCArMSwxMDcgQEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdo
dCAoYykgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRzIHJl
c2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQorICog
YXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMg
TGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFu
ZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12
MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRpb24g
LSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
Ki8NCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscDsN
CisNCitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLklQYXRoOw0KK2ltcG9ydCBvcmcu
ZWNsaXBzZS5jb3JlLnJ1bnRpbWUuUGF0aDsNCisNCisvKioNCisgKiBSZXByZXNlbnRzIGEgdG9w
aWMgZW50cnkgaW4gY29udGV4dCBoZWxwLiAgVG9waWNzIGFyZSB1c2VkIHRvIG9wZW4gcmVsYXRl
ZA0KKyAqIGhlbHAgaW4gb3RoZXIgZmlsZXMuICBUb3BpY3MgYXJlIGxlYWYgb2JqZWN0cy4NCisg
KiANCisgKiBAc2luY2UgMy40DQorICogQHNlZSBDdHhIZWxwT2JqZWN0DQorICogQHNlZSBDdHhI
ZWxwTW9kZWwNCisgKiBAc2VlIEN0eEhlbHBEb2N1bWVudEZhY3RvcnkNCisgKi8NCitwdWJsaWMg
Y2xhc3MgQ3R4SGVscFRvcGljIGV4dGVuZHMgQ3R4SGVscE9iamVjdCB7DQorDQorCXByaXZhdGUg
c3RhdGljIGZpbmFsIGxvbmcgc2VyaWFsVmVyc2lvblVJRCA9IDFMOw0KKw0KKwlwdWJsaWMgQ3R4
SGVscFRvcGljKEN0eEhlbHBNb2RlbCBtb2RlbCkgew0KKwkJc3VwZXIobW9kZWwsIEVMRU1FTlRf
VE9QSUMpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBz
ZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LnRvYy5Ub2NPYmplY3QjY2FuQmVQYXJlbnQoKQ0KKwkg
Ki8NCisJcHVibGljIGJvb2xlYW4gY2FuQmVQYXJlbnQoKSB7DQorCQlyZXR1cm4gZmFsc2U7DQor
CX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC5jb3JlLnRvYy5Ub2NPYmplY3QjZ2V0VHlwZSgpDQorCSAqLw0KKwlwdWJsaWMgaW50IGdl
dFR5cGUoKSB7DQorCQlyZXR1cm4gVFlQRV9UT1BJQzsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFk
b2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudG9jLlRvY09iamVj
dCNnZXROYW1lKCkNCisJICovDQorCXB1YmxpYyBTdHJpbmcgZ2V0TmFtZSgpIHsNCisJCXJldHVy
biBnZXRMYWJlbCgpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuIHRoZSB2YWx1ZSBvZiB0
aGUgbGFiZWwgYXR0cmlidXRlIG9yIDxjb2RlPm51bGw8L2NvZGU+IGlmIHRoZSBhdHRyaWJ1dGUg
ZG9lcyBub3QgZXhpc3QNCisJICovDQorCXB1YmxpYyBTdHJpbmcgZ2V0TGFiZWwoKSB7DQorCQly
ZXR1cm4gZ2V0WE1MQXR0cmlidXRlVmFsdWUoQVRUUklCVVRFX0xBQkVMKTsNCisJfQ0KKw0KKwkv
KioNCisJICogU2V0IHRoZSBsYWJlbCBhdHRyaWJ1dGUsIHBhc3NpbmcgPGNvZGU+bnVsbDwvY29k
ZT4gd2lsbCBzZXQgdGhlDQorCSAqIGF0dHJpYnV0ZSB0byBiZSBlbXB0eS4NCisJICogQHBhcmFt
IGxhYmVsIG5ldyB2YWx1ZQ0KKwkgKi8NCisJcHVibGljIHZvaWQgc2V0TGFiZWwoU3RyaW5nIGxh
YmVsKSB7DQorCQlzZXRYTUxBdHRyaWJ1dGUoQVRUUklCVVRFX0xBQkVMLCBsYWJlbCk7DQorCX0N
CisNCisJLyoqDQorCSAqIEByZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBocmVmIGF0dHJpYnV0ZSBh
cyBhIHBhdGggb3IgPGNvZGU+bnVsbDwvY29kZT4NCisJICovDQorCXB1YmxpYyBJUGF0aCBnZXRM
b2NhdGlvbigpIHsNCisJCVN0cmluZyB2YWx1ZSA9IGdldFhNTEF0dHJpYnV0ZVZhbHVlKEFUVFJJ
QlVURV9IUkVGKTsNCisJCWlmICh2YWx1ZSAhPSBudWxsKSB7DQorCQkJcmV0dXJuIG5ldyBQYXRo
KHZhbHVlKTsNCisJCX0NCisJCXJldHVybiBudWxsOw0KKwl9DQorDQorCS8qKg0KKwkgKiBTZXQg
dGhlIGhyZWYgKGxpbmspIGF0dHJpYnV0ZSwgcGFzc2luZyA8Y29kZT5udWxsPC9jb2RlPiB3aWxs
IHNldCB0aGUNCisJICogYXR0cmlidXRlIHRvIGJlIGVtcHR5Lg0KKwkgKiBAcGFyYW0gcGF0aCBu
ZXcgdmFsdWUNCisJICovDQorCXB1YmxpYyB2b2lkIHNldExvY2F0aW9uKElQYXRoIHBhdGgpIHsN
CisJCWlmIChwYXRoID09IG51bGwpIHsNCisJCQlzZXRYTUxBdHRyaWJ1dGUoQVRUUklCVVRFX0hS
RUYsIG51bGwpOw0KKwkJfSBlbHNlIHsNCisJCQlzZXRYTUxBdHRyaWJ1dGUoQVRUUklCVVRFX0hS
RUYsIHBhdGgudG9Qb3J0YWJsZVN0cmluZygpKTsNCisJCX0NCisJfQ0KKw0KKwkvKiAobm9uLUph
dmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHho
ZWxwLkN0eEhlbHBPYmplY3QjY2FuQWRkQ2hpbGQob3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNv
cmUudGV4dC5jdHhoZWxwLkN0eEhlbHBPYmplY3QpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBj
YW5BZGRDaGlsZChpbnQgb2JqZWN0VHlwZSkgew0KKwkJcmV0dXJuIGZhbHNlOw0KKwl9DQorDQor
CS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29y
ZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE9iamVjdCNjYW5BZGRTaWJsaW5nKGludCkNCisJICovDQor
CXB1YmxpYyBib29sZWFuIGNhbkFkZFNpYmxpbmcoaW50IG9iamVjdFR5cGUpIHsNCisJCXJldHVy
biBvYmplY3RUeXBlID09IFRZUEVfQ09NTUFORCB8fCBvYmplY3RUeXBlID09IFRZUEVfVE9QSUM7
DQorCX0NCit9DQpJbmRleDogdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0
L2N0eGhlbHAvQ3R4SGVscE9iamVjdC5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogdGV4dC9v
cmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscE9iamVjdC5q
YXZhDQpkaWZmIC1OIHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHho
ZWxwL0N0eEhlbHBPYmplY3QuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAw
IC0wMDAwDQorKysgdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhl
bHAvQ3R4SGVscE9iamVjdC5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAg
KzEsMjAzIEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIw
MDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4g
VGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRl
IGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2Ug
djEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZh
aWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwN
CisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlh
bCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQorcGFj
a2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHA7DQorDQoraW1w
b3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOw0KK2ltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0Ow0K
K2ltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmNvcmUuSU1v
ZGVsOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS5pY3R4aGVscC5JQ3R4
SGVscENvbnN0YW50czsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4
dC5Eb2N1bWVudE9iamVjdDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUu
dGV4dC5JRG9jdW1lbnRFbGVtZW50Tm9kZTsNCisNCisvKioNCisgKiBBbGwgbW9kZWxlZCBvYmpl
Y3RzIG9mIGEgY29udGV4dCBoZWxwIHhtbCBmaWxlIG11c3QgZXh0ZW5kIGZyb20gdGhpcw0KKyAq
IGFic3RyYWN0IGNsYXNzLg0KKyAqIA0KKyAqIEBzaW5jZSAzLjQNCisgKiBAc2VlIEN0eEhlbHBN
b2RlbA0KKyAqIEBzZWUgQ3R4SGVscERvY3VtZW50RmFjdG9yeQ0KKyAqLw0KK3B1YmxpYyBhYnN0
cmFjdCBjbGFzcyBDdHhIZWxwT2JqZWN0IGV4dGVuZHMgRG9jdW1lbnRPYmplY3QgaW1wbGVtZW50
cyBJQ3R4SGVscENvbnN0YW50cywgU2VyaWFsaXphYmxlIHsNCisNCisJcHJpdmF0ZSBzdGF0aWMg
ZmluYWwgbG9uZyBzZXJpYWxWZXJzaW9uVUlEID0gMUw7DQorDQorCS8qKg0KKwkgKiBDb25zdHJ1
Y3RzIHRoZSBDdHhIZWxwT2JqZWN0IGFuZCBpbml0aWFsaXplcyBpdHMgYXR0cmlidXRlcy4NCisJ
ICogDQorCSAqIEBwYXJhbSBtb2RlbCBUaGUgbW9kZWwgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyBD
dHhIZWxwT2JqZWN0DQorCSAqIEBwYXJhbSB0YWdOYW1lIFRoZSB4bWwgdGFnIG5hbWUgZm9yIHRo
aXMgb2JqZWN0DQorCSAqLw0KKwlwdWJsaWMgQ3R4SGVscE9iamVjdChDdHhIZWxwTW9kZWwgbW9k
ZWwsIFN0cmluZyB0YWdOYW1lKSB7DQorCQlzdXBlcihtb2RlbCwgdGFnTmFtZSk7DQorCX0NCisN
CisJLyoqDQorCSAqIEByZXR1cm4gdGhlIGNoaWxkcmVuIG9mIHRoZSBvYmplY3Qgb3IgYW4gZW1w
dHkgTGlzdCBpZiBub25lIGV4aXN0Lg0KKwkgKi8NCisJcHVibGljIExpc3QgZ2V0Q2hpbGRyZW4o
KSB7DQorCQkvL0NyZWF0ZSBhIGNvcHkgb2YgdGhlIGNoaWxkIGxpc3QgaW5zdGVhZCBvZiANCisJ
CS8vcmV0dXJuaW5nIHRoZSBsaXN0IGl0c2VsZi4gVGhhdCB3YXksIG91ciBsaXN0DQorCQkvL29m
IGNoaWxkcmVuIGNhbm5vdCBiZSBhbHRlcmVkIGZyb20gb3V0c2lkZQ0KKwkJQXJyYXlMaXN0IGxp
c3QgPSBuZXcgQXJyYXlMaXN0KCk7DQorDQorCQkvLyBBZGQgY2hpbGRyZW4gb2YgdGhpcyB0b3Bp
Yw0KKwkJSURvY3VtZW50RWxlbWVudE5vZGVbXSBjaGlsZE5vZGVzID0gZ2V0Q2hpbGROb2Rlcygp
Ow0KKwkJaWYgKGNoaWxkTm9kZXMubGVuZ3RoID4gMCkgew0KKwkJCWZvciAoaW50IGkgPSAwOyBp
IDwgY2hpbGROb2Rlcy5sZW5ndGg7ICsraSkgew0KKwkJCQlpZiAoY2hpbGROb2Rlc1tpXSBpbnN0
YW5jZW9mIEN0eEhlbHBPYmplY3QpIHsNCisJCQkJCWxpc3QuYWRkKGNoaWxkTm9kZXNbaV0pOw0K
KwkJCQl9DQorCQkJfQ0KKwkJfQ0KKw0KKwkJcmV0dXJuIGxpc3Q7DQorCX0NCisNCisJLyogKG5v
bi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQu
RG9jdW1lbnRFbGVtZW50Tm9kZSNnZXRBdHRyaWJ1dGVJbmRlbnQoKQ0KKwkgKi8NCisJcHJvdGVj
dGVkIFN0cmluZyBnZXRBdHRyaWJ1dGVJbmRlbnQoKSB7DQorCQlyZXR1cm4gIiAiOyAvLyROT04t
TkxTLTEkDQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNl
LnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuRG9jdW1lbnRFbGVtZW50Tm9kZSNpc0xlYWZOb2RlKCkN
CisJICovDQorCXB1YmxpYyBib29sZWFuIGlzTGVhZk5vZGUoKSB7DQorCQlyZXR1cm4gIWNhbkJl
UGFyZW50KCk7DQorCX0NCisNCisJLyoqDQorCSAqIEByZXR1cm4gdHJ1ZSBpZmYgdGhpcyBvYmpl
Y3QgaXMgY2FwYWJsZSBvZiBjb250YWluaW5nIGNoaWxkcmVuLg0KKwkgKi8NCisJcHVibGljIGFi
c3RyYWN0IGJvb2xlYW4gY2FuQmVQYXJlbnQoKTsNCisNCisJcHVibGljIGFic3RyYWN0IGJvb2xl
YW4gY2FuQWRkQ2hpbGQoaW50IG9iamVjdFR5cGUpOw0KKw0KKwlwdWJsaWMgYWJzdHJhY3QgYm9v
bGVhbiBjYW5BZGRTaWJsaW5nKGludCBvYmplY3RUeXBlKTsNCisNCisJLy8JcHVibGljIGFic3Ry
YWN0IGJvb2xlYW4gY2FuQWRkU2libGluZyhpbnQgb2JqZWN0VHlwZSk7DQorDQorCXB1YmxpYyB2
b2lkIGFkZENoaWxkKEN0eEhlbHBPYmplY3QgbmV3T2JqZWN0LCBDdHhIZWxwT2JqZWN0IHRhcmdl
dFNpYmxpbmcsIGJvb2xlYW4gaW5zZXJ0QmVmb3JlKSB7DQorCQlpZiAoY2FuQWRkQ2hpbGQobmV3
T2JqZWN0LmdldFR5cGUoKSkpIHsNCisJCQlpbnQgY3VycmVudEluZGV4ID0gaW5kZXhPZih0YXJn
ZXRTaWJsaW5nKTsNCisJCQlpZiAoIWluc2VydEJlZm9yZSkgew0KKwkJCQljdXJyZW50SW5kZXgr
KzsNCisJCQl9DQorCQkJYWRkQ2hpbGROb2RlKG5ld09iamVjdCwgY3VycmVudEluZGV4LCB0cnVl
KTsNCisJCX0NCisJfQ0KKw0KKwlwdWJsaWMgdm9pZCBhZGRDaGlsZChDdHhIZWxwT2JqZWN0IG5l
d09iamVjdCkgew0KKwkJaWYgKGNhbkFkZENoaWxkKG5ld09iamVjdC5nZXRUeXBlKCkpKSB7DQor
CQkJYWRkQ2hpbGROb2RlKG5ld09iamVjdCwgdHJ1ZSk7DQorCQl9DQorCX0NCisNCisJLyoqDQor
CSAqIEByZXR1cm4gdGhlIHJvb3QgbW9kZWwgb2JqZWN0IHRoYXQgaXMgYW4gYW5jZXN0b3IgdG8g
dGhpcyBvYmplY3QuDQorCSAqLw0KKwlwdWJsaWMgQ3R4SGVscE1vZGVsIGdldE1vZGVsKCkgew0K
KwkJZmluYWwgSU1vZGVsIHNoYXJlZE1vZGVsID0gZ2V0U2hhcmVkTW9kZWwoKTsNCisJCWlmIChz
aGFyZWRNb2RlbCBpbnN0YW5jZW9mIEN0eEhlbHBNb2RlbCkgew0KKwkJCXJldHVybiAoQ3R4SGVs
cE1vZGVsKSBzaGFyZWRNb2RlbDsNCisJCX0NCisJCXJldHVybiBudWxsOw0KKwl9DQorDQorCS8q
Kg0KKwkgKiBAcmV0dXJuIHRoZSByb290IGVsZW1lbnQgdGhhdCBpcyBhbiBhbmNlc3RvciB0byB0
aGlzIG9iamVjdC4NCisJICovDQorCXB1YmxpYyBDdHhIZWxwUm9vdCBnZXRSb290KCkgew0KKwkJ
ZmluYWwgQ3R4SGVscE1vZGVsIG1vZGVsID0gZ2V0TW9kZWwoKTsNCisJCWlmIChtb2RlbCAhPSBu
dWxsKSB7DQorCQkJcmV0dXJuIG1vZGVsLmdldEN0eEhlbHBSb290KCk7DQorCQl9DQorCQlyZXR1
cm4gbnVsbDsNCisJfQ0KKw0KKwkvKioNCisJICogQHJldHVybiB0aGUgaWRlbnRpZmllciBmb3Ig
dGhpcyBvYmplY3QgdG8gYmUgdXNlZCB3aGVuIGRpc3BsYXlpbmcgdGhlIGVsZW1lbnQgdG8gdGhl
IHVzZXINCisJICovDQorCXB1YmxpYyBhYnN0cmFjdCBTdHJpbmcgZ2V0TmFtZSgpOw0KKw0KKwkv
KioNCisJICogR2V0IHRoZSBjb25jcmV0ZSB0eXBlIG9mIHRoaXMgb2JqZWN0LCBtdXN0IGJlIG9u
ZSBvZiB0aGUgVFlQRSBjb25zdGFudHMgZGVmaW5lZCBpbiBJQ3R4SGVscENvbnN0YW50cy4NCisJ
ICogQHNlZSBJQ3R4SGVscENvbnN0YW50cw0KKwkgKi8NCisJcHVibGljIGFic3RyYWN0IGludCBn
ZXRUeXBlKCk7DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuIHRoZSBwYXJlbnQgb2YgdGhpcyBvYmpl
Y3QsIG9yIDxjb2RlPm51bGw8L2NvZGU+IGlmIHRoZXJlIGlzIG5vIHBhcmVudC4NCisJICovDQor
CXB1YmxpYyBDdHhIZWxwT2JqZWN0IGdldFBhcmVudCgpIHsNCisJCUlEb2N1bWVudEVsZW1lbnRO
b2RlIHBhcmVudCA9IGdldFBhcmVudE5vZGUoKTsNCisJCXJldHVybiBwYXJlbnQgaW5zdGFuY2Vv
ZiBDdHhIZWxwT2JqZWN0ID8gKEN0eEhlbHBPYmplY3QpIHBhcmVudCA6IG51bGw7DQorCX0NCisN
CisJLyoqDQorCSAqIENoZWNrIGlmIHRoZSBvYmplY3QgaXMgYSBkaXJlY3Qgb3IgaW5kaXJlY3Qg
ZGVzY2VuZGFudA0KKwkgKiBvZiB0aGUgb2JqZWN0IHBhcmFtZXRlci4NCisJICogDQorCSAqIEBw
YXJhbSBvYmogVGhlIG9iamVjdCB0byBmaW5kIGluIHRoaXMgb2JqZWN0J3MgYW5jZXN0cnkNCisJ
ICogQHJldHVybiB0cnVlIGlmZiBvYmogaXMgYW4gYW5jZXN0b3Igb2YgdGhpcyBvYmplY3QNCisJ
ICovDQorCXB1YmxpYyBib29sZWFuIGRlc2NlbmRzRnJvbShDdHhIZWxwT2JqZWN0IG9iaikgew0K
KwkJaWYgKHRoaXMuZXF1YWxzKG9iaikpIHsNCisJCQlyZXR1cm4gdHJ1ZTsNCisJCX0NCisJCWlm
IChnZXRQYXJlbnQoKSAhPSBudWxsICYmIG9iai5jYW5CZVBhcmVudCgpKSB7DQorCQkJcmV0dXJu
IGdldFBhcmVudCgpLmRlc2NlbmRzRnJvbShvYmopOw0KKwkJfQ0KKwkJcmV0dXJuIGZhbHNlOw0K
Kwl9DQorDQorCS8qKg0KKwkgKiBAcGFyYW0gY3R4SGVscE9iamVjdCB0aGUgY2hpbGQgdXNlZCB0
byBsb2NhdGUgYSBzaWJsaW5nDQorCSAqIEByZXR1cm4gdGhlIG9iamVjdCBwcmVjZWRpbmcgdGhl
IHNwZWNpZmllZCBvbmUgaW4gdGhlIGxpc3Qgb2YgY2hpbGRyZW4NCisJICovDQorCXB1YmxpYyBD
dHhIZWxwT2JqZWN0IGdldFByZXZpb3VzU2libGluZyhDdHhIZWxwT2JqZWN0IGN0eEhlbHBPYmpl
Y3QpIHsNCisJCXJldHVybiAoQ3R4SGVscE9iamVjdCkgZ2V0UHJldmlvdXNTaWJsaW5nKGN0eEhl
bHBPYmplY3QsIEN0eEhlbHBPYmplY3QuY2xhc3MpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBAcGFy
YW0gY3R4SGVscE9iamVjdCB0aGUgY2hpbGQgdXNlZCB0byBsb2NhdGUgYSBzaWJsaW5nDQorCSAq
IEByZXR1cm4gdGhlIG9iamVjdCBwcm9jZWVkaW5nIHRoZSBzcGVjaWZpZWQgb25lIGluIHRoZSBs
aXN0IG9mIGNoaWxkcmVuDQorCSAqLw0KKwlwdWJsaWMgQ3R4SGVscE9iamVjdCBnZXROZXh0U2li
bGluZyhDdHhIZWxwT2JqZWN0IGN0eEhlbHBPYmplY3QpIHsNCisJCXJldHVybiAoQ3R4SGVscE9i
amVjdCkgZ2V0TmV4dFNpYmxpbmcoY3R4SGVscE9iamVjdCwgQ3R4SGVscE9iamVjdC5jbGFzcyk7
DQorCX0NCisNCisJLyoqDQorCSAqIEByZXR1cm4gdHJ1ZSBpZmYgYSB0aGlzIG9iamVjdCBjYW4g
YmUgcmVtb3ZlZA0KKwkgKi8NCisJcHVibGljIGJvb2xlYW4gY2FuQmVSZW1vdmVkKCkgew0KKwkJ
aWYgKGdldFR5cGUoKSA9PSBUWVBFX1JPT1QpIHsgLy9TZW1hbnRpYyBSdWxlOiBUaGUgcm9vdCBl
bGVtZW50IGNhbiBuZXZlciBiZSByZW1vdmVkDQorCQkJcmV0dXJuIGZhbHNlOw0KKwkJfQ0KKwkJ
cmV0dXJuIHRydWU7DQorCX0NCisNCisJcHVibGljIHZvaWQgcmVtb3ZlQ2hpbGQoQ3R4SGVscE9i
amVjdCBvYmplY3QpIHsNCisJCWlmIChvYmplY3QuY2FuQmVSZW1vdmVkKCkpIHsNCisJCQlyZW1v
dmVDaGlsZE5vZGUob2JqZWN0LCB0cnVlKTsNCisJCX0NCisJfQ0KKw0KKwkvKiAobm9uLUphdmFk
b2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudG9jLlRvY09iamVj
dCNtb3ZlQ2hpbGQob3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudG9jLlRvY09iamVjdCwg
aW50KQ0KKwkgKi8NCisJcHVibGljIHZvaWQgbW92ZUNoaWxkKEN0eEhlbHBPYmplY3Qgb2JqZWN0
LCBpbnQgbmV3UmVsYXRpdmVJbmRleCkgew0KKwkJbW92ZUNoaWxkTm9kZShvYmplY3QsIG5ld1Jl
bGF0aXZlSW5kZXgsIHRydWUpOw0KKwl9DQorDQorfQ0KSW5kZXg6IHRleHQvb3JnL2VjbGlwc2Uv
cGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBEb2N1bWVudEhhbmRsZXIuamF2
YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2Nv
cmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBEb2N1bWVudEhhbmRsZXIuamF2YQ0KZGlmZiAtTiB0ZXh0
L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhIZWxwRG9jdW1l
bnRIYW5kbGVyLmphdmENCi0tLSAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0K
KysrIHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhl
bHBEb2N1bWVudEhhbmRsZXIuamF2YQkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCww
ICsxLDQ3IEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIw
MDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4g
VGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRl
IGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2Ug
djEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZh
aWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwN
CisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlh
bCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQorcGFj
a2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHA7DQorDQoraW1w
b3J0IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQuSURvY3VtZW50Ow0KK2ltcG9ydCBvcmcuZWNsaXBz
ZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LklEb2N1bWVudEVsZW1lbnROb2RlOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0Lk5vZGVEb2N1bWVudEhhbmRsZXI7DQor
DQorLyoqDQorICogRG9jdW1lbnQgaGFuZGxlciBmb3IgY29udGV4dCBoZWxwIHhtbCBmaWxlcy4N
CisgKiANCisgKiBAc2luY2UgMy40DQorICogQHNlZSBDdHhIZWxwT2JqZWN0DQorICogQHNlZSBD
dHhIZWxwTW9kZWwNCisgKiBAc2VlIEN0eEhlbHBEb2N1bWVudEZhY3RvcnkNCisgKi8NCitwdWJs
aWMgY2xhc3MgQ3R4SGVscERvY3VtZW50SGFuZGxlciBleHRlbmRzIE5vZGVEb2N1bWVudEhhbmRs
ZXIgew0KKw0KKwlwcml2YXRlIEN0eEhlbHBNb2RlbCBmTW9kZWw7DQorDQorCXB1YmxpYyBDdHhI
ZWxwRG9jdW1lbnRIYW5kbGVyKEN0eEhlbHBNb2RlbCBtb2RlbCwgYm9vbGVhbiByZWNvbmNpbGlu
Zykgew0KKwkJc3VwZXIocmVjb25jaWxpbmcsIG1vZGVsLmdldEZhY3RvcnkoKSk7DQorCQlmTW9k
ZWwgPSBtb2RlbDsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVj
bGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5Eb2N1bWVudEhhbmRsZXIjZ2V0RG9jdW1lbnQo
KQ0KKwkgKi8NCisJcHJvdGVjdGVkIElEb2N1bWVudCBnZXREb2N1bWVudCgpIHsNCisJCXJldHVy
biBmTW9kZWwuZ2V0RG9jdW1lbnQoKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAq
IEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5Ob2RlRG9jdW1lbnRIYW5k
bGVyI2dldFJvb3ROb2RlKCkNCisJICovDQorCXByb3RlY3RlZCBJRG9jdW1lbnRFbGVtZW50Tm9k
ZSBnZXRSb290Tm9kZSgpIHsNCisJCXJldHVybiAoSURvY3VtZW50RWxlbWVudE5vZGUpIGZNb2Rl
bC5nZXRSb290KCk7DQorCX0NCit9DQpJbmRleDogdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJu
YWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscERlc2NyaXB0aW9uLmphdmENCj09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0N
ClJDUyBmaWxlOiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVs
cC9DdHhIZWxwRGVzY3JpcHRpb24uamF2YQ0KZGlmZiAtTiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9p
bnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhIZWxwRGVzY3JpcHRpb24uamF2YQ0KLS0tIC9k
ZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgdGV4dC9vcmcvZWNsaXBzZS9w
ZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscERlc2NyaXB0aW9uLmphdmEJMSBK
YW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAgLTAsMCArMSw4MiBAQA0KKy8qKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqDQorICogQ29weXJpZ2h0IChjKSAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3Ro
ZXJzLg0KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29t
cGFueWluZyBtYXRlcmlhbHMNCisgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1z
IG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBhbmll
cyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cu
ZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQorICoNCisgKiBDb250cmlidXRvcnM6DQor
ICogICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0K
KyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqLw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVy
bmFsLmNvcmUudGV4dC5jdHhoZWxwOw0KKw0KKy8qKg0KKyAqIFJlcHJlc2VudHMgYSBkZXNjcmlw
dGlvbiBlbnRyeSBpbiBjb250ZXh0IGhlbHAuICBUaGVyZSBtYXkgYmUgb25lIGRlc2NyaXB0aW9u
DQorICogZWxlbWVudCBmb3IgZWFjaCBjb250ZXh0LiAgQSBkZXNjcmlwdGlvbiBlbGVtZW50IHdp
bGwgY29udGFpbiBhIENEQVRBIHN0cmluZw0KKyAqIGV4cGxhaW5pbmcgdGhlIGNvbnRleHQgdGhh
dCB0aGUgdXNlciB3aWxsIHNlZSBpbiBkeW5hbWljIGhlbHAuICBEZXNjcmlwdGlvbnMNCisgKiBh
cmUgbGVhZiBvYmplY3RzLg0KKyAqIA0KKyAqIEBzaW5jZSAzLjQNCisgKiBAc2VlIEN0eEhlbHBP
YmplY3QNCisgKiBAc2VlIEN0eEhlbHBNb2RlbA0KKyAqIEBzZWUgQ3R4SGVscERvY3VtZW50RmFj
dG9yeQ0KKyAqLw0KK3B1YmxpYyBjbGFzcyBDdHhIZWxwRGVzY3JpcHRpb24gZXh0ZW5kcyBDdHhI
ZWxwT2JqZWN0IHsNCisNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgbG9uZyBzZXJpYWxWZXJzaW9u
VUlEID0gMUw7DQorDQorCXB1YmxpYyBDdHhIZWxwRGVzY3JpcHRpb24oQ3R4SGVscE1vZGVsIG1v
ZGVsKSB7DQorCQlzdXBlcihtb2RlbCwgRUxFTUVOVF9ERVNDUklQVElPTik7DQorCX0NCisNCisJ
LyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3Jl
LnRleHQudG9jLlRvY09iamVjdCNjYW5CZVBhcmVudCgpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVh
biBjYW5CZVBhcmVudCgpIHsNCisJCXJldHVybiBmYWxzZTsNCisJfQ0KKw0KKwkvKiAobm9uLUph
dmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudG9jLlRvY09i
amVjdCNnZXRUeXBlKCkNCisJICovDQorCXB1YmxpYyBpbnQgZ2V0VHlwZSgpIHsNCisJCXJldHVy
biBUWVBFX0RFU0NSSVBUSU9OOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNl
ZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50b2MuVG9jT2JqZWN0I2dldE5hbWUoKQ0K
KwkgKi8NCisJcHVibGljIFN0cmluZyBnZXROYW1lKCkgew0KKwkJcmV0dXJuIGdldERlc2NyaXB0
aW9uKCk7DQorCX0NCisNCisJLyoqDQorCSAqIEByZXR1cm4gdGhlIFhNTCBjb250ZW50IG9mIHRo
aXMgZWxlbWVudCBjb250YWluaW5nIHRoZSBkZXNjcmlwdGlvbiBvciA8Y29kZT5udWxsPC9jb2Rl
Pg0KKwkgKi8NCisJcHVibGljIFN0cmluZyBnZXREZXNjcmlwdGlvbigpIHsNCisJCXJldHVybiBn
ZXRYTUxDb250ZW50KCk7DQorCX0NCisNCisJLyoqDQorCSAqIFNldHMgdGhlIFhNTCBjb250ZW50
IG9mIHRoaXMgZWxlbWVudCB0byB0aGUgZ2l2ZW4gZGVzY3JpcHRpb24gc3RyaW5nLg0KKwkgKiBQ
YXNzaW5nIDxjb2RlPm51bGw8L2NvZGU+IHdpbGwgc2V0IHRoZSBjb250ZW50IHRvIGJlIGVtcHR5
Lg0KKwkgKiBAcGFyYW0gZGVzY3JpcHRpb24gbmV3IGNvbnRlbnQNCisJICovDQorCXB1YmxpYyB2
b2lkIHNldERlc2NyaXB0aW9uKFN0cmluZyBkZXNjcmlwdGlvbikgew0KKwkJc2V0WE1MQ29udGVu
dChkZXNjcmlwdGlvbik7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwT2JqZWN0I2Nh
bkFkZENoaWxkKG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhI
ZWxwT2JqZWN0KQ0KKwkgKi8NCisJcHVibGljIGJvb2xlYW4gY2FuQWRkQ2hpbGQoaW50IG9iamVj
dFR5cGUpIHsNCisJCXJldHVybiBmYWxzZTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQor
CSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhl
bHBPYmplY3QjY2FuQWRkU2libGluZyhpbnQpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBjYW5B
ZGRTaWJsaW5nKGludCBvYmplY3RUeXBlKSB7DQorCQlyZXR1cm4gb2JqZWN0VHlwZSA9PSBUWVBF
X0NPTU1BTkQgfHwgb2JqZWN0VHlwZSA9PSBUWVBFX1RPUElDOw0KKwl9DQorfQ0KSW5kZXg6IHRl
eHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBDb21t
YW5kLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRl
cm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhIZWxwQ29tbWFuZC5qYXZhDQpkaWZmIC1OIHRleHQv
b3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBDb21tYW5k
LmphdmENCi0tLSAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KKysrIHRleHQv
b3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBDb21tYW5k
LmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAgLTAsMCArMSw5NiBAQA0KKy8qKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqDQorICogQ29weXJpZ2h0IChjKSAyMDA4IElCTSBDb3Jwb3JhdGlv
biBhbmQgb3RoZXJzLg0KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQg
dGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCisgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIg
dGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCisgKiB3aGljaCBh
Y2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0
dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQorICoNCisgKiBDb250cmli
dXRvcnM6DQorICogICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1l
bnRhdGlvbg0KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwOw0KKw0KKy8qKg0KKyAqIFJlcHJlc2VudHMg
YSBjb21tYW5kIGVudHJ5IGluIGNvbnRleHQgaGVscC4gIENvbW1hbmRzIGFyZSB1c2VkIHRvIGxh
dW5jaA0KKyAqIGFjdGlvbnMgd2hlbiBjbGlja2VkIG9uIGJ5IHRoZSB1c2VyLiAgQ29tbWFuZHMg
YXJlIGxlYWYgb2JqZWN0cy4NCisgKiANCisgKiBAc2luY2UgMy40DQorICogQHNlZSBDdHhIZWxw
T2JqZWN0DQorICogQHNlZSBDdHhIZWxwTW9kZWwNCisgKiBAc2VlIEN0eEhlbHBEb2N1bWVudEZh
Y3RvcnkNCisgKi8NCitwdWJsaWMgY2xhc3MgQ3R4SGVscENvbW1hbmQgZXh0ZW5kcyBDdHhIZWxw
T2JqZWN0IHsNCisNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgbG9uZyBzZXJpYWxWZXJzaW9uVUlE
ID0gMUw7DQorDQorCXB1YmxpYyBDdHhIZWxwQ29tbWFuZChDdHhIZWxwTW9kZWwgbW9kZWwpIHsN
CisJCXN1cGVyKG1vZGVsLCBFTEVNRU5UX0NPTU1BTkQpOw0KKwl9DQorDQorCS8qIChub24tSmF2
YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LnRvYy5U
b2NPYmplY3QjY2FuQmVQYXJlbnQoKQ0KKwkgKi8NCisJcHVibGljIGJvb2xlYW4gY2FuQmVQYXJl
bnQoKSB7DQorCQlyZXR1cm4gZmFsc2U7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkg
KiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRvYy5Ub2NPYmplY3QjZ2V0VHlw
ZSgpDQorCSAqLw0KKwlwdWJsaWMgaW50IGdldFR5cGUoKSB7DQorCQlyZXR1cm4gVFlQRV9DT01N
QU5EOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5w
ZGUuaW50ZXJuYWwuY29yZS50b2MuVG9jT2JqZWN0I2dldE5hbWUoKQ0KKwkgKi8NCisJcHVibGlj
IFN0cmluZyBnZXROYW1lKCkgew0KKwkJcmV0dXJuIGdldExhYmVsKCk7DQorCX0NCisNCisJLyoq
DQorCSAqIEByZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBsYWJlbCBhdHRyaWJ1dGUgb3IgPGNvZGU+
bnVsbDwvY29kZT4gaWYgdGhlIGF0dHJpYnV0ZSBkb2VzIG5vdCBleGlzdA0KKwkgKi8NCisJcHVi
bGljIFN0cmluZyBnZXRMYWJlbCgpIHsNCisJCXJldHVybiBnZXRYTUxBdHRyaWJ1dGVWYWx1ZShB
VFRSSUJVVEVfTEFCRUwpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBTZXQgdGhlIGxhYmVsIGF0dHJp
YnV0ZSwgcGFzc2luZyA8Y29kZT5udWxsPC9jb2RlPiB3aWxsIHNldCB0aGUNCisJICogYXR0cmli
dXRlIHRvIGJlIGVtcHR5Lg0KKwkgKiBAcGFyYW0gbGFiZWwgbmV3IHZhbHVlDQorCSAqLw0KKwlw
dWJsaWMgdm9pZCBzZXRMYWJlbChTdHJpbmcgbGFiZWwpIHsNCisJCXNldFhNTEF0dHJpYnV0ZShB
VFRSSUJVVEVfTEFCRUwsIGxhYmVsKTsNCisJfQ0KKw0KKwkvKioNCisJICogQHJldHVybiB0aGUg
dmFsdWUgb2YgdGhlIHNlcmlhbGl6YXRpb24gYXR0cmlidXRlIG9yIDxjb2RlPm51bGw8L2NvZGU+
IGlmIHRoZSBhdHRyaWJ1dGUgZG9lcyBub3QgZXhpc3QNCisJICovDQorCXB1YmxpYyBTdHJpbmcg
Z2V0U2VyaWFsaXphdGlvbigpIHsNCisJCXJldHVybiBnZXRYTUxBdHRyaWJ1dGVWYWx1ZShBVFRS
SUJVVEVfU0VSSUFMKTsNCisJfQ0KKw0KKwkvKioNCisJICogU2V0IHRoZSBzZXJpYWxpemF0aW9u
IGF0dHJpYnV0ZSwgcGFzc2luZyA8Y29kZT5udWxsPC9jb2RlPiB3aWxsIHNldCB0aGUNCisJICog
YXR0cmlidXRlIHRvIGJlIGVtcHR5Lg0KKwkgKiBAcGFyYW0gc2VyaWFsaXphdGlvbiBuZXcgdmFs
dWUNCisJICovDQorCXB1YmxpYyB2b2lkIHNldFNlcmlhbGl6YXRpb24oU3RyaW5nIHNlcmlhbGl6
YXRpb24pIHsNCisJCXNldFhNTEF0dHJpYnV0ZShBVFRSSUJVVEVfSFJFRiwgc2VyaWFsaXphdGlv
bik7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwT2JqZWN0I2NhbkFkZENoaWxkKG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwT2JqZWN0KQ0K
KwkgKi8NCisJcHVibGljIGJvb2xlYW4gY2FuQWRkQ2hpbGQoaW50IG9iamVjdFR5cGUpIHsNCisJ
CXJldHVybiBmYWxzZTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3Jn
LmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBPYmplY3QjY2Fu
QWRkU2libGluZyhpbnQpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBjYW5BZGRTaWJsaW5nKGlu
dCBvYmplY3RUeXBlKSB7DQorCQlyZXR1cm4gb2JqZWN0VHlwZSA9PSBUWVBFX0NPTU1BTkQgfHwg
b2JqZWN0VHlwZSA9PSBUWVBFX1RPUElDOw0KKwl9DQorfQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBz
ZS9wZGUvaW50ZXJuYWwvY29yZS9pY3R4aGVscC9JQ3R4SGVscENvbnN0YW50cy5qYXZhDQo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09DQpSQ1MgZmlsZTogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL2ljdHho
ZWxwL0lDdHhIZWxwQ29uc3RhbnRzLmphdmENCmRpZmYgLU4gc3JjL29yZy9lY2xpcHNlL3BkZS9p
bnRlcm5hbC9jb3JlL2ljdHhoZWxwL0lDdHhIZWxwQ29uc3RhbnRzLmphdmENCi0tLSAvZGV2L251
bGwJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50
ZXJuYWwvY29yZS9pY3R4aGVscC9JQ3R4SGVscENvbnN0YW50cy5qYXZhCTEgSmFuIDE5NzAgMDA6
MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsNTggQEANCisvKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0K
KyAqIENvcHlyaWdodCAoYykgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBB
bGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0
ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNs
aXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0
cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3Jn
L2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0g
Q29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKi8NCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLmlj
dHhoZWxwOw0KKw0KKy8qKg0KKyAqIEludGVyZmFjZSBjb250YWluaW5nIGNvbnN0YW50cyB1c2Vk
IGZvciB0aGUgY29udGV4dCBoZWxwIGVkaXRvci4NCisgKiANCisgKiBAc2luY2UgMy40DQorICov
DQorcHVibGljIGludGVyZmFjZSBJQ3R4SGVscENvbnN0YW50cyB7DQorDQorCS8vIEVsZW1lbnRz
DQorDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEVMRU1FTlRfUk9PVCA9ICJjb250ZXh0
cyI7IC8vJE5PTi1OTFMtMSQNCisNCisJcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgRUxFTUVO
VF9DT05URVhUID0gImNvbnRleHQiOyAvLyROT04tTkxTLTEkDQorDQorCXB1YmxpYyBzdGF0aWMg
ZmluYWwgU3RyaW5nIEVMRU1FTlRfREVTQ1JJUFRJT04gPSAiZGVzY3JpcHRpb24iOyAvLyROT04t
TkxTLTEkDQorDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEVMRU1FTlRfVE9QSUMgPSAi
dG9waWMiOyAvLyROT04tTkxTLTEkDQorDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEVM
RU1FTlRfQ09NTUFORCA9ICJjb21tYW5kIjsgLy8kTk9OLU5MUy0xJA0KKw0KKwkvLyBBdHRyaWJ1
dGVzDQorDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEFUVFJJQlVURV9JRCA9ICJpZCI7
IC8vJE5PTi1OTFMtMSQNCisNCisJcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgQVRUUklCVVRF
X1RJVExFID0gInRpdGxlIjsgLy8kTk9OLU5MUy0xJAkNCisNCisJcHVibGljIHN0YXRpYyBmaW5h
bCBTdHJpbmcgQVRUUklCVVRFX0xBQkVMID0gImxhYmVsIjsgLy8kTk9OLU5MUy0xJAkJDQorDQor
CXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEFUVFJJQlVURV9IUkVGID0gImhyZWYiOyAvLyRO
T04tTkxTLTEkDQorDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIEFUVFJJQlVURV9TRVJJ
QUwgPSAic2VyaWFsaXphdGlvbiI7IC8vJE5PTi1OTFMtMSQJDQorDQorCXB1YmxpYyBzdGF0aWMg
ZmluYWwgU3RyaW5nIEFUVFJJQlVURV9GSUxURVIgPSAiZmlsdGVyIjsgLy8kTk9OLU5MUy0xJAkN
CisNCisJLy8gVHlwZXMNCisNCisJcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgVFlQRV9ST09UID0g
MDsNCisNCisJcHVibGljIHN0YXRpYyBmaW5hbCBpbnQgVFlQRV9DT05URVhUID0gMTsNCisNCisJ
cHVibGljIHN0YXRpYyBmaW5hbCBpbnQgVFlQRV9ERVNDUklQVElPTiA9IDI7DQorDQorCXB1Ymxp
YyBzdGF0aWMgZmluYWwgaW50IFRZUEVfVE9QSUMgPSAzOw0KKw0KKwlwdWJsaWMgc3RhdGljIGZp
bmFsIGludCBUWVBFX0NPTU1BTkQgPSA0Ow0KKw0KK30NCkluZGV4OiB0ZXh0L29yZy9lY2xpcHNl
L3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhIZWxwQ29udGV4dC5qYXZhDQo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09DQpSQ1MgZmlsZTogdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0
L2N0eGhlbHAvQ3R4SGVscENvbnRleHQuamF2YQ0KZGlmZiAtTiB0ZXh0L29yZy9lY2xpcHNlL3Bk
ZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhIZWxwQ29udGV4dC5qYXZhDQotLS0gL2Rl
di9udWxsCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCisrKyB0ZXh0L29yZy9lY2xpcHNlL3Bk
ZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhIZWxwQ29udGV4dC5qYXZhCTEgSmFuIDE5
NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsMTM1IEBADQorLyoqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIwMDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMu
DQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55
aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2Yg
dGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRo
aXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xp
cHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAg
ICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKiovDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwu
Y29yZS50ZXh0LmN0eGhlbHA7DQorDQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5j
b3JlLnRleHQuSURvY3VtZW50RWxlbWVudE5vZGU7DQorDQorLyoqDQorICogUmVwcmVzZW50cyBh
IGNvbnRleHQgZW50cnkgaW4gY29udGV4dCBoZWxwLiAgQ29udGV4dHMgaGF2ZSBhIHNwZWNpZmlj
IGlkDQorICogdGhhdCBhbGxvd3MgVUkgZWxlbWVudHMgdG8gYmUgYXNzb2NpYXRlZCB3aXRoIGEg
bGlzdCBvZiBjb21tYW5kcyBhbmQgdG9waWNzDQorICogdGhhdCBhcmUgc3RvcmVkIGluIHRoZSBj
b250ZXh0LiAgQ29udGV4dHMgbWF5IGhhdmUgb25lIG9wdGlvbmFsIGRlc2NyaXB0aW9uDQorICog
ZWxlbWVudCBhbmQgYXMgbWFueSB0b3BpYyBhbmQgY29tbWFuZCBlbGVtZW50cyBhcyBuZWVkZWQu
DQorICogDQorICogQHNpbmNlIDMuNA0KKyAqIEBzZWUgQ3R4SGVscE9iamVjdA0KKyAqIEBzZWUg
Q3R4SGVscE1vZGVsDQorICogQHNlZSBDdHhIZWxwRG9jdW1lbnRGYWN0b3J5DQorICovDQorcHVi
bGljIGNsYXNzIEN0eEhlbHBDb250ZXh0IGV4dGVuZHMgQ3R4SGVscE9iamVjdCB7DQorDQorCXBy
aXZhdGUgc3RhdGljIGZpbmFsIGxvbmcgc2VyaWFsVmVyc2lvblVJRCA9IDFMOw0KKw0KKwlwdWJs
aWMgQ3R4SGVscENvbnRleHQoQ3R4SGVscE1vZGVsIG1vZGVsKSB7DQorCQlzdXBlcihtb2RlbCwg
RUxFTUVOVF9DT05URVhUKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUg
b3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC50b2MuVG9jT2JqZWN0I2NhbkJlUGFy
ZW50KCkNCisJICovDQorCXB1YmxpYyBib29sZWFuIGNhbkJlUGFyZW50KCkgew0KKwkJcmV0dXJu
IHRydWU7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNl
LnBkZS5pbnRlcm5hbC5jb3JlLnRvYy5Ub2NPYmplY3QjZ2V0VHlwZSgpDQorCSAqLw0KKwlwdWJs
aWMgaW50IGdldFR5cGUoKSB7DQorCQlyZXR1cm4gVFlQRV9DT05URVhUOw0KKwl9DQorDQorCS8q
IChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50
b2MuVG9jT2JqZWN0I2dldE5hbWUoKQ0KKwkgKi8NCisJcHVibGljIFN0cmluZyBnZXROYW1lKCkg
ew0KKwkJcmV0dXJuIGdldElkKCk7DQorCX0NCisNCisJLyoqDQorCSAqIEByZXR1cm4gdGhlIHZh
bHVlIG9mIHRoZSBpZCBhdHRyaWJ1dGUgb3IgPGNvZGU+bnVsbDwvY29kZT4gaWYgdGhlIGF0dHJp
YnV0ZSBkb2VzIG5vdCBleGlzdA0KKwkgKi8NCisJcHVibGljIFN0cmluZyBnZXRJZCgpIHsNCisJ
CXJldHVybiBnZXRYTUxBdHRyaWJ1dGVWYWx1ZShBVFRSSUJVVEVfSUQpOw0KKwl9DQorDQorCS8q
Kg0KKwkgKiBTZXQgdGhlIGlkIGF0dHJpYnV0ZSwgcGFzc2luZyA8Y29kZT5udWxsPC9jb2RlPiB3
aWxsIHNldCB0aGUNCisJICogYXR0cmlidXRlIHRvIGJlIGVtcHR5Lg0KKwkgKiBAcGFyYW0gaWQg
bmV3IHZhbHVlDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBzZXRJRChTdHJpbmcgaWQpIHsNCisJCXNl
dFhNTEF0dHJpYnV0ZShBVFRSSUJVVEVfSUQsIGlkKTsNCisJfQ0KKw0KKwkvKioNCisJICogQHJl
dHVybiB0aGUgdmFsdWUgb2YgdGhlIHRpdGxlIGF0dHJpYnV0ZSBvciA8Y29kZT5udWxsPC9jb2Rl
PiBpZiB0aGUgYXR0cmlidXRlIGRvZXMgbm90IGV4aXN0DQorCSAqLw0KKwlwdWJsaWMgU3RyaW5n
IGdldFRpdGxlKCkgew0KKwkJcmV0dXJuIGdldFhNTEF0dHJpYnV0ZVZhbHVlKEFUVFJJQlVURV9U
SVRMRSk7DQorCX0NCisNCisJLyoqDQorCSAqIFNldCB0aGUgdGl0bGUgYXR0cmlidXRlLCBwYXNz
aW5nIDxjb2RlPm51bGw8L2NvZGU+IHdpbGwgc2V0IHRoZQ0KKwkgKiBhdHRyaWJ1dGUgdG8gYmUg
ZW1wdHkuDQorCSAqIEBwYXJhbSB0aXRsZSBuZXcgdmFsdWUNCisJICovDQorCXB1YmxpYyB2b2lk
IHNldFRpdGxlKFN0cmluZyB0aXRsZSkgew0KKwkJc2V0WE1MQXR0cmlidXRlKEFUVFJJQlVURV9U
SVRMRSwgdGl0bGUpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBTZWFyY2hlcyBmb3IgYSBjaGlsZCBk
ZXNjcmlwdGlvbiBub2RlIGFuZCByZXR1cm5zIHRoZSBzdHJpbmcgY29udGVudHMgb2YgdGhhdCBu
b2RlLg0KKwkgKiBSZXR1cm5zIDxjb2RlPm51bGw8L2NvZGU+IGlmIG5vIGRlc2NyaXB0aW9uIG5v
ZGUgZXhpc3RzLg0KKwkgKiBAcmV0dXJuIGRlc2NyaXB0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGlz
IGNvbnRleHQgb3IgPGNvZGU+bnVsbDwvY29kZT4gbm8gZGVzY3JpcHRpb24gZXhpc3RzDQorCSAq
Lw0KKwlwdWJsaWMgU3RyaW5nIGdldERlc2NyaXB0aW9uKCkgew0KKwkJSURvY3VtZW50RWxlbWVu
dE5vZGUgbm9kZSA9IGdldENoaWxkTm9kZShDdHhIZWxwRGVzY3JpcHRpb24uY2xhc3MpOw0KKwkJ
aWYgKG5vZGUgaW5zdGFuY2VvZiBDdHhIZWxwRGVzY3JpcHRpb24pIHsNCisJCQlyZXR1cm4gKChD
dHhIZWxwRGVzY3JpcHRpb24pIG5vZGUpLmdldERlc2NyaXB0aW9uKCk7DQorCQl9DQorCQlyZXR1
cm4gbnVsbDsNCisJfQ0KKw0KKwkvKioNCisJICogU2V0IHRoZSBkZXNjcmlwdGlvbiB0byBiZSBh
c3NvY2lhdGVkIHdpdGggdGhpcyBjb250ZXh0LiAgU2VhcmNoZXMgZm9yIGEgY2hpbGQgZGVzY3Jp
cHRpb24gbm9kZQ0KKwkgKiBhbmQgdXBkYXRlcyB0aGUgY29udGVudCB3aXRoIHRoZSBnaXZlbiBz
dHJpbmcuICBJZiBhIGRlc2NyaXB0aW9uIG5vZGUgZG9lcyBub3QgZXhpc3QsIG9uZSB3aWxsDQor
CSAqIGJlIGNyZWF0ZWQuICBQYXNzaW5nIDxjb2RlPm51bGw8L2NvZGU+IHdpbGwgcmVtb3ZlIGFu
eSBkZXNjcmlwdGlvbiBub2RlIGlmIG9uZSBleGlzdHMuDQorCSAqIEBwYXJhbSBkZXNjcmlwdGlv
biBuZXcgdmFsdWUNCisJICovDQorCXB1YmxpYyB2b2lkIHNldERlc2NyaXB0aW9uKFN0cmluZyBk
ZXNjcmlwdGlvbikgew0KKwkJSURvY3VtZW50RWxlbWVudE5vZGUgbm9kZSA9IGdldENoaWxkTm9k
ZShDdHhIZWxwRGVzY3JpcHRpb24uY2xhc3MpOw0KKwkJaWYgKG5vZGUgaW5zdGFuY2VvZiBDdHhI
ZWxwRGVzY3JpcHRpb24pIHsNCisJCQlpZiAoZGVzY3JpcHRpb24gPT0gbnVsbCkgew0KKwkJCQly
ZW1vdmVDaGlsZE5vZGUobm9kZSwgdHJ1ZSk7DQorCQkJfSBlbHNlIHsNCisJCQkJKChDdHhIZWxw
RGVzY3JpcHRpb24pIG5vZGUpLnNldERlc2NyaXB0aW9uKGRlc2NyaXB0aW9uKTsNCisJCQl9DQor
CQl9IGVsc2UgaWYgKGRlc2NyaXB0aW9uICE9IG51bGwpIHsNCisJCQlDdHhIZWxwRGVzY3JpcHRp
b24gbmV3RGVzY3JpcHRpb24gPSBnZXRNb2RlbCgpLmdldEZhY3RvcnkoKS5jcmVhdGVEZXNjcmlw
dGlvbigpOw0KKwkJCW5ld0Rlc2NyaXB0aW9uLnNldERlc2NyaXB0aW9uKGRlc2NyaXB0aW9uKTsN
CisJCQlhZGRDaGlsZE5vZGUobmV3RGVzY3JpcHRpb24sIDAsIHRydWUpOw0KKwkJfQ0KKwl9DQor
DQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwu
Y29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE9iamVjdCNjYW5BZGRDaGlsZChvcmcuZWNsaXBzZS5w
ZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE9iamVjdCkNCisJICovDQorCXB1
YmxpYyBib29sZWFuIGNhbkFkZENoaWxkKGludCBvYmplY3RUeXBlKSB7DQorCQlyZXR1cm4gb2Jq
ZWN0VHlwZSA9PSBUWVBFX1RPUElDIHx8IG9iamVjdFR5cGUgPT0gVFlQRV9DT01NQU5EOw0KKwl9
DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE9iamVjdCNjYW5BZGRTaWJsaW5nKGludCkNCisJ
ICovDQorCXB1YmxpYyBib29sZWFuIGNhbkFkZFNpYmxpbmcoaW50IG9iamVjdFR5cGUpIHsNCisJ
CXJldHVybiBvYmplY3RUeXBlID09IFRZUEVfQ09OVEVYVDsNCisJfQ0KKw0KK30NCkluZGV4OiB0
ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhIZWxwUm9v
dC5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJu
YWwvY29yZS90ZXh0L2N0eGhlbHAvQ3R4SGVscFJvb3QuamF2YQ0KZGlmZiAtTiB0ZXh0L29yZy9l
Y2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhIZWxwUm9vdC5qYXZhDQot
LS0gL2Rldi9udWxsCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCisrKyB0ZXh0L29yZy9lY2xp
cHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhIZWxwUm9vdC5qYXZhCTEgSmFu
IDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsNzMgQEANCisvKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVy
cy4NCisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBh
bnlpbmcgbWF0ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBv
ZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMg
dGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVj
bGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAq
ICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisg
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKi8NCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5h
bC5jb3JlLnRleHQuY3R4aGVscDsNCisNCisvKioNCisgKiBSZXByZXNlbnRzIHRoZSByb290ICJj
b250ZXh0cyIgZW50cnkgaW4gYSBjb250ZXh0IGhlbHAgeG1sIGZpbGUuICBUaGVyZSBtYXkNCisg
KiBiZSBvbmx5IG9uZSByb290IG5vZGUgaW4gdGhlIGZpbGUgYW5kIGFsbCBvdGhlciBub2RlcyBt
dXN0IGJlIGluc2lkZSB0aGUgcm9vdC4NCisgKiBUaGUgcm9vdCBtYXkgY29udGFpbiBtYW55IGNv
bnRleHQgZWxlbWVudHMuDQorICogDQorICogQHNpbmNlIDMuNA0KKyAqIEBzZWUgQ3R4SGVscE9i
amVjdA0KKyAqIEBzZWUgQ3R4SGVscE1vZGVsDQorICogQHNlZSBDdHhIZWxwRG9jdW1lbnRGYWN0
b3J5DQorICovDQorcHVibGljIGNsYXNzIEN0eEhlbHBSb290IGV4dGVuZHMgQ3R4SGVscE9iamVj
dCB7DQorDQorCXByaXZhdGUgc3RhdGljIGZpbmFsIGxvbmcgc2VyaWFsVmVyc2lvblVJRCA9IDFM
Ow0KKw0KKwlwdWJsaWMgQ3R4SGVscFJvb3QoQ3R4SGVscE1vZGVsIG1vZGVsKSB7DQorCQlzdXBl
cihtb2RlbCwgRUxFTUVOVF9ST09UKTsNCisJCXNldEluVGhlTW9kZWwodHJ1ZSk7DQorCX0NCisN
CisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5j
b3JlLnRleHQucGx1Z2luLlBsdWdpbkRvY3VtZW50Tm9kZSNpc1Jvb3QoKQ0KKwkgKi8NCisJcHVi
bGljIGJvb2xlYW4gaXNSb290KCkgew0KKwkJcmV0dXJuIHRydWU7DQorCX0NCisNCisJLyogKG5v
bi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRvYy5U
b2NPYmplY3QjZ2V0VHlwZSgpDQorCSAqLw0KKwlwdWJsaWMgaW50IGdldFR5cGUoKSB7DQorCQly
ZXR1cm4gVFlQRV9ST09UOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBv
cmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE9iamVjdCNj
YW5CZVBhcmVudCgpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBjYW5CZVBhcmVudCgpIHsNCisJ
CXJldHVybiB0cnVlOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE9iamVjdCNnZXRO
YW1lKCkNCisJICovDQorCXB1YmxpYyBTdHJpbmcgZ2V0TmFtZSgpIHsNCisJCXJldHVybiBFTEVN
RU5UX1JPT1Q7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xp
cHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwT2JqZWN0I2NhbkFkZENo
aWxkKG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwT2Jq
ZWN0KQ0KKwkgKi8NCisJcHVibGljIGJvb2xlYW4gY2FuQWRkQ2hpbGQoaW50IG9iamVjdFR5cGUp
IHsNCisJCXJldHVybiBvYmplY3RUeXBlID09IFRZUEVfQ09OVEVYVDsNCisJfQ0KKw0KKwkvKiAo
bm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4
dC5jdHhoZWxwLkN0eEhlbHBPYmplY3QjY2FuQWRkU2libGluZyhpbnQpDQorCSAqLw0KKwlwdWJs
aWMgYm9vbGVhbiBjYW5BZGRTaWJsaW5nKGludCBvYmplY3RUeXBlKSB7DQorCQlyZXR1cm4gZmFs
c2U7DQorCX0NCit9DQpJbmRleDogdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90
ZXh0L2N0eGhlbHAvQ3R4SGVscE1vZGVsLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiB0ZXh0
L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhIZWxwTW9kZWwu
amF2YQ0KZGlmZiAtTiB0ZXh0L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4
aGVscC9DdHhIZWxwTW9kZWwuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAw
IC0wMDAwDQorKysgdGV4dC9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvY29yZS90ZXh0L2N0eGhl
bHAvQ3R4SGVscE1vZGVsLmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAgLTAsMCAr
MSw4MyBAQA0KKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQorICogQ29weXJpZ2h0IChjKSAyMDA4
IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRo
aXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCisgKiBhcmUgbWFkZSBh
dmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYx
LjANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWls
YWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQor
ICoNCisgKiBDb250cmlidXRvcnM6DQorICogICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwg
QVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KK3BhY2th
Z2Ugb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwOw0KKw0KK2ltcG9y
dCBvcmcuZWNsaXBzZS5qZmFjZS50ZXh0LklEb2N1bWVudDsNCitpbXBvcnQgb3JnLmVjbGlwc2Uu
cGRlLmNvcmUuSU1vZGVsOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuY29yZS5JV3JpdGFibGU7
DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLk5MUmVzb3VyY2VIZWxwZXI7
DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuWE1MRWRpdGluZ01v
ZGVsOw0KK2ltcG9ydCBvcmcueG1sLnNheC5oZWxwZXJzLkRlZmF1bHRIYW5kbGVyOw0KKw0KKy8q
Kg0KKyAqIE1vZGVsIGRlc2NyaWJpbmcgdGhlIGVsZW1lbnRzIG9mIGEgY29udGV4dCBoZWxwIHht
bCBmaWxlLg0KKyAqIA0KKyAqIEBzaW5jZSAzLjQNCisgKiBAc2VlIEN0eEhlbHBSb290DQorICog
QHNlZSBDdHhIZWxwRG9jdW1lbnRGYWN0b3J5DQorICogQHNlZSBDdHhIZWxwRG9jdW1lbnRIYW5k
bGVyDQorICovDQorcHVibGljIGNsYXNzIEN0eEhlbHBNb2RlbCBleHRlbmRzIFhNTEVkaXRpbmdN
b2RlbCB7DQorDQorCXByaXZhdGUgQ3R4SGVscERvY3VtZW50SGFuZGxlciBmSGFuZGxlcjsNCisJ
cHJpdmF0ZSBDdHhIZWxwRG9jdW1lbnRGYWN0b3J5IGZGYWN0b3J5Ow0KKwlwcml2YXRlIEN0eEhl
bHBSb290IGZSb290Ow0KKw0KKwlwdWJsaWMgQ3R4SGVscE1vZGVsKElEb2N1bWVudCBkb2N1bWVu
dCwgYm9vbGVhbiBpc1JlY29uY2lsaW5nKSB7DQorCQlzdXBlcihkb2N1bWVudCwgaXNSZWNvbmNp
bGluZyk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNl
LnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuWE1MRWRpdGluZ01vZGVsI2NyZWF0ZURvY3VtZW50SGFu
ZGxlcihvcmcuZWNsaXBzZS5wZGUuY29yZS5JTW9kZWwsIGJvb2xlYW4pDQorCSAqLw0KKwlwcm90
ZWN0ZWQgRGVmYXVsdEhhbmRsZXIgY3JlYXRlRG9jdW1lbnRIYW5kbGVyKElNb2RlbCBtb2RlbCwg
Ym9vbGVhbiByZWNvbmNpbGluZykgew0KKwkJaWYgKGZIYW5kbGVyID09IG51bGwpIHsNCisJCQlm
SGFuZGxlciA9IG5ldyBDdHhIZWxwRG9jdW1lbnRIYW5kbGVyKHRoaXMsIHJlY29uY2lsaW5nKTsN
CisJCX0NCisJCXJldHVybiBmSGFuZGxlcjsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQor
CSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5BYnN0cmFjdEVkaXRp
bmdNb2RlbCNjcmVhdGVOTFJlc291cmNlSGVscGVyKCkNCisJICovDQorCXByb3RlY3RlZCBOTFJl
c291cmNlSGVscGVyIGNyZWF0ZU5MUmVzb3VyY2VIZWxwZXIoKSB7DQorCQkvLyBOb3QgbmVlZGVk
DQorCQlyZXR1cm4gbnVsbDsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUg
b3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUuaWNoZWF0c2hlZXQuc2ltcGxlLklUb2NNb2Rl
bCNnZXRGYWN0b3J5KCkNCisJICovDQorCXB1YmxpYyBDdHhIZWxwRG9jdW1lbnRGYWN0b3J5IGdl
dEZhY3RvcnkoKSB7DQorCQlpZiAoZkZhY3RvcnkgPT0gbnVsbCkgew0KKwkJCWZGYWN0b3J5ID0g
bmV3IEN0eEhlbHBEb2N1bWVudEZhY3RvcnkodGhpcyk7DQorCQl9DQorCQlyZXR1cm4gZkZhY3Rv
cnk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC5jb3JlLmljaGVhdHNoZWV0LnNpbXBsZS5JVG9jTW9kZWwjZ2V0VG9jKCkNCisJ
ICovDQorCXB1YmxpYyBDdHhIZWxwUm9vdCBnZXRDdHhIZWxwUm9vdCgpIHsNCisJCWlmIChmUm9v
dCA9PSBudWxsKSB7DQorCQkJZlJvb3QgPSBnZXRGYWN0b3J5KCkuY3JlYXRlUm9vdCgpOw0KKwkJ
fQ0KKwkJcmV0dXJuIGZSb290Ow0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNl
ZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LlhNTEVkaXRpbmdNb2RlbCNnZXRS
b290KCkNCisJICovDQorCXByb3RlY3RlZCBJV3JpdGFibGUgZ2V0Um9vdCgpIHsNCisJCXJldHVy
biBnZXRDdHhIZWxwUm9vdCgpOw0KKwl9DQorDQorfQ0KSW5kZXg6IHRleHQvb3JnL2VjbGlwc2Uv
cGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBEb2N1bWVudEZhY3RvcnkuamF2
YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2Nv
cmUvdGV4dC9jdHhoZWxwL0N0eEhlbHBEb2N1bWVudEZhY3RvcnkuamF2YQ0KZGlmZiAtTiB0ZXh0
L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC9jb3JlL3RleHQvY3R4aGVscC9DdHhIZWxwRG9jdW1l
bnRGYWN0b3J5LmphdmENCi0tLSAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0K
KysrIHRleHQvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL2NvcmUvdGV4dC9jdHhoZWxwL0N0eEhl
bHBEb2N1bWVudEZhY3RvcnkuamF2YQkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCww
ICsxLDEwOSBAQA0KKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQorICogQ29weXJpZ2h0IChjKSAy
MDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQu
IFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCisgKiBhcmUgbWFk
ZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNl
IHYxLjANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2
YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1s
DQorICoNCisgKiBDb250cmlidXRvcnM6DQorICogICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRp
YWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KK3Bh
Y2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwOw0KKw0KK2lt
cG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS5pY3R4aGVscC5JQ3R4SGVscENvbnN0
YW50czsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC4qOw0KKw0K
Ky8qKg0KKyAqIEhhbmRsZXMgdGhlIGNyZWF0aW9uIG9mIGRvY3VtZW50IG5vZGVzIHJlcHJlc2Vu
dGluZyB0aGUgdHlwZXMgb2YgZWxlbWVudHMgdGhhdA0KKyAqIGNhbiBleGlzdCBpbiBhIGNvbnRl
eHQgaGVscCB4bWwgZmlsZS4NCisgKiANCisgKiBAc2luY2UgMy40DQorICogQHNlZSBDdHhIZWxw
T2JqZWN0DQorICogQHNlZSBDdHhIZWxwTW9kZWwNCisgKiBAc2VlIEN0eEhlbHBEb2N1bWVudEhh
bmRsZXINCisgKi8NCitwdWJsaWMgY2xhc3MgQ3R4SGVscERvY3VtZW50RmFjdG9yeSBleHRlbmRz
IERvY3VtZW50Tm9kZUZhY3RvcnkgaW1wbGVtZW50cyBJRG9jdW1lbnROb2RlRmFjdG9yeSB7DQor
CXByaXZhdGUgQ3R4SGVscE1vZGVsIGZNb2RlbDsNCisNCisJcHVibGljIEN0eEhlbHBEb2N1bWVu
dEZhY3RvcnkoQ3R4SGVscE1vZGVsIG1vZGVsKSB7DQorCQlmTW9kZWwgPSBtb2RlbDsNCisJfQ0K
Kw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LmNvcmUudGV4dC5JRG9jdW1lbnROb2RlRmFjdG9yeSNjcmVhdGVEb2N1bWVudE5vZGUoamF2YS5s
YW5nLlN0cmluZywgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5JRG9jdW1lbnRF
bGVtZW50Tm9kZSkNCisJICovDQorCXB1YmxpYyBJRG9jdW1lbnRFbGVtZW50Tm9kZSBjcmVhdGVE
b2N1bWVudE5vZGUoU3RyaW5nIG5hbWUsIElEb2N1bWVudEVsZW1lbnROb2RlIHBhcmVudCkgew0K
KwkJaWYgKGlzUm9vdChuYW1lKSkgeyAvLyBSb290DQorCQkJcmV0dXJuIGNyZWF0ZVJvb3QoKTsN
CisJCX0NCisJCWlmIChpc0NvbnRleHQobmFtZSkpIHsgLy8gQ29udGV4dA0KKwkJCXJldHVybiBj
cmVhdGVDb250ZXh0KCk7DQorCQl9DQorCQlpZiAoaXNEZXNjcmlwdGlvbihuYW1lKSkgeyAvLyBM
aW5rDQorCQkJcmV0dXJuIGNyZWF0ZURlc2NyaXB0aW9uKCk7DQorCQl9DQorCQlpZiAoaXNUb3Bp
YyhuYW1lKSkgeyAvLyBBbmNob3INCisJCQlyZXR1cm4gY3JlYXRlVG9waWMoKTsNCisJCX0NCisJ
CWlmIChpc0NvbW1hbmQobmFtZSkpIHsgLy8gQW5jaG9yDQorCQkJcmV0dXJuIGNyZWF0ZUNvbW1h
bmQoKTsNCisJCX0NCisJCXJldHVybiBzdXBlci5jcmVhdGVEb2N1bWVudE5vZGUobmFtZSwgcGFy
ZW50KTsNCisJfQ0KKw0KKwlwcml2YXRlIGJvb2xlYW4gaXNSb290KFN0cmluZyBuYW1lKSB7DQor
CQlyZXR1cm4gbmFtZS5lcXVhbHMoSUN0eEhlbHBDb25zdGFudHMuRUxFTUVOVF9ST09UKTsNCisJ
fQ0KKw0KKwlwcml2YXRlIGJvb2xlYW4gaXNDb250ZXh0KFN0cmluZyBuYW1lKSB7DQorCQlyZXR1
cm4gbmFtZS5lcXVhbHMoSUN0eEhlbHBDb25zdGFudHMuRUxFTUVOVF9DT05URVhUKTsNCisJfQ0K
Kw0KKwlwcml2YXRlIGJvb2xlYW4gaXNEZXNjcmlwdGlvbihTdHJpbmcgbmFtZSkgew0KKwkJcmV0
dXJuIG5hbWUuZXF1YWxzKElDdHhIZWxwQ29uc3RhbnRzLkVMRU1FTlRfREVTQ1JJUFRJT04pOw0K
Kwl9DQorDQorCXByaXZhdGUgYm9vbGVhbiBpc1RvcGljKFN0cmluZyBuYW1lKSB7DQorCQlyZXR1
cm4gbmFtZS5lcXVhbHMoSUN0eEhlbHBDb25zdGFudHMuRUxFTUVOVF9UT1BJQyk7DQorCX0NCisN
CisJcHJpdmF0ZSBib29sZWFuIGlzQ29tbWFuZChTdHJpbmcgbmFtZSkgew0KKwkJcmV0dXJuIG5h
bWUuZXF1YWxzKElDdHhIZWxwQ29uc3RhbnRzLkVMRU1FTlRfQ09NTUFORCk7DQorCX0NCisNCisJ
LyoqDQorCSAqIEByZXR1cm4gYSBuZXcgcm9vdCBvYmplY3QgYmFzZWQgb24gdGhlIGN1cnJlbnQg
bW9kZWwNCisJICovDQorCXB1YmxpYyBDdHhIZWxwUm9vdCBjcmVhdGVSb290KCkgew0KKwkJcmV0
dXJuIG5ldyBDdHhIZWxwUm9vdChmTW9kZWwpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBAcmV0dXJu
IGEgbmV3IGNvbnRleHQgb2JqZWN0IGJhc2VkIG9uIHRoZSBjdXJyZW50IG1vZGVsDQorCSAqLw0K
KwlwdWJsaWMgQ3R4SGVscENvbnRleHQgY3JlYXRlQ29udGV4dCgpIHsNCisJCXJldHVybiBuZXcg
Q3R4SGVscENvbnRleHQoZk1vZGVsKTsNCisJfQ0KKw0KKwkvKioNCisJICogQHJldHVybiBhIG5l
dyBkZXNjcmlwdGlvbiBvYmplY3QgYmFzZWQgb24gdGhlIGN1cnJlbnQgbW9kZWwNCisJICovDQor
CXB1YmxpYyBDdHhIZWxwRGVzY3JpcHRpb24gY3JlYXRlRGVzY3JpcHRpb24oKSB7DQorCQlyZXR1
cm4gbmV3IEN0eEhlbHBEZXNjcmlwdGlvbihmTW9kZWwpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBA
cmV0dXJuIGEgbmV3IHRvcGljIG9iamVjdCBiYXNlZCBvbiB0aGUgY3VycmVudCBtb2RlbA0KKwkg
Ki8NCisJcHVibGljIEN0eEhlbHBUb3BpYyBjcmVhdGVUb3BpYygpIHsNCisJCXJldHVybiBuZXcg
Q3R4SGVscFRvcGljKGZNb2RlbCk7DQorCX0NCisNCisJLyoqDQorCSAqIEByZXR1cm4gYSBuZXcg
Y29tbWFuZCBvYmplY3QgYmFzZWQgb24gdGhlIGN1cnJlbnQgbW9kZWwNCisJICovDQorCXB1Ymxp
YyBDdHhIZWxwQ29tbWFuZCBjcmVhdGVDb21tYW5kKCkgew0KKwkJcmV0dXJuIG5ldyBDdHhIZWxw
Q29tbWFuZChmTW9kZWwpOw0KKwl9DQorDQorfQ0KI1Agb3JnLmVjbGlwc2UucGRlLnVpDQpJbmRl
eDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL1RvY0Ryb3BBZGFw
dGVyLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9vdC9lY2xpcHNlL29yZy5lY2xp
cHNlLnBkZS51aS9zcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvVG9j
RHJvcEFkYXB0ZXIuamF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuNw0KZGlmZiAtdSAtcjEu
NyBUb2NEcm9wQWRhcHRlci5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91
aS9lZGl0b3IvdG9jL1RvY0Ryb3BBZGFwdGVyLmphdmEJMTYgSmFuIDIwMDggMTc6MDg6MjcgLTAw
MDAJMS43DQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL1Rv
Y0Ryb3BBZGFwdGVyLmphdmEJMTggSmFuIDIwMDggMTk6NDY6NDcgLTAwMDANCkBAIC0xLDUgKzEs
NSBAQA0KIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQotICogQ29weXJpZ2h0IChjKSAyMDA3IElC
TSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIENvcHlyaWdodCAoYykgMjAwNywgMjAwOCBJ
Qk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCiAgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlz
IHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQogICogYXJlIG1hZGUgYXZh
aWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4w
DQogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFi
bGUgYXQNCkBAIC0xNjYsMTQgKzE2NiwxNSBAQA0KIAkJCQkJcmV0dXJuOw0KIAkJCQl9DQogDQot
CQkJCWlmICghVG9jRXh0ZW5zaW9uVXRpbC5oYXNWYWxpZFBhZ2VFeHRlbnNpb24ocGF0aCkgJiYg
IVRvY0V4dGVuc2lvblV0aWwuaXNUT0NGaWxlKHBhdGgpKSB7DQotCQkJCQlldmVudC5kZXRhaWwg
PSBETkQuRFJPUF9OT05FOw0KKwkJCQlpZighSGVscEVkaXRvclV0aWwuaGFzVmFsaWRQYWdlRXh0
ZW5zaW9uKHBhdGgpDQorCQkJCQkmJiAhSGVscEVkaXRvclV0aWwuaXNUT0NGaWxlKHBhdGgpKQ0K
KwkJCQl7CWV2ZW50LmRldGFpbCA9IERORC5EUk9QX05PTkU7DQogCQkJCQlyZXR1cm47DQogCQkJ
CX0NCiANCiAJCQkJLy8gTWFrZSBzdXJlIHRoYXQgdGhlIHVzZXIgaXNuJ3QgZHJvcHBpbmcgYSBU
T0MgaW50byBpdHNlbGYNCi0JCQkJaWYgKFRvY0V4dGVuc2lvblV0aWwuaXNDdXJyZW50UmVzb3Vy
Y2UocGF0aCwgbW9kZWwpKSB7DQotCQkJCQlldmVudC5kZXRhaWwgPSBETkQuRFJPUF9OT05FOw0K
KwkJCQlpZihIZWxwRWRpdG9yVXRpbC5pc0N1cnJlbnRSZXNvdXJjZShwYXRoLCBtb2RlbCkpDQor
CQkJCXsJZXZlbnQuZGV0YWlsID0gRE5ELkRST1BfTk9ORTsNCiAJCQkJCXJldHVybjsNCiAJCQkJ
fQ0KIAkJCX0NCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90
b2MvVG9jRXh0ZW5zaW9uVXRpbC5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogc3JjL29yZy9l
Y2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL1RvY0V4dGVuc2lvblV0aWwuamF2YQ0K
ZGlmZiAtTiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvVG9jRXh0
ZW5zaW9uVXRpbC5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0
b3IvdG9jL1RvY0V4dGVuc2lvblV0aWwuamF2YQkxNiBKYW4gMjAwOCAxNzowODoyNyAtMDAwMAkx
LjcNCisrKyAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAgLTEsMTAwICsw
LDAgQEANCi0vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KLSAqIENvcHlyaWdodCAoYykgMjAwNyBJ
Qk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCi0gKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlz
IHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQotICogYXJlIG1hZGUgYXZh
aWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4w
DQotICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFi
bGUgYXQNCi0gKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KLSAq
DQotICogQ29udHJpYnV0b3JzOg0KLSAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQ
SSBhbmQgaW1wbGVtZW50YXRpb24NCi0gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCi0NCi1wYWNr
YWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IudG9jOw0KLQ0KLWltcG9ydCBq
YXZhLnV0aWwuSGFzaFNldDsNCi1pbXBvcnQgamF2YS51dGlsLkxvY2FsZTsNCi1pbXBvcnQgb3Jn
LmVjbGlwc2UuY29yZS5yZXNvdXJjZXMuKjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50
aW1lLklQYXRoOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5wZGUuY29yZS5JQmFzZU1vZGVsOw0KLWlt
cG9ydCBvcmcuZWNsaXBzZS5wZGUuY29yZS5JTW9kZWw7DQotaW1wb3J0IG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC5jb3JlLml0b2MuSVRvY0NvbnN0YW50czsNCi1pbXBvcnQgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLnVpLnV0aWwuWE1MUm9vdEVsZW1lbnRNYXRjaGVyOw0KLQ0KLXB1YmxpYyBj
bGFzcyBUb2NFeHRlbnNpb25VdGlsIHsNCi0JcHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmdbXSBw
YWdlRXh0ZW5zaW9ucyA9IHsiaHRtIiwgInNodG1sIiwgImh0bWwiLCAieGh0bWwifTsgLy8kTk9O
LU5MUy0xJCAvLyROT04tTkxTLTIkIC8vJE5PTi1OTFMtMyQgLy8kTk9OLU5MUy00JA0KLQlwdWJs
aWMgc3RhdGljIGZpbmFsIFN0cmluZyB0b2NFeHRlbnNpb24gPSAieG1sIjsgLy8kTk9OLU5MUy0x
JA0KLQlwcml2YXRlIHN0YXRpYyBIYXNoU2V0IHBhZ2VFeHRlbnNpb25TZXQgPSBuZXcgSGFzaFNl
dChwYWdlRXh0ZW5zaW9ucy5sZW5ndGgpOw0KLQ0KLQlwcml2YXRlIHN0YXRpYyB2b2lkIHBvcHVs
YXRlSGFzaFNldCgpIHsNCi0JCWZvciAoaW50IGkgPSAwOyBpIDwgcGFnZUV4dGVuc2lvbnMubGVu
Z3RoOyArK2kpIHsNCi0JCQlwYWdlRXh0ZW5zaW9uU2V0LmFkZChwYWdlRXh0ZW5zaW9uc1tpXSk7
DQotCQl9DQotCX0NCi0NCi0JcHVibGljIHN0YXRpYyBib29sZWFuIGhhc1ZhbGlkUGFnZUV4dGVu
c2lvbihJUGF0aCBwYXRoKSB7DQotCQlTdHJpbmcgZmlsZUV4dGVuc2lvbiA9IHBhdGguZ2V0Rmls
ZUV4dGVuc2lvbigpOw0KLQkJaWYgKGZpbGVFeHRlbnNpb24gIT0gbnVsbCkgew0KLQkJCWZpbGVF
eHRlbnNpb24gPSBmaWxlRXh0ZW5zaW9uLnRvTG93ZXJDYXNlKExvY2FsZS5FTkdMSVNIKTsNCi0J
CQlpZiAocGFnZUV4dGVuc2lvblNldC5pc0VtcHR5KCkpIHsNCi0JCQkJcG9wdWxhdGVIYXNoU2V0
KCk7DQotCQkJfQ0KLQ0KLQkJCXJldHVybiBwYWdlRXh0ZW5zaW9uU2V0LmNvbnRhaW5zKGZpbGVF
eHRlbnNpb24pOw0KLQkJfQ0KLQ0KLQkJcmV0dXJuIGZhbHNlOw0KLQl9DQotDQotCXByaXZhdGUg
c3RhdGljIGJvb2xlYW4gaGFzVmFsaWRUb2NFeHRlbnNpb24oSVBhdGggcGF0aCkgew0KLQkJU3Ry
aW5nIGZpbGVFeHRlbnNpb24gPSBwYXRoLmdldEZpbGVFeHRlbnNpb24oKTsNCi0JCXJldHVybiBm
aWxlRXh0ZW5zaW9uICE9IG51bGwgJiYgZmlsZUV4dGVuc2lvbi5lcXVhbHModG9jRXh0ZW5zaW9u
KTsNCi0JfQ0KLQ0KLQkvKioNCi0JICogQHBhcmFtIGZpbGUNCi0JICovDQotCXB1YmxpYyBzdGF0
aWMgYm9vbGVhbiBpc1RPQ0ZpbGUoSVBhdGggcGF0aCkgew0KLQkJaWYgKCFoYXNWYWxpZFRvY0V4
dGVuc2lvbihwYXRoKSkNCi0JCQlyZXR1cm4gZmFsc2U7DQotDQotCQlJV29ya3NwYWNlUm9vdCBy
b290ID0gUmVzb3VyY2VzUGx1Z2luLmdldFdvcmtzcGFjZSgpLmdldFJvb3QoKTsNCi0NCi0JCUlS
ZXNvdXJjZSByZXNvdXJjZSA9IHJvb3QuZmluZE1lbWJlcihwYXRoKTsNCi0JCWlmIChyZXNvdXJj
ZSAhPSBudWxsICYmIHJlc291cmNlIGluc3RhbmNlb2YgSUZpbGUpIHsNCi0JCQlyZXR1cm4gWE1M
Um9vdEVsZW1lbnRNYXRjaGVyLmZpbGVNYXRjaGVzRWxlbWVudCgoSUZpbGUpIHJlc291cmNlLCBJ
VG9jQ29uc3RhbnRzLkVMRU1FTlRfVE9DKTsNCi0JCX0NCi0NCi0JCXJldHVybiBYTUxSb290RWxl
bWVudE1hdGNoZXIuZmlsZU1hdGNoZXNFbGVtZW50KHBhdGgudG9GaWxlKCksIElUb2NDb25zdGFu
dHMuRUxFTUVOVF9UT0MpOw0KLQl9DQotDQotCXB1YmxpYyBzdGF0aWMgYm9vbGVhbiBpc0N1cnJl
bnRSZXNvdXJjZShJUGF0aCBwYXRoLCBJQmFzZU1vZGVsIG1vZGVsKSB7DQotCQlpZiAobW9kZWwg
aW5zdGFuY2VvZiBJTW9kZWwpIHsNCi0JCQlJUGF0aCB3b3Jrc3BhY2VQYXRoID0gUmVzb3VyY2Vz
UGx1Z2luLmdldFdvcmtzcGFjZSgpLmdldFJvb3QoKS5nZXRMb2NhdGlvbigpOw0KLQkJCUlQYXRo
IGZ1bGxQYXRoOw0KLQ0KLQkJCWlmICh3b3Jrc3BhY2VQYXRoLmlzUHJlZml4T2YocGF0aCkpIHsN
Ci0JCQkJZnVsbFBhdGggPSAoKElNb2RlbCkgbW9kZWwpLmdldFVuZGVybHlpbmdSZXNvdXJjZSgp
LmdldExvY2F0aW9uKCk7DQotCQkJfSBlbHNlIHsNCi0JCQkJZnVsbFBhdGggPSAoKElNb2RlbCkg
bW9kZWwpLmdldFVuZGVybHlpbmdSZXNvdXJjZSgpLmdldEZ1bGxQYXRoKCk7DQotCQkJfQ0KLQ0K
LQkJCXJldHVybiBmdWxsUGF0aC5lcXVhbHMocGF0aCk7DQotCQl9DQotDQotCQlyZXR1cm4gZmFs
c2U7DQotCX0NCi0NCi0JcHVibGljIHN0YXRpYyBTdHJpbmcgZ2V0UGFnZUV4dGVuc2lvbkxpc3Qo
KSB7DQotCQlTdHJpbmdCdWZmZXIgYnVmID0gbmV3IFN0cmluZ0J1ZmZlcigpOw0KLQ0KLQkJZm9y
IChpbnQgaSA9IDA7IGkgPCBwYWdlRXh0ZW5zaW9ucy5sZW5ndGg7ICsraSkgew0KLQkJCWJ1Zi5h
cHBlbmQoJy4nKTsNCi0JCQlidWYuYXBwZW5kKHBhZ2VFeHRlbnNpb25zW2ldKTsNCi0JCQlpZiAo
aSAhPSBwYWdlRXh0ZW5zaW9ucy5sZW5ndGggLSAxKSB7DQotCQkJCWJ1Zi5hcHBlbmQoIiwgIik7
IC8vJE5PTi1OTFMtMSQNCi0JCQl9DQotCQl9DQotDQotCQlyZXR1cm4gYnVmLnRvU3RyaW5nKCk7
DQotCX0NCi19DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3Iv
dG9jL1RvY1RyZWVTZWN0aW9uLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9vdC9l
Y2xpcHNlL29yZy5lY2xpcHNlLnBkZS51aS9zcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3Vp
L2VkaXRvci90b2MvVG9jVHJlZVNlY3Rpb24uamF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEu
MTINCmRpZmYgLXUgLXIxLjEyIFRvY1RyZWVTZWN0aW9uLmphdmENCi0tLSBzcmMvb3JnL2VjbGlw
c2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvVG9jVHJlZVNlY3Rpb24uamF2YQkxNiBKYW4g
MjAwOCAxNzowODoyNyAtMDAwMAkxLjEyDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5h
bC91aS9lZGl0b3IvdG9jL1RvY1RyZWVTZWN0aW9uLmphdmEJMTggSmFuIDIwMDggMTk6NDY6NDcg
LTAwMDANCkBAIC0xLDUgKzEsNSBAQA0KIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQotICogQ29w
eXJpZ2h0IChjKSAyMDA3IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIENvcHlyaWdo
dCAoYykgMjAwNywgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCiAgKiBBbGwgcmln
aHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxz
DQogICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQ
dWJsaWMgTGljZW5zZSB2MS4wDQogICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRp
b24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCkBAIC0zNTYsMTEgKzM1NiwxMSBAQA0KIA0KIAkJCQlU
b2NPYmplY3QgcGFyZW50ID0gdG9jT2JqZWN0LmdldFBhcmVudCgpOw0KIAkJCQlpZiAoc2VsLnNp
emUoKSA9PSAxICYmICh0b2NPYmplY3QuZ2V0VHlwZSgpID09IElUb2NDb25zdGFudHMuVFlQRV9U
T0MgfHwgcGFyZW50LmdldFR5cGUoKSA9PSBJVG9jQ29uc3RhbnRzLlRZUEVfVE9QSUMgfHwgcGFy
ZW50LmdldFR5cGUoKSA9PSBJVG9jQ29uc3RhbnRzLlRZUEVfVE9DKSkgeyAvKiBTZW1hbnRpYyBy
dWxlOiANCi0JCQkJCQkJCSAqIEFzIGxvbmcgYXMgdGhlIHNlbGVjdGlvbiBpcyBhIGNoaWxkIG9m
IGEgDQotCQkJCQkJCQkgKiBUT0Mgcm9vdCBvciBhIHRvcGljLCBvciB0aGUgc2VsZWN0aW9uIGl0
c2VsZg0KLQkJCQkJCQkJICogaXMgYSBUT0Mgcm9vdCwgdGhlbiBhIG5ldyBvYmplY3QgY2FuIGJl
IGFkZGVkDQotCQkJCQkJCQkgKiBlaXRoZXIgdG8gdGhlIHNlbGVjdGlvbiBvciB0byB0aGUgcGFy
ZW50DQotCQkJCQkJCQkgKi8NCisJCQkJCQkJCQkJCQkJCQkJCSAqIEFzIGxvbmcgYXMgdGhlIHNl
bGVjdGlvbiBpcyBhIGNoaWxkIG9mIGEgDQorCQkJCQkJCQkJCQkJCQkJCQkgKiBUT0Mgcm9vdCBv
ciBhIHRvcGljLCBvciB0aGUgc2VsZWN0aW9uIGl0c2VsZg0KKwkJCQkJCQkJCQkJCQkJCQkJICog
aXMgYSBUT0Mgcm9vdCwgdGhlbiBhIG5ldyBvYmplY3QgY2FuIGJlIGFkZGVkDQorCQkJCQkJCQkJ
CQkJCQkJCQkgKiBlaXRoZXIgdG8gdGhlIHNlbGVjdGlvbiBvciB0byB0aGUgcGFyZW50DQorCQkJ
CQkJCQkJCQkJCQkJCQkgKi8NCiAJCQkJCWNhbkFkZE9iamVjdCA9IHRydWU7DQogCQkJCX0NCiAN
CkBAIC02NzAsMTMgKzY3MCwxMyBAQA0KIAkJU3RyaW5nIG1lc3NhZ2UgPSBudWxsOw0KIA0KIAkJ
aWYgKHRvY0ZpbGUpIHsNCi0JCQlpZiAoVG9jRXh0ZW5zaW9uVXRpbC5pc1RPQ0ZpbGUocGF0aCkp
IHsNCisJCQlpZiAoSGVscEVkaXRvclV0aWwuaXNUT0NGaWxlKHBhdGgpKSB7DQogCQkJCXJldHVy
biB0cnVlOw0KIAkJCX0NCiANCiAJCQltZXNzYWdlID0gUERFVUlNZXNzYWdlcy5Ub2NQYWdlX2lu
dmFsaWRUb2NGaWxlOw0KIAkJfSBlbHNlIHsNCi0JCQlpZiAoVG9jRXh0ZW5zaW9uVXRpbC5oYXNW
YWxpZFBhZ2VFeHRlbnNpb24ocGF0aCkpIHsNCisJCQlpZiAoSGVscEVkaXRvclV0aWwuaGFzVmFs
aWRQYWdlRXh0ZW5zaW9uKHBhdGgpKSB7DQogCQkJCXJldHVybiB0cnVlOw0KIAkJCX0NCiANCkBA
IC03MzksNyArNzM5LDcgQEANCiAJICogDQogCSAqIEBwYXJhbSBkcm9wVGFyZ2V0IFRoZSB0YXJn
ZXQgdGhhdCB0aGUgZHJvcCBvY2N1cnMgbmVhci9vbg0KIAkgKiBAcGFyYW0gZHJvcExvY2F0aW9u
IFRoZSBsb2NhdGlvbiBvZiB0aGUgZHJvcCByZWxhdGl2ZSB0byB0aGUgdGFyZ2V0DQotCSAqIEBy
ZXR1cm4NCisJICogQHJldHVybiBwYXJlbnQNCiAJICovDQogCXByaXZhdGUgVG9jVG9waWMgZGV0
ZXJtaW5lUGFyZW50KFRvY09iamVjdCBkcm9wVGFyZ2V0LCBpbnQgZHJvcExvY2F0aW9uKSB7DQog
CQkvL1dlIG11c3QgZGV0ZXJtaW5lIHdoYXQgb2JqZWN0IHdpbGwgYmUgdGhlIHBhcmVudCBvZiB0
aGUNCkBAIC03NTUsMTQgKzc1NSwxNCBAQA0KIAkJfSBlbHNlIHsgLy9JbiBhbGwgb3RoZXIgY2Fz
ZXMsIGl0IGRlcGVuZHMgb24gdGhlIGxvY2F0aW9uIG9mIHRoZSBkcm9wDQogCQkJLy9yZWxhdGl2
ZSB0byB0aGUgZHJvcCB0YXJnZXQNCiAJCQlzd2l0Y2ggKGRyb3BMb2NhdGlvbikgew0KLQkJCQlj
YXNlIFRvY0Ryb3BBZGFwdGVyLkxPQ0FUSU9OX0pVU1RfQUZURVIgOiB7IC8vaWYgdGhlIGRyb3Ag
b2NjdXJlZCBhZnRlciBhbiBleHBhbmRlZCBub2RlDQorCQkJCWNhc2UgVG9jRHJvcEFkYXB0ZXIu
TE9DQVRJT05fSlVTVF9BRlRFUiA6IHsgLy9pZiB0aGUgZHJvcCBvY2N1cnJlZCBhZnRlciBhbiBl
eHBhbmRlZCBub2RlDQogCQkJCQkvL2FuZCBhbGwgb2YgaXRzIGNoaWxkcmVuLA0KIAkJCQkJLy9t
YWtlIHRoZSBkcm9wIHRhcmdldCdzIHBhcmVudCB0aGUgdGFyZ2V0IHBhcmVudCBvYmplY3QNCiAJ
CQkJCWlmICghZlRvY1RyZWUuZ2V0RXhwYW5kZWRTdGF0ZShkcm9wVGFyZ2V0KSkgew0KIAkJCQkJ
CXJldHVybiAoVG9jVG9waWMpIGRyb3BUYXJnZXQuZ2V0UGFyZW50KCk7DQogCQkJCQl9DQogCQkJ
CQkvL290aGVyd2lzZSwgdGhlIHRhcmdldCBwYXJlbnQgaXMgdGhlIGRyb3AgdGFyZ2V0LA0KLQkJ
CQkJLy9zaW5jZSB0aGUgZHJvcCBvY2N1cmVkIGJldHdlZW4gaXQgYW5kIGl0cyBmaXJzdCBjaGls
ZA0KKwkJCQkJLy9zaW5jZSB0aGUgZHJvcCBvY2N1cnJlZCBiZXR3ZWVuIGl0IGFuZCBpdHMgZmly
c3QgY2hpbGQNCiAJCQkJfQ0KIAkJCQljYXNlIFZpZXdlckRyb3BBZGFwdGVyLkxPQ0FUSU9OX09O
IDogeyAvL3RoZSBkcm9wIGxvY2F0aW9uIGlzIGRpcmVjdGx5IG9uIHRoZSBkcm9wIHRhcmdldA0K
IAkJCQkJLy9zZXQgdGhlIHBhcmVudCBvYmplY3QgdG8gYmUgdGhlIGRyb3AgdGFyZ2V0DQpAQCAt
ODExLDExICs4MTEsMTEgQEANCiAJCQkJLy8gSWYgdGhlIHBhdGggaXMgdG8gYSB2YWxpZCBUT0Mg
ZmlsZQ0KIAkJCQkvLyBhbmQgaXQgaXNuJ3QgdGhlIGZpbGUgaW4gdGhpcyBtb2RlbA0KIAkJCQkv
LyB0aGVuIG1ha2UgYSBsaW5rDQotCQkJCWlmIChUb2NFeHRlbnNpb25VdGlsLmlzVE9DRmlsZShw
YXRoKSAmJiAhVG9jRXh0ZW5zaW9uVXRpbC5pc0N1cnJlbnRSZXNvdXJjZShwYXRoLCBmTW9kZWwp
KSB7DQorCQkJCWlmIChIZWxwRWRpdG9yVXRpbC5pc1RPQ0ZpbGUocGF0aCkgJiYgIUhlbHBFZGl0
b3JVdGlsLmlzQ3VycmVudFJlc291cmNlKHBhdGgsIGZNb2RlbCkpIHsNCiAJCQkJCXRvY09iamVj
dHMuYWRkKG1ha2VOZXdUb2NMaW5rKHRhcmdldFBhcmVudCwgZmlsZSkpOw0KIAkJCQl9DQogCQkJ
CS8vIElmIHRoZSBwYXRoIGlzIHRvIGEgZmlsZSB3aXRoIGFuIEhUTUwgcGFnZSBleHRlbnNpb24s
IG1ha2UgYSB0b3BpYw0KLQkJCQllbHNlIGlmIChUb2NFeHRlbnNpb25VdGlsLmhhc1ZhbGlkUGFn
ZUV4dGVuc2lvbihwYXRoKSkgew0KKwkJCQllbHNlIGlmIChIZWxwRWRpdG9yVXRpbC5oYXNWYWxp
ZFBhZ2VFeHRlbnNpb24ocGF0aCkpIHsNCiAJCQkJCVRvY1RvcGljIHRvcGljID0gbWFrZU5ld1Rv
Y1RvcGljKHRhcmdldFBhcmVudCwgZmlsZSk7DQogCQkJCQlTdHJpbmcgdGl0bGUgPSBnZW5lcmF0
ZVRpdGxlKHRhcmdldFBhcmVudCwgcGF0aCk7DQogDQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3Bk
ZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL1RvY0ZpbGVWYWxpZGF0b3IuamF2YQ0KPT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlwc2UucGRlLnVpL3NyYy9vcmcv
ZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9Ub2NGaWxlVmFsaWRhdG9yLmphdmEs
dg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjUNCmRpZmYgLXUgLXIxLjUgVG9jRmlsZVZhbGlkYXRv
ci5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL1Rv
Y0ZpbGVWYWxpZGF0b3IuamF2YQkxNiBKYW4gMjAwOCAxNzowODoyNyAtMDAwMAkxLjUNCisrKyBz
cmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvVG9jRmlsZVZhbGlkYXRv
ci5qYXZhCTE4IEphbiAyMDA4IDE5OjQ2OjQ3IC0wMDAwDQpAQCAtMSw1ICsxLDUgQEANCiAvKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKg0KLSAqIENvcHlyaWdodCAoYykgMjAwNyBJQk0gQ29ycG9yYXRp
b24gYW5kIG90aGVycy4NCisgKiBDb3B5cmlnaHQgKGMpIDIwMDcsIDIwMDggSUJNIENvcnBvcmF0
aW9uIGFuZCBvdGhlcnMuDQogICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFu
ZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KICAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRl
ciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KICAqIHdoaWNo
IGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQpAQCAt
NDgsMTIgKzQ4LDEyIEBADQogCQl9DQogCQlJRmlsZSBmaWxlID0gKElGaWxlKSBzZWxlY3Rpb25b
MF07DQogCQkvLyBFbnN1cmUgd2UgaGF2ZSBhIFRPQyBmaWxlDQotCQlpZiAoIVRvY0V4dGVuc2lv
blV0aWwuaXNUT0NGaWxlKGZpbGUuZ2V0RnVsbFBhdGgoKSkpIHsNCisJCWlmICghSGVscEVkaXRv
clV0aWwuaXNUT0NGaWxlKGZpbGUuZ2V0RnVsbFBhdGgoKSkpIHsNCiAJCQlyZXR1cm4gZXJyb3JT
dGF0dXMoUERFVUlNZXNzYWdlcy5Ub2NGaWxlVmFsaWRhdG9yX2Vycm9ySW52YWxpZFRPQyk7DQog
CQl9DQogDQogCQkvL0Vuc3VyZSB0aGF0IHRoZSBUT0MgZmlsZSBzZWxlY3RlZCBpc24ndCB0aGUg
Y3VycmVudCBmaWxlDQotCQlpZiAoVG9jRXh0ZW5zaW9uVXRpbC5pc0N1cnJlbnRSZXNvdXJjZShm
aWxlLmdldEZ1bGxQYXRoKCksIGZNb2RlbCkpIHsNCisJCWlmIChIZWxwRWRpdG9yVXRpbC5pc0N1
cnJlbnRSZXNvdXJjZShmaWxlLmdldEZ1bGxQYXRoKCksIGZNb2RlbCkpIHsNCiAJCQlyZXR1cm4g
ZXJyb3JTdGF0dXMoUERFVUlNZXNzYWdlcy5Ub2NGaWxlVmFsaWRhdG9yX2Vycm9yU2FtZVRPQyk7
DQogCQl9DQogDQpAQCAtNjIsMTggKzYyLDEwIEBADQogDQogCX0NCiANCi0JLyoqDQotCSAqIEBw
YXJhbSBtZXNzYWdlDQotCSAqIEByZXR1cm4NCi0JICovDQogCXByaXZhdGUgSVN0YXR1cyBlcnJv
clN0YXR1cyhTdHJpbmcgbWVzc2FnZSkgew0KIAkJcmV0dXJuIG5ldyBTdGF0dXMoSVN0YXR1cy5F
UlJPUiwgUERFUGx1Z2luLmdldFBsdWdpbklkKCksIElTdGF0dXMuRVJST1IsIG1lc3NhZ2UsIG51
bGwpOw0KIAl9DQogDQotCS8qKg0KLQkgKiBAcGFyYW0gbWVzc2FnZQ0KLQkgKiBAcmV0dXJuDQot
CSAqLw0KIAlwcml2YXRlIElTdGF0dXMgb2tTdGF0dXMoU3RyaW5nIG1lc3NhZ2UpIHsNCiAJCXJl
dHVybiBuZXcgU3RhdHVzKElTdGF0dXMuT0ssIFBERVBsdWdpbi5nZXRQbHVnaW5JZCgpLCBJU3Rh
dHVzLk9LLCBtZXNzYWdlLCBudWxsKTsNCiAJfQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9wZGUv
aW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9kZXRhaWxzL1RvY0xpbmtEZXRhaWxzLmphdmENCj09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9vdC9lY2xpcHNlL29yZy5lY2xpcHNlLnBkZS51aS9zcmMv
b3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvZGV0YWlscy9Ub2NMaW5rRGV0
YWlscy5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS42DQpkaWZmIC11IC1yMS42IFRvY0xp
bmtEZXRhaWxzLmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRv
ci90b2MvZGV0YWlscy9Ub2NMaW5rRGV0YWlscy5qYXZhCTE2IEphbiAyMDA4IDE3OjA4OjM0IC0w
MDAwCTEuNg0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9k
ZXRhaWxzL1RvY0xpbmtEZXRhaWxzLmphdmEJMTggSmFuIDIwMDggMTk6NDY6NDcgLTAwMDANCkBA
IC0xMjUsNyArMTI1LDcgQEANCiAJCWRpYWxvZy5zZXRBbGxvd011bHRpcGxlKGZhbHNlKTsNCiAJ
CWRpYWxvZy5zZXRUaXRsZShQREVVSU1lc3NhZ2VzLlRvY0xpbmtEZXRhaWxzX2Jyb3dzZVNlbGVj
dGlvbik7DQogCQlkaWFsb2cuc2V0TWVzc2FnZShQREVVSU1lc3NhZ2VzLlRvY0xpbmtEZXRhaWxz
X2Jyb3dzZU1lc3NhZ2UpOw0KLQkJZGlhbG9nLmFkZEZpbHRlcihuZXcgRmlsZUV4dGVuc2lvbkZp
bHRlcihUb2NFeHRlbnNpb25VdGlsLnRvY0V4dGVuc2lvbikpOw0KKwkJZGlhbG9nLmFkZEZpbHRl
cihuZXcgRmlsZUV4dGVuc2lvbkZpbHRlcihIZWxwRWRpdG9yVXRpbC50b2NFeHRlbnNpb24pKTsN
CiANCiAJCWRpYWxvZy5zZXRJbnB1dChQREVQbHVnaW4uZ2V0V29ya3NwYWNlKCkuZ2V0Um9vdCgp
KTsNCiANCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2Mv
ZGV0YWlscy9Ub2NQYWdlRmlsdGVyLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiBzcmMvb3Jn
L2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvZGV0YWlscy9Ub2NQYWdlRmlsdGVy
LmphdmENCmRpZmYgLU4gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9j
L2RldGFpbHMvVG9jUGFnZUZpbHRlci5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRl
cm5hbC91aS9lZGl0b3IvdG9jL2RldGFpbHMvVG9jUGFnZUZpbHRlci5qYXZhCTE2IEphbiAyMDA4
IDE3OjA4OjM0IC0wMDAwCTEuMw0KKysrIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0w
MDAwDQpAQCAtMSw0NyArMCwwIEBADQotLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCi0gKiBDb3B5
cmlnaHQgKGMpIDIwMDcgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQotICogQWxsIHJpZ2h0
cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0K
LSAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVi
bGljIExpY2Vuc2UgdjEuMA0KLSAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9u
LCBhbmQgaXMgYXZhaWxhYmxlIGF0DQotICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9l
cGwtdjEwLmh0bWwNCi0gKg0KLSAqIENvbnRyaWJ1dG9yczoNCi0gKiAgICAgSUJNIENvcnBvcmF0
aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQotICoqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKiovDQotDQotcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLnRv
Yy5kZXRhaWxzOw0KLQ0KLWltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJlc291cmNlcy4qOw0KLWlt
cG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1bnRpbWUuQ29yZUV4Y2VwdGlvbjsNCi1pbXBvcnQgb3Jn
LmVjbGlwc2UuY29yZS5ydW50aW1lLklQYXRoOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS52
aWV3ZXJzLlZpZXdlcjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy5WaWV3ZXJG
aWx0ZXI7DQotaW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IudG9jLlRv
Y0V4dGVuc2lvblV0aWw7DQotDQotcHVibGljIGNsYXNzIFRvY1BhZ2VGaWx0ZXIgZXh0ZW5kcyBW
aWV3ZXJGaWx0ZXIgew0KLQlwdWJsaWMgYm9vbGVhbiBzZWxlY3QoVmlld2VyIHZpZXdlciwgT2Jq
ZWN0IHBhcmVudCwgT2JqZWN0IGVsZW1lbnQpIHsNCi0JCWlmIChlbGVtZW50IGluc3RhbmNlb2Yg
SUZpbGUpIHsNCi0JCQlJUGF0aCBwYXRoID0gKChJRmlsZSkgZWxlbWVudCkuZ2V0RnVsbFBhdGgo
KTsNCi0NCi0JCQlyZXR1cm4gVG9jRXh0ZW5zaW9uVXRpbC5oYXNWYWxpZFBhZ2VFeHRlbnNpb24o
cGF0aCk7DQotCQl9DQotDQotCQlpZiAoZWxlbWVudCBpbnN0YW5jZW9mIElQcm9qZWN0ICYmICEo
KElQcm9qZWN0KSBlbGVtZW50KS5pc09wZW4oKSkgew0KLQkJCXJldHVybiBmYWxzZTsNCi0JCX0N
Ci0NCi0JCWlmIChlbGVtZW50IGluc3RhbmNlb2YgSUNvbnRhaW5lcikgew0KLQkJCXRyeSB7DQot
CQkJCUlSZXNvdXJjZVtdIHJlc291cmNlcyA9ICgoSUNvbnRhaW5lcikgZWxlbWVudCkubWVtYmVy
cygpOw0KLQkJCQlmb3IgKGludCBpID0gMDsgaSA8IHJlc291cmNlcy5sZW5ndGg7IGkrKykgew0K
LQkJCQkJaWYgKHNlbGVjdCh2aWV3ZXIsIHBhcmVudCwgcmVzb3VyY2VzW2ldKSkgew0KLQkJCQkJ
CXJldHVybiB0cnVlOw0KLQkJCQkJfQ0KLQkJCQl9DQotCQkJfSBjYXRjaCAoQ29yZUV4Y2VwdGlv
biBlKSB7DQotCQkJfQ0KLQkJfQ0KLQ0KLQkJcmV0dXJuIGZhbHNlOw0KLQl9DQotfQ0KSW5kZXg6
IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9kZXRhaWxzL1RvY1Rv
cGljRGV0YWlscy5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9v
cmcuZWNsaXBzZS5wZGUudWkvc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3Iv
dG9jL2RldGFpbHMvVG9jVG9waWNEZXRhaWxzLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lvbiAx
LjUNCmRpZmYgLXUgLXIxLjUgVG9jVG9waWNEZXRhaWxzLmphdmENCi0tLSBzcmMvb3JnL2VjbGlw
c2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvZGV0YWlscy9Ub2NUb3BpY0RldGFpbHMuamF2
YQkxNiBKYW4gMjAwOCAxNzowODozNCAtMDAwMAkxLjUNCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRl
L2ludGVybmFsL3VpL2VkaXRvci90b2MvZGV0YWlscy9Ub2NUb3BpY0RldGFpbHMuamF2YQkxOCBK
YW4gMjAwOCAxOTo0Njo0NyAtMDAwMA0KQEAgLTEsNSArMSw1IEBADQogLyoqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioNCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDcgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhl
cnMuDQorICogQ29weXJpZ2h0IChjKSAyMDA3LCAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3Ro
ZXJzLg0KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29t
cGFueWluZyBtYXRlcmlhbHMNCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1z
IG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCiAgKiB3aGljaCBhY2NvbXBhbmll
cyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KQEAgLTgsNyArOCw2IEBA
DQogICogQ29udHJpYnV0b3JzOg0KICAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQ
SSBhbmQgaW1wbGVtZW50YXRpb24NCiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCi0NCiBwYWNr
YWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IudG9jLmRldGFpbHM7DQogDQog
aW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLklGaWxlOw0KQEAgLTE1MCwxMCArMTQ5
LDEwIEBADQogDQogCQlkaWFsb2cuc2V0VmFsaWRhdG9yKG5ldyBGaWxlVmFsaWRhdG9yKCkpOw0K
IAkJZGlhbG9nLnNldEFsbG93TXVsdGlwbGUoZmFsc2UpOw0KLQkJZGlhbG9nLnNldFRpdGxlKFBE
RVVJTWVzc2FnZXMuVG9jRGV0YWlsc19icm93c2VTZWxlY3Rpb24pOw0KLQkJZGlhbG9nLnNldE1l
c3NhZ2UoUERFVUlNZXNzYWdlcy5Ub2NEZXRhaWxzX2Jyb3dzZU1lc3NhZ2UpOw0KLQkJZGlhbG9n
LmFkZEZpbHRlcihuZXcgVG9jUGFnZUZpbHRlcigpKTsNCi0NCisJCWRpYWxvZy5zZXRUaXRsZShQ
REVVSU1lc3NhZ2VzLlRvY0RldGFpbHNfYnJvd3NlU2VsZWN0aW9uKTsgIA0KKwkJZGlhbG9nLnNl
dE1lc3NhZ2UoUERFVUlNZXNzYWdlcy5Ub2NEZXRhaWxzX2Jyb3dzZU1lc3NhZ2UpOyAgDQorCQlk
aWFsb2cuYWRkRmlsdGVyKG5ldyBIZWxwRWRpdG9yRmlsdGVyKCkpOw0KKwkJDQogCQlkaWFsb2cu
c2V0SW5wdXQoUERFUGx1Z2luLmdldFdvcmtzcGFjZSgpLmdldFJvb3QoKSk7DQogDQogCQlpZiAo
ZGlhbG9nLm9wZW4oKSA9PSBXaW5kb3cuT0spIHsNCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRl
L2ludGVybmFsL3VpL2VkaXRvci90b2MvZGV0YWlscy9Ub2NEZXRhaWxzLmphdmENCj09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT0NClJDUyBmaWxlOiAvY3Zzcm9vdC9lY2xpcHNlL29yZy5lY2xpcHNlLnBkZS51aS9zcmMvb3Jn
L2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci90b2MvZGV0YWlscy9Ub2NEZXRhaWxzLmph
dmEsdg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjQNCmRpZmYgLXUgLXIxLjQgVG9jRGV0YWlscy5q
YXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL2RldGFp
bHMvVG9jRGV0YWlscy5qYXZhCTE2IEphbiAyMDA4IDE3OjA4OjM0IC0wMDAwCTEuNA0KKysrIHNy
Yy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9kZXRhaWxzL1RvY0RldGFp
bHMuamF2YQkxOCBKYW4gMjAwOCAxOTo0Njo0NyAtMDAwMA0KQEAgLTEsNSArMSw1IEBADQogLyoq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioNCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDcgSUJNIENvcnBvcmF0
aW9uIGFuZCBvdGhlcnMuDQorICogQ29weXJpZ2h0IChjKSAyMDA3LCAyMDA4IElCTSBDb3Jwb3Jh
dGlvbiBhbmQgb3RoZXJzLg0KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBh
bmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5k
ZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCiAgKiB3aGlj
aCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KQEAg
LTE4Miw3ICsxODIsNyBAQA0KIAkJZGlhbG9nLnNldEFsbG93TXVsdGlwbGUoZmFsc2UpOw0KIAkJ
ZGlhbG9nLnNldFRpdGxlKFBERVVJTWVzc2FnZXMuVG9jRGV0YWlsc19icm93c2VTZWxlY3Rpb24p
Ow0KIAkJZGlhbG9nLnNldE1lc3NhZ2UoUERFVUlNZXNzYWdlcy5Ub2NEZXRhaWxzX2Jyb3dzZU1l
c3NhZ2UpOw0KLQkJZGlhbG9nLmFkZEZpbHRlcihuZXcgVG9jUGFnZUZpbHRlcigpKTsNCisJCWRp
YWxvZy5hZGRGaWx0ZXIobmV3IEhlbHBFZGl0b3JGaWx0ZXIoKSk7DQogDQogCQlkaWFsb2cuc2V0
SW5wdXQoUERFUGx1Z2luLmdldFdvcmtzcGFjZSgpLmdldFJvb3QoKSk7DQogDQpJbmRleDogcGx1
Z2luLnByb3BlcnRpZXMNCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9vdC9lY2xpcHNlL29y
Zy5lY2xpcHNlLnBkZS51aS9wbHVnaW4ucHJvcGVydGllcyx2DQpyZXRyaWV2aW5nIHJldmlzaW9u
IDEuMjA4DQpkaWZmIC11IC1yMS4yMDggcGx1Z2luLnByb3BlcnRpZXMNCi0tLSBwbHVnaW4ucHJv
cGVydGllcwkxMSBEZWMgMjAwNyAxODowMzoyMiAtMDAwMAkxLjIwOA0KKysrIHBsdWdpbi5wcm9w
ZXJ0aWVzCTE4IEphbiAyMDA4IDE5OjQ2OjQyIC0wMDAwDQpAQCAtMTk1LDYgKzE5NSw3IEBADQog
Y29tcG9zaXRlLmNoZWF0LnNoZWF0LmVkaXRvci5uYW1lID0gQ29tcG9zaXRlIENoZWF0IFNoZWV0
IEVkaXRvcg0KIA0KIHRvYy5lZGl0b3IgPSBUYWJsZSBvZiBDb250ZW50cyBFZGl0b3INCitjdHho
ZWxwLmVkaXRvciA9IENvbnRleHQgSGVscCBFZGl0b3INCiANCiBwYWdlLm5hbWUuMCA9IE9TR2kg
RnJhbWV3b3Jrcw0KIA0KSW5kZXg6IHBsdWdpbi54bWwNCj09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAv
Y3Zzcm9vdC9lY2xpcHNlL29yZy5lY2xpcHNlLnBkZS51aS9wbHVnaW4ueG1sLHYNCnJldHJpZXZp
bmcgcmV2aXNpb24gMS40MzUNCmRpZmYgLXUgLXIxLjQzNSBwbHVnaW4ueG1sDQotLS0gcGx1Z2lu
LnhtbAkxNCBKYW4gMjAwOCAxNjowNDo0NCAtMDAwMAkxLjQzNQ0KKysrIHBsdWdpbi54bWwJMTgg
SmFuIDIwMDggMTk6NDY6NDMgLTAwMDANCkBAIC00MjIsNiArNDIyLDE3IEBADQogICAgICAgICAg
ICAgICAgY29udGVudFR5cGVJZD0ib3JnLmVjbGlwc2UucGRlLnRvY0ZpbGUiPg0KICAgICAgICAg
IDwvY29udGVudFR5cGVCaW5kaW5nPg0KICAgICAgIDwvZWRpdG9yPg0KKyAgICAgIDxlZGl0b3IN
CisgICAgICAgICAgICBjbGFzcz0ib3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5j
dHhoZWxwLkN0eEhlbHBFZGl0b3IiDQorICAgICAgICAgICAgY29udHJpYnV0b3JDbGFzcz0ib3Jn
LmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci50b2MuVG9jRWRpdG9yQ29udHJpYnV0b3Ii
DQorICAgICAgICAgICAgZGVmYXVsdD0idHJ1ZSINCisgICAgICAgICAgICBpY29uPSIkbmwkL2lj
b25zL29iajE2L3RvY19vYmouZ2lmIg0KKyAgICAgICAgICAgIGlkPSJvcmcuZWNsaXBzZS5wZGUu
dWkuY3R4SGVscEVkaXRvciINCisgICAgICAgICAgICBuYW1lPSIlY3R4aGVscC5lZGl0b3IiPg0K
KyAgICAgICAgIDxjb250ZW50VHlwZUJpbmRpbmcNCisgICAgICAgICAgICAgICBjb250ZW50VHlw
ZUlkPSJvcmcuZWNsaXBzZS5wZGUuY3R4SGVscEZpbGUiPg0KKyAgICAgICAgIDwvY29udGVudFR5
cGVCaW5kaW5nPg0KKyAgICAgIDwvZWRpdG9yPg0KICAgIDwvZXh0ZW5zaW9uPg0KICAgIDxleHRl
bnNpb24NCiAgICAgICAgICBwb2ludD0ib3JnLmVjbGlwc2UudWkudmlld3MiPg0KSW5kZXg6IHNy
Yy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvd2l6YXJkcy90b2MvVG9jSFRNTFdpemFyZFBh
Z2UuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2VjbGlwc2Uvb3JnLmVjbGlw
c2UucGRlLnVpL3NyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvd2l6YXJkcy90b2MvVG9j
SFRNTFdpemFyZFBhZ2UuamF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuMw0KZGlmZiAtdSAt
cjEuMyBUb2NIVE1MV2l6YXJkUGFnZS5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRl
cm5hbC91aS93aXphcmRzL3RvYy9Ub2NIVE1MV2l6YXJkUGFnZS5qYXZhCTE2IEphbiAyMDA4IDE3
OjA4OjI0IC0wMDAwCTEuMw0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvd2l6
YXJkcy90b2MvVG9jSFRNTFdpemFyZFBhZ2UuamF2YQkxOCBKYW4gMjAwOCAxOTo0Njo0NyAtMDAw
MA0KQEAgLTEsNSArMSw1IEBADQogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCi0gKiBDb3B5cmln
aHQgKGMpIDIwMDcgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQ29weXJpZ2h0IChj
KSAyMDA3LCAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KICAqIEFsbCByaWdodHMg
cmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCiAg
KiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1Ymxp
YyBMaWNlbnNlIHYxLjANCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwg
YW5kIGlzIGF2YWlsYWJsZSBhdA0KQEAgLTE2LDcgKzE2LDcgQEANCiBpbXBvcnQgb3JnLmVjbGlw
c2Uub3NnaS51dGlsLk5MUzsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLlBE
RVBsdWdpbjsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLlBERVVJTWVzc2Fn
ZXM7DQotaW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IudG9jLlRvY0V4
dGVuc2lvblV0aWw7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3Iu
dG9jLkhlbHBFZGl0b3JVdGlsOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5zd3Qud2lkZ2V0cy5Db21w
b3NpdGU7DQogaW1wb3J0IG9yZy5lY2xpcHNlLnVpLmRpYWxvZ3MuV2l6YXJkTmV3RmlsZUNyZWF0
aW9uUGFnZTsNCiANCkBAIC01NSw5ICs1NSwxMSBAQA0KIAkJCXJldHVybiBmYWxzZTsNCiAJCX0N
CiANCi0JCWlmICghVG9jRXh0ZW5zaW9uVXRpbC5oYXNWYWxpZFBhZ2VFeHRlbnNpb24obmV3IFBh
dGgoZkxhc3RGaWxlbmFtZSkpKSB7DQotCQkJU3RyaW5nIG1lc3NhZ2UgPSBOTFMuYmluZChQREVV
SU1lc3NhZ2VzLlRvY0hUTUxXaXphcmRQYWdlX2JhZEV4dGVuc2lvbiwgVG9jRXh0ZW5zaW9uVXRp
bC5nZXRQYWdlRXh0ZW5zaW9uTGlzdCgpKTsNCi0NCisJCWlmKCFIZWxwRWRpdG9yVXRpbC5oYXNW
YWxpZFBhZ2VFeHRlbnNpb24obmV3IFBhdGgoZkxhc3RGaWxlbmFtZSkpKQ0KKwkJewlTdHJpbmcg
bWVzc2FnZSA9IE5MUy5iaW5kKA0KKwkJCQlQREVVSU1lc3NhZ2VzLlRvY0hUTUxXaXphcmRQYWdl
X2JhZEV4dGVuc2lvbiwgDQorCQkJCUhlbHBFZGl0b3JVdGlsLmdldFBhZ2VFeHRlbnNpb25MaXN0
KCkpOw0KKwkJDQogCQkJc2V0RXJyb3JNZXNzYWdlKG1lc3NhZ2UpOw0KIAkJCXJldHVybiBmYWxz
ZTsNCiAJCX0NCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL3BkZXJlc291
cmNlcy5wcm9wZXJ0aWVzDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9v
cmcuZWNsaXBzZS5wZGUudWkvc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9wZGVyZXNv
dXJjZXMucHJvcGVydGllcyx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuOTU3DQpkaWZmIC11IC1y
MS45NTcgcGRlcmVzb3VyY2VzLnByb3BlcnRpZXMNCi0tLSBzcmMvb3JnL2VjbGlwc2UvcGRlL2lu
dGVybmFsL3VpL3BkZXJlc291cmNlcy5wcm9wZXJ0aWVzCTE2IEphbiAyMDA4IDAwOjU1OjAxIC0w
MDAwCTEuOTU3DQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9wZGVyZXNvdXJj
ZXMucHJvcGVydGllcwkxOCBKYW4gMjAwOCAxOTo0Njo0NyAtMDAwMA0KQEAgLTI0MDUsNiArMjQw
NSwzOCBAQA0KIFNwbGFzaENvbmZpZ3VyYXRpb25TZWN0aW9uX21zZ0RlY29yYXRpb25UZW1wbGF0
ZVN1cHBvcnQ9VGhpcyB0ZW1wbGF0ZSB3aWxsIG9ubHkgd29yayB3aXRoIHByb2R1Y3RzIGJ1aWx0
IG9uIEVjbGlwc2UgMy4zIGFuZCBoaWdoZXINCiBSZW1vdmVTcGxhc2hIYW5kbGVyQmluZGluZ0Fj
dGlvbl9tc2dQcm9ncmVzc1JlbW92ZVByb2R1Y3RCaW5kaW5ncz1SZW1vdmluZyBwcm9kdWN0IGJp
bmRpbmdzIGZyb20gZXh0ZW5zaW9uICcnezB9JycgLi4uDQogQ1NBYnN0cmFjdFBhZ2VfbXNnUmVn
aXN0ZXJUaGlzQ2hlYXRTaGVldD1SZWdpc3RlciB0aGlzIGNoZWF0IHNoZWV0DQorQ3R4SGVscENv
bW1hbmREZXRhaWxzX2NvbW1hbmQ9Q29tbWFuZDoNCitDdHhIZWxwQ29tbWFuZERldGFpbHNfY29t
bWFuZERldGFpbHM9Q29tbWFuZCBEZXRhaWxzDQorQ3R4SGVscENvbW1hbmREZXRhaWxzX2xhYmVs
PUxhYmVsOg0KK0N0eEhlbHBDb21tYW5kRGV0YWlsc19zcGVjaWZ5RGlzcGxheUxhYmVsPVNwZWNp
ZnkgdGhlIGRpc3BsYXkgbGFiZWwgZm9yIHRoaXMgY29tbWFuZDoNCitDdHhIZWxwQ29tbWFuZERl
dGFpbHNfc3BlY2lmeVRoZUNvbW1hbmQ9U3BlY2lmeSB0aGUgY29tbWFuZCB0byBpbnZva2U6DQor
Q3R4SGVscENvbnRleHREZXRhaWxzX2NvbnRleHREZXRhaWxzPUNvbnRleHQgRGV0YWlscw0KK0N0
eEhlbHBDb250ZXh0RGV0YWlsc19kZXNjcmlwdGlvbj1EZXNjcmlwdGlvbjoNCitDdHhIZWxwQ29u
dGV4dERldGFpbHNfaWQ9SUQ6DQorQ3R4SGVscENvbnRleHREZXRhaWxzX3NwZWNpZnlEZXNjcmlw
dGlvbj1TcGVjaWZ5IHRoZSBjb250ZXh0IGRlc2NyaXB0aW9uIHRoYXQgd2lsbCBiZSBkaXNwbGF5
ZWQgdG8gdGhlIHVzZXI6DQorQ3R4SGVscENvbnRleHREZXRhaWxzX3NwZWNpZnlJRD1TcGVjaWZ5
IHRoZSBoZWxwIGNvbnRleHQgaWQ6DQorQ3R4SGVscENvbnRleHREZXRhaWxzX3NwZWNpZnlUaXRs
ZT1PdmVycmlkZSB0aGUgZGVmYXVsdCB0aXRsZSBieSBzcGVjaWZ5aW5nIG9uZSBoZXJlOg0KK0N0
eEhlbHBDb250ZXh0RGV0YWlsc190aXRsZT1UaXRsZToNCitDdHhIZWxwRGVzY3JpcHRpb25EZXRh
aWxzX2Rlc2NyaXB0aW9uPURlc2NyaXB0aW9uOg0KK0N0eEhlbHBEZXNjcmlwdGlvbkRldGFpbHNf
c3BlY2lmeURlc2NyaXB0aW9uPVNwZWNpZnkgdGhlIGNvbnRleHQgZGVzY3JpcHRpb24gdGhhdCB3
aWxsIGJlIGRpc3BsYXllZCB0byB0aGUgdXNlcjoNCitDdHhIZWxwUGFnZV9jb250ZXh0SGVscD1D
b250ZXh0IEhlbHANCitDdHhIZWxwUGFnZV9lcnJvclBhcnNpbmc9QW4gZXJyb3Igb2NjdXJyZWQg
d2hpbGUgcGFyc2luZyB0aGUgY29udGV4dCBoZWxwIHhtbCBmaWxlLg0KK0N0eEhlbHBQYWdlX2Zh
aWxlZFRvTG9hZD1GYWlsZWQgdG8gbG9hZCBjb250ZXh0IGhlbHAgY29udGVudHMNCitDdHhIZWxw
VG9waWNEZXRhaWxzX2xhYmVsPUxhYmVsOg0KK0N0eEhlbHBUb3BpY0RldGFpbHNfbG9jYXRpb249
TG9jYXRpb246DQorQ3R4SGVscFRvcGljRGV0YWlsc19zcGVjaWZ5TGFiZWw9U3BlY2lmeSB0aGUg
ZGlzcGxheSBsYWJlbCBmb3IgdGhpcyB0b3BpYzoNCitDdHhIZWxwVG9waWNEZXRhaWxzX3NwZWNp
ZnlMb2NhdGlvbj1TcGVjaWZ5IHRoZSBsb2NhdGlvbiBvZiBhbiBIVE1MIGZpbGUgY29udGFpbmlu
ZyBjb250ZW50Og0KK0N0eEhlbHBUcmVlU2VjdGlvbl9hZGRDb21tYW5kPUFkZCBDb21tYW5kDQor
Q3R4SGVscFRyZWVTZWN0aW9uX2FkZENvbnRleHQ9QWRkIENvbnRleHQNCitDdHhIZWxwVHJlZVNl
Y3Rpb25fYWRkVG9waWM9QWRkIFRvcGljDQorQ3R4SGVscFRyZWVTZWN0aW9uX2NvbnRleHRIZWxw
PUNvbnRleHQgSGVscA0KK0N0eEhlbHBUcmVlU2VjdGlvbl9kZWZhdWx0Q29tbWFuZE5hbWU9SGVs
cF9Db21tYW5kDQorQ3R4SGVscFRyZWVTZWN0aW9uX2RlZmF1bHRDb250ZXh0TmFtZT1IZWxwX0Nv
bnRleHQNCitDdHhIZWxwVHJlZVNlY3Rpb25fZGVmYXVsdFRvcGljTmFtZT1IZWxwX1RvcGljDQor
Q3R4SGVscFRyZWVTZWN0aW9uX2VkaXRDb250ZXh0SGVscFN0cnVjdHVyZT1FZGl0IHRoZSBzdHJ1
Y3R1cmUgb2YgdGhlIGNvbnRleHQgaGVscCBmaWxlIGluIHRoaXMgc2VjdGlvbi4NCitDdHhIZWxw
VHJlZVNlY3Rpb25fbmV3Q29tbWFuZD1Db21tYW5kDQorQ3R4SGVscFRyZWVTZWN0aW9uX25ld0Nv
bnRleHQ9Q29udGV4dA0KK0N0eEhlbHBUcmVlU2VjdGlvbl9uZXdUb3BpYz1Ub3BpYw0KIFN0YXRl
Vmlld1BhZ2VfcmVxdWlyZWRCdW5kbGVzPVJlcXVpcmVkIFBsdWctaW5zDQogU3RhdGVWaWV3UGFn
ZV9pbXBvcnRlZFBhY2thZ2VzPUltcG9ydGVkIFBhY2thZ2VzDQogU3RhdGVWaWV3UGFnZV9mb2N1
c0FjdGlvblRvb2xUaXA9Rm9jdXMgb24gc2VsZWN0ZWQgaXRlbQ0KSW5kZXg6IHNyYy9vcmcvZWNs
aXBzZS9wZGUvaW50ZXJuYWwvdWkvUERFVUlNZXNzYWdlcy5qYXZhDQo9PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1Mg
ZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9vcmcuZWNsaXBzZS5wZGUudWkvc3JjL29yZy9lY2xpcHNl
L3BkZS9pbnRlcm5hbC91aS9QREVVSU1lc3NhZ2VzLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lv
biAxLjM1Mg0KZGlmZiAtdSAtcjEuMzUyIFBERVVJTWVzc2FnZXMuamF2YQ0KLS0tIHNyYy9vcmcv
ZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvUERFVUlNZXNzYWdlcy5qYXZhCTE2IEphbiAyMDA4IDAw
OjU1OjAxIC0wMDAwCTEuMzUyDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9Q
REVVSU1lc3NhZ2VzLmphdmEJMTggSmFuIDIwMDggMTk6NDY6NDUgLTAwMDANCkBAIC0yODMzLDYg
KzI4MzMsNzAgQEANCiANCiAJcHVibGljIHN0YXRpYyBTdHJpbmcgQ29tcGlsZXJzQ29uZmlndXJh
dGlvblRhYl9idWlsZFByb3BlcnRpZXNFcnJvcnM7DQogDQorCXB1YmxpYyBzdGF0aWMgU3RyaW5n
IEN0eEhlbHBDb21tYW5kRGV0YWlsc19jb21tYW5kOw0KKw0KKwlwdWJsaWMgc3RhdGljIFN0cmlu
ZyBDdHhIZWxwQ29tbWFuZERldGFpbHNfY29tbWFuZERldGFpbHM7DQorDQorCXB1YmxpYyBzdGF0
aWMgU3RyaW5nIEN0eEhlbHBDb21tYW5kRGV0YWlsc19sYWJlbDsNCisNCisJcHVibGljIHN0YXRp
YyBTdHJpbmcgQ3R4SGVscENvbW1hbmREZXRhaWxzX3NwZWNpZnlEaXNwbGF5TGFiZWw7DQorDQor
CXB1YmxpYyBzdGF0aWMgU3RyaW5nIEN0eEhlbHBDb21tYW5kRGV0YWlsc19zcGVjaWZ5VGhlQ29t
bWFuZDsNCisNCisJcHVibGljIHN0YXRpYyBTdHJpbmcgQ3R4SGVscENvbnRleHREZXRhaWxzX2Nv
bnRleHREZXRhaWxzOw0KKw0KKwlwdWJsaWMgc3RhdGljIFN0cmluZyBDdHhIZWxwQ29udGV4dERl
dGFpbHNfZGVzY3JpcHRpb247DQorDQorCXB1YmxpYyBzdGF0aWMgU3RyaW5nIEN0eEhlbHBDb250
ZXh0RGV0YWlsc19pZDsNCisNCisJcHVibGljIHN0YXRpYyBTdHJpbmcgQ3R4SGVscENvbnRleHRE
ZXRhaWxzX3NwZWNpZnlEZXNjcmlwdGlvbjsNCisNCisJcHVibGljIHN0YXRpYyBTdHJpbmcgQ3R4
SGVscENvbnRleHREZXRhaWxzX3NwZWNpZnlJRDsNCisNCisJcHVibGljIHN0YXRpYyBTdHJpbmcg
Q3R4SGVscENvbnRleHREZXRhaWxzX3NwZWNpZnlUaXRsZTsNCisNCisJcHVibGljIHN0YXRpYyBT
dHJpbmcgQ3R4SGVscENvbnRleHREZXRhaWxzX3RpdGxlOw0KKw0KKwlwdWJsaWMgc3RhdGljIFN0
cmluZyBDdHhIZWxwRGVzY3JpcHRpb25EZXRhaWxzX2Rlc2NyaXB0aW9uOw0KKw0KKwlwdWJsaWMg
c3RhdGljIFN0cmluZyBDdHhIZWxwRGVzY3JpcHRpb25EZXRhaWxzX3NwZWNpZnlEZXNjcmlwdGlv
bjsNCisNCisJcHVibGljIHN0YXRpYyBTdHJpbmcgQ3R4SGVscFBhZ2VfY29udGV4dEhlbHA7DQor
DQorCXB1YmxpYyBzdGF0aWMgU3RyaW5nIEN0eEhlbHBQYWdlX2Vycm9yUGFyc2luZzsNCisNCisJ
cHVibGljIHN0YXRpYyBTdHJpbmcgQ3R4SGVscFBhZ2VfZmFpbGVkVG9Mb2FkOw0KKw0KKwlwdWJs
aWMgc3RhdGljIFN0cmluZyBDdHhIZWxwVG9waWNEZXRhaWxzX2xhYmVsOw0KKw0KKwlwdWJsaWMg
c3RhdGljIFN0cmluZyBDdHhIZWxwVG9waWNEZXRhaWxzX2xvY2F0aW9uOw0KKw0KKwlwdWJsaWMg
c3RhdGljIFN0cmluZyBDdHhIZWxwVG9waWNEZXRhaWxzX3NwZWNpZnlMYWJlbDsNCisNCisJcHVi
bGljIHN0YXRpYyBTdHJpbmcgQ3R4SGVscFRvcGljRGV0YWlsc19zcGVjaWZ5TG9jYXRpb247DQor
DQorCXB1YmxpYyBzdGF0aWMgU3RyaW5nIEN0eEhlbHBUcmVlU2VjdGlvbl9hZGRDb21tYW5kOw0K
Kw0KKwlwdWJsaWMgc3RhdGljIFN0cmluZyBDdHhIZWxwVHJlZVNlY3Rpb25fYWRkQ29udGV4dDsN
CisNCisJcHVibGljIHN0YXRpYyBTdHJpbmcgQ3R4SGVscFRyZWVTZWN0aW9uX2FkZFRvcGljOw0K
Kw0KKwlwdWJsaWMgc3RhdGljIFN0cmluZyBDdHhIZWxwVHJlZVNlY3Rpb25fY29udGV4dEhlbHA7
DQorDQorCXB1YmxpYyBzdGF0aWMgU3RyaW5nIEN0eEhlbHBUcmVlU2VjdGlvbl9kZWZhdWx0Q29t
bWFuZE5hbWU7DQorDQorCXB1YmxpYyBzdGF0aWMgU3RyaW5nIEN0eEhlbHBUcmVlU2VjdGlvbl9k
ZWZhdWx0Q29udGV4dE5hbWU7DQorDQorCXB1YmxpYyBzdGF0aWMgU3RyaW5nIEN0eEhlbHBUcmVl
U2VjdGlvbl9kZWZhdWx0VG9waWNOYW1lOw0KKw0KKwlwdWJsaWMgc3RhdGljIFN0cmluZyBDdHhI
ZWxwVHJlZVNlY3Rpb25fZWRpdENvbnRleHRIZWxwU3RydWN0dXJlOw0KKw0KKwlwdWJsaWMgc3Rh
dGljIFN0cmluZyBDdHhIZWxwVHJlZVNlY3Rpb25fbmV3Q29tbWFuZDsNCisNCisJcHVibGljIHN0
YXRpYyBTdHJpbmcgQ3R4SGVscFRyZWVTZWN0aW9uX25ld0NvbnRleHQ7DQorDQorCXB1YmxpYyBz
dGF0aWMgU3RyaW5nIEN0eEhlbHBUcmVlU2VjdGlvbl9uZXdUb3BpYzsNCisNCiAJcHVibGljIHN0
YXRpYyBTdHJpbmcgUGx1Z2luc1ZpZXdfZGVzY3JpcHRpb247DQogDQogCXB1YmxpYyBzdGF0aWMg
U3RyaW5nIFRhcmdldFByb2ZpbGVXaW5kb3dfYWRkaXRpb25hbExvY2F0aW9uczsNCkluZGV4OiBz
cmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL0lQREVVSUNvbnN0YW50cy5qYXZhDQo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9vcmcuZWNsaXBzZS5wZGUudWkvc3Jj
L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9JUERFVUlDb25zdGFudHMuamF2YSx2DQpyZXRy
aWV2aW5nIHJldmlzaW9uIDEuMzANCmRpZmYgLXUgLXIxLjMwIElQREVVSUNvbnN0YW50cy5qYXZh
DQotLS0gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9JUERFVUlDb25zdGFudHMuamF2
YQkxNiBKYW4gMjAwOCAxNzowODozNyAtMDAwMAkxLjMwDQorKysgc3JjL29yZy9lY2xpcHNlL3Bk
ZS9pbnRlcm5hbC91aS9JUERFVUlDb25zdGFudHMuamF2YQkxOCBKYW4gMjAwOCAxOTo0Njo0MyAt
MDAwMA0KQEAgLTEsNSArMSw1IEBADQogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCi0gKiBDb3B5
cmlnaHQgKGMpIDIwMDAsIDIwMDcgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQ29w
eXJpZ2h0IChjKSAyMDAwLCAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KICAqIEFs
bCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRl
cmlhbHMNCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xp
cHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3Ry
aWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KQEAgLTI0LDYgKzI0LDcgQEANCiAJU3RyaW5n
IFNJTVBMRV9DSEVBVF9TSEVFVF9FRElUT1JfSUQgPSBQTFVHSU5fSUQgKyAiLnNpbXBsZUNoZWF0
U2hlZXRFZGl0b3IiOyAvLyROT04tTkxTLTEkDQogCVN0cmluZyBDT01QT1NJVEVfQ0hFQVRfU0hF
RVRfRURJVE9SX0lEID0gUExVR0lOX0lEICsgIi5jb21wb3NpdGVDaGVhdFNoZWV0RWRpdG9yIjsg
Ly8kTk9OLU5MUy0xJA0KIAlTdHJpbmcgVEFCTEVfT0ZfQ09OVEVOVFNfRURJVE9SX0lEID0gUExV
R0lOX0lEICsgIi50b2NFZGl0b3IiOyAvLyROT04tTkxTLTEkDQorCVN0cmluZyBDT05URVhUX0hF
TFBfRURJVE9SX0lEID0gUExVR0lOX0lEICsgIi5oZWxwQ29udGV4dEVkaXRvciI7IC8vJE5PTi1O
TFMtMSQNCiAJU3RyaW5nIFRBUkdFVF9FRElUT1JfSUQgPSBQTFVHSU5fSUQgKyAiLnRhcmdldEVk
aXRvciI7IC8vJE5PTi1OTFMtMSQNCiAJU3RyaW5nIFBMVUdJTlNfVklFV19JRCA9ICJvcmcuZWNs
aXBzZS5wZGUudWkuUGx1Z2luc1ZpZXciOyAvLyROT04tTkxTLTEkDQogCVN0cmluZyBERVBFTkRF
TkNJRVNfVklFV19JRCA9ICJvcmcuZWNsaXBzZS5wZGUudWkuRGVwZW5kZW5jaWVzVmlldyI7IC8v
JE5PTi1OTFMtMSQNCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL1BERVBs
dWdpbkltYWdlcy5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9v
cmcuZWNsaXBzZS5wZGUudWkvc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9QREVQbHVn
aW5JbWFnZXMuamF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuMTA1DQpkaWZmIC11IC1yMS4x
MDUgUERFUGx1Z2luSW1hZ2VzLmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFs
L3VpL1BERVBsdWdpbkltYWdlcy5qYXZhCTE2IEphbiAyMDA4IDE3OjA4OjM3IC0wMDAwCTEuMTA1
DQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9QREVQbHVnaW5JbWFnZXMuamF2
YQkxOCBKYW4gMjAwOCAxOTo0Njo0NCAtMDAwMA0KQEAgLTEsNSArMSw1IEBADQogLyoqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioNCi0gKiBDb3B5cmlnaHQgKGMpIDIwMDAsIDIwMDcgSUJNIENvcnBvcmF0
aW9uIGFuZCBvdGhlcnMuDQorICogQ29weXJpZ2h0IChjKSAyMDAwLCAyMDA4IElCTSBDb3Jwb3Jh
dGlvbiBhbmQgb3RoZXJzLg0KICAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBh
bmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5k
ZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCiAgKiB3aGlj
aCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KQEAg
LTExMSw2ICsxMTEsMTAgQEANCiAJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3Ig
REVTQ19UT0NfTElOS19PQkogPSBjcmVhdGUoUEFUSF9PQkosICJ0b2NfbGlua19vYmouZ2lmIik7
IC8vJE5PTi1OTFMtMSQNCiAJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFnZURlc2NyaXB0b3IgREVT
Q19UT0NfQU5DSE9SX09CSiA9IGNyZWF0ZShQQVRIX09CSiwgInRvY19hbmNob3Jfb2JqLmdpZiIp
OyAvLyROT04tTkxTLTEkDQogDQorCXB1YmxpYyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9y
IERFU0NfQ1RYSEVMUF9DT05URVhUX09CSiA9IGNyZWF0ZShQQVRIX09CSiwgImN0eGhlbHBfY29u
dGV4dF9vYmouZ2lmIik7IC8vJE5PTi1OTFMtMSQNCisJcHVibGljIHN0YXRpYyBmaW5hbCBJbWFn
ZURlc2NyaXB0b3IgREVTQ19DVFhIRUxQX0RFU0NfT0JKID0gY3JlYXRlKFBBVEhfT0JKLCAiY3R4
aGVscF9kZXNjX29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KKwlwdWJsaWMgc3RhdGljIGZpbmFs
IEltYWdlRGVzY3JpcHRvciBERVNDX0NUWEhFTFBfQ09NTUFORF9PQkogPSBjcmVhdGUoUEFUSF9P
QkosICJjdHhoZWxwX2NvbW1hbmRfb2JqLmdpZiIpOyAvLyROT04tTkxTLTEkDQorDQogCXB1Ymxp
YyBzdGF0aWMgZmluYWwgSW1hZ2VEZXNjcmlwdG9yIERFU0NfQ09NR1JPVVBfT0JKID0gY3JlYXRl
KFBBVEhfT0JKLCAia2V5Z3JvdXBzX29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KIAlwdWJsaWMg
c3RhdGljIGZpbmFsIEltYWdlRGVzY3JpcHRvciBERVNDX0dFTkNPTV9PQkogPSBjcmVhdGUoUEFU
SF9PQkosICJjb21tYW5kX29iai5naWYiKTsgLy8kTk9OLU5MUy0xJA0KIA0KSW5kZXg6IHNyYy9v
cmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvUERFTGFiZWxQcm92aWRlci5qYXZhDQo9PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvZWNsaXBzZS9vcmcuZWNsaXBzZS5wZGUudWkvc3JjL29y
Zy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9QREVMYWJlbFByb3ZpZGVyLmphdmEsdg0KcmV0cmll
dmluZyByZXZpc2lvbiAxLjg5DQpkaWZmIC11IC1yMS44OSBQREVMYWJlbFByb3ZpZGVyLmphdmEN
Ci0tLSBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL1BERUxhYmVsUHJvdmlkZXIuamF2
YQk0IEphbiAyMDA4IDIwOjEwOjE1IC0wMDAwCTEuODkNCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRl
L2ludGVybmFsL3VpL1BERUxhYmVsUHJvdmlkZXIuamF2YQkxOCBKYW4gMjAwOCAxOTo0Njo0MyAt
MDAwMA0KQEAgLTEsNSArMSw1IEBADQogLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCi0gKiBDb3B5
cmlnaHQgKGMpIDIwMDAsIDIwMDcgSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQ29w
eXJpZ2h0IChjKSAyMDAwLCAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KICAqIEFs
bCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRl
cmlhbHMNCiAgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xp
cHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCiAgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3Ry
aWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KQEAgLTI4LDYgKzI4LDcgQEANCiBpbXBvcnQg
b3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUuaWNoZWF0c2hlZXQuY29tcC5JQ29tcENTT2Jq
ZWN0Ow0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS5pY2hlYXRzaGVldC5z
aW1wbGUuSVNpbXBsZUNTQ29uc3RhbnRzOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwuY29yZS5pY2hlYXRzaGVldC5zaW1wbGUuSVNpbXBsZUNTT2JqZWN0Ow0KK2ltcG9ydCBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS5pY3R4aGVscC5JQ3R4SGVscENvbnN0YW50czsNCiBp
bXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUuaWZlYXR1cmUuKjsNCiBpbXBvcnQg
b3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUuaXByb2R1Y3QuSVByb2R1Y3RGZWF0dXJlOw0K
IGltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS5pcHJvZHVjdC5JUHJvZHVjdFBs
dWdpbjsNCkBAIC0zNyw2ICszOCw3IEBADQogaW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5h
bC5jb3JlLml0b2MuSVRvY0NvbnN0YW50czsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVy
bmFsLmNvcmUucGx1Z2luLkltcG9ydE9iamVjdDsNCiBpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmlu
dGVybmFsLmNvcmUudGV4dC5idW5kbGUuKjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVy
bmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBPYmplY3Q7DQogaW1wb3J0IG9yZy5lY2xpcHNl
LnBkZS5pbnRlcm5hbC5jb3JlLnRleHQudG9jLlRvY09iamVjdDsNCiBpbXBvcnQgb3JnLmVjbGlw
c2UucGRlLmludGVybmFsLmNvcmUudXRpbC5QREVUZXh0SGVscGVyOw0KIGltcG9ydCBvcmcuZWNs
aXBzZS5wZGUuaW50ZXJuYWwudWkuZWxlbWVudHMuTmFtZWRFbGVtZW50Ow0KQEAgLTkzLDYgKzk1
LDkgQEANCiAJCWlmIChvYmogaW5zdGFuY2VvZiBUb2NPYmplY3QpIHsNCiAJCQlyZXR1cm4gZ2V0
T2JqZWN0VGV4dCgoVG9jT2JqZWN0KSBvYmopOw0KIAkJfQ0KKwkJaWYgKG9iaiBpbnN0YW5jZW9m
IEN0eEhlbHBPYmplY3QpIHsNCisJCQlyZXR1cm4gZ2V0T2JqZWN0VGV4dCgoQ3R4SGVscE9iamVj
dCkgb2JqKTsNCisJCX0NCiAJCWlmIChvYmogaW5zdGFuY2VvZiBGZWF0dXJlUGx1Z2luKSB7DQog
CQkJcmV0dXJuIGdldE9iamVjdFRleHQoKEZlYXR1cmVQbHVnaW4pIG9iaik7DQogCQl9DQpAQCAt
Mjg4LDYgKzI5MywxMyBAQA0KIAkJcmV0dXJuIFBERVRleHRIZWxwZXIudHJhbnNsYXRlUmVhZFRl
eHQob2JqLmdldE5hbWUoKSk7DQogCX0NCiANCisJLyoqDQorCSAqIEBwYXJhbSBvYmoNCisJICov
DQorCXB1YmxpYyBTdHJpbmcgZ2V0T2JqZWN0VGV4dChDdHhIZWxwT2JqZWN0IG9iaikgew0KKwkJ
cmV0dXJuIFBERVRleHRIZWxwZXIudHJhbnNsYXRlUmVhZFRleHQob2JqLmdldE5hbWUoKSk7DQor
CX0NCisNCiAJcHVibGljIFN0cmluZyBnZXRPYmplY3RUZXh0KEZlYXR1cmVQbHVnaW4gb2JqKSB7
DQogCQlTdHJpbmcgbmFtZSA9IGlzRnVsbE5hbWVNb2RlRW5hYmxlZCgpID8gb2JqLmdldExhYmVs
KCkgOiBvYmouZ2V0SWQoKTsNCiAJCVN0cmluZyB2ZXJzaW9uID0gb2JqLmdldFZlcnNpb24oKTsN
CkBAIC00NDIsNiArNDU0LDkgQEANCiAJCWlmIChvYmogaW5zdGFuY2VvZiBUb2NPYmplY3QpIHsN
CiAJCQlyZXR1cm4gZ2V0T2JqZWN0SW1hZ2UoKFRvY09iamVjdCkgb2JqKTsNCiAJCX0NCisJCWlm
IChvYmogaW5zdGFuY2VvZiBDdHhIZWxwT2JqZWN0KSB7DQorCQkJcmV0dXJuIGdldE9iamVjdElt
YWdlKChDdHhIZWxwT2JqZWN0KSBvYmopOw0KKwkJfQ0KIAkJaWYgKG9iaiBpbnN0YW5jZW9mIElT
Y2hlbWFBdHRyaWJ1dGUpIHsNCiAJCQlyZXR1cm4gZ2V0T2JqZWN0SW1hZ2UoKElTY2hlbWFBdHRy
aWJ1dGUpIG9iaik7DQogCQl9DQpAQCAtNzE3LDYgKzczMiwzMSBAQA0KIAkJfQ0KIAl9DQogDQor
CS8qKg0KKwkgKiBAcGFyYW0gb2JqZWN0DQorCSAqLw0KKwlwcml2YXRlIEltYWdlIGdldE9iamVj
dEltYWdlKEN0eEhlbHBPYmplY3Qgb2JqZWN0KSB7DQorCQlzd2l0Y2ggKG9iamVjdC5nZXRUeXBl
KCkpIHsNCisJCQljYXNlIElDdHhIZWxwQ29uc3RhbnRzLlRZUEVfUk9PVCA6IHsNCisJCQkJcmV0
dXJuIGdldChQREVQbHVnaW5JbWFnZXMuREVTQ19UT0NfT0JKKTsNCisJCQl9DQorCQkJY2FzZSBJ
Q3R4SGVscENvbnN0YW50cy5UWVBFX0NPTlRFWFQgOiB7DQorCQkJCXJldHVybiBnZXQoUERFUGx1
Z2luSW1hZ2VzLkRFU0NfQ1RYSEVMUF9DT05URVhUX09CSik7DQorCQkJfQ0KKwkJCWNhc2UgSUN0
eEhlbHBDb25zdGFudHMuVFlQRV9ERVNDUklQVElPTiA6IHsNCisJCQkJcmV0dXJuIGdldChQREVQ
bHVnaW5JbWFnZXMuREVTQ19DVFhIRUxQX0RFU0NfT0JKKTsNCisJCQl9DQorCQkJY2FzZSBJQ3R4
SGVscENvbnN0YW50cy5UWVBFX1RPUElDIDogew0KKwkJCQlyZXR1cm4gZ2V0KFBERVBsdWdpbklt
YWdlcy5ERVNDX1RPQ19MRUFGVE9QSUNfT0JKKTsNCisJCQl9DQorCQkJY2FzZSBJQ3R4SGVscENv
bnN0YW50cy5UWVBFX0NPTU1BTkQgOiB7DQorCQkJCXJldHVybiBnZXQoUERFUGx1Z2luSW1hZ2Vz
LkRFU0NfQ1RYSEVMUF9DT01NQU5EX09CSik7DQorCQkJfQ0KKwkJCWRlZmF1bHQgOg0KKwkJCQly
ZXR1cm4gZ2V0KFBERVBsdWdpbkltYWdlcy5ERVNDX1NJTVBMRUNTX09CSiwgRl9FUlJPUik7DQor
CQl9DQorCX0NCisNCiAJcHJpdmF0ZSBJbWFnZSBnZXRPYmplY3RJbWFnZShJU2NoZW1hRWxlbWVu
dCBlbGVtZW50KSB7DQogCQlpbnQgZmxhZ3MgPSAwOw0KIAkJaWYgKGVsZW1lbnQgaW5zdGFuY2Vv
ZiBJU2NoZW1hT2JqZWN0UmVmZXJlbmNlICYmICgoSVNjaGVtYU9iamVjdFJlZmVyZW5jZSkgZWxl
bWVudCkuZ2V0UmVmZXJlbmNlZE9iamVjdCgpID09IG51bGwpDQpJbmRleDogc3JjL29yZy9lY2xp
cHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhlbHBDb21tYW5k
RGV0YWlscy5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogc3JjL29yZy9lY2xpcHNlL3BkZS9p
bnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhlbHBDb21tYW5kRGV0YWlscy5q
YXZhDQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhl
bHAvZGV0YWlscy9DdHhIZWxwQ29tbWFuZERldGFpbHMuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEph
biAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91
aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhlbHBDb21tYW5kRGV0YWlscy5qYXZhCTEgSmFu
IDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsMTE4IEBADQorLyoqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIwMDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhl
cnMuDQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21w
YW55aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMg
b2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVz
IHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5l
Y2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisg
KiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQor
ICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKiovDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwudWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlsczsNCisNCitpbXBvcnQgb3JnLmVjbGlwc2UuamZh
Y2Uudmlld2Vycy5JU2VsZWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwu
Y29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscENvbW1hbmQ7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC51aS5QREVVSU1lc3NhZ2VzOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50
ZXJuYWwudWkuZWRpdG9yLkZvcm1FbnRyeUFkYXB0ZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5DdHhIZWxwSW5wdXRDb250ZXh0Ow0KK2ltcG9y
dCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAuQ3R4SGVscFRyZWVT
ZWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkucGFydHMuRm9ybUVu
dHJ5Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3QuU1dUOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5z
d3Qud2lkZ2V0cy5Db21wb3NpdGU7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmZvcm1zLklGb3Jt
UGFydDsNCisNCisvKioNCisgKiBEZXRhaWxzIHNlY3Rpb24gZm9yIGNvbW1hbmQgZW50cmllcy4N
CisgKiBAc2luY2UgMy40DQorICogQHNlZSBDdHhIZWxwQWJzdHJhY3REZXRhaWxzDQorICogQHNl
ZSBDdHhIZWxwQ29tbWFuZA0KKyAqLw0KK3B1YmxpYyBjbGFzcyBDdHhIZWxwQ29tbWFuZERldGFp
bHMgZXh0ZW5kcyBDdHhIZWxwQWJzdHJhY3REZXRhaWxzIHsNCisNCisJcHJpdmF0ZSBDdHhIZWxw
Q29tbWFuZCBmQ29tbWFuZDsNCisJcHJpdmF0ZSBGb3JtRW50cnkgZkxhYmVsRW50cnk7DQorCXBy
aXZhdGUgRm9ybUVudHJ5IGZTZXJpYWxFbnRyeTsNCisNCisJcHVibGljIEN0eEhlbHBDb21tYW5k
RGV0YWlscyhDdHhIZWxwVHJlZVNlY3Rpb24gbWFzdGVyU2VjdGlvbikgew0KKwkJc3VwZXIobWFz
dGVyU2VjdGlvbiwgQ3R4SGVscElucHV0Q29udGV4dC5DT05URVhUX0lEKTsNCisJfQ0KKw0KKwkv
KiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVk
aXRvci5jdHhoZWxwLmRldGFpbHMuQ3R4SGVscEFic3RyYWN0RGV0YWlscyNjcmVhdGVGaWVsZHMo
b3JnLmVjbGlwc2Uuc3d0LndpZGdldHMuQ29tcG9zaXRlKQ0KKwkgKi8NCisJcHVibGljIHZvaWQg
Y3JlYXRlRmllbGRzKENvbXBvc2l0ZSBwYXJlbnQpIHsNCisJCWNyZWF0ZUxhYmVsKHBhcmVudCwg
Z2V0TWFuYWdlZEZvcm0oKS5nZXRUb29sa2l0KCksIFBERVVJTWVzc2FnZXMuQ3R4SGVscENvbW1h
bmREZXRhaWxzX3NwZWNpZnlEaXNwbGF5TGFiZWwpOw0KKwkJZkxhYmVsRW50cnkgPSBuZXcgRm9y
bUVudHJ5KHBhcmVudCwgZ2V0TWFuYWdlZEZvcm0oKS5nZXRUb29sa2l0KCksIFBERVVJTWVzc2Fn
ZXMuQ3R4SGVscENvbW1hbmREZXRhaWxzX2xhYmVsLCBTV1QuTk9ORSk7DQorCQljcmVhdGVTcGFj
ZShwYXJlbnQpOw0KKwkJY3JlYXRlTGFiZWwocGFyZW50LCBnZXRNYW5hZ2VkRm9ybSgpLmdldFRv
b2xraXQoKSwgUERFVUlNZXNzYWdlcy5DdHhIZWxwQ29tbWFuZERldGFpbHNfc3BlY2lmeVRoZUNv
bW1hbmQpOw0KKwkJZlNlcmlhbEVudHJ5ID0gbmV3IEZvcm1FbnRyeShwYXJlbnQsIGdldE1hbmFn
ZWRGb3JtKCkuZ2V0VG9vbGtpdCgpLCBQREVVSU1lc3NhZ2VzLkN0eEhlbHBDb21tYW5kRGV0YWls
c19jb21tYW5kLCBTV1QuTk9ORSk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBA
c2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzLkN0
eEhlbHBBYnN0cmFjdERldGFpbHMjZ2V0RGV0YWlsc1RpdGxlKCkNCisJICovDQorCXByb3RlY3Rl
ZCBTdHJpbmcgZ2V0RGV0YWlsc1RpdGxlKCkgew0KKwkJcmV0dXJuIFBERVVJTWVzc2FnZXMuQ3R4
SGVscENvbW1hbmREZXRhaWxzX2NvbW1hbmREZXRhaWxzOw0KKwl9DQorDQorCS8qIChub24tSmF2
YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhl
bHAuZGV0YWlscy5DdHhIZWxwQWJzdHJhY3REZXRhaWxzI2dldERldGFpbHNEZXNjcmlwdGlvbigp
DQorCSAqLw0KKwlwcm90ZWN0ZWQgU3RyaW5nIGdldERldGFpbHNEZXNjcmlwdGlvbigpIHsNCisJ
CXJldHVybiBudWxsOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlscy5DdHhIZWxwQWJz
dHJhY3REZXRhaWxzI2hvb2tMaXN0ZW5lcnMoKQ0KKwkgKi8NCisJcHVibGljIHZvaWQgaG9va0xp
c3RlbmVycygpIHsNCisJCWZMYWJlbEVudHJ5LnNldEZvcm1FbnRyeUxpc3RlbmVyKG5ldyBGb3Jt
RW50cnlBZGFwdGVyKHRoaXMpIHsNCisJCQlwdWJsaWMgdm9pZCB0ZXh0VmFsdWVDaGFuZ2VkKEZv
cm1FbnRyeSBlbnRyeSkgew0KKwkJCQlpZiAoZkNvbW1hbmQgIT0gbnVsbCkgew0KKwkJCQkJZkNv
bW1hbmQuc2V0TGFiZWwoZkxhYmVsRW50cnkuZ2V0VmFsdWUoKSk7DQorCQkJCX0NCisJCQl9DQor
CQl9KTsNCisJCWZTZXJpYWxFbnRyeS5zZXRGb3JtRW50cnlMaXN0ZW5lcihuZXcgRm9ybUVudHJ5
QWRhcHRlcih0aGlzKSB7DQorCQkJcHVibGljIHZvaWQgdGV4dFZhbHVlQ2hhbmdlZChGb3JtRW50
cnkgZW50cnkpIHsgLy8gRW5zdXJlIGRhdGEgb2JqZWN0IGlzIGRlZmluZWQNCisJCQkJaWYgKGZD
b21tYW5kICE9IG51bGwpIHsNCisJCQkJCWZDb21tYW5kLnNldFNlcmlhbGl6YXRpb24oZlNlcmlh
bEVudHJ5LmdldFZhbHVlKCkpOw0KKwkJCQl9DQorCQkJfQ0KKwkJfSk7DQorCX0NCisNCisJLyog
KG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0
b3IuY3R4aGVscC5kZXRhaWxzLkN0eEhlbHBBYnN0cmFjdERldGFpbHMjdXBkYXRlRmllbGRzKCkN
CisJICovDQorCXB1YmxpYyB2b2lkIHVwZGF0ZUZpZWxkcygpIHsNCisJCWlmIChmQ29tbWFuZCAh
PSBudWxsKSB7DQorCQkJZkxhYmVsRW50cnkuc2V0VmFsdWUoZkNvbW1hbmQuZ2V0TGFiZWwoKSwg
dHJ1ZSk7DQorCQkJZkxhYmVsRW50cnkuc2V0RWRpdGFibGUoaXNFZGl0YWJsZUVsZW1lbnQoKSk7
DQorCQkJZlNlcmlhbEVudHJ5LnNldFZhbHVlKGZDb21tYW5kLmdldFNlcmlhbGl6YXRpb24oKSwg
dHJ1ZSk7DQorCQkJZlNlcmlhbEVudHJ5LnNldEVkaXRhYmxlKGlzRWRpdGFibGVFbGVtZW50KCkp
Ow0KKwkJfQ0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBz
ZS51aS5mb3Jtcy5BYnN0cmFjdEZvcm1QYXJ0I2NvbW1pdChib29sZWFuKQ0KKwkgKi8NCisJcHVi
bGljIHZvaWQgY29tbWl0KGJvb2xlYW4gb25TYXZlKSB7DQorCQlzdXBlci5jb21taXQob25TYXZl
KTsNCisJCS8vIE9ubHkgcmVxdWlyZWQgZm9yIGZvcm0gZW50cmllcw0KKwkJZkxhYmVsRW50cnku
Y29tbWl0KCk7DQorCQlmU2VyaWFsRW50cnkuY29tbWl0KCk7DQorDQorCX0NCisNCisJLyogKG5v
bi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3Iu
Y3R4aGVscC5kZXRhaWxzLkN0eEhlbHBBYnN0cmFjdERldGFpbHMjc2VsZWN0aW9uQ2hhbmdlZChv
cmcuZWNsaXBzZS51aS5mb3Jtcy5JRm9ybVBhcnQsIG9yZy5lY2xpcHNlLmpmYWNlLnZpZXdlcnMu
SVNlbGVjdGlvbikNCisJICovDQorCXB1YmxpYyB2b2lkIHNlbGVjdGlvbkNoYW5nZWQoSUZvcm1Q
YXJ0IHBhcnQsIElTZWxlY3Rpb24gc2VsZWN0aW9uKSB7DQorCQlPYmplY3Qgb2JqZWN0ID0gZ2V0
Rmlyc3RTZWxlY3RlZE9iamVjdChzZWxlY3Rpb24pOw0KKwkJaWYgKG9iamVjdCBpbnN0YW5jZW9m
IEN0eEhlbHBDb21tYW5kKSB7DQorCQkJZkNvbW1hbmQgPSAoQ3R4SGVscENvbW1hbmQpIG9iamVj
dDsNCisJCQl1cGRhdGVGaWVsZHMoKTsNCisJCX0NCisJfQ0KK30NCkluZGV4OiBzcmMvb3JnL2Vj
bGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVscFJlbW92
ZUFjdGlvbi5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogc3JjL29yZy9lY2xpcHNlL3BkZS9p
bnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhlbHBSZW1vdmVBY3Rpb24uamF2
YQ0KZGlmZiAtTiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxw
L2RldGFpbHMvQ3R4SGVscFJlbW92ZUFjdGlvbi5qYXZhDQotLS0gL2Rldi9udWxsCTEgSmFuIDE5
NzAgMDA6MDA6MDAgLTAwMDANCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2Vk
aXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVscFJlbW92ZUFjdGlvbi5qYXZhCTEgSmFuIDE5NzAg
MDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsOTggQEANCisvKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
Kg0KKyAqIENvcHlyaWdodCAoYykgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisg
KiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcg
bWF0ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUg
RWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBk
aXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uu
b3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJ
Qk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKi8NCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5l
ZGl0b3IuY3R4aGVscC5kZXRhaWxzOw0KKw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS5hY3Rp
b24uQWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0
eGhlbHAuQ3R4SGVscE9iamVjdDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVp
LlBERVVJTWVzc2FnZXM7DQorDQorLyoqDQorICogVGhlIGFjdGlvbiB1c2VkIHRvIHJlbW92ZSBv
bmUgb3IgbW9yZSBlbGVtZW50cyBmcm9tIHRoZSBjb250ZXh0IGhlbHAgeG1sLg0KKyAqIEBzaW5j
ZSAzLjQNCisgKi8NCitwdWJsaWMgY2xhc3MgQ3R4SGVscFJlbW92ZUFjdGlvbiBleHRlbmRzIEFj
dGlvbiB7DQorDQorCXByaXZhdGUgQ3R4SGVscE9iamVjdFtdIGZPYmplY3RzOw0KKw0KKwkvL1Ro
ZSBuZXh0IG9iamVjdCB0byBiZSBzZWxlY3RlZCBhZnRlciB0aGUNCisJLy9zZWxlY3RlZCBvYmpl
Y3QgaXMgcmVtb3ZlZA0KKwlwcml2YXRlIEN0eEhlbHBPYmplY3QgZk9iamVjdFRvU2VsZWN0Ow0K
Kw0KKwlwdWJsaWMgQ3R4SGVscFJlbW92ZUFjdGlvbigpIHsNCisJCS8vIEFkZHMgdGhlICdEZWxl
dGUnIGtleWJpbmRpbmcgdG8gdGhlIGFjdGlvbiB3aGVuIGRpc3BsYXllZA0KKwkJLy8gaW4gYSBj
b250ZXh0IG1lbnUNCisJCXNldEFjdGlvbkRlZmluaXRpb25JZCgib3JnLmVjbGlwc2UudWkuZWRp
dC5kZWxldGUiKTsgLy8kTk9OLU5MUy0xJA0KKwkJc2V0VGV4dChQREVVSU1lc3NhZ2VzLlRvY1Bh
Z2VfcmVtb3ZlKTsNCisJfQ0KKw0KKwkvKioNCisJICogU2V0cyB0aGUgb2JqZWN0cyB0byBiZSBy
ZW1vdmVkIHdoZW4gdGhpcyBhY3Rpb24gaXMgcnVuLg0KKwkgKiBAcGFyYW0gb2JqZWN0cyBvYmpl
Y3RzIHRvIHJlbW92ZQ0KKwkgKi8NCisJcHVibGljIHZvaWQgc2V0VG9SZW1vdmUoQ3R4SGVscE9i
amVjdFtdIG9iamVjdHMpIHsNCisJCWZPYmplY3RzID0gb2JqZWN0czsNCisJfQ0KKw0KKwkvKiAo
bm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UuamZhY2UuYWN0aW9uLkFjdGlvbiNy
dW4oKQ0KKwkgKi8NCisJcHVibGljIHZvaWQgcnVuKCkgew0KKwkJaWYgKGZPYmplY3RzID09IG51
bGwpDQorCQkJcmV0dXJuOw0KKw0KKwkJZm9yIChpbnQgaSA9IDA7IGkgPCBmT2JqZWN0cy5sZW5n
dGg7ICsraSkgew0KKwkJCWlmIChmT2JqZWN0c1tpXSAhPSBudWxsICYmIGZPYmplY3RzW2ldLmNh
bkJlUmVtb3ZlZCgpKSB7DQorCQkJCUN0eEhlbHBPYmplY3QgcGFyZW50ID0gZk9iamVjdHNbaV0u
Z2V0UGFyZW50KCk7DQorCQkJCWlmIChwYXJlbnQgIT0gbnVsbCkgew0KKwkJCQkJZGV0ZXJtaW5l
TmV4dFNlbGVjdGlvbihwYXJlbnQsIGkpOw0KKwkJCQkJcGFyZW50LnJlbW92ZUNoaWxkKGZPYmpl
Y3RzW2ldKTsNCisJCQkJfQ0KKwkJCX0NCisJCX0NCisJfQ0KKw0KKwkvKioNCisJICogRGV0ZXJt
aW5lIHRoZSBuZXh0IG9iamVjdCB0aGF0IHNob3VsZCBiZSBzZWxlY3RlZA0KKwkgKiBhZnRlciB0
aGUgZGVzaWduYXRlZCBvYmplY3QgaGFzIGJlZW4gcmVtb3ZlZA0KKwkgKiANCisJICogQHBhcmFt
IHBhcmVudCBUaGUgcGFyZW50IG9mIHRoZSBkZWxldGVkIG9iamVjdA0KKwkgKi8NCisJcHJpdmF0
ZSB2b2lkIGRldGVybWluZU5leHRTZWxlY3Rpb24oQ3R4SGVscE9iamVjdCBwYXJlbnQsIGludCBp
bmRleCkgew0KKwkJLy8gU2VsZWN0IHRoZSBuZXh0IHNpYmxpbmcNCisJCWZPYmplY3RUb1NlbGVj
dCA9IHBhcmVudC5nZXROZXh0U2libGluZyhmT2JqZWN0c1tpbmRleF0pOw0KKwkJaWYgKGZPYmpl
Y3RUb1NlbGVjdCA9PSBudWxsKSB7DQorCQkJLy8gTm8gbmV4dCBzaWJsaW5nDQorCQkJLy8gU2Vs
ZWN0IHRoZSBwcmV2aW91cyBzaWJsaW5nDQorCQkJZk9iamVjdFRvU2VsZWN0ID0gcGFyZW50Lmdl
dFByZXZpb3VzU2libGluZyhmT2JqZWN0c1tpbmRleF0pOw0KKwkJCWlmIChmT2JqZWN0VG9TZWxl
Y3QgPT0gbnVsbCkgew0KKwkJCQkvLyBObyBwcmV2aW91cyBzaWJsaW5nDQorCQkJCS8vIFNlbGVj
dCB0aGUgcGFyZW50DQorCQkJCWZPYmplY3RUb1NlbGVjdCA9IHBhcmVudDsNCisJCQl9DQorCQl9
DQorCX0NCisNCisJLyoqDQorCSAqIFJldHVybnMgdGhlIG9iamVjdCB0aGF0IHNob3VsZCBiZSBz
ZWxlY3RlZCBhZnRlciB0aGUgYWN0aW9uIGlzIHJ1bi4NCisJICogQHJldHVybiB0aGUgb2JqZWN0
IHRvIHNlbGVjdCBvciA8Y29kZT5udWxsPC9jb2RlPg0KKwkgKi8NCisJcHVibGljIEN0eEhlbHBP
YmplY3QgZ2V0TmV4dFNlbGVjdGlvbigpIHsNCisJCXJldHVybiBmT2JqZWN0VG9TZWxlY3Q7DQor
CX0NCisNCisJLyoqDQorCSAqIENsZWFycyB0aGUgbmV4dCBzZWxlY3Rpb24gcmV0dXJuZWQgYnkg
e0BsaW5rICNnZXROZXh0U2VsZWN0aW9uKCl9Lg0KKwkgKi8NCisJcHVibGljIHZvaWQgY2xlYXJO
ZXh0U2VsZWN0aW9uKCkgew0KKwkJZk9iamVjdFRvU2VsZWN0ID0gbnVsbDsNCisJfQ0KKw0KK30N
CkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL2Rl
dGFpbHMvQ3R4SGVscEFic3RyYWN0RGV0YWlscy5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTog
c3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0
eEhlbHBBYnN0cmFjdERldGFpbHMuamF2YQ0KZGlmZiAtTiBzcmMvb3JnL2VjbGlwc2UvcGRlL2lu
dGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVscEFic3RyYWN0RGV0YWlscy5q
YXZhDQotLS0gL2Rldi9udWxsCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCisrKyBzcmMvb3Jn
L2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVscEFi
c3RyYWN0RGV0YWlscy5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEs
MjEyIEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIwMDgg
SUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhp
cyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRlIGF2
YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEu
MA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxh
YmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisg
Kg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBB
UEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQorcGFja2Fn
ZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlsczsNCisN
CitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy5JU2VsZWN0aW9uOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklTdHJ1Y3R1cmVkU2VsZWN0aW9uOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5wZGUuY29yZS5JTW9kZWxDaGFuZ2VkRXZlbnQ7DQoraW1wb3J0IG9yZy5lY2xp
cHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuKjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmlu
dGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLkN0eEhlbHBUcmVlU2VjdGlvbjsNCitpbXBvcnQgb3Jn
LmVjbGlwc2Uuc3d0LlNXVDsNCitpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LmxheW91dC5HcmlkRGF0
YTsNCitpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LndpZGdldHMuQ29tcG9zaXRlOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5zd3Qud2lkZ2V0cy5MYWJlbDsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWkuZm9y
bXMuSUZvcm1QYXJ0Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS51aS5mb3Jtcy53aWRnZXRzLio7DQor
DQorLyoqDQorICogQWJzdHJhY3QgZGV0YWlscyBjbGFzcyB0aGF0IGFjdHMgYXMgdGhlIGJhc2Ug
Zm9yIHRoZSBkZXRhaWxzIHNlY3Rpb24gb2YgdGhlIGNvbnRleHQNCisgKiBoZWxwIGVkaXRvci4g
IFRoZSBkZXRhaWxzIHNlY3Rpb24gd2lsbCBkaXNwbGF5IGEgZm9ybSBzcGVjaWZpYyB0byB0aGUg
Y3VycmVudCB0cmVlDQorICogc2VsZWN0aW9uLCBhbGxvd2luZyB0aGUgdXNlciB0byBlZGl0IHRo
ZSBmaWVsZHMuDQorICogQHNpbmNlIDMuNA0KKyAqLw0KK3B1YmxpYyBhYnN0cmFjdCBjbGFzcyBD
dHhIZWxwQWJzdHJhY3REZXRhaWxzIGV4dGVuZHMgUERFRGV0YWlscyB7DQorDQorCS8qKg0KKwkg
KiBOdW1iZXIgb2YgY29sdW1ucyB0aGUgZGV0YWlsIHNlY3Rpb24gd2lsbCBoYXZlDQorCSAqLw0K
Kwlwcml2YXRlIHN0YXRpYyBmaW5hbCBpbnQgTlVNX0NPTFVNTlMgPSAzOw0KKw0KKwlwcml2YXRl
IEN0eEhlbHBUcmVlU2VjdGlvbiBmTWFzdGVyU2VjdGlvbjsNCisJcHJpdmF0ZSBTZWN0aW9uIGZN
YWluU2VjdGlvbjsNCisJcHJpdmF0ZSBTdHJpbmcgZkNvbnRleHRJRDsNCisNCisJcHVibGljIEN0
eEhlbHBBYnN0cmFjdERldGFpbHMoQ3R4SGVscFRyZWVTZWN0aW9uIG1hc3RlclNlY3Rpb24sIFN0
cmluZyBjb250ZXh0SUQpIHsNCisJCWZNYXN0ZXJTZWN0aW9uID0gbWFzdGVyU2VjdGlvbjsNCisJ
CWZDb250ZXh0SUQgPSBjb250ZXh0SUQ7DQorCQlmTWFpblNlY3Rpb24gPSBudWxsOw0KKwl9DQor
DQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS51aS5mb3Jtcy5JRGV0
YWlsc1BhZ2UjY3JlYXRlQ29udGVudHMob3JnLmVjbGlwc2Uuc3d0LndpZGdldHMuQ29tcG9zaXRl
KQ0KKwkgKi8NCisJcHVibGljIHZvaWQgY3JlYXRlQ29udGVudHMoQ29tcG9zaXRlIHBhcmVudCkg
ew0KKwkJcGFyZW50LnNldExheW91dChGb3JtTGF5b3V0RmFjdG9yeS5jcmVhdGVEZXRhaWxzR3Jp
ZExheW91dChmYWxzZSwgMSkpOw0KKwkJY3JlYXRlRGV0YWlscyhwYXJlbnQpOw0KKwkJaG9va0xp
c3RlbmVycygpOw0KKwl9DQorDQorCS8qKg0KKwkgKiBDcmVhdGUgdGhlIFVJIGVsZW1lbnRzIGZv
ciB0aGUgZGV0YWlsIHNlY3Rpb24NCisJICogQHBhcmFtIHBhcmVudCBwYXJlbnQgY29tcG9zaXRl
IHRvIGNyZWF0ZSB0aGUgZGV0YWlscyBpbg0KKwkgKi8NCisJcHVibGljIHZvaWQgY3JlYXRlRGV0
YWlscyhDb21wb3NpdGUgcGFyZW50KSB7IC8vIENyZWF0ZSB0aGUgbWFpbiBzZWN0aW9uDQorCQlp
bnQgc3R5bGUgPSBFeHBhbmRhYmxlQ29tcG9zaXRlLlRJVExFX0JBUjsNCisNCisJCWlmIChnZXRE
ZXRhaWxzRGVzY3JpcHRpb24oKSAhPSBudWxsKQ0KKwkJCXN0eWxlIHw9IFNlY3Rpb24uREVTQ1JJ
UFRJT047DQorDQorCQlmTWFpblNlY3Rpb24gPSBnZXRQYWdlKCkuY3JlYXRlVUlTZWN0aW9uKHBh
cmVudCwgZ2V0RGV0YWlsc1RpdGxlKCksIGdldERldGFpbHNEZXNjcmlwdGlvbigpLCBzdHlsZSk7
DQorCQkvLyBBbGlnbiB0aGUgbWFzdGVyIGFuZCBkZXRhaWxzIHNlY3Rpb24gaGVhZGVycyAobWlz
YWxpZ25tZW50IGNhdXNlZA0KKwkJLy8gYnkgc2VjdGlvbiB0b29sYmFyIGljb25zKQ0KKwkJZ2V0
UGFnZSgpLmFsaWduU2VjdGlvbkhlYWRlcnMoZ2V0TWFzdGVyU2VjdGlvbigpLmdldFNlY3Rpb24o
KSwgZk1haW5TZWN0aW9uKTsNCisJCS8vIENyZWF0ZSB0aGUgY29udGFpbmVyIGZvciB0aGUgbWFp
biBzZWN0aW9uDQorCQlDb21wb3NpdGUgc2VjdGlvbkNsaWVudCA9IGdldFBhZ2UoKS5jcmVhdGVV
SVNlY3Rpb25Db250YWluZXIoZk1haW5TZWN0aW9uLCBOVU1fQ09MVU1OUyk7DQorCQlHcmlkRGF0
YSBkYXRhID0gbmV3IEdyaWREYXRhKEdyaWREYXRhLkZJTExfQk9USCk7DQorCQlmTWFpblNlY3Rp
b24uc2V0TGF5b3V0RGF0YShkYXRhKTsNCisJCWNyZWF0ZUZpZWxkcyhzZWN0aW9uQ2xpZW50KTsN
CisNCisJCS8vIEJpbmQgd2lkZ2V0cw0KKwkJZ2V0TWFuYWdlZEZvcm0oKS5nZXRUb29sa2l0KCku
cGFpbnRCb3JkZXJzRm9yKHNlY3Rpb25DbGllbnQpOw0KKwkJZk1haW5TZWN0aW9uLnNldENsaWVu
dChzZWN0aW9uQ2xpZW50KTsNCisJCW1hcmtEZXRhaWxzUGFydChmTWFpblNlY3Rpb24pOw0KKwl9
DQorDQorCS8qKg0KKwkgKiBTdWJjbGFzc2VzIG11c3QgdXNlIHRoaXMgbWV0aG9kIHRvIGNyZWF0
ZSB0aGUgZmllbGRzIHRoYXQgYWxsb3cgdXNlciBpbnB1dC4NCisJICogQHBhcmFtIHBhcmVudCBw
YXJlbnQgY29tcG9zaXRlDQorCSAqLw0KKwlwcm90ZWN0ZWQgYWJzdHJhY3Qgdm9pZCBjcmVhdGVG
aWVsZHMoQ29tcG9zaXRlIHBhcmVudCk7DQorDQorCS8qKg0KKwkgKiBAcmV0dXJuIHRoZSB0aXRs
ZSB0byBkaXNwbGF5IGF0IHRoZSB0b3Agb2YgdGhlIGRldGFpbHMgc2VjdGlvbg0KKwkgKi8NCisJ
cHJvdGVjdGVkIGFic3RyYWN0IFN0cmluZyBnZXREZXRhaWxzVGl0bGUoKTsNCisNCisJLyoqDQor
CSAqIEByZXR1cm4gdGhlIGRlc2NyaXB0aW9uIHRvIGRpc3BsYXkgYXQgdGhlIHRvcCBvZiB0aGUg
ZGV0YWlscyBzZWN0aW9uDQorCSAqLw0KKwlwcm90ZWN0ZWQgYWJzdHJhY3QgU3RyaW5nIGdldERl
dGFpbHNEZXNjcmlwdGlvbigpOw0KKw0KKwkvKioNCisJICogU3ViY2xhc3NlcyBzaG91bGQgYWRk
IHRoZXJlIGxpc3RlbmVycyBieSBvdmVycmlkaW5nIHRoaXMgbWV0aG9kLg0KKwkgKi8NCisJcHVi
bGljIGFic3RyYWN0IHZvaWQgaG9va0xpc3RlbmVycygpOw0KKw0KKwkvKioNCisJICogU3ViY2xh
c3NlcyBzaG91bGQgdXBkYXRlIHRoZSBmb3JtIGVudHJpZXMgdXNpbmcgdGhlaXIgQ3R4SGVscE9i
amVjdC4gIFRoaXMgbWV0aG9kDQorCSAqIHNob3VsZCBiZSBjYWxsZWQgZnJvbSBzdWJjbGFzc2Vz
IGltcGxlbWVudGF0aW9uIG9mIHtAbGluayAjc2VsZWN0aW9uQ2hhbmdlZChJRm9ybVBhcnQsIElT
ZWxlY3Rpb24pfQ0KKwkgKi8NCisJcHVibGljIGFic3RyYWN0IHZvaWQgdXBkYXRlRmllbGRzKCk7
DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS51aS5mb3Jtcy5J
UGFydFNlbGVjdGlvbkxpc3RlbmVyI3NlbGVjdGlvbkNoYW5nZWQob3JnLmVjbGlwc2UudWkuZm9y
bXMuSUZvcm1QYXJ0LCBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklTZWxlY3Rpb24pDQorCSAq
Lw0KKwlwdWJsaWMgdm9pZCBzZWxlY3Rpb25DaGFuZ2VkKElGb3JtUGFydCBwYXJ0LCBJU2VsZWN0
aW9uIHNlbGVjdGlvbikgew0KKwkJLy8gTk8tT1ANCisJCS8vIENoaWxkcmVuIHRvIG92ZXJyaWRl
DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5p
bnRlcm5hbC51aS5lZGl0b3IuSUNvbnRleHRQYXJ0I2ZpcmVTYXZlTmVlZGVkKCkNCisJICovDQor
CXB1YmxpYyB2b2lkIGZpcmVTYXZlTmVlZGVkKCkgew0KKwkJbWFya0RpcnR5KCk7DQorCQlnZXRQ
YWdlKCkuZ2V0UERFRWRpdG9yKCkuZmlyZVNhdmVOZWVkZWQoZ2V0Q29udGV4dElkKCksIGZhbHNl
KTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRl
LmludGVybmFsLnVpLmVkaXRvci5JQ29udGV4dFBhcnQjZ2V0Q29udGV4dElkKCkNCisJICovDQor
CXB1YmxpYyBTdHJpbmcgZ2V0Q29udGV4dElkKCkgew0KKwkJcmV0dXJuIGZDb250ZXh0SUQ7DQor
CX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC51aS5lZGl0b3IuSUNvbnRleHRQYXJ0I2dldFBhZ2UoKQ0KKwkgKi8NCisJcHVibGljIFBE
RUZvcm1QYWdlIGdldFBhZ2UoKSB7DQorCQlyZXR1cm4gKFBERUZvcm1QYWdlKSBnZXRNYW5hZ2Vk
Rm9ybSgpLmdldENvbnRhaW5lcigpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICog
QHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLklDb250ZXh0UGFydCNpc0Vk
aXRhYmxlKCkNCisJICovDQorCXB1YmxpYyBib29sZWFuIGlzRWRpdGFibGUoKSB7DQorCQlyZXR1
cm4gZk1hc3RlclNlY3Rpb24uaXNFZGl0YWJsZSgpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRv
YykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuY29yZS5JTW9kZWxDaGFuZ2VkTGlzdGVuZXIj
bW9kZWxDaGFuZ2VkKG9yZy5lY2xpcHNlLnBkZS5jb3JlLklNb2RlbENoYW5nZWRFdmVudCkNCisJ
ICovDQorCXB1YmxpYyB2b2lkIG1vZGVsQ2hhbmdlZChJTW9kZWxDaGFuZ2VkRXZlbnQgZXZlbnQp
IHsNCisJCS8vIE5PLU9QDQorCX0NCisNCisJLyoqDQorCSAqIEByZXR1cm4gd2hldGhlciB0aGUg
c2VjdGlvbiBpcyBlZGl0YWJsZQ0KKwkgKi8NCisJcHVibGljIGJvb2xlYW4gaXNFZGl0YWJsZUVs
ZW1lbnQoKSB7DQorCQlyZXR1cm4gZk1hc3RlclNlY3Rpb24uaXNFZGl0YWJsZSgpOw0KKwl9DQor
DQorCS8qKg0KKwkgKiBAcmV0dXJuIHRoZSB0b29sa2l0IHRvIHVzZSB0byBjcmVhdGUgdGhlIGZv
cm0gZWxlbWVudHMNCisJICovDQorCXB1YmxpYyBGb3JtVG9vbGtpdCBnZXRUb29sa2l0KCkgew0K
KwkJcmV0dXJuIGdldE1hbmFnZWRGb3JtKCkuZ2V0VG9vbGtpdCgpOw0KKwl9DQorDQorCS8qKg0K
KwkgKiBAcmV0dXJuIHRoZSB0cmVlIHNlY3Rpb24gdGhhdCBjb250cm9scyB0aGlzIGRldGFpbHMg
c2VjdGlvbg0KKwkgKi8NCisJcHVibGljIEN0eEhlbHBUcmVlU2VjdGlvbiBnZXRNYXN0ZXJTZWN0
aW9uKCkgew0KKwkJcmV0dXJuIGZNYXN0ZXJTZWN0aW9uOw0KKwl9DQorDQorCS8qKg0KKwkgKiBD
cmVhdGUgYSBuZXcgbGFiZWwgaW4gdGhlIGdpdmVuIGNvbXBvc2l0ZSB1c2luZyB0aGUgYXBwcm9w
cmlhdGUgc3R5bGUNCisJICogYXMgZGVmaW5lZCBieSB0aGUgdG9vbGtpdC4NCisJICogQHBhcmFt
IHBhcmVudCBjb21wb3NpdGUgdG8gY3JlYXRlIHRoZSBsYWJlbCBpbg0KKwkgKiBAcGFyYW0gdG9v
bGtpdCB0b29sa2l0IHRoYXQgd2lsbCBkZWZpbmUgdGhlIHN0eWxlIG9mIHRoZSBsYWJlbA0KKwkg
KiBAcGFyYW0gdGV4dCBsYWJlbCB0ZXh0DQorCSAqLw0KKwlwcm90ZWN0ZWQgdm9pZCBjcmVhdGVM
YWJlbChDb21wb3NpdGUgcGFyZW50LCBGb3JtVG9vbGtpdCB0b29sa2l0LCBTdHJpbmcgdGV4dCkg
ew0KKwkJTGFiZWwgbGFiZWwgPSB0b29sa2l0LmNyZWF0ZUxhYmVsKHBhcmVudCwgdGV4dCwgU1dU
LldSQVApOw0KKwkJR3JpZERhdGEgZ2QgPSBuZXcgR3JpZERhdGEoU1dULkZJTEwsIFNXVC5DRU5U
RVIsIHRydWUsIGZhbHNlKTsNCisJCWdkLmhvcml6b250YWxTcGFuID0gTlVNX0NPTFVNTlM7DQor
CQlsYWJlbC5zZXRMYXlvdXREYXRhKGdkKTsNCisJfQ0KKw0KKwkvKioNCisJICogQ3JlYXRlcyBh
biBlbXB0eSBsYWJlbCBnZW5lcmF0aW5nIGVtcHR5IHNwYWNlIGluIHRoZSBwYXJlbnQgY29tcG9z
aXRlLg0KKwkgKiBAcGFyYW0gcGFyZW50IGNvbXBvc2l0ZSB0byBjcmVhdGUgdGhlIHNwYWNlIGlu
DQorCSAqLw0KKwlwcm90ZWN0ZWQgdm9pZCBjcmVhdGVTcGFjZShDb21wb3NpdGUgcGFyZW50KSB7
DQorCQljcmVhdGVMYWJlbChwYXJlbnQsIGdldE1hbmFnZWRGb3JtKCkuZ2V0VG9vbGtpdCgpLCAi
Iik7IC8vJE5PTi1OTFMtMSQNCisJfQ0KKw0KKwkvKioNCisJICogUmV0dXJucyB0aGUgZmlyc3Qg
b2JqZWN0IGZyb20gdGhlIHNlbGVjdGlvbiBvciA8Y29kZT5udWxsPC9jb2RlPi4NCisJICogQHBh
cmFtIHNlbGVjdGlvbiBzZWxlY3Rpb24gdG8gZ2V0IHRoZSBvYmplY3QgZnJvbQ0KKwkgKiBAcmV0
dXJuIGZpcnN0IG9iamVjdCBpbiB0aGUgc2VsZWN0aW9uIG9yIDxjb2RlPm51bGw8L2NvZGU+DQor
CSAqLw0KKwlwcm90ZWN0ZWQgT2JqZWN0IGdldEZpcnN0U2VsZWN0ZWRPYmplY3QoSVNlbGVjdGlv
biBzZWxlY3Rpb24pIHsNCisJCS8vIEdldCB0aGUgc3RydWN0dXJlZCBzZWxlY3Rpb24gKG9idGFp
bmVkIGZyb20gdGhlIG1hc3RlciB0cmVlIHZpZXdlcikNCisJCUlTdHJ1Y3R1cmVkU2VsZWN0aW9u
IHN0cnVjdHVyZWRTZWwgPSAoKElTdHJ1Y3R1cmVkU2VsZWN0aW9uKSBzZWxlY3Rpb24pOw0KKwkJ
Ly8gRW5zdXJlIHdlIGhhdmUgYSBzZWxlY3Rpb24NCisJCWlmIChzdHJ1Y3R1cmVkU2VsID09IG51
bGwpIHsNCisJCQlyZXR1cm4gbnVsbDsNCisJCX0NCisJCXJldHVybiBzdHJ1Y3R1cmVkU2VsLmdl
dEZpcnN0RWxlbWVudCgpOw0KKwl9DQorDQorfQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9wZGUv
aW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9IZWxwRWRpdG9yVXRpbC5qYXZhDQo9PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpS
Q1MgZmlsZTogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL0hlbHBF
ZGl0b3JVdGlsLmphdmENCmRpZmYgLU4gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9l
ZGl0b3IvdG9jL0hlbHBFZGl0b3JVdGlsLmphdmENCi0tLSAvZGV2L251bGwJMSBKYW4gMTk3MCAw
MDowMDowMCAtMDAwMA0KKysrIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9y
L3RvYy9IZWxwRWRpdG9yVXRpbC5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0w
LDAgKzEsMTA0IEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMp
IDIwMDcsIDIwMDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyBy
ZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAq
IGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGlj
IExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBh
bmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwt
djEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9u
IC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KiovDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLnRvYzsNCisN
CitpbXBvcnQgamF2YS51dGlsLkhhc2hTZXQ7DQoraW1wb3J0IGphdmEudXRpbC5Mb2NhbGU7DQor
DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLklGaWxlOw0KK2ltcG9ydCBvcmcu
ZWNsaXBzZS5jb3JlLnJlc291cmNlcy5JUmVzb3VyY2U7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNv
cmUucmVzb3VyY2VzLklXb3Jrc3BhY2VSb290Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJl
c291cmNlcy5SZXNvdXJjZXNQbHVnaW47DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucnVudGlt
ZS5JUGF0aDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmNvcmUuSUJhc2VNb2RlbDsNCitpbXBv
cnQgb3JnLmVjbGlwc2UucGRlLmNvcmUuSU1vZGVsOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwuY29yZS5pdG9jLklUb2NDb25zdGFudHM7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC51aS51dGlsLlhNTFJvb3RFbGVtZW50TWF0Y2hlcjsNCisNCitwdWJsaWMgY2xh
c3MgSGVscEVkaXRvclV0aWwgew0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZ1tdIHBhZ2VF
eHRlbnNpb25zID0geyJodG0iLCJzaHRtbCIsImh0bWwiLCJ4aHRtbCJ9OyAvLyROT04tTkxTLTEk
IC8vJE5PTi1OTFMtMiQgLy8kTk9OLU5MUy0zJCAvLyROT04tTkxTLTQkDQorCXB1YmxpYyBzdGF0
aWMgZmluYWwgU3RyaW5nIHRvY0V4dGVuc2lvbiA9ICJ4bWwiOyAvLyROT04tTkxTLTEkDQorCXBy
aXZhdGUgc3RhdGljIEhhc2hTZXQgcGFnZUV4dGVuc2lvblNldCA9IG5ldyBIYXNoU2V0KHBhZ2VF
eHRlbnNpb25zLmxlbmd0aCk7DQorDQorCXByaXZhdGUgc3RhdGljIHZvaWQgcG9wdWxhdGVIYXNo
U2V0KCkNCisJewlmb3IoaW50IGkgPSAwOyBpIDwgcGFnZUV4dGVuc2lvbnMubGVuZ3RoOyArK2kp
DQorCQl7CXBhZ2VFeHRlbnNpb25TZXQuYWRkKHBhZ2VFeHRlbnNpb25zW2ldKTsNCisJCX0NCisJ
fQ0KKwkNCisJcHVibGljIHN0YXRpYyBib29sZWFuIGhhc1ZhbGlkUGFnZUV4dGVuc2lvbihJUGF0
aCBwYXRoKQ0KKwl7CVN0cmluZyBmaWxlRXh0ZW5zaW9uID0gcGF0aC5nZXRGaWxlRXh0ZW5zaW9u
KCk7CQ0KKwkJaWYoZmlsZUV4dGVuc2lvbiAhPSBudWxsKQ0KKwkJewlmaWxlRXh0ZW5zaW9uID0g
ZmlsZUV4dGVuc2lvbi50b0xvd2VyQ2FzZShMb2NhbGUuRU5HTElTSCk7DQorCQkJaWYocGFnZUV4
dGVuc2lvblNldC5pc0VtcHR5KCkpDQorCQkJewlwb3B1bGF0ZUhhc2hTZXQoKTsNCisJCQl9DQor
CQkJDQorCQkJcmV0dXJuIHBhZ2VFeHRlbnNpb25TZXQuY29udGFpbnMoZmlsZUV4dGVuc2lvbik7
DQorCQl9DQorDQorCQlyZXR1cm4gZmFsc2U7DQorCX0NCisNCisJcHJpdmF0ZSBzdGF0aWMgYm9v
bGVhbiBoYXNWYWxpZFRvY0V4dGVuc2lvbihJUGF0aCBwYXRoKQ0KKwl7CVN0cmluZyBmaWxlRXh0
ZW5zaW9uID0gcGF0aC5nZXRGaWxlRXh0ZW5zaW9uKCk7DQorCQlyZXR1cm4gZmlsZUV4dGVuc2lv
biAhPSBudWxsICYmIGZpbGVFeHRlbnNpb24uZXF1YWxzKHRvY0V4dGVuc2lvbik7IA0KKwl9DQor
DQorCS8qKg0KKwkgKiBAcGFyYW0gZmlsZQ0KKwkgKi8NCisJcHVibGljIHN0YXRpYyBib29sZWFu
IGlzVE9DRmlsZShJUGF0aCBwYXRoKSB7DQorCQlpZighaGFzVmFsaWRUb2NFeHRlbnNpb24ocGF0
aCkpDQorCQkJcmV0dXJuIGZhbHNlOw0KKwkJDQorCQlJV29ya3NwYWNlUm9vdCByb290ID0gUmVz
b3VyY2VzUGx1Z2luLmdldFdvcmtzcGFjZSgpLmdldFJvb3QoKTsNCisNCisJCUlSZXNvdXJjZSBy
ZXNvdXJjZSA9IHJvb3QuZmluZE1lbWJlcihwYXRoKTsNCisJCWlmKHJlc291cmNlICE9IG51bGwg
JiYgcmVzb3VyY2UgaW5zdGFuY2VvZiBJRmlsZSkNCisJCXsJcmV0dXJuIFhNTFJvb3RFbGVtZW50
TWF0Y2hlci5maWxlTWF0Y2hlc0VsZW1lbnQoKElGaWxlKXJlc291cmNlLCBJVG9jQ29uc3RhbnRz
LkVMRU1FTlRfVE9DKTsNCisJCX0NCisNCisJCXJldHVybiBYTUxSb290RWxlbWVudE1hdGNoZXIu
ZmlsZU1hdGNoZXNFbGVtZW50KHBhdGgudG9GaWxlKCksIElUb2NDb25zdGFudHMuRUxFTUVOVF9U
T0MpOw0KKwl9DQorDQorCXB1YmxpYyBzdGF0aWMgYm9vbGVhbiBpc0N1cnJlbnRSZXNvdXJjZShJ
UGF0aCBwYXRoLCBJQmFzZU1vZGVsIG1vZGVsKQ0KKwl7CWlmKG1vZGVsIGluc3RhbmNlb2YgSU1v
ZGVsKQ0KKwkJewlJUGF0aCB3b3Jrc3BhY2VQYXRoID0gUmVzb3VyY2VzUGx1Z2luLmdldFdvcmtz
cGFjZSgpLmdldFJvb3QoKS5nZXRMb2NhdGlvbigpOw0KKwkJCUlQYXRoIGZ1bGxQYXRoOwkNCisN
CisJCQlpZih3b3Jrc3BhY2VQYXRoLmlzUHJlZml4T2YocGF0aCkpDQorCQkJewlmdWxsUGF0aCA9
ICgoSU1vZGVsKW1vZGVsKS5nZXRVbmRlcmx5aW5nUmVzb3VyY2UoKS5nZXRMb2NhdGlvbigpOwkN
CisJCQl9DQorCQkJZWxzZQ0KKwkJCXsJZnVsbFBhdGggPSAoKElNb2RlbCltb2RlbCkuZ2V0VW5k
ZXJseWluZ1Jlc291cmNlKCkuZ2V0RnVsbFBhdGgoKTsNCisJCQl9DQorDQorCQkJcmV0dXJuIGZ1
bGxQYXRoLmVxdWFscyhwYXRoKTsNCisJCX0NCisNCisJCXJldHVybiBmYWxzZTsNCisJfQ0KKw0K
KwlwdWJsaWMgc3RhdGljIFN0cmluZyBnZXRQYWdlRXh0ZW5zaW9uTGlzdCgpIHsNCisJCVN0cmlu
Z0J1ZmZlciBidWYgPSBuZXcgU3RyaW5nQnVmZmVyKCk7DQorDQorCQlmb3IoaW50IGkgPSAwOyBp
IDwgcGFnZUV4dGVuc2lvbnMubGVuZ3RoOyArK2kpDQorCQl7CWJ1Zi5hcHBlbmQoJy4nKTsNCisJ
CQlidWYuYXBwZW5kKHBhZ2VFeHRlbnNpb25zW2ldKTsNCisJCQlpZihpICE9IHBhZ2VFeHRlbnNp
b25zLmxlbmd0aCAtIDEpDQorCQkJewlidWYuYXBwZW5kKCIsICIpOyAvLyROT04tTkxTLTEkDQor
CQkJfQ0KKwkJfQ0KKw0KKwkJcmV0dXJuIGJ1Zi50b1N0cmluZygpOw0KKwl9DQorfQ0KSW5kZXg6
IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvZGV0YWlscy9D
dHhIZWxwRGVzY3JpcHRpb25EZXRhaWxzLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiBzcmMv
b3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVs
cERlc2NyaXB0aW9uRGV0YWlscy5qYXZhDQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50
ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvZGV0YWlscy9DdHhIZWxwRGVzY3JpcHRpb25EZXRhaWxz
LmphdmENCi0tLSAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KKysrIHNyYy9v
cmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvZGV0YWlscy9DdHhIZWxw
RGVzY3JpcHRpb25EZXRhaWxzLmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAgLTAs
MCArMSwxMTAgQEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykg
MjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRzIHJlc2VydmVk
LiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQorICogYXJlIG1h
ZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5z
ZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBh
dmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRt
bA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0
aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCitw
YWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxz
Ow0KKw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklTZWxlY3Rpb247DQoraW1w
b3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwRGVz
Y3JpcHRpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5QREVVSU1lc3Nh
Z2VzOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLkZvcm1FbnRy
eUFkYXB0ZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4
aGVscC5DdHhIZWxwSW5wdXRDb250ZXh0Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwudWkuZWRpdG9yLmN0eGhlbHAuQ3R4SGVscFRyZWVTZWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNs
aXBzZS5wZGUuaW50ZXJuYWwudWkucGFydHMuRm9ybUVudHJ5Ow0KK2ltcG9ydCBvcmcuZWNsaXBz
ZS5zd3QuU1dUOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3QubGF5b3V0LkdyaWREYXRhOw0KK2lt
cG9ydCBvcmcuZWNsaXBzZS5zd3Qud2lkZ2V0cy5Db21wb3NpdGU7DQoraW1wb3J0IG9yZy5lY2xp
cHNlLnVpLmZvcm1zLklGb3JtUGFydDsNCisNCisvKioNCisgKiBEZXRhaWxzIHNlY3Rpb24gZm9y
IGRlc2NyaXB0aW9uIGVudHJpZXMuDQorICogQHNpbmNlIDMuNA0KKyAqIEBzZWUgQ3R4SGVscEFi
c3RyYWN0RGV0YWlscw0KKyAqIEBzZWUgQ3R4SGVscERlc2NyaXB0aW9uDQorICovDQorcHVibGlj
IGNsYXNzIEN0eEhlbHBEZXNjcmlwdGlvbkRldGFpbHMgZXh0ZW5kcyBDdHhIZWxwQWJzdHJhY3RE
ZXRhaWxzIHsNCisNCisJcHJpdmF0ZSBDdHhIZWxwRGVzY3JpcHRpb24gZkRlc2NyaXB0aW9uOw0K
Kwlwcml2YXRlIEZvcm1FbnRyeSBmRGVzY0VudHJ5Ow0KKw0KKwlwdWJsaWMgQ3R4SGVscERlc2Ny
aXB0aW9uRGV0YWlscyhDdHhIZWxwVHJlZVNlY3Rpb24gbWFzdGVyU2VjdGlvbikgew0KKwkJc3Vw
ZXIobWFzdGVyU2VjdGlvbiwgQ3R4SGVscElucHV0Q29udGV4dC5DT05URVhUX0lEKTsNCisJfQ0K
Kw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LnVpLmVkaXRvci5jdHhoZWxwLmRldGFpbHMuQ3R4SGVscEFic3RyYWN0RGV0YWlscyNjcmVhdGVG
aWVsZHMob3JnLmVjbGlwc2Uuc3d0LndpZGdldHMuQ29tcG9zaXRlKQ0KKwkgKi8NCisJcHVibGlj
IHZvaWQgY3JlYXRlRmllbGRzKENvbXBvc2l0ZSBwYXJlbnQpIHsNCisJCWNyZWF0ZUxhYmVsKHBh
cmVudCwgZ2V0TWFuYWdlZEZvcm0oKS5nZXRUb29sa2l0KCksIFBERVVJTWVzc2FnZXMuQ3R4SGVs
cERlc2NyaXB0aW9uRGV0YWlsc19zcGVjaWZ5RGVzY3JpcHRpb24pOw0KKwkJZkRlc2NFbnRyeSA9
IG5ldyBGb3JtRW50cnkocGFyZW50LCBnZXRNYW5hZ2VkRm9ybSgpLmdldFRvb2xraXQoKSwgUERF
VUlNZXNzYWdlcy5DdHhIZWxwRGVzY3JpcHRpb25EZXRhaWxzX2Rlc2NyaXB0aW9uLCBTV1QuTVVM
VEkgfCBTV1QuV1JBUCB8IFNXVC5WX1NDUk9MTCk7DQorCQlHcmlkRGF0YSBkYXRhID0gbmV3IEdy
aWREYXRhKEdyaWREYXRhLkZJTExfSE9SSVpPTlRBTCk7DQorCQlkYXRhLmhlaWdodEhpbnQgPSA1
MDsNCisJCWZEZXNjRW50cnkuZ2V0VGV4dCgpLnNldExheW91dERhdGEoZGF0YSk7DQorCQlkYXRh
ID0gbmV3IEdyaWREYXRhKEdyaWREYXRhLlZFUlRJQ0FMX0FMSUdOX0JFR0lOTklORyB8IEdyaWRE
YXRhLkhPUklaT05UQUxfQUxJR05fRU5EKTsNCisJCWZEZXNjRW50cnkuZ2V0TGFiZWwoKS5zZXRM
YXlvdXREYXRhKGRhdGEpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBv
cmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlscy5DdHhIZWxw
QWJzdHJhY3REZXRhaWxzI2dldERldGFpbHNUaXRsZSgpDQorCSAqLw0KKwlwcm90ZWN0ZWQgU3Ry
aW5nIGdldERldGFpbHNUaXRsZSgpIHsNCisJCXJldHVybiBQREVVSU1lc3NhZ2VzLlRvY1RvcGlj
RGV0YWlsc190aXRsZTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3Jn
LmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLmRldGFpbHMuQ3R4SGVscEFi
c3RyYWN0RGV0YWlscyNnZXREZXRhaWxzRGVzY3JpcHRpb24oKQ0KKwkgKi8NCisJcHJvdGVjdGVk
IFN0cmluZyBnZXREZXRhaWxzRGVzY3JpcHRpb24oKSB7DQorCQlyZXR1cm4gbnVsbDsNCisJfQ0K
Kw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LnVpLmVkaXRvci5jdHhoZWxwLmRldGFpbHMuQ3R4SGVscEFic3RyYWN0RGV0YWlscyNob29rTGlz
dGVuZXJzKCkNCisJICovDQorCXB1YmxpYyB2b2lkIGhvb2tMaXN0ZW5lcnMoKSB7DQorCQlmRGVz
Y0VudHJ5LnNldEZvcm1FbnRyeUxpc3RlbmVyKG5ldyBGb3JtRW50cnlBZGFwdGVyKHRoaXMpIHsN
CisJCQlwdWJsaWMgdm9pZCB0ZXh0VmFsdWVDaGFuZ2VkKEZvcm1FbnRyeSBlbnRyeSkgew0KKwkJ
CQlpZiAoZkRlc2NyaXB0aW9uICE9IG51bGwpIHsNCisJCQkJCWZEZXNjcmlwdGlvbi5zZXREZXNj
cmlwdGlvbihmRGVzY0VudHJ5LmdldFZhbHVlKCkpOw0KKwkJCQl9DQorCQkJfQ0KKwkJfSk7DQor
CX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzLkN0eEhlbHBBYnN0cmFjdERldGFpbHMjdXBk
YXRlRmllbGRzKCkNCisJICovDQorCXB1YmxpYyB2b2lkIHVwZGF0ZUZpZWxkcygpIHsNCisJCWlm
IChmRGVzY3JpcHRpb24gIT0gbnVsbCkgew0KKwkJCWZEZXNjRW50cnkuc2V0VmFsdWUoZkRlc2Ny
aXB0aW9uLmdldERlc2NyaXB0aW9uKCksIHRydWUpOw0KKwkJCWZEZXNjRW50cnkuc2V0RWRpdGFi
bGUoaXNFZGl0YWJsZUVsZW1lbnQoKSk7DQorCQl9DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9j
KQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnVpLmZvcm1zLkFic3RyYWN0Rm9ybVBhcnQjY29tbWl0
KGJvb2xlYW4pDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBjb21taXQoYm9vbGVhbiBvblNhdmUpIHsN
CisJCXN1cGVyLmNvbW1pdChvblNhdmUpOw0KKwkJLy8gT25seSByZXF1aXJlZCBmb3IgZm9ybSBl
bnRyaWVzDQorCQlmRGVzY0VudHJ5LmNvbW1pdCgpOw0KKw0KKwl9DQorDQorCS8qIChub24tSmF2
YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhl
bHAuZGV0YWlscy5DdHhIZWxwQWJzdHJhY3REZXRhaWxzI3NlbGVjdGlvbkNoYW5nZWQob3JnLmVj
bGlwc2UudWkuZm9ybXMuSUZvcm1QYXJ0LCBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklTZWxl
Y3Rpb24pDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBzZWxlY3Rpb25DaGFuZ2VkKElGb3JtUGFydCBw
YXJ0LCBJU2VsZWN0aW9uIHNlbGVjdGlvbikgew0KKwkJT2JqZWN0IG9iamVjdCA9IGdldEZpcnN0
U2VsZWN0ZWRPYmplY3Qoc2VsZWN0aW9uKTsNCisJCWlmIChvYmplY3QgaW5zdGFuY2VvZiBDdHhI
ZWxwRGVzY3JpcHRpb24pIHsNCisJCQlmRGVzY3JpcHRpb24gPSAoQ3R4SGVscERlc2NyaXB0aW9u
KSBvYmplY3Q7DQorCQkJdXBkYXRlRmllbGRzKCk7DQorCQl9DQorCX0NCit9DQpJbmRleDogc3Jj
L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhl
bHBBYnN0cmFjdEFkZEFjdGlvbi5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogc3JjL29yZy9l
Y2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhlbHBBYnN0
cmFjdEFkZEFjdGlvbi5qYXZhDQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwv
dWkvZWRpdG9yL2N0eGhlbHAvZGV0YWlscy9DdHhIZWxwQWJzdHJhY3RBZGRBY3Rpb24uamF2YQ0K
LS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgc3JjL29yZy9lY2xp
cHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhlbHBBYnN0cmFj
dEFkZEFjdGlvbi5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsODIg
QEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMjAwOCBJQk0g
Q29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHBy
b2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxh
YmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQor
ICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUg
YXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQor
ICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBh
bmQgaW1wbGVtZW50YXRpb24NCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCitwYWNrYWdlIG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzOw0KKw0KK2lt
cG9ydCBvcmcuZWNsaXBzZS5qZmFjZS5hY3Rpb24uQWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBz
ZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE9iamVjdDsNCisNCisvKioN
CisgKiBBYnN0cmFjdCBhY3Rpb24gdGhhdCBhbGxvd3MgbmV3IG5vZGVzIHRvIGJlIGFkZGVkIHRv
IHRoZSBjb250ZXh0IGhlbHANCisgKiBtb2RlbC4NCisgKiBAc2luY2UgMy40DQorICovDQorcHVi
bGljIGFic3RyYWN0IGNsYXNzIEN0eEhlbHBBYnN0cmFjdEFkZEFjdGlvbiBleHRlbmRzIEFjdGlv
biB7DQorDQorCXByb3RlY3RlZCBDdHhIZWxwT2JqZWN0IGZQYXJlbnRPYmplY3Q7DQorDQorCS8v
VGhlIHRhcmdldCBvYmplY3QgdG8gaW5zZXJ0IGFmdGVyDQorCXByb3RlY3RlZCBDdHhIZWxwT2Jq
ZWN0IGZUYXJnZXRPYmplY3Q7DQorDQorCS8qKg0KKwkgKiBTZXQgdGhlIHBhcmVudCBvYmplY3Qg
dGhhdCB0aGlzIGFjdGlvbiB3aWxsIGFkZA0KKwkgKiBvYmplY3RzIHRvLg0KKwkgKiANCisJICog
QHBhcmFtIHBhcmVudCBUaGUgbmV3IHBhcmVudCBvYmplY3QgZm9yIHRoaXMgYWN0aW9uDQorCSAq
Lw0KKwlwdWJsaWMgdm9pZCBzZXRQYXJlbnRPYmplY3QoQ3R4SGVscE9iamVjdCBwYXJlbnQpIHsN
CisJCWZQYXJlbnRPYmplY3QgPSBwYXJlbnQ7DQorCX0NCisNCisJLyoqDQorCSAqIFNldCB0aGUg
dGFyZ2V0IG9iamVjdCB0aGF0IHRoaXMgYWN0aW9uIHdpbGwgYWRkDQorCSAqIG9iamVjdHMgYWZ0
ZXIuDQorCSAqIA0KKwkgKiBAcGFyYW0gdGFyZ2V0IFRoZSBuZXcgdGFyZ2V0IG9iamVjdCBmb3Ig
dGhpcyBhY3Rpb24NCisJICovDQorCXB1YmxpYyB2b2lkIHNldFRhcmdldE9iamVjdChDdHhIZWxw
T2JqZWN0IHRhcmdldCkgew0KKwkJZlRhcmdldE9iamVjdCA9IHRhcmdldDsNCisJfQ0KKw0KKwkv
KioNCisJICogUmV0dXJucyB0aGUgbmFtZXMgb2YgdGhlIGNoaWxkcmVuIG9mIHRoZSBwYXJlbnQg
b2JqZWN0LiAgVXNlZA0KKwkgKiB0byBmaW5kIGEgbmV3IG5hbWUgdGhhdCBkb2Vzbid0IGNvbmZs
aWN0LiAgV2lsbCByZXR1cm4gYW4gZW1wdHkNCisJICogYXJyYXkgaWYgdGhlIHBhcmVudCBpcyBu
b3Qgc2V0Lg0KKwkgKiBAcmV0dXJuIGNoaWxkcmVuIG5hbWVzIG9yIGFuIGVtcHR5IGFycmF5DQor
CSAqLw0KKwlwdWJsaWMgU3RyaW5nW10gZ2V0Q2hpbGROYW1lcygpIHsNCisJCWlmIChmUGFyZW50
T2JqZWN0ICE9IG51bGwpIHsNCisJCQlpbnQgbnVtQ2hpbGRyZW4gPSBmUGFyZW50T2JqZWN0Lmdl
dENoaWxkcmVuKCkuc2l6ZSgpOw0KKwkJCUN0eEhlbHBPYmplY3RbXSBjdHhIZWxwT2JqZWN0cyA9
IChDdHhIZWxwT2JqZWN0W10pIGZQYXJlbnRPYmplY3QuZ2V0Q2hpbGRyZW4oKS50b0FycmF5KG5l
dyBDdHhIZWxwT2JqZWN0W251bUNoaWxkcmVuXSk7DQorDQorCQkJU3RyaW5nW10gY3R4SGVscE9i
amVjdE5hbWVzID0gbmV3IFN0cmluZ1tjdHhIZWxwT2JqZWN0cy5sZW5ndGhdOw0KKw0KKwkJCWZv
ciAoaW50IGkgPSAwOyBpIDwgbnVtQ2hpbGRyZW47ICsraSkgew0KKwkJCQljdHhIZWxwT2JqZWN0
TmFtZXNbaV0gPSBjdHhIZWxwT2JqZWN0c1tpXS5nZXROYW1lKCk7DQorCQkJfQ0KKwkJCXJldHVy
biBjdHhIZWxwT2JqZWN0TmFtZXM7DQorCQl9DQorCQlyZXR1cm4gbmV3IFN0cmluZ1swXTsNCisJ
fQ0KKw0KKwkvKioNCisJICogQWRkIHRoZSBjaGlsZCB0byB0aGUgcGFyZW50IG9iamVjdC4gSWYg
YSB0YXJnZXQgb2JqZWN0IGlzIHNwZWNpZmllZCwNCisJICogYWRkIHRoZSBjaGlsZCBhcyBhIHNp
YmxpbmcgYWZ0ZXIgdGhhdCBvYmplY3QuDQorCSAqIA0KKwkgKiBAcGFyYW0gY2hpbGQgVGhlIG9i
amVjdCB0byBhZGQgdG8gdGhlIHBhcmVudA0KKwkgKi8NCisJcHJvdGVjdGVkIHZvaWQgYWRkQ2hp
bGQoQ3R4SGVscE9iamVjdCBjaGlsZCkgew0KKwkJaWYgKGZUYXJnZXRPYmplY3QgPT0gbnVsbCkg
ew0KKwkJCWZQYXJlbnRPYmplY3QuYWRkQ2hpbGQoY2hpbGQpOw0KKwkJfSBlbHNlIHsNCisJCQlm
UGFyZW50T2JqZWN0LmFkZENoaWxkKGNoaWxkLCBmVGFyZ2V0T2JqZWN0LCBmYWxzZSk7DQorCQl9
DQorCX0NCit9DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3Iv
Y3R4aGVscC9DdHhIZWxwQmxvY2suamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHNyYy9vcmcv
ZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscEJsb2NrLmphdmEN
CmRpZmYgLU4gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9D
dHhIZWxwQmxvY2suamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAw
DQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhI
ZWxwQmxvY2suamF2YQkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsxLDExNCBA
QA0KKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqDQorICogQ29weXJpZ2h0IChjKSAyMDA4IElCTSBD
b3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJv
Z3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCisgKiBhcmUgbWFkZSBhdmFpbGFi
bGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCisg
KiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBh
dA0KKyAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQorICoNCisg
KiBDb250cmlidXRvcnM6DQorICogICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJIGFu
ZCBpbXBsZW1lbnRhdGlvbg0KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KK3BhY2thZ2Ugb3Jn
LmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwOw0KKw0KK2ltcG9ydCBvcmcu
ZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklTZWxlY3Rpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLmpm
YWNlLnZpZXdlcnMuSVN0cnVjdHVyZWRTZWxlY3Rpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBk
ZS5jb3JlLklNb2RlbENoYW5nZWRFdmVudDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmNvcmUu
SU1vZGVsQ2hhbmdlZExpc3RlbmVyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwu
Y29yZS50ZXh0LmN0eGhlbHAuKjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVp
LmVkaXRvci4qOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0
eGhlbHAuZGV0YWlscy4qOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3Qud2lkZ2V0cy5Db21wb3Np
dGU7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmZvcm1zLio7DQorDQorLyoqDQorICogQmxvY2sg
Y29udGFpbmluZyB0aGUgVUkgZWxlbWVudHMgZm9yIHRoZSBjb250ZXh0IGVkaXRvci4gIEV4dGVu
ZHMgZnJvbSBQREVNYXN0ZXJEZXRhaWxzQmxvY2sNCisgKiB3aGljaCBzcGxpdHMgdGhlIGVkaXRv
ciBpbnRvIHR3byBhcmVhcywgYSB0cmVlIHNlY3Rpb24gYW5kIGEgZGV0YWlscyBzZWN0aW9uLg0K
KyAqIEBzaW5jZSAzLjQNCisgKiBAc2VlIEN0eEhlbHBUcmVlU2VjdGlvbg0KKyAqIEBzZWUgQ3R4
SGVscEFic3RyYWN0RGV0YWlscw0KKyAqLw0KK3B1YmxpYyBjbGFzcyBDdHhIZWxwQmxvY2sgZXh0
ZW5kcyBQREVNYXN0ZXJEZXRhaWxzQmxvY2sgaW1wbGVtZW50cyBJTW9kZWxDaGFuZ2VkTGlzdGVu
ZXIsIElEZXRhaWxzUGFnZVByb3ZpZGVyIHsNCisNCisJcHJpdmF0ZSBDdHhIZWxwVHJlZVNlY3Rp
b24gZk1hc3RlclNlY3Rpb247DQorDQorCXB1YmxpYyBDdHhIZWxwQmxvY2soUERFRm9ybVBhZ2Ug
cGFnZSkgew0KKwkJc3VwZXIocGFnZSk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkg
KiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFTWFzdGVyRGV0YWls
c0Jsb2NrI2NyZWF0ZU1hc3RlclNlY3Rpb24ob3JnLmVjbGlwc2UudWkuZm9ybXMuSU1hbmFnZWRG
b3JtLCBvcmcuZWNsaXBzZS5zd3Qud2lkZ2V0cy5Db21wb3NpdGUpDQorCSAqLw0KKwlwcm90ZWN0
ZWQgUERFU2VjdGlvbiBjcmVhdGVNYXN0ZXJTZWN0aW9uKElNYW5hZ2VkRm9ybSBtYW5hZ2VkRm9y
bSwgQ29tcG9zaXRlIHBhcmVudCkgew0KKwkJZk1hc3RlclNlY3Rpb24gPSBuZXcgQ3R4SGVscFRy
ZWVTZWN0aW9uKGdldFBhZ2UoKSwgcGFyZW50KTsNCisJCXJldHVybiBmTWFzdGVyU2VjdGlvbjsN
CisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UudWkuZm9y
bXMuTWFzdGVyRGV0YWlsc0Jsb2NrI3JlZ2lzdGVyUGFnZXMob3JnLmVjbGlwc2UudWkuZm9ybXMu
RGV0YWlsc1BhcnQpDQorCSAqLw0KKwlwcm90ZWN0ZWQgdm9pZCByZWdpc3RlclBhZ2VzKERldGFp
bHNQYXJ0IGRldGFpbHNQYXJ0KSB7DQorCQkvLyBPbmx5IHN0YXRpYyBwYWdlcyB0byBiZSBkZWZp
bmVkLiAgRG8gbm90IGNhY2hlIHBhZ2VzDQorCQlkZXRhaWxzUGFydC5zZXRQYWdlTGltaXQoMCk7
DQorCQlkZXRhaWxzUGFydC5yZWdpc3RlclBhZ2UoQ3R4SGVscENvbnRleHREZXRhaWxzLmNsYXNz
LCBuZXcgQ3R4SGVscENvbnRleHREZXRhaWxzKGZNYXN0ZXJTZWN0aW9uKSk7DQorCQlkZXRhaWxz
UGFydC5yZWdpc3RlclBhZ2UoQ3R4SGVscERlc2NyaXB0aW9uRGV0YWlscy5jbGFzcywgbmV3IEN0
eEhlbHBEZXNjcmlwdGlvbkRldGFpbHMoZk1hc3RlclNlY3Rpb24pKTsNCisJCWRldGFpbHNQYXJ0
LnJlZ2lzdGVyUGFnZShDdHhIZWxwVG9waWNEZXRhaWxzLmNsYXNzLCBuZXcgQ3R4SGVscFRvcGlj
RGV0YWlscyhmTWFzdGVyU2VjdGlvbikpOw0KKwkJZGV0YWlsc1BhcnQucmVnaXN0ZXJQYWdlKEN0
eEhlbHBDb21tYW5kRGV0YWlscy5jbGFzcywgbmV3IEN0eEhlbHBDb21tYW5kRGV0YWlscyhmTWFz
dGVyU2VjdGlvbikpOw0KKwkJZGV0YWlsc1BhcnQuc2V0UGFnZVByb3ZpZGVyKHRoaXMpOw0KKwl9
DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuY29yZS5J
TW9kZWxDaGFuZ2VkTGlzdGVuZXIjbW9kZWxDaGFuZ2VkKG9yZy5lY2xpcHNlLnBkZS5jb3JlLklN
b2RlbENoYW5nZWRFdmVudCkNCisJICovDQorCXB1YmxpYyB2b2lkIG1vZGVsQ2hhbmdlZChJTW9k
ZWxDaGFuZ2VkRXZlbnQgZXZlbnQpIHsNCisJCWlmIChmTWFzdGVyU2VjdGlvbiAhPSBudWxsKSB7
DQorCQkJZk1hc3RlclNlY3Rpb24ubW9kZWxDaGFuZ2VkKGV2ZW50KTsNCisJCX0NCisJfQ0KKw0K
KwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UudWkuZm9ybXMuSURldGFp
bHNQYWdlUHJvdmlkZXIjZ2V0UGFnZShqYXZhLmxhbmcuT2JqZWN0KQ0KKwkgKi8NCisJcHVibGlj
IElEZXRhaWxzUGFnZSBnZXRQYWdlKE9iamVjdCBrZXkpIHsNCisJCS8vIE5vIGR5bmFtaWMgcGFn
ZXMuICBTdGF0aWMgcGFnZXMgYWxyZWFkeSByZWdpc3RlcmVkDQorCQlyZXR1cm4gbnVsbDsNCisJ
fQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UudWkuZm9ybXMu
SURldGFpbHNQYWdlUHJvdmlkZXIjZ2V0UGFnZUtleShqYXZhLmxhbmcuT2JqZWN0KQ0KKwkgKi8N
CisJcHVibGljIE9iamVjdCBnZXRQYWdlS2V5KE9iamVjdCBvYmplY3QpIHsNCisJCUlTZWxlY3Rp
b24gc2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKCk7DQorCQlpZiAoIShzZWxlY3Rpb24gaW5zdGFu
Y2VvZiBJU3RydWN0dXJlZFNlbGVjdGlvbikgfHwgKChJU3RydWN0dXJlZFNlbGVjdGlvbikgc2Vs
ZWN0aW9uKS5zaXplKCkgPiAxKSB7DQorCQkJcmV0dXJuIG9iamVjdC5nZXRDbGFzcygpOw0KKwkJ
fQ0KKw0KKwkJaWYgKG9iamVjdCBpbnN0YW5jZW9mIEN0eEhlbHBDb250ZXh0KSB7DQorCQkJcmV0
dXJuIEN0eEhlbHBDb250ZXh0RGV0YWlscy5jbGFzczsNCisJCX0gZWxzZSBpZiAob2JqZWN0IGlu
c3RhbmNlb2YgQ3R4SGVscERlc2NyaXB0aW9uKSB7DQorCQkJcmV0dXJuIEN0eEhlbHBEZXNjcmlw
dGlvbkRldGFpbHMuY2xhc3M7DQorCQl9IGVsc2UgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEN0eEhl
bHBUb3BpYykgew0KKwkJCXJldHVybiBDdHhIZWxwVG9waWNEZXRhaWxzLmNsYXNzOw0KKwkJfSBl
bHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBDdHhIZWxwQ29tbWFuZCkgew0KKwkJCXJldHVybiBD
dHhIZWxwQ29tbWFuZERldGFpbHMuY2xhc3M7DQorCQl9DQorDQorCQlyZXR1cm4gb2JqZWN0Lmdl
dENsYXNzKCk7DQorCX0NCisNCisJLyoqDQorCSAqIEByZXR1cm4gdGhlIGN1cnJlbnQgc2VsZWN0
aW9uIG9mIHRoZSB0cmVlIHNlY3Rpb24NCisJICovDQorCXB1YmxpYyBJU2VsZWN0aW9uIGdldFNl
bGVjdGlvbigpIHsNCisJCWlmIChmTWFzdGVyU2VjdGlvbiAhPSBudWxsKSB7DQorCQkJcmV0dXJu
IGZNYXN0ZXJTZWN0aW9uLmdldFNlbGVjdGlvbigpOw0KKwkJfQ0KKwkJcmV0dXJuIG51bGw7DQor
CX0NCisNCisJLyoqDQorCSAqIEByZXR1cm4gdGhlIHRyZWUgc2VjdGlvbg0KKwkgKi8NCisJcHVi
bGljIEN0eEhlbHBUcmVlU2VjdGlvbiBnZXRNYXN0ZXJTZWN0aW9uKCkgew0KKwkJcmV0dXJuIGZN
YXN0ZXJTZWN0aW9uOw0KKwl9DQorfQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJu
YWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscEZvcm1PdXRsaW5lUGFnZS5qYXZhDQo9PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09DQpSQ1MgZmlsZTogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4
aGVscC9DdHhIZWxwRm9ybU91dGxpbmVQYWdlLmphdmENCmRpZmYgLU4gc3JjL29yZy9lY2xpcHNl
L3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwRm9ybU91dGxpbmVQYWdlLmph
dmENCi0tLSAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KKysrIHNyYy9vcmcv
ZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscEZvcm1PdXRsaW5l
UGFnZS5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsODEgQEANCisv
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMjAwOCBJQk0gQ29ycG9y
YXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0g
YW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVu
ZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hp
Y2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisg
KiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29u
dHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1w
bGVtZW50YXRpb24NCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCitwYWNrYWdlIG9yZy5lY2xp
cHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscDsNCisNCitpbXBvcnQgamF2YS51dGls
Lkxpc3Q7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnZpZXdlcnMuSUxhYmVsUHJvdmlkZXI7
DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4aGVscC5DdHhI
ZWxwTW9kZWw7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC5jb3JlLnRleHQuY3R4
aGVscC5DdHhIZWxwT2JqZWN0Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29y
ZS51dGlsLlBERVRleHRIZWxwZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51
aS5lZGl0b3IuRm9ybU91dGxpbmVQYWdlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwudWkuZWRpdG9yLlBERUZvcm1FZGl0b3I7DQorDQorLyoqDQorICogVGhlIG91dGxpbmUgcGFn
ZSBmb3IgdGhlIGNvbnRleHQgaGVscCBlZGl0b3INCisgKiBAc2luY2UgMy40DQorICogQHNlZSBD
dHhIZWxwRWRpdG9yDQorICovDQorcHVibGljIGNsYXNzIEN0eEhlbHBGb3JtT3V0bGluZVBhZ2Ug
ZXh0ZW5kcyBGb3JtT3V0bGluZVBhZ2Ugew0KKw0KKwlwdWJsaWMgQ3R4SGVscEZvcm1PdXRsaW5l
UGFnZShQREVGb3JtRWRpdG9yIGVkaXRvcikgew0KKwkJc3VwZXIoZWRpdG9yKTsNCisJfQ0KKw0K
KwkvKioNCisJICogTGFiZWwgcHJvdmlkZXIgZm9yIHRoZSBvdXRsaW5lDQorCSAqIEBhdXRob3Ig
Y3dpbmRhdHQNCisJICoNCisJICovDQorCXByaXZhdGUgY2xhc3MgQ3R4SGVscExhYmVsUHJvdmlk
ZXIgZXh0ZW5kcyBCYXNpY0xhYmVsUHJvdmlkZXIgew0KKwkJcHVibGljIFN0cmluZyBnZXRUZXh0
KE9iamVjdCBvYmopIHsNCisJCQlpZiAob2JqIGluc3RhbmNlb2YgQ3R4SGVscE9iamVjdCkgew0K
KwkJCQlyZXR1cm4gUERFVGV4dEhlbHBlci50cmFuc2xhdGVSZWFkVGV4dCgoKEN0eEhlbHBPYmpl
Y3QpIG9iaikuZ2V0TmFtZSgpKTsNCisJCQl9DQorCQkJcmV0dXJuIHN1cGVyLmdldFRleHQob2Jq
KTsNCisJCX0NCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlw
c2UucGRlLmludGVybmFsLnVpLmVkaXRvci5Gb3JtT3V0bGluZVBhZ2UjZ2V0Q2hpbGRyZW4oamF2
YS5sYW5nLk9iamVjdCkNCisJICovDQorCXByb3RlY3RlZCBPYmplY3RbXSBnZXRDaGlsZHJlbihP
YmplY3QgcGFyZW50KSB7DQorCQlpZiAocGFyZW50IGluc3RhbmNlb2YgQ3R4SGVscFBhZ2UpIHsN
CisJCQlDdHhIZWxwTW9kZWwgbW9kZWwgPSAoQ3R4SGVscE1vZGVsKSBmRWRpdG9yLmdldEFnZ3Jl
Z2F0ZU1vZGVsKCk7DQorCQkJaWYgKG1vZGVsICE9IG51bGwgJiYgbW9kZWwuaXNMb2FkZWQoKSkg
ew0KKwkJCQlPYmplY3RbXSBsaXN0ID0gbmV3IE9iamVjdFsxXTsNCisJCQkJbGlzdFswXSA9IG1v
ZGVsLmdldEN0eEhlbHBSb290KCk7DQorCQkJCXJldHVybiBsaXN0Ow0KKwkJCX0NCisJCX0gZWxz
ZSBpZiAocGFyZW50IGluc3RhbmNlb2YgQ3R4SGVscE9iamVjdCkgew0KKwkJCUxpc3QgbGlzdCA9
ICgoQ3R4SGVscE9iamVjdCkgcGFyZW50KS5nZXRDaGlsZHJlbigpOw0KKwkJCS8vIExpc3QgaXMg
bmV2ZXIgbnVsbA0KKwkJCWlmIChsaXN0LnNpemUoKSA+IDApIHsNCisJCQkJcmV0dXJuIGxpc3Qu
dG9BcnJheSgpOw0KKwkJCX0NCisJCX0NCisNCisJCXJldHVybiBzdXBlci5nZXRDaGlsZHJlbihw
YXJlbnQpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBz
ZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLkZvcm1PdXRsaW5lUGFnZSNjcmVhdGVMYWJlbFByb3Zp
ZGVyKCkNCisJICovDQorCXB1YmxpYyBJTGFiZWxQcm92aWRlciBjcmVhdGVMYWJlbFByb3ZpZGVy
KCkgew0KKwkJcmV0dXJuIG5ldyBDdHhIZWxwTGFiZWxQcm92aWRlcigpOw0KKwl9DQorDQorCS8q
IChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLkZvcm1PdXRsaW5lUGFnZSNnZXRQYXJlbnRQYWdlSWQoamF2YS5sYW5nLk9iamVjdCkNCisJ
ICovDQorCXByb3RlY3RlZCBTdHJpbmcgZ2V0UGFyZW50UGFnZUlkKE9iamVjdCBpdGVtKSB7DQor
CQlyZXR1cm4gQ3R4SGVscFBhZ2UuUEFHRV9JRDsNCisJfQ0KK30NCkluZGV4OiBzcmMvb3JnL2Vj
bGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVscENvbnRl
eHREZXRhaWxzLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiBzcmMvb3JnL2VjbGlwc2UvcGRl
L2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVscENvbnRleHREZXRhaWxz
LmphdmENCmRpZmYgLU4gc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4
aGVscC9kZXRhaWxzL0N0eEhlbHBDb250ZXh0RGV0YWlscy5qYXZhDQotLS0gL2Rldi9udWxsCTEg
SmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFs
L3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVscENvbnRleHREZXRhaWxzLmphdmEJMSBK
YW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAgLTAsMCArMSwxNDMgQEANCisvKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90
aGVycy4NCisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2Nv
bXBhbnlpbmcgbWF0ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJt
cyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5p
ZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3
LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0K
KyAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24N
CisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKi8NCitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzOw0KKw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5q
ZmFjZS52aWV3ZXJzLklTZWxlY3Rpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5h
bC5jb3JlLnRleHQuY3R4aGVscC5DdHhIZWxwQ29udGV4dDsNCitpbXBvcnQgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLnVpLlBERVVJTWVzc2FnZXM7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5p
bnRlcm5hbC51aS5lZGl0b3IuRm9ybUVudHJ5QWRhcHRlcjsNCitpbXBvcnQgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLkN0eEhlbHBJbnB1dENvbnRleHQ7DQoraW1w
b3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5DdHhIZWxwVHJl
ZVNlY3Rpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5wYXJ0cy5Gb3Jt
RW50cnk7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5TV1Q7DQoraW1wb3J0IG9yZy5lY2xpcHNl
LnN3dC5sYXlvdXQuR3JpZERhdGE7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC53aWRnZXRzLkNv
bXBvc2l0ZTsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWkuZm9ybXMuSUZvcm1QYXJ0Ow0KKw0KKy8q
Kg0KKyAqIERldGFpbHMgc2VjdGlvbiBmb3IgY29udGV4dCBlbnRyaWVzLg0KKyAqIEBzaW5jZSAz
LjQNCisgKiBAc2VlIEN0eEhlbHBBYnN0cmFjdERldGFpbHMNCisgKiBAc2VlIEN0eEhlbHBDb250
ZXh0DQorICovDQorcHVibGljIGNsYXNzIEN0eEhlbHBDb250ZXh0RGV0YWlscyBleHRlbmRzIEN0
eEhlbHBBYnN0cmFjdERldGFpbHMgew0KKw0KKwlwcml2YXRlIEN0eEhlbHBDb250ZXh0IGZDb250
ZXh0Ow0KKwlwcml2YXRlIEZvcm1FbnRyeSBmSWRFbnRyeTsNCisJcHJpdmF0ZSBGb3JtRW50cnkg
ZlRpdGxlRW50cnk7DQorCXByaXZhdGUgRm9ybUVudHJ5IGZEZXNjRW50cnk7DQorDQorCXB1Ymxp
YyBDdHhIZWxwQ29udGV4dERldGFpbHMoQ3R4SGVscFRyZWVTZWN0aW9uIG1hc3RlclNlY3Rpb24p
IHsNCisJCXN1cGVyKG1hc3RlclNlY3Rpb24sIEN0eEhlbHBJbnB1dENvbnRleHQuQ09OVEVYVF9J
RCk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzLkN0eEhlbHBBYnN0cmFjdERldGFp
bHMjY3JlYXRlRmllbGRzKG9yZy5lY2xpcHNlLnN3dC53aWRnZXRzLkNvbXBvc2l0ZSkNCisJICov
DQorCXB1YmxpYyB2b2lkIGNyZWF0ZUZpZWxkcyhDb21wb3NpdGUgcGFyZW50KSB7DQorCQljcmVh
dGVMYWJlbChwYXJlbnQsIGdldE1hbmFnZWRGb3JtKCkuZ2V0VG9vbGtpdCgpLCBQREVVSU1lc3Nh
Z2VzLkN0eEhlbHBDb250ZXh0RGV0YWlsc19zcGVjaWZ5SUQpOw0KKwkJZklkRW50cnkgPSBuZXcg
Rm9ybUVudHJ5KHBhcmVudCwgZ2V0TWFuYWdlZEZvcm0oKS5nZXRUb29sa2l0KCksIFBERVVJTWVz
c2FnZXMuQ3R4SGVscENvbnRleHREZXRhaWxzX2lkLCBTV1QuTk9ORSk7DQorCQljcmVhdGVTcGFj
ZShwYXJlbnQpOw0KKwkJY3JlYXRlTGFiZWwocGFyZW50LCBnZXRNYW5hZ2VkRm9ybSgpLmdldFRv
b2xraXQoKSwgUERFVUlNZXNzYWdlcy5DdHhIZWxwQ29udGV4dERldGFpbHNfc3BlY2lmeURlc2Ny
aXB0aW9uKTsNCisJCWZEZXNjRW50cnkgPSBuZXcgRm9ybUVudHJ5KHBhcmVudCwgZ2V0TWFuYWdl
ZEZvcm0oKS5nZXRUb29sa2l0KCksIFBERVVJTWVzc2FnZXMuQ3R4SGVscENvbnRleHREZXRhaWxz
X2Rlc2NyaXB0aW9uLCBTV1QuTVVMVEkgfCBTV1QuV1JBUCB8IFNXVC5WX1NDUk9MTCk7DQorCQlH
cmlkRGF0YSBkYXRhID0gbmV3IEdyaWREYXRhKEdyaWREYXRhLkZJTExfSE9SSVpPTlRBTCk7DQor
CQlkYXRhLmhlaWdodEhpbnQgPSA1MDsNCisJCWZEZXNjRW50cnkuZ2V0VGV4dCgpLnNldExheW91
dERhdGEoZGF0YSk7DQorCQlkYXRhID0gbmV3IEdyaWREYXRhKEdyaWREYXRhLlZFUlRJQ0FMX0FM
SUdOX0JFR0lOTklORyB8IEdyaWREYXRhLkhPUklaT05UQUxfQUxJR05fRU5EKTsNCisJCWZEZXNj
RW50cnkuZ2V0TGFiZWwoKS5zZXRMYXlvdXREYXRhKGRhdGEpOw0KKwkJY3JlYXRlU3BhY2UocGFy
ZW50KTsNCisJCWNyZWF0ZUxhYmVsKHBhcmVudCwgZ2V0TWFuYWdlZEZvcm0oKS5nZXRUb29sa2l0
KCksIFBERVVJTWVzc2FnZXMuQ3R4SGVscENvbnRleHREZXRhaWxzX3NwZWNpZnlUaXRsZSk7DQor
CQlmVGl0bGVFbnRyeSA9IG5ldyBGb3JtRW50cnkocGFyZW50LCBnZXRNYW5hZ2VkRm9ybSgpLmdl
dFRvb2xraXQoKSwgUERFVUlNZXNzYWdlcy5DdHhIZWxwQ29udGV4dERldGFpbHNfdGl0bGUsIFNX
VC5OT05FKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlw
c2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLmRldGFpbHMuQ3R4SGVscEFic3RyYWN0
RGV0YWlscyNnZXREZXRhaWxzVGl0bGUoKQ0KKwkgKi8NCisJcHJvdGVjdGVkIFN0cmluZyBnZXRE
ZXRhaWxzVGl0bGUoKSB7DQorCQlyZXR1cm4gUERFVUlNZXNzYWdlcy5DdHhIZWxwQ29udGV4dERl
dGFpbHNfY29udGV4dERldGFpbHM7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBA
c2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzLkN0
eEhlbHBBYnN0cmFjdERldGFpbHMjZ2V0RGV0YWlsc0Rlc2NyaXB0aW9uKCkNCisJICovDQorCXBy
b3RlY3RlZCBTdHJpbmcgZ2V0RGV0YWlsc0Rlc2NyaXB0aW9uKCkgew0KKwkJcmV0dXJuIG51bGw7
DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5p
bnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzLkN0eEhlbHBBYnN0cmFjdERldGFpbHMj
aG9va0xpc3RlbmVycygpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBob29rTGlzdGVuZXJzKCkgew0K
KwkJZklkRW50cnkuc2V0Rm9ybUVudHJ5TGlzdGVuZXIobmV3IEZvcm1FbnRyeUFkYXB0ZXIodGhp
cykgew0KKwkJCXB1YmxpYyB2b2lkIHRleHRWYWx1ZUNoYW5nZWQoRm9ybUVudHJ5IGVudHJ5KSB7
DQorCQkJCWlmIChmQ29udGV4dCAhPSBudWxsKSB7DQorCQkJCQlmQ29udGV4dC5zZXRJRChmSWRF
bnRyeS5nZXRWYWx1ZSgpKTsNCisJCQkJfQ0KKwkJCX0NCisJCX0pOw0KKwkJZkRlc2NFbnRyeS5z
ZXRGb3JtRW50cnlMaXN0ZW5lcihuZXcgRm9ybUVudHJ5QWRhcHRlcih0aGlzKSB7DQorCQkJcHVi
bGljIHZvaWQgdGV4dFZhbHVlQ2hhbmdlZChGb3JtRW50cnkgZW50cnkpIHsNCisJCQkJaWYgKGZD
b250ZXh0ICE9IG51bGwpIHsNCisJCQkJCWlmIChmRGVzY0VudHJ5LmdldFZhbHVlKCkudHJpbSgp
Lmxlbmd0aCgpID4gMCkgew0KKwkJCQkJCWZDb250ZXh0LnNldERlc2NyaXB0aW9uKGZEZXNjRW50
cnkuZ2V0VmFsdWUoKSk7DQorCQkJCQl9IGVsc2Ugew0KKwkJCQkJCS8vIFBhc3MgbnVsbCB0byBk
ZWxldGUgdGhlIGRlc2NyaXB0aW9uIG5vZGUgYmVjYXVzZSBpdCBpcyBlbXB0eQ0KKwkJCQkJCWZD
b250ZXh0LnNldERlc2NyaXB0aW9uKG51bGwpOw0KKwkJCQkJfQ0KKwkJCQl9DQorCQkJfQ0KKwkJ
fSk7DQorCQlmVGl0bGVFbnRyeS5zZXRGb3JtRW50cnlMaXN0ZW5lcihuZXcgRm9ybUVudHJ5QWRh
cHRlcih0aGlzKSB7DQorCQkJcHVibGljIHZvaWQgdGV4dFZhbHVlQ2hhbmdlZChGb3JtRW50cnkg
ZW50cnkpIHsgLy8gRW5zdXJlIGRhdGEgb2JqZWN0IGlzIGRlZmluZWQNCisJCQkJaWYgKGZDb250
ZXh0ICE9IG51bGwpIHsNCisJCQkJCWZDb250ZXh0LnNldFRpdGxlKGZUaXRsZUVudHJ5LmdldFZh
bHVlKCkpOw0KKwkJCQl9DQorCQkJfQ0KKwkJfSk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9j
KQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5k
ZXRhaWxzLkN0eEhlbHBBYnN0cmFjdERldGFpbHMjdXBkYXRlRmllbGRzKCkNCisJICovDQorCXB1
YmxpYyB2b2lkIHVwZGF0ZUZpZWxkcygpIHsNCisJCWlmIChmQ29udGV4dCAhPSBudWxsKSB7DQor
CQkJZklkRW50cnkuc2V0VmFsdWUoZkNvbnRleHQuZ2V0SWQoKSwgdHJ1ZSk7DQorCQkJZklkRW50
cnkuc2V0RWRpdGFibGUoaXNFZGl0YWJsZUVsZW1lbnQoKSk7DQorCQkJZkRlc2NFbnRyeS5zZXRW
YWx1ZShmQ29udGV4dC5nZXREZXNjcmlwdGlvbigpLCB0cnVlKTsNCisJCQlmRGVzY0VudHJ5LnNl
dEVkaXRhYmxlKGlzRWRpdGFibGVFbGVtZW50KCkpOw0KKwkJCWZUaXRsZUVudHJ5LnNldFZhbHVl
KGZDb250ZXh0LmdldFRpdGxlKCksIHRydWUpOw0KKwkJCWZUaXRsZUVudHJ5LnNldEVkaXRhYmxl
KGlzRWRpdGFibGVFbGVtZW50KCkpOw0KKwkJfQ0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykN
CisJICogQHNlZSBvcmcuZWNsaXBzZS51aS5mb3Jtcy5BYnN0cmFjdEZvcm1QYXJ0I2NvbW1pdChi
b29sZWFuKQ0KKwkgKi8NCisJcHVibGljIHZvaWQgY29tbWl0KGJvb2xlYW4gb25TYXZlKSB7DQor
CQlzdXBlci5jb21taXQob25TYXZlKTsNCisJCS8vIE9ubHkgcmVxdWlyZWQgZm9yIGZvcm0gZW50
cmllcw0KKwkJZklkRW50cnkuY29tbWl0KCk7DQorCQlmRGVzY0VudHJ5LmNvbW1pdCgpOw0KKwkJ
ZlRpdGxlRW50cnkuY29tbWl0KCk7DQorDQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkg
KiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxz
LkN0eEhlbHBBYnN0cmFjdERldGFpbHMjc2VsZWN0aW9uQ2hhbmdlZChvcmcuZWNsaXBzZS51aS5m
b3Jtcy5JRm9ybVBhcnQsIG9yZy5lY2xpcHNlLmpmYWNlLnZpZXdlcnMuSVNlbGVjdGlvbikNCisJ
ICovDQorCXB1YmxpYyB2b2lkIHNlbGVjdGlvbkNoYW5nZWQoSUZvcm1QYXJ0IHBhcnQsIElTZWxl
Y3Rpb24gc2VsZWN0aW9uKSB7DQorCQlPYmplY3Qgb2JqZWN0ID0gZ2V0Rmlyc3RTZWxlY3RlZE9i
amVjdChzZWxlY3Rpb24pOw0KKwkJaWYgKG9iamVjdCBpbnN0YW5jZW9mIEN0eEhlbHBDb250ZXh0
KSB7DQorCQkJZkNvbnRleHQgPSAoQ3R4SGVscENvbnRleHQpIG9iamVjdDsNCisJCQl1cGRhdGVG
aWVsZHMoKTsNCisJCX0NCisJfQ0KK30NCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVy
bmFsL3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVscFRvcGljRGV0YWlscy5qYXZhDQo9
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09DQpSQ1MgZmlsZTogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0
b3IvY3R4aGVscC9kZXRhaWxzL0N0eEhlbHBUb3BpY0RldGFpbHMuamF2YQ0KZGlmZiAtTiBzcmMv
b3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL2RldGFpbHMvQ3R4SGVs
cFRvcGljRGV0YWlscy5qYXZhDQotLS0gL2Rldi9udWxsCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAw
MDANCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL2Rl
dGFpbHMvQ3R4SGVscFRvcGljRGV0YWlscy5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDAN
CkBAIC0wLDAgKzEsMTg0IEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmln
aHQgKGMpIDIwMDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyBy
ZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAq
IGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGlj
IExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBh
bmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwt
djEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9u
IC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KiovDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAu
ZGV0YWlsczsNCisNCitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5yZXNvdXJjZXMuSUZpbGU7DQor
aW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucnVudGltZS5JUGF0aDsNCitpbXBvcnQgb3JnLmVjbGlw
c2UuY29yZS5ydW50aW1lLlBhdGg7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnZpZXdlcnMu
SVNlbGVjdGlvbjsNCitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2Uud2luZG93LldpbmRvdzsNCitp
bXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC5jdHhoZWxwLkN0eEhlbHBU
b3BpYzsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLlBERVBsdWdpbjsNCitp
bXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLlBERVVJTWVzc2FnZXM7DQoraW1wb3J0
IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuRm9ybUVudHJ5QWRhcHRlcjsNCitp
bXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLkN0eEhlbHBJ
bnB1dENvbnRleHQ7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3Iu
Y3R4aGVscC5DdHhIZWxwVHJlZVNlY3Rpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC51aS5lZGl0b3IudG9jLmRldGFpbHMuSGVscEVkaXRvckZpbHRlcjsNCitpbXBvcnQgb3Jn
LmVjbGlwc2UucGRlLmludGVybmFsLnVpLnBhcnRzLkZvcm1FbnRyeTsNCitpbXBvcnQgb3JnLmVj
bGlwc2UucGRlLmludGVybmFsLnVpLnV0aWwuRmlsZVZhbGlkYXRvcjsNCitpbXBvcnQgb3JnLmVj
bGlwc2Uuc3d0LlNXVDsNCitpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LndpZGdldHMuQ29tcG9zaXRl
Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS51aS5kaWFsb2dzLkVsZW1lbnRUcmVlU2VsZWN0aW9uRGlh
bG9nOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS51aS5mb3Jtcy5JRm9ybVBhcnQ7DQoraW1wb3J0IG9y
Zy5lY2xpcHNlLnVpLmZvcm1zLmV2ZW50cy5IeXBlcmxpbmtFdmVudDsNCitpbXBvcnQgb3JnLmVj
bGlwc2UudWkubW9kZWwuV29ya2JlbmNoQ29udGVudFByb3ZpZGVyOw0KK2ltcG9ydCBvcmcuZWNs
aXBzZS51aS5tb2RlbC5Xb3JrYmVuY2hMYWJlbFByb3ZpZGVyOw0KKw0KKy8qKg0KKyAqIERldGFp
bHMgc2VjdGlvbiBmb3IgdG9waWMgZW50cmllcy4NCisgKiBAc2luY2UgMy40DQorICogQHNlZSBD
dHhIZWxwQWJzdHJhY3REZXRhaWxzDQorICogQHNlZSBDdHhIZWxwVG9waWMNCisgKi8NCitwdWJs
aWMgY2xhc3MgQ3R4SGVscFRvcGljRGV0YWlscyBleHRlbmRzIEN0eEhlbHBBYnN0cmFjdERldGFp
bHMgew0KKw0KKwlwcml2YXRlIEN0eEhlbHBUb3BpYyBmVG9waWM7DQorCXByaXZhdGUgRm9ybUVu
dHJ5IGZMYWJlbEVudHJ5Ow0KKwlwcml2YXRlIEZvcm1FbnRyeSBmTGlua0VudHJ5Ow0KKw0KKwlw
dWJsaWMgQ3R4SGVscFRvcGljRGV0YWlscyhDdHhIZWxwVHJlZVNlY3Rpb24gbWFzdGVyU2VjdGlv
bikgew0KKwkJc3VwZXIobWFzdGVyU2VjdGlvbiwgQ3R4SGVscElucHV0Q29udGV4dC5DT05URVhU
X0lEKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLmRldGFpbHMuQ3R4SGVscEFic3RyYWN0RGV0
YWlscyNjcmVhdGVGaWVsZHMob3JnLmVjbGlwc2Uuc3d0LndpZGdldHMuQ29tcG9zaXRlKQ0KKwkg
Ki8NCisJcHVibGljIHZvaWQgY3JlYXRlRmllbGRzKENvbXBvc2l0ZSBwYXJlbnQpIHsNCisJCWNy
ZWF0ZUxhYmVsKHBhcmVudCwgZ2V0TWFuYWdlZEZvcm0oKS5nZXRUb29sa2l0KCksIFBERVVJTWVz
c2FnZXMuQ3R4SGVscFRvcGljRGV0YWlsc19zcGVjaWZ5TGFiZWwpOw0KKwkJZkxhYmVsRW50cnkg
PSBuZXcgRm9ybUVudHJ5KHBhcmVudCwgZ2V0TWFuYWdlZEZvcm0oKS5nZXRUb29sa2l0KCksIFBE
RVVJTWVzc2FnZXMuQ3R4SGVscFRvcGljRGV0YWlsc19sYWJlbCwgU1dULk5PTkUpOw0KKwkJY3Jl
YXRlU3BhY2UocGFyZW50KTsNCisJCWNyZWF0ZUxhYmVsKHBhcmVudCwgZ2V0TWFuYWdlZEZvcm0o
KS5nZXRUb29sa2l0KCksIFBERVVJTWVzc2FnZXMuQ3R4SGVscFRvcGljRGV0YWlsc19zcGVjaWZ5
TG9jYXRpb24pOw0KKwkJZkxpbmtFbnRyeSA9IG5ldyBGb3JtRW50cnkocGFyZW50LCBnZXRNYW5h
Z2VkRm9ybSgpLmdldFRvb2xraXQoKSwgUERFVUlNZXNzYWdlcy5DdHhIZWxwVG9waWNEZXRhaWxz
X2xvY2F0aW9uLCBQREVVSU1lc3NhZ2VzLkdlbmVyYWxJbmZvU2VjdGlvbl9icm93c2UsIGlzRWRp
dGFibGUoKSk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xp
cHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzLkN0eEhlbHBBYnN0cmFj
dERldGFpbHMjZ2V0RGV0YWlsc1RpdGxlKCkNCisJICovDQorCXByb3RlY3RlZCBTdHJpbmcgZ2V0
RGV0YWlsc1RpdGxlKCkgew0KKwkJcmV0dXJuIFBERVVJTWVzc2FnZXMuVG9jVG9waWNEZXRhaWxz
X3RpdGxlOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBz
ZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlscy5DdHhIZWxwQWJzdHJhY3RE
ZXRhaWxzI2dldERldGFpbHNEZXNjcmlwdGlvbigpDQorCSAqLw0KKwlwcm90ZWN0ZWQgU3RyaW5n
IGdldERldGFpbHNEZXNjcmlwdGlvbigpIHsNCisJCXJldHVybiBudWxsOw0KKwl9DQorDQorCS8q
IChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLmN0eGhlbHAuZGV0YWlscy5DdHhIZWxwQWJzdHJhY3REZXRhaWxzI2hvb2tMaXN0ZW5lcnMo
KQ0KKwkgKi8NCisJcHVibGljIHZvaWQgaG9va0xpc3RlbmVycygpIHsNCisJCWZMYWJlbEVudHJ5
LnNldEZvcm1FbnRyeUxpc3RlbmVyKG5ldyBGb3JtRW50cnlBZGFwdGVyKHRoaXMpIHsNCisJCQlw
dWJsaWMgdm9pZCB0ZXh0VmFsdWVDaGFuZ2VkKEZvcm1FbnRyeSBlbnRyeSkgew0KKwkJCQlpZiAo
ZlRvcGljICE9IG51bGwpIHsNCisJCQkJCWZUb3BpYy5zZXRMYWJlbChmTGFiZWxFbnRyeS5nZXRW
YWx1ZSgpKTsNCisJCQkJfQ0KKwkJCX0NCisJCX0pOw0KKwkJZkxpbmtFbnRyeS5zZXRGb3JtRW50
cnlMaXN0ZW5lcihuZXcgRm9ybUVudHJ5QWRhcHRlcih0aGlzKSB7DQorCQkJcHVibGljIHZvaWQg
dGV4dFZhbHVlQ2hhbmdlZChGb3JtRW50cnkgZW50cnkpIHsgLy8gRW5zdXJlIGRhdGEgb2JqZWN0
IGlzIGRlZmluZWQNCisJCQkJaWYgKGZUb3BpYyAhPSBudWxsKSB7DQorCQkJCQkvLyBUT0RPIERv
IHdlIG5lZWQgYmV0dGVyIHRlc3RpbmcgZm9yIHBhdGggdmFsaWRpdHk/DQorCQkJCQlmVG9waWMu
c2V0TG9jYXRpb24obmV3IFBhdGgoZkxpbmtFbnRyeS5nZXRWYWx1ZSgpKSk7DQorCQkJCX0NCisJ
CQl9DQorDQorCQkJcHVibGljIHZvaWQgYnJvd3NlQnV0dG9uU2VsZWN0ZWQoRm9ybUVudHJ5IGVu
dHJ5KSB7DQorCQkJCWhhbmRsZUJyb3dzZSgpOw0KKwkJCX0NCisNCisJCQlwdWJsaWMgdm9pZCBs
aW5rQWN0aXZhdGVkKEh5cGVybGlua0V2ZW50IGUpIHsNCisJCQkJaGFuZGxlT3BlbigpOw0KKwkJ
CX0NCisJCX0pOw0KKwl9DQorDQorCS8qKg0KKwkgKiBIYW5kbGUgd2hlbiB0aGUgYnJvd3NlIGJ1
dHRvbiBpcyBwcmVzc2VkLiAgT3BlbiB1cCBhIGZpbGUgc2VsZWN0aW9uIGRpYWxvZy4NCisJICov
DQorCXByaXZhdGUgdm9pZCBoYW5kbGVCcm93c2UoKSB7DQorCQlFbGVtZW50VHJlZVNlbGVjdGlv
bkRpYWxvZyBkaWFsb2cgPSBuZXcgRWxlbWVudFRyZWVTZWxlY3Rpb25EaWFsb2coZ2V0UGFnZSgp
LmdldFNpdGUoKS5nZXRTaGVsbCgpLCBuZXcgV29ya2JlbmNoTGFiZWxQcm92aWRlcigpLCBuZXcg
V29ya2JlbmNoQ29udGVudFByb3ZpZGVyKCkpOw0KKw0KKwkJZGlhbG9nLnNldFZhbGlkYXRvcihu
ZXcgRmlsZVZhbGlkYXRvcigpKTsNCisJCWRpYWxvZy5zZXRBbGxvd011bHRpcGxlKGZhbHNlKTsN
CisJCWRpYWxvZy5zZXRUaXRsZShQREVVSU1lc3NhZ2VzLlRvY0RldGFpbHNfYnJvd3NlU2VsZWN0
aW9uKTsNCisJCWRpYWxvZy5zZXRNZXNzYWdlKFBERVVJTWVzc2FnZXMuVG9jRGV0YWlsc19icm93
c2VNZXNzYWdlKTsNCisJCWRpYWxvZy5hZGRGaWx0ZXIobmV3IEhlbHBFZGl0b3JGaWx0ZXIoKSk7
DQorDQorCQlkaWFsb2cuc2V0SW5wdXQoUERFUGx1Z2luLmdldFdvcmtzcGFjZSgpLmdldFJvb3Qo
KSk7DQorDQorCQlpZiAoZGlhbG9nLm9wZW4oKSA9PSBXaW5kb3cuT0spIHsNCisJCQlJRmlsZSBm
aWxlID0gKElGaWxlKSBkaWFsb2cuZ2V0Rmlyc3RSZXN1bHQoKTsNCisJCQlzZXRQYXRoRW50cnko
ZmlsZSk7DQorCQl9DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5l
Y2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscC5kZXRhaWxzLkN0eEhlbHBBYnN0
cmFjdERldGFpbHMjdXBkYXRlRmllbGRzKCkNCisJICovDQorCXB1YmxpYyB2b2lkIHVwZGF0ZUZp
ZWxkcygpIHsNCisJCWlmIChmVG9waWMgIT0gbnVsbCkgew0KKwkJCWZMYWJlbEVudHJ5LnNldFZh
bHVlKGZUb3BpYy5nZXRMYWJlbCgpLCB0cnVlKTsNCisJCQlmTGFiZWxFbnRyeS5zZXRFZGl0YWJs
ZShpc0VkaXRhYmxlRWxlbWVudCgpKTsNCisJCQlpZiAoZlRvcGljLmdldExvY2F0aW9uKCkgPT0g
bnVsbCkgew0KKwkJCQlmTGlua0VudHJ5LnNldFZhbHVlKCIiLCB0cnVlKTsgLy8kTk9OLU5MUy0x
JA0KKwkJCX0gZWxzZSB7DQorCQkJCWZMaW5rRW50cnkuc2V0VmFsdWUoZlRvcGljLmdldExvY2F0
aW9uKCkudG9Qb3J0YWJsZVN0cmluZygpLCB0cnVlKTsNCisJCQl9DQorCQkJZkxpbmtFbnRyeS5z
ZXRFZGl0YWJsZShpc0VkaXRhYmxlRWxlbWVudCgpKTsNCisJCX0NCisJfQ0KKw0KKwkvKiAobm9u
LUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UudWkuZm9ybXMuQWJzdHJhY3RGb3JtUGFy
dCNjb21taXQoYm9vbGVhbikNCisJICovDQorCXB1YmxpYyB2b2lkIGNvbW1pdChib29sZWFuIG9u
U2F2ZSkgew0KKwkJc3VwZXIuY29tbWl0KG9uU2F2ZSk7DQorCQkvLyBPbmx5IHJlcXVpcmVkIGZv
ciBmb3JtIGVudHJpZXMNCisJCWZMYWJlbEVudHJ5LmNvbW1pdCgpOw0KKwkJZkxpbmtFbnRyeS5j
b21taXQoKTsNCisNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVj
bGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLmRldGFpbHMuQ3R4SGVscEFic3Ry
YWN0RGV0YWlscyNzZWxlY3Rpb25DaGFuZ2VkKG9yZy5lY2xpcHNlLnVpLmZvcm1zLklGb3JtUGFy
dCwgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy5JU2VsZWN0aW9uKQ0KKwkgKi8NCisJcHVibGlj
IHZvaWQgc2VsZWN0aW9uQ2hhbmdlZChJRm9ybVBhcnQgcGFydCwgSVNlbGVjdGlvbiBzZWxlY3Rp
b24pIHsNCisJCU9iamVjdCBvYmplY3QgPSBnZXRGaXJzdFNlbGVjdGVkT2JqZWN0KHNlbGVjdGlv
bik7DQorCQlpZiAob2JqZWN0IGluc3RhbmNlb2YgQ3R4SGVscFRvcGljKSB7DQorCQkJZlRvcGlj
ID0gKEN0eEhlbHBUb3BpYykgb2JqZWN0Ow0KKwkJCXVwZGF0ZUZpZWxkcygpOw0KKwkJfQ0KKwl9
DQorDQorCS8qKg0KKwkgKiBTZXRzIHRoZSB0ZXh0IG9mIHRoZSBmb3JtIGVudHJ5IHVzZWQgdG8g
c3VwcGx5IGEgbGluaw0KKwkgKiBAcGFyYW0gZmlsZQ0KKwkgKi8NCisJcHJvdGVjdGVkIHZvaWQg
c2V0UGF0aEVudHJ5KElGaWxlIGZpbGUpIHsNCisJCUlQYXRoIHBhdGggPSBmaWxlLmdldEZ1bGxQ
YXRoKCk7DQorCQlpZiAoZmlsZS5nZXRQcm9qZWN0KCkuZXF1YWxzKGZUb3BpYy5nZXRNb2RlbCgp
LmdldFVuZGVybHlpbmdSZXNvdXJjZSgpLmdldFByb2plY3QoKSkpIHsNCisJCQlmTGlua0VudHJ5
LnNldFZhbHVlKHBhdGgucmVtb3ZlRmlyc3RTZWdtZW50cygxKS50b1N0cmluZygpKTsNCisJCX0g
ZWxzZSB7DQorCQkJZkxpbmtFbnRyeS5zZXRWYWx1ZSgiLi4iICsgcGF0aC50b1N0cmluZygpKTsg
Ly8kTk9OLU5MUy0xJA0KKwkJfQ0KKwl9DQorDQorCS8qKg0KKwkgKiBIYW5kbGUgd2hlbiB0aGUg
bGluayBpcyBwcmVzc2VkLiAgVHJ5IG9wZW5pbmcgdGhlIGZpbGUgYXQgdGhlIHNwZWNpZmllZCBw
YXRoLg0KKwkgKi8NCisJcHJvdGVjdGVkIHZvaWQgaGFuZGxlT3BlbigpIHsNCisJCWdldE1hc3Rl
clNlY3Rpb24oKS5vcGVuKGZUb3BpYyk7DQorCQkvLyBUT0RPIENvbnNpZGVyIGhhdmluZyBhIHdp
emFyZCBvcGVuIHRvIGNyZWF0ZSBhIG5ldyBmaWxlIGlmIHRoZSBwYXRoIGRvZXMgbm90IGV4aXN0
DQorCX0NCisNCit9DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0
b3IvY3R4aGVscC9DdHhIZWxwUGFnZS5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogc3JjL29y
Zy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwUGFnZS5qYXZh
DQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAv
Q3R4SGVscFBhZ2UuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAw
DQorKysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhI
ZWxwUGFnZS5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsMTU0IEBA
DQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIwMDggSUJNIENv
cnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9n
cmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRlIGF2YWlsYWJs
ZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KKyAq
IHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0
DQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKg0KKyAq
IENvbnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5k
IGltcGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQorcGFja2FnZSBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHA7DQorDQoraW1wb3J0IG9yZy5l
Y2xpcHNlLmpmYWNlLnRleHQuc291cmNlLklTb3VyY2VWaWV3ZXI7DQoraW1wb3J0IG9yZy5lY2xp
cHNlLmpmYWNlLnZpZXdlcnMuSVNlbGVjdGlvbjsNCitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2Uu
dmlld2Vycy5TdHJ1Y3R1cmVkU2VsZWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuY29y
ZS5JTW9kZWxDaGFuZ2VkRXZlbnQ7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5jb3JlLklNb2Rl
bENoYW5nZWRMaXN0ZW5lcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUu
dGV4dC4qOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhl
bHAuQ3R4SGVscE1vZGVsOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50
ZXh0LmN0eGhlbHAuQ3R4SGVscE9iamVjdDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVy
bmFsLnVpLio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERF
Rm9ybVBhZ2U7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERF
TWFzdGVyRGV0YWlsc0Jsb2NrOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3QuY3VzdG9tLlN0eWxl
ZFRleHQ7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmZvcm1zLklNYW5hZ2VkRm9ybTsNCitpbXBv
cnQgb3JnLmVjbGlwc2UudWkuZm9ybXMuZWRpdG9yLkZvcm1FZGl0b3I7DQoraW1wb3J0IG9yZy5l
Y2xpcHNlLnVpLmZvcm1zLmVkaXRvci5JRm9ybVBhZ2U7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVp
LmZvcm1zLndpZGdldHMuU2Nyb2xsZWRGb3JtOw0KKw0KKy8qKg0KKyAqIFRoZSBtYWluIHBhZ2Ug
Zm9yIHRoZSBjb250ZXh0IGhlbHAgZWRpdG9yLiAgQ29udGFpbnMgYSB0cmVlIGRpc3BsYXlpbmcg
dGhlIA0KKyAqIHN0cnVjdHVyZSBvZiB0aGUgeG1sIGFuZCBhIGRldGFpbHMgc2VjdGlvbi4gIFVJ
IGVsZW1lbnRzIGFyZSBoYW5kbGVkIGJ5IA0KKyAqIEN0eEhlbHBCbG9jay4NCisgKiBAc2luY2Ug
My40DQorICogQHNlZSBDdHhIZWxwRWRpdG9yDQorICogQHNlZSBDdHhIZWxwQmxvY2sNCisgKi8N
CitwdWJsaWMgY2xhc3MgQ3R4SGVscFBhZ2UgZXh0ZW5kcyBQREVGb3JtUGFnZSBpbXBsZW1lbnRz
IElNb2RlbENoYW5nZWRMaXN0ZW5lciB7DQorCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIFBB
R0VfSUQgPSAiY3R4SGVscFBhZ2UiOyAvLyROT04tTkxTLTEkDQorDQorCXByaXZhdGUgQ3R4SGVs
cEJsb2NrIGZCbG9jazsNCisNCisJcHVibGljIEN0eEhlbHBQYWdlKEZvcm1FZGl0b3IgZWRpdG9y
KSB7DQorCQlzdXBlcihlZGl0b3IsIFBBR0VfSUQsIFBERVVJTWVzc2FnZXMuVG9jUGFnZV90aXRs
ZSk7DQorCQlmQmxvY2sgPSBuZXcgQ3R4SGVscEJsb2NrKHRoaXMpOw0KKwl9DQorDQorCS8qKg0K
KwkgKiBAcmV0dXJuIHRoZSBDdHhIZWxwQmxvY2sgY29udGFpbmluZyB1aSBlbGVtZW50cw0KKwkg
Ki8NCisJcHVibGljIFBERU1hc3RlckRldGFpbHNCbG9jayBnZXRCbG9jaygpIHsNCisJCXJldHVy
biBmQmxvY2s7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xp
cHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFRm9ybVBhZ2UjY3JlYXRlRm9ybUNvbnRlbnQo
b3JnLmVjbGlwc2UudWkuZm9ybXMuSU1hbmFnZWRGb3JtKQ0KKwkgKi8NCisJcHJvdGVjdGVkIHZv
aWQgY3JlYXRlRm9ybUNvbnRlbnQoSU1hbmFnZWRGb3JtIG1hbmFnZWRGb3JtKSB7DQorCQlTY3Jv
bGxlZEZvcm0gZm9ybSA9IG1hbmFnZWRGb3JtLmdldEZvcm0oKTsNCisJCUN0eEhlbHBNb2RlbCBt
b2RlbCA9IChDdHhIZWxwTW9kZWwpIGdldE1vZGVsKCk7DQorDQorCQkvLyBFbnN1cmUgdGhlIG1v
ZGVsIHdhcyBsb2FkZWQgcHJvcGVybHkNCisJCWlmICgobW9kZWwgPT0gbnVsbCkgfHwgKG1vZGVs
LmlzTG9hZGVkKCkgPT0gZmFsc2UpKSB7DQorCQkJY3JlYXRlRm9ybUVycm9yQ29udGVudChtYW5h
Z2VkRm9ybSwgUERFVUlNZXNzYWdlcy5DdHhIZWxwUGFnZV9mYWlsZWRUb0xvYWQsIFBERVVJTWVz
c2FnZXMuQ3R4SGVscFBhZ2VfZXJyb3JQYXJzaW5nLCBudWxsKTsNCisJCQlyZXR1cm47DQorCQl9
DQorDQorCQkvLyBUT0RPIEFkZCBIZWxwIGNvbnRleHQNCisJCS8vCQlQbGF0Zm9ybVVJLmdldFdv
cmtiZW5jaCgpLmdldEhlbHBTeXN0ZW0oKS5zZXRIZWxwKGZvcm0uZ2V0Qm9keSgpLCBJSGVscENv
bnRleHRJZHMuVE9DX0VESVRPUik7DQorDQorCQkvLyBDcmVhdGUgdGhlIHJlc3Qgb2YgdGhlIGFj
dGlvbnMgaW4gdGhlIGZvcm0gdGl0bGUgYXJlYQ0KKwkJc3VwZXIuY3JlYXRlRm9ybUNvbnRlbnQo
bWFuYWdlZEZvcm0pOw0KKwkJLy8gRm9ybSBpbWFnZQ0KKwkJZm9ybS5zZXRJbWFnZShQREVQbHVn
aW4uZ2V0RGVmYXVsdCgpLmdldExhYmVsUHJvdmlkZXIoKS5nZXQoUERFUGx1Z2luSW1hZ2VzLkRF
U0NfQ1RYSEVMUF9DT05URVhUX09CSikpOw0KKwkJZm9ybS5zZXRUZXh0KFBERVVJTWVzc2FnZXMu
Q3R4SGVscFBhZ2VfY29udGV4dEhlbHApOw0KKwkJLy8gQ3JlYXRlIHRoZSBtYXN0ZXIgZGV0YWls
cyBibG9jaw0KKwkJZkJsb2NrLmNyZWF0ZUNvbnRlbnQobWFuYWdlZEZvcm0pOw0KKwkJLy8gRm9y
Y2UgdGhlIHNlbGVjdGlvbiBpbiB0aGUgbWFzdGVycyB0cmVlIHNlY3Rpb24gdG8gbG9hZCB0aGUg
DQorCQkvLyBwcm9wZXIgZGV0YWlscyBzZWN0aW9uDQorCQlmQmxvY2suZ2V0TWFzdGVyU2VjdGlv
bigpLmZpcmVTZWxlY3Rpb24oKTsNCisJCS8vIFJlZ2lzdGVyIHRoaXMgcGFnZSB0byBiZSBpbmZv
cm1lZCBvZiBtb2RlbCBjaGFuZ2UgZXZlbnRzDQorCQltb2RlbC5hZGRNb2RlbENoYW5nZWRMaXN0
ZW5lcih0aGlzKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVj
bGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5QREVGb3JtUGFnZSNkaXNwb3NlKCkNCisJICov
DQorCXB1YmxpYyB2b2lkIGRpc3Bvc2UoKSB7DQorCQlDdHhIZWxwTW9kZWwgbW9kZWwgPSAoQ3R4
SGVscE1vZGVsKSBnZXRNb2RlbCgpOw0KKwkJaWYgKG1vZGVsICE9IG51bGwpIHsNCisJCQltb2Rl
bC5yZW1vdmVNb2RlbENoYW5nZWRMaXN0ZW5lcih0aGlzKTsNCisJCX0NCisJCXN1cGVyLmRpc3Bv
c2UoKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2Uu
cGRlLmNvcmUuSU1vZGVsQ2hhbmdlZExpc3RlbmVyI21vZGVsQ2hhbmdlZChvcmcuZWNsaXBzZS5w
ZGUuY29yZS5JTW9kZWxDaGFuZ2VkRXZlbnQpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBtb2RlbENo
YW5nZWQoSU1vZGVsQ2hhbmdlZEV2ZW50IGV2ZW50KSB7DQorCQlmQmxvY2subW9kZWxDaGFuZ2Vk
KGV2ZW50KTsNCisJfQ0KKw0KKwkvKioNCisJICogQHJldHVybiB0aGUgY3VycmVudCBzZWxlY3Rp
b24gb2YgdGhlIHVpIGJsb2NrDQorCSAqLw0KKwlwdWJsaWMgSVNlbGVjdGlvbiBnZXRTZWxlY3Rp
b24oKSB7DQorCQlyZXR1cm4gZkJsb2NrLmdldFNlbGVjdGlvbigpOw0KKwl9DQorDQorCS8qIChu
b24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9y
LlBERUZvcm1QYWdlI3NldEFjdGl2ZShib29sZWFuKQ0KKwkgKi8NCisJcHVibGljIHZvaWQgc2V0
QWN0aXZlKGJvb2xlYW4gYWN0aXZlKSB7DQorCQlzdXBlci5zZXRBY3RpdmUoYWN0aXZlKTsNCisJ
CWlmIChhY3RpdmUpIHsNCisJCQlJRm9ybVBhZ2UgcGFnZSA9IGdldFBERUVkaXRvcigpLmZpbmRQ
YWdlKEN0eEhlbHBJbnB1dENvbnRleHQuQ09OVEVYVF9JRCk7DQorCQkJaWYgKHBhZ2UgaW5zdGFu
Y2VvZiBDdHhIZWxwU291cmNlUGFnZSAmJiAoKEN0eEhlbHBTb3VyY2VQYWdlKSBwYWdlKS5nZXRJ
bnB1dENvbnRleHQoKS5pc0luU291cmNlTW9kZSgpKSB7DQorCQkJCUlTb3VyY2VWaWV3ZXIgdmll
d2VyID0gKChDdHhIZWxwU291cmNlUGFnZSkgcGFnZSkuZ2V0Vmlld2VyKCk7DQorCQkJCWlmICh2
aWV3ZXIgPT0gbnVsbCkgew0KKwkJCQkJcmV0dXJuOw0KKwkJCQl9DQorDQorCQkJCVN0eWxlZFRl
eHQgdGV4dCA9IHZpZXdlci5nZXRUZXh0V2lkZ2V0KCk7DQorCQkJCWlmICh0ZXh0ID09IG51bGwp
IHsNCisJCQkJCXJldHVybjsNCisJCQkJfQ0KKw0KKwkJCQlpbnQgb2Zmc2V0ID0gdGV4dC5nZXRD
YXJldE9mZnNldCgpOw0KKwkJCQlpZiAob2Zmc2V0IDwgMCkgew0KKwkJCQkJcmV0dXJuOw0KKwkJ
CQl9DQorDQorCQkJCUlEb2N1bWVudFJhbmdlIHJhbmdlID0gKChDdHhIZWxwU291cmNlUGFnZSkg
cGFnZSkuZ2V0UmFuZ2VFbGVtZW50KG9mZnNldCwgdHJ1ZSk7DQorCQkJCWlmIChyYW5nZSBpbnN0
YW5jZW9mIElEb2N1bWVudEF0dHJpYnV0ZU5vZGUpIHsNCisJCQkJCXJhbmdlID0gKChJRG9jdW1l
bnRBdHRyaWJ1dGVOb2RlKSByYW5nZSkuZ2V0RW5jbG9zaW5nRWxlbWVudCgpOw0KKwkJCQl9IGVs
c2UgaWYgKHJhbmdlIGluc3RhbmNlb2YgSURvY3VtZW50VGV4dE5vZGUpIHsNCisJCQkJCXJhbmdl
ID0gKChJRG9jdW1lbnRUZXh0Tm9kZSkgcmFuZ2UpLmdldEVuY2xvc2luZ0VsZW1lbnQoKTsNCisJ
CQkJfQ0KKw0KKwkJCQlpZiAocmFuZ2UgaW5zdGFuY2VvZiBDdHhIZWxwT2JqZWN0KSB7DQorCQkJ
CQlmQmxvY2suZ2V0TWFzdGVyU2VjdGlvbigpLnNldFNlbGVjdGlvbihuZXcgU3RydWN0dXJlZFNl
bGVjdGlvbihyYW5nZSkpOw0KKwkJCQl9DQorCQkJfQ0KKwkJfQ0KKwl9DQorDQorCS8qIChub24t
SmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBE
RUZvcm1QYWdlI2dldEhlbHBSZXNvdXJjZSgpDQorCSAqLw0KKwlwcm90ZWN0ZWQgU3RyaW5nIGdl
dEhlbHBSZXNvdXJjZSgpIHsNCisJCS8vIFRPRE8gRml4IGhlbHANCisJCXJldHVybiBJUERFVUlD
b25zdGFudHMuUExVR0lOX0RPQ19ST09UICsgImd1aWRlL3Rvb2xzL2VkaXRvcnMvdG9jX2VkaXRv
ci9wYWdlX3RvYy5odG0iOyAvLyROT04tTkxTLTEkDQorCX0NCit9DQpJbmRleDogc3JjL29yZy9l
Y2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL2RldGFpbHMvSGVscEVkaXRvckZpbHRl
ci5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5h
bC91aS9lZGl0b3IvdG9jL2RldGFpbHMvSGVscEVkaXRvckZpbHRlci5qYXZhDQpkaWZmIC1OIHNy
Yy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL3RvYy9kZXRhaWxzL0hlbHBFZGl0
b3JGaWx0ZXIuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQor
Kysgc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvdG9jL2RldGFpbHMvSGVs
cEVkaXRvckZpbHRlci5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEs
NDcgQEANCisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMjAwNywg
MjAwOCBJQk0gQ29ycG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRzIHJlc2VydmVk
LiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQorICogYXJlIG1h
ZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5z
ZSB2MS4wDQorICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBh
dmFpbGFibGUgYXQNCisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRt
bA0KKyAqDQorICogQ29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0
aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCisgKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCisN
CitwYWNrYWdlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IudG9jLmRldGFpbHM7
DQorDQoraW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLio7DQoraW1wb3J0IG9yZy5l
Y2xpcHNlLmNvcmUucnVudGltZS5Db3JlRXhjZXB0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5j
b3JlLnJ1bnRpbWUuSVBhdGg7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnZpZXdlcnMuVmll
d2VyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLlZpZXdlckZpbHRlcjsNCitp
bXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci50b2MuSGVscEVkaXRvclV0
aWw7DQorDQorcHVibGljIGNsYXNzIEhlbHBFZGl0b3JGaWx0ZXIgZXh0ZW5kcyBWaWV3ZXJGaWx0
ZXIgew0KKwlwdWJsaWMgYm9vbGVhbiBzZWxlY3QoVmlld2VyIHZpZXdlciwgT2JqZWN0IHBhcmVu
dCwgT2JqZWN0IGVsZW1lbnQpIHsNCisJCWlmIChlbGVtZW50IGluc3RhbmNlb2YgSUZpbGUpIHsN
CisJCQlJUGF0aCBwYXRoID0gKChJRmlsZSkgZWxlbWVudCkuZ2V0RnVsbFBhdGgoKTsNCisNCisJ
CQlyZXR1cm4gSGVscEVkaXRvclV0aWwuaGFzVmFsaWRQYWdlRXh0ZW5zaW9uKHBhdGgpOw0KKwkJ
fQ0KKw0KKwkJaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBJUHJvamVjdCAmJiAhKChJUHJvamVjdCkg
ZWxlbWVudCkuaXNPcGVuKCkpIHsNCisJCQlyZXR1cm4gZmFsc2U7DQorCQl9DQorDQorCQlpZiAo
ZWxlbWVudCBpbnN0YW5jZW9mIElDb250YWluZXIpIHsNCisJCQl0cnkgew0KKwkJCQlJUmVzb3Vy
Y2VbXSByZXNvdXJjZXMgPSAoKElDb250YWluZXIpIGVsZW1lbnQpLm1lbWJlcnMoKTsNCisJCQkJ
Zm9yIChpbnQgaSA9IDA7IGkgPCByZXNvdXJjZXMubGVuZ3RoOyBpKyspIHsNCisJCQkJCWlmIChz
ZWxlY3Qodmlld2VyLCBwYXJlbnQsIHJlc291cmNlc1tpXSkpIHsNCisJCQkJCQlyZXR1cm4gdHJ1
ZTsNCisJCQkJCX0NCisJCQkJfQ0KKwkJCX0gY2F0Y2ggKENvcmVFeGNlcHRpb24gZSkgew0KKwkJ
CX0NCisJCX0NCisNCisJCXJldHVybiBmYWxzZTsNCisJfQ0KK30NCkluZGV4OiBzcmMvb3JnL2Vj
bGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBFZGl0b3IuamF2YQ0K
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQ0KUkNTIGZpbGU6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRp
dG9yL2N0eGhlbHAvQ3R4SGVscEVkaXRvci5qYXZhDQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBzZS9w
ZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscEVkaXRvci5qYXZhDQotLS0gL2Rl
di9udWxsCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCisrKyBzcmMvb3JnL2VjbGlwc2UvcGRl
L2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBFZGl0b3IuamF2YQkxIEphbiAxOTcw
IDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsxLDI3MCBAQA0KKy8qKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqDQorICogQ29weXJpZ2h0IChjKSAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0K
KyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWlu
ZyBtYXRlcmlhbHMNCisgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRo
ZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlz
IGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93d3cuZWNsaXBz
ZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQorICoNCisgKiBDb250cmlidXRvcnM6DQorICogICAg
IElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqLw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVp
LmVkaXRvci5jdHhoZWxwOw0KKw0KK2ltcG9ydCBqYXZhLmlvLkZpbGU7DQoraW1wb3J0IGphdmEu
dXRpbC5BcnJheUxpc3Q7DQoraW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsNCitpbXBvcnQgb3Jn
LmVjbGlwc2UuY29yZS5yZXNvdXJjZXMuKjsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50
aW1lLklQYXRoOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5qZHQudWkuSmF2YVVJOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC5jb3JlLnRleHQuY3R4aGVscC4qOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwudWkuSVBERVVJQ29uc3RhbnRzOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwu
dWkuUERFUGx1Z2luOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9y
Lio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY29udGV4dC5J
bnB1dENvbnRleHQ7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3Iu
Y29udGV4dC5JbnB1dENvbnRleHRNYW5hZ2VyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS51aS4qOw0K
K2ltcG9ydCBvcmcuZWNsaXBzZS51aS5mb3Jtcy5lZGl0b3IuSUZvcm1QYWdlOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS51aS5wYXJ0Lio7DQorDQorLyoqDQorICogTWFpbiBVSSBjbGFzcyBmb3IgdGhl
IGNvbnRleHQgaGVscCBlZGl0b3IuICBUaGlzIGVkaXRvciBwcm92aWRlcyBhIGNvbnZlbmllbnQg
d2F5IHRvDQorICogZXhwbG9yZSBhbmQgZWRpdCB0aGUgeG1sIGZpbGVzIGNvbnRhaW5pbmcgY29u
dGV4dCBoZWxwIGVudHJpZXMuICBUaGUgZWRpdG9yIHdpbGwNCisgKiBoYXZlIHR3byBwYWdlcywg
b25lIGRpc3BsYXlpbmcgdGhlIHhtbCBzb3VyY2UsIHRoZSBvdGhlciBkaXNwbGF5aW5nIGEgZm9y
bSBlZGl0b3IuDQorICogQHNpbmNlIDMuNA0KKyAqIEBzZWUgQ3R4SGVscFNvdXJjZVBhZ2UNCisg
KiBAc2VlIEN0eEhlbHBQYWdlDQorICovDQorcHVibGljIGNsYXNzIEN0eEhlbHBFZGl0b3IgZXh0
ZW5kcyBNdWx0aVNvdXJjZUVkaXRvciB7DQorDQorCXB1YmxpYyBDdHhIZWxwRWRpdG9yKCkgew0K
KwkJc3VwZXIoKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVj
bGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5QREVGb3JtRWRpdG9yI2dldEVkaXRvcklEKCkN
CisJICovDQorCXByb3RlY3RlZCBTdHJpbmcgZ2V0RWRpdG9ySUQoKSB7DQorCQlyZXR1cm4gSVBE
RVVJQ29uc3RhbnRzLkNPTlRFWFRfSEVMUF9FRElUT1JfSUQ7DQorCX0NCisNCisJLyogKG5vbi1K
YXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERF
Rm9ybUVkaXRvciNnZXRBZGFwdGVyKGphdmEubGFuZy5DbGFzcykNCisJICovDQorCXB1YmxpYyBP
YmplY3QgZ2V0QWRhcHRlcihDbGFzcyBhZGFwdGVyKSB7DQorCQlpZiAoaXNTaG93SW5BcHBsaWNh
YmxlKCkpIHsNCisJCQlpZiAoYWRhcHRlciA9PSBJU2hvd0luU291cmNlLmNsYXNzKSB7DQorCQkJ
CXJldHVybiBnZXRTaG93SW5Tb3VyY2UoKTsNCisJCQl9IGVsc2UgaWYgKGFkYXB0ZXIgPT0gSVNo
b3dJblRhcmdldExpc3QuY2xhc3MpIHsNCisJCQkJcmV0dXJuIGdldFNob3dJblRhcmdldExpc3Qo
KTsNCisJCQl9DQorCQl9DQorCQlyZXR1cm4gc3VwZXIuZ2V0QWRhcHRlcihhZGFwdGVyKTsNCisJ
fQ0KKw0KKwkvKioNCisJICogQHJldHVybiB3aGV0aGVyIHRoZXJlIGlzIGEgc2VsZWN0aW9uIHRo
YXQgcmVxdWlyZXMgdGhlICJTaG93IEluIiBtZW51IHRvIGJlIGF2YWlsYWJsZQ0KKwkgKi8NCisJ
cHJpdmF0ZSBib29sZWFuIGlzU2hvd0luQXBwbGljYWJsZSgpIHsNCisJCWlmIChnZXRTZWxlY3Rp
b24oKS5pc0VtcHR5KCkpIHsNCisJCQlyZXR1cm4gZmFsc2U7DQorCQl9DQorCQlpZiAoZ2V0U2Vs
ZWN0aW9uKCkgaW5zdGFuY2VvZiBJU3RydWN0dXJlZFNlbGVjdGlvbikgew0KKwkJCUlTdHJ1Y3R1
cmVkU2VsZWN0aW9uIHNlbGVjdGlvbiA9IChJU3RydWN0dXJlZFNlbGVjdGlvbikgZ2V0U2VsZWN0
aW9uKCk7DQorCQkJZm9yIChJdGVyYXRvciBpdGVyID0gc2VsZWN0aW9uLml0ZXJhdG9yKCk7IGl0
ZXIuaGFzTmV4dCgpOykgew0KKwkJCQlPYmplY3Qgb2JqID0gaXRlci5uZXh0KCk7DQorCQkJCWlm
IChvYmogaW5zdGFuY2VvZiBDdHhIZWxwVG9waWMgJiYgKChDdHhIZWxwVG9waWMpIG9iaikuZ2V0
TG9jYXRpb24oKSAhPSBudWxsKSB7DQorCQkJCQlyZXR1cm4gdHJ1ZTsNCisJCQkJfQ0KKwkJCX0N
CisJCX0NCisJCXJldHVybiBmYWxzZTsNCisJfQ0KKw0KKwkvKioNCisJICogUmV0dXJucyB0aGUg
PGNvZGU+SVNob3dJblNvdXJjZTwvY29kZT4gZm9yIHRoaXMgZWRpdG9yLg0KKwkgKiBAcmV0dXJu
IHRoZSA8Y29kZT5JU2hvd0luU291cmNlPC9jb2RlPiANCisJICovDQorCXByaXZhdGUgSVNob3dJ
blNvdXJjZSBnZXRTaG93SW5Tb3VyY2UoKSB7DQorCQlyZXR1cm4gbmV3IElTaG93SW5Tb3VyY2Uo
KSB7DQorCQkJcHVibGljIFNob3dJbkNvbnRleHQgZ2V0U2hvd0luQ29udGV4dCgpIHsNCisJCQkJ
QXJyYXlMaXN0IHJlc291cmNlTGlzdCA9IG5ldyBBcnJheUxpc3QoKTsNCisJCQkJSVN0cnVjdHVy
ZWRTZWxlY3Rpb24gc2VsZWN0aW9uID0gKElTdHJ1Y3R1cmVkU2VsZWN0aW9uKSBnZXRTZWxlY3Rp
b24oKTsNCisJCQkJSVN0cnVjdHVyZWRTZWxlY3Rpb24gcmVzb3VyY2VzOw0KKwkJCQlpZiAoc2Vs
ZWN0aW9uLmlzRW1wdHkoKSkgew0KKwkJCQkJcmVzb3VyY2VzID0gbnVsbDsNCisJCQkJfSBlbHNl
IHsNCisJCQkJCUlXb3Jrc3BhY2VSb290IHJvb3QgPSBQREVQbHVnaW4uZ2V0V29ya3NwYWNlKCku
Z2V0Um9vdCgpOw0KKwkJCQkJZm9yIChJdGVyYXRvciBpdGVyID0gc2VsZWN0aW9uLml0ZXJhdG9y
KCk7IGl0ZXIuaGFzTmV4dCgpOykgew0KKwkJCQkJCU9iamVjdCBvYmogPSBpdGVyLm5leHQoKTsN
CisJCQkJCQlpZiAob2JqIGluc3RhbmNlb2YgQ3R4SGVscFRvcGljKSB7DQorCQkJCQkJCUlQYXRo
IHBhdGggPSAoKEN0eEhlbHBUb3BpYykgb2JqKS5nZXRMb2NhdGlvbigpOw0KKwkJCQkJCQlpZiAo
cGF0aCAhPSBudWxsICYmICFwYXRoLmlzRW1wdHkoKSkgew0KKwkJCQkJCQkJQ3R4SGVscE1vZGVs
IG1vZGVsID0gKEN0eEhlbHBNb2RlbCkgZ2V0QWdncmVnYXRlTW9kZWwoKTsNCisJCQkJCQkJCUlQ
YXRoIHBsdWdpblBhdGggPSBtb2RlbC5nZXRVbmRlcmx5aW5nUmVzb3VyY2UoKS5nZXRQcm9qZWN0
KCkuZ2V0RnVsbFBhdGgoKTsNCisJCQkJCQkJCUlSZXNvdXJjZSByZXNvdXJjZSA9IHJvb3QuZmlu
ZE1lbWJlcihwbHVnaW5QYXRoLmFwcGVuZChwYXRoKSk7DQorCQkJCQkJCQlpZiAocmVzb3VyY2Ug
IT0gbnVsbCkgew0KKwkJCQkJCQkJCXJlc291cmNlTGlzdC5hZGQocmVzb3VyY2UpOw0KKwkJCQkJ
CQkJfQ0KKwkJCQkJCQl9DQorCQkJCQkJfQ0KKwkJCQkJfQ0KKwkJCQkJcmVzb3VyY2VzID0gbmV3
IFN0cnVjdHVyZWRTZWxlY3Rpb24ocmVzb3VyY2VMaXN0KTsNCisJCQkJfQ0KKwkJCQlyZXR1cm4g
bmV3IFNob3dJbkNvbnRleHQobnVsbCwgcmVzb3VyY2VzKTsNCisJCQl9DQorCQl9Ow0KKwl9DQor
DQorCS8qKg0KKwkgKiBSZXR1cm5zIHRoZSA8Y29kZT5JU2hvd0luVGFyZ2V0TGlzdDwvY29kZT4g
Zm9yIHRoaXMgZWRpdG9yLg0KKwkgKiBAcmV0dXJuIHRoZSA8Y29kZT5JU2hvd0luVGFyZ2V0TGlz
dDwvY29kZT4gDQorCSAqLw0KKwlwcml2YXRlIElTaG93SW5UYXJnZXRMaXN0IGdldFNob3dJblRh
cmdldExpc3QoKSB7DQorCQlyZXR1cm4gbmV3IElTaG93SW5UYXJnZXRMaXN0KCkgew0KKwkJCXB1
YmxpYyBTdHJpbmdbXSBnZXRTaG93SW5UYXJnZXRJZHMoKSB7DQorCQkJCXJldHVybiBuZXcgU3Ry
aW5nW10ge0phdmFVSS5JRF9QQUNLQUdFUywgSVBhZ2VMYXlvdXQuSURfUkVTX05BVn07DQorCQkJ
fQ0KKwkJfTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlw
c2UucGRlLmludGVybmFsLnVpLmVkaXRvci5QREVGb3JtRWRpdG9yI2lzU2F2ZUFzQWxsb3dlZCgp
DQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBpc1NhdmVBc0FsbG93ZWQoKSB7DQorCQlyZXR1cm4g
dHJ1ZTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLnVpLmVkaXRvci5QREVGb3JtRWRpdG9yI2dldENvbnRleHRJREZvclNhdmVB
cygpDQorCSAqLw0KKwlwdWJsaWMgU3RyaW5nIGdldENvbnRleHRJREZvclNhdmVBcygpIHsNCisJ
CXJldHVybiBDdHhIZWxwSW5wdXRDb250ZXh0LkNPTlRFWFRfSUQ7DQorCX0NCisNCisJLyogKG5v
bi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3Iu
UERFRm9ybUVkaXRvciNhZGRFZGl0b3JQYWdlcygpDQorCSAqLw0KKwlwcm90ZWN0ZWQgdm9pZCBh
ZGRFZGl0b3JQYWdlcygpIHsNCisJCXRyeSB7DQorCQkJYWRkUGFnZShuZXcgQ3R4SGVscFBhZ2Uo
dGhpcykpOw0KKwkJfSBjYXRjaCAoUGFydEluaXRFeGNlcHRpb24gZSkgew0KKwkJCVBERVBsdWdp
bi5sb2dFeGNlcHRpb24oZSk7DQorCQl9DQorCQlhZGRTb3VyY2VQYWdlKEN0eEhlbHBJbnB1dENv
bnRleHQuQ09OVEVYVF9JRCk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2Vl
IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFRm9ybUVkaXRvciNjcmVhdGVD
b250ZW50T3V0bGluZSgpDQorCSAqLw0KKwlwcm90ZWN0ZWQgSVNvcnRhYmxlQ29udGVudE91dGxp
bmVQYWdlIGNyZWF0ZUNvbnRlbnRPdXRsaW5lKCkgew0KKwkJcmV0dXJuIG5ldyBDdHhIZWxwRm9y
bU91dGxpbmVQYWdlKHRoaXMpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNl
ZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBERUZvcm1FZGl0b3IjY3JlYXRl
SW5wdXRDb250ZXh0TWFuYWdlcigpDQorCSAqLw0KKwlwcm90ZWN0ZWQgSW5wdXRDb250ZXh0TWFu
YWdlciBjcmVhdGVJbnB1dENvbnRleHRNYW5hZ2VyKCkgew0KKwkJcmV0dXJuIG5ldyBDdHhIZWxw
SW5wdXRDb250ZXh0TWFuYWdlcih0aGlzKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQor
CSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5QREVGb3JtRWRpdG9y
I2NyZWF0ZVJlc291cmNlQ29udGV4dHMob3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRv
ci5jb250ZXh0LklucHV0Q29udGV4dE1hbmFnZXIsIG9yZy5lY2xpcHNlLnVpLklGaWxlRWRpdG9y
SW5wdXQpDQorCSAqLw0KKwlwcm90ZWN0ZWQgdm9pZCBjcmVhdGVSZXNvdXJjZUNvbnRleHRzKElu
cHV0Q29udGV4dE1hbmFnZXIgY29udGV4dHMsIElGaWxlRWRpdG9ySW5wdXQgaW5wdXQpIHsNCisJ
CWNvbnRleHRzLnB1dENvbnRleHQoaW5wdXQsIG5ldyBDdHhIZWxwSW5wdXRDb250ZXh0KHRoaXMs
IGlucHV0LCB0cnVlKSk7DQorCQljb250ZXh0cy5tb25pdG9yRmlsZShpbnB1dC5nZXRGaWxlKCkp
Ow0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwudWkuZWRpdG9yLlBERUZvcm1FZGl0b3IjY3JlYXRlU3RvcmFnZUNvbnRleHRzKG9y
Zy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY29udGV4dC5JbnB1dENvbnRleHRNYW5h
Z2VyLCBvcmcuZWNsaXBzZS51aS5JU3RvcmFnZUVkaXRvcklucHV0KQ0KKwkgKi8NCisJcHJvdGVj
dGVkIHZvaWQgY3JlYXRlU3RvcmFnZUNvbnRleHRzKElucHV0Q29udGV4dE1hbmFnZXIgY29udGV4
dHMsIElTdG9yYWdlRWRpdG9ySW5wdXQgaW5wdXQpIHsNCisJCWNvbnRleHRzLnB1dENvbnRleHQo
aW5wdXQsIG5ldyBDdHhIZWxwSW5wdXRDb250ZXh0KHRoaXMsIGlucHV0LCB0cnVlKSk7DQorCX0N
CisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5h
bC51aS5lZGl0b3IuUERFRm9ybUVkaXRvciNjcmVhdGVTeXN0ZW1GaWxlQ29udGV4dHMob3JnLmVj
bGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jb250ZXh0LklucHV0Q29udGV4dE1hbmFnZXIs
IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuU3lzdGVtRmlsZUVkaXRvcklucHV0
KQ0KKwkgKi8NCisJcHJvdGVjdGVkIHZvaWQgY3JlYXRlU3lzdGVtRmlsZUNvbnRleHRzKElucHV0
Q29udGV4dE1hbmFnZXIgY29udGV4dHMsIFN5c3RlbUZpbGVFZGl0b3JJbnB1dCBpbnB1dCkgew0K
KwkJRmlsZSBmaWxlID0gKEZpbGUpIGlucHV0LmdldEFkYXB0ZXIoRmlsZS5jbGFzcyk7DQorCQlp
ZiAoZmlsZSAhPSBudWxsKSB7DQorCQkJSUVkaXRvcklucHV0IGluID0gbmV3IFN5c3RlbUZpbGVF
ZGl0b3JJbnB1dChmaWxlKTsNCisJCQljb250ZXh0cy5wdXRDb250ZXh0KGluLCBuZXcgQ3R4SGVs
cElucHV0Q29udGV4dCh0aGlzLCBpbiwgdHJ1ZSkpOw0KKwkJfQ0KKwl9DQorDQorCS8qIChub24t
SmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBE
RUZvcm1FZGl0b3IjZWRpdG9yQ29udGV4dEFkZGVkKG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51
aS5lZGl0b3IuY29udGV4dC5JbnB1dENvbnRleHQpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBlZGl0
b3JDb250ZXh0QWRkZWQoSW5wdXRDb250ZXh0IGNvbnRleHQpIHsNCisJCS8vIEFkZCB0aGUgc291
cmNlIHBhZ2UNCisJCWFkZFNvdXJjZVBhZ2UoY29udGV4dC5nZXRJZCgpKTsNCisJfQ0KKw0KKwkv
KiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVk
aXRvci5QREVGb3JtRWRpdG9yI2dldElucHV0Q29udGV4dChqYXZhLmxhbmcuT2JqZWN0KQ0KKwkg
Ki8NCisJcHJvdGVjdGVkIElucHV0Q29udGV4dCBnZXRJbnB1dENvbnRleHQoT2JqZWN0IG9iamVj
dCkgew0KKwkJcmV0dXJuIGZJbnB1dENvbnRleHRNYW5hZ2VyLmZpbmRDb250ZXh0KEN0eEhlbHBJ
bnB1dENvbnRleHQuQ09OVEVYVF9JRCk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkg
KiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY29udGV4dC5JSW5wdXRD
b250ZXh0TGlzdGVuZXIjY29udGV4dFJlbW92ZWQob3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVp
LmVkaXRvci5jb250ZXh0LklucHV0Q29udGV4dCkNCisJICovDQorCXB1YmxpYyB2b2lkIGNvbnRl
eHRSZW1vdmVkKElucHV0Q29udGV4dCBjb250ZXh0KSB7DQorCQljbG9zZShmYWxzZSk7DQorCX0N
CisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5h
bC51aS5lZGl0b3IuY29udGV4dC5JSW5wdXRDb250ZXh0TGlzdGVuZXIjbW9uaXRvcmVkRmlsZUFk
ZGVkKG9yZy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLklGaWxlKQ0KKwkgKi8NCisJcHVibGljIHZv
aWQgbW9uaXRvcmVkRmlsZUFkZGVkKElGaWxlIG1vbml0b3JlZEZpbGUpIHsNCisJCS8vIE5PLU9Q
DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5p
bnRlcm5hbC51aS5lZGl0b3IuY29udGV4dC5JSW5wdXRDb250ZXh0TGlzdGVuZXIjbW9uaXRvcmVk
RmlsZVJlbW92ZWQob3JnLmVjbGlwc2UuY29yZS5yZXNvdXJjZXMuSUZpbGUpDQorCSAqLw0KKwlw
dWJsaWMgYm9vbGVhbiBtb25pdG9yZWRGaWxlUmVtb3ZlZChJRmlsZSBtb25pdG9yZWRGaWxlKSB7
DQorCQlyZXR1cm4gdHJ1ZTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUg
b3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5QREVGb3JtRWRpdG9yI2dldFNlbGVj
dGlvbigpDQorCSAqLw0KKwlwdWJsaWMgSVNlbGVjdGlvbiBnZXRTZWxlY3Rpb24oKSB7DQorCQlJ
Rm9ybVBhZ2UgZm9ybVBhZ2UgPSBnZXRBY3RpdmVQYWdlSW5zdGFuY2UoKTsNCisJCWlmICgoZm9y
bVBhZ2UgIT0gbnVsbCkgJiYgKGZvcm1QYWdlIGluc3RhbmNlb2YgQ3R4SGVscFBhZ2UpKSB7DQor
CQkJLy8gU3luY2hyb25pemVzIHRoZSBzZWxlY3Rpb24gbWFkZSBpbiB0aGUgbWFzdGVyIHRyZWUg
dmlldyB3aXRoIHRoZQ0KKwkJCS8vIHNlbGVjdGlvbiBpbiB0aGUgb3V0bGluZSB2aWV3IHdoZW4g
dGhlIGxpbmsgd2l0aCBlZGl0b3IgYnV0dG9uDQorCQkJLy8gaXMgdG9nZ2xlZCBvbg0KKwkJCXJl
dHVybiAoKEN0eEhlbHBQYWdlKSBmb3JtUGFnZSkuZ2V0U2VsZWN0aW9uKCk7DQorCQl9DQorCQly
ZXR1cm4gc3VwZXIuZ2V0U2VsZWN0aW9uKCk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0K
KwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFRm9ybUVkaXRv
ciNjYW5DdXQob3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy5JU2VsZWN0aW9uKQ0KKwkgKi8NCisJ
cHVibGljIGJvb2xlYW4gY2FuQ3V0KElTZWxlY3Rpb24gc2VsZWN0aW9uKSB7DQorCQlpZiAoc2Vs
ZWN0aW9uIGluc3RhbmNlb2YgSVN0cnVjdHVyZWRTZWxlY3Rpb24pIHsNCisJCQlJU3RydWN0dXJl
ZFNlbGVjdGlvbiBzZWwgPSAoSVN0cnVjdHVyZWRTZWxlY3Rpb24pIHNlbGVjdGlvbjsNCisJCQlm
b3IgKEl0ZXJhdG9yIGl0ZXIgPSBzZWwuaXRlcmF0b3IoKTsgaXRlci5oYXNOZXh0KCk7KSB7DQor
CQkJCU9iamVjdCBvYmogPSBpdGVyLm5leHQoKTsNCisJCQkJaWYgKG9iaiBpbnN0YW5jZW9mIEN0
eEhlbHBPYmplY3QgJiYgKChDdHhIZWxwT2JqZWN0KSBvYmopLmNhbkJlUmVtb3ZlZCgpKSB7DQor
CQkJCQlyZXR1cm4gY2FuQ29weShzZWxlY3Rpb24pOw0KKwkJCQl9DQorCQkJfQ0KKwkJfQ0KKwkJ
cmV0dXJuIGZhbHNlOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLk11bHRpU291cmNlRWRpdG9yI2NyZWF0ZVNv
dXJjZVBhZ2Uob3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5QREVGb3JtRWRpdG9y
LCBqYXZhLmxhbmcuU3RyaW5nLCBqYXZhLmxhbmcuU3RyaW5nLCBqYXZhLmxhbmcuU3RyaW5nKQ0K
KwkgKi8NCisJcHJvdGVjdGVkIFBERVNvdXJjZVBhZ2UgY3JlYXRlU291cmNlUGFnZShQREVGb3Jt
RWRpdG9yIGVkaXRvciwgU3RyaW5nIHRpdGxlLCBTdHJpbmcgbmFtZSwgU3RyaW5nIGNvbnRleHRJ
ZCkgew0KKwkJcmV0dXJuIG5ldyBDdHhIZWxwU291cmNlUGFnZShlZGl0b3IsIHRpdGxlLCBuYW1l
KTsNCisJfQ0KKw0KK30NCkluZGV4OiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2Vk
aXRvci9jdHhoZWxwL0N0eEhlbHBJbnB1dENvbnRleHRNYW5hZ2VyLmphdmENCj09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0N
ClJDUyBmaWxlOiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxw
L0N0eEhlbHBJbnB1dENvbnRleHRNYW5hZ2VyLmphdmENCmRpZmYgLU4gc3JjL29yZy9lY2xpcHNl
L3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwSW5wdXRDb250ZXh0TWFuYWdl
ci5qYXZhDQotLS0gL2Rldi9udWxsCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCisrKyBzcmMv
b3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBJbnB1dENv
bnRleHRNYW5hZ2VyLmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAgLTAsMCArMSw0
MCBAQA0KKy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQorICogQ29weXJpZ2h0IChjKSAyMDA4IElC
TSBDb3Jwb3JhdGlvbiBhbmQgb3RoZXJzLg0KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMg
cHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCisgKiBhcmUgbWFkZSBhdmFp
bGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjAN
CisgKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJs
ZSBhdA0KKyAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQorICoN
CisgKiBDb250cmlidXRvcnM6DQorICogICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJ
IGFuZCBpbXBsZW1lbnRhdGlvbg0KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KK3BhY2thZ2Ug
b3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwOw0KKw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5wZGUuY29yZS5JQmFzZU1vZGVsOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwudWkuZWRpdG9yLlBERUZvcm1FZGl0b3I7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC51aS5lZGl0b3IuY29udGV4dC5JbnB1dENvbnRleHQ7DQoraW1wb3J0IG9yZy5l
Y2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY29udGV4dC5JbnB1dENvbnRleHRNYW5hZ2Vy
Ow0KKw0KKy8qKg0KKyAqIElucHV0IGNvbnRleHQgbWFuYWdlciBmb3IgdGhlIGNvbnRleHQgaGVs
cCBlZGl0b3IuDQorICogQHNpbmNlIDMuNA0KKyAqIEBzZWUgQ3R4SGVscEVkaXRvcg0KKyAqLw0K
K3B1YmxpYyBjbGFzcyBDdHhIZWxwSW5wdXRDb250ZXh0TWFuYWdlciBleHRlbmRzIElucHV0Q29u
dGV4dE1hbmFnZXIgew0KKw0KKwlwdWJsaWMgQ3R4SGVscElucHV0Q29udGV4dE1hbmFnZXIoUERF
Rm9ybUVkaXRvciBlZGl0b3IpIHsNCisJCXN1cGVyKGVkaXRvcik7DQorCX0NCisNCisJLyogKG5v
bi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3Iu
Y29udGV4dC5JbnB1dENvbnRleHRNYW5hZ2VyI2dldEFnZ3JlZ2F0ZU1vZGVsKCkNCisJICovDQor
CXB1YmxpYyBJQmFzZU1vZGVsIGdldEFnZ3JlZ2F0ZU1vZGVsKCkgew0KKwkJSW5wdXRDb250ZXh0
IGNvbnRleHQgPSBmaW5kQ29udGV4dChDdHhIZWxwSW5wdXRDb250ZXh0LkNPTlRFWFRfSUQpOw0K
KwkJaWYgKGNvbnRleHQgPT0gbnVsbCkgew0KKwkJCXJldHVybiBudWxsOw0KKwkJfQ0KKwkJcmV0
dXJuIGNvbnRleHQuZ2V0TW9kZWwoKTsNCisJfQ0KKw0KK30NCkluZGV4OiBzcmMvb3JnL2VjbGlw
c2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBDb250ZW50UHJvdmlkZXIu
amF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwv
dWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscENvbnRlbnRQcm92aWRlci5qYXZhDQpkaWZmIC1OIHNy
Yy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscENvbnRl
bnRQcm92aWRlci5qYXZhDQotLS0gL2Rldi9udWxsCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDAN
CisrKyBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhl
bHBDb250ZW50UHJvdmlkZXIuamF2YQkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCww
ICsxLDY1IEBADQorLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIw
MDggSUJNIENvcnBvcmF0aW9uIGFuZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4g
VGhpcyBwcm9ncmFtIGFuZCB0aGUgYWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRl
IGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2Ug
djEuMA0KKyAqIHdoaWNoIGFjY29tcGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZh
aWxhYmxlIGF0DQorICogaHR0cDovL3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwN
CisgKg0KKyAqIENvbnRyaWJ1dG9yczoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlh
bCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQorICoqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQorcGFj
a2FnZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHA7DQorDQoraW1w
b3J0IGphdmEudXRpbC5MaXN0Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklU
cmVlQ29udGVudFByb3ZpZGVyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29y
ZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE1vZGVsOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50
ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE9iamVjdDsNCitpbXBvcnQgb3JnLmVjbGlw
c2UucGRlLmludGVybmFsLnVpLmVsZW1lbnRzLkRlZmF1bHRDb250ZW50UHJvdmlkZXI7DQorDQor
LyoqDQorICogQ29udGVudCBwcm92aWRlciBmb3IgdGhlIHRyZWUgc2VjdGlvbiBvZiB0aGUgY29u
dGV4dCBoZWxwIGVkaXRvci4gIEdldHMgdGhlIGNoaWxkcmVuIG9mIA0KKyAqIGVhY2ggZWxlbWVu
dC4NCisgKiBAc2luY2UgMy40DQorICogQHNlZSBDdHhIZWxwVHJlZVNlY3Rpb24NCisgKi8NCitw
dWJsaWMgY2xhc3MgQ3R4SGVscENvbnRlbnRQcm92aWRlciBleHRlbmRzIERlZmF1bHRDb250ZW50
UHJvdmlkZXIgaW1wbGVtZW50cyBJVHJlZUNvbnRlbnRQcm92aWRlciB7DQorDQorCS8qIChub24t
SmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklUcmVlQ29udGVu
dFByb3ZpZGVyI2dldENoaWxkcmVuKGphdmEubGFuZy5PYmplY3QpDQorCSAqLw0KKwlwdWJsaWMg
T2JqZWN0W10gZ2V0Q2hpbGRyZW4oT2JqZWN0IHBhcmVudEVsZW1lbnQpIHsNCisJCWlmIChwYXJl
bnRFbGVtZW50IGluc3RhbmNlb2YgQ3R4SGVscE1vZGVsKSB7DQorCQkJQ3R4SGVscE9iamVjdCBy
b290ID0gKChDdHhIZWxwTW9kZWwpIHBhcmVudEVsZW1lbnQpLmdldEN0eEhlbHBSb290KCk7DQor
CQkJcmV0dXJuIG5ldyBPYmplY3RbXSB7cm9vdH07DQorCQl9IGVsc2UgaWYgKHBhcmVudEVsZW1l
bnQgaW5zdGFuY2VvZiBDdHhIZWxwT2JqZWN0KSB7DQorCQkJTGlzdCBsaXN0ID0gKChDdHhIZWxw
T2JqZWN0KSBwYXJlbnRFbGVtZW50KS5nZXRDaGlsZHJlbigpOw0KKwkJCXJldHVybiBsaXN0LnRv
QXJyYXkoKTsNCisJCX0NCisJCXJldHVybiBuZXcgT2JqZWN0WzBdOw0KKwl9DQorDQorCS8qIChu
b24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklUcmVlQ29u
dGVudFByb3ZpZGVyI2dldFBhcmVudChqYXZhLmxhbmcuT2JqZWN0KQ0KKwkgKi8NCisJcHVibGlj
IE9iamVjdCBnZXRQYXJlbnQoT2JqZWN0IGVsZW1lbnQpIHsNCisJCWlmIChlbGVtZW50IGluc3Rh
bmNlb2YgQ3R4SGVscE9iamVjdCkgew0KKwkJCXJldHVybiAoKEN0eEhlbHBPYmplY3QpIGVsZW1l
bnQpLmdldFBhcmVudCgpOw0KKwkJfQ0KKwkJcmV0dXJuIG51bGw7DQorCX0NCisNCisJLyogKG5v
bi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLmpmYWNlLnZpZXdlcnMuSVRyZWVDb250
ZW50UHJvdmlkZXIjaGFzQ2hpbGRyZW4oamF2YS5sYW5nLk9iamVjdCkNCisJICovDQorCXB1Ymxp
YyBib29sZWFuIGhhc0NoaWxkcmVuKE9iamVjdCBlbGVtZW50KSB7DQorCQlyZXR1cm4gKGdldENo
aWxkcmVuKGVsZW1lbnQpLmxlbmd0aCA+IDApOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykN
CisJICogQHNlZSBvcmcuZWNsaXBzZS5qZmFjZS52aWV3ZXJzLklTdHJ1Y3R1cmVkQ29udGVudFBy
b3ZpZGVyI2dldEVsZW1lbnRzKGphdmEubGFuZy5PYmplY3QpDQorCSAqLw0KKwlwdWJsaWMgT2Jq
ZWN0W10gZ2V0RWxlbWVudHMoT2JqZWN0IGlucHV0RWxlbWVudCkgew0KKwkJcmV0dXJuIGdldENo
aWxkcmVuKGlucHV0RWxlbWVudCk7DQorCX0NCisNCit9DQpJbmRleDogc3JjL29yZy9lY2xpcHNl
L3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwU291cmNlUGFnZS5qYXZhDQo9
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09DQpSQ1MgZmlsZTogc3JjL29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0
b3IvY3R4aGVscC9DdHhIZWxwU291cmNlUGFnZS5qYXZhDQpkaWZmIC1OIHNyYy9vcmcvZWNsaXBz
ZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0eGhlbHAvQ3R4SGVscFNvdXJjZVBhZ2UuamF2YQ0K
LS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgc3JjL29yZy9lY2xp
cHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwU291cmNlUGFnZS5qYXZh
CTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsMTI3IEBADQorLyoqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioNCisgKiBDb3B5cmlnaHQgKGMpIDIwMDggSUJNIENvcnBvcmF0aW9uIGFu
ZCBvdGhlcnMuDQorICogQWxsIHJpZ2h0cyByZXNlcnZlZC4gVGhpcyBwcm9ncmFtIGFuZCB0aGUg
YWNjb21wYW55aW5nIG1hdGVyaWFscw0KKyAqIGFyZSBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUg
dGVybXMgb2YgdGhlIEVjbGlwc2UgUHVibGljIExpY2Vuc2UgdjEuMA0KKyAqIHdoaWNoIGFjY29t
cGFuaWVzIHRoaXMgZGlzdHJpYnV0aW9uLCBhbmQgaXMgYXZhaWxhYmxlIGF0DQorICogaHR0cDov
L3d3dy5lY2xpcHNlLm9yZy9sZWdhbC9lcGwtdjEwLmh0bWwNCisgKg0KKyAqIENvbnRyaWJ1dG9y
czoNCisgKiAgICAgSUJNIENvcnBvcmF0aW9uIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0
aW9uDQorICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQorcGFja2FnZSBvcmcuZWNsaXBzZS5wZGUu
aW50ZXJuYWwudWkuZWRpdG9yLmN0eGhlbHA7DQorDQoraW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNl
LnZpZXdlcnMuKjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLmNvcmUudGV4dC4q
Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4
SGVscE1vZGVsOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0
eGhlbHAuQ3R4SGVscE9iamVjdDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVp
LlBERVBsdWdpbjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLlBERVVJTWVz
c2FnZXM7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFRm9y
bUVkaXRvcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5YTUxT
b3VyY2VQYWdlOw0KKw0KKy8qKg0KKyAqIFNvdXJjZSBwYWdlIGZvciB0aGUgY29udGV4dCBoZWxw
IGVkaXRvci4gIERpc3BsYXlzIHRoZQ0KKyAqIHhtbCBzb3VyY2UuDQorICogQHNpbmNlIDMuNA0K
KyAqIEBzZWUgQ3R4SGVscEVkaXRvcg0KKyAqLw0KK3B1YmxpYyBjbGFzcyBDdHhIZWxwU291cmNl
UGFnZSBleHRlbmRzIFhNTFNvdXJjZVBhZ2Ugew0KKw0KKwlwdWJsaWMgQ3R4SGVscFNvdXJjZVBh
Z2UoUERFRm9ybUVkaXRvciBlZGl0b3IsIFN0cmluZyBpZCwgU3RyaW5nIHRpdGxlKSB7DQorCQlz
dXBlcihlZGl0b3IsIGlkLCB0aXRsZSk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkg
KiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFUHJvamVjdGlvblNv
dXJjZVBhZ2UjaXNRdWlja091dGxpbmVFbmFibGVkKCkNCisJICovDQorCXB1YmxpYyBib29sZWFu
IGlzUXVpY2tPdXRsaW5lRW5hYmxlZCgpIHsNCisJCXJldHVybiB0cnVlOw0KKwl9DQorDQorCS8q
IChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLlBERVNvdXJjZVBhZ2UjY3JlYXRlT3V0bGluZUNvbXBhcmF0b3IoKQ0KKwkgKi8NCisJcHVi
bGljIFZpZXdlckNvbXBhcmF0b3IgY3JlYXRlT3V0bGluZUNvbXBhcmF0b3IoKSB7DQorCQlyZXR1
cm4gbnVsbDsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlw
c2UucGRlLmludGVybmFsLnVpLmVkaXRvci5QREVTb3VyY2VQYWdlI2NyZWF0ZU91dGxpbmVDb250
ZW50UHJvdmlkZXIoKQ0KKwkgKi8NCisJcHVibGljIElUcmVlQ29udGVudFByb3ZpZGVyIGNyZWF0
ZU91dGxpbmVDb250ZW50UHJvdmlkZXIoKSB7DQorCQlyZXR1cm4gbmV3IEN0eEhlbHBDb250ZW50
UHJvdmlkZXIoKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVj
bGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5QREVTb3VyY2VQYWdlI2NyZWF0ZU91dGxpbmVM
YWJlbFByb3ZpZGVyKCkNCisJICovDQorCXB1YmxpYyBJTGFiZWxQcm92aWRlciBjcmVhdGVPdXRs
aW5lTGFiZWxQcm92aWRlcigpIHsNCisJCXJldHVybiBQREVQbHVnaW4uZ2V0RGVmYXVsdCgpLmdl
dExhYmVsUHJvdmlkZXIoKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUg
b3JnLmVjbGlwc2UudWkucGFydC5FZGl0b3JQYXJ0I3NldFBhcnROYW1lKGphdmEubGFuZy5TdHJp
bmcpDQorCSAqLw0KKwlwcm90ZWN0ZWQgdm9pZCBzZXRQYXJ0TmFtZShTdHJpbmcgcGFydE5hbWUp
IHsNCisJCXN1cGVyLnNldFBhcnROYW1lKFBERVVJTWVzc2FnZXMuRWRpdG9yU291cmNlUGFnZV9u
YW1lKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLnVpLmVkaXRvci5QREVTb3VyY2VQYWdlI2lzU2VsZWN0aW9uTGlzdGVuZXIo
KQ0KKwkgKi8NCisJcHJvdGVjdGVkIGJvb2xlYW4gaXNTZWxlY3Rpb25MaXN0ZW5lcigpIHsNCisJ
CXJldHVybiB0cnVlOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlBERVNvdXJjZVBhZ2UjdXBkYXRlU2VsZWN0
aW9uKGphdmEubGFuZy5PYmplY3QpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCB1cGRhdGVTZWxlY3Rp
b24oT2JqZWN0IG9iamVjdCkgew0KKwkJaWYgKChvYmplY3QgaW5zdGFuY2VvZiBJRG9jdW1lbnRF
bGVtZW50Tm9kZSkgJiYgISgoSURvY3VtZW50RWxlbWVudE5vZGUpIG9iamVjdCkuaXNFcnJvck5v
ZGUoKSkgew0KKwkJCXNldFNlbGVjdGVkT2JqZWN0KG9iamVjdCk7DQorCQkJc2V0SGlnaGxpZ2h0
UmFuZ2UoKElEb2N1bWVudEVsZW1lbnROb2RlKSBvYmplY3QsIHRydWUpOw0KKwkJCXNldFNlbGVj
dGVkUmFuZ2UoKElEb2N1bWVudEVsZW1lbnROb2RlKSBvYmplY3QsIGZhbHNlKTsNCisJCX0NCisJ
fQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVy
bmFsLnVpLmVkaXRvci5QREVTb3VyY2VQYWdlI2ZpbmRSYW5nZSgpDQorCSAqLw0KKwlwcm90ZWN0
ZWQgSURvY3VtZW50UmFuZ2UgZmluZFJhbmdlKCkgew0KKwkJaWYgKGdldFNlbGVjdGlvbigpIGlu
c3RhbmNlb2YgSURvY3VtZW50RWxlbWVudE5vZGUpIHsNCisJCQlyZXR1cm4gKElEb2N1bWVudEVs
ZW1lbnROb2RlKSBnZXRTZWxlY3Rpb24oKTsNCisJCX0NCisNCisJCXJldHVybiBudWxsOw0KKwl9
DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwudWkuZWRpdG9yLlBERVNvdXJjZVBhZ2UjZ2V0UmFuZ2VFbGVtZW50KGludCwgYm9vbGVhbikN
CisJICovDQorCXB1YmxpYyBJRG9jdW1lbnRSYW5nZSBnZXRSYW5nZUVsZW1lbnQoaW50IG9mZnNl
dCwgYm9vbGVhbiBzZWFyY2hDaGlsZHJlbikgew0KKwkJQ3R4SGVscE9iamVjdCByb290ID0gKChD
dHhIZWxwTW9kZWwpIGdldElucHV0Q29udGV4dCgpLmdldE1vZGVsKCkpLmdldEN0eEhlbHBSb290
KCk7DQorCQlyZXR1cm4gZmluZE5vZGUocm9vdCwgb2Zmc2V0LCBzZWFyY2hDaGlsZHJlbik7DQor
CX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC51aS5lZGl0b3IuUERFU291cmNlUGFnZSNzeW5jaHJvbml6ZU91dGxpbmVQYWdlKGludCkN
CisJICovDQorCXByb3RlY3RlZCB2b2lkIHN5bmNocm9uaXplT3V0bGluZVBhZ2UoaW50IG9mZnNl
dCkgew0KKwkJSURvY3VtZW50UmFuZ2UgcmFuZ2VFbGVtZW50ID0gZ2V0UmFuZ2VFbGVtZW50KG9m
ZnNldCwgdHJ1ZSk7DQorCQl1cGRhdGVIaWdobGlnaHRSYW5nZShyYW5nZUVsZW1lbnQpOw0KKwkJ
Ly8gVE9ETzogTVA6IFRFTzogTE9XOiBHZW5lcmFsaXplIGZvciBwYXJlbnQgLSBzZWFyY2ggY2hp
bGRyZW4gPSB0cnVlIGFuZCBoYW5kbGUgYXR0cmlidXRlcw0KKwkJaWYgKHJhbmdlRWxlbWVudCBp
bnN0YW5jZW9mIElEb2N1bWVudEF0dHJpYnV0ZU5vZGUpIHsNCisJCQlyYW5nZUVsZW1lbnQgPSAo
KElEb2N1bWVudEF0dHJpYnV0ZU5vZGUpIHJhbmdlRWxlbWVudCkuZ2V0RW5jbG9zaW5nRWxlbWVu
dCgpOw0KKwkJfQ0KKwkJdXBkYXRlT3V0bGluZVBhZ2VTZWxlY3Rpb24ocmFuZ2VFbGVtZW50KTsN
CisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UudWkuZWRp
dG9ycy50ZXh0LlRleHRFZGl0b3IjaW5pdGlhbGl6ZUVkaXRvcigpDQorCSAqLw0KKwlwcm90ZWN0
ZWQgdm9pZCBpbml0aWFsaXplRWRpdG9yKCkgew0KKwkJc3VwZXIuaW5pdGlhbGl6ZUVkaXRvcigp
Ow0KKwkJLy8gVE9ETyBGaXggaGVscCBjb250ZXh0DQorCQkvLwkJc2V0SGVscENvbnRleHRJZChJ
SGVscENvbnRleHRJZHMuVE9DX0VESVRPUik7DQorCX0NCit9DQpJbmRleDogc3JjL29yZy9lY2xp
cHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwSW5wdXRDb250ZXh0Lmph
dmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT0NClJDUyBmaWxlOiBzcmMvb3JnL2VjbGlwc2UvcGRlL2ludGVybmFsL3Vp
L2VkaXRvci9jdHhoZWxwL0N0eEhlbHBJbnB1dENvbnRleHQuamF2YQ0KZGlmZiAtTiBzcmMvb3Jn
L2VjbGlwc2UvcGRlL2ludGVybmFsL3VpL2VkaXRvci9jdHhoZWxwL0N0eEhlbHBJbnB1dENvbnRl
eHQuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgc3Jj
L29yZy9lY2xpcHNlL3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwSW5wdXRD
b250ZXh0LmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAgLTAsMCArMSwxMDQgQEAN
CisvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKg0KKyAqIENvcHlyaWdodCAoYykgMjAwOCBJQk0gQ29y
cG9yYXRpb24gYW5kIG90aGVycy4NCisgKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dy
YW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQorICogYXJlIG1hZGUgYXZhaWxhYmxl
IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQorICog
d2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQN
CisgKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KKyAqDQorICog
Q29udHJpYnV0b3JzOg0KKyAqICAgICBJQk0gQ29ycG9yYXRpb24gLSBpbml0aWFsIEFQSSBhbmQg
aW1wbGVtZW50YXRpb24NCisgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCitwYWNrYWdlIG9yZy5l
Y2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY3R4aGVscDsNCisNCitpbXBvcnQgamF2YS5p
by5GaWxlOw0KK2ltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0Ow0KK2ltcG9ydCBvcmcuZWNsaXBz
ZS5jb3JlLnJlc291cmNlcy5JRmlsZTsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1l
LkNvcmVFeGNlcHRpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLnRleHQuSURvY3VtZW50
Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuY29yZS5JQmFzZU1vZGVsOw0KK2ltcG9ydCBvcmcu
ZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LkFic3RyYWN0RWRpdGluZ01vZGVsOw0KK2lt
cG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuQ3R4SGVscE1v
ZGVsOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLio7DQoraW1w
b3J0IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuY29udGV4dC5YTUxJbnB1dENv
bnRleHQ7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLio7DQorDQorLyoqDQorICogVGhlIGlucHV0
IGNvbnRleHQgZm9yIHRoZSBjb250ZXh0IGhlbHAgZWRpdG9yLCBiYXNlZCBvbiBhbiB4bWwgZmls
ZSBjb250YWluaW5nDQorICogaGVscCBjb250ZXh0IGlkcy4NCisgKiBAc2luY2UgMy40DQorICov
DQorcHVibGljIGNsYXNzIEN0eEhlbHBJbnB1dENvbnRleHQgZXh0ZW5kcyBYTUxJbnB1dENvbnRl
eHQgew0KKw0KKwlwdWJsaWMgc3RhdGljIGZpbmFsIFN0cmluZyBDT05URVhUX0lEID0gImN0eGhl
bHAtY29udGV4dCI7IC8vJE5PTi1OTFMtMSQJDQorDQorCXB1YmxpYyBDdHhIZWxwSW5wdXRDb250
ZXh0KFBERUZvcm1FZGl0b3IgZWRpdG9yLCBJRWRpdG9ySW5wdXQgaW5wdXQsIGJvb2xlYW4gcHJp
bWFyeSkgew0KKwkJc3VwZXIoZWRpdG9yLCBpbnB1dCwgcHJpbWFyeSk7DQorCQljcmVhdGUoKTsN
CisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmlu
dGVybmFsLnVpLmVkaXRvci5jb250ZXh0LklucHV0Q29udGV4dCNjcmVhdGVNb2RlbChvcmcuZWNs
aXBzZS51aS5JRWRpdG9ySW5wdXQpDQorCSAqLw0KKwlwcm90ZWN0ZWQgSUJhc2VNb2RlbCBjcmVh
dGVNb2RlbChJRWRpdG9ySW5wdXQgaW5wdXQpIHRocm93cyBDb3JlRXhjZXB0aW9uIHsNCisJCWlm
IChpbnB1dCBpbnN0YW5jZW9mIElTdG9yYWdlRWRpdG9ySW5wdXQpIHsNCisJCQlib29sZWFuIGlz
UmVjb25jaWxpbmcgPSBpbnB1dCBpbnN0YW5jZW9mIElGaWxlRWRpdG9ySW5wdXQ7DQorCQkJSURv
Y3VtZW50IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnRQcm92aWRlcigpLmdldERvY3VtZW50KGlucHV0
KTsNCisNCisJCQlDdHhIZWxwTW9kZWwgbW9kZWwgPSBuZXcgQ3R4SGVscE1vZGVsKGRvY3VtZW50
LCBpc1JlY29uY2lsaW5nKTsNCisNCisJCQlpZiAoaW5wdXQgaW5zdGFuY2VvZiBJRmlsZUVkaXRv
cklucHV0KSB7DQorCQkJCUlGaWxlIGZpbGUgPSAoKElGaWxlRWRpdG9ySW5wdXQpIGlucHV0KS5n
ZXRGaWxlKCk7DQorCQkJCW1vZGVsLnNldFVuZGVybHlpbmdSZXNvdXJjZShmaWxlKTsNCisJCQkJ
bW9kZWwuc2V0Q2hhcnNldChmaWxlLmdldENoYXJzZXQoKSk7DQorCQkJfSBlbHNlIGlmIChpbnB1
dCBpbnN0YW5jZW9mIFN5c3RlbUZpbGVFZGl0b3JJbnB1dCkgew0KKwkJCQlGaWxlIGZpbGUgPSAo
RmlsZSkgKChTeXN0ZW1GaWxlRWRpdG9ySW5wdXQpIGlucHV0KS5nZXRBZGFwdGVyKEZpbGUuY2xh
c3MpOw0KKwkJCQltb2RlbC5zZXRJbnN0YWxsTG9jYXRpb24oZmlsZS5nZXRQYXJlbnQoKSk7DQor
CQkJCW1vZGVsLnNldENoYXJzZXQoZ2V0RGVmYXVsdENoYXJzZXQoKSk7DQorCQkJfSBlbHNlIGlm
IChpbnB1dCBpbnN0YW5jZW9mIEphckVudHJ5RWRpdG9ySW5wdXQpIHsNCisJCQkJRmlsZSBmaWxl
ID0gKEZpbGUpICgoSmFyRW50cnlFZGl0b3JJbnB1dCkgaW5wdXQpLmdldEFkYXB0ZXIoRmlsZS5j
bGFzcyk7DQorCQkJCW1vZGVsLnNldEluc3RhbGxMb2NhdGlvbihmaWxlLnRvU3RyaW5nKCkpOw0K
KwkJCQltb2RlbC5zZXRDaGFyc2V0KGdldERlZmF1bHRDaGFyc2V0KCkpOw0KKwkJCX0gZWxzZSB7
DQorCQkJCW1vZGVsLnNldENoYXJzZXQoZ2V0RGVmYXVsdENoYXJzZXQoKSk7DQorCQkJfQ0KKw0K
KwkJCW1vZGVsLmxvYWQoKTsNCisNCisJCQlyZXR1cm4gbW9kZWw7DQorCQl9DQorDQorCQlyZXR1
cm4gbnVsbDsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlw
c2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jb250ZXh0LklucHV0Q29udGV4dCNnZXRJZCgpDQor
CSAqLw0KKwlwdWJsaWMgU3RyaW5nIGdldElkKCkgew0KKwkJcmV0dXJuIENPTlRFWFRfSUQ7DQor
CX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRl
cm5hbC51aS5lZGl0b3IuY29udGV4dC5YTUxJbnB1dENvbnRleHQjcmVvcmRlckluc2VydEVkaXRz
KGphdmEudXRpbC5BcnJheUxpc3QpDQorCSAqLw0KKwlwcm90ZWN0ZWQgdm9pZCByZW9yZGVySW5z
ZXJ0RWRpdHMoQXJyYXlMaXN0IG9wcykgew0KKwkJLy8gTk8tT1ANCisJfQ0KKw0KKwkvKiAobm9u
LUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5j
b250ZXh0LklucHV0Q29udGV4dCNkb1JldmVydCgpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBkb1Jl
dmVydCgpIHsNCisJCWZFZGl0T3BlcmF0aW9ucy5jbGVhcigpOw0KKwkJZk9wZXJhdGlvblRhYmxl
LmNsZWFyKCk7DQorCQlmTW92ZU9wZXJhdGlvbnMuY2xlYXIoKTsNCisJCUFic3RyYWN0RWRpdGlu
Z01vZGVsIG1vZGVsID0gKEFic3RyYWN0RWRpdGluZ01vZGVsKSBnZXRNb2RlbCgpOw0KKwkJbW9k
ZWwucmVjb25jaWxlZChtb2RlbC5nZXREb2N1bWVudCgpKTsNCisJfQ0KKw0KKwkvKiAobm9uLUph
dmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jb250
ZXh0LklucHV0Q29udGV4dCNnZXRQYXJ0aXRpb25OYW1lKCkNCisJICovDQorCXByb3RlY3RlZCBT
dHJpbmcgZ2V0UGFydGl0aW9uTmFtZSgpIHsNCisJCXJldHVybiAiX19fY3R4aGVscF9wYXJ0aXRp
b24iOyAvLyROT04tTkxTLTEkDQorCX0NCit9DQpJbmRleDogc3JjL29yZy9lY2xpcHNlL3BkZS9p
bnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwVHJlZVNlY3Rpb24uamF2YQ0KPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PQ0KUkNTIGZpbGU6IHNyYy9vcmcvZWNsaXBzZS9wZGUvaW50ZXJuYWwvdWkvZWRpdG9yL2N0
eGhlbHAvQ3R4SGVscFRyZWVTZWN0aW9uLmphdmENCmRpZmYgLU4gc3JjL29yZy9lY2xpcHNlL3Bk
ZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwVHJlZVNlY3Rpb24uamF2YQ0KLS0t
IC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQorKysgc3JjL29yZy9lY2xpcHNl
L3BkZS9pbnRlcm5hbC91aS9lZGl0b3IvY3R4aGVscC9DdHhIZWxwVHJlZVNlY3Rpb24uamF2YQkx
IEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMCwwICsxLDkzNCBAQA0KKy8qKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqDQorICogQ29weXJpZ2h0IChjKSAyMDA4IElCTSBDb3Jwb3JhdGlvbiBhbmQg
b3RoZXJzLg0KKyAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRoaXMgcHJvZ3JhbSBhbmQgdGhlIGFj
Y29tcGFueWluZyBtYXRlcmlhbHMNCisgKiBhcmUgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRl
cm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYxLjANCisgKiB3aGljaCBhY2NvbXBh
bmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWlsYWJsZSBhdA0KKyAqIGh0dHA6Ly93
d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQorICoNCisgKiBDb250cmlidXRvcnM6
DQorICogICAgIElCTSBDb3Jwb3JhdGlvbiAtIGluaXRpYWwgQVBJIGFuZCBpbXBsZW1lbnRhdGlv
bg0KKyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqLw0KK3BhY2thZ2Ugb3JnLmVjbGlwc2UucGRlLmlu
dGVybmFsLnVpLmVkaXRvci5jdHhoZWxwOw0KKw0KK2ltcG9ydCBqYXZhLnV0aWwuKjsNCitpbXBv
cnQgamF2YS51dGlsLkxpc3Q7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucmVzb3VyY2VzLklG
aWxlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJlc291cmNlcy5JUmVzb3VyY2U7DQoraW1w
b3J0IG9yZy5lY2xpcHNlLmNvcmUucnVudGltZS5JUGF0aDsNCitpbXBvcnQgb3JnLmVjbGlwc2Uu
amZhY2UuYWN0aW9uLio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmpmYWNlLmRpYWxvZ3MuTWVzc2Fn
ZURpYWxvZzsNCitpbXBvcnQgb3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy4qOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5wZGUuY29yZS5JTW9kZWxDaGFuZ2VkRXZlbnQ7DQoraW1wb3J0IG9yZy5lY2xp
cHNlLnBkZS5pbnRlcm5hbC5jb3JlLmljdHhoZWxwLklDdHhIZWxwQ29uc3RhbnRzOw0KK2ltcG9y
dCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LklEb2N1bWVudEVsZW1lbnROb2Rl
Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwuY29yZS50ZXh0LmN0eGhlbHAuKjsN
CitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLlBERVBsdWdpbjsNCitpbXBvcnQg
b3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLlBERVVJTWVzc2FnZXM7DQoraW1wb3J0IG9yZy5l
Y2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFRm9ybVBhZ2U7DQoraW1wb3J0IG9yZy5l
Y2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuVHJlZVNlY3Rpb247DQoraW1wb3J0IG9yZy5l
Y2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuYWN0aW9ucy5Db2xsYXBzZUFjdGlvbjsNCitp
bXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5jdHhoZWxwLmRldGFpbHMu
Q3R4SGVscEFic3RyYWN0QWRkQWN0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJu
YWwudWkuZWRpdG9yLmN0eGhlbHAuZGV0YWlscy5DdHhIZWxwUmVtb3ZlQWN0aW9uOw0KK2ltcG9y
dCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLnBsdWdpbi5Gb3JtRmlsdGVyZWRU
cmVlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLnRvYy5IZWxw
RWRpdG9yVXRpbDsNCitpbXBvcnQgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLnBhcnRzLlRy
ZWVQYXJ0Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkudXRpbC5QREVMYWJl
bFV0aWxpdHk7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5TV1Q7DQoraW1wb3J0IG9yZy5lY2xp
cHNlLnN3dC5kbmQuRE5EOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5zd3QuZXZlbnRzLkRpc3Bvc2VF
dmVudDsNCitpbXBvcnQgb3JnLmVjbGlwc2Uuc3d0LmV2ZW50cy5EaXNwb3NlTGlzdGVuZXI7DQor
aW1wb3J0IG9yZy5lY2xpcHNlLnN3dC5ncmFwaGljcy5DdXJzb3I7DQoraW1wb3J0IG9yZy5lY2xp
cHNlLnN3dC53aWRnZXRzLio7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLlBhcnRJbml0RXhjZXB0
aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS51aS5QbGF0Zm9ybVVJOw0KK2ltcG9ydCBvcmcuZWNs
aXBzZS51aS5hY3Rpb25zLkFjdGlvbkZhY3Rvcnk7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmFj
dGlvbnMuQ29udHJpYnV0aW9uSXRlbUZhY3Rvcnk7DQoraW1wb3J0IG9yZy5lY2xpcHNlLnVpLmRp
YWxvZ3MuUGF0dGVybkZpbHRlcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWkuZm9ybXMud2lkZ2V0
cy5Gb3JtVG9vbGtpdDsNCitpbXBvcnQgb3JnLmVjbGlwc2UudWkuZm9ybXMud2lkZ2V0cy5TZWN0
aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS51aS5pZGUuSURFOw0KK2ltcG9ydCBvcmcuZWNsaXBz
ZS51aS5rZXlzLklCaW5kaW5nU2VydmljZTsNCisNCisvKioNCisgKiBUcmVlIHNlY3Rpb24gZm9y
IHRoZSBjb250ZXh0IGhlbHAgZWRpdG9yLiAgRGlzcGxheXMgdGhlIHN0cnVjdHVyZQ0KKyAqIG9m
IHRoZSB4bWwgZmlsZSBhbmQgYWRkcyBhY3Rpb25zIGFsbG93aW5nIG1hbmlwdWxhdGlvbiBvZiB0
aGUgc3RydWN0dXJlLg0KKyAqIEBzaW5jZSAzLjQNCisgKiBAc2VlIEN0eEhlbHBFZGl0b3INCisg
Ki8NCitwdWJsaWMgY2xhc3MgQ3R4SGVscFRyZWVTZWN0aW9uIGV4dGVuZHMgVHJlZVNlY3Rpb24g
ew0KKwlwcml2YXRlIEN0eEhlbHBNb2RlbCBmTW9kZWw7DQorCXByaXZhdGUgVHJlZVZpZXdlciBm
VHJlZTsNCisJcHJpdmF0ZSBGb3JtRmlsdGVyZWRUcmVlIGZGaWx0ZXJlZFRyZWU7DQorDQorCS8q
IFRoZSBpbmRpY2VzIGZvciBlYWNoIGJ1dHRvbiBhdHRhY2hlZCB0byB0aGUgVHJlZSBWaWV3ZXIu
DQorCSAqIFRoaXMgdHlwZSBvZiBVSSBmb3JtIGRvZXMgbm90IHBlcm1pdCBkaXJlY3QgYWNjZXNz
IHRvIGVhY2ggcGFydGljdWxhcg0KKwkgKiBidXR0b24uIEhvd2V2ZXIsIHVzaW5nIHRoZXNlIGlu
ZGljZXMsIG9uZSBjYW4gcGVyZm9ybSBhbnkgdHlwaWNhbCBTV1QNCisJICogb3BlcmF0aW9uIG9u
IGFueSBidXR0b24uDQorCSAqLw0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBpbnQgRl9CVVRUT05f
QUREX0NPTlRFWFQgPSAwOw0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBpbnQgRl9CVVRUT05fQURE
X1RPUElDID0gMjsNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgaW50IEZfQlVUVE9OX0FERF9DT01N
QU5EID0gMzsNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgaW50IEZfQlVUVE9OX1JFTU9WRSA9IDU7
DQorCXByaXZhdGUgc3RhdGljIGZpbmFsIGludCBGX0JVVFRPTl9VUCA9IDY7DQorCXByaXZhdGUg
c3RhdGljIGZpbmFsIGludCBGX0JVVFRPTl9ET1dOID0gNzsNCisNCisJLy8gV2hlbiBvbmUgb2Yg
dGhlIG1vdmUgYnV0dG9ucyBpcyBwcmVzc2VkLCBhIGZsYWcgaXMgdXNlZCB0byBkZXRlcm1pbmUg
dGhlIGRpcmVjdGlvbg0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBpbnQgRl9VUF9GTEFHID0gLTE7
DQorCXByaXZhdGUgc3RhdGljIGZpbmFsIGludCBGX0RPV05fRkxBRyA9IDE7DQorDQorCS8vIFRo
ZSBhY3Rpb25zIHRoYXQgd2lsbCBhZGQgZWFjaCB0eXBlIG9mIG9iamVjdA0KKwlwcml2YXRlIEN0
eEhlbHBBYnN0cmFjdEFkZEFjdGlvbiBmQWRkQ29udGV4dEFjdGlvbjsNCisJcHJpdmF0ZSBDdHhI
ZWxwQWJzdHJhY3RBZGRBY3Rpb24gZkFkZFRvcGljQWN0aW9uOw0KKwlwcml2YXRlIEN0eEhlbHBB
YnN0cmFjdEFkZEFjdGlvbiBmQWRkQ29tbWFuZEFjdGlvbjsNCisNCisJLy8gVGhlIG9iamVjdCBy
ZW1vdmFsIGFjdGlvbg0KKwlwcml2YXRlIEN0eEhlbHBSZW1vdmVBY3Rpb24gZlJlbW92ZU9iamVj
dEFjdGlvbjsNCisNCisJLy8gVGhlIGFjdGlvbiBmb3Igb3BlbmluZyBhIGxpbmsgZnJvbSB0aGUg
Y29udGV4dCBtZW51DQorCXByaXZhdGUgT3BlbkxpbmtBY3Rpb24gZk9wZW5MaW5rQWN0aW9uOw0K
Kw0KKwkvLyBVc2VkIHRvIHRlbXBvcmFyaWx5IHN0b3JlIHRoZSB0YXJnZXQgb2YgYSBkcm9wIG9w
ZXJhdGlvbiANCisJLy8gc28gdGhhdCBpdCBkb2VzIG5vdCBoYXZlIGJlIGJlIHJlY2FsY3VsYXRl
ZA0KKwlwcml2YXRlIEN0eEhlbHBPYmplY3QgZkRyb3BUYXJnZXRQYXJlbnQ7DQorCXByaXZhdGUg
Q3R4SGVscE9iamVjdCBmRHJvcFRhcmdldFNpYmxpbmc7DQorDQorCS8qKiBJZiBpdGVtcyBhcmUg
ZHJhZ2dlZCBhbmQgZHJvcHBlZCB3aXRoaW4gdGhpcyB0cmVlLCB0aGVuDQorCSAqIHRoaXMgZmxh
ZyBpbmhpYml0cyByZXNlbGVjdGlvbiBvbiB0aGUgcmVtb3ZhbCAoZHJhZykgYWN0aW9uLA0KKwkg
KiB0aHVzIGVuc3VyaW5nIHRoYXQgdGhlIHNlbGVjdGVkIG9iamVjdHMgYXJlIHRoZSBvbmVzIHRo
YXQgd2VyZQ0KKwkgKiBkcm9wcGVkLg0KKwkgKi8NCisJcHJpdmF0ZSBib29sZWFuIGZEcmFnRnJv
bUhlcmU7DQorDQorCS8qKg0KKwkgKiBBY3Rpb24gdGhhdCBhbGxvd3MgYSBsaW5rZWQgZmlsZSB0
byBiZSBvcGVuZWQgaW4gdGhlIGVkaXRvcg0KKwkgKiBAc2luY2UgMy40DQorCSAqLw0KKwljbGFz
cyBPcGVuTGlua0FjdGlvbiBleHRlbmRzIEFjdGlvbiB7DQorCQlwcml2YXRlIEN0eEhlbHBUb3Bp
YyBmT3BlblRhcmdldDsNCisNCisJCXB1YmxpYyBPcGVuTGlua0FjdGlvbigpIHsNCisJCQlzdXBl
cihQREVVSU1lc3NhZ2VzLkFjdGlvbnNfb3Blbl9sYWJlbCk7DQorCQl9DQorDQorCQlwdWJsaWMg
dm9pZCBzZXRUYXJnZXQoQ3R4SGVscFRvcGljIHRhcmdldCkgew0KKwkJCWZPcGVuVGFyZ2V0ID0g
dGFyZ2V0Ow0KKwkJfQ0KKw0KKwkJcHVibGljIHZvaWQgcnVuKCkgew0KKwkJCWlmIChmT3BlblRh
cmdldCAhPSBudWxsKSB7DQorCQkJCW9wZW4oZk9wZW5UYXJnZXQpOw0KKwkJCX0NCisJCX0NCisJ
fQ0KKw0KKwlwdWJsaWMgQ3R4SGVscFRyZWVTZWN0aW9uKFBERUZvcm1QYWdlIGZvcm1QYWdlLCBD
b21wb3NpdGUgcGFyZW50KSB7DQorCQlzdXBlcihmb3JtUGFnZSwgcGFyZW50LCBTZWN0aW9uLkRF
U0NSSVBUSU9OLCBuZXcgU3RyaW5nW10ge1BERVVJTWVzc2FnZXMuQ3R4SGVscFRyZWVTZWN0aW9u
X2FkZENvbnRleHQsIG51bGwsIFBERVVJTWVzc2FnZXMuQ3R4SGVscFRyZWVTZWN0aW9uX2FkZFRv
cGljLCBQREVVSU1lc3NhZ2VzLkN0eEhlbHBUcmVlU2VjdGlvbl9hZGRDb21tYW5kLCBudWxsLCBQ
REVVSU1lc3NhZ2VzLlRvY1BhZ2VfcmVtb3ZlLCBQREVVSU1lc3NhZ2VzLlRvY1BhZ2VfdXAsIFBE
RVVJTWVzc2FnZXMuVG9jUGFnZV9kb3dufSk7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0K
KwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFU2VjdGlvbiNj
cmVhdGVDbGllbnQob3JnLmVjbGlwc2UudWkuZm9ybXMud2lkZ2V0cy5TZWN0aW9uLCBvcmcuZWNs
aXBzZS51aS5mb3Jtcy53aWRnZXRzLkZvcm1Ub29sa2l0KQ0KKwkgKi8NCisJcHJvdGVjdGVkIHZv
aWQgY3JlYXRlQ2xpZW50KFNlY3Rpb24gc2VjdGlvbiwgRm9ybVRvb2xraXQgdG9vbGtpdCkgew0K
KwkJZk1vZGVsID0gKEN0eEhlbHBNb2RlbCkgZ2V0UGFnZSgpLmdldE1vZGVsKCk7DQorDQorCQlD
b21wb3NpdGUgY29udGFpbmVyID0gY3JlYXRlQ2xpZW50Q29udGFpbmVyKHNlY3Rpb24sIDIsIHRv
b2xraXQpOw0KKwkJY3JlYXRlVHJlZShjb250YWluZXIsIHRvb2xraXQpOw0KKwkJdG9vbGtpdC5w
YWludEJvcmRlcnNGb3IoY29udGFpbmVyKTsNCisNCisJCXNlY3Rpb24uc2V0VGV4dChQREVVSU1l
c3NhZ2VzLkN0eEhlbHBUcmVlU2VjdGlvbl9jb250ZXh0SGVscCk7DQorCQlzZWN0aW9uLnNldERl
c2NyaXB0aW9uKFBERVVJTWVzc2FnZXMuQ3R4SGVscFRyZWVTZWN0aW9uX2VkaXRDb250ZXh0SGVs
cFN0cnVjdHVyZSk7DQorCQlzZWN0aW9uLnNldENsaWVudChjb250YWluZXIpOw0KKw0KKwkJY3Jl
YXRlQ29tbWFuZHMoKTsNCisNCisJCWluaXRpYWxpemVUcmVlVmlld2VyKCk7DQorCQljcmVhdGVT
ZWN0aW9uVG9vbGJhcihzZWN0aW9uLCB0b29sa2l0KTsNCisNCisJCS8vIENyZWF0ZSB0aGUgYWRh
cHRlZCBsaXN0ZW5lciBmb3IgdGhlIGZpbHRlciBlbnRyeSBmaWVsZA0KKwkJZkZpbHRlcmVkVHJl
ZS5jcmVhdGVVSUxpc3RlbmVyRW50cnlGaWx0ZXIodGhpcyk7DQorCX0NCisNCisJLyoqDQorCSAq
IENyZWF0ZXMgdGhlIGNvbW1hbmRzIHVzZWQgaW4gdGhpcyBzZWN0aW9uLg0KKwkgKi8NCisJcHJp
dmF0ZSB2b2lkIGNyZWF0ZUNvbW1hbmRzKCkgew0KKwkJZkFkZENvbnRleHRBY3Rpb24gPSBuZXcg
Q3R4SGVscEFic3RyYWN0QWRkQWN0aW9uKCkgew0KKwkJCXB1YmxpYyB2b2lkIHJ1bigpIHsNCisJ
CQkJaWYgKGZQYXJlbnRPYmplY3QgIT0gbnVsbCkgew0KKwkJCQkJQ3R4SGVscENvbnRleHQgY29u
dGV4dCA9IGZQYXJlbnRPYmplY3QuZ2V0TW9kZWwoKS5nZXRGYWN0b3J5KCkuY3JlYXRlQ29udGV4
dCgpOw0KKwkJCQkJU3RyaW5nIGlkID0gUERFTGFiZWxVdGlsaXR5LmdlbmVyYXRlTmFtZShnZXRD
aGlsZE5hbWVzKCksIFBERVVJTWVzc2FnZXMuQ3R4SGVscFRyZWVTZWN0aW9uX2RlZmF1bHRDb250
ZXh0TmFtZSk7DQorCQkJCQljb250ZXh0LnNldElEKGlkKTsNCisJCQkJCWFkZENoaWxkKGNvbnRl
eHQpOw0KKwkJCQl9DQorCQkJfQ0KKwkJfTsNCisJCWZBZGRDb250ZXh0QWN0aW9uLnNldFRleHQo
UERFVUlNZXNzYWdlcy5DdHhIZWxwVHJlZVNlY3Rpb25fbmV3Q29udGV4dCk7DQorCQlmQWRkVG9w
aWNBY3Rpb24gPSBuZXcgQ3R4SGVscEFic3RyYWN0QWRkQWN0aW9uKCkgew0KKwkJCXB1YmxpYyB2
b2lkIHJ1bigpIHsNCisJCQkJaWYgKGZQYXJlbnRPYmplY3QgIT0gbnVsbCkgew0KKwkJCQkJQ3R4
SGVscFRvcGljIHRvcGljID0gZlBhcmVudE9iamVjdC5nZXRNb2RlbCgpLmdldEZhY3RvcnkoKS5j
cmVhdGVUb3BpYygpOw0KKwkJCQkJU3RyaW5nIGxhYmVsID0gUERFTGFiZWxVdGlsaXR5LmdlbmVy
YXRlTmFtZShnZXRDaGlsZE5hbWVzKCksIFBERVVJTWVzc2FnZXMuQ3R4SGVscFRyZWVTZWN0aW9u
X2RlZmF1bHRUb3BpY05hbWUpOw0KKwkJCQkJdG9waWMuc2V0TGFiZWwobGFiZWwpOw0KKwkJCQkJ
YWRkQ2hpbGQodG9waWMpOw0KKwkJCQl9DQorCQkJfQ0KKwkJfTsNCisJCWZBZGRUb3BpY0FjdGlv
bi5zZXRUZXh0KFBERVVJTWVzc2FnZXMuQ3R4SGVscFRyZWVTZWN0aW9uX25ld1RvcGljKTsNCisJ
CWZBZGRDb21tYW5kQWN0aW9uID0gbmV3IEN0eEhlbHBBYnN0cmFjdEFkZEFjdGlvbigpIHsNCisJ
CQlwdWJsaWMgdm9pZCBydW4oKSB7DQorCQkJCWlmIChmUGFyZW50T2JqZWN0ICE9IG51bGwpIHsN
CisJCQkJCUN0eEhlbHBDb21tYW5kIGNvbW1hbmQgPSBmUGFyZW50T2JqZWN0LmdldE1vZGVsKCku
Z2V0RmFjdG9yeSgpLmNyZWF0ZUNvbW1hbmQoKTsNCisJCQkJCVN0cmluZyBsYWJlbCA9IFBERUxh
YmVsVXRpbGl0eS5nZW5lcmF0ZU5hbWUoZ2V0Q2hpbGROYW1lcygpLCBQREVVSU1lc3NhZ2VzLkN0
eEhlbHBUcmVlU2VjdGlvbl9kZWZhdWx0Q29tbWFuZE5hbWUpOw0KKwkJCQkJY29tbWFuZC5zZXRM
YWJlbChsYWJlbCk7DQorCQkJCQlhZGRDaGlsZChjb21tYW5kKTsNCisJCQkJfQ0KKwkJCX0NCisJ
CX07DQorCQlmQWRkQ29tbWFuZEFjdGlvbi5zZXRUZXh0KFBERVVJTWVzc2FnZXMuQ3R4SGVscFRy
ZWVTZWN0aW9uX25ld0NvbW1hbmQpOw0KKw0KKwkJZlJlbW92ZU9iamVjdEFjdGlvbiA9IG5ldyBD
dHhIZWxwUmVtb3ZlQWN0aW9uKCk7DQorCQlmT3BlbkxpbmtBY3Rpb24gPSBuZXcgT3BlbkxpbmtB
Y3Rpb24oKTsNCisJfQ0KKw0KKwkvKioNCisJICogQWRkcyBhIGxpbmsgKHdpdGggaGFuZCBjdXJz
b3IpIGZvciB0cmVlICdDb2xsYXBzZSBBbGwnIGFjdGlvbiwNCisJICogd2hpY2ggY29sbGFwc2Vz
IHRoZSB0cmVlIGRvd24gdG8gdGhlIHNlY29uZCBsZXZlbA0KKwkgKiANCisJICogQHBhcmFtIHNl
Y3Rpb24gVGhlIHNlY3Rpb24gdGhhdCB0aGUgdG9vbGJhciB3aWxsIGJlbG9uZyB0bw0KKwkgKiBA
cGFyYW0gdG9vbGtpdCBUaGUgdG9vbGtpdCB0aGF0IHdpbGwgYmUgdXNlZCB0byBtYWtlIHRoZSB0
b29sYmFyDQorCSAqLw0KKwlwcml2YXRlIHZvaWQgY3JlYXRlU2VjdGlvblRvb2xiYXIoU2VjdGlv
biBzZWN0aW9uLCBGb3JtVG9vbGtpdCB0b29sa2l0KSB7DQorCQlUb29sQmFyTWFuYWdlciB0b29s
QmFyTWFuYWdlciA9IG5ldyBUb29sQmFyTWFuYWdlcihTV1QuRkxBVCk7DQorCQlUb29sQmFyIHRv
b2xiYXIgPSB0b29sQmFyTWFuYWdlci5jcmVhdGVDb250cm9sKHNlY3Rpb24pOw0KKw0KKwkJZmlu
YWwgQ3Vyc29yIGhhbmRDdXJzb3IgPSBuZXcgQ3Vyc29yKERpc3BsYXkuZ2V0Q3VycmVudCgpLCBT
V1QuQ1VSU09SX0hBTkQpOw0KKwkJdG9vbGJhci5zZXRDdXJzb3IoaGFuZEN1cnNvcik7DQorCQkv
LyBDdXJzb3IgbmVlZHMgdG8gYmUgZXhwbGljaXRseSBkaXNwb3NlZA0KKwkJdG9vbGJhci5hZGRE
aXNwb3NlTGlzdGVuZXIobmV3IERpc3Bvc2VMaXN0ZW5lcigpIHsNCisJCQlwdWJsaWMgdm9pZCB3
aWRnZXREaXNwb3NlZChEaXNwb3NlRXZlbnQgZSkgew0KKwkJCQlpZiAoKGhhbmRDdXJzb3IgIT0g
bnVsbCkgJiYgKGhhbmRDdXJzb3IuaXNEaXNwb3NlZCgpID09IGZhbHNlKSkgew0KKwkJCQkJaGFu
ZEN1cnNvci5kaXNwb3NlKCk7DQorCQkJCX0NCisJCQl9DQorCQl9KTsNCisNCisJCS8vIEFkZCBj
b2xsYXBzZSBhY3Rpb24gdG8gdGhlIHRvb2wgYmFyDQorCQl0b29sQmFyTWFuYWdlci5hZGQobmV3
IENvbGxhcHNlQWN0aW9uKGZUcmVlLCBQREVVSU1lc3NhZ2VzLkV4dGVuc2lvbnNQYWdlX2NvbGxh
cHNlQWxsLCAxLCBmTW9kZWwuZ2V0Q3R4SGVscFJvb3QoKSkpOw0KKwkJdG9vbEJhck1hbmFnZXIu
dXBkYXRlKHRydWUpOw0KKwkJc2VjdGlvbi5zZXRUZXh0Q2xpZW50KHRvb2xiYXIpOw0KKwl9DQor
DQorCS8qKg0KKwkgKiBDcmVhdGUgdGhlIHRyZWUgd2lkZ2V0IHRoYXQgd2lsbCBjb250YWluIHRo
ZSBzdHJ1Y3R1cmUNCisJICogDQorCSAqIEBwYXJhbSBjb250YWluZXIgVGhlIGNvbnRhaW5lciBv
ZiB0aGUgdHJlZSB3aWRnZXQNCisJICogQHBhcmFtIHRvb2xraXQgVGhlIHRvb2xraXQgdXNlZCB0
byBjcmVhdGUgdGhlIHRyZWUNCisJICovDQorCXByaXZhdGUgdm9pZCBjcmVhdGVUcmVlKENvbXBv
c2l0ZSBjb250YWluZXIsIEZvcm1Ub29sa2l0IHRvb2xraXQpIHsNCisJCVRyZWVQYXJ0IHRyZWVQ
YXJ0ID0gZ2V0VHJlZVBhcnQoKTsNCisJCWNyZWF0ZVZpZXdlclBhcnRDb250cm9sKGNvbnRhaW5l
ciwgU1dULk1VTFRJLCAyLCB0b29sa2l0KTsNCisNCisJCWZUcmVlID0gdHJlZVBhcnQuZ2V0VHJl
ZVZpZXdlcigpOw0KKwkJZlRyZWUuc2V0Q29udGVudFByb3ZpZGVyKG5ldyBDdHhIZWxwQ29udGVu
dFByb3ZpZGVyKCkpOw0KKwkJZlRyZWUuc2V0TGFiZWxQcm92aWRlcihQREVQbHVnaW4uZ2V0RGVm
YXVsdCgpLmdldExhYmVsUHJvdmlkZXIoKSk7DQorDQorCQlQREVQbHVnaW4uZ2V0RGVmYXVsdCgp
LmdldExhYmVsUHJvdmlkZXIoKS5jb25uZWN0KHRoaXMpOw0KKw0KKwkJLy8gQ3JlYXRlIGxpc3Rl
bmVyIGZvciB0aGUgb3V0bGluZSB2aWV3ICdsaW5rIHdpdGggZWRpdG9yJyB0b2dnbGUgYnV0dG9u
DQorCQlmVHJlZS5hZGRQb3N0U2VsZWN0aW9uQ2hhbmdlZExpc3RlbmVyKGdldFBhZ2UoKS5nZXRQ
REVFZGl0b3IoKS5uZXcgUERFRm9ybUVkaXRvckNoYW5nZUxpc3RlbmVyKCkpOw0KKwl9DQorDQor
CS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWku
ZWRpdG9yLlRyZWVTZWN0aW9uI2NyZWF0ZVRyZWVWaWV3ZXIob3JnLmVjbGlwc2Uuc3d0LndpZGdl
dHMuQ29tcG9zaXRlLCBpbnQpDQorCSAqLw0KKwlwcm90ZWN0ZWQgVHJlZVZpZXdlciBjcmVhdGVU
cmVlVmlld2VyKENvbXBvc2l0ZSBwYXJlbnQsIGludCBzdHlsZSkgew0KKwkJZkZpbHRlcmVkVHJl
ZSA9IG5ldyBGb3JtRmlsdGVyZWRUcmVlKHBhcmVudCwgc3R5bGUsIG5ldyBQYXR0ZXJuRmlsdGVy
KCkpOw0KKwkJcGFyZW50LnNldERhdGEoImZpbHRlcmVkIiwgQm9vbGVhbi5UUlVFKTsgLy8kTk9O
LU5MUy0xJA0KKwkJcmV0dXJuIGZGaWx0ZXJlZFRyZWUuZ2V0Vmlld2VyKCk7DQorCX0NCisNCisJ
LyoqDQorCSAqIEluaXRpYWxpemUgdGhlIHRyZWUgdmlld2VyIHdpZGdldCBhbmQgaXRzIGJ1dHRv
bnMuDQorCSAqLw0KKwlwcml2YXRlIHZvaWQgaW5pdGlhbGl6ZVRyZWVWaWV3ZXIoKSB7DQorCQlp
ZiAoZk1vZGVsID09IG51bGwpIHsNCisJCQlyZXR1cm47DQorCQl9DQorDQorCQlDdHhIZWxwUm9v
dCByb290ID0gZk1vZGVsLmdldEN0eEhlbHBSb290KCk7DQorCQlmVHJlZS5zZXRJbnB1dChyb290
KTsNCisNCisJCS8vIEJ1dHRvbnMgbXVzdCBiZSBkaXNhYmxlZCBpZiBmaWxlIGlzIG5vdCBlZGl0
YWJsZQ0KKwkJZ2V0VHJlZVBhcnQoKS5zZXRCdXR0b25FbmFibGVkKEZfQlVUVE9OX0FERF9DT05U
RVhULCBpc0VkaXRhYmxlKCkpOw0KKwkJZ2V0VHJlZVBhcnQoKS5zZXRCdXR0b25FbmFibGVkKEZf
QlVUVE9OX0FERF9DT01NQU5ELCBpc0VkaXRhYmxlKCkpOw0KKwkJZ2V0VHJlZVBhcnQoKS5zZXRC
dXR0b25FbmFibGVkKEZfQlVUVE9OX0FERF9UT1BJQywgaXNFZGl0YWJsZSgpKTsNCisNCisJCWdl
dFRyZWVQYXJ0KCkuc2V0QnV0dG9uRW5hYmxlZChGX0JVVFRPTl9SRU1PVkUsIGZhbHNlKTsNCisJ
CWdldFRyZWVQYXJ0KCkuc2V0QnV0dG9uRW5hYmxlZChGX0JVVFRPTl9VUCwgZmFsc2UpOw0KKwkJ
Z2V0VHJlZVBhcnQoKS5zZXRCdXR0b25FbmFibGVkKEZfQlVUVE9OX0RPV04sIGZhbHNlKTsNCisJ
fQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UudWkuZm9ybXMu
QWJzdHJhY3RGb3JtUGFydCNzZXRGb3JtSW5wdXQoamF2YS5sYW5nLk9iamVjdCkNCisJICovDQor
CXB1YmxpYyBib29sZWFuIHNldEZvcm1JbnB1dChPYmplY3Qgb2JqZWN0KSB7DQorCQkvLyBUaGlz
IG1ldGhvZCBhbGxvd3MgdGhlIG91dGxpbmUgdmlldyB0byBzZWxlY3QgaXRlbXMgaW4gdGhlIHRy
ZWUNCisJCS8vIChJbnZva2VkIGJ5IG9yZy5lY2xpcHNlLnVpLmZvcm1zLmVkaXRvci5JRm9ybVBh
Z2Uuc2VsZWN0UmV2ZWFsKE9iamVjdCBvYmplY3QpKQ0KKwkJaWYgKG9iamVjdCBpbnN0YW5jZW9m
IEN0eEhlbHBPYmplY3QpIHsNCisJCQlmVHJlZS5zZXRTZWxlY3Rpb24obmV3IFN0cnVjdHVyZWRT
ZWxlY3Rpb24ob2JqZWN0KSwgdHJ1ZSk7DQorDQorCQkJLy8gVmVyaWZ5IHRoYXQgc29tZXRoaW5n
IHdhcyBhY3R1YWxseSBzZWxlY3RlZA0KKwkJCUlTZWxlY3Rpb24gc2VsZWN0aW9uID0gZlRyZWUu
Z2V0U2VsZWN0aW9uKCk7DQorCQkJaWYgKHNlbGVjdGlvbiAhPSBudWxsICYmICFzZWxlY3Rpb24u
aXNFbXB0eSgpKSB7DQorCQkJCXJldHVybiB0cnVlOw0KKwkJCX0NCisJCX0NCisJCXJldHVybiBm
YWxzZTsNCisJfQ0KKw0KKwkvKioNCisJICogQHJldHVybiB0aGUgc2VsZWN0aW9uIG9mIHRoZSB0
cmVlDQorCSAqLw0KKwlwdWJsaWMgSVNlbGVjdGlvbiBnZXRTZWxlY3Rpb24oKSB7DQorCQlyZXR1
cm4gZlRyZWUuZ2V0U2VsZWN0aW9uKCk7DQorCX0NCisNCisJLyoqDQorCSAqIEBwYXJhbSBzZWxl
Y3Rpb24gdGhlIG5ldyBzZWxlY3Rpb24gZm9yIHRoZSB0cmVlIHNlY3Rpb24NCisJICovDQorCXB1
YmxpYyB2b2lkIHNldFNlbGVjdGlvbihJU2VsZWN0aW9uIHNlbGVjdGlvbikgew0KKwkJZlRyZWUu
c2V0U2VsZWN0aW9uKHNlbGVjdGlvbik7DQorCX0NCisNCisJLyoqDQorCSAqIEZpcmUgYSBzZWxl
Y3Rpb24gY2hhbmdlIGV2ZW50IGFuZCByZWZyZXNoIHRoZSB2aWV3ZXIncyBzZWxlY3Rpb24NCisJ
ICovDQorCXB1YmxpYyB2b2lkIGZpcmVTZWxlY3Rpb24oKSB7DQorCQlmVHJlZS5zZXRTZWxlY3Rp
b24oZlRyZWUuZ2V0U2VsZWN0aW9uKCkpOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJ
ICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlRyZWVTZWN0aW9uI3Nl
bGVjdGlvbkNoYW5nZWQob3JnLmVjbGlwc2UuamZhY2Uudmlld2Vycy5JU3RydWN0dXJlZFNlbGVj
dGlvbikNCisJICovDQorCXByb3RlY3RlZCB2b2lkIHNlbGVjdGlvbkNoYW5nZWQoSVN0cnVjdHVy
ZWRTZWxlY3Rpb24gc2VsZWN0aW9uKSB7DQorCQlnZXRQYWdlKCkuZ2V0UERFRWRpdG9yKCkuc2V0
U2VsZWN0aW9uKHNlbGVjdGlvbik7DQorCQl1cGRhdGVCdXR0b25zKCk7DQorCX0NCisNCisJLyoq
DQorCSAqIFVwZGF0ZSB0aGUgYnV0dG9ucyBpbiB0aGUgc2VjdGlvbiBiYXNlZCBvbiB0aGUgY3Vy
cmVudCBzZWxlY3Rpb24NCisJICovDQorCXB1YmxpYyB2b2lkIHVwZGF0ZUJ1dHRvbnMoKSB7DQor
CQlpZiAoIWZNb2RlbC5pc0VkaXRhYmxlKCkpIHsNCisJCQlyZXR1cm47DQorCQl9DQorDQorCQlJ
U3RydWN0dXJlZFNlbGVjdGlvbiBzZWxlY3Rpb24gPSAoSVN0cnVjdHVyZWRTZWxlY3Rpb24pIGZU
cmVlLmdldFNlbGVjdGlvbigpOw0KKwkJQ3R4SGVscE9iamVjdCBmaXJzdFNlbGVjdGVkT2JqZWN0
ID0gKEN0eEhlbHBPYmplY3QpIHNlbGVjdGlvbi5nZXRGaXJzdEVsZW1lbnQoKTsNCisNCisJCS8v
IEFkZCBDb250ZXh0DQorCQlnZXRUcmVlUGFydCgpLnNldEJ1dHRvbkVuYWJsZWQoRl9CVVRUT05f
QUREX0NPTlRFWFQsIHRydWUpOw0KKw0KKwkJLy8gQWRkIFRvcGljDQorCQlib29sZWFuIGVuYWJs
ZUFkZCA9IGZhbHNlOw0KKwkJaWYgKGZpcnN0U2VsZWN0ZWRPYmplY3QgIT0gbnVsbCkgew0KKwkJ
CWlmIChmaXJzdFNlbGVjdGVkT2JqZWN0LmNhbkFkZFNpYmxpbmcoSUN0eEhlbHBDb25zdGFudHMu
VFlQRV9UT1BJQykpIHsNCisJCQkJZW5hYmxlQWRkID0gdHJ1ZTsNCisJCQl9IGVsc2UgaWYgKGZp
cnN0U2VsZWN0ZWRPYmplY3QuY2FuQWRkQ2hpbGQoSUN0eEhlbHBDb25zdGFudHMuVFlQRV9UT1BJ
QykpIHsNCisJCQkJZW5hYmxlQWRkID0gdHJ1ZTsNCisJCQl9DQorCQl9DQorCQlnZXRUcmVlUGFy
dCgpLnNldEJ1dHRvbkVuYWJsZWQoRl9CVVRUT05fQUREX1RPUElDLCBlbmFibGVBZGQpOw0KKw0K
KwkJLy8gQWRkIENvbW1hbmQNCisJCWVuYWJsZUFkZCA9IGZhbHNlOw0KKwkJaWYgKGZpcnN0U2Vs
ZWN0ZWRPYmplY3QgIT0gbnVsbCkgew0KKwkJCWlmIChmaXJzdFNlbGVjdGVkT2JqZWN0LmNhbkFk
ZFNpYmxpbmcoSUN0eEhlbHBDb25zdGFudHMuVFlQRV9DT01NQU5EKSkgew0KKwkJCQllbmFibGVB
ZGQgPSB0cnVlOw0KKwkJCX0gZWxzZSBpZiAoZmlyc3RTZWxlY3RlZE9iamVjdC5jYW5BZGRDaGls
ZChJQ3R4SGVscENvbnN0YW50cy5UWVBFX0NPTU1BTkQpKSB7DQorCQkJCWVuYWJsZUFkZCA9IHRy
dWU7DQorCQkJfQ0KKwkJfQ0KKwkJZ2V0VHJlZVBhcnQoKS5zZXRCdXR0b25FbmFibGVkKEZfQlVU
VE9OX0FERF9DT01NQU5ELCBlbmFibGVBZGQpOw0KKw0KKwkJLy8gUmVtb3ZlIGJ1dHRvbg0KKwkJ
Z2V0VHJlZVBhcnQoKS5zZXRCdXR0b25FbmFibGVkKEZfQlVUVE9OX1JFTU9WRSwgZ2V0UmVtb3Zh
YmxlT2JqZWN0RnJvbVNlbGVjdGlvbihzZWxlY3Rpb24pLnNpemUoKSA+IDApOw0KKw0KKwkJLy8g
VXAgYW5kIERvd24gYnV0dG9ucw0KKwkJYm9vbGVhbiBjYW5Nb3ZlVXAgPSB0cnVlOw0KKwkJYm9v
bGVhbiBjYW5Nb3ZlRG93biA9IHRydWU7DQorCQlpZiAoZmlyc3RTZWxlY3RlZE9iamVjdCA9PSBu
dWxsIHx8IGZpcnN0U2VsZWN0ZWRPYmplY3QuZ2V0VHlwZSgpID09IElDdHhIZWxwQ29uc3RhbnRz
LlRZUEVfUk9PVCB8fCBmaXJzdFNlbGVjdGVkT2JqZWN0LmdldFR5cGUoKSA9PSBJQ3R4SGVscENv
bnN0YW50cy5UWVBFX0RFU0NSSVBUSU9OIHx8IHNlbGVjdGlvbi5zaXplKCkgPiAxKSB7DQorCQkJ
Y2FuTW92ZVVwID0gZmFsc2U7DQorCQkJY2FuTW92ZURvd24gPSBmYWxzZTsNCisJCX0gZWxzZSB7
DQorCQkJQ3R4SGVscE9iamVjdCBwYXJlbnQgPSBmaXJzdFNlbGVjdGVkT2JqZWN0LmdldFBhcmVu
dCgpOw0KKwkJCWlmIChwYXJlbnQgIT0gbnVsbCkgew0KKwkJCQlpbnQgaW5kZXggPSBwYXJlbnQu
aW5kZXhPZihmaXJzdFNlbGVjdGVkT2JqZWN0KTsNCisJCQkJaWYgKGluZGV4ID09IDApIHsNCisJ
CQkJCWNhbk1vdmVVcCA9IGZhbHNlOw0KKwkJCQl9DQorCQkJCWlmIChpbmRleCA+PSBwYXJlbnQu
Z2V0Q2hpbGRDb3VudCgpIC0gMSkgew0KKwkJCQkJY2FuTW92ZURvd24gPSBmYWxzZTsNCisJCQkJ
fQ0KKwkJCX0NCisJCX0NCisJCWdldFRyZWVQYXJ0KCkuc2V0QnV0dG9uRW5hYmxlZChGX0JVVFRP
Tl9VUCwgY2FuTW92ZVVwKTsNCisJCWdldFRyZWVQYXJ0KCkuc2V0QnV0dG9uRW5hYmxlZChGX0JV
VFRPTl9ET1dOLCBjYW5Nb3ZlRG93bik7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkg
KiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuU3RydWN0dXJlZFZpZXdl
clNlY3Rpb24jZmlsbENvbnRleHRNZW51KG9yZy5lY2xpcHNlLmpmYWNlLmFjdGlvbi5JTWVudU1h
bmFnZXIpDQorCSAqLw0KKwlwcm90ZWN0ZWQgdm9pZCBmaWxsQ29udGV4dE1lbnUoSU1lbnVNYW5h
Z2VyIG1hbmFnZXIpIHsNCisJCUlTdHJ1Y3R1cmVkU2VsZWN0aW9uIHNlbGVjdGlvbiA9IChJU3Ry
dWN0dXJlZFNlbGVjdGlvbikgZlRyZWUuZ2V0U2VsZWN0aW9uKCk7DQorCQlPYmplY3Qgb2JqZWN0
ID0gc2VsZWN0aW9uLmdldEZpcnN0RWxlbWVudCgpOw0KKwkJLy8gSGFzIHRvIGJlIG51bGwgb3Ig
YSBDdHhIZWxwT2JqZWN0IG9iamVjdA0KKwkJQ3R4SGVscE9iamVjdCBmaXJzdFNlbGVjdGVkT2Jq
ZWN0ID0gKEN0eEhlbHBPYmplY3QpIG9iamVjdDsNCisNCisJCS8vIFBvcHVsYXRlIHRoZSAiTmV3
IiBzdWItbWVudQ0KKwkJaWYgKGZpcnN0U2VsZWN0ZWRPYmplY3QgIT0gbnVsbCkgew0KKwkJCU1l
bnVNYW5hZ2VyIHN1Ym1lbnUgPSBuZXcgTWVudU1hbmFnZXIoUERFVUlNZXNzYWdlcy5NZW51c19u
ZXdfbGFiZWwpOw0KKwkJCWJvb2xlYW4gYWRkTWVudSA9IGZhbHNlOw0KKwkJCWlmICh1cGRhdGVB
ZGRDb250ZXh0QWN0aW9uV2l0aFNlbGVjdGlvbihmaXJzdFNlbGVjdGVkT2JqZWN0KSkgew0KKwkJ
CQlzdWJtZW51LmFkZChmQWRkQ29udGV4dEFjdGlvbik7DQorCQkJCWFkZE1lbnUgPSB0cnVlOw0K
KwkJCX0NCisJCQlpZiAodXBkYXRlQWRkVG9waWNBY3Rpb25XaXRoU2VsZWN0aW9uKGZpcnN0U2Vs
ZWN0ZWRPYmplY3QpKSB7DQorCQkJCXN1Ym1lbnUuYWRkKGZBZGRUb3BpY0FjdGlvbik7DQorCQkJ
CWFkZE1lbnUgPSB0cnVlOw0KKwkJCX0NCisJCQlpZiAodXBkYXRlQWRkQ29tbWFuZEFjdGlvbldp
dGhTZWxlY3Rpb24oZmlyc3RTZWxlY3RlZE9iamVjdCkpIHsNCisJCQkJc3VibWVudS5hZGQoZkFk
ZENvbW1hbmRBY3Rpb24pOw0KKwkJCQlhZGRNZW51ID0gdHJ1ZTsNCisJCQl9DQorCQkJaWYgKGFk
ZE1lbnUpIHsNCisJCQkJbWFuYWdlci5hZGQoc3VibWVudSk7DQorCQkJCW1hbmFnZXIuYWRkKG5l
dyBTZXBhcmF0b3IoKSk7DQorCQkJfQ0KKwkJfQ0KKw0KKwkJLy8gQWRkIHRoZSBvcGVuIGxpbmsg
YW5kIHNob3cgaW4gYWN0aW9ucw0KKwkJaWYgKGZpcnN0U2VsZWN0ZWRPYmplY3QgaW5zdGFuY2Vv
ZiBDdHhIZWxwVG9waWMgJiYgKChDdHhIZWxwVG9waWMpIGZpcnN0U2VsZWN0ZWRPYmplY3QpLmdl
dExvY2F0aW9uKCkgIT0gbnVsbCkgew0KKwkJCWZPcGVuTGlua0FjdGlvbi5zZXRUYXJnZXQoKEN0
eEhlbHBUb3BpYykgZmlyc3RTZWxlY3RlZE9iamVjdCk7DQorCQkJbWFuYWdlci5hZGQoZk9wZW5M
aW5rQWN0aW9uKTsNCisJCQlmaWxsQ29udGV4dE1lbnVTaG93SW5BY3Rpb24obWFuYWdlcik7DQor
CQkJbWFuYWdlci5hZGQobmV3IFNlcGFyYXRvcigpKTsNCisJCX0NCisNCisJCS8vIEFkZCBjbGlw
Ym9hcmQgYWN0aW9ucw0KKwkJZ2V0UGFnZSgpLmdldFBERUVkaXRvcigpLmdldENvbnRyaWJ1dG9y
KCkuY29udGV4dE1lbnVBYm91dFRvU2hvdyhtYW5hZ2VyKTsNCisJCW1hbmFnZXIuYWRkKG5ldyBT
ZXBhcmF0b3IoKSk7DQorDQorCQkvLyBBZGQgcmVtb3ZlIGFjdGlvbg0KKwkJaWYgKHVwZGF0ZVJl
bW92ZUFjdGlvbldpdGhTZWxlY3Rpb24oc2VsZWN0aW9uKSkgew0KKwkJCW1hbmFnZXIuYWRkKGZS
ZW1vdmVPYmplY3RBY3Rpb24pOw0KKwkJCW1hbmFnZXIuYWRkKG5ldyBTZXBhcmF0b3IoKSk7DQor
CQl9DQorDQorCX0NCisNCisJLyoqDQorCSAqIENyZWF0ZXMgYW5kIGEgbmV3IHN1Ym1lbnUgaW4g
dGhlIGdpdmVuIG1lbnUgbWFuYWdlciBhbmQgYWRkcyBhY3Rpb25zIHRvDQorCSAqIGFsbG93IGEg
bGlua2VkIGZpbGUgdG8gYmUgb3BlbmVkIGluIHZhcmlvdXMgdmlld3MuDQorCSAqIEBwYXJhbSBt
YW5hZ2VyIG1lbnUgbWFuYWdlciB0byBhZGQgdGhlIHN1Ym1lbnUgdG8NCisJICovDQorCXByaXZh
dGUgdm9pZCBmaWxsQ29udGV4dE1lbnVTaG93SW5BY3Rpb24oSU1lbnVNYW5hZ2VyIG1hbmFnZXIp
IHsNCisJCVN0cmluZyBzaG93SW5MYWJlbCA9IFBERVVJTWVzc2FnZXMuUGx1Z2luc1ZpZXdfc2hv
d0luOw0KKw0KKwkJLy8gQWRkIGEgbGFiZWwgZm9yIHRoZSBrZXliaW5kaW5nIGZvciBTaG93IElu
IGFjdGlvbiwgaWYgb25lIGV4aXN0cw0KKwkJSUJpbmRpbmdTZXJ2aWNlIGJpbmRpbmdTZXJ2aWNl
ID0gKElCaW5kaW5nU2VydmljZSkgUGxhdGZvcm1VSS5nZXRXb3JrYmVuY2goKS5nZXRBZGFwdGVy
KElCaW5kaW5nU2VydmljZS5jbGFzcyk7DQorCQlpZiAoYmluZGluZ1NlcnZpY2UgIT0gbnVsbCkg
ew0KKwkJCVN0cmluZyBrZXlCaW5kaW5nID0gYmluZGluZ1NlcnZpY2UuZ2V0QmVzdEFjdGl2ZUJp
bmRpbmdGb3JtYXR0ZWRGb3IoIm9yZy5lY2xpcHNlLnVpLm5hdmlnYXRlLnNob3dJblF1aWNrTWVu
dSIpOyAvLyROT04tTkxTLTEkDQorCQkJaWYgKGtleUJpbmRpbmcgIT0gbnVsbCkgew0KKwkJCQlz
aG93SW5MYWJlbCArPSAnXHQnICsga2V5QmluZGluZzsNCisJCQl9DQorCQl9DQorDQorCQlJTWVu
dU1hbmFnZXIgc2hvd0luTWVudSA9IG5ldyBNZW51TWFuYWdlcihzaG93SW5MYWJlbCk7DQorCQlz
aG93SW5NZW51LmFkZChDb250cmlidXRpb25JdGVtRmFjdG9yeS5WSUVXU19TSE9XX0lOLmNyZWF0
ZShnZXRQYWdlKCkuZ2V0U2l0ZSgpLmdldFdvcmtiZW5jaFdpbmRvdygpKSk7DQorDQorCQltYW5h
Z2VyLmFkZChzaG93SW5NZW51KTsNCisJfQ0KKw0KKwkvKioNCisJICogVXBkYXRlcyB0aGUgYWRk
IGNvbnRleHQgYWN0aW9uIGlmIHRoZSBhY3Rpb24gc2hvdWxkIGJlIGF2YWlsYWJsZSBmb3IgdGhl
IHNlbGVjdGlvbi4NCisJICogVXBkYXRlcyBlbmFibGVtZW50LCBwYXJlbnQgb2JqZWN0IGFuZCB0
YXJnZXQgb2JqZWN0LiAgUmV0dXJucyB0cnVlIGlmIHRoZSBhY3Rpb24NCisJICogc2hvdWxkIGJl
IGF2YWlsYWJsZSB0byB0aGUgc2VsZWN0aW9uLiANCisJICogQHBhcmFtIHNlbGVjdGVkT2JqZWN0
IHNlbGVjdGVkIG9iamVjdA0KKwkgKiBAcmV0dXJuIHRydWUgaWYgdGhlIGFjdGlvbiBzaG91bGQg
YmUgYXZhaWxhYmxlIGZvciB0aGUgY3VycmVudCBzZWxlY3Rpb24sIGZhbHNlIG90aGVyd2lzZQ0K
KwkgKi8NCisJcHJpdmF0ZSBib29sZWFuIHVwZGF0ZUFkZENvbnRleHRBY3Rpb25XaXRoU2VsZWN0
aW9uKEN0eEhlbHBPYmplY3Qgc2VsZWN0ZWRPYmplY3QpIHsNCisJCWlmIChzZWxlY3RlZE9iamVj
dCAhPSBudWxsICYmIHNlbGVjdGVkT2JqZWN0LmNhbkFkZFNpYmxpbmcoSUN0eEhlbHBDb25zdGFu
dHMuVFlQRV9DT05URVhUKSkgew0KKwkJCWZBZGRDb250ZXh0QWN0aW9uLnNldFBhcmVudE9iamVj
dChzZWxlY3RlZE9iamVjdC5nZXRQYXJlbnQoKSk7DQorCQkJZkFkZENvbnRleHRBY3Rpb24uc2V0
VGFyZ2V0T2JqZWN0KHNlbGVjdGVkT2JqZWN0KTsNCisJCQlmQWRkQ29udGV4dEFjdGlvbi5zZXRF
bmFibGVkKGZNb2RlbC5pc0VkaXRhYmxlKCkpOw0KKwkJCXJldHVybiB0cnVlOw0KKwkJfSBlbHNl
IGlmIChzZWxlY3RlZE9iamVjdCAhPSBudWxsICYmIHNlbGVjdGVkT2JqZWN0LmNhbkFkZENoaWxk
KElDdHhIZWxwQ29uc3RhbnRzLlRZUEVfQ09OVEVYVCkpIHsNCisJCQlmQWRkQ29udGV4dEFjdGlv
bi5zZXRQYXJlbnRPYmplY3Qoc2VsZWN0ZWRPYmplY3QpOw0KKwkJCWZBZGRDb250ZXh0QWN0aW9u
LnNldFRhcmdldE9iamVjdChudWxsKTsNCisJCQlmQWRkQ29udGV4dEFjdGlvbi5zZXRFbmFibGVk
KGZNb2RlbC5pc0VkaXRhYmxlKCkpOw0KKwkJCXJldHVybiB0cnVlOw0KKwkJfSBlbHNlIGlmIChm
TW9kZWwuZ2V0Q3R4SGVscFJvb3QoKS5jYW5BZGRDaGlsZChJQ3R4SGVscENvbnN0YW50cy5UWVBF
X0NPTlRFWFQpKSB7DQorCQkJZkFkZENvbnRleHRBY3Rpb24uc2V0UGFyZW50T2JqZWN0KGZNb2Rl
bC5nZXRDdHhIZWxwUm9vdCgpKTsNCisJCQlmQWRkQ29udGV4dEFjdGlvbi5zZXRUYXJnZXRPYmpl
Y3QobnVsbCk7DQorCQkJZkFkZENvbnRleHRBY3Rpb24uc2V0RW5hYmxlZChmTW9kZWwuaXNFZGl0
YWJsZSgpKTsNCisJCQlyZXR1cm4gdHJ1ZTsNCisJCX0NCisJCXJldHVybiBmYWxzZTsNCisJfQ0K
Kw0KKwkvKioNCisJICogVXBkYXRlcyB0aGUgYWRkIHRvcGljIGFjdGlvbiBpZiB0aGUgYWN0aW9u
IHNob3VsZCBiZSBhdmFpbGFibGUgZm9yIHRoZSBzZWxlY3Rpb24uDQorCSAqIFVwZGF0ZXMgZW5h
YmxlbWVudCwgcGFyZW50IG9iamVjdCBhbmQgdGFyZ2V0IG9iamVjdC4gIFJldHVybnMgdHJ1ZSBp
ZiB0aGUgYWN0aW9uDQorCSAqIHNob3VsZCBiZSBhdmFpbGFibGUgdG8gdGhlIHNlbGVjdGlvbi4g
DQorCSAqIEBwYXJhbSBzZWxlY3RlZE9iamVjdCBzZWxlY3RlZCBvYmplY3QNCisJICogQHJldHVy
biB0cnVlIGlmIHRoZSBhY3Rpb24gc2hvdWxkIGJlIGF2YWlsYWJsZSBmb3IgdGhlIGN1cnJlbnQg
c2VsZWN0aW9uLCBmYWxzZSBvdGhlcndpc2UNCisJICovDQorCXByaXZhdGUgYm9vbGVhbiB1cGRh
dGVBZGRUb3BpY0FjdGlvbldpdGhTZWxlY3Rpb24oQ3R4SGVscE9iamVjdCBzZWxlY3RlZE9iamVj
dCkgew0KKwkJaWYgKHNlbGVjdGVkT2JqZWN0ICE9IG51bGwpIHsNCisJCQlpZiAoc2VsZWN0ZWRP
YmplY3QuY2FuQWRkU2libGluZyhJQ3R4SGVscENvbnN0YW50cy5UWVBFX1RPUElDKSkgew0KKwkJ
CQlmQWRkVG9waWNBY3Rpb24uc2V0UGFyZW50T2JqZWN0KHNlbGVjdGVkT2JqZWN0LmdldFBhcmVu
dCgpKTsNCisJCQkJZkFkZFRvcGljQWN0aW9uLnNldFRhcmdldE9iamVjdChzZWxlY3RlZE9iamVj
dCk7DQorCQkJCWZBZGRUb3BpY0FjdGlvbi5zZXRFbmFibGVkKGZNb2RlbC5pc0VkaXRhYmxlKCkp
Ow0KKwkJCQlyZXR1cm4gdHJ1ZTsNCisJCQl9IGVsc2UgaWYgKHNlbGVjdGVkT2JqZWN0LmNhbkFk
ZENoaWxkKElDdHhIZWxwQ29uc3RhbnRzLlRZUEVfVE9QSUMpKSB7DQorCQkJCWZBZGRUb3BpY0Fj
dGlvbi5zZXRQYXJlbnRPYmplY3Qoc2VsZWN0ZWRPYmplY3QpOw0KKwkJCQlmQWRkVG9waWNBY3Rp
b24uc2V0VGFyZ2V0T2JqZWN0KG51bGwpOw0KKwkJCQlmQWRkVG9waWNBY3Rpb24uc2V0RW5hYmxl
ZChmTW9kZWwuaXNFZGl0YWJsZSgpKTsNCisJCQkJcmV0dXJuIHRydWU7DQorCQkJfQ0KKwkJfQ0K
KwkJcmV0dXJuIGZhbHNlOw0KKwl9DQorDQorCS8qKg0KKwkgKiBVcGRhdGVzIHRoZSBhZGQgdG9w
aWMgYWN0aW9uIGlmIHRoZSBhY3Rpb24gc2hvdWxkIGJlIGF2YWlsYWJsZSBmb3IgdGhlIHNlbGVj
dGlvbi4NCisJICogVXBkYXRlcyBlbmFibGVtZW50LCBwYXJlbnQgb2JqZWN0IGFuZCB0YXJnZXQg
b2JqZWN0LiAgUmV0dXJucyB0cnVlIGlmIHRoZSBhY3Rpb24NCisJICogc2hvdWxkIGJlIGF2YWls
YWJsZSB0byB0aGUgc2VsZWN0aW9uLiANCisJICogQHBhcmFtIHNlbGVjdGVkT2JqZWN0IHNlbGVj
dGVkIG9iamVjdA0KKwkgKiBAcmV0dXJuIHRydWUgaWYgdGhlIGFjdGlvbiBzaG91bGQgYmUgYXZh
aWxhYmxlIGZvciB0aGUgY3VycmVudCBzZWxlY3Rpb24sIGZhbHNlIG90aGVyd2lzZQ0KKwkgKi8N
CisJcHJpdmF0ZSBib29sZWFuIHVwZGF0ZUFkZENvbW1hbmRBY3Rpb25XaXRoU2VsZWN0aW9uKEN0
eEhlbHBPYmplY3Qgc2VsZWN0ZWRPYmplY3QpIHsNCisJCWlmIChzZWxlY3RlZE9iamVjdCAhPSBu
dWxsKSB7DQorCQkJaWYgKHNlbGVjdGVkT2JqZWN0LmNhbkFkZFNpYmxpbmcoSUN0eEhlbHBDb25z
dGFudHMuVFlQRV9DT01NQU5EKSkgew0KKwkJCQlmQWRkQ29tbWFuZEFjdGlvbi5zZXRQYXJlbnRP
YmplY3Qoc2VsZWN0ZWRPYmplY3QuZ2V0UGFyZW50KCkpOw0KKwkJCQlmQWRkQ29tbWFuZEFjdGlv
bi5zZXRUYXJnZXRPYmplY3Qoc2VsZWN0ZWRPYmplY3QpOw0KKwkJCQlmQWRkQ29tbWFuZEFjdGlv
bi5zZXRFbmFibGVkKGZNb2RlbC5pc0VkaXRhYmxlKCkpOw0KKwkJCQlyZXR1cm4gdHJ1ZTsNCisJ
CQl9IGVsc2UgaWYgKHNlbGVjdGVkT2JqZWN0LmNhbkFkZENoaWxkKElDdHhIZWxwQ29uc3RhbnRz
LlRZUEVfQ09NTUFORCkpIHsNCisJCQkJZkFkZENvbW1hbmRBY3Rpb24uc2V0UGFyZW50T2JqZWN0
KHNlbGVjdGVkT2JqZWN0KTsNCisJCQkJZkFkZENvbW1hbmRBY3Rpb24uc2V0VGFyZ2V0T2JqZWN0
KG51bGwpOw0KKwkJCQlmQWRkQ29tbWFuZEFjdGlvbi5zZXRFbmFibGVkKGZNb2RlbC5pc0VkaXRh
YmxlKCkpOw0KKwkJCQlyZXR1cm4gdHJ1ZTsNCisJCQl9DQorCQl9DQorCQlyZXR1cm4gZmFsc2U7
DQorCX0NCisNCisJLyoqDQorCSAqIFVwZGF0ZXMgdGhlIHJlbW92ZSBhY3Rpb24gaWYgdGhlIGFj
dGlvbiBzaG91bGQgYmUgYXZhaWxhYmxlIGZvciB0aGUgc2VsZWN0aW9uLg0KKwkgKiBVcGRhdGVz
IGVuYWJsZW1lbnQsIHBhcmVudCBvYmplY3QgYW5kIHRhcmdldCBvYmplY3QuICBSZXR1cm5zIHRy
dWUgaWYgdGhlIGFjdGlvbg0KKwkgKiBzaG91bGQgYmUgYXZhaWxhYmxlIHRvIHRoZSBzZWxlY3Rp
b24uIA0KKwkgKiBAcGFyYW0gc2VsZWN0ZWRPYmplY3Qgc2VsZWN0ZWQgb2JqZWN0DQorCSAqIEBy
ZXR1cm4gdHJ1ZSBpZiB0aGUgYWN0aW9uIHNob3VsZCBiZSBhdmFpbGFibGUgZm9yIHRoZSBjdXJy
ZW50IHNlbGVjdGlvbiwgZmFsc2Ugb3RoZXJ3aXNlDQorCSAqLw0KKwlwcml2YXRlIGJvb2xlYW4g
dXBkYXRlUmVtb3ZlQWN0aW9uV2l0aFNlbGVjdGlvbihJU3RydWN0dXJlZFNlbGVjdGlvbiBzZWxl
Y3Rpb24pIHsNCisJCUxpc3Qgb2JqZWN0c1RvUmVtb3ZlID0gZ2V0UmVtb3ZhYmxlT2JqZWN0RnJv
bVNlbGVjdGlvbihzZWxlY3Rpb24pOw0KKwkJZlJlbW92ZU9iamVjdEFjdGlvbi5zZXRUb1JlbW92
ZSgoQ3R4SGVscE9iamVjdFtdKSBvYmplY3RzVG9SZW1vdmUudG9BcnJheShuZXcgQ3R4SGVscE9i
amVjdFtvYmplY3RzVG9SZW1vdmUuc2l6ZSgpXSkpOw0KKwkJZlJlbW92ZU9iamVjdEFjdGlvbi5z
ZXRFbmFibGVkKGZNb2RlbC5pc0VkaXRhYmxlKCkpOw0KKwkJcmV0dXJuIG9iamVjdHNUb1JlbW92
ZS5zaXplKCkgPiAwOw0KKwl9DQorDQorCS8qKg0KKwkgKiBSZXR1cm5zIGEgbGlzdCBvZiBvYmpl
Y3RzIHRoYXQgaXMgdGhlIHN1YnNldCBvZiBvYmplY3RzIGluIHRoZSBzZWxlY3Rpb24gdGhhdA0K
KwkgKiBjYW4gYmUgcmVtb3ZlZC4NCisJICogQHBhcmFtIHNlbGVjdGlvbiB0aGUgc2VsZWN0aW9u
DQorCSAqIEByZXR1cm4gbGlzdCBvZiB7QGxpbmsgQ3R4SGVscE9iamVjdH1zIHRoYXQgY2FuIGJl
IHJlbW92ZWQsIHBvc3NpYmx5IGVtcHR5Lg0KKwkgKi8NCisJcHJpdmF0ZSBMaXN0IGdldFJlbW92
YWJsZU9iamVjdEZyb21TZWxlY3Rpb24oSVN0cnVjdHVyZWRTZWxlY3Rpb24gc2VsZWN0aW9uKSB7
DQorCQlMaXN0IG9iamVjdHNUb1JlbW92ZSA9IG5ldyBBcnJheUxpc3QoKTsNCisJCWZvciAoSXRl
cmF0b3IgaXRlcmF0b3IgPSBzZWxlY3Rpb24uaXRlcmF0b3IoKTsgaXRlcmF0b3IuaGFzTmV4dCgp
Oykgew0KKwkJCU9iamVjdCBjdXJyZW50T2JqZWN0ID0gaXRlcmF0b3IubmV4dCgpOw0KKwkJCWlm
IChjdXJyZW50T2JqZWN0IGluc3RhbmNlb2YgQ3R4SGVscE9iamVjdCAmJiAoKEN0eEhlbHBPYmpl
Y3QpIGN1cnJlbnRPYmplY3QpLmNhbkJlUmVtb3ZlZCgpKSB7DQorCQkJCW9iamVjdHNUb1JlbW92
ZS5hZGQoY3VycmVudE9iamVjdCk7DQorCQkJfQ0KKwkJfQ0KKwkJcmV0dXJuIG9iamVjdHNUb1Jl
bW92ZTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2Uu
cGRlLmludGVybmFsLnVpLmVkaXRvci5QREVTZWN0aW9uI2RvR2xvYmFsQWN0aW9uKGphdmEubGFu
Zy5TdHJpbmcpDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBkb0dsb2JhbEFjdGlvbihTdHJpbmcg
YWN0aW9uSWQpIHsNCisJCWJvb2xlYW4gY3V0QWN0aW9uID0gYWN0aW9uSWQuZXF1YWxzKEFjdGlv
bkZhY3RvcnkuQ1VULmdldElkKCkpOw0KKw0KKwkJaWYgKGN1dEFjdGlvbiB8fCBhY3Rpb25JZC5l
cXVhbHMoQWN0aW9uRmFjdG9yeS5ERUxFVEUuZ2V0SWQoKSkpIHsNCisJCQl1cGRhdGVSZW1vdmVB
Y3Rpb25XaXRoU2VsZWN0aW9uKChJU3RydWN0dXJlZFNlbGVjdGlvbikgZlRyZWUuZ2V0U2VsZWN0
aW9uKCkpOw0KKwkJCWZSZW1vdmVPYmplY3RBY3Rpb24ucnVuKCk7DQorCQkJcmV0dXJuICFjdXRB
Y3Rpb247DQorCQl9DQorDQorCQlpZiAoYWN0aW9uSWQuZXF1YWxzKEFjdGlvbkZhY3RvcnkuUEFT
VEUuZ2V0SWQoKSkpIHsNCisJCQlkb1Bhc3RlKCk7DQorCQkJcmV0dXJuIHRydWU7DQorCQl9DQor
DQorCQlyZXR1cm4gZmFsc2U7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2Vl
IG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuU3RydWN0dXJlZFZpZXdlclNlY3Rp
b24jY2FuUGFzdGUoamF2YS5sYW5nLk9iamVjdCwgamF2YS5sYW5nLk9iamVjdFtdKQ0KKwkgKi8N
CisJcHJvdGVjdGVkIGJvb2xlYW4gY2FuUGFzdGUoT2JqZWN0IHRhcmdldE9iamVjdCwgT2JqZWN0
W10gc291cmNlT2JqZWN0cykgew0KKwkJcmV0dXJuIGNhbkRyb3BDb3B5KHRhcmdldE9iamVjdCwg
c291cmNlT2JqZWN0cywgVmlld2VyRHJvcEFkYXB0ZXIuTE9DQVRJT05fT04pOw0KKwl9DQorDQor
CS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWku
ZWRpdG9yLlN0cnVjdHVyZWRWaWV3ZXJTZWN0aW9uI2RvUGFzdGUoamF2YS5sYW5nLk9iamVjdCwg
amF2YS5sYW5nLk9iamVjdFtdKQ0KKwkgKi8NCisJcHJvdGVjdGVkIHZvaWQgZG9QYXN0ZShPYmpl
Y3QgdGFyZ2V0T2JqZWN0LCBPYmplY3RbXSBzb3VyY2VPYmplY3RzKSB7DQorCQlkb0Ryb3BDb3B5
KHRhcmdldE9iamVjdCwgc291cmNlT2JqZWN0cywgVmlld2VyRHJvcEFkYXB0ZXIuTE9DQVRJT05f
T04pOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5w
ZGUuaW50ZXJuYWwudWkuZWRpdG9yLlRyZWVTZWN0aW9uI2hhbmRsZURvdWJsZUNsaWNrKG9yZy5l
Y2xpcHNlLmpmYWNlLnZpZXdlcnMuSVN0cnVjdHVyZWRTZWxlY3Rpb24pDQorCSAqLw0KKwlwcm90
ZWN0ZWQgdm9pZCBoYW5kbGVEb3VibGVDbGljayhJU3RydWN0dXJlZFNlbGVjdGlvbiBzZWxlY3Rp
b24pIHsNCisJCU9iamVjdCBzZWxlY3RlZCA9IHNlbGVjdGlvbi5nZXRGaXJzdEVsZW1lbnQoKTsN
CisJCWlmIChzZWxlY3RlZCBpbnN0YW5jZW9mIEN0eEhlbHBUb3BpYykgew0KKwkJCW9wZW4oKEN0
eEhlbHBUb3BpYykgc2VsZWN0ZWQpOw0KKwkJfSBlbHNlIGlmIChzZWxlY3RlZCBpbnN0YW5jZW9m
IEN0eEhlbHBPYmplY3QpIHsNCisJCQlmVHJlZS5zZXRFeHBhbmRlZFN0YXRlKHNlbGVjdGVkLCAh
ZlRyZWUuZ2V0RXhwYW5kZWRTdGF0ZShzZWxlY3RlZCkpOw0KKwkJfQ0KKwl9DQorDQorCS8qKg0K
KwkgKiBPcGVucyB0aGUgZmlsZSB0aGF0IGlzIGxpbmtlZCBpbiB0aGUgZ2l2ZW4gdG9waWMuDQor
CSAqIEBwYXJhbSB0b3BpYyB0aGUgdG9waWMgY29udGFpbmluZyBhIGxpbmsgdG8gYSBmaWxlDQor
CSAqLw0KKwlwdWJsaWMgdm9pZCBvcGVuKEN0eEhlbHBUb3BpYyB0b3BpYykgew0KKwkJSVBhdGgg
cmVzb3VyY2VQYXRoID0gdG9waWMuZ2V0TG9jYXRpb24oKTsNCisJCWlmICghaXNFZGl0YWJsZSgp
IHx8IHJlc291cmNlUGF0aCA9PSBudWxsIHx8IHJlc291cmNlUGF0aC5pc0VtcHR5KCkpIHsNCisJ
CQlNZXNzYWdlRGlhbG9nLm9wZW5XYXJuaW5nKFBERVBsdWdpbi5nZXRBY3RpdmVXb3JrYmVuY2hT
aGVsbCgpLCBQREVVSU1lc3NhZ2VzLldpbmRvd0ltYWdlc1NlY3Rpb25fb3BlbiwgUERFVUlNZXNz
YWdlcy5XaW5kb3dJbWFnZXNTZWN0aW9uX2VtcHR5UGF0aCk7DQorCQkJcmV0dXJuOw0KKwkJfQ0K
Kw0KKwkJSVJlc291cmNlIHJlc291cmNlID0gZk1vZGVsLmdldFVuZGVybHlpbmdSZXNvdXJjZSgp
LmdldFByb2plY3QoKS5maW5kTWVtYmVyKHJlc291cmNlUGF0aCk7DQorCQlpZiAocmVzb3VyY2Ug
IT0gbnVsbCAmJiByZXNvdXJjZSBpbnN0YW5jZW9mIElGaWxlKSB7DQorCQkJSVBhdGggcGF0aCA9
IHJlc291cmNlLmdldEZ1bGxQYXRoKCk7DQorCQkJaWYgKEhlbHBFZGl0b3JVdGlsLmhhc1ZhbGlk
UGFnZUV4dGVuc2lvbihwYXRoKSkgew0KKwkJCQl0cnkgew0KKwkJCQkJSURFLm9wZW5FZGl0b3Io
UERFUGx1Z2luLmdldEFjdGl2ZVBhZ2UoKSwgKElGaWxlKSByZXNvdXJjZSwgdHJ1ZSk7DQorCQkJ
CX0gY2F0Y2ggKFBhcnRJbml0RXhjZXB0aW9uIGUpIHsgLy9zdXBwcmVzcyBleGNlcHRpb24NCisJ
CQkJfQ0KKwkJCX0gZWxzZSB7DQorCQkJCU1lc3NhZ2VEaWFsb2cub3Blbldhcm5pbmcoUERFUGx1
Z2luLmdldEFjdGl2ZVdvcmtiZW5jaFNoZWxsKCksIFBERVVJTWVzc2FnZXMuV2luZG93SW1hZ2Vz
U2VjdGlvbl9vcGVuLCBQREVVSU1lc3NhZ2VzLlRvY1BhZ2VfaW52YWxpZEhUTUxGaWxlKTsNCisJ
CQl9DQorCQl9IGVsc2Ugew0KKwkJCU1lc3NhZ2VEaWFsb2cub3Blbldhcm5pbmcoUERFUGx1Z2lu
LmdldEFjdGl2ZVdvcmtiZW5jaFNoZWxsKCksIFBERVVJTWVzc2FnZXMuV2luZG93SW1hZ2VzU2Vj
dGlvbl9vcGVuLCBQREVVSU1lc3NhZ2VzLldpbmRvd0ltYWdlc1NlY3Rpb25fd2FybmluZyk7DQor
CQl9DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBk
ZS5pbnRlcm5hbC51aS5lZGl0b3IuU3RydWN0dXJlZFZpZXdlclNlY3Rpb24jYnV0dG9uU2VsZWN0
ZWQoaW50KQ0KKwkgKi8NCisJcHJvdGVjdGVkIHZvaWQgYnV0dG9uU2VsZWN0ZWQoaW50IGluZGV4
KSB7DQorCQlJU3RydWN0dXJlZFNlbGVjdGlvbiBzZWxlY3Rpb24gPSAoSVN0cnVjdHVyZWRTZWxl
Y3Rpb24pIGZUcmVlLmdldFNlbGVjdGlvbigpOw0KKwkJT2JqZWN0IG9iamVjdCA9IHNlbGVjdGlv
bi5nZXRGaXJzdEVsZW1lbnQoKTsNCisJCUN0eEhlbHBPYmplY3QgZmlyc3RTZWxlY3RlZE9iamVj
dCA9IChDdHhIZWxwT2JqZWN0KSBvYmplY3Q7DQorCQlzd2l0Y2ggKGluZGV4KSB7DQorCQkJY2Fz
ZSBGX0JVVFRPTl9BRERfQ09OVEVYVCA6DQorCQkJCXVwZGF0ZUFkZENvbnRleHRBY3Rpb25XaXRo
U2VsZWN0aW9uKGZpcnN0U2VsZWN0ZWRPYmplY3QpOw0KKwkJCQlmQWRkQ29udGV4dEFjdGlvbi5y
dW4oKTsNCisJCQkJYnJlYWs7DQorCQkJY2FzZSBGX0JVVFRPTl9BRERfVE9QSUMgOg0KKwkJCQl1
cGRhdGVBZGRUb3BpY0FjdGlvbldpdGhTZWxlY3Rpb24oZmlyc3RTZWxlY3RlZE9iamVjdCk7DQor
CQkJCWZBZGRUb3BpY0FjdGlvbi5ydW4oKTsNCisJCQkJYnJlYWs7DQorCQkJY2FzZSBGX0JVVFRP
Tl9BRERfQ09NTUFORCA6DQorCQkJCXVwZGF0ZUFkZENvbW1hbmRBY3Rpb25XaXRoU2VsZWN0aW9u
KGZpcnN0U2VsZWN0ZWRPYmplY3QpOw0KKwkJCQlmQWRkQ29tbWFuZEFjdGlvbi5ydW4oKTsNCisJ
CQkJYnJlYWs7DQorCQkJY2FzZSBGX0JVVFRPTl9SRU1PVkUgOg0KKwkJCQl1cGRhdGVSZW1vdmVB
Y3Rpb25XaXRoU2VsZWN0aW9uKHNlbGVjdGlvbik7DQorCQkJCWZSZW1vdmVPYmplY3RBY3Rpb24u
cnVuKCk7DQorCQkJCWJyZWFrOw0KKwkJCWNhc2UgRl9CVVRUT05fVVAgOg0KKwkJCQloYW5kbGVN
b3ZlQWN0aW9uKEZfVVBfRkxBRyk7DQorCQkJCWJyZWFrOw0KKwkJCWNhc2UgRl9CVVRUT05fRE9X
TiA6DQorCQkJCWhhbmRsZU1vdmVBY3Rpb24oRl9ET1dOX0ZMQUcpOw0KKwkJCQlicmVhazsNCisJ
CX0NCisJfQ0KKw0KKwkvKioNCisJICogTW92ZSBhbiBvYmplY3Qgd2l0aGluIHRoZSBzdHJ1Y3R1
cmUuDQorCSAqIA0KKwkgKiBAcGFyYW0gcG9zaXRpb25GbGFnIFRoZSBkaXJlY3Rpb24gdGhhdCB0
aGUgb2JqZWN0IHdpbGwgbW92ZSwgZWl0aGVyIEZfVVBfRkxBRyBvciBGX0RPV05fRkxBRw0KKwkg
Ki8NCisJcHJpdmF0ZSB2b2lkIGhhbmRsZU1vdmVBY3Rpb24oaW50IHBvc2l0aW9uRmxhZykgew0K
KwkJSVN0cnVjdHVyZWRTZWxlY3Rpb24gc2VsID0gKElTdHJ1Y3R1cmVkU2VsZWN0aW9uKSBmVHJl
ZS5nZXRTZWxlY3Rpb24oKTsNCisNCisJCU9iamVjdCBvYmplY3QgPSBzZWwuZ2V0Rmlyc3RFbGVt
ZW50KCk7DQorCQlpZiAob2JqZWN0ID09IG51bGwpIHsNCisJCQlyZXR1cm47DQorCQl9IGVsc2Ug
aWYgKG9iamVjdCBpbnN0YW5jZW9mIEN0eEhlbHBPYmplY3QpIHsNCisJCQlDdHhIZWxwT2JqZWN0
IGN0eEhlbHBPYmplY3QgPSAoQ3R4SGVscE9iamVjdCkgb2JqZWN0Ow0KKwkJCUN0eEhlbHBPYmpl
Y3QgcGFyZW50ID0gY3R4SGVscE9iamVjdC5nZXRQYXJlbnQoKTsNCisJCQlpZiAocGFyZW50ICE9
IG51bGwpIHsNCisJCQkJcGFyZW50Lm1vdmVDaGlsZChjdHhIZWxwT2JqZWN0LCBwb3NpdGlvbkZs
YWcpOw0KKwkJCQlmVHJlZS5zZXRTZWxlY3Rpb24obmV3IFN0cnVjdHVyZWRTZWxlY3Rpb24oY3R4
SGVscE9iamVjdCksIHRydWUpOw0KKwkJCX0NCisJCX0NCisNCisJfQ0KKw0KKwkvKiAobm9uLUph
dmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UudWkuZm9ybXMuQWJzdHJhY3RGb3JtUGFydCNy
ZWZyZXNoKCkNCisJICovDQorCXB1YmxpYyB2b2lkIHJlZnJlc2goKSB7DQorCQlDdHhIZWxwTW9k
ZWwgbW9kZWwgPSAoQ3R4SGVscE1vZGVsKSBnZXRQYWdlKCkuZ2V0TW9kZWwoKTsNCisJCWZUcmVl
LnNldElucHV0KG1vZGVsKTsNCisJCWZUcmVlLmV4cGFuZFRvTGV2ZWwoMik7DQorCQlmVHJlZS5z
ZXRTZWxlY3Rpb24obmV3IFN0cnVjdHVyZWRTZWxlY3Rpb24obW9kZWwuZ2V0Q3R4SGVscFJvb3Qo
KSksIHRydWUpOw0KKwkJZ2V0TWFuYWdlZEZvcm0oKS5maXJlU2VsZWN0aW9uQ2hhbmdlZCh0aGlz
LCBmVHJlZS5nZXRTZWxlY3Rpb24oKSk7DQorCQlzdXBlci5yZWZyZXNoKCk7DQorCX0NCisNCisJ
LyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xpcHNlLnVpLmZvcm1zLkFic3RyYWN0
Rm9ybVBhcnQjZGlzcG9zZSgpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBkaXNwb3NlKCkgew0KKwkJ
UERFUGx1Z2luLmdldERlZmF1bHQoKS5nZXRMYWJlbFByb3ZpZGVyKCkuZGlzY29ubmVjdCh0aGlz
KTsNCisJCXN1cGVyLmRpc3Bvc2UoKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAq
IEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5TdHJ1Y3R1cmVkVmlld2Vy
U2VjdGlvbiNpc0RyYWdBbmREcm9wRW5hYmxlZCgpDQorCSAqLw0KKwlwcm90ZWN0ZWQgYm9vbGVh
biBpc0RyYWdBbmREcm9wRW5hYmxlZCgpIHsNCisJCXJldHVybiB0cnVlOw0KKwl9DQorDQorCS8q
IChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLlN0cnVjdHVyZWRWaWV3ZXJTZWN0aW9uI2dldFN1cHBvcnRlZERORE9wZXJhdGlvbnMoKQ0K
KwkgKi8NCisJcHVibGljIGludCBnZXRTdXBwb3J0ZWRETkRPcGVyYXRpb25zKCkgew0KKwkJcmV0
dXJuIERORC5EUk9QX01PVkUgfCBETkQuRFJPUF9DT1BZOw0KKwl9DQorDQorCS8qIChub24tSmF2
YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlN0cnVj
dHVyZWRWaWV3ZXJTZWN0aW9uI2RvRHJvcENvcHkoamF2YS5sYW5nLk9iamVjdCwgamF2YS5sYW5n
Lk9iamVjdFtdLCBpbnQpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBkb0Ryb3BDb3B5KE9iamVjdCB0
YXJnZXRPYmplY3QsIE9iamVjdFtdIHNvdXJjZU9iamVjdHMsIGludCB0YXJnZXRMb2NhdGlvbikg
ew0KKwkJaWYgKGZEcm9wVGFyZ2V0UGFyZW50ICE9IG51bGwpIHsNCisJCQlpZiAoZkRyb3BUYXJn
ZXRTaWJsaW5nICE9IG51bGwpIHsNCisJCQkJaWYgKHRhcmdldExvY2F0aW9uID09IFZpZXdlckRy
b3BBZGFwdGVyLkxPQ0FUSU9OX0JFRk9SRSkgew0KKwkJCQkJZm9yIChpbnQgaSA9IDA7IGkgPCBz
b3VyY2VPYmplY3RzLmxlbmd0aDsgaSsrKSB7DQorCQkJCQkJKChDdHhIZWxwT2JqZWN0KSBzb3Vy
Y2VPYmplY3RzW2ldKS5yZWNvbm5lY3QoZkRyb3BUYXJnZXRQYXJlbnQsIGZNb2RlbCk7DQorCQkJ
CQkJZkRyb3BUYXJnZXRQYXJlbnQuYWRkQ2hpbGQoKEN0eEhlbHBPYmplY3QpIHNvdXJjZU9iamVj
dHNbaV0sIGZEcm9wVGFyZ2V0U2libGluZywgdHJ1ZSk7DQorCQkJCQl9DQorCQkJCX0gZWxzZSB7
DQorCQkJCQlmb3IgKGludCBpID0gc291cmNlT2JqZWN0cy5sZW5ndGggLSAxOyBpID49IDA7IGkt
LSkgew0KKwkJCQkJCSgoQ3R4SGVscE9iamVjdCkgc291cmNlT2JqZWN0c1tpXSkucmVjb25uZWN0
KGZEcm9wVGFyZ2V0UGFyZW50LCBmTW9kZWwpOw0KKwkJCQkJCWZEcm9wVGFyZ2V0UGFyZW50LmFk
ZENoaWxkKChDdHhIZWxwT2JqZWN0KSBzb3VyY2VPYmplY3RzW2ldLCBmRHJvcFRhcmdldFNpYmxp
bmcsIGZhbHNlKTsNCisJCQkJCX0NCisJCQkJfQ0KKwkJCX0gZWxzZSB7DQorCQkJCWZvciAoaW50
IGkgPSAwOyBpIDwgc291cmNlT2JqZWN0cy5sZW5ndGg7IGkrKykgew0KKwkJCQkJKChDdHhIZWxw
T2JqZWN0KSBzb3VyY2VPYmplY3RzW2ldKS5yZWNvbm5lY3QoZkRyb3BUYXJnZXRQYXJlbnQsIGZN
b2RlbCk7DQorCQkJCQlmRHJvcFRhcmdldFBhcmVudC5hZGRDaGlsZCgoQ3R4SGVscE9iamVjdCkg
c291cmNlT2JqZWN0c1tpXSk7DQorCQkJCX0NCisJCQl9DQorCQl9DQorCQlmRHJvcFRhcmdldFBh
cmVudCA9IG51bGw7DQorCQlmRHJvcFRhcmdldFNpYmxpbmcgPSBudWxsOw0KKwl9DQorDQorCS8q
IChub24tSmF2YWRvYykNCisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRp
dG9yLlN0cnVjdHVyZWRWaWV3ZXJTZWN0aW9uI2RvRHJvcE1vdmUoamF2YS5sYW5nLk9iamVjdCwg
amF2YS5sYW5nLk9iamVjdFtdLCBpbnQpDQorCSAqLw0KKwlwdWJsaWMgdm9pZCBkb0Ryb3BNb3Zl
KE9iamVjdCB0YXJnZXRPYmplY3QsIE9iamVjdFtdIHNvdXJjZU9iamVjdHMsIGludCB0YXJnZXRM
b2NhdGlvbikgew0KKwkJZG9Ecm9wQ29weSh0YXJnZXRPYmplY3QsIHNvdXJjZU9iamVjdHMsIHRh
cmdldExvY2F0aW9uKTsNCisJfQ0KKw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3Jn
LmVjbGlwc2UucGRlLmludGVybmFsLnVpLmVkaXRvci5TdHJ1Y3R1cmVkVmlld2VyU2VjdGlvbiNj
YW5Ecm9wQ29weShqYXZhLmxhbmcuT2JqZWN0LCBqYXZhLmxhbmcuT2JqZWN0W10sIGludCkNCisJ
ICovDQorCXB1YmxpYyBib29sZWFuIGNhbkRyb3BDb3B5KE9iamVjdCB0YXJnZXRPYmplY3QsIE9i
amVjdFtdIHNvdXJjZU9iamVjdHMsIGludCB0YXJnZXRMb2NhdGlvbikgew0KKwkJLy8gQWRkIGFz
IGEgY2hpbGQgb2YgdGhlIHJvb3QNCisJCWlmICh0YXJnZXRPYmplY3QgPT0gbnVsbCB8fCAhKHRh
cmdldE9iamVjdCBpbnN0YW5jZW9mIEN0eEhlbHBPYmplY3QgfHwgKChDdHhIZWxwT2JqZWN0KSB0
YXJnZXRPYmplY3QpLmdldFR5cGUoKSA9PSBJQ3R4SGVscENvbnN0YW50cy5UWVBFX1JPT1QpKSB7
DQorCQkJZm9yIChpbnQgaSA9IDA7IGkgPCBzb3VyY2VPYmplY3RzLmxlbmd0aDsgaSsrKSB7DQor
CQkJCWlmICghKHNvdXJjZU9iamVjdHNbaV0gaW5zdGFuY2VvZiBDdHhIZWxwT2JqZWN0KSB8fCAh
Zk1vZGVsLmdldEN0eEhlbHBSb290KCkuY2FuQWRkQ2hpbGQoKChDdHhIZWxwT2JqZWN0KSBzb3Vy
Y2VPYmplY3RzW2ldKS5nZXRUeXBlKCkpKSB7DQorCQkJCQlyZXR1cm4gZmFsc2U7DQorCQkJCX0N
CisJCQl9DQorCQkJZkRyb3BUYXJnZXRQYXJlbnQgPSBmTW9kZWwuZ2V0Q3R4SGVscFJvb3QoKTsN
CisJCQlmRHJvcFRhcmdldFNpYmxpbmcgPSBudWxsOw0KKwkJCXJldHVybiB0cnVlOw0KKwkJfQ0K
Kw0KKwkJQ3R4SGVscE9iamVjdCBkcm9wVGFyZ2V0ID0gKEN0eEhlbHBPYmplY3QpIHRhcmdldE9i
amVjdDsNCisNCisJCS8vIEFkZCBhcyBhIGNoaWxkIG9mIHRoZSB0YXJnZXQNCisJCWlmICh0YXJn
ZXRMb2NhdGlvbiA9PSBWaWV3ZXJEcm9wQWRhcHRlci5MT0NBVElPTl9PTikgew0KKwkJCWJvb2xl
YW4gcmVzdWx0ID0gdHJ1ZTsNCisJCQlmb3IgKGludCBpID0gMDsgaSA8IHNvdXJjZU9iamVjdHMu
bGVuZ3RoOyBpKyspIHsNCisJCQkJaWYgKCEoc291cmNlT2JqZWN0c1tpXSBpbnN0YW5jZW9mIEN0
eEhlbHBPYmplY3QpIHx8ICFkcm9wVGFyZ2V0LmNhbkFkZENoaWxkKCgoQ3R4SGVscE9iamVjdCkg
c291cmNlT2JqZWN0c1tpXSkuZ2V0VHlwZSgpKSkgew0KKwkJCQkJcmVzdWx0ID0gZmFsc2U7DQor
CQkJCQlicmVhazsNCisJCQkJfQ0KKwkJCX0NCisJCQkvLyBJZiBhZGRpbmcgYXMgYSBjaGlsZCB3
b3JrcywgZG8gc28sIG90aGVyd2lzZSB0cnkgYXMgYSBzaWJsaW5nDQorCQkJaWYgKHJlc3VsdCkg
ew0KKwkJCQlmRHJvcFRhcmdldFBhcmVudCA9IGRyb3BUYXJnZXQ7DQorCQkJCWZEcm9wVGFyZ2V0
U2libGluZyA9IG51bGw7DQorCQkJCXJldHVybiB0cnVlOw0KKwkJCX0NCisJCX0NCisNCisJCS8v
IEFkZCBhcyBhIHNpYmxpbmcgb2YgdGhlIHRhcmdldA0KKwkJZm9yIChpbnQgaSA9IDA7IGkgPCBz
b3VyY2VPYmplY3RzLmxlbmd0aDsgaSsrKSB7DQorCQkJaWYgKCEoc291cmNlT2JqZWN0c1tpXSBp
bnN0YW5jZW9mIEN0eEhlbHBPYmplY3QpIHx8ICFkcm9wVGFyZ2V0LmNhbkFkZFNpYmxpbmcoKChD
dHhIZWxwT2JqZWN0KSBzb3VyY2VPYmplY3RzW2ldKS5nZXRUeXBlKCkpKSB7DQorCQkJCXJldHVy
biBmYWxzZTsNCisJCQl9DQorCQl9DQorCQlmRHJvcFRhcmdldFBhcmVudCA9IGRyb3BUYXJnZXQu
Z2V0UGFyZW50KCk7DQorCQlmRHJvcFRhcmdldFNpYmxpbmcgPSBkcm9wVGFyZ2V0Ow0KKwkJcmV0
dXJuIHRydWU7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5lY2xp
cHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuU3RydWN0dXJlZFZpZXdlclNlY3Rpb24jY2FuRHJv
cE1vdmUoamF2YS5sYW5nLk9iamVjdCwgamF2YS5sYW5nLk9iamVjdFtdLCBpbnQpDQorCSAqLw0K
KwlwdWJsaWMgYm9vbGVhbiBjYW5Ecm9wTW92ZShPYmplY3QgdGFyZ2V0T2JqZWN0LCBPYmplY3Rb
XSBzb3VyY2VPYmplY3RzLCBpbnQgdGFyZ2V0TG9jYXRpb24pIHsNCisJCS8vIFNhbWUgYXMgZHJv
cCBjb3B5IG9wZXJhdGlvbg0KKwkJcmV0dXJuIGNhbkRyb3BDb3B5KHRhcmdldE9iamVjdCwgc291
cmNlT2JqZWN0cywgdGFyZ2V0TG9jYXRpb24pOw0KKwl9DQorDQorCS8qIChub24tSmF2YWRvYykN
CisJICogQHNlZSBvcmcuZWNsaXBzZS5wZGUuaW50ZXJuYWwudWkuZWRpdG9yLlN0cnVjdHVyZWRW
aWV3ZXJTZWN0aW9uI2NhbkRyYWdDb3B5KGphdmEubGFuZy5PYmplY3RbXSkNCisJICovDQorCXB1
YmxpYyBib29sZWFuIGNhbkRyYWdDb3B5KE9iamVjdFtdIHNvdXJjZU9iamVjdHMpIHsNCisJCS8v
IEFsbG93IGFueXRoaW5nIHRvIGJlIGRyYWcgY29waWVkDQorCQlyZXR1cm4gdHJ1ZTsNCisJfQ0K
Kw0KKwkvKiAobm9uLUphdmFkb2MpDQorCSAqIEBzZWUgb3JnLmVjbGlwc2UucGRlLmludGVybmFs
LnVpLmVkaXRvci5TdHJ1Y3R1cmVkVmlld2VyU2VjdGlvbiNjYW5EcmFnTW92ZShqYXZhLmxhbmcu
T2JqZWN0W10pDQorCSAqLw0KKwlwdWJsaWMgYm9vbGVhbiBjYW5EcmFnTW92ZShPYmplY3RbXSBz
b3VyY2VPYmplY3RzKSB7DQorCQlmb3IgKGludCBpID0gMDsgaSA8IHNvdXJjZU9iamVjdHMubGVu
Z3RoOyBpKyspIHsNCisJCQlpZiAoIShzb3VyY2VPYmplY3RzW2ldIGluc3RhbmNlb2YgQ3R4SGVs
cE9iamVjdCkgfHwgISgoQ3R4SGVscE9iamVjdCkgc291cmNlT2JqZWN0c1tpXSkuY2FuQmVSZW1v
dmVkKCkpIHsNCisJCQkJcmV0dXJuIGZhbHNlOw0KKwkJCX0NCisJCX0NCisJCWZEcmFnRnJvbUhl
cmUgPSB0cnVlOw0KKwkJcmV0dXJuIHRydWU7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0K
KwkgKiBAc2VlIG9yZy5lY2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuU3RydWN0dXJlZFZp
ZXdlclNlY3Rpb24jZG9EcmFnUmVtb3ZlKGphdmEubGFuZy5PYmplY3RbXSkNCisJICovDQorCXB1
YmxpYyB2b2lkIGRvRHJhZ1JlbW92ZShPYmplY3RbXSBzb3VyY2VPYmplY3RzKSB7DQorCQl1cGRh
dGVSZW1vdmVBY3Rpb25XaXRoU2VsZWN0aW9uKG5ldyBTdHJ1Y3R1cmVkU2VsZWN0aW9uKHNvdXJj
ZU9iamVjdHMpKTsNCisJCWZSZW1vdmVPYmplY3RBY3Rpb24ucnVuKCk7DQorCQlmRHJhZ0Zyb21I
ZXJlID0gZmFsc2U7DQorCX0NCisNCisJLyogKG5vbi1KYXZhZG9jKQ0KKwkgKiBAc2VlIG9yZy5l
Y2xpcHNlLnBkZS5pbnRlcm5hbC51aS5lZGl0b3IuUERFU2VjdGlvbiNtb2RlbENoYW5nZWQob3Jn
LmVjbGlwc2UucGRlLmNvcmUuSU1vZGVsQ2hhbmdlZEV2ZW50KQ0KKwkgKi8NCisJcHVibGljIHZv
aWQgbW9kZWxDaGFuZ2VkKElNb2RlbENoYW5nZWRFdmVudCBldmVudCkgew0KKwkJLy8gTm8gbmVl
ZCB0byBjYWxsIHN1cGVyLCB3b3JsZCBjaGFuZ2VkIGV2ZW50IGhhbmRsZWQgaGVyZQ0KKwkJaWYg
KGV2ZW50LmdldENoYW5nZVR5cGUoKSA9PSBJTW9kZWxDaGFuZ2VkRXZlbnQuV09STERfQ0hBTkdF
RCkgew0KKwkJCWhhbmRsZU1vZGVsRXZlbnRXb3JsZENoYW5nZWQoZXZlbnQpOw0KKwkJfSBlbHNl
IGlmIChldmVudC5nZXRDaGFuZ2VUeXBlKCkgPT0gSU1vZGVsQ2hhbmdlZEV2ZW50LklOU0VSVCkg
ew0KKwkJCWhhbmRsZU1vZGVsSW5zZXJ0VHlwZShldmVudCk7DQorCQl9IGVsc2UgaWYgKGV2ZW50
LmdldENoYW5nZVR5cGUoKSA9PSBJTW9kZWxDaGFuZ2VkRXZlbnQuUkVNT1ZFKSB7DQorCQkJaGFu
ZGxlTW9kZWxSZW1vdmVUeXBlKGV2ZW50KTsNCisJCX0gZWxzZSBpZiAoKGV2ZW50LmdldENoYW5n
ZVR5cGUoKSA9PSBJTW9kZWxDaGFuZ2VkRXZlbnQuQ0hBTkdFKSAmJiAoZXZlbnQuZ2V0Q2hhbmdl
ZFByb3BlcnR5KCkuZXF1YWxzKElEb2N1bWVudEVsZW1lbnROb2RlLkZfUFJPUEVSVFlfQ0hBTkdF
X1RZUEVfU1dBUCkpKSB7DQorCQkJaGFuZGxlTW9kZWxDaGFuZ2VUeXBlU3dhcChldmVudCk7DQor
CQl9IGVsc2UgaWYgKGV2ZW50LmdldENoYW5nZVR5cGUoKSA9PSBJTW9kZWxDaGFuZ2VkRXZlbnQu
Q0hBTkdFKSB7DQorCQkJaGFuZGxlTW9kZWxDaGFuZ2VUeXBlKGV2ZW50KTsNCisJCX0NCisJfQ0K
Kw0KKwkvKioNCisJICogSGFuZGxlcyB0aGUgc3dhcCBldmVudA0KKwkgKiBAcGFyYW0gZXZlbnQg
dGhlIHN3YXAgZXZlbnQNCisJICovDQorCXByaXZhdGUgdm9pZCBoYW5kbGVNb2RlbENoYW5nZVR5
cGVTd2FwKElNb2RlbENoYW5nZWRFdmVudCBldmVudCkgew0KKwkJT2JqZWN0W10gb2JqZWN0cyA9
IGV2ZW50LmdldENoYW5nZWRPYmplY3RzKCk7DQorCQlDdHhIZWxwT2JqZWN0IG9iamVjdCA9IChD
dHhIZWxwT2JqZWN0KSBvYmplY3RzWzBdOw0KKw0KKwkJaWYgKG9iamVjdCAhPSBudWxsKSB7DQor
CQkJZlRyZWUucmVmcmVzaChvYmplY3QpOw0KKwkJfQ0KKwl9DQorDQorCS8qKg0KKwkgKiBUaGUg
bW9kZWwgaXMgc3RhbGUsIHJlZnJlc2ggdGhlIFVJDQorCSAqIEBwYXJhbSBldmVudCBUaGUgd29y
bGQtY2hhbmdlIGV2ZW50DQorCSAqLw0KKwlwcml2YXRlIHZvaWQgaGFuZGxlTW9kZWxFdmVudFdv
cmxkQ2hhbmdlZChJTW9kZWxDaGFuZ2VkRXZlbnQgZXZlbnQpIHsNCisJCW1hcmtTdGFsZSgpOw0K
Kwl9DQorDQorCS8qKg0KKwkgKiBIYW5kbGUgaW5zZXJ0aW9ucyBpbiB0aGUgbW9kZWwNCisJICog
QHBhcmFtIGV2ZW50IHRoZSBpbnNlcnRpb24gZXZlbnQNCisJICovDQorCXByaXZhdGUgdm9pZCBo
YW5kbGVNb2RlbEluc2VydFR5cGUoSU1vZGVsQ2hhbmdlZEV2ZW50IGV2ZW50KSB7DQorCQlPYmpl
Y3RbXSBvYmplY3RzID0gZXZlbnQuZ2V0Q2hhbmdlZE9iamVjdHMoKTsNCisJCWZvciAoaW50IGkg
PSAwOyBpIDwgb2JqZWN0cy5sZW5ndGg7IGkrKykgew0KKwkJCUN0eEhlbHBPYmplY3Qgb2JqZWN0
ID0gKEN0eEhlbHBPYmplY3QpIG9iamVjdHNbaV07DQorCQkJaWYgKG9iamVjdCAhPSBudWxsKSB7
DQorCQkJCWlmIChvYmplY3QuZ2V0VHlwZSgpICE9IElDdHhIZWxwQ29uc3RhbnRzLlRZUEVfUk9P
VCkgew0KKwkJCQkJZlRyZWUucmVmcmVzaChvYmplY3QuZ2V0UGFyZW50KCkpOw0KKwkJCQkJLy8g
U2VsZWN0IHRoZSBuZXcgb2JqZWN0IGluIHRoZSB0cmVlLCB1bmxlc3MgaXQgaXMgYSBkZXNjcmlw
dGlvbiBub2RlDQorCQkJCQlpZiAoIShvYmplY3QgaW5zdGFuY2VvZiBDdHhIZWxwRGVzY3JpcHRp
b24pKSB7DQorCQkJCQkJZlRyZWUuc2V0U2VsZWN0aW9uKG5ldyBTdHJ1Y3R1cmVkU2VsZWN0aW9u
KG9iamVjdCksIHRydWUpOw0KKwkJCQkJfQ0KKwkJCQl9DQorCQkJfQ0KKwkJfQ0KKwl9DQorDQor
CS8qKg0KKwkgKiBIYW5kbGUgcmVtb3ZhbHMgaW4gdGhlIG1vZGVsDQorCSAqIEBwYXJhbSBldmVu
dCB0aGUgcmVtb3ZhbCBldmVudA0KKwkgKi8NCisJcHJpdmF0ZSB2b2lkIGhhbmRsZU1vZGVsUmVt
b3ZlVHlwZShJTW9kZWxDaGFuZ2VkRXZlbnQgZXZlbnQpIHsNCisJCU9iamVjdFtdIG9iamVjdHMg
PSBldmVudC5nZXRDaGFuZ2VkT2JqZWN0cygpOw0KKwkJZm9yIChpbnQgaSA9IDA7IGkgPCBvYmpl
Y3RzLmxlbmd0aDsgaSsrKSB7DQorCQkJaWYgKG9iamVjdHNbaV0gIT0gbnVsbCkgew0KKwkJCQlD
dHhIZWxwT2JqZWN0IG9iamVjdCA9IChDdHhIZWxwT2JqZWN0KSBvYmplY3RzW2ldOw0KKwkJCQlm
VHJlZS5yZW1vdmUob2JqZWN0KTsNCisJCQkJQ3R4SGVscE9iamVjdCBuZXh0U2VsZWN0aW9uID0g
ZlJlbW92ZU9iamVjdEFjdGlvbi5nZXROZXh0U2VsZWN0aW9uKCk7DQorCQkJCWlmIChuZXh0U2Vs
ZWN0aW9uICE9IG51bGwpIHsNCisJCQkJCWZUcmVlLnJlZnJlc2gob2JqZWN0LmdldFBhcmVudCgp
KTsNCisJCQkJCWlmICghZkRyYWdGcm9tSGVyZSkgew0KKwkJCQkJCWZUcmVlLnNldFNlbGVjdGlv
bihuZXcgU3RydWN0dXJlZFNlbGVjdGlvbihuZXh0U2VsZWN0aW9uKSwgdHJ1ZSk7DQorCQkJCQl9
DQorCQkJCQlmUmVtb3ZlT2JqZWN0QWN0aW9uLmNsZWFyTmV4dFNlbGVjdGlvbigpOw0KKwkJCQl9
DQorCQkJfQ0KKwkJfQ0KKwl9DQorDQorCS8qKg0KKwkgKiBIYW5kbGUgYW4gdXBkYXRlIHRvIGFu
IG9iamVjdCdzIHByb3BlcnRpZXMNCisJICogQHBhcmFtIGV2ZW50IHRoZSB1cGRhdGUgZXZlbnQN
CisJICovDQorCXByaXZhdGUgdm9pZCBoYW5kbGVNb2RlbENoYW5nZVR5cGUoSU1vZGVsQ2hhbmdl
ZEV2ZW50IGV2ZW50KSB7DQorCQlPYmplY3RbXSBvYmplY3RzID0gZXZlbnQuZ2V0Q2hhbmdlZE9i
amVjdHMoKTsNCisJCUN0eEhlbHBPYmplY3Qgb2JqZWN0ID0gKEN0eEhlbHBPYmplY3QpIG9iamVj
dHNbMF07DQorDQorCQlpZiAob2JqZWN0ICE9IG51bGwpIHsNCisJCQlmVHJlZS51cGRhdGUob2Jq
ZWN0LCBudWxsKTsNCisJCX0NCisJfQ0KKw0KK30NCg==
</data>

          </attachment>
      

    </bug>

</bugzilla>