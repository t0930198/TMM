<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.eclipse.org/bugs/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.1"
          urlbase="https://bugs.eclipse.org/bugs/"
          
          maintainer="webmaster@eclipse.org"
>

    <bug>
          <bug_id>214127</bug_id>
          
          <creation_ts>2008-01-02 11:38:00 -0500</creation_ts>
          <short_desc>merge AbstractCLanguage and AbstractCPPLanguage into one class</short_desc>
          <delta_ts>2014-05-29 16:28:54 -0400</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>4</classification_id>
          <classification>Tools</classification>
          <product>CDT</product>
          <component>cdt-core</component>
          <version>5.0</version>
          <rep_platform>PC</rep_platform>
          <op_sys>Windows XP</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P3</priority>
          <bug_severity>minor</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Mike Kucera">mikekucera</reporter>
          <assigned_to name="Project Inbox">cdt-core-inbox</assigned_to>
          <cc>anton.leherbauer</cc>
    
    <cc>dschaefer</cc>
          
          <votes>0</votes>

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>1124222</commentid>
    <comment_count>0</comment_count>
    <who name="Mike Kucera">mikekucera</who>
    <bug_when>2008-01-02 11:38:02 -0500</bug_when>
    <thetext>Comparing the classes AbstractCLanguage and AbstractCPPLanguage shows that they are almost identical. Clearly one is a direct copy/paste of the other. Furthermore, the revision history of both files reveals that there has been duplicated maintenance effort.

In the interest of code reuse the common elements of both classes should be refactored into a common superclass.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1124226</commentid>
    <comment_count>1</comment_count>
      <attachid>85995</attachid>
    <who name="Mike Kucera">mikekucera</who>
    <bug_when>2008-01-02 11:40:41 -0500</bug_when>
    <thetext>Created attachment 85995
proposed patch for review</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1124255</commentid>
    <comment_count>2</comment_count>
    <who name="Doug Schaefer">dschaefer</who>
    <bug_when>2008-01-02 12:10:56 -0500</bug_when>
    <thetext>I just went through it quickly and will provide more info later. But to start, I saw that you replace getDefault() with a variable reference. It is a Eclipse coding style to use a method for this. And actually, its probably just a safer coding practice in case we need to wrap it with synchronization or change the logic in how the default is computed.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1124256</commentid>
    <comment_count>3</comment_count>
    <who name="Mike Kucera">mikekucera</who>
    <bug_when>2008-01-02 12:15:05 -0500</bug_when>
    <thetext>(In reply to comment #2)

Good point, I&apos;ll update the patch.
</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1124262</commentid>
    <comment_count>4</comment_count>
      <attachid>85997</attachid>
    <who name="Mike Kucera">mikekucera</who>
    <bug_when>2008-01-02 12:19:45 -0500</bug_when>
    <thetext>Created attachment 85997
updated patch</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1125939</commentid>
    <comment_count>5</comment_count>
    <who name="Mike Kucera">mikekucera</who>
    <bug_when>2008-01-04 13:09:13 -0500</bug_when>
    <thetext>Unless I hear an objection by tomorrow I&apos;m going to commit this patch...</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1126445</commentid>
    <comment_count>6</comment_count>
    <who name="Anton Leherbauer">anton.leherbauer</who>
    <bug_when>2008-01-07 05:42:12 -0500</bug_when>
    <thetext>(In reply to comment #5)
&gt; Unless I hear an objection by tomorrow I&apos;m going to commit this patch...

No objection, just an observation:

GCCLanguage.getParserExtensionConfiguration() and
GPPLanguage.getParserExtensionConfiguration() become obsolete.

Feel free to remove these methods.</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>1126656</commentid>
    <comment_count>7</comment_count>
    <who name="Mike Kucera">mikekucera</who>
    <bug_when>2008-01-07 11:13:14 -0500</bug_when>
    <thetext>Removed those two methods and committed to head.

</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>85995</attachid>
            <date>2008-01-02 11:40:00 -0500</date>
            <delta_ts>2008-01-02 12:19:45 -0500</delta_ts>
            <desc>proposed patch for review</desc>
            <filename>bug_214127_patch.txt</filename>
            <type>text/plain</type>
            <size>55854</size>
            <attacher name="Mike Kucera">mikekucera</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UuY2R0LnVpDQpJ
bmRleDogc3JjL29yZy9lY2xpcHNlL2NkdC9pbnRlcm5hbC91aS9jb21wYXJlL0NTdHJ1Y3R1cmVD
cmVhdG9yLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9vdC90b29scy9vcmcuZWNs
aXBzZS5jZHQvYWxsL29yZy5lY2xpcHNlLmNkdC51aS9zcmMvb3JnL2VjbGlwc2UvY2R0L2ludGVy
bmFsL3VpL2NvbXBhcmUvQ1N0cnVjdHVyZUNyZWF0b3IuamF2YSx2DQpyZXRyaWV2aW5nIHJldmlz
aW9uIDEuMTgNCmRpZmYgLXUgLXIxLjE4IENTdHJ1Y3R1cmVDcmVhdG9yLmphdmENCi0tLSBzcmMv
b3JnL2VjbGlwc2UvY2R0L2ludGVybmFsL3VpL2NvbXBhcmUvQ1N0cnVjdHVyZUNyZWF0b3IuamF2
YQkxMSBPY3QgMjAwNyAwOTo0MTo0NiAtMDAwMAkxLjE4DQorKysgc3JjL29yZy9lY2xpcHNlL2Nk
dC9pbnRlcm5hbC91aS9jb21wYXJlL0NTdHJ1Y3R1cmVDcmVhdG9yLmphdmEJMiBKYW4gMjAwOCAx
NjozOToxMyAtMDAwMA0KQEAgLTE0MSw3ICsxNDEsNyBAQA0KIAkJCX0NCiAJCX0NCiAJCWlmIChs
YW5ndWFnZSA9PSBudWxsKSB7DQotCQkJbGFuZ3VhZ2U9IEdQUExhbmd1YWdlLmdldERlZmF1bHQo
KTsNCisJCQlsYW5ndWFnZT0gR1BQTGFuZ3VhZ2UuREVGQVVMVF9JTlNUQU5DRTsNCiAJCX0NCiAJ
CXJldHVybiBsYW5ndWFnZTsNCiAJfQ0KSW5kZXg6IHNyYy9vcmcvZWNsaXBzZS9jZHQvaW50ZXJu
YWwvdWkvdGV4dC9DVGV4dFRvb2xzLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9v
dC90b29scy9vcmcuZWNsaXBzZS5jZHQvYWxsL29yZy5lY2xpcHNlLmNkdC51aS9zcmMvb3JnL2Vj
bGlwc2UvY2R0L2ludGVybmFsL3VpL3RleHQvQ1RleHRUb29scy5qYXZhLHYNCnJldHJpZXZpbmcg
cmV2aXNpb24gMS4yMQ0KZGlmZiAtdSAtcjEuMjEgQ1RleHRUb29scy5qYXZhDQotLS0gc3JjL29y
Zy9lY2xpcHNlL2NkdC9pbnRlcm5hbC91aS90ZXh0L0NUZXh0VG9vbHMuamF2YQkxMiBEZWMgMjAw
NyAxNDo1Nzo1MCAtMDAwMAkxLjIxDQorKysgc3JjL29yZy9lY2xpcHNlL2NkdC9pbnRlcm5hbC91
aS90ZXh0L0NUZXh0VG9vbHMuamF2YQkyIEphbiAyMDA4IDE2OjM5OjE0IC0wMDAwDQpAQCAtOTYs
MTQgKzk2LDE0IEBADQogCQkJc3RvcmUgPSBDVUlQbHVnaW4uZ2V0RGVmYXVsdCgpLmdldFByZWZl
cmVuY2VTdG9yZSgpOw0KIAkJfQ0KIAkJZkNvbG9yTWFuYWdlcj0gbmV3IENDb2xvck1hbmFnZXIo
YXV0b0Rpc3Bvc2VPbkRpc3BsYXlEaXNwb3NlKTsNCi0JCWZDb2RlU2Nhbm5lcj0gbmV3IENDb2Rl
U2Nhbm5lcihmQ29sb3JNYW5hZ2VyLCBzdG9yZSwgR0NDTGFuZ3VhZ2UuZ2V0RGVmYXVsdCgpKTsN
Ci0JCWZDcHBDb2RlU2Nhbm5lcj0gbmV3IENDb2RlU2Nhbm5lcihmQ29sb3JNYW5hZ2VyLCBzdG9y
ZSwgR1BQTGFuZ3VhZ2UuZ2V0RGVmYXVsdCgpKTsNCisJCWZDb2RlU2Nhbm5lcj0gbmV3IENDb2Rl
U2Nhbm5lcihmQ29sb3JNYW5hZ2VyLCBzdG9yZSwgR0NDTGFuZ3VhZ2UuREVGQVVMVF9JTlNUQU5D
RSk7DQorCQlmQ3BwQ29kZVNjYW5uZXI9IG5ldyBDQ29kZVNjYW5uZXIoZkNvbG9yTWFuYWdlciwg
c3RvcmUsIEdQUExhbmd1YWdlLkRFRkFVTFRfSU5TVEFOQ0UpOw0KIAkJDQogCQlmTXVsdGlsaW5l
Q29tbWVudFNjYW5uZXI9IG5ldyBDQ29tbWVudFNjYW5uZXIoZkNvbG9yTWFuYWdlciwgc3RvcmUs
IGNvcmVTdG9yZSwgSUNDb2xvckNvbnN0YW50cy5DX01VTFRJX0xJTkVfQ09NTUVOVCk7DQogCQlm
U2luZ2xlbGluZUNvbW1lbnRTY2FubmVyPSBuZXcgQ0NvbW1lbnRTY2FubmVyKGZDb2xvck1hbmFn
ZXIsIHN0b3JlLCBjb3JlU3RvcmUsIElDQ29sb3JDb25zdGFudHMuQ19TSU5HTEVfTElORV9DT01N
RU5UKTsNCiAJCWZTdHJpbmdTY2FubmVyPSBuZXcgU2luZ2xlVG9rZW5DU2Nhbm5lcihmQ29sb3JN
YW5hZ2VyLCBzdG9yZSwgSUNDb2xvckNvbnN0YW50cy5DX1NUUklORyk7DQotCQlmQ1ByZXByb2Nl
c3NvclNjYW5uZXI9IG5ldyBDUHJlcHJvY2Vzc29yU2Nhbm5lcihmQ29sb3JNYW5hZ2VyLCBzdG9y
ZSwgR0NDTGFuZ3VhZ2UuZ2V0RGVmYXVsdCgpKTsNCi0JCWZDcHBQcmVwcm9jZXNzb3JTY2FubmVy
PSBuZXcgQ1ByZXByb2Nlc3NvclNjYW5uZXIoZkNvbG9yTWFuYWdlciwgc3RvcmUsIEdQUExhbmd1
YWdlLmdldERlZmF1bHQoKSk7DQorCQlmQ1ByZXByb2Nlc3NvclNjYW5uZXI9IG5ldyBDUHJlcHJv
Y2Vzc29yU2Nhbm5lcihmQ29sb3JNYW5hZ2VyLCBzdG9yZSwgR0NDTGFuZ3VhZ2UuREVGQVVMVF9J
TlNUQU5DRSk7DQorCQlmQ3BwUHJlcHJvY2Vzc29yU2Nhbm5lcj0gbmV3IENQcmVwcm9jZXNzb3JT
Y2FubmVyKGZDb2xvck1hbmFnZXIsIHN0b3JlLCBHUFBMYW5ndWFnZS5ERUZBVUxUX0lOU1RBTkNF
KTsNCiANCiAJCWZQcmVmZXJlbmNlU3RvcmUgPSBzdG9yZTsNCiAJCWZQcmVmZXJlbmNlU3RvcmUu
YWRkUHJvcGVydHlDaGFuZ2VMaXN0ZW5lcihmUHJlZmVyZW5jZUxpc3RlbmVyKTsNCkluZGV4OiBz
cmMvb3JnL2VjbGlwc2UvY2R0L2ludGVybmFsL3VpL3RleHQvQ1NvdXJjZVZpZXdlckNvbmZpZ3Vy
YXRpb24uamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L3Rvb2xzL29yZy5lY2xp
cHNlLmNkdC9hbGwvb3JnLmVjbGlwc2UuY2R0LnVpL3NyYy9vcmcvZWNsaXBzZS9jZHQvaW50ZXJu
YWwvdWkvdGV4dC9DU291cmNlVmlld2VyQ29uZmlndXJhdGlvbi5qYXZhLHYNCnJldHJpZXZpbmcg
cmV2aXNpb24gMS42OA0KZGlmZiAtdSAtcjEuNjggQ1NvdXJjZVZpZXdlckNvbmZpZ3VyYXRpb24u
amF2YQ0KLS0tIHNyYy9vcmcvZWNsaXBzZS9jZHQvaW50ZXJuYWwvdWkvdGV4dC9DU291cmNlVmll
d2VyQ29uZmlndXJhdGlvbi5qYXZhCTMgRGVjIDIwMDcgMTQ6MDQ6MDkgLTAwMDAJMS42OA0KKysr
IHNyYy9vcmcvZWNsaXBzZS9jZHQvaW50ZXJuYWwvdWkvdGV4dC9DU291cmNlVmlld2VyQ29uZmln
dXJhdGlvbi5qYXZhCTIgSmFuIDIwMDggMTY6Mzk6MTMgLTAwMDANCkBAIC0xODQsNyArMTg0LDcg
QEANCiAJCQlzY2FubmVyPSBuZXcgQ1ByZXByb2Nlc3NvclNjYW5uZXIoZ2V0Q29sb3JNYW5hZ2Vy
KCksIGZQcmVmZXJlbmNlU3RvcmUsIChJQ0xhbmd1YWdlS2V5d29yZHMpbGFuZ3VhZ2UpOw0KIAkJ
fQ0KIAkJaWYgKHNjYW5uZXIgPT0gbnVsbCkgew0KLQkJCXNjYW5uZXI9IG5ldyBDUHJlcHJvY2Vz
c29yU2Nhbm5lcihnZXRDb2xvck1hbmFnZXIoKSwgZlByZWZlcmVuY2VTdG9yZSwgR1BQTGFuZ3Vh
Z2UuZ2V0RGVmYXVsdCgpKTsNCisJCQlzY2FubmVyPSBuZXcgQ1ByZXByb2Nlc3NvclNjYW5uZXIo
Z2V0Q29sb3JNYW5hZ2VyKCksIGZQcmVmZXJlbmNlU3RvcmUsIEdQUExhbmd1YWdlLkRFRkFVTFRf
SU5TVEFOQ0UpOw0KIAkJfQ0KIAkJZlByZXByb2Nlc3NvclNjYW5uZXI9IHNjYW5uZXI7DQogCQly
ZXR1cm4gZlByZXByb2Nlc3NvclNjYW5uZXI7DQpAQCAtMzE0LDcgKzMxNCw3IEBADQogCQkJCXNj
YW5uZXIgPSBsYW5ndWFnZVVJLmdldENvZGVTY2FubmVyKCk7DQogCQl9DQogCQlpZiAoc2Nhbm5l
ciA9PSBudWxsKSB7DQotCQkJc2Nhbm5lciA9IG5ldyBDQ29kZVNjYW5uZXIoZ2V0Q29sb3JNYW5h
Z2VyKCksIGZQcmVmZXJlbmNlU3RvcmUsIEdQUExhbmd1YWdlLmdldERlZmF1bHQoKSk7DQorCQkJ
c2Nhbm5lciA9IG5ldyBDQ29kZVNjYW5uZXIoZ2V0Q29sb3JNYW5hZ2VyKCksIGZQcmVmZXJlbmNl
U3RvcmUsIEdQUExhbmd1YWdlLkRFRkFVTFRfSU5TVEFOQ0UpOw0KIAkJfQ0KIAkJaWYgKHNjYW5u
ZXIgaW5zdGFuY2VvZiBBYnN0cmFjdENTY2FubmVyKSB7DQogCQkJZkNvZGVTY2FubmVyPSAoQWJz
dHJhY3RDU2Nhbm5lcilzY2FubmVyOw0KQEAgLTc2Miw3ICs3NjIsNyBAQA0KIA0KIAlwcm90ZWN0
ZWQgSUxhbmd1YWdlIGdldExhbmd1YWdlKCkgew0KIAkJaWYgKGZUZXh0RWRpdG9yID09IG51bGwp
IHsNCi0JCQlyZXR1cm4gR1BQTGFuZ3VhZ2UuZ2V0RGVmYXVsdCgpOw0KKwkJCXJldHVybiBHUFBM
YW5ndWFnZS5ERUZBVUxUX0lOU1RBTkNFOw0KIAkJfQ0KIAkJSUNFbGVtZW50IGVsZW1lbnQgPSBD
VUlQbHVnaW4uZ2V0RGVmYXVsdCgpLmdldFdvcmtpbmdDb3B5TWFuYWdlcigpLmdldFdvcmtpbmdD
b3B5KGZUZXh0RWRpdG9yLmdldEVkaXRvcklucHV0KCkpOw0KIAkJaWYgKGVsZW1lbnQgaW5zdGFu
Y2VvZiBJVHJhbnNsYXRpb25Vbml0KSB7DQpAQCAtNzkzLDcgKzc5Myw3IEBADQogCQkJfQ0KIAkJ
fQ0KIAkJLy8gZmFsbGJhY2sNCi0JCXJldHVybiBHUFBMYW5ndWFnZS5nZXREZWZhdWx0KCk7DQor
CQlyZXR1cm4gR1BQTGFuZ3VhZ2UuREVGQVVMVF9JTlNUQU5DRTsNCiAJfQ0KIAkNCiAJLyoqDQpJ
bmRleDogc3JjL29yZy9lY2xpcHNlL2NkdC9pbnRlcm5hbC91aS9lZGl0b3IvQ0VkaXRvci5qYXZh
DQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvdG9vbHMvb3JnLmVjbGlwc2UuY2R0L2Fs
bC9vcmcuZWNsaXBzZS5jZHQudWkvc3JjL29yZy9lY2xpcHNlL2NkdC9pbnRlcm5hbC91aS9lZGl0
b3IvQ0VkaXRvci5qYXZhLHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS4xNTgNCmRpZmYgLXUgLXIx
LjE1OCBDRWRpdG9yLmphdmENCi0tLSBzcmMvb3JnL2VjbGlwc2UvY2R0L2ludGVybmFsL3VpL2Vk
aXRvci9DRWRpdG9yLmphdmEJNCBEZWMgMjAwNyAxNDoyODoyMiAtMDAwMAkxLjE1OA0KKysrIHNy
Yy9vcmcvZWNsaXBzZS9jZHQvaW50ZXJuYWwvdWkvZWRpdG9yL0NFZGl0b3IuamF2YQkyIEphbiAy
MDA4IDE2OjM5OjEzIC0wMDAwDQpAQCAtMjY3LDcgKzI2Nyw3IEBADQogCQkJCQlsYW5ndWFnZT0g
dHUuZ2V0TGFuZ3VhZ2UoKTsNCiAJCQkJfSBjYXRjaCAoQ29yZUV4Y2VwdGlvbiBleGMpIHsNCiAJ
CQkJCS8vIHVzZSBmYWxsYmFjayBDUFANCi0JCQkJCWxhbmd1YWdlPSBHUFBMYW5ndWFnZS5nZXRE
ZWZhdWx0KCk7DQorCQkJCQlsYW5ndWFnZT0gR1BQTGFuZ3VhZ2UuREVGQVVMVF9JTlNUQU5DRTsN
CiAJCQkJfQ0KIAkJCQlwcmVmZXJlbmNlcy5wdXQoRGVmYXVsdENvZGVGb3JtYXR0ZXJDb25zdGFu
dHMuRk9STUFUVEVSX1RSQU5TTEFUSU9OX1VOSVQsIHR1KTsNCiAJCSAgICAgICAgcHJlZmVyZW5j
ZXMucHV0KERlZmF1bHRDb2RlRm9ybWF0dGVyQ29uc3RhbnRzLkZPUk1BVFRFUl9MQU5HVUFHRSwg
bGFuZ3VhZ2UpOw0KI1Agb3JnLmVjbGlwc2UuY2R0LmNvcmUNCkluZGV4OiBwYXJzZXIvb3JnL2Vj
bGlwc2UvY2R0L2NvcmUvZG9tL3BhcnNlci9jL0Fic3RyYWN0Q0xhbmd1YWdlLmphdmENCj09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT0NClJDUyBmaWxlOiBwYXJzZXIvb3JnL2VjbGlwc2UvY2R0L2NvcmUvZG9tL3BhcnNlci9j
L0Fic3RyYWN0Q0xhbmd1YWdlLmphdmENCmRpZmYgLU4gcGFyc2VyL29yZy9lY2xpcHNlL2NkdC9j
b3JlL2RvbS9wYXJzZXIvYy9BYnN0cmFjdENMYW5ndWFnZS5qYXZhDQotLS0gcGFyc2VyL29yZy9l
Y2xpcHNlL2NkdC9jb3JlL2RvbS9wYXJzZXIvYy9BYnN0cmFjdENMYW5ndWFnZS5qYXZhCTIxIERl
YyAyMDA3IDA5OjM1OjUyIC0wMDAwCTEuMTANCisrKyAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDow
MDowMCAtMDAwMA0KQEAgLTEsMjMyICswLDAgQEANCi0vKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0K
LSAqIENvcHlyaWdodCAoYykgMjAwNyBXaW5kIFJpdmVyIFN5c3RlbXMsIEluYy4gYW5kIG90aGVy
cy4NCi0gKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBhY2NvbXBh
bnlpbmcgbWF0ZXJpYWxzDQotICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcyBv
ZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQotICogd2hpY2ggYWNjb21wYW5pZXMg
dGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCi0gKiBodHRwOi8vd3d3LmVj
bGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KLSAqDQotICogQ29udHJpYnV0b3JzOg0KLSAq
ICAgICBBbnRvbiBMZWhlcmJhdWVyIChXaW5kIFJpdmVyIFN5c3RlbXMpIC0gaW5pdGlhbCBBUEkg
YW5kIGltcGxlbWVudGF0aW9uDQotICogICAgIE1hcmt1cyBTY2hvcm4gKFdpbmQgUml2ZXIgU3lz
dGVtcykNCi0gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCi1wYWNrYWdlIG9yZy5lY2xpcHNlLmNk
dC5jb3JlLmRvbS5wYXJzZXIuYzsNCi0NCi1pbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsNCi1p
bXBvcnQgamF2YS51dGlsLkhhc2hTZXQ7DQotaW1wb3J0IGphdmEudXRpbC5JdGVyYXRvcjsNCi1p
bXBvcnQgamF2YS51dGlsLkxpc3Q7DQotaW1wb3J0IGphdmEudXRpbC5TZXQ7DQotDQotaW1wb3J0
IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5JQ29kZVJlYWRlckZhY3Rvcnk7DQotaW1wb3J0IG9y
Zy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5hc3QuSUFTVENvbXBsZXRpb25Ob2RlOw0KLWltcG9ydCBv
cmcuZWNsaXBzZS5jZHQuY29yZS5kb20uYXN0LklBU1ROYW1lOw0KLWltcG9ydCBvcmcuZWNsaXBz
ZS5jZHQuY29yZS5kb20uYXN0LklBU1ROb2RlOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29y
ZS5kb20uYXN0LklBU1RUcmFuc2xhdGlvblVuaXQ7DQotaW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5j
b3JlLmRvbS5hc3QuYy5DQVNUVmlzaXRvcjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUu
ZG9tLnBhcnNlci5BYnN0cmFjdFNjYW5uZXJFeHRlbnNpb25Db25maWd1cmF0aW9uOw0KLWltcG9y
dCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20ucGFyc2VyLklTY2FubmVyRXh0ZW5zaW9uQ29uZmln
dXJhdGlvbjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLnBhcnNlci5JU291cmNl
Q29kZVBhcnNlcjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUuaW5kZXguSUluZGV4Ow0K
LWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5tb2RlbC5BYnN0cmFjdExhbmd1YWdlOw0KLWlt
cG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5tb2RlbC5JQ0xhbmd1YWdlS2V5d29yZHM7DQotaW1w
b3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLm1vZGVsLklDb250cmlidXRlZE1vZGVsQnVpbGRlcjsN
Ci1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUubW9kZWwuSVRyYW5zbGF0aW9uVW5pdDsNCi1p
bXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFyc2VyLkNvZGVSZWFkZXI7DQotaW1wb3J0IG9y
Zy5lY2xpcHNlLmNkdC5jb3JlLnBhcnNlci5JUGFyc2VyTG9nU2VydmljZTsNCi1pbXBvcnQgb3Jn
LmVjbGlwc2UuY2R0LmNvcmUucGFyc2VyLklTY2FubmVyOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5j
ZHQuY29yZS5wYXJzZXIuSVNjYW5uZXJJbmZvOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29y
ZS5wYXJzZXIuS2V5d29yZFNldEtleTsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFy
c2VyLlBhcnNlckxhbmd1YWdlOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5wYXJzZXIu
UGFyc2VyTW9kZTsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFyc2VyLnV0aWwuQ2hh
ckFycmF5SW50TWFwOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuaW50ZXJuYWwuY29yZS5kb20u
cGFyc2VyLmMuR05VQ1NvdXJjZVBhcnNlcjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmludGVy
bmFsLmNvcmUucGFyc2VyLnNjYW5uZXIuQ1ByZXByb2Nlc3NvcjsNCi1pbXBvcnQgb3JnLmVjbGlw
c2UuY2R0LmludGVybmFsLmNvcmUucGFyc2VyLnRva2VuLktleXdvcmRTZXRzOw0KLWltcG9ydCBv
cmcuZWNsaXBzZS5jZHQuaW50ZXJuYWwuY29yZS5wZG9tLmRvbS5JUERPTUxpbmthZ2VGYWN0b3J5
Ow0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuaW50ZXJuYWwuY29yZS5wZG9tLmRvbS5jLlBET01D
TGlua2FnZUZhY3Rvcnk7DQotaW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucnVudGltZS5Db3JlRXhj
ZXB0aW9uOw0KLQ0KLS8qKg0KLSAqIEFic3RyYWN0IEMgbGFuZ3VhZ2UuIERlcml2ZWQgY2xhc3Nl
cyBuZWVkIG9ubHkgaW1wbGVtZW50DQotICoge0BsaW5rIGdldFNjYW5uZXJFeHRlbnNpb25Db25m
aWd1cmF0aW9uKCl9IGFuZCANCi0gKiB7QGxpbmsgZ2V0UGFyc2VyRXh0ZW5zaW9uQ29uZmlndXJh
dGlvbigpfS4NCi0gKiANCi0gKiA8cD4NCi0gKiA8c3Ryb25nPkVYUEVSSU1FTlRBTDwvc3Ryb25n
Pi4gVGhpcyBjbGFzcyBvciBpbnRlcmZhY2UgaGFzIGJlZW4gYWRkZWQgYXMNCi0gKiBwYXJ0IG9m
IGEgd29yayBpbiBwcm9ncmVzcy4gVGhlcmUgaXMgbm8gZ3VhcmFudGVlIHRoYXQgdGhpcyBBUEkg
d2lsbCB3b3JrIG9yDQotICogdGhhdCBpdCB3aWxsIHJlbWFpbiB0aGUgc2FtZS4gUGxlYXNlIGRv
IG5vdCB1c2UgdGhpcyBBUEkgd2l0aG91dCBjb25zdWx0aW5nDQotICogd2l0aCB0aGUgQ0RUIHRl
YW0uDQotICogPC9wPg0KLSAqIA0KLSAqIEBzZWUgQWJzdHJhY3RTY2FubmVyRXh0ZW5zaW9uQ29u
ZmlndXJhdGlvbg0KLSAqIA0KLSAqIEBzaW5jZSA0LjANCi0gKi8NCi1wdWJsaWMgYWJzdHJhY3Qg
Y2xhc3MgQWJzdHJhY3RDTGFuZ3VhZ2UgZXh0ZW5kcyBBYnN0cmFjdExhbmd1YWdlIGltcGxlbWVu
dHMgSUNMYW5ndWFnZUtleXdvcmRzIHsNCi0NCi0JcHJvdGVjdGVkIHN0YXRpYyBjbGFzcyBOYW1l
Q29sbGVjdG9yIGV4dGVuZHMgQ0FTVFZpc2l0b3Igew0KLQkJew0KLQkJCXNob3VsZFZpc2l0TmFt
ZXM9IHRydWU7DQotCQl9DQotDQotCQlwcml2YXRlIExpc3QgbmFtZUxpc3Q9IG5ldyBBcnJheUxp
c3QoKTsNCi0NCi0JCXB1YmxpYyBpbnQgdmlzaXQoSUFTVE5hbWUgbmFtZSkgew0KLQkJCW5hbWVM
aXN0LmFkZChuYW1lKTsNCi0JCQlyZXR1cm4gUFJPQ0VTU19DT05USU5VRTsNCi0JCX0NCi0NCi0J
CXB1YmxpYyBJQVNUTmFtZVtdIGdldE5hbWVzKCkgew0KLQkJCXJldHVybiAoSUFTVE5hbWVbXSkg
bmFtZUxpc3QudG9BcnJheShuZXcgSUFTVE5hbWVbbmFtZUxpc3Quc2l6ZSgpXSk7DQotCQl9DQot
CX0NCi0NCi0JcHVibGljIE9iamVjdCBnZXRBZGFwdGVyKENsYXNzIGFkYXB0ZXIpIHsNCi0JCWlm
IChhZGFwdGVyID09IElQRE9NTGlua2FnZUZhY3RvcnkuY2xhc3MpIHsNCi0JCQlyZXR1cm4gbmV3
IFBET01DTGlua2FnZUZhY3RvcnkoKTsNCi0JCX0NCi0JCXJldHVybiBzdXBlci5nZXRBZGFwdGVy
KGFkYXB0ZXIpOw0KLQl9DQotDQotCXB1YmxpYyBJQVNUVHJhbnNsYXRpb25Vbml0IGdldEFTVFRy
YW5zbGF0aW9uVW5pdChDb2RlUmVhZGVyIHJlYWRlciwgSVNjYW5uZXJJbmZvIHNjYW5JbmZvLA0K
LQkJCUlDb2RlUmVhZGVyRmFjdG9yeSBmaWxlQ3JlYXRvciwgSUluZGV4IGluZGV4LCBJUGFyc2Vy
TG9nU2VydmljZSBsb2cpIHRocm93cyBDb3JlRXhjZXB0aW9uIHsNCi0JCXJldHVybiBnZXRBU1RU
cmFuc2xhdGlvblVuaXQocmVhZGVyLCBzY2FuSW5mbywgZmlsZUNyZWF0b3IsIGluZGV4LCAwLCBs
b2cpOw0KLQl9DQotDQotCXB1YmxpYyBJQVNUVHJhbnNsYXRpb25Vbml0IGdldEFTVFRyYW5zbGF0
aW9uVW5pdChDb2RlUmVhZGVyIHJlYWRlciwgSVNjYW5uZXJJbmZvIHNjYW5JbmZvLA0KLQkJCUlD
b2RlUmVhZGVyRmFjdG9yeSBjb2RlUmVhZGVyRmFjdG9yeSwgSUluZGV4IGluZGV4LCBpbnQgb3B0
aW9ucywgSVBhcnNlckxvZ1NlcnZpY2UgbG9nKSB0aHJvd3MgQ29yZUV4Y2VwdGlvbiB7DQotDQot
CQlJU2Nhbm5lciBzY2FubmVyPSBjcmVhdGVTY2FubmVyKHJlYWRlciwgc2NhbkluZm8sIGNvZGVS
ZWFkZXJGYWN0b3J5LCBsb2cpOw0KLQkJc2Nhbm5lci5zZXRTY2FuQ29tbWVudHMoKG9wdGlvbnMg
JiBPUFRJT05fQUREX0NPTU1FTlRTKSAhPSAwKTsNCi0JCXNjYW5uZXIuc2V0Q29tcHV0ZUltYWdl
TG9jYXRpb25zKChvcHRpb25zICYgQWJzdHJhY3RMYW5ndWFnZS5PUFRJT05fTk9fSU1BR0VfTE9D
QVRJT05TKSA9PSAwKTsNCi0NCi0JCUlTb3VyY2VDb2RlUGFyc2VyIHBhcnNlcj0gY3JlYXRlUGFy
c2VyKHNjYW5uZXIsIGxvZywgaW5kZXgsIGZhbHNlLCBvcHRpb25zKTsNCi0JCQ0KLQkJLy8gUGFy
c2UNCi0JCUlBU1RUcmFuc2xhdGlvblVuaXQgYXN0PSBwYXJzZXIucGFyc2UoKTsNCi0JCXJldHVy
biBhc3Q7DQotCX0NCi0NCi0JcHVibGljIElBU1RDb21wbGV0aW9uTm9kZSBnZXRDb21wbGV0aW9u
Tm9kZShDb2RlUmVhZGVyIHJlYWRlciwgSVNjYW5uZXJJbmZvIHNjYW5JbmZvLA0KLQkJCUlDb2Rl
UmVhZGVyRmFjdG9yeSBmaWxlQ3JlYXRvciwgSUluZGV4IGluZGV4LCBJUGFyc2VyTG9nU2Vydmlj
ZSBsb2csIGludCBvZmZzZXQpIHRocm93cyBDb3JlRXhjZXB0aW9uIHsNCi0NCi0JCUlTY2FubmVy
IHNjYW5uZXI9IGNyZWF0ZVNjYW5uZXIocmVhZGVyLCBzY2FuSW5mbywgZmlsZUNyZWF0b3IsIGxv
Zyk7DQotCQlzY2FubmVyLnNldENvbnRlbnRBc3Npc3RNb2RlKG9mZnNldCk7DQotDQotCQlJU291
cmNlQ29kZVBhcnNlciBwYXJzZXI9IGNyZWF0ZVBhcnNlcihzY2FubmVyLCBsb2csIGluZGV4LCB0
cnVlLCAwKTsNCi0NCi0JCS8vIFJ1biB0aGUgcGFyc2UgYW5kIHJldHVybiB0aGUgY29tcGxldGlv
biBub2RlDQotCQlwYXJzZXIucGFyc2UoKTsNCi0JCUlBU1RDb21wbGV0aW9uTm9kZSBub2RlPSBw
YXJzZXIuZ2V0Q29tcGxldGlvbk5vZGUoKTsNCi0JCXJldHVybiBub2RlOw0KLQl9DQotDQotDQot
CXB1YmxpYyBJQVNUTmFtZVtdIGdldFNlbGVjdGVkTmFtZXMoSUFTVFRyYW5zbGF0aW9uVW5pdCBh
c3QsIGludCBzdGFydCwgaW50IGxlbmd0aCkgew0KLQkJSUFTVE5vZGUgc2VsZWN0ZWROb2RlPSBh
c3Quc2VsZWN0Tm9kZUZvckxvY2F0aW9uKGFzdC5nZXRGaWxlUGF0aCgpLCBzdGFydCwgbGVuZ3Ro
KTsNCi0NCi0JCWlmIChzZWxlY3RlZE5vZGUgPT0gbnVsbCkNCi0JCQlyZXR1cm4gbmV3IElBU1RO
YW1lWzBdOw0KLQ0KLQkJaWYgKHNlbGVjdGVkTm9kZSBpbnN0YW5jZW9mIElBU1ROYW1lKQ0KLQkJ
CXJldHVybiBuZXcgSUFTVE5hbWVbXSB7IChJQVNUTmFtZSkgc2VsZWN0ZWROb2RlIH07DQotDQot
CQlOYW1lQ29sbGVjdG9yIGNvbGxlY3Rvcj0gbmV3IE5hbWVDb2xsZWN0b3IoKTsNCi0JCXNlbGVj
dGVkTm9kZS5hY2NlcHQoY29sbGVjdG9yKTsNCi0JCXJldHVybiBjb2xsZWN0b3IuZ2V0TmFtZXMo
KTsNCi0JfQ0KLQ0KLQlwdWJsaWMgSUNvbnRyaWJ1dGVkTW9kZWxCdWlsZGVyIGNyZWF0ZU1vZGVs
QnVpbGRlcihJVHJhbnNsYXRpb25Vbml0IHR1KSB7DQotCQkvLyBVc2UgdGhlIGRlZmF1bHQgQ0RU
IG1vZGVsIGJ1aWxkZXINCi0JCXJldHVybiBudWxsOw0KLQl9DQotDQotCS8qKg0KLQkgKiBDcmVh
dGUgdGhlIHNjYW5uZXIgdG8gYmUgdXNlZCB3aXRoIHRoZSBwYXJzZXIuDQotCSAqIA0KLQkgKiBA
cGFyYW0gcmVhZGVyICB0aGUgY29kZSByZWFkZXIgZm9yIHRoZSBtYWluIGZpbGUNCi0JICogQHBh
cmFtIHNjYW5JbmZvICB0aGUgc2Nhbm5lciBpbmZvcm1hdGlvbiAobWFjcm9zLCBpbmNsdWRlIHBh
dGhlcykNCi0JICogQHBhcmFtIGZpbGVDcmVhdG9yICB0aGUgY29kZSByZWFkZXIgZmFjdG9yeSBm
b3IgaW5jbHVzaW9ucw0KLQkgKiBAcGFyYW0gbG9nICB0aGUgbG9nIGZvciBkZWJ1Z2dpbmcNCi0J
ICogQHJldHVybiBhbiBpbnN0YW5jZSBvZiBJU2Nhbm5lcg0KLQkgKi8NCi0JcHJvdGVjdGVkIElT
Y2FubmVyIGNyZWF0ZVNjYW5uZXIoQ29kZVJlYWRlciByZWFkZXIsIElTY2FubmVySW5mbyBzY2Fu
SW5mbywgSUNvZGVSZWFkZXJGYWN0b3J5IGZpbGVDcmVhdG9yLCBJUGFyc2VyTG9nU2VydmljZSBs
b2cpIHsNCi0JCXJldHVybiBuZXcgQ1ByZXByb2Nlc3NvcihyZWFkZXIsIHNjYW5JbmZvLCBQYXJz
ZXJMYW5ndWFnZS5DLCBsb2csIGdldFNjYW5uZXJFeHRlbnNpb25Db25maWd1cmF0aW9uKCksIGZp
bGVDcmVhdG9yKTsNCi0JfQ0KLQ0KLQkvKioNCi0JICogQ3JlYXRlIHRoZSBwYXJzZXIuDQotCSAq
IA0KLQkgKiBAcGFyYW0gc2Nhbm5lciAgdGhlIElTY2FubmVyIHRvIGdldCB0b2tlbnMgZnJvbQ0K
LQkgKiBAcGFyYW0gbG9nICB0aGUgcGFyc2VyIGxvZyBzZXJ2aWNlDQotCSAqIEBwYXJhbSBpbmRl
eCAgdGhlIGluZGV4IHRvIGhlbHAgcmVzb2x2ZSBiaW5kaW5ncw0KLQkgKiBAcGFyYW0gZm9yQ29t
cGxldGlvbiAgd2hldGhlciB0aGUgcGFyc2VyIGlzIHVzZWQgZm9yIGNvZGUgY29tcGxldGlvbg0K
LQkgKiBAcGFyYW0gb3B0aW9ucyBmb3IgdmFsaWQgb3B0aW9ucyBzZWUge0BsaW5rIEFic3RyYWN0
TGFuZ3VhZ2UjZ2V0QVNUVHJhbnNsYXRpb25Vbml0KENvZGVSZWFkZXIsIElTY2FubmVySW5mbywg
SUNvZGVSZWFkZXJGYWN0b3J5LCBJSW5kZXgsIGludCwgSVBhcnNlckxvZ1NlcnZpY2UpfQ0KLQkg
KiBAcmV0dXJuICBhbiBpbnN0YW5jZSBvZiBJU291cmNlQ29kZVBhcnNlcg0KLQkgKi8NCi0JcHJv
dGVjdGVkIElTb3VyY2VDb2RlUGFyc2VyIGNyZWF0ZVBhcnNlcihJU2Nhbm5lciBzY2FubmVyLCBJ
UGFyc2VyTG9nU2VydmljZSBsb2csIElJbmRleCBpbmRleCwgYm9vbGVhbiBmb3JDb21wbGV0aW9u
LCBpbnQgb3B0aW9ucykgew0KLQkJUGFyc2VyTW9kZSBtb2RlPSBudWxsOw0KLQkJaWYgKGZvckNv
bXBsZXRpb24pIHsNCi0JCQltb2RlPSBQYXJzZXJNb2RlLkNPTVBMRVRJT05fUEFSU0U7DQotCQl9
DQotCQllbHNlIGlmICgob3B0aW9ucyAmIE9QVElPTl9TS0lQX0ZVTkNUSU9OX0JPRElFUykgIT0g
MCkgew0KLQkJCW1vZGU9IFBhcnNlck1vZGUuU1RSVUNUVVJBTF9QQVJTRTsNCi0JCX0NCi0JCWVs
c2Ugew0KLQkJCW1vZGU9IFBhcnNlck1vZGUuQ09NUExFVEVfUEFSU0U7DQotCQl9DQotCQlyZXR1
cm4gbmV3IEdOVUNTb3VyY2VQYXJzZXIoc2Nhbm5lciwgbW9kZSwgbG9nLCBnZXRQYXJzZXJFeHRl
bnNpb25Db25maWd1cmF0aW9uKCksIGluZGV4KTsNCi0JfQ0KLQ0KLQkvKioNCi0JICogQHJldHVy
biB0aGUgc2Nhbm5lciBleHRlbnNpb24gY29uZmlndXJhdGlvbiBmb3IgdGhpcyBsYW5ndWFnZSwg
bWF5IG5vdA0KLQkgKiAgICAgICAgIHJldHVybiA8Y29kZT5udWxsPC9jb2RlPg0KLQkgKi8NCi0J
cHJvdGVjdGVkIGFic3RyYWN0IElTY2FubmVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbiBnZXRTY2Fu
bmVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbigpOw0KLQ0KLQkvKioNCi0JICogQHJldHVybiB0aGUg
cGFyc2VyIGV4dGVuc2lvbiBjb25maWd1cmF0aW9uIGZvciB0aGlzIGxhbmd1YWdlLCBtYXkgbm90
DQotCSAqICAgICAgICAgcmV0dXJuIDxjb2RlPm51bGw8L2NvZGU+DQotCSAqLw0KLQlwcm90ZWN0
ZWQgYWJzdHJhY3QgSUNQYXJzZXJFeHRlbnNpb25Db25maWd1cmF0aW9uIGdldFBhcnNlckV4dGVu
c2lvbkNvbmZpZ3VyYXRpb24oKTsNCi0NCi0JLyoNCi0JICogQHNlZSBvcmcuZWNsaXBzZS5jZHQu
Y29yZS5tb2RlbC5JQ0xhbmd1YWdlS2V5d29yZHMjZ2V0S2V5d29yZHMoKQ0KLQkgKi8NCi0JcHVi
bGljIFN0cmluZ1tdIGdldEtleXdvcmRzKCkgew0KLQkJU2V0IGtleXdvcmRzPSBLZXl3b3JkU2V0
cy5nZXRLZXl3b3JkcyhLZXl3b3JkU2V0S2V5LktFWVdPUkRTLCBQYXJzZXJMYW5ndWFnZS5DKTsN
Ci0JCWtleXdvcmRzPSBuZXcgSGFzaFNldChrZXl3b3Jkcyk7DQotCQlDaGFyQXJyYXlJbnRNYXAg
YWRkaXRpb25hbEtleXdvcmRzPSBnZXRTY2FubmVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbigpLmdl
dEFkZGl0aW9uYWxLZXl3b3JkcygpOw0KLQkJaWYgKGFkZGl0aW9uYWxLZXl3b3JkcyAhPSBudWxs
KSB7DQotCQkJZm9yIChJdGVyYXRvciBpdGVyYXRvciA9IGFkZGl0aW9uYWxLZXl3b3Jkcy50b0xp
c3QoKS5pdGVyYXRvcigpOyBpdGVyYXRvci5oYXNOZXh0KCk7ICkgew0KLQkJCQljaGFyW10gbmFt
ZSA9IChjaGFyW10pIGl0ZXJhdG9yLm5leHQoKTsNCi0JCQkJa2V5d29yZHMuYWRkKG5ldyBTdHJp
bmcobmFtZSkpOw0KLQkJCX0NCi0JCX0NCi0JCXJldHVybiAoU3RyaW5nW10pIGtleXdvcmRzLnRv
QXJyYXkobmV3IFN0cmluZ1trZXl3b3Jkcy5zaXplKCldKTsNCi0JfQ0KLQ0KLQkvKg0KLQkgKiBA
c2VlIG9yZy5lY2xpcHNlLmNkdC5jb3JlLm1vZGVsLklDTGFuZ3VhZ2VLZXl3b3JkcyNnZXRCdWls
dGluVHlwZXMoKQ0KLQkgKi8NCi0JcHVibGljIFN0cmluZ1tdIGdldEJ1aWx0aW5UeXBlcygpIHsN
Ci0JCVNldCB0eXBlcz0gS2V5d29yZFNldHMuZ2V0S2V5d29yZHMoS2V5d29yZFNldEtleS5UWVBF
UywgUGFyc2VyTGFuZ3VhZ2UuQyk7DQotCQlyZXR1cm4gKFN0cmluZ1tdKSB0eXBlcy50b0FycmF5
KG5ldyBTdHJpbmdbdHlwZXMuc2l6ZSgpXSk7DQotCX0NCi0NCi0JLyoNCi0JICogQHNlZSBvcmcu
ZWNsaXBzZS5jZHQuY29yZS5tb2RlbC5JQ0xhbmd1YWdlS2V5d29yZHMjZ2V0UHJlcHJvY2Vzc29y
S2V5d29yZHMoKQ0KLQkgKi8NCi0JcHVibGljIFN0cmluZ1tdIGdldFByZXByb2Nlc3NvcktleXdv
cmRzKCkgew0KLQkJU2V0IGtleXdvcmRzPSBLZXl3b3JkU2V0cy5nZXRLZXl3b3JkcyhLZXl3b3Jk
U2V0S2V5LlBQX0RJUkVDVElWRSwgUGFyc2VyTGFuZ3VhZ2UuQyk7DQotCQlrZXl3b3Jkcz0gbmV3
IEhhc2hTZXQoa2V5d29yZHMpOw0KLQkJQ2hhckFycmF5SW50TWFwIGFkZGl0aW9uYWxLZXl3b3Jk
cz0gZ2V0U2Nhbm5lckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24oKS5nZXRBZGRpdGlvbmFsUHJlcHJv
Y2Vzc29yS2V5d29yZHMoKTsNCi0JCWlmIChhZGRpdGlvbmFsS2V5d29yZHMgIT0gbnVsbCkgew0K
LQkJCWZvciAoSXRlcmF0b3IgaXRlcmF0b3IgPSBhZGRpdGlvbmFsS2V5d29yZHMudG9MaXN0KCku
aXRlcmF0b3IoKTsgaXRlcmF0b3IuaGFzTmV4dCgpOyApIHsNCi0JCQkJY2hhcltdIG5hbWUgPSAo
Y2hhcltdKSBpdGVyYXRvci5uZXh0KCk7DQotCQkJCWtleXdvcmRzLmFkZChuZXcgU3RyaW5nKG5h
bWUpKTsNCi0JCQl9DQotCQl9DQotCQlyZXR1cm4gKFN0cmluZ1tdKSBrZXl3b3Jkcy50b0FycmF5
KG5ldyBTdHJpbmdba2V5d29yZHMuc2l6ZSgpXSk7DQotCX0NCi19DQpJbmRleDogcGFyc2VyL29y
Zy9lY2xpcHNlL2NkdC9jb3JlL2RvbS9hc3QvZ251L2MvR0NDTGFuZ3VhZ2UuamF2YQ0KPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L3Rvb2xzL29yZy5lY2xpcHNlLmNkdC9hbGwvb3JnLmVj
bGlwc2UuY2R0LmNvcmUvcGFyc2VyL29yZy9lY2xpcHNlL2NkdC9jb3JlL2RvbS9hc3QvZ251L2Mv
R0NDTGFuZ3VhZ2UuamF2YSx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuMzINCmRpZmYgLXUgLXIx
LjMyIEdDQ0xhbmd1YWdlLmphdmENCi0tLSBwYXJzZXIvb3JnL2VjbGlwc2UvY2R0L2NvcmUvZG9t
L2FzdC9nbnUvYy9HQ0NMYW5ndWFnZS5qYXZhCTcgRGVjIDIwMDcgMTA6MzM6MzAgLTAwMDAJMS4z
Mg0KKysrIHBhcnNlci9vcmcvZWNsaXBzZS9jZHQvY29yZS9kb20vYXN0L2dudS9jL0dDQ0xhbmd1
YWdlLmphdmEJMiBKYW4gMjAwOCAxNjozOToxNiAtMDAwMA0KQEAgLTEwLDM1ICsxMCw1MCBAQA0K
ICAqICAgIE1hcmt1cyBTY2hvcm4gKFdpbmQgUml2ZXIgU3lzdGVtcykNCiAgKiAgICBJQk0gQ29y
cG9yYXRpb24NCiAgKiAgICBBbnRvbiBMZWhlcmJhdWVyIChXaW5kIFJpdmVyIFN5c3RlbXMpDQor
ICogICAgTWlrZSBLdWNlcmEgLSBJQk0NCiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCiANCiBw
YWNrYWdlIG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5hc3QuZ251LmM7DQogDQogaW1wb3J0IG9y
Zy5lY2xpcHNlLmNkdC5jb3JlLkNDb3JlUGx1Z2luOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5jZHQu
Y29yZS5kb20uSUxpbmthZ2U7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5wYXJz
ZXIuQWJzdHJhY3RDTGlrZUxhbmd1YWdlOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5k
b20ucGFyc2VyLklTY2FubmVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbjsNCi1pbXBvcnQgb3JnLmVj
bGlwc2UuY2R0LmNvcmUuZG9tLnBhcnNlci5jLkFic3RyYWN0Q0xhbmd1YWdlOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5jZHQuY29yZS5kb20ucGFyc2VyLklTb3VyY2VDb2RlUGFyc2VyOw0KIGltcG9y
dCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20ucGFyc2VyLmMuR0NDUGFyc2VyRXh0ZW5zaW9uQ29u
ZmlndXJhdGlvbjsNCiBpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLnBhcnNlci5jLkdD
Q1NjYW5uZXJFeHRlbnNpb25Db25maWd1cmF0aW9uOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5jZHQu
Y29yZS5kb20ucGFyc2VyLmMuSUNQYXJzZXJFeHRlbnNpb25Db25maWd1cmF0aW9uOw0KK2ltcG9y
dCBvcmcuZWNsaXBzZS5jZHQuY29yZS5pbmRleC5JSW5kZXg7DQoraW1wb3J0IG9yZy5lY2xpcHNl
LmNkdC5jb3JlLnBhcnNlci5JUGFyc2VyTG9nU2VydmljZTsNCitpbXBvcnQgb3JnLmVjbGlwc2Uu
Y2R0LmNvcmUucGFyc2VyLklTY2FubmVyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5w
YXJzZXIuUGFyc2VyTGFuZ3VhZ2U7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLnBhcnNl
ci5QYXJzZXJNb2RlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQuaW50ZXJuYWwuY29yZS5kb20u
cGFyc2VyLmMuR05VQ1NvdXJjZVBhcnNlcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmludGVy
bmFsLmNvcmUucGRvbS5kb20uSVBET01MaW5rYWdlRmFjdG9yeTsNCitpbXBvcnQgb3JnLmVjbGlw
c2UuY2R0LmludGVybmFsLmNvcmUucGRvbS5kb20uYy5QRE9NQ0xpbmthZ2VGYWN0b3J5Ow0KIA0K
IC8qKg0KLSAqIEBhdXRob3IgRG91ZyBTY2hhZWZlcg0KICAqDQogICovDQotcHVibGljIGNsYXNz
IEdDQ0xhbmd1YWdlIGV4dGVuZHMgQWJzdHJhY3RDTGFuZ3VhZ2Ugew0KK3B1YmxpYyBjbGFzcyBH
Q0NMYW5ndWFnZSBleHRlbmRzIEFic3RyYWN0Q0xpa2VMYW5ndWFnZSB7DQogDQogCXByb3RlY3Rl
ZCBzdGF0aWMgZmluYWwgR0NDU2Nhbm5lckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24gQ19HTlVfU0NB
Tk5FUl9FWFRFTlNJT04gPSBuZXcgR0NDU2Nhbm5lckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24oKTsN
CiAJcHJvdGVjdGVkIHN0YXRpYyBmaW5hbCBHQ0NQYXJzZXJFeHRlbnNpb25Db25maWd1cmF0aW9u
IENfR05VX1BBUlNFUl9FWFRFTlNJT04gPSBuZXcgR0NDUGFyc2VyRXh0ZW5zaW9uQ29uZmlndXJh
dGlvbigpOw0KIAkvLyBNdXN0IG1hdGNoIHRoZSBpZCBpbiB0aGUgZXh0ZW5zaW9uDQogCXB1Ymxp
YyBzdGF0aWMgZmluYWwgU3RyaW5nIElEID0gQ0NvcmVQbHVnaW4uUExVR0lOX0lEICsgIi5nY2Mi
OyAvLyROT04tTkxTLTEkIA0KIA0KLQlwcml2YXRlIHN0YXRpYyBmaW5hbCBHQ0NMYW5ndWFnZSBt
eURlZmF1bHQgPSBuZXcgR0NDTGFuZ3VhZ2UoKTsNCisJcHVibGljIHN0YXRpYyBmaW5hbCBHQ0NM
YW5ndWFnZSBERUZBVUxUX0lOU1RBTkNFID0gbmV3IEdDQ0xhbmd1YWdlKCk7DQogCQ0KLQlwdWJs
aWMgc3RhdGljIEdDQ0xhbmd1YWdlIGdldERlZmF1bHQoKSB7DQotCQlyZXR1cm4gbXlEZWZhdWx0
Ow0KKwkNCisJQE92ZXJyaWRlDQorCXB1YmxpYyBPYmplY3QgZ2V0QWRhcHRlcihDbGFzcyBhZGFw
dGVyKSB7DQorCQlpZiAoYWRhcHRlciA9PSBJUERPTUxpbmthZ2VGYWN0b3J5LmNsYXNzKSB7DQor
CQkJcmV0dXJuIG5ldyBQRE9NQ0xpbmthZ2VGYWN0b3J5KCk7DQorCQl9DQorCQlyZXR1cm4gc3Vw
ZXIuZ2V0QWRhcHRlcihhZGFwdGVyKTsNCiAJfQ0KIAkNCisJDQogCXB1YmxpYyBTdHJpbmcgZ2V0
SWQoKSB7DQogCQlyZXR1cm4gSUQ7IA0KIAl9DQpAQCAtNDcsMTggKzYyLDMxIEBADQogCQlyZXR1
cm4gSUxpbmthZ2UuQ19MSU5LQUdFX0lEOw0KIAl9DQogDQotCS8qDQotCSAqIEBzZWUgb3JnLmVj
bGlwc2UuY2R0LmNvcmUuZG9tLnBhcnNlci5jLkFic3RyYWN0Q0xhbmd1YWdlI2dldFNjYW5uZXJF
eHRlbnNpb25Db25maWd1cmF0aW9uKCkNCi0JICovDQorDQorCUBPdmVycmlkZQ0KIAlwcm90ZWN0
ZWQgSVNjYW5uZXJFeHRlbnNpb25Db25maWd1cmF0aW9uIGdldFNjYW5uZXJFeHRlbnNpb25Db25m
aWd1cmF0aW9uKCkgew0KIAkJcmV0dXJuIENfR05VX1NDQU5ORVJfRVhURU5TSU9OOw0KIAl9DQog
CQ0KLQkvKg0KLQkgKiBAc2VlIG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5wYXJzZXIuYy5BYnN0
cmFjdENMYW5ndWFnZSNnZXRQYXJzZXJFeHRlbnNpb25Db25maWd1cmF0aW9uKCkNCi0JICovDQor
DQogCXByb3RlY3RlZCBJQ1BhcnNlckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24gZ2V0UGFyc2VyRXh0
ZW5zaW9uQ29uZmlndXJhdGlvbigpIHsNCiAJCXJldHVybiBDX0dOVV9QQVJTRVJfRVhURU5TSU9O
Ow0KIAl9DQogDQorDQorCUBPdmVycmlkZQ0KKwlwcm90ZWN0ZWQgSVNvdXJjZUNvZGVQYXJzZXIg
Y3JlYXRlUGFyc2VyKElTY2FubmVyIHNjYW5uZXIsIFBhcnNlck1vZGUgcGFyc2VyTW9kZSwgSVBh
cnNlckxvZ1NlcnZpY2UgbG9nU2VydmljZSwgSUluZGV4IGluZGV4KSB7DQorCQlyZXR1cm4gbmV3
IEdOVUNTb3VyY2VQYXJzZXIoc2Nhbm5lciwgcGFyc2VyTW9kZSwgbG9nU2VydmljZSwgQ19HTlVf
UEFSU0VSX0VYVEVOU0lPTiwgaW5kZXgpOw0KKwl9DQorDQorDQorCUBPdmVycmlkZQ0KKwlwcm90
ZWN0ZWQgUGFyc2VyTGFuZ3VhZ2UgZ2V0UGFyc2VyTGFuZ3VhZ2UoKSB7DQorCQlyZXR1cm4gUGFy
c2VyTGFuZ3VhZ2UuQzsNCisJfQ0KKw0KKw0KKwkNCisNCisNCiB9DQpJbmRleDogcGFyc2VyL29y
Zy9lY2xpcHNlL2NkdC9jb3JlL2RvbS9hc3QvZ251L2NwcC9HUFBMYW5ndWFnZS5qYXZhDQo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvdG9vbHMvb3JnLmVjbGlwc2UuY2R0L2FsbC9vcmcu
ZWNsaXBzZS5jZHQuY29yZS9wYXJzZXIvb3JnL2VjbGlwc2UvY2R0L2NvcmUvZG9tL2FzdC9nbnUv
Y3BwL0dQUExhbmd1YWdlLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjM0DQpkaWZmIC11
IC1yMS4zNCBHUFBMYW5ndWFnZS5qYXZhDQotLS0gcGFyc2VyL29yZy9lY2xpcHNlL2NkdC9jb3Jl
L2RvbS9hc3QvZ251L2NwcC9HUFBMYW5ndWFnZS5qYXZhCTcgRGVjIDIwMDcgMTA6MzM6MzEgLTAw
MDAJMS4zNA0KKysrIHBhcnNlci9vcmcvZWNsaXBzZS9jZHQvY29yZS9kb20vYXN0L2dudS9jcHAv
R1BQTGFuZ3VhZ2UuamF2YQkyIEphbiAyMDA4IDE2OjM5OjE2IC0wMDAwDQpAQCAtMTAsMzEgKzEw
LDQ0IEBADQogICogICAgTWFya3VzIFNjaG9ybiAoV2luZCBSaXZlciBTeXN0ZW1zKQ0KICAqICAg
IElCTSBDb3Jwb3JhdGlvbg0KICAqICAgIEFudG9uIExlaGVyYmF1ZXIgKFdpbmQgUml2ZXIgU3lz
dGVtcykNCisgKiAgICBNaWtlIEt1Y2VyYSAtIElCTQ0KICAqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
Lw0KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLmFzdC5nbnUuY3BwOw0KIA0KIGlt
cG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5DQ29yZVBsdWdpbjsNCiBpbXBvcnQgb3JnLmVjbGlw
c2UuY2R0LmNvcmUuZG9tLklMaW5rYWdlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5k
b20ucGFyc2VyLkFic3RyYWN0Q0xpa2VMYW5ndWFnZTsNCiBpbXBvcnQgb3JnLmVjbGlwc2UuY2R0
LmNvcmUuZG9tLnBhcnNlci5JU2Nhbm5lckV4dGVuc2lvbkNvbmZpZ3VyYXRpb247DQotaW1wb3J0
IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5wYXJzZXIuY3BwLkFic3RyYWN0Q1BQTGFuZ3VhZ2U7
DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5wYXJzZXIuSVNvdXJjZUNvZGVQYXJz
ZXI7DQogaW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5wYXJzZXIuY3BwLkFic3RyYWN0
Q1BQUGFyc2VyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbjsNCiBpbXBvcnQgb3JnLmVjbGlwc2UuY2R0
LmNvcmUuZG9tLnBhcnNlci5jcHAuR1BQUGFyc2VyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbjsNCiBp
bXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLnBhcnNlci5jcHAuR1BQU2Nhbm5lckV4dGVu
c2lvbkNvbmZpZ3VyYXRpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmluZGV4LklJ
bmRleDsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFyc2VyLklQYXJzZXJMb2dTZXJ2
aWNlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5wYXJzZXIuSVNjYW5uZXI7DQoraW1w
b3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLnBhcnNlci5QYXJzZXJMYW5ndWFnZTsNCitpbXBvcnQg
b3JnLmVjbGlwc2UuY2R0LmNvcmUucGFyc2VyLlBhcnNlck1vZGU7DQoraW1wb3J0IG9yZy5lY2xp
cHNlLmNkdC5pbnRlcm5hbC5jb3JlLmRvbS5wYXJzZXIuY3BwLkdOVUNQUFNvdXJjZVBhcnNlcjsN
CitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmludGVybmFsLmNvcmUucGRvbS5kb20uSVBET01MaW5r
YWdlRmFjdG9yeTsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmludGVybmFsLmNvcmUucGRvbS5k
b20uY3BwLlBET01DUFBMaW5rYWdlRmFjdG9yeTsNCiANCiAvKioNCi0gKiBAYXV0aG9yIERvdWcg
U2NoYWVmZXINCiAgKg0KICAqLw0KLXB1YmxpYyBjbGFzcyBHUFBMYW5ndWFnZSBleHRlbmRzIEFi
c3RyYWN0Q1BQTGFuZ3VhZ2Ugew0KK3B1YmxpYyBjbGFzcyBHUFBMYW5ndWFnZSBleHRlbmRzIEFi
c3RyYWN0Q0xpa2VMYW5ndWFnZSB7DQogDQogCXByb3RlY3RlZCBzdGF0aWMgZmluYWwgR1BQU2Nh
bm5lckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24gQ1BQX0dOVV9TQ0FOTkVSX0VYVEVOU0lPTiA9IG5l
dyBHUFBTY2FubmVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbigpOw0KIAlwcm90ZWN0ZWQgc3RhdGlj
IGZpbmFsIEdQUFBhcnNlckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24gQ1BQX0dOVV9QQVJTRVJfRVhU
RU5TSU9OID0gbmV3IEdQUFBhcnNlckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24oKTsNCiAJcHVibGlj
IHN0YXRpYyBmaW5hbCBTdHJpbmcgSUQgPSBDQ29yZVBsdWdpbi5QTFVHSU5fSUQgKyAiLmcrKyI7
IC8vJE5PTi1OTFMtMSQNCiANCi0JcHJpdmF0ZSBzdGF0aWMgZmluYWwgR1BQTGFuZ3VhZ2UgbXlE
ZWZhdWx0ID0gbmV3IEdQUExhbmd1YWdlKCk7DQorCXB1YmxpYyBzdGF0aWMgZmluYWwgR1BQTGFu
Z3VhZ2UgREVGQVVMVF9JTlNUQU5DRSA9IG5ldyBHUFBMYW5ndWFnZSgpOw0KIAkNCi0JcHVibGlj
IHN0YXRpYyBHUFBMYW5ndWFnZSBnZXREZWZhdWx0KCkgew0KLQkJcmV0dXJuIG15RGVmYXVsdDsN
CisJDQorCXB1YmxpYyBPYmplY3QgZ2V0QWRhcHRlcihDbGFzcyBhZGFwdGVyKSB7DQorCQlpZiAo
YWRhcHRlciA9PSBJUERPTUxpbmthZ2VGYWN0b3J5LmNsYXNzKSB7DQorCQkJcmV0dXJuIG5ldyBQ
RE9NQ1BQTGlua2FnZUZhY3RvcnkoKTsNCisJCX0NCisJCXJldHVybiBzdXBlci5nZXRBZGFwdGVy
KGFkYXB0ZXIpOw0KIAl9DQogCQ0KIAlwdWJsaWMgU3RyaW5nIGdldElkKCkgew0KQEAgLTQ2LDE4
ICs1OSwyMyBAQA0KIAkJcmV0dXJuIElMaW5rYWdlLkNQUF9MSU5LQUdFX0lEOw0KIAl9DQogDQot
CS8qDQotCSAqIEBzZWUgb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLnBhcnNlci5jcHAuQWJzdHJh
Y3RDUFBMYW5ndWFnZSNnZXRTY2FubmVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbigpDQotCSAqLw0K
KwlAT3ZlcnJpZGUNCiAJcHJvdGVjdGVkIElTY2FubmVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbiBn
ZXRTY2FubmVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbigpIHsNCiAJCXJldHVybiBDUFBfR05VX1ND
QU5ORVJfRVhURU5TSU9OOw0KIAl9DQogDQotCS8qDQotCSAqIEBzZWUgb3JnLmVjbGlwc2UuY2R0
LmNvcmUuZG9tLnBhcnNlci5jcHAuQWJzdHJhY3RDUFBMYW5ndWFnZSNnZXRQYXJzZXJFeHRlbnNp
b25Db25maWd1cmF0aW9uKCkNCi0JICovDQogCXByb3RlY3RlZCBBYnN0cmFjdENQUFBhcnNlckV4
dGVuc2lvbkNvbmZpZ3VyYXRpb24gZ2V0UGFyc2VyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbigpIHsN
CiAJCXJldHVybiBDUFBfR05VX1BBUlNFUl9FWFRFTlNJT047DQogCX0NCiANCisJQE92ZXJyaWRl
DQorCXByb3RlY3RlZCBJU291cmNlQ29kZVBhcnNlciBjcmVhdGVQYXJzZXIoSVNjYW5uZXIgc2Nh
bm5lciwgUGFyc2VyTW9kZSBwYXJzZXJNb2RlLCBJUGFyc2VyTG9nU2VydmljZSBsb2dTZXJ2aWNl
LCBJSW5kZXggaW5kZXgpIHsNCisJCXJldHVybiBuZXcgR05VQ1BQU291cmNlUGFyc2VyKHNjYW5u
ZXIsIHBhcnNlck1vZGUsIGxvZ1NlcnZpY2UsIENQUF9HTlVfUEFSU0VSX0VYVEVOU0lPTiwgaW5k
ZXgpOw0KKwl9DQorDQorCUBPdmVycmlkZQ0KKwlwcm90ZWN0ZWQgUGFyc2VyTGFuZ3VhZ2UgZ2V0
UGFyc2VyTGFuZ3VhZ2UoKSB7DQorCQlyZXR1cm4gUGFyc2VyTGFuZ3VhZ2UuQ1BQOw0KKwl9DQor
DQogfQ0KSW5kZXg6IHBhcnNlci9vcmcvZWNsaXBzZS9jZHQvaW50ZXJuYWwvY29yZS9wYXJzZXIv
dG9rZW4vS2V5d29yZFNldHMuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L3Rv
b2xzL29yZy5lY2xpcHNlLmNkdC9hbGwvb3JnLmVjbGlwc2UuY2R0LmNvcmUvcGFyc2VyL29yZy9l
Y2xpcHNlL2NkdC9pbnRlcm5hbC9jb3JlL3BhcnNlci90b2tlbi9LZXl3b3JkU2V0cy5qYXZhLHYN
CnJldHJpZXZpbmcgcmV2aXNpb24gMS4xOQ0KZGlmZiAtdSAtcjEuMTkgS2V5d29yZFNldHMuamF2
YQ0KLS0tIHBhcnNlci9vcmcvZWNsaXBzZS9jZHQvaW50ZXJuYWwvY29yZS9wYXJzZXIvdG9rZW4v
S2V5d29yZFNldHMuamF2YQkyMyBKdW4gMjAwNiAxNzoyNzowMCAtMDAwMAkxLjE5DQorKysgcGFy
c2VyL29yZy9lY2xpcHNlL2NkdC9pbnRlcm5hbC9jb3JlL3BhcnNlci90b2tlbi9LZXl3b3JkU2V0
cy5qYXZhCTIgSmFuIDIwMDggMTY6Mzk6MTYgLTAwMDANCkBAIC0xMCw4ICsxMCw5IEBADQogICoq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKiovDQogcGFja2FnZSBvcmcuZWNsaXBzZS5jZHQuaW50ZXJuYWwu
Y29yZS5wYXJzZXIudG9rZW47DQogDQoraW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOw0KIGltcG9y
dCBqYXZhLnV0aWwuSGFzaFNldDsNCi1pbXBvcnQgamF2YS51dGlsLkhhc2h0YWJsZTsNCitpbXBv
cnQgamF2YS51dGlsLk1hcDsNCiBpbXBvcnQgamF2YS51dGlsLlNldDsNCiBpbXBvcnQgamF2YS51
dGlsLlRyZWVTZXQ7DQogDQpAQCAtMjUsMTYgKzI2LDE2IEBADQogICovDQogcHVibGljIGNsYXNz
IEtleXdvcmRTZXRzIHsNCiANCi0JcHVibGljIHN0YXRpYyBTZXQgZ2V0S2V5d29yZHMoIEtleXdv
cmRTZXRLZXkga2luZCwgUGFyc2VyTGFuZ3VhZ2UgbGFuZ3VhZ2UgKQ0KKwlwdWJsaWMgc3RhdGlj
IFNldDxTdHJpbmc+IGdldEtleXdvcmRzKCBLZXl3b3JkU2V0S2V5IGtpbmQsIFBhcnNlckxhbmd1
YWdlIGxhbmd1YWdlICkNCiAJew0KIAkJaWYoIGtpbmQgPT0gS2V5d29yZFNldEtleS5FTVBUWSAp
DQogCQkJcmV0dXJuIEVNUFRZX1RBQkxFOw0KIAkJaWYoIGtpbmQgPT0gS2V5d29yZFNldEtleS5E
RUNMX1NQRUNJRklFUl9TRVFVRU5DRSApDQotCQkJcmV0dXJuIChTZXQpIERFQ0xfU1BFQ0lGSUVS
X1NFUVVFTkNFX1RBQkxFLmdldCggbGFuZ3VhZ2UgKTsNCisJCQlyZXR1cm4gREVDTF9TUEVDSUZJ
RVJfU0VRVUVOQ0VfVEFCTEUuZ2V0KCBsYW5ndWFnZSApOw0KIAkJaWYoIGtpbmQgPT0gS2V5d29y
ZFNldEtleS5ERUNMQVJBVElPTiApDQotCQkJcmV0dXJuIChTZXQpIERFQ0xBUkFUSU9OX1RBQkxF
LmdldCggbGFuZ3VhZ2UgKTsNCisJCQlyZXR1cm4gREVDTEFSQVRJT05fVEFCTEUuZ2V0KCBsYW5n
dWFnZSApOw0KIAkJaWYoIGtpbmQgPT0gS2V5d29yZFNldEtleS5TVEFURU1FTlQgKQ0KLQkJCXJl
dHVybiAoU2V0KSBTVEFURU1FTlRfVEFCTEUuZ2V0KCBsYW5ndWFnZSApOw0KKwkJCXJldHVybiBT
VEFURU1FTlRfVEFCTEUuZ2V0KCBsYW5ndWFnZSApOw0KIAkJaWYoIGtpbmQgPT0gS2V5d29yZFNl
dEtleS5CQVNFX1NQRUNJRklFUiApDQogCQkJcmV0dXJuIEJBU0VfU1BFQ0lGSUVSX0NQUDsNCiAJ
CWlmKCBraW5kID09IEtleXdvcmRTZXRLZXkuTUVNQkVSICkNCkBAIC00Niw0NiArNDcsNDYgQEAN
CiAJCWlmKCBraW5kID09IEtleXdvcmRTZXRLZXkuUE9TVF9VU0lORyApDQogCQkJcmV0dXJuIFBP
U1RfVVNJTkdfQ1BQOw0KIAkJaWYoIGtpbmQgPT0gS2V5d29yZFNldEtleS5GVU5DVElPTl9NT0RJ
RklFUiApDQotCQkJcmV0dXJuIChTZXQpIEZVTkNUSU9OX01PRElGSUVSX1RBQkxFLmdldCggbGFu
Z3VhZ2UgKTsNCisJCQlyZXR1cm4gRlVOQ1RJT05fTU9ESUZJRVJfVEFCTEUuZ2V0KCBsYW5ndWFn
ZSApOw0KIAkJaWYoIGtpbmQgPT0gS2V5d29yZFNldEtleS5OQU1FU1BBQ0VfT05MWSApCQ0KIAkJ
CXJldHVybiBOQU1FU1BBQ0VfT05MWV9TRVQ7DQogCQlpZigga2luZCA9PSBLZXl3b3JkU2V0S2V5
Lk1BQ1JPICkNCiAJCQlyZXR1cm4gTUFDUk9fT05MWTsNCiAJCWlmKCBraW5kID09IEtleXdvcmRT
ZXRLZXkuUFBfRElSRUNUSVZFICkNCi0JCQlyZXR1cm4gKFNldCkgUFBfRElSRUNUSVZFU19UQUJM
RS5nZXQoIGxhbmd1YWdlICk7DQorCQkJcmV0dXJuIFBQX0RJUkVDVElWRVNfVEFCTEUuZ2V0KCBs
YW5ndWFnZSApOw0KIAkJaWYoIGtpbmQgPT0gS2V5d29yZFNldEtleS5FWFBSRVNTSU9OICkNCi0J
CQlyZXR1cm4gKFNldCkgRVhQUkVTU0lPTl9UQUJMRS5nZXQoIGxhbmd1YWdlICk7DQorCQkJcmV0
dXJuIEVYUFJFU1NJT05fVEFCTEUuZ2V0KCBsYW5ndWFnZSApOw0KIAkJaWYoIGtpbmQgPT0gS2V5
d29yZFNldEtleS5BTEwgKQ0KLQkJCXJldHVybiAoU2V0KSBBTExfVEFCTEUuZ2V0KCBsYW5ndWFn
ZSApOw0KKwkJCXJldHVybiBBTExfVEFCTEUuZ2V0KCBsYW5ndWFnZSApOw0KIAkJaWYoIGtpbmQg
PT0gS2V5d29yZFNldEtleS5LRVlXT1JEUyApDQotCQkJcmV0dXJuIChTZXQpIEtFWVdPUkRTX1RB
QkxFLmdldCggbGFuZ3VhZ2UgKTsNCisJCQlyZXR1cm4gS0VZV09SRFNfVEFCTEUuZ2V0KCBsYW5n
dWFnZSApOw0KIAkJaWYoIGtpbmQgPT0gS2V5d29yZFNldEtleS5UWVBFUyApDQotCQkJcmV0dXJu
IChTZXQpIFRZUEVTX1RBQkxFLmdldCggbGFuZ3VhZ2UgKTsNCisJCQlyZXR1cm4gVFlQRVNfVEFC
TEUuZ2V0KCBsYW5ndWFnZSApOw0KIAkJLy9UT0RPIGZpbmlzaCB0aGlzDQogCQlyZXR1cm4gbnVs
bDsNCiAJfQ0KIAkNCi0JcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0IEVNUFRZX1RBQkxFID0gbmV3
IEhhc2hTZXQoMCk7DQorCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldDxTdHJpbmc+IEVNUFRZX1RB
QkxFID0gbmV3IEhhc2hTZXQ8U3RyaW5nPigwKTsNCiAJDQotCXByaXZhdGUgc3RhdGljIGZpbmFs
IFNldCBOQU1FU1BBQ0VfT05MWV9TRVQ7DQorCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldDxTdHJp
bmc+IE5BTUVTUEFDRV9PTkxZX1NFVDsNCiAJc3RhdGljIA0KIAl7DQotCQlOQU1FU1BBQ0VfT05M
WV9TRVQgPSBuZXcgSGFzaFNldCgxKTsNCisJCU5BTUVTUEFDRV9PTkxZX1NFVCA9IG5ldyBIYXNo
U2V0PFN0cmluZz4oMSk7DQogCQlOQU1FU1BBQ0VfT05MWV9TRVQuYWRkKEtleXdvcmRzLk5BTUVT
UEFDRSApOw0KIAl9DQogCQ0KLQlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQgTUFDUk9fT05MWTsN
CisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0PFN0cmluZz4gTUFDUk9fT05MWTsNCiAJc3RhdGlj
IA0KIAl7DQotCQlNQUNST19PTkxZID0gbmV3IEhhc2hTZXQoMSk7DQorCQlNQUNST19PTkxZID0g
bmV3IEhhc2hTZXQ8U3RyaW5nPigxKTsNCiAJCU1BQ1JPX09OTFkuYWRkKCJkZWZpbmVkKCkiICk7
IC8vJE5PTi1OTFMtMSQNCiAJfQ0KIAkNCiAJDQotCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldCBE
RUNMX1NQRUNJRklFUl9TRVFVRU5DRV9DOw0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQ8U3Ry
aW5nPiBERUNMX1NQRUNJRklFUl9TRVFVRU5DRV9DOw0KIAlzdGF0aWMNCiAJew0KLQkJREVDTF9T
UEVDSUZJRVJfU0VRVUVOQ0VfQyA9IG5ldyBUcmVlU2V0KCk7DQorCQlERUNMX1NQRUNJRklFUl9T
RVFVRU5DRV9DID0gbmV3IFRyZWVTZXQ8U3RyaW5nPigpOw0KIAkJREVDTF9TUEVDSUZJRVJfU0VR
VUVOQ0VfQy5hZGQoIEtleXdvcmRzLklOTElORSApOw0KIAkJREVDTF9TUEVDSUZJRVJfU0VRVUVO
Q0VfQy5hZGQoIEtleXdvcmRzLkFVVE8pOw0KIAkJREVDTF9TUEVDSUZJRVJfU0VRVUVOQ0VfQy5h
ZGQoIEtleXdvcmRzLlJFR0lTVEVSKTsNCkBAIC0xMTMsMTAgKzExNCwxMCBAQA0KIAkJREVDTF9T
UEVDSUZJRVJfU0VRVUVOQ0VfQy5hZGQoIEtleXdvcmRzLkVOVU0pOw0KIAl9DQogCQ0KLQlwcml2
YXRlIHN0YXRpYyBmaW5hbCBTZXQgREVDTF9TUEVDSUZJRVJfU0VRVUVOQ0VfQ1BQOw0KKwlwcml2
YXRlIHN0YXRpYyBmaW5hbCBTZXQ8U3RyaW5nPiBERUNMX1NQRUNJRklFUl9TRVFVRU5DRV9DUFA7
DQogCXN0YXRpYw0KIAl7DQotCQlERUNMX1NQRUNJRklFUl9TRVFVRU5DRV9DUFAgPSBuZXcgVHJl
ZVNldCgpOw0KKwkJREVDTF9TUEVDSUZJRVJfU0VRVUVOQ0VfQ1BQID0gbmV3IFRyZWVTZXQ8U3Ry
aW5nPigpOw0KIAkJLy8gYWRkIGFsbCBvZiBDIHRoZW4gcmVtb3ZlIHRoZSBvbmVzIHdlIGRvbid0
IG5lZWQNCiAJCURFQ0xfU1BFQ0lGSUVSX1NFUVVFTkNFX0NQUC5hZGRBbGwoIERFQ0xfU1BFQ0lG
SUVSX1NFUVVFTkNFX0MgKTsNCiAJCURFQ0xfU1BFQ0lGSUVSX1NFUVVFTkNFX0NQUC5yZW1vdmUo
IEtleXdvcmRzLl9DT01QTEVYKTsNCkBAIC0xMzIsMTggKzEzMywxOCBAQA0KIAkJREVDTF9TUEVD
SUZJRVJfU0VRVUVOQ0VfQ1BQLmFkZCggS2V5d29yZHMuQ0xBU1MpOw0KIAl9DQogCQ0KLQlwcml2
YXRlIHN0YXRpYyBmaW5hbCBIYXNodGFibGUgREVDTF9TUEVDSUZJRVJfU0VRVUVOQ0VfVEFCTEU7
IA0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBNYXA8UGFyc2VyTGFuZ3VhZ2UsU2V0PFN0cmluZz4+
IERFQ0xfU1BFQ0lGSUVSX1NFUVVFTkNFX1RBQkxFOyANCiAJc3RhdGljDQogCXsNCi0JCURFQ0xf
U1BFQ0lGSUVSX1NFUVVFTkNFX1RBQkxFID0gbmV3IEhhc2h0YWJsZSgpOyANCisJCURFQ0xfU1BF
Q0lGSUVSX1NFUVVFTkNFX1RBQkxFID0gbmV3IEhhc2hNYXA8UGFyc2VyTGFuZ3VhZ2UsU2V0PFN0
cmluZz4+KCk7IA0KIAkJREVDTF9TUEVDSUZJRVJfU0VRVUVOQ0VfVEFCTEUucHV0KCBQYXJzZXJM
YW5ndWFnZS5DUFAsIERFQ0xfU1BFQ0lGSUVSX1NFUVVFTkNFX0NQUCApOw0KIAkJREVDTF9TUEVD
SUZJRVJfU0VRVUVOQ0VfVEFCTEUucHV0KCBQYXJzZXJMYW5ndWFnZS5DLCBERUNMX1NQRUNJRklF
Ul9TRVFVRU5DRV9DICk7DQogCX0NCiAJDQotCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldCBERUNM
QVJBVElPTl9DUFA7IA0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQ8U3RyaW5nPiBERUNMQVJB
VElPTl9DUFA7IA0KIAlzdGF0aWMNCiAJew0KLQkJREVDTEFSQVRJT05fQ1BQID0gbmV3IFRyZWVT
ZXQoKTsNCisJCURFQ0xBUkFUSU9OX0NQUCA9IG5ldyBUcmVlU2V0PFN0cmluZz4oKTsNCiAJCURF
Q0xBUkFUSU9OX0NQUC5hZGRBbGwoIERFQ0xfU1BFQ0lGSUVSX1NFUVVFTkNFX0NQUCApOw0KIAkJ
REVDTEFSQVRJT05fQ1BQLmFkZCggS2V5d29yZHMuQVNNICk7DQogCQlERUNMQVJBVElPTl9DUFAu
YWRkKCBLZXl3b3Jkcy5URU1QTEFURSApOw0KQEAgLTE1MiwyNiArMTUzLDI2IEBADQogCQlERUNM
QVJBVElPTl9DUFAuYWRkKCBLZXl3b3Jkcy5FWFBPUlQgKTsNCiAJfQ0KIAkNCi0JcHJpdmF0ZSBz
dGF0aWMgZmluYWwgU2V0IERFQ0xBUkFUSU9OX0M7IA0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBT
ZXQ8U3RyaW5nPiBERUNMQVJBVElPTl9DOyANCiAJc3RhdGljDQogCXsNCi0JCURFQ0xBUkFUSU9O
X0MgPSBuZXcgVHJlZVNldCgpOw0KKwkJREVDTEFSQVRJT05fQyA9IG5ldyBUcmVlU2V0PFN0cmlu
Zz4oKTsNCiAJCURFQ0xBUkFUSU9OX0MuYWRkQWxsKERFQ0xfU1BFQ0lGSUVSX1NFUVVFTkNFX0Mg
KTsNCiAJCURFQ0xBUkFUSU9OX0MuYWRkKEtleXdvcmRzLkFTTSApOw0KIAl9DQogCQ0KLQlwcml2
YXRlIHN0YXRpYyBmaW5hbCBIYXNodGFibGUgREVDTEFSQVRJT05fVEFCTEU7IA0KKwlwcml2YXRl
IHN0YXRpYyBmaW5hbCBNYXA8UGFyc2VyTGFuZ3VhZ2UsU2V0PFN0cmluZz4+IERFQ0xBUkFUSU9O
X1RBQkxFOyANCiAJc3RhdGljDQogCXsNCi0JCURFQ0xBUkFUSU9OX1RBQkxFID0gbmV3IEhhc2h0
YWJsZSgpOw0KKwkJREVDTEFSQVRJT05fVEFCTEUgPSBuZXcgSGFzaE1hcDxQYXJzZXJMYW5ndWFn
ZSxTZXQ8U3RyaW5nPj4oKTsNCiAJCURFQ0xBUkFUSU9OX1RBQkxFLnB1dCggUGFyc2VyTGFuZ3Vh
Z2UuQ1BQLCBERUNMQVJBVElPTl9DUFAgKTsNCiAJCURFQ0xBUkFUSU9OX1RBQkxFLnB1dCggUGFy
c2VyTGFuZ3VhZ2UuQywgREVDTEFSQVRJT05fQyApOw0KIAl9DQogCQ0KLQlwcml2YXRlIHN0YXRp
YyBmaW5hbCBTZXQgRVhQUkVTU0lPTl9DOw0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQ8U3Ry
aW5nPiBFWFBSRVNTSU9OX0M7DQogCXN0YXRpYw0KIAl7DQotCQlFWFBSRVNTSU9OX0MgPSBuZXcg
VHJlZVNldCgpOw0KKwkJRVhQUkVTU0lPTl9DID0gbmV3IFRyZWVTZXQ8U3RyaW5nPigpOw0KIAkJ
RVhQUkVTU0lPTl9DLmFkZCggS2V5d29yZHMuQ0hBUiApOw0KIAkJRVhQUkVTU0lPTl9DLmFkZCgg
S2V5d29yZHMuV0NIQVJfVCk7DQogCQlFWFBSRVNTSU9OX0MuYWRkKCBLZXl3b3Jkcy5TSE9SVCk7
CQkNCkBAIC0xODUsMTAgKzE4NiwxMCBAQA0KIAkJDQogCX0NCiAJDQotCXByaXZhdGUgc3RhdGlj
IGZpbmFsIFNldCBFWFBSRVNTSU9OX0NQUDsNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0PFN0
cmluZz4gRVhQUkVTU0lPTl9DUFA7DQogCXN0YXRpYw0KIAl7DQotCQlFWFBSRVNTSU9OX0NQUCA9
IG5ldyBUcmVlU2V0KEVYUFJFU1NJT05fQyk7DQorCQlFWFBSRVNTSU9OX0NQUCA9IG5ldyBUcmVl
U2V0PFN0cmluZz4oRVhQUkVTU0lPTl9DKTsNCiAJCUVYUFJFU1NJT05fQ1BQLmFkZCggS2V5d29y
ZHMuQk9PTCApOw0KIAkJRVhQUkVTU0lPTl9DUFAuYWRkKCBLZXl3b3Jkcy5ORVcgKTsNCiAJCUVY
UFJFU1NJT05fQ1BQLmFkZCggS2V5d29yZHMuREVMRVRFICk7DQpAQCAtMjA1LDE4ICsyMDYsMTgg
QEANCiAJCUVYUFJFU1NJT05fQ1BQLmFkZCggS2V5d29yZHMuVEhST1cgKTsNCiAJfQ0KIAkNCi0J
cHJpdmF0ZSBzdGF0aWMgZmluYWwgSGFzaHRhYmxlIEVYUFJFU1NJT05fVEFCTEU7DQorCXByaXZh
dGUgc3RhdGljIGZpbmFsIE1hcDxQYXJzZXJMYW5ndWFnZSxTZXQ8U3RyaW5nPj4gRVhQUkVTU0lP
Tl9UQUJMRTsNCiAJc3RhdGljDQogCXsNCi0JCUVYUFJFU1NJT05fVEFCTEUgPSBuZXcgSGFzaHRh
YmxlKCk7DQorCQlFWFBSRVNTSU9OX1RBQkxFID0gbmV3IEhhc2hNYXA8UGFyc2VyTGFuZ3VhZ2Us
U2V0PFN0cmluZz4+KCk7DQogCQlFWFBSRVNTSU9OX1RBQkxFLnB1dCggUGFyc2VyTGFuZ3VhZ2Uu
Q1BQLCBFWFBSRVNTSU9OX0NQUCApOw0KIAkJRVhQUkVTU0lPTl9UQUJMRS5wdXQoIFBhcnNlckxh
bmd1YWdlLkMsIEVYUFJFU1NJT05fQyApOw0KIAl9DQogCQ0KLQlwcml2YXRlIHN0YXRpYyBmaW5h
bCBTZXQgU1RBVEVNRU5UX0M7DQorCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldDxTdHJpbmc+IFNU
QVRFTUVOVF9DOw0KIAlzdGF0aWMgDQogCXsNCi0JCVNUQVRFTUVOVF9DPSBuZXcgVHJlZVNldCgp
OyANCisJCVNUQVRFTUVOVF9DPSBuZXcgVHJlZVNldDxTdHJpbmc+KCk7IA0KIAkJU1RBVEVNRU5U
X0MuYWRkQWxsKCBERUNMQVJBVElPTl9DICk7DQogCQlTVEFURU1FTlRfQy5hZGRBbGwoIEVYUFJF
U1NJT05fQyApOw0KIAkJU1RBVEVNRU5UX0MuYWRkKCBLZXl3b3Jkcy5GT1IgKTsNCkBAIC0yMzMs
MTAgKzIzNCwxMCBAQA0KIAkJU1RBVEVNRU5UX0MuYWRkKCBLZXl3b3Jkcy5ETyk7DQogCX0NCiAJ
DQotCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldCBTVEFURU1FTlRfQ1BQOyANCisJcHJpdmF0ZSBz
dGF0aWMgZmluYWwgU2V0PFN0cmluZz4gU1RBVEVNRU5UX0NQUDsgDQogCXN0YXRpYyANCiAJew0K
LQkJU1RBVEVNRU5UX0NQUCA9IG5ldyBUcmVlU2V0KCBERUNMQVJBVElPTl9DUFAgKTsNCisJCVNU
QVRFTUVOVF9DUFAgPSBuZXcgVHJlZVNldDxTdHJpbmc+KCBERUNMQVJBVElPTl9DUFAgKTsNCiAJ
CVNUQVRFTUVOVF9DUFAuYWRkQWxsKCBFWFBSRVNTSU9OX0NQUCApOw0KIAkJU1RBVEVNRU5UX0NQ
UC5hZGQoIEtleXdvcmRzLlRSWSApOw0KIAkJU1RBVEVNRU5UX0NQUC5hZGQoIEtleXdvcmRzLkZP
UiApOw0KQEAgLTI1NCw2NSArMjU1LDY1IEBADQogCQlTVEFURU1FTlRfQ1BQLmFkZCggS2V5d29y
ZHMuRE8pOw0KIAl9DQogCQ0KLQlwcml2YXRlIHN0YXRpYyBmaW5hbCBIYXNodGFibGUgU1RBVEVN
RU5UX1RBQkxFOw0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBNYXA8UGFyc2VyTGFuZ3VhZ2UsU2V0
PFN0cmluZz4+IFNUQVRFTUVOVF9UQUJMRTsNCiAJc3RhdGljDQogCXsNCi0JCVNUQVRFTUVOVF9U
QUJMRSA9IG5ldyBIYXNodGFibGUoKTsgDQorCQlTVEFURU1FTlRfVEFCTEUgPSBuZXcgSGFzaE1h
cDxQYXJzZXJMYW5ndWFnZSxTZXQ8U3RyaW5nPj4oKTsgDQogCQlTVEFURU1FTlRfVEFCTEUucHV0
KCBQYXJzZXJMYW5ndWFnZS5DUFAsIFNUQVRFTUVOVF9DUFApOw0KIAkJU1RBVEVNRU5UX1RBQkxF
LnB1dCggUGFyc2VyTGFuZ3VhZ2UuQywgU1RBVEVNRU5UX0MgKTsNCiAJfQ0KIAkNCi0JcHJpdmF0
ZSBzdGF0aWMgZmluYWwgU2V0IEJBU0VfU1BFQ0lGSUVSX0NQUDsNCisJcHJpdmF0ZSBzdGF0aWMg
ZmluYWwgU2V0PFN0cmluZz4gQkFTRV9TUEVDSUZJRVJfQ1BQOw0KIAlzdGF0aWMNCiAJew0KLQkJ
QkFTRV9TUEVDSUZJRVJfQ1BQID0gbmV3IFRyZWVTZXQoKTsNCisJCUJBU0VfU1BFQ0lGSUVSX0NQ
UCA9IG5ldyBUcmVlU2V0PFN0cmluZz4oKTsNCiAJCUJBU0VfU1BFQ0lGSUVSX0NQUC5hZGQoS2V5
d29yZHMuUFVCTElDKTsNCiAJCUJBU0VfU1BFQ0lGSUVSX0NQUC5hZGQoS2V5d29yZHMuUFJPVEVD
VEVEKTsNCiAJCUJBU0VfU1BFQ0lGSUVSX0NQUC5hZGQoS2V5d29yZHMuUFJJVkFURSk7DQogCQlC
QVNFX1NQRUNJRklFUl9DUFAuYWRkKEtleXdvcmRzLlZJUlRVQUwpOw0KIAl9DQogCQ0KLQlwcml2
YXRlIHN0YXRpYyBmaW5hbCBTZXQgQ0xBU1NfTUVNQkVSOw0KKwlwcml2YXRlIHN0YXRpYyBmaW5h
bCBTZXQ8U3RyaW5nPiBDTEFTU19NRU1CRVI7DQogCXN0YXRpYw0KIAl7DQotCQlDTEFTU19NRU1C
RVIgPSBuZXcgVHJlZVNldChERUNMX1NQRUNJRklFUl9TRVFVRU5DRV9DUFApOw0KKwkJQ0xBU1Nf
TUVNQkVSID0gbmV3IFRyZWVTZXQ8U3RyaW5nPihERUNMX1NQRUNJRklFUl9TRVFVRU5DRV9DUFAp
Ow0KIAkJQ0xBU1NfTUVNQkVSLmFkZChLZXl3b3Jkcy5QVUJMSUMpOw0KIAkJQ0xBU1NfTUVNQkVS
LmFkZChLZXl3b3Jkcy5QUk9URUNURUQpOw0KIAkJQ0xBU1NfTUVNQkVSLmFkZChLZXl3b3Jkcy5Q
UklWQVRFKTsNCiAJfQ0KIAkNCi0JcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0IFBPU1RfVVNJTkdf
Q1BQOw0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQ8U3RyaW5nPiBQT1NUX1VTSU5HX0NQUDsN
CiAJc3RhdGljDQogCXsNCi0JCVBPU1RfVVNJTkdfQ1BQID0gbmV3IFRyZWVTZXQoKTsNCisJCVBP
U1RfVVNJTkdfQ1BQID0gbmV3IFRyZWVTZXQ8U3RyaW5nPigpOw0KIAkJUE9TVF9VU0lOR19DUFAu
YWRkKEtleXdvcmRzLk5BTUVTUEFDRSk7DQogCQlQT1NUX1VTSU5HX0NQUC5hZGQoS2V5d29yZHMu
VFlQRU5BTUUpOw0KIAl9DQogCQ0KLQlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQgRlVOQ1RJT05f
TU9ESUZJRVJfQyA9IEVNUFRZX1RBQkxFOyANCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0PFN0
cmluZz4gRlVOQ1RJT05fTU9ESUZJRVJfQyA9IEVNUFRZX1RBQkxFOyANCiANCi0JcHJpdmF0ZSBz
dGF0aWMgZmluYWwgU2V0IEZVTkNUSU9OX01PRElGSUVSX0NQUDsNCisJcHJpdmF0ZSBzdGF0aWMg
ZmluYWwgU2V0PFN0cmluZz4gRlVOQ1RJT05fTU9ESUZJRVJfQ1BQOw0KIAlzdGF0aWMNCiAJew0K
LQkJRlVOQ1RJT05fTU9ESUZJRVJfQ1BQID0gbmV3IFRyZWVTZXQoIEZVTkNUSU9OX01PRElGSUVS
X0MgKTsNCisJCUZVTkNUSU9OX01PRElGSUVSX0NQUCA9IG5ldyBUcmVlU2V0PFN0cmluZz4oIEZV
TkNUSU9OX01PRElGSUVSX0MgKTsNCiAJCQ0KIAkJRlVOQ1RJT05fTU9ESUZJRVJfQ1BQLmFkZCgg
S2V5d29yZHMuVEhST1cpOw0KIAkJRlVOQ1RJT05fTU9ESUZJRVJfQ1BQLmFkZCggS2V5d29yZHMu
VFJZICk7DQogCQlGVU5DVElPTl9NT0RJRklFUl9DUFAuYWRkKCBLZXl3b3Jkcy5WT0xBVElMRSAp
Ow0KIAl9DQogCQ0KLQlwcml2YXRlIHN0YXRpYyBmaW5hbCBIYXNodGFibGUgRlVOQ1RJT05fTU9E
SUZJRVJfVEFCTEU7DQorCXByaXZhdGUgc3RhdGljIGZpbmFsIE1hcDxQYXJzZXJMYW5ndWFnZSxT
ZXQ8U3RyaW5nPj4gRlVOQ1RJT05fTU9ESUZJRVJfVEFCTEU7DQogCXN0YXRpYw0KIAl7DQotCQlG
VU5DVElPTl9NT0RJRklFUl9UQUJMRT0gbmV3IEhhc2h0YWJsZSgyKTsNCisJCUZVTkNUSU9OX01P
RElGSUVSX1RBQkxFPSBuZXcgSGFzaE1hcDxQYXJzZXJMYW5ndWFnZSxTZXQ8U3RyaW5nPj4oMik7
DQogCQlGVU5DVElPTl9NT0RJRklFUl9UQUJMRS5wdXQoIFBhcnNlckxhbmd1YWdlLkNQUCwgRlVO
Q1RJT05fTU9ESUZJRVJfQ1BQICk7DQogCQlGVU5DVElPTl9NT0RJRklFUl9UQUJMRS5wdXQoIFBh
cnNlckxhbmd1YWdlLkMsIEZVTkNUSU9OX01PRElGSUVSX0MgKTsNCiAJfQ0KIA0KLQlwcml2YXRl
IHN0YXRpYyBmaW5hbCBTZXQgUFBfRElSRUNUSVZFU19DOw0KKwlwcml2YXRlIHN0YXRpYyBmaW5h
bCBTZXQ8U3RyaW5nPiBQUF9ESVJFQ1RJVkVTX0M7DQogCXN0YXRpYw0KIAl7DQotCQlQUF9ESVJF
Q1RJVkVTX0MgPSBuZXcgVHJlZVNldCgpOw0KKwkJUFBfRElSRUNUSVZFU19DID0gbmV3IFRyZWVT
ZXQ8U3RyaW5nPigpOw0KIAkJUFBfRElSRUNUSVZFU19DLmFkZChEaXJlY3RpdmVzLlBPVU5EX0JM
QU5LKTsNCiAJCVBQX0RJUkVDVElWRVNfQy5hZGQoRGlyZWN0aXZlcy5QT1VORF9ERUZJTkUpOw0K
IAkJUFBfRElSRUNUSVZFU19DLmFkZChEaXJlY3RpdmVzLlBPVU5EX1VOREVGKTsNCkBAIC0zMzAs
MTAgKzMzMSwxMCBAQA0KIAl9DQogDQogCQ0KLQlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQgUFBf
RElSRUNUSVZFU19DUFA7DQorCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldDxTdHJpbmc+IFBQX0RJ
UkVDVElWRVNfQ1BQOw0KIAlzdGF0aWMNCiAJew0KLQkJUFBfRElSRUNUSVZFU19DUFAgPSBuZXcg
VHJlZVNldCgpOw0KKwkJUFBfRElSRUNUSVZFU19DUFAgPSBuZXcgVHJlZVNldDxTdHJpbmc+KCk7
DQogCQlQUF9ESVJFQ1RJVkVTX0NQUC5hZGQoRGlyZWN0aXZlcy5QT1VORF9CTEFOSyk7DQogCQlQ
UF9ESVJFQ1RJVkVTX0NQUC5hZGQoRGlyZWN0aXZlcy5QT1VORF9ERUZJTkUpOw0KIAkJUFBfRElS
RUNUSVZFU19DUFAuYWRkKERpcmVjdGl2ZXMuUE9VTkRfVU5ERUYpOw0KQEAgLTM0OSwxMCArMzUw
LDEwIEBADQogCQlQUF9ESVJFQ1RJVkVTX0NQUC5hZGQoRGlyZWN0aXZlcy5QT1VORF9FTElGKTsN
CiAJfQ0KIAkNCi0JcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0IEFMTF9DOw0KKwlwcml2YXRlIHN0
YXRpYyBmaW5hbCBTZXQ8U3RyaW5nPiBBTExfQzsNCiAJc3RhdGljDQogCXsNCi0JCUFMTF9DID0g
bmV3IFRyZWVTZXQoUFBfRElSRUNUSVZFU19DUFApOw0KKwkJQUxMX0MgPSBuZXcgVHJlZVNldDxT
dHJpbmc+KFBQX0RJUkVDVElWRVNfQ1BQKTsNCiAJCUFMTF9DLmFkZCggS2V5d29yZHMuQVVUTyk7
DQogCQlBTExfQy5hZGQoIEtleXdvcmRzLkJSRUFLKTsNCiAJCUFMTF9DLmFkZCggS2V5d29yZHMu
Q0FTRSk7DQpAQCAtMzkzLDEwICszOTQsMTAgQEANCiAJCUFMTF9DLmFkZCggS2V5d29yZHMuX0lN
QUdJTkFSWSk7DQogCX0NCiAJDQotCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldCBBTExfQ1BQOw0K
Kwlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQ8U3RyaW5nPiBBTExfQ1BQOw0KIAlzdGF0aWMNCiAJ
ew0KLQkJQUxMX0NQUCA9IG5ldyBUcmVlU2V0KFBQX0RJUkVDVElWRVNfQ1BQKTsNCisJCUFMTF9D
UFAgPSBuZXcgVHJlZVNldDxTdHJpbmc+KFBQX0RJUkVDVElWRVNfQ1BQKTsNCiAJCUFMTF9DUFAu
YWRkKCBLZXl3b3Jkcy5BTkQgKTsNCiAJCUFMTF9DUFAuYWRkKCBLZXl3b3Jkcy5BTkRfRVEpOw0K
IAkJQUxMX0NQUC5hZGQoIEtleXdvcmRzLkFTTSk7DQpAQCAtNDczLDE4ICs0NzQsMTggQEANCiAJ
CUFMTF9DUFAuYWRkKCBLZXl3b3Jkcy5YT1JfRVEpOw0KIA0KIAl9DQotCXByaXZhdGUgc3RhdGlj
IGZpbmFsIEhhc2h0YWJsZSBBTExfVEFCTEU7DQorCXByaXZhdGUgc3RhdGljIGZpbmFsIE1hcDxQ
YXJzZXJMYW5ndWFnZSxTZXQ8U3RyaW5nPj4gQUxMX1RBQkxFOw0KIAlzdGF0aWMNCiAJew0KLQkJ
QUxMX1RBQkxFID0gbmV3IEhhc2h0YWJsZSggMiApOw0KKwkJQUxMX1RBQkxFID0gbmV3IEhhc2hN
YXA8UGFyc2VyTGFuZ3VhZ2UsU2V0PFN0cmluZz4+KCAyICk7DQogCQlBTExfVEFCTEUucHV0KCBQ
YXJzZXJMYW5ndWFnZS5DLCBBTExfQyApOw0KIAkJQUxMX1RBQkxFLnB1dCggUGFyc2VyTGFuZ3Vh
Z2UuQ1BQLCBBTExfQ1BQICk7DQogCX0NCiAJDQotCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldCBL
RVlXT1JEU19DUFA7DQorCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldDxTdHJpbmc+IEtFWVdPUkRT
X0NQUDsNCiAJc3RhdGljDQogCXsNCi0JCUtFWVdPUkRTX0NQUCA9IG5ldyBUcmVlU2V0KCk7DQor
CQlLRVlXT1JEU19DUFAgPSBuZXcgVHJlZVNldDxTdHJpbmc+KCk7DQogCQlLRVlXT1JEU19DUFAu
YWRkKCBLZXl3b3Jkcy5BTkQgKTsNCiAJCUtFWVdPUkRTX0NQUC5hZGQoIEtleXdvcmRzLkFORF9F
USApOw0KIAkJS0VZV09SRFNfQ1BQLmFkZCggS2V5d29yZHMuQVNNICk7DQpAQCAtNTUyLDEwICs1
NTMsMTAgQEANCiANCiAJfQ0KIAkNCi0JcHJpdmF0ZSBzdGF0aWMgU2V0IEtFWVdPUkRTX0M7DQor
CXByaXZhdGUgc3RhdGljIFNldDxTdHJpbmc+IEtFWVdPUkRTX0M7DQogCXN0YXRpYw0KIAl7DQot
CQlLRVlXT1JEU19DID0gbmV3IFRyZWVTZXQoKTsNCisJCUtFWVdPUkRTX0MgPSBuZXcgVHJlZVNl
dDxTdHJpbmc+KCk7DQogCQlLRVlXT1JEU19DLmFkZCggS2V5d29yZHMuQVNNICk7DQogCQlLRVlX
T1JEU19DLmFkZCggS2V5d29yZHMuQVVUTyApOw0KIAkJS0VZV09SRFNfQy5hZGQoIEtleXdvcmRz
LkJSRUFLICk7DQpAQCAtNTg2LDE4ICs1ODcsMTggQEANCiAJDQogCQ0KIA0KLQlwcml2YXRlIHN0
YXRpYyBmaW5hbCBIYXNodGFibGUgS0VZV09SRFNfVEFCTEU7DQorCXByaXZhdGUgc3RhdGljIGZp
bmFsIE1hcDxQYXJzZXJMYW5ndWFnZSxTZXQ8U3RyaW5nPj4gS0VZV09SRFNfVEFCTEU7DQogCXN0
YXRpYw0KIAl7DQotCQlLRVlXT1JEU19UQUJMRSA9IG5ldyBIYXNodGFibGUoMik7DQorCQlLRVlX
T1JEU19UQUJMRSA9IG5ldyBIYXNoTWFwPFBhcnNlckxhbmd1YWdlLFNldDxTdHJpbmc+PigyKTsN
CiAJCUtFWVdPUkRTX1RBQkxFLnB1dCggUGFyc2VyTGFuZ3VhZ2UuQywgS0VZV09SRFNfQyApOw0K
IAkJS0VZV09SRFNfVEFCTEUucHV0KCBQYXJzZXJMYW5ndWFnZS5DUFAsIEtFWVdPUkRTX0NQUCAp
Ow0KIAl9DQogDQotCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldCBUWVBFU19DOw0KKwlwcml2YXRl
IHN0YXRpYyBmaW5hbCBTZXQ8U3RyaW5nPiBUWVBFU19DOw0KIAlzdGF0aWMNCiAJew0KLQkJVFlQ
RVNfQyA9IG5ldyBUcmVlU2V0KCk7DQorCQlUWVBFU19DID0gbmV3IFRyZWVTZXQ8U3RyaW5nPigp
Ow0KIAkJVFlQRVNfQy5hZGQoIEtleXdvcmRzLkNIQVIgKTsNCiAJCVRZUEVTX0MuYWRkKCBLZXl3
b3Jkcy5ET1VCTEUgKTsNCiAJCVRZUEVTX0MuYWRkKCBLZXl3b3Jkcy5GTE9BVCApOw0KQEAgLTYx
MSwxMCArNjEyLDEwIEBADQogCQlUWVBFU19DLmFkZCggS2V5d29yZHMuX0NPTVBMRVggKTsNCiAJ
CVRZUEVTX0MuYWRkKCBLZXl3b3Jkcy5fSU1BR0lOQVJZICk7DQogCX0NCi0JcHJpdmF0ZSBzdGF0
aWMgZmluYWwgU2V0IFRZUEVTX0NQUDsNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0PFN0cmlu
Zz4gVFlQRVNfQ1BQOw0KIAlzdGF0aWMNCiAJew0KLQkJVFlQRVNfQ1BQID0gbmV3IFRyZWVTZXQo
KTsNCisJCVRZUEVTX0NQUCA9IG5ldyBUcmVlU2V0PFN0cmluZz4oKTsNCiAJCVRZUEVTX0NQUC5h
ZGQoIEtleXdvcmRzLkJPT0wgKTsNCiAJCVRZUEVTX0NQUC5hZGQoIEtleXdvcmRzLkNIQVIgKTsN
CiAJCVRZUEVTX0NQUC5hZGQoIEtleXdvcmRzLkRPVUJMRSApOw0KQEAgLTYyOCwxOCArNjI5LDE4
IEBADQogCQlUWVBFU19DUFAuYWRkKCBLZXl3b3Jkcy5XQ0hBUl9UICk7DQogCX0JDQogCQ0KLQlw
cml2YXRlIHN0YXRpYyBIYXNodGFibGUgVFlQRVNfVEFCTEU7DQorCXByaXZhdGUgc3RhdGljIE1h
cDxQYXJzZXJMYW5ndWFnZSxTZXQ8U3RyaW5nPj4gVFlQRVNfVEFCTEU7DQogCXN0YXRpYw0KIAl7
DQotCQlUWVBFU19UQUJMRSA9IG5ldyBIYXNodGFibGUoIDIgKTsNCisJCVRZUEVTX1RBQkxFID0g
bmV3IEhhc2hNYXA8UGFyc2VyTGFuZ3VhZ2UsIFNldDxTdHJpbmc+PiggMiApOw0KIAkJVFlQRVNf
VEFCTEUucHV0KCBQYXJzZXJMYW5ndWFnZS5DLCBUWVBFU19DICk7DQogCQlUWVBFU19UQUJMRS5w
dXQoIFBhcnNlckxhbmd1YWdlLkNQUCwgVFlQRVNfQ1BQICk7DQogCX0NCiAJDQotCXByaXZhdGUg
c3RhdGljIEhhc2h0YWJsZSBQUF9ESVJFQ1RJVkVTX1RBQkxFOw0KKwlwcml2YXRlIHN0YXRpYyBN
YXA8UGFyc2VyTGFuZ3VhZ2UsU2V0PFN0cmluZz4+IFBQX0RJUkVDVElWRVNfVEFCTEU7DQogCXN0
YXRpYw0KIAl7DQotCQlQUF9ESVJFQ1RJVkVTX1RBQkxFID0gbmV3IEhhc2h0YWJsZSggMiApOw0K
KwkJUFBfRElSRUNUSVZFU19UQUJMRSA9IG5ldyBIYXNoTWFwPFBhcnNlckxhbmd1YWdlLFNldDxT
dHJpbmc+PiggMiApOw0KIAkJUFBfRElSRUNUSVZFU19UQUJMRS5wdXQoIFBhcnNlckxhbmd1YWdl
LkMsIFBQX0RJUkVDVElWRVNfQyApOw0KIAkJUFBfRElSRUNUSVZFU19UQUJMRS5wdXQoIFBhcnNl
ckxhbmd1YWdlLkNQUCwgUFBfRElSRUNUSVZFU19DUFAgKTsNCiAJfQ0KSW5kZXg6IHNyYy9vcmcv
ZWNsaXBzZS9jZHQvaW50ZXJuYWwvZm9ybWF0dGVyL0NDb2RlRm9ybWF0dGVyLmphdmENCj09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT0NClJDUyBmaWxlOiAvY3Zzcm9vdC90b29scy9vcmcuZWNsaXBzZS5jZHQvYWxsL29yZy5l
Y2xpcHNlLmNkdC5jb3JlL3NyYy9vcmcvZWNsaXBzZS9jZHQvaW50ZXJuYWwvZm9ybWF0dGVyL0ND
b2RlRm9ybWF0dGVyLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjExDQpkaWZmIC11IC1y
MS4xMSBDQ29kZUZvcm1hdHRlci5qYXZhDQotLS0gc3JjL29yZy9lY2xpcHNlL2NkdC9pbnRlcm5h
bC9mb3JtYXR0ZXIvQ0NvZGVGb3JtYXR0ZXIuamF2YQkxNCBKdW4gMjAwNyAxODowNDowMCAtMDAw
MAkxLjExDQorKysgc3JjL29yZy9lY2xpcHNlL2NkdC9pbnRlcm5hbC9mb3JtYXR0ZXIvQ0NvZGVG
b3JtYXR0ZXIuamF2YQkyIEphbiAyMDA4IDE2OjM5OjE2IC0wMDAwDQpAQCAtMTY2LDcgKzE2Niw3
IEBADQogCQkJDQogCQkJSUxhbmd1YWdlIGxhbmd1YWdlPSAoSUxhbmd1YWdlKW9wdGlvbnMuZ2V0
KERlZmF1bHRDb2RlRm9ybWF0dGVyQ29uc3RhbnRzLkZPUk1BVFRFUl9MQU5HVUFHRSk7DQogCQkJ
aWYgKGxhbmd1YWdlID09IG51bGwpIHsNCi0JCQkJbGFuZ3VhZ2U9IEdQUExhbmd1YWdlLmdldERl
ZmF1bHQoKTsNCisJCQkJbGFuZ3VhZ2U9IEdQUExhbmd1YWdlLkRFRkFVTFRfSU5TVEFOQ0U7DQog
CQkJfQ0KIAkJCUlBU1RUcmFuc2xhdGlvblVuaXQgYXN0Ow0KIAkJCXRyeSB7DQpJbmRleDogcGFy
c2VyL29yZy9lY2xpcHNlL2NkdC9jb3JlL2RvbS9wYXJzZXIvY3BwL0Fic3RyYWN0Q1BQTGFuZ3Vh
Z2UuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IHBhcnNlci9vcmcvZWNsaXBzZS9jZHQvY29y
ZS9kb20vcGFyc2VyL2NwcC9BYnN0cmFjdENQUExhbmd1YWdlLmphdmENCmRpZmYgLU4gcGFyc2Vy
L29yZy9lY2xpcHNlL2NkdC9jb3JlL2RvbS9wYXJzZXIvY3BwL0Fic3RyYWN0Q1BQTGFuZ3VhZ2Uu
amF2YQ0KLS0tIHBhcnNlci9vcmcvZWNsaXBzZS9jZHQvY29yZS9kb20vcGFyc2VyL2NwcC9BYnN0
cmFjdENQUExhbmd1YWdlLmphdmEJMjEgRGVjIDIwMDcgMDk6MzU6NTIgLTAwMDAJMS4xMA0KKysr
IC9kZXYvbnVsbAkxIEphbiAxOTcwIDAwOjAwOjAwIC0wMDAwDQpAQCAtMSwyMjggKzAsMCBAQA0K
LS8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqDQotICogQ29weXJpZ2h0IChjKSAyMDA3IFdpbmQgUml2
ZXIgU3lzdGVtcywgSW5jLiBhbmQgb3RoZXJzLg0KLSAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuIFRo
aXMgcHJvZ3JhbSBhbmQgdGhlIGFjY29tcGFueWluZyBtYXRlcmlhbHMNCi0gKiBhcmUgbWFkZSBh
dmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBFY2xpcHNlIFB1YmxpYyBMaWNlbnNlIHYx
LjANCi0gKiB3aGljaCBhY2NvbXBhbmllcyB0aGlzIGRpc3RyaWJ1dGlvbiwgYW5kIGlzIGF2YWls
YWJsZSBhdA0KLSAqIGh0dHA6Ly93d3cuZWNsaXBzZS5vcmcvbGVnYWwvZXBsLXYxMC5odG1sDQot
ICoNCi0gKiBDb250cmlidXRvcnM6DQotICogICAgIEFudG9uIExlaGVyYmF1ZXIgKFdpbmQgUml2
ZXIgU3lzdGVtcykgLSBpbml0aWFsIEFQSSBhbmQgaW1wbGVtZW50YXRpb24NCi0gKiAgICAgTWFy
a3VzIFNjaG9ybiAoV2luZCBSaXZlciBTeXN0ZW1zKQ0KLSAqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
Lw0KLXBhY2thZ2Ugb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLnBhcnNlci5jcHA7DQotDQotaW1w
b3J0IGphdmEudXRpbC5BcnJheUxpc3Q7DQotaW1wb3J0IGphdmEudXRpbC5IYXNoU2V0Ow0KLWlt
cG9ydCBqYXZhLnV0aWwuSXRlcmF0b3I7DQotaW1wb3J0IGphdmEudXRpbC5MaXN0Ow0KLWltcG9y
dCBqYXZhLnV0aWwuU2V0Ow0KLQ0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20uSUNv
ZGVSZWFkZXJGYWN0b3J5Ow0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20uYXN0LklB
U1RDb21wbGV0aW9uTm9kZTsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLmFzdC5J
QVNUTmFtZTsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLmFzdC5JQVNUTm9kZTsN
Ci1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLmFzdC5JQVNUVHJhbnNsYXRpb25Vbml0
Ow0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20uYXN0LmNwcC5DUFBBU1RWaXNpdG9y
Ow0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20ucGFyc2VyLklTY2FubmVyRXh0ZW5z
aW9uQ29uZmlndXJhdGlvbjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLnBhcnNl
ci5JU291cmNlQ29kZVBhcnNlcjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUuaW5kZXgu
SUluZGV4Ow0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5tb2RlbC5BYnN0cmFjdExhbmd1
YWdlOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5tb2RlbC5JQ0xhbmd1YWdlS2V5d29y
ZHM7DQotaW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLm1vZGVsLklDb250cmlidXRlZE1vZGVs
QnVpbGRlcjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUubW9kZWwuSVRyYW5zbGF0aW9u
VW5pdDsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFyc2VyLkNvZGVSZWFkZXI7DQot
aW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLnBhcnNlci5JUGFyc2VyTG9nU2VydmljZTsNCi1p
bXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFyc2VyLklTY2FubmVyOw0KLWltcG9ydCBvcmcu
ZWNsaXBzZS5jZHQuY29yZS5wYXJzZXIuSVNjYW5uZXJJbmZvOw0KLWltcG9ydCBvcmcuZWNsaXBz
ZS5jZHQuY29yZS5wYXJzZXIuS2V5d29yZFNldEtleTsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0
LmNvcmUucGFyc2VyLlBhcnNlckxhbmd1YWdlOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29y
ZS5wYXJzZXIuUGFyc2VyTW9kZTsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFyc2Vy
LnV0aWwuQ2hhckFycmF5SW50TWFwOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuaW50ZXJuYWwu
Y29yZS5kb20ucGFyc2VyLmNwcC5HTlVDUFBTb3VyY2VQYXJzZXI7DQotaW1wb3J0IG9yZy5lY2xp
cHNlLmNkdC5pbnRlcm5hbC5jb3JlLnBhcnNlci5zY2FubmVyLkNQcmVwcm9jZXNzb3I7DQotaW1w
b3J0IG9yZy5lY2xpcHNlLmNkdC5pbnRlcm5hbC5jb3JlLnBhcnNlci50b2tlbi5LZXl3b3JkU2V0
czsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmludGVybmFsLmNvcmUucGRvbS5kb20uSVBET01M
aW5rYWdlRmFjdG9yeTsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmludGVybmFsLmNvcmUucGRv
bS5kb20uY3BwLlBET01DUFBMaW5rYWdlRmFjdG9yeTsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY29y
ZS5ydW50aW1lLkNvcmVFeGNlcHRpb247DQotDQotLyoqDQotICogQWJzdHJhY3QgQysrIGxhbmd1
YWdlLiBEZXJpdmVkIGNsYXNzZXMgbmVlZCBvbmx5IGltcGxlbWVudA0KLSAqIHtAbGluayBnZXRT
Y2FubmVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbigpfSBhbmQgDQotICoge0BsaW5rIGdldFBhcnNl
ckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24oKX0uDQotICogDQotICogPHA+DQotICogPHN0cm9uZz5F
WFBFUklNRU5UQUw8L3N0cm9uZz4uIFRoaXMgY2xhc3Mgb3IgaW50ZXJmYWNlIGhhcyBiZWVuIGFk
ZGVkIGFzDQotICogcGFydCBvZiBhIHdvcmsgaW4gcHJvZ3Jlc3MuIFRoZXJlIGlzIG5vIGd1YXJh
bnRlZSB0aGF0IHRoaXMgQVBJIHdpbGwgd29yayBvcg0KLSAqIHRoYXQgaXQgd2lsbCByZW1haW4g
dGhlIHNhbWUuIFBsZWFzZSBkbyBub3QgdXNlIHRoaXMgQVBJIHdpdGhvdXQgY29uc3VsdGluZw0K
LSAqIHdpdGggdGhlIENEVCB0ZWFtLg0KLSAqIDwvcD4NCi0gKiANCi0gKiBAc2VlIElTY2FubmVy
RXh0ZW5zaW9uQ29uZmlndXJhdGlvbg0KLSAqIEBzZWUgSUNQUFBhcnNlckV4dGVuc2lvbkNvbmZp
Z3VyYXRpb24NCi0gKiANCi0gKiBAc2luY2UgNC4wDQotICovDQotcHVibGljIGFic3RyYWN0IGNs
YXNzIEFic3RyYWN0Q1BQTGFuZ3VhZ2UgZXh0ZW5kcyBBYnN0cmFjdExhbmd1YWdlIGltcGxlbWVu
dHMgSUNMYW5ndWFnZUtleXdvcmRzIHsNCi0NCi0JcHJvdGVjdGVkIHN0YXRpYyBjbGFzcyBOYW1l
Q29sbGVjdG9yIGV4dGVuZHMgQ1BQQVNUVmlzaXRvciB7DQotCQl7DQotCQkJc2hvdWxkVmlzaXRO
YW1lcz0gdHJ1ZTsNCi0JCX0NCi0NCi0JCXByaXZhdGUgTGlzdCBuYW1lTGlzdD0gbmV3IEFycmF5
TGlzdCgpOw0KLQ0KLQkJcHVibGljIGludCB2aXNpdChJQVNUTmFtZSBuYW1lKSB7DQotCQkJbmFt
ZUxpc3QuYWRkKG5hbWUpOw0KLQkJCXJldHVybiBQUk9DRVNTX0NPTlRJTlVFOw0KLQkJfQ0KLQ0K
LQkJcHVibGljIElBU1ROYW1lW10gZ2V0TmFtZXMoKSB7DQotCQkJcmV0dXJuIChJQVNUTmFtZVtd
KSBuYW1lTGlzdC50b0FycmF5KG5ldyBJQVNUTmFtZVtuYW1lTGlzdC5zaXplKCldKTsNCi0JCX0N
Ci0JfQ0KLQ0KLQlwdWJsaWMgT2JqZWN0IGdldEFkYXB0ZXIoQ2xhc3MgYWRhcHRlcikgew0KLQkJ
aWYgKGFkYXB0ZXIgPT0gSVBET01MaW5rYWdlRmFjdG9yeS5jbGFzcykgew0KLQkJCXJldHVybiBu
ZXcgUERPTUNQUExpbmthZ2VGYWN0b3J5KCk7DQotCQl9DQotCQlyZXR1cm4gc3VwZXIuZ2V0QWRh
cHRlcihhZGFwdGVyKTsNCi0JfQ0KLQ0KLQlwdWJsaWMgSUFTVFRyYW5zbGF0aW9uVW5pdCBnZXRB
U1RUcmFuc2xhdGlvblVuaXQoQ29kZVJlYWRlciByZWFkZXIsIElTY2FubmVySW5mbyBzY2FuSW5m
bywNCi0JCQlJQ29kZVJlYWRlckZhY3RvcnkgY29kZVJlYWRlckZhY3RvcnksIElJbmRleCBpbmRl
eCxJUGFyc2VyTG9nU2VydmljZSBsb2cpIHRocm93cyBDb3JlRXhjZXB0aW9uIHsNCi0JCXJldHVy
biBnZXRBU1RUcmFuc2xhdGlvblVuaXQocmVhZGVyLCBzY2FuSW5mbywgY29kZVJlYWRlckZhY3Rv
cnksIGluZGV4LCAwLCBsb2cpOw0KLQl9DQotCQ0KLQlwdWJsaWMgSUFTVFRyYW5zbGF0aW9uVW5p
dCBnZXRBU1RUcmFuc2xhdGlvblVuaXQoQ29kZVJlYWRlciByZWFkZXIsIElTY2FubmVySW5mbyBz
Y2FuSW5mbywNCi0JCQlJQ29kZVJlYWRlckZhY3RvcnkgY29kZVJlYWRlckZhY3RvcnksIElJbmRl
eCBpbmRleCwgaW50IG9wdGlvbnMsIElQYXJzZXJMb2dTZXJ2aWNlIGxvZykgdGhyb3dzIENvcmVF
eGNlcHRpb24gew0KLQ0KLQkJSVNjYW5uZXIgc2Nhbm5lcj0gY3JlYXRlU2Nhbm5lcihyZWFkZXIs
IHNjYW5JbmZvLCBjb2RlUmVhZGVyRmFjdG9yeSwgbG9nKTsNCi0JCXNjYW5uZXIuc2V0U2NhbkNv
bW1lbnRzKChvcHRpb25zICYgT1BUSU9OX0FERF9DT01NRU5UUykgIT0gMCk7DQotCQlJU291cmNl
Q29kZVBhcnNlciBwYXJzZXI9IGNyZWF0ZVBhcnNlcihzY2FubmVyLCBsb2csIGluZGV4LCBmYWxz
ZSwgb3B0aW9ucyk7DQotDQotCQkvLyBQYXJzZQ0KLQkJSUFTVFRyYW5zbGF0aW9uVW5pdCBhc3Q9
IHBhcnNlci5wYXJzZSgpOw0KLQkJcmV0dXJuIGFzdDsNCi0JfQ0KLQ0KLQlwdWJsaWMgSUFTVENv
bXBsZXRpb25Ob2RlIGdldENvbXBsZXRpb25Ob2RlKENvZGVSZWFkZXIgcmVhZGVyLCBJU2Nhbm5l
ckluZm8gc2NhbkluZm8sDQotCQkJSUNvZGVSZWFkZXJGYWN0b3J5IGZpbGVDcmVhdG9yLCBJSW5k
ZXggaW5kZXgsIElQYXJzZXJMb2dTZXJ2aWNlIGxvZywgaW50IG9mZnNldCkgdGhyb3dzIENvcmVF
eGNlcHRpb24gew0KLQkJSVNjYW5uZXIgc2Nhbm5lcj0gY3JlYXRlU2Nhbm5lcihyZWFkZXIsIHNj
YW5JbmZvLCBmaWxlQ3JlYXRvciwgbG9nKTsNCi0JCXNjYW5uZXIuc2V0Q29udGVudEFzc2lzdE1v
ZGUob2Zmc2V0KTsNCi0NCi0JCUlTb3VyY2VDb2RlUGFyc2VyIHBhcnNlcj0gY3JlYXRlUGFyc2Vy
KHNjYW5uZXIsIGxvZywgaW5kZXgsIHRydWUsIDApOw0KLQ0KLQkJLy8gUnVuIHRoZSBwYXJzZSBh
bmQgcmV0dXJuIHRoZSBjb21wbGV0aW9uIG5vZGUNCi0JCXBhcnNlci5wYXJzZSgpOw0KLQkJSUFT
VENvbXBsZXRpb25Ob2RlIG5vZGU9IHBhcnNlci5nZXRDb21wbGV0aW9uTm9kZSgpOw0KLQkJcmV0
dXJuIG5vZGU7DQotCX0NCi0NCi0JcHVibGljIElBU1ROYW1lW10gZ2V0U2VsZWN0ZWROYW1lcyhJ
QVNUVHJhbnNsYXRpb25Vbml0IGFzdCwgaW50IHN0YXJ0LCBpbnQgbGVuZ3RoKSB7DQotCQlJQVNU
Tm9kZSBzZWxlY3RlZE5vZGU9IGFzdC5zZWxlY3ROb2RlRm9yTG9jYXRpb24oYXN0LmdldEZpbGVQ
YXRoKCksIHN0YXJ0LCBsZW5ndGgpOw0KLQ0KLQkJaWYgKHNlbGVjdGVkTm9kZSA9PSBudWxsKQ0K
LQkJCXJldHVybiBuZXcgSUFTVE5hbWVbMF07DQotDQotCQlpZiAoc2VsZWN0ZWROb2RlIGluc3Rh
bmNlb2YgSUFTVE5hbWUpDQotCQkJcmV0dXJuIG5ldyBJQVNUTmFtZVtdIHsgKElBU1ROYW1lKSBz
ZWxlY3RlZE5vZGUgfTsNCi0NCi0JCU5hbWVDb2xsZWN0b3IgY29sbGVjdG9yPSBuZXcgTmFtZUNv
bGxlY3RvcigpOw0KLQkJc2VsZWN0ZWROb2RlLmFjY2VwdChjb2xsZWN0b3IpOw0KLQkJcmV0dXJu
IGNvbGxlY3Rvci5nZXROYW1lcygpOw0KLQl9DQotDQotCXB1YmxpYyBJQ29udHJpYnV0ZWRNb2Rl
bEJ1aWxkZXIgY3JlYXRlTW9kZWxCdWlsZGVyKElUcmFuc2xhdGlvblVuaXQgdHUpIHsNCi0JCS8v
IFVzZSB0aGUgZGVmYXVsdCBDRFQgbW9kZWwgYnVpbGRlcg0KLQkJcmV0dXJuIG51bGw7DQotCX0N
Ci0NCi0JLyoqDQotCSAqIENyZWF0ZSB0aGUgc2Nhbm5lciB0byBiZSB1c2VkIHdpdGggdGhlIHBh
cnNlci4NCi0JICogDQotCSAqIEBwYXJhbSByZWFkZXIgIHRoZSBjb2RlIHJlYWRlciBmb3IgdGhl
IG1haW4gZmlsZQ0KLQkgKiBAcGFyYW0gc2NhbkluZm8gIHRoZSBzY2FubmVyIGluZm9ybWF0aW9u
IChtYWNyb3MsIGluY2x1ZGUgcGF0aGVzKQ0KLQkgKiBAcGFyYW0gZmlsZUNyZWF0b3IgIHRoZSBj
b2RlIHJlYWRlciBmYWN0b3J5IGZvciBpbmNsdXNpb25zDQotCSAqIEBwYXJhbSBsb2cgIHRoZSBs
b2cgZm9yIGRlYnVnZ2luZw0KLQkgKiBAcmV0dXJuIGFuIGluc3RhbmNlIG9mIElTY2FubmVyDQot
CSAqLw0KLQlwcm90ZWN0ZWQgSVNjYW5uZXIgY3JlYXRlU2Nhbm5lcihDb2RlUmVhZGVyIHJlYWRl
ciwgSVNjYW5uZXJJbmZvIHNjYW5JbmZvLCBJQ29kZVJlYWRlckZhY3RvcnkgZmlsZUNyZWF0b3Is
IElQYXJzZXJMb2dTZXJ2aWNlIGxvZykgew0KLQkJcmV0dXJuIG5ldyBDUHJlcHJvY2Vzc29yKHJl
YWRlciwgc2NhbkluZm8sIFBhcnNlckxhbmd1YWdlLkNQUCwgbG9nLCBnZXRTY2FubmVyRXh0ZW5z
aW9uQ29uZmlndXJhdGlvbigpLCBmaWxlQ3JlYXRvcik7DQotCX0NCi0NCi0JLyoqDQotCSAqIENy
ZWF0ZSB0aGUgcGFyc2VyLg0KLQkgKiANCi0JICogQHBhcmFtIHNjYW5uZXIgIHRoZSBJU2Nhbm5l
ciB0byBnZXQgdG9rZW5zIGZyb20NCi0JICogQHBhcmFtIGxvZyAgdGhlIHBhcnNlciBsb2cgc2Vy
dmljZQ0KLQkgKiBAcGFyYW0gaW5kZXggIHRoZSBpbmRleCB0byBoZWxwIHJlc29sdmUgYmluZGlu
Z3MNCi0JICogQHBhcmFtIGZvckNvbXBsZXRpb24gIHdoZXRoZXIgdGhlIHBhcnNlciBpcyB1c2Vk
IGZvciBjb2RlIGNvbXBsZXRpb24NCi0JICogQHBhcmFtIG9wdGlvbnMgZm9yIHZhbGlkIG9wdGlv
bnMgc2VlIHtAbGluayBBYnN0cmFjdExhbmd1YWdlI2dldEFTVFRyYW5zbGF0aW9uVW5pdChDb2Rl
UmVhZGVyLCBJU2Nhbm5lckluZm8sIElDb2RlUmVhZGVyRmFjdG9yeSwgSUluZGV4LCBpbnQsIElQ
YXJzZXJMb2dTZXJ2aWNlKX0NCi0JICogQHJldHVybiAgYW4gaW5zdGFuY2Ugb2YgSVNvdXJjZUNv
ZGVQYXJzZXINCi0JICovDQotCXByb3RlY3RlZCBJU291cmNlQ29kZVBhcnNlciBjcmVhdGVQYXJz
ZXIoSVNjYW5uZXIgc2Nhbm5lciwgSVBhcnNlckxvZ1NlcnZpY2UgbG9nLCBJSW5kZXggaW5kZXgs
IGJvb2xlYW4gZm9yQ29tcGxldGlvbiwgaW50IG9wdGlvbnMpIHsNCi0JCVBhcnNlck1vZGUgbW9k
ZT0gbnVsbDsNCi0JCWlmIChmb3JDb21wbGV0aW9uKSB7DQotCQkJbW9kZT0gUGFyc2VyTW9kZS5D
T01QTEVUSU9OX1BBUlNFOw0KLQkJfQ0KLQkJZWxzZSBpZiAoKG9wdGlvbnMgJiBPUFRJT05fU0tJ
UF9GVU5DVElPTl9CT0RJRVMpICE9IDApIHsNCi0JCQltb2RlPSBQYXJzZXJNb2RlLlNUUlVDVFVS
QUxfUEFSU0U7DQotCQl9DQotCQllbHNlIHsNCi0JCQltb2RlPSBQYXJzZXJNb2RlLkNPTVBMRVRF
X1BBUlNFOw0KLQkJfQ0KLQkJcmV0dXJuIG5ldyBHTlVDUFBTb3VyY2VQYXJzZXIoc2Nhbm5lciwg
bW9kZSwgbG9nLCBnZXRQYXJzZXJFeHRlbnNpb25Db25maWd1cmF0aW9uKCksIGluZGV4KTsNCi0J
fQ0KLQ0KLQkvKioNCi0JICogQHJldHVybiB0aGUgc2Nhbm5lciBleHRlbnNpb24gY29uZmlndXJh
dGlvbiBmb3IgdGhpcyBsYW5ndWFnZSwgbWF5IG5vdA0KLQkgKiAgICAgICAgIHJldHVybiA8Y29k
ZT5udWxsPC9jb2RlPg0KLQkgKi8NCi0JcHJvdGVjdGVkIGFic3RyYWN0IElTY2FubmVyRXh0ZW5z
aW9uQ29uZmlndXJhdGlvbiBnZXRTY2FubmVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbigpOw0KLQ0K
LQkvKioNCi0JICogQHJldHVybiB0aGUgcGFyc2VyIGV4dGVuc2lvbiBjb25maWd1cmF0aW9uIGZv
ciB0aGlzIGxhbmd1YWdlLCBtYXkgbm90DQotCSAqICAgICAgICAgcmV0dXJuIDxjb2RlPm51bGw8
L2NvZGU+DQotCSAqLw0KLQlwcm90ZWN0ZWQgYWJzdHJhY3QgQWJzdHJhY3RDUFBQYXJzZXJFeHRl
bnNpb25Db25maWd1cmF0aW9uIGdldFBhcnNlckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24oKTsNCi0N
Ci0JLyoNCi0JICogQHNlZSBvcmcuZWNsaXBzZS5jZHQuY29yZS5tb2RlbC5JQ0xhbmd1YWdlS2V5
d29yZHMjZ2V0S2V5d29yZHMoKQ0KLQkgKi8NCi0JcHVibGljIFN0cmluZ1tdIGdldEtleXdvcmRz
KCkgew0KLQkJU2V0IGtleXdvcmRzPSBLZXl3b3JkU2V0cy5nZXRLZXl3b3JkcyhLZXl3b3JkU2V0
S2V5LktFWVdPUkRTLCBQYXJzZXJMYW5ndWFnZS5DUFApOw0KLQkJa2V5d29yZHM9IG5ldyBIYXNo
U2V0KGtleXdvcmRzKTsNCi0JCUNoYXJBcnJheUludE1hcCBhZGRpdGlvbmFsS2V5d29yZHM9IGdl
dFNjYW5uZXJFeHRlbnNpb25Db25maWd1cmF0aW9uKCkuZ2V0QWRkaXRpb25hbEtleXdvcmRzKCk7
DQotCQlpZiAoYWRkaXRpb25hbEtleXdvcmRzICE9IG51bGwpIHsNCi0JCQlmb3IgKEl0ZXJhdG9y
IGl0ZXJhdG9yID0gYWRkaXRpb25hbEtleXdvcmRzLnRvTGlzdCgpLml0ZXJhdG9yKCk7IGl0ZXJh
dG9yLmhhc05leHQoKTsgKSB7DQotCQkJCWNoYXJbXSBuYW1lID0gKGNoYXJbXSkgaXRlcmF0b3Iu
bmV4dCgpOw0KLQkJCQlrZXl3b3Jkcy5hZGQobmV3IFN0cmluZyhuYW1lKSk7DQotCQkJfQ0KLQkJ
fQ0KLQkJcmV0dXJuIChTdHJpbmdbXSkga2V5d29yZHMudG9BcnJheShuZXcgU3RyaW5nW2tleXdv
cmRzLnNpemUoKV0pOw0KLQl9DQotDQotCS8qDQotCSAqIEBzZWUgb3JnLmVjbGlwc2UuY2R0LmNv
cmUubW9kZWwuSUNMYW5ndWFnZUtleXdvcmRzI2dldEJ1aWx0aW5UeXBlcygpDQotCSAqLw0KLQlw
dWJsaWMgU3RyaW5nW10gZ2V0QnVpbHRpblR5cGVzKCkgew0KLQkJU2V0IHR5cGVzPSBLZXl3b3Jk
U2V0cy5nZXRLZXl3b3JkcyhLZXl3b3JkU2V0S2V5LlRZUEVTLCBQYXJzZXJMYW5ndWFnZS5DUFAp
Ow0KLQkJcmV0dXJuIChTdHJpbmdbXSkgdHlwZXMudG9BcnJheShuZXcgU3RyaW5nW3R5cGVzLnNp
emUoKV0pOw0KLQl9DQotDQotCS8qDQotCSAqIEBzZWUgb3JnLmVjbGlwc2UuY2R0LmNvcmUubW9k
ZWwuSUNMYW5ndWFnZUtleXdvcmRzI2dldFByZXByb2Nlc3NvcktleXdvcmRzKCkNCi0JICovDQot
CXB1YmxpYyBTdHJpbmdbXSBnZXRQcmVwcm9jZXNzb3JLZXl3b3JkcygpIHsNCi0JCVNldCBrZXl3
b3Jkcz0gS2V5d29yZFNldHMuZ2V0S2V5d29yZHMoS2V5d29yZFNldEtleS5QUF9ESVJFQ1RJVkUs
IFBhcnNlckxhbmd1YWdlLkNQUCk7DQotCQlrZXl3b3Jkcz0gbmV3IEhhc2hTZXQoa2V5d29yZHMp
Ow0KLQkJQ2hhckFycmF5SW50TWFwIGFkZGl0aW9uYWxLZXl3b3Jkcz0gZ2V0U2Nhbm5lckV4dGVu
c2lvbkNvbmZpZ3VyYXRpb24oKS5nZXRBZGRpdGlvbmFsUHJlcHJvY2Vzc29yS2V5d29yZHMoKTsN
Ci0JCWlmIChhZGRpdGlvbmFsS2V5d29yZHMgIT0gbnVsbCkgew0KLQkJCWZvciAoSXRlcmF0b3Ig
aXRlcmF0b3IgPSBhZGRpdGlvbmFsS2V5d29yZHMudG9MaXN0KCkuaXRlcmF0b3IoKTsgaXRlcmF0
b3IuaGFzTmV4dCgpOyApIHsNCi0JCQkJY2hhcltdIG5hbWUgPSAoY2hhcltdKSBpdGVyYXRvci5u
ZXh0KCk7DQotCQkJCWtleXdvcmRzLmFkZChuZXcgU3RyaW5nKG5hbWUpKTsNCi0JCQl9DQotCQl9
DQotCQlyZXR1cm4gKFN0cmluZ1tdKSBrZXl3b3Jkcy50b0FycmF5KG5ldyBTdHJpbmdba2V5d29y
ZHMuc2l6ZSgpXSk7DQotCX0NCi19DQpJbmRleDogcGFyc2VyL29yZy9lY2xpcHNlL2NkdC9jb3Jl
L2RvbS9wYXJzZXIvQWJzdHJhY3RDTGlrZUxhbmd1YWdlLmphdmENCj09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBm
aWxlOiBwYXJzZXIvb3JnL2VjbGlwc2UvY2R0L2NvcmUvZG9tL3BhcnNlci9BYnN0cmFjdENMaWtl
TGFuZ3VhZ2UuamF2YQ0KZGlmZiAtTiBwYXJzZXIvb3JnL2VjbGlwc2UvY2R0L2NvcmUvZG9tL3Bh
cnNlci9BYnN0cmFjdENMaWtlTGFuZ3VhZ2UuamF2YQ0KLS0tIC9kZXYvbnVsbAkxIEphbiAxOTcw
IDAwOjAwOjAwIC0wMDAwDQorKysgcGFyc2VyL29yZy9lY2xpcHNlL2NkdC9jb3JlL2RvbS9wYXJz
ZXIvQWJzdHJhY3RDTGlrZUxhbmd1YWdlLmphdmEJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0K
QEAgLTAsMCArMSwxOTggQEANCitwYWNrYWdlIG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5wYXJz
ZXI7DQorDQoraW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7DQoraW1wb3J0IGphdmEudXRpbC5I
YXNoU2V0Ow0KK2ltcG9ydCBqYXZhLnV0aWwuSXRlcmF0b3I7DQoraW1wb3J0IGphdmEudXRpbC5M
aXN0Ow0KK2ltcG9ydCBqYXZhLnV0aWwuU2V0Ow0KKw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQu
Y29yZS5kb20uSUNvZGVSZWFkZXJGYWN0b3J5Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29y
ZS5kb20uYXN0LkFTVFZpc2l0b3I7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5h
c3QuSUFTVENvbXBsZXRpb25Ob2RlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20u
YXN0LklBU1ROYW1lOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20uYXN0LklBU1RO
b2RlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20uYXN0LklBU1RUcmFuc2xhdGlv
blVuaXQ7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmluZGV4LklJbmRleDsNCitpbXBv
cnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUubW9kZWwuQWJzdHJhY3RMYW5ndWFnZTsNCitpbXBvcnQg
b3JnLmVjbGlwc2UuY2R0LmNvcmUubW9kZWwuSUNMYW5ndWFnZUtleXdvcmRzOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5jZHQuY29yZS5tb2RlbC5JQ29udHJpYnV0ZWRNb2RlbEJ1aWxkZXI7DQoraW1w
b3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLm1vZGVsLklUcmFuc2xhdGlvblVuaXQ7DQoraW1wb3J0
IG9yZy5lY2xpcHNlLmNkdC5jb3JlLnBhcnNlci5Db2RlUmVhZGVyOw0KK2ltcG9ydCBvcmcuZWNs
aXBzZS5jZHQuY29yZS5wYXJzZXIuSVBhcnNlckxvZ1NlcnZpY2U7DQoraW1wb3J0IG9yZy5lY2xp
cHNlLmNkdC5jb3JlLnBhcnNlci5JU2Nhbm5lcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNv
cmUucGFyc2VyLklTY2FubmVySW5mbzsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFy
c2VyLktleXdvcmRTZXRLZXk7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLnBhcnNlci5Q
YXJzZXJMYW5ndWFnZTsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFyc2VyLlBhcnNl
ck1vZGU7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLnBhcnNlci51dGlsLkNoYXJBcnJh
eUludE1hcDsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmludGVybmFsLmNvcmUucGFyc2VyLnNj
YW5uZXIuQ1ByZXByb2Nlc3NvcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmludGVybmFsLmNv
cmUucGFyc2VyLnRva2VuLktleXdvcmRTZXRzOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jb3JlLnJ1
bnRpbWUuQ29yZUV4Y2VwdGlvbjsNCisNCitwdWJsaWMgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RD
TGlrZUxhbmd1YWdlIGV4dGVuZHMgQWJzdHJhY3RMYW5ndWFnZSBpbXBsZW1lbnRzIElDTGFuZ3Vh
Z2VLZXl3b3JkcyB7DQorDQorCXN0YXRpYyBjbGFzcyBOYW1lQ29sbGVjdG9yIGV4dGVuZHMgQVNU
VmlzaXRvciB7DQorCQl7DQorCQkJc2hvdWxkVmlzaXROYW1lcz0gdHJ1ZTsNCisJCX0NCisNCisJ
CXByaXZhdGUgTGlzdDxJQVNUTmFtZT4gbmFtZUxpc3Q9IG5ldyBBcnJheUxpc3Q8SUFTVE5hbWU+
KCk7DQorDQorCQlAT3ZlcnJpZGUgcHVibGljIGludCB2aXNpdChJQVNUTmFtZSBuYW1lKSB7DQor
CQkJbmFtZUxpc3QuYWRkKG5hbWUpOw0KKwkJCXJldHVybiBQUk9DRVNTX0NPTlRJTlVFOw0KKwkJ
fQ0KKw0KKwkJcHVibGljIElBU1ROYW1lW10gZ2V0TmFtZXMoKSB7DQorCQkJcmV0dXJuIG5hbWVM
aXN0LnRvQXJyYXkobmV3IElBU1ROYW1lW25hbWVMaXN0LnNpemUoKV0pOw0KKwkJfQ0KKwl9DQor
CQ0KKwkNCisJLyoqDQorCSAqIEByZXR1cm4gdGhlIHNjYW5uZXIgZXh0ZW5zaW9uIGNvbmZpZ3Vy
YXRpb24gZm9yIHRoaXMgbGFuZ3VhZ2UsIG1heSBub3QNCisJICogICAgICAgICByZXR1cm4gPGNv
ZGU+bnVsbDwvY29kZT4NCisJICovDQorCXByb3RlY3RlZCBhYnN0cmFjdCBJU2Nhbm5lckV4dGVu
c2lvbkNvbmZpZ3VyYXRpb24gZ2V0U2Nhbm5lckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24oKTsNCisN
CisJDQorCS8qKg0KKwkgKiBDcmVhdGUgdGhlIGFjdHVhbCBwYXJzZXIgb2JqZWN0Lg0KKwkgKi8N
CisJcHJvdGVjdGVkIGFic3RyYWN0IElTb3VyY2VDb2RlUGFyc2VyIGNyZWF0ZVBhcnNlcihJU2Nh
bm5lciBzY2FubmVyLCBQYXJzZXJNb2RlIHBhcnNlck1vZGUsDQorCQkJSVBhcnNlckxvZ1NlcnZp
Y2UgbG9nU2VydmljZSwgSUluZGV4IGluZGV4KTsNCisJDQorCQ0KKwkvKioNCisJICogQHJldHVy
biBUaGUgUGFyc2VyTGFuZ3VhZ2UgdmFsdWUgY29ycmVzcG9uZGluZyB0byB0aGUgbGFuZ3VhZ2Ug
c3VwcG9ydGVkLg0KKwkgKi8NCisJcHJvdGVjdGVkIGFic3RyYWN0IFBhcnNlckxhbmd1YWdlIGdl
dFBhcnNlckxhbmd1YWdlKCk7DQorCQ0KKwkNCisJcHVibGljIElBU1RUcmFuc2xhdGlvblVuaXQg
Z2V0QVNUVHJhbnNsYXRpb25Vbml0KENvZGVSZWFkZXIgcmVhZGVyLCBJU2Nhbm5lckluZm8gc2Nh
bkluZm8sDQorCQkJSUNvZGVSZWFkZXJGYWN0b3J5IGZpbGVDcmVhdG9yLCBJSW5kZXggaW5kZXgs
IElQYXJzZXJMb2dTZXJ2aWNlIGxvZykgdGhyb3dzIENvcmVFeGNlcHRpb24gew0KKwkJcmV0dXJu
IGdldEFTVFRyYW5zbGF0aW9uVW5pdChyZWFkZXIsIHNjYW5JbmZvLCBmaWxlQ3JlYXRvciwgaW5k
ZXgsIDAsIGxvZyk7DQorCX0NCisJDQorCUBPdmVycmlkZQ0KKwlwdWJsaWMgSUFTVFRyYW5zbGF0
aW9uVW5pdCBnZXRBU1RUcmFuc2xhdGlvblVuaXQoQ29kZVJlYWRlciByZWFkZXIsIElTY2FubmVy
SW5mbyBzY2FuSW5mbywNCisJCQlJQ29kZVJlYWRlckZhY3RvcnkgY29kZVJlYWRlckZhY3Rvcnks
IElJbmRleCBpbmRleCwgaW50IG9wdGlvbnMsIElQYXJzZXJMb2dTZXJ2aWNlIGxvZykgdGhyb3dz
IENvcmVFeGNlcHRpb24gew0KKw0KKwkJSVNjYW5uZXIgc2Nhbm5lcj0gY3JlYXRlU2Nhbm5lcihy
ZWFkZXIsIHNjYW5JbmZvLCBjb2RlUmVhZGVyRmFjdG9yeSwgbG9nKTsNCisJCXNjYW5uZXIuc2V0
U2NhbkNvbW1lbnRzKChvcHRpb25zICYgT1BUSU9OX0FERF9DT01NRU5UUykgIT0gMCk7DQorCQlz
Y2FubmVyLnNldENvbXB1dGVJbWFnZUxvY2F0aW9ucygob3B0aW9ucyAmIEFic3RyYWN0TGFuZ3Vh
Z2UuT1BUSU9OX05PX0lNQUdFX0xPQ0FUSU9OUykgPT0gMCk7DQorDQorCQlJU291cmNlQ29kZVBh
cnNlciBwYXJzZXI9IGNyZWF0ZVBhcnNlcihzY2FubmVyLCBsb2csIGluZGV4LCBmYWxzZSwgb3B0
aW9ucyk7DQorCQkNCisJCS8vIFBhcnNlDQorCQlJQVNUVHJhbnNsYXRpb25Vbml0IGFzdD0gcGFy
c2VyLnBhcnNlKCk7DQorCQlyZXR1cm4gYXN0Ow0KKwl9DQorDQorCXB1YmxpYyBJQVNUQ29tcGxl
dGlvbk5vZGUgZ2V0Q29tcGxldGlvbk5vZGUoQ29kZVJlYWRlciByZWFkZXIsIElTY2FubmVySW5m
byBzY2FuSW5mbywNCisJCQlJQ29kZVJlYWRlckZhY3RvcnkgZmlsZUNyZWF0b3IsIElJbmRleCBp
bmRleCwgSVBhcnNlckxvZ1NlcnZpY2UgbG9nLCBpbnQgb2Zmc2V0KSB0aHJvd3MgQ29yZUV4Y2Vw
dGlvbiB7DQorDQorCQlJU2Nhbm5lciBzY2FubmVyPSBjcmVhdGVTY2FubmVyKHJlYWRlciwgc2Nh
bkluZm8sIGZpbGVDcmVhdG9yLCBsb2cpOw0KKwkJc2Nhbm5lci5zZXRDb250ZW50QXNzaXN0TW9k
ZShvZmZzZXQpOw0KKw0KKwkJSVNvdXJjZUNvZGVQYXJzZXIgcGFyc2VyPSBjcmVhdGVQYXJzZXIo
c2Nhbm5lciwgbG9nLCBpbmRleCwgdHJ1ZSwgMCk7DQorDQorCQkvLyBSdW4gdGhlIHBhcnNlIGFu
ZCByZXR1cm4gdGhlIGNvbXBsZXRpb24gbm9kZQ0KKwkJcGFyc2VyLnBhcnNlKCk7DQorCQlJQVNU
Q29tcGxldGlvbk5vZGUgbm9kZT0gcGFyc2VyLmdldENvbXBsZXRpb25Ob2RlKCk7DQorCQlyZXR1
cm4gbm9kZTsNCisJfQ0KKwkNCisJDQorCS8qKg0KKwkgKiBDcmVhdGUgdGhlIHBhcnNlci4NCisJ
ICogDQorCSAqIEBwYXJhbSBzY2FubmVyICB0aGUgSVNjYW5uZXIgdG8gZ2V0IHRva2VucyBmcm9t
DQorCSAqIEBwYXJhbSBsb2cgIHRoZSBwYXJzZXIgbG9nIHNlcnZpY2UNCisJICogQHBhcmFtIGlu
ZGV4ICB0aGUgaW5kZXggdG8gaGVscCByZXNvbHZlIGJpbmRpbmdzDQorCSAqIEBwYXJhbSBmb3JD
b21wbGV0aW9uICB3aGV0aGVyIHRoZSBwYXJzZXIgaXMgdXNlZCBmb3IgY29kZSBjb21wbGV0aW9u
DQorCSAqIEBwYXJhbSBvcHRpb25zIGZvciB2YWxpZCBvcHRpb25zIHNlZSB7QGxpbmsgQWJzdHJh
Y3RMYW5ndWFnZSNnZXRBU1RUcmFuc2xhdGlvblVuaXQoQ29kZVJlYWRlciwgSVNjYW5uZXJJbmZv
LCBJQ29kZVJlYWRlckZhY3RvcnksIElJbmRleCwgaW50LCBJUGFyc2VyTG9nU2VydmljZSl9DQor
CSAqIEByZXR1cm4gIGFuIGluc3RhbmNlIG9mIElTb3VyY2VDb2RlUGFyc2VyDQorCSAqLw0KKwlw
cm90ZWN0ZWQgSVNvdXJjZUNvZGVQYXJzZXIgY3JlYXRlUGFyc2VyKElTY2FubmVyIHNjYW5uZXIs
IElQYXJzZXJMb2dTZXJ2aWNlIGxvZywgSUluZGV4IGluZGV4LCBib29sZWFuIGZvckNvbXBsZXRp
b24sIGludCBvcHRpb25zKSB7DQorCQlQYXJzZXJNb2RlIG1vZGU9IG51bGw7DQorCQlpZiAoZm9y
Q29tcGxldGlvbikgew0KKwkJCW1vZGU9IFBhcnNlck1vZGUuQ09NUExFVElPTl9QQVJTRTsNCisJ
CX0NCisJCWVsc2UgaWYgKChvcHRpb25zICYgT1BUSU9OX1NLSVBfRlVOQ1RJT05fQk9ESUVTKSAh
PSAwKSB7DQorCQkJbW9kZT0gUGFyc2VyTW9kZS5TVFJVQ1RVUkFMX1BBUlNFOw0KKwkJfQ0KKwkJ
ZWxzZSB7DQorCQkJbW9kZT0gUGFyc2VyTW9kZS5DT01QTEVURV9QQVJTRTsNCisJCX0NCisJCXJl
dHVybiBjcmVhdGVQYXJzZXIoc2Nhbm5lciwgbW9kZSwgbG9nLCBpbmRleCk7DQorCX0NCisJDQor
CQ0KKwkvKioNCisJICogQ3JlYXRlIHRoZSBzY2FubmVyIHRvIGJlIHVzZWQgd2l0aCB0aGUgcGFy
c2VyLg0KKwkgKiANCisJICogQHBhcmFtIHJlYWRlciAgdGhlIGNvZGUgcmVhZGVyIGZvciB0aGUg
bWFpbiBmaWxlDQorCSAqIEBwYXJhbSBzY2FuSW5mbyAgdGhlIHNjYW5uZXIgaW5mb3JtYXRpb24g
KG1hY3JvcywgaW5jbHVkZSBwYXRoZXMpDQorCSAqIEBwYXJhbSBmaWxlQ3JlYXRvciAgdGhlIGNv
ZGUgcmVhZGVyIGZhY3RvcnkgZm9yIGluY2x1c2lvbnMNCisJICogQHBhcmFtIGxvZyAgdGhlIGxv
ZyBmb3IgZGVidWdnaW5nDQorCSAqIEByZXR1cm4gYW4gaW5zdGFuY2Ugb2YgSVNjYW5uZXINCisJ
ICovDQorCXByb3RlY3RlZCBJU2Nhbm5lciBjcmVhdGVTY2FubmVyKENvZGVSZWFkZXIgcmVhZGVy
LCBJU2Nhbm5lckluZm8gc2NhbkluZm8sIElDb2RlUmVhZGVyRmFjdG9yeSBmaWxlQ3JlYXRvciwg
SVBhcnNlckxvZ1NlcnZpY2UgbG9nKSB7DQorCQlyZXR1cm4gbmV3IENQcmVwcm9jZXNzb3IocmVh
ZGVyLCBzY2FuSW5mbywgZ2V0UGFyc2VyTGFuZ3VhZ2UoKSwgbG9nLCBnZXRTY2FubmVyRXh0ZW5z
aW9uQ29uZmlndXJhdGlvbigpLCBmaWxlQ3JlYXRvcik7DQorCX0NCisJDQorCXB1YmxpYyBJQVNU
TmFtZVtdIGdldFNlbGVjdGVkTmFtZXMoSUFTVFRyYW5zbGF0aW9uVW5pdCBhc3QsIGludCBzdGFy
dCwgaW50IGxlbmd0aCkgew0KKwkJSUFTVE5vZGUgc2VsZWN0ZWROb2RlPSBhc3Quc2VsZWN0Tm9k
ZUZvckxvY2F0aW9uKGFzdC5nZXRGaWxlUGF0aCgpLCBzdGFydCwgbGVuZ3RoKTsNCisNCisJCWlm
IChzZWxlY3RlZE5vZGUgPT0gbnVsbCkNCisJCQlyZXR1cm4gbmV3IElBU1ROYW1lWzBdOw0KKw0K
KwkJaWYgKHNlbGVjdGVkTm9kZSBpbnN0YW5jZW9mIElBU1ROYW1lKQ0KKwkJCXJldHVybiBuZXcg
SUFTVE5hbWVbXSB7IChJQVNUTmFtZSkgc2VsZWN0ZWROb2RlIH07DQorDQorCQlOYW1lQ29sbGVj
dG9yIGNvbGxlY3RvciA9IG5ldyBOYW1lQ29sbGVjdG9yKCk7DQorCQlzZWxlY3RlZE5vZGUuYWNj
ZXB0KGNvbGxlY3Rvcik7DQorCQlyZXR1cm4gY29sbGVjdG9yLmdldE5hbWVzKCk7DQorCX0NCisJ
DQorCQ0KKwlwdWJsaWMgSUNvbnRyaWJ1dGVkTW9kZWxCdWlsZGVyIGNyZWF0ZU1vZGVsQnVpbGRl
cihJVHJhbnNsYXRpb25Vbml0IHR1KSB7DQorCQkvLyB1c2UgZGVmYXVsdCBtb2RlbCBidWlsZGVy
DQorCQlyZXR1cm4gbnVsbDsNCisJfQ0KKw0KKwkNCisJcHVibGljIFN0cmluZ1tdIGdldEtleXdv
cmRzKCkgew0KKwkJU2V0PFN0cmluZz4ga2V5d29yZHMgPSBuZXcgSGFzaFNldDxTdHJpbmc+KEtl
eXdvcmRTZXRzLmdldEtleXdvcmRzKEtleXdvcmRTZXRLZXkuS0VZV09SRFMsIGdldFBhcnNlckxh
bmd1YWdlKCkpKTsNCisJCQ0KKwkJQ2hhckFycmF5SW50TWFwIGFkZGl0aW9uYWxLZXl3b3JkcyA9
IGdldFNjYW5uZXJFeHRlbnNpb25Db25maWd1cmF0aW9uKCkuZ2V0QWRkaXRpb25hbEtleXdvcmRz
KCk7DQorCQlpZiAoYWRkaXRpb25hbEtleXdvcmRzICE9IG51bGwpIHsNCisJCQlmb3IgKEl0ZXJh
dG9yIGl0ZXJhdG9yID0gYWRkaXRpb25hbEtleXdvcmRzLnRvTGlzdCgpLml0ZXJhdG9yKCk7IGl0
ZXJhdG9yLmhhc05leHQoKTsgKSB7DQorCQkJCWNoYXJbXSBuYW1lID0gKGNoYXJbXSkgaXRlcmF0
b3IubmV4dCgpOw0KKwkJCQlrZXl3b3Jkcy5hZGQobmV3IFN0cmluZyhuYW1lKSk7DQorCQkJfQ0K
KwkJfQ0KKwkJcmV0dXJuIGtleXdvcmRzLnRvQXJyYXkobmV3IFN0cmluZ1trZXl3b3Jkcy5zaXpl
KCldKTsNCisJfQ0KKw0KKw0KKwlwdWJsaWMgU3RyaW5nW10gZ2V0QnVpbHRpblR5cGVzKCkgew0K
KwkJU2V0PFN0cmluZz4gdHlwZXMgPSBLZXl3b3JkU2V0cy5nZXRLZXl3b3JkcyhLZXl3b3JkU2V0
S2V5LlRZUEVTLCBnZXRQYXJzZXJMYW5ndWFnZSgpKTsNCisJCXJldHVybiB0eXBlcy50b0FycmF5
KG5ldyBTdHJpbmdbdHlwZXMuc2l6ZSgpXSk7DQorCX0NCisNCisNCisJcHVibGljIFN0cmluZ1td
IGdldFByZXByb2Nlc3NvcktleXdvcmRzKCkgew0KKwkJU2V0PFN0cmluZz4ga2V5d29yZHMgPSBu
ZXcgSGFzaFNldDxTdHJpbmc+KEtleXdvcmRTZXRzLmdldEtleXdvcmRzKEtleXdvcmRTZXRLZXku
UFBfRElSRUNUSVZFLCBnZXRQYXJzZXJMYW5ndWFnZSgpKSk7DQorCQlDaGFyQXJyYXlJbnRNYXAg
YWRkaXRpb25hbEtleXdvcmRzPSBnZXRTY2FubmVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbigpLmdl
dEFkZGl0aW9uYWxQcmVwcm9jZXNzb3JLZXl3b3JkcygpOw0KKwkJaWYgKGFkZGl0aW9uYWxLZXl3
b3JkcyAhPSBudWxsKSB7DQorCQkJZm9yIChJdGVyYXRvciBpdGVyYXRvciA9IGFkZGl0aW9uYWxL
ZXl3b3Jkcy50b0xpc3QoKS5pdGVyYXRvcigpOyBpdGVyYXRvci5oYXNOZXh0KCk7ICkgew0KKwkJ
CQljaGFyW10gbmFtZSA9IChjaGFyW10pIGl0ZXJhdG9yLm5leHQoKTsNCisJCQkJa2V5d29yZHMu
YWRkKG5ldyBTdHJpbmcobmFtZSkpOw0KKwkJCX0NCisJCX0NCisJCXJldHVybiBrZXl3b3Jkcy50
b0FycmF5KG5ldyBTdHJpbmdba2V5d29yZHMuc2l6ZSgpXSk7DQorCX0NCisJDQorfQ0K
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>85997</attachid>
            <date>2008-01-02 12:19:00 -0500</date>
            <delta_ts>2014-05-29 16:28:54 -0400</delta_ts>
            <desc>updated patch</desc>
            <filename>bug_214127_patch_2.txt</filename>
            <type>text/plain</type>
            <size>49792</size>
            <attacher name="Mike Kucera">mikekucera</attacher>
            
              <data encoding="base64">IyMjIEVjbGlwc2UgV29ya3NwYWNlIFBhdGNoIDEuMA0KI1Agb3JnLmVjbGlwc2UuY2R0LmNvcmUN
CkluZGV4OiBwYXJzZXIvb3JnL2VjbGlwc2UvY2R0L2NvcmUvZG9tL3BhcnNlci9jL0Fic3RyYWN0
Q0xhbmd1YWdlLmphdmENCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiBwYXJzZXIvb3JnL2VjbGlwc2Uv
Y2R0L2NvcmUvZG9tL3BhcnNlci9jL0Fic3RyYWN0Q0xhbmd1YWdlLmphdmENCmRpZmYgLU4gcGFy
c2VyL29yZy9lY2xpcHNlL2NkdC9jb3JlL2RvbS9wYXJzZXIvYy9BYnN0cmFjdENMYW5ndWFnZS5q
YXZhDQotLS0gcGFyc2VyL29yZy9lY2xpcHNlL2NkdC9jb3JlL2RvbS9wYXJzZXIvYy9BYnN0cmFj
dENMYW5ndWFnZS5qYXZhCTIxIERlYyAyMDA3IDA5OjM1OjUyIC0wMDAwCTEuMTANCisrKyAvZGV2
L251bGwJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KQEAgLTEsMjMyICswLDAgQEANCi0vKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKg0KLSAqIENvcHlyaWdodCAoYykgMjAwNyBXaW5kIFJpdmVyIFN5
c3RlbXMsIEluYy4gYW5kIG90aGVycy4NCi0gKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHBy
b2dyYW0gYW5kIHRoZSBhY2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQotICogYXJlIG1hZGUgYXZhaWxh
YmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQot
ICogd2hpY2ggYWNjb21wYW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUg
YXQNCi0gKiBodHRwOi8vd3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KLSAqDQot
ICogQ29udHJpYnV0b3JzOg0KLSAqICAgICBBbnRvbiBMZWhlcmJhdWVyIChXaW5kIFJpdmVyIFN5
c3RlbXMpIC0gaW5pdGlhbCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQotICogICAgIE1hcmt1cyBT
Y2hvcm4gKFdpbmQgUml2ZXIgU3lzdGVtcykNCi0gKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCi1w
YWNrYWdlIG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5wYXJzZXIuYzsNCi0NCi1pbXBvcnQgamF2
YS51dGlsLkFycmF5TGlzdDsNCi1pbXBvcnQgamF2YS51dGlsLkhhc2hTZXQ7DQotaW1wb3J0IGph
dmEudXRpbC5JdGVyYXRvcjsNCi1pbXBvcnQgamF2YS51dGlsLkxpc3Q7DQotaW1wb3J0IGphdmEu
dXRpbC5TZXQ7DQotDQotaW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5JQ29kZVJlYWRl
ckZhY3Rvcnk7DQotaW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5hc3QuSUFTVENvbXBs
ZXRpb25Ob2RlOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20uYXN0LklBU1ROYW1l
Ow0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20uYXN0LklBU1ROb2RlOw0KLWltcG9y
dCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20uYXN0LklBU1RUcmFuc2xhdGlvblVuaXQ7DQotaW1w
b3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5hc3QuYy5DQVNUVmlzaXRvcjsNCi1pbXBvcnQg
b3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLnBhcnNlci5BYnN0cmFjdFNjYW5uZXJFeHRlbnNpb25D
b25maWd1cmF0aW9uOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20ucGFyc2VyLklT
Y2FubmVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNv
cmUuZG9tLnBhcnNlci5JU291cmNlQ29kZVBhcnNlcjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0
LmNvcmUuaW5kZXguSUluZGV4Ow0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5tb2RlbC5B
YnN0cmFjdExhbmd1YWdlOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5tb2RlbC5JQ0xh
bmd1YWdlS2V5d29yZHM7DQotaW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLm1vZGVsLklDb250
cmlidXRlZE1vZGVsQnVpbGRlcjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUubW9kZWwu
SVRyYW5zbGF0aW9uVW5pdDsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFyc2VyLkNv
ZGVSZWFkZXI7DQotaW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLnBhcnNlci5JUGFyc2VyTG9n
U2VydmljZTsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFyc2VyLklTY2FubmVyOw0K
LWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5wYXJzZXIuSVNjYW5uZXJJbmZvOw0KLWltcG9y
dCBvcmcuZWNsaXBzZS5jZHQuY29yZS5wYXJzZXIuS2V5d29yZFNldEtleTsNCi1pbXBvcnQgb3Jn
LmVjbGlwc2UuY2R0LmNvcmUucGFyc2VyLlBhcnNlckxhbmd1YWdlOw0KLWltcG9ydCBvcmcuZWNs
aXBzZS5jZHQuY29yZS5wYXJzZXIuUGFyc2VyTW9kZTsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0
LmNvcmUucGFyc2VyLnV0aWwuQ2hhckFycmF5SW50TWFwOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5j
ZHQuaW50ZXJuYWwuY29yZS5kb20ucGFyc2VyLmMuR05VQ1NvdXJjZVBhcnNlcjsNCi1pbXBvcnQg
b3JnLmVjbGlwc2UuY2R0LmludGVybmFsLmNvcmUucGFyc2VyLnNjYW5uZXIuQ1ByZXByb2Nlc3Nv
cjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmludGVybmFsLmNvcmUucGFyc2VyLnRva2VuLktl
eXdvcmRTZXRzOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuaW50ZXJuYWwuY29yZS5wZG9tLmRv
bS5JUERPTUxpbmthZ2VGYWN0b3J5Ow0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuaW50ZXJuYWwu
Y29yZS5wZG9tLmRvbS5jLlBET01DTGlua2FnZUZhY3Rvcnk7DQotaW1wb3J0IG9yZy5lY2xpcHNl
LmNvcmUucnVudGltZS5Db3JlRXhjZXB0aW9uOw0KLQ0KLS8qKg0KLSAqIEFic3RyYWN0IEMgbGFu
Z3VhZ2UuIERlcml2ZWQgY2xhc3NlcyBuZWVkIG9ubHkgaW1wbGVtZW50DQotICoge0BsaW5rIGdl
dFNjYW5uZXJFeHRlbnNpb25Db25maWd1cmF0aW9uKCl9IGFuZCANCi0gKiB7QGxpbmsgZ2V0UGFy
c2VyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbigpfS4NCi0gKiANCi0gKiA8cD4NCi0gKiA8c3Ryb25n
PkVYUEVSSU1FTlRBTDwvc3Ryb25nPi4gVGhpcyBjbGFzcyBvciBpbnRlcmZhY2UgaGFzIGJlZW4g
YWRkZWQgYXMNCi0gKiBwYXJ0IG9mIGEgd29yayBpbiBwcm9ncmVzcy4gVGhlcmUgaXMgbm8gZ3Vh
cmFudGVlIHRoYXQgdGhpcyBBUEkgd2lsbCB3b3JrIG9yDQotICogdGhhdCBpdCB3aWxsIHJlbWFp
biB0aGUgc2FtZS4gUGxlYXNlIGRvIG5vdCB1c2UgdGhpcyBBUEkgd2l0aG91dCBjb25zdWx0aW5n
DQotICogd2l0aCB0aGUgQ0RUIHRlYW0uDQotICogPC9wPg0KLSAqIA0KLSAqIEBzZWUgQWJzdHJh
Y3RTY2FubmVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbg0KLSAqIA0KLSAqIEBzaW5jZSA0LjANCi0g
Ki8NCi1wdWJsaWMgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RDTGFuZ3VhZ2UgZXh0ZW5kcyBBYnN0
cmFjdExhbmd1YWdlIGltcGxlbWVudHMgSUNMYW5ndWFnZUtleXdvcmRzIHsNCi0NCi0JcHJvdGVj
dGVkIHN0YXRpYyBjbGFzcyBOYW1lQ29sbGVjdG9yIGV4dGVuZHMgQ0FTVFZpc2l0b3Igew0KLQkJ
ew0KLQkJCXNob3VsZFZpc2l0TmFtZXM9IHRydWU7DQotCQl9DQotDQotCQlwcml2YXRlIExpc3Qg
bmFtZUxpc3Q9IG5ldyBBcnJheUxpc3QoKTsNCi0NCi0JCXB1YmxpYyBpbnQgdmlzaXQoSUFTVE5h
bWUgbmFtZSkgew0KLQkJCW5hbWVMaXN0LmFkZChuYW1lKTsNCi0JCQlyZXR1cm4gUFJPQ0VTU19D
T05USU5VRTsNCi0JCX0NCi0NCi0JCXB1YmxpYyBJQVNUTmFtZVtdIGdldE5hbWVzKCkgew0KLQkJ
CXJldHVybiAoSUFTVE5hbWVbXSkgbmFtZUxpc3QudG9BcnJheShuZXcgSUFTVE5hbWVbbmFtZUxp
c3Quc2l6ZSgpXSk7DQotCQl9DQotCX0NCi0NCi0JcHVibGljIE9iamVjdCBnZXRBZGFwdGVyKENs
YXNzIGFkYXB0ZXIpIHsNCi0JCWlmIChhZGFwdGVyID09IElQRE9NTGlua2FnZUZhY3RvcnkuY2xh
c3MpIHsNCi0JCQlyZXR1cm4gbmV3IFBET01DTGlua2FnZUZhY3RvcnkoKTsNCi0JCX0NCi0JCXJl
dHVybiBzdXBlci5nZXRBZGFwdGVyKGFkYXB0ZXIpOw0KLQl9DQotDQotCXB1YmxpYyBJQVNUVHJh
bnNsYXRpb25Vbml0IGdldEFTVFRyYW5zbGF0aW9uVW5pdChDb2RlUmVhZGVyIHJlYWRlciwgSVNj
YW5uZXJJbmZvIHNjYW5JbmZvLA0KLQkJCUlDb2RlUmVhZGVyRmFjdG9yeSBmaWxlQ3JlYXRvciwg
SUluZGV4IGluZGV4LCBJUGFyc2VyTG9nU2VydmljZSBsb2cpIHRocm93cyBDb3JlRXhjZXB0aW9u
IHsNCi0JCXJldHVybiBnZXRBU1RUcmFuc2xhdGlvblVuaXQocmVhZGVyLCBzY2FuSW5mbywgZmls
ZUNyZWF0b3IsIGluZGV4LCAwLCBsb2cpOw0KLQl9DQotDQotCXB1YmxpYyBJQVNUVHJhbnNsYXRp
b25Vbml0IGdldEFTVFRyYW5zbGF0aW9uVW5pdChDb2RlUmVhZGVyIHJlYWRlciwgSVNjYW5uZXJJ
bmZvIHNjYW5JbmZvLA0KLQkJCUlDb2RlUmVhZGVyRmFjdG9yeSBjb2RlUmVhZGVyRmFjdG9yeSwg
SUluZGV4IGluZGV4LCBpbnQgb3B0aW9ucywgSVBhcnNlckxvZ1NlcnZpY2UgbG9nKSB0aHJvd3Mg
Q29yZUV4Y2VwdGlvbiB7DQotDQotCQlJU2Nhbm5lciBzY2FubmVyPSBjcmVhdGVTY2FubmVyKHJl
YWRlciwgc2NhbkluZm8sIGNvZGVSZWFkZXJGYWN0b3J5LCBsb2cpOw0KLQkJc2Nhbm5lci5zZXRT
Y2FuQ29tbWVudHMoKG9wdGlvbnMgJiBPUFRJT05fQUREX0NPTU1FTlRTKSAhPSAwKTsNCi0JCXNj
YW5uZXIuc2V0Q29tcHV0ZUltYWdlTG9jYXRpb25zKChvcHRpb25zICYgQWJzdHJhY3RMYW5ndWFn
ZS5PUFRJT05fTk9fSU1BR0VfTE9DQVRJT05TKSA9PSAwKTsNCi0NCi0JCUlTb3VyY2VDb2RlUGFy
c2VyIHBhcnNlcj0gY3JlYXRlUGFyc2VyKHNjYW5uZXIsIGxvZywgaW5kZXgsIGZhbHNlLCBvcHRp
b25zKTsNCi0JCQ0KLQkJLy8gUGFyc2UNCi0JCUlBU1RUcmFuc2xhdGlvblVuaXQgYXN0PSBwYXJz
ZXIucGFyc2UoKTsNCi0JCXJldHVybiBhc3Q7DQotCX0NCi0NCi0JcHVibGljIElBU1RDb21wbGV0
aW9uTm9kZSBnZXRDb21wbGV0aW9uTm9kZShDb2RlUmVhZGVyIHJlYWRlciwgSVNjYW5uZXJJbmZv
IHNjYW5JbmZvLA0KLQkJCUlDb2RlUmVhZGVyRmFjdG9yeSBmaWxlQ3JlYXRvciwgSUluZGV4IGlu
ZGV4LCBJUGFyc2VyTG9nU2VydmljZSBsb2csIGludCBvZmZzZXQpIHRocm93cyBDb3JlRXhjZXB0
aW9uIHsNCi0NCi0JCUlTY2FubmVyIHNjYW5uZXI9IGNyZWF0ZVNjYW5uZXIocmVhZGVyLCBzY2Fu
SW5mbywgZmlsZUNyZWF0b3IsIGxvZyk7DQotCQlzY2FubmVyLnNldENvbnRlbnRBc3Npc3RNb2Rl
KG9mZnNldCk7DQotDQotCQlJU291cmNlQ29kZVBhcnNlciBwYXJzZXI9IGNyZWF0ZVBhcnNlcihz
Y2FubmVyLCBsb2csIGluZGV4LCB0cnVlLCAwKTsNCi0NCi0JCS8vIFJ1biB0aGUgcGFyc2UgYW5k
IHJldHVybiB0aGUgY29tcGxldGlvbiBub2RlDQotCQlwYXJzZXIucGFyc2UoKTsNCi0JCUlBU1RD
b21wbGV0aW9uTm9kZSBub2RlPSBwYXJzZXIuZ2V0Q29tcGxldGlvbk5vZGUoKTsNCi0JCXJldHVy
biBub2RlOw0KLQl9DQotDQotDQotCXB1YmxpYyBJQVNUTmFtZVtdIGdldFNlbGVjdGVkTmFtZXMo
SUFTVFRyYW5zbGF0aW9uVW5pdCBhc3QsIGludCBzdGFydCwgaW50IGxlbmd0aCkgew0KLQkJSUFT
VE5vZGUgc2VsZWN0ZWROb2RlPSBhc3Quc2VsZWN0Tm9kZUZvckxvY2F0aW9uKGFzdC5nZXRGaWxl
UGF0aCgpLCBzdGFydCwgbGVuZ3RoKTsNCi0NCi0JCWlmIChzZWxlY3RlZE5vZGUgPT0gbnVsbCkN
Ci0JCQlyZXR1cm4gbmV3IElBU1ROYW1lWzBdOw0KLQ0KLQkJaWYgKHNlbGVjdGVkTm9kZSBpbnN0
YW5jZW9mIElBU1ROYW1lKQ0KLQkJCXJldHVybiBuZXcgSUFTVE5hbWVbXSB7IChJQVNUTmFtZSkg
c2VsZWN0ZWROb2RlIH07DQotDQotCQlOYW1lQ29sbGVjdG9yIGNvbGxlY3Rvcj0gbmV3IE5hbWVD
b2xsZWN0b3IoKTsNCi0JCXNlbGVjdGVkTm9kZS5hY2NlcHQoY29sbGVjdG9yKTsNCi0JCXJldHVy
biBjb2xsZWN0b3IuZ2V0TmFtZXMoKTsNCi0JfQ0KLQ0KLQlwdWJsaWMgSUNvbnRyaWJ1dGVkTW9k
ZWxCdWlsZGVyIGNyZWF0ZU1vZGVsQnVpbGRlcihJVHJhbnNsYXRpb25Vbml0IHR1KSB7DQotCQkv
LyBVc2UgdGhlIGRlZmF1bHQgQ0RUIG1vZGVsIGJ1aWxkZXINCi0JCXJldHVybiBudWxsOw0KLQl9
DQotDQotCS8qKg0KLQkgKiBDcmVhdGUgdGhlIHNjYW5uZXIgdG8gYmUgdXNlZCB3aXRoIHRoZSBw
YXJzZXIuDQotCSAqIA0KLQkgKiBAcGFyYW0gcmVhZGVyICB0aGUgY29kZSByZWFkZXIgZm9yIHRo
ZSBtYWluIGZpbGUNCi0JICogQHBhcmFtIHNjYW5JbmZvICB0aGUgc2Nhbm5lciBpbmZvcm1hdGlv
biAobWFjcm9zLCBpbmNsdWRlIHBhdGhlcykNCi0JICogQHBhcmFtIGZpbGVDcmVhdG9yICB0aGUg
Y29kZSByZWFkZXIgZmFjdG9yeSBmb3IgaW5jbHVzaW9ucw0KLQkgKiBAcGFyYW0gbG9nICB0aGUg
bG9nIGZvciBkZWJ1Z2dpbmcNCi0JICogQHJldHVybiBhbiBpbnN0YW5jZSBvZiBJU2Nhbm5lcg0K
LQkgKi8NCi0JcHJvdGVjdGVkIElTY2FubmVyIGNyZWF0ZVNjYW5uZXIoQ29kZVJlYWRlciByZWFk
ZXIsIElTY2FubmVySW5mbyBzY2FuSW5mbywgSUNvZGVSZWFkZXJGYWN0b3J5IGZpbGVDcmVhdG9y
LCBJUGFyc2VyTG9nU2VydmljZSBsb2cpIHsNCi0JCXJldHVybiBuZXcgQ1ByZXByb2Nlc3Nvcihy
ZWFkZXIsIHNjYW5JbmZvLCBQYXJzZXJMYW5ndWFnZS5DLCBsb2csIGdldFNjYW5uZXJFeHRlbnNp
b25Db25maWd1cmF0aW9uKCksIGZpbGVDcmVhdG9yKTsNCi0JfQ0KLQ0KLQkvKioNCi0JICogQ3Jl
YXRlIHRoZSBwYXJzZXIuDQotCSAqIA0KLQkgKiBAcGFyYW0gc2Nhbm5lciAgdGhlIElTY2FubmVy
IHRvIGdldCB0b2tlbnMgZnJvbQ0KLQkgKiBAcGFyYW0gbG9nICB0aGUgcGFyc2VyIGxvZyBzZXJ2
aWNlDQotCSAqIEBwYXJhbSBpbmRleCAgdGhlIGluZGV4IHRvIGhlbHAgcmVzb2x2ZSBiaW5kaW5n
cw0KLQkgKiBAcGFyYW0gZm9yQ29tcGxldGlvbiAgd2hldGhlciB0aGUgcGFyc2VyIGlzIHVzZWQg
Zm9yIGNvZGUgY29tcGxldGlvbg0KLQkgKiBAcGFyYW0gb3B0aW9ucyBmb3IgdmFsaWQgb3B0aW9u
cyBzZWUge0BsaW5rIEFic3RyYWN0TGFuZ3VhZ2UjZ2V0QVNUVHJhbnNsYXRpb25Vbml0KENvZGVS
ZWFkZXIsIElTY2FubmVySW5mbywgSUNvZGVSZWFkZXJGYWN0b3J5LCBJSW5kZXgsIGludCwgSVBh
cnNlckxvZ1NlcnZpY2UpfQ0KLQkgKiBAcmV0dXJuICBhbiBpbnN0YW5jZSBvZiBJU291cmNlQ29k
ZVBhcnNlcg0KLQkgKi8NCi0JcHJvdGVjdGVkIElTb3VyY2VDb2RlUGFyc2VyIGNyZWF0ZVBhcnNl
cihJU2Nhbm5lciBzY2FubmVyLCBJUGFyc2VyTG9nU2VydmljZSBsb2csIElJbmRleCBpbmRleCwg
Ym9vbGVhbiBmb3JDb21wbGV0aW9uLCBpbnQgb3B0aW9ucykgew0KLQkJUGFyc2VyTW9kZSBtb2Rl
PSBudWxsOw0KLQkJaWYgKGZvckNvbXBsZXRpb24pIHsNCi0JCQltb2RlPSBQYXJzZXJNb2RlLkNP
TVBMRVRJT05fUEFSU0U7DQotCQl9DQotCQllbHNlIGlmICgob3B0aW9ucyAmIE9QVElPTl9TS0lQ
X0ZVTkNUSU9OX0JPRElFUykgIT0gMCkgew0KLQkJCW1vZGU9IFBhcnNlck1vZGUuU1RSVUNUVVJB
TF9QQVJTRTsNCi0JCX0NCi0JCWVsc2Ugew0KLQkJCW1vZGU9IFBhcnNlck1vZGUuQ09NUExFVEVf
UEFSU0U7DQotCQl9DQotCQlyZXR1cm4gbmV3IEdOVUNTb3VyY2VQYXJzZXIoc2Nhbm5lciwgbW9k
ZSwgbG9nLCBnZXRQYXJzZXJFeHRlbnNpb25Db25maWd1cmF0aW9uKCksIGluZGV4KTsNCi0JfQ0K
LQ0KLQkvKioNCi0JICogQHJldHVybiB0aGUgc2Nhbm5lciBleHRlbnNpb24gY29uZmlndXJhdGlv
biBmb3IgdGhpcyBsYW5ndWFnZSwgbWF5IG5vdA0KLQkgKiAgICAgICAgIHJldHVybiA8Y29kZT5u
dWxsPC9jb2RlPg0KLQkgKi8NCi0JcHJvdGVjdGVkIGFic3RyYWN0IElTY2FubmVyRXh0ZW5zaW9u
Q29uZmlndXJhdGlvbiBnZXRTY2FubmVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbigpOw0KLQ0KLQkv
KioNCi0JICogQHJldHVybiB0aGUgcGFyc2VyIGV4dGVuc2lvbiBjb25maWd1cmF0aW9uIGZvciB0
aGlzIGxhbmd1YWdlLCBtYXkgbm90DQotCSAqICAgICAgICAgcmV0dXJuIDxjb2RlPm51bGw8L2Nv
ZGU+DQotCSAqLw0KLQlwcm90ZWN0ZWQgYWJzdHJhY3QgSUNQYXJzZXJFeHRlbnNpb25Db25maWd1
cmF0aW9uIGdldFBhcnNlckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24oKTsNCi0NCi0JLyoNCi0JICog
QHNlZSBvcmcuZWNsaXBzZS5jZHQuY29yZS5tb2RlbC5JQ0xhbmd1YWdlS2V5d29yZHMjZ2V0S2V5
d29yZHMoKQ0KLQkgKi8NCi0JcHVibGljIFN0cmluZ1tdIGdldEtleXdvcmRzKCkgew0KLQkJU2V0
IGtleXdvcmRzPSBLZXl3b3JkU2V0cy5nZXRLZXl3b3JkcyhLZXl3b3JkU2V0S2V5LktFWVdPUkRT
LCBQYXJzZXJMYW5ndWFnZS5DKTsNCi0JCWtleXdvcmRzPSBuZXcgSGFzaFNldChrZXl3b3Jkcyk7
DQotCQlDaGFyQXJyYXlJbnRNYXAgYWRkaXRpb25hbEtleXdvcmRzPSBnZXRTY2FubmVyRXh0ZW5z
aW9uQ29uZmlndXJhdGlvbigpLmdldEFkZGl0aW9uYWxLZXl3b3JkcygpOw0KLQkJaWYgKGFkZGl0
aW9uYWxLZXl3b3JkcyAhPSBudWxsKSB7DQotCQkJZm9yIChJdGVyYXRvciBpdGVyYXRvciA9IGFk
ZGl0aW9uYWxLZXl3b3Jkcy50b0xpc3QoKS5pdGVyYXRvcigpOyBpdGVyYXRvci5oYXNOZXh0KCk7
ICkgew0KLQkJCQljaGFyW10gbmFtZSA9IChjaGFyW10pIGl0ZXJhdG9yLm5leHQoKTsNCi0JCQkJ
a2V5d29yZHMuYWRkKG5ldyBTdHJpbmcobmFtZSkpOw0KLQkJCX0NCi0JCX0NCi0JCXJldHVybiAo
U3RyaW5nW10pIGtleXdvcmRzLnRvQXJyYXkobmV3IFN0cmluZ1trZXl3b3Jkcy5zaXplKCldKTsN
Ci0JfQ0KLQ0KLQkvKg0KLQkgKiBAc2VlIG9yZy5lY2xpcHNlLmNkdC5jb3JlLm1vZGVsLklDTGFu
Z3VhZ2VLZXl3b3JkcyNnZXRCdWlsdGluVHlwZXMoKQ0KLQkgKi8NCi0JcHVibGljIFN0cmluZ1td
IGdldEJ1aWx0aW5UeXBlcygpIHsNCi0JCVNldCB0eXBlcz0gS2V5d29yZFNldHMuZ2V0S2V5d29y
ZHMoS2V5d29yZFNldEtleS5UWVBFUywgUGFyc2VyTGFuZ3VhZ2UuQyk7DQotCQlyZXR1cm4gKFN0
cmluZ1tdKSB0eXBlcy50b0FycmF5KG5ldyBTdHJpbmdbdHlwZXMuc2l6ZSgpXSk7DQotCX0NCi0N
Ci0JLyoNCi0JICogQHNlZSBvcmcuZWNsaXBzZS5jZHQuY29yZS5tb2RlbC5JQ0xhbmd1YWdlS2V5
d29yZHMjZ2V0UHJlcHJvY2Vzc29yS2V5d29yZHMoKQ0KLQkgKi8NCi0JcHVibGljIFN0cmluZ1td
IGdldFByZXByb2Nlc3NvcktleXdvcmRzKCkgew0KLQkJU2V0IGtleXdvcmRzPSBLZXl3b3JkU2V0
cy5nZXRLZXl3b3JkcyhLZXl3b3JkU2V0S2V5LlBQX0RJUkVDVElWRSwgUGFyc2VyTGFuZ3VhZ2Uu
Qyk7DQotCQlrZXl3b3Jkcz0gbmV3IEhhc2hTZXQoa2V5d29yZHMpOw0KLQkJQ2hhckFycmF5SW50
TWFwIGFkZGl0aW9uYWxLZXl3b3Jkcz0gZ2V0U2Nhbm5lckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24o
KS5nZXRBZGRpdGlvbmFsUHJlcHJvY2Vzc29yS2V5d29yZHMoKTsNCi0JCWlmIChhZGRpdGlvbmFs
S2V5d29yZHMgIT0gbnVsbCkgew0KLQkJCWZvciAoSXRlcmF0b3IgaXRlcmF0b3IgPSBhZGRpdGlv
bmFsS2V5d29yZHMudG9MaXN0KCkuaXRlcmF0b3IoKTsgaXRlcmF0b3IuaGFzTmV4dCgpOyApIHsN
Ci0JCQkJY2hhcltdIG5hbWUgPSAoY2hhcltdKSBpdGVyYXRvci5uZXh0KCk7DQotCQkJCWtleXdv
cmRzLmFkZChuZXcgU3RyaW5nKG5hbWUpKTsNCi0JCQl9DQotCQl9DQotCQlyZXR1cm4gKFN0cmlu
Z1tdKSBrZXl3b3Jkcy50b0FycmF5KG5ldyBTdHJpbmdba2V5d29yZHMuc2l6ZSgpXSk7DQotCX0N
Ci19DQpJbmRleDogcGFyc2VyL29yZy9lY2xpcHNlL2NkdC9jb3JlL2RvbS9hc3QvZ251L2MvR0ND
TGFuZ3VhZ2UuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L3Rvb2xzL29yZy5l
Y2xpcHNlLmNkdC9hbGwvb3JnLmVjbGlwc2UuY2R0LmNvcmUvcGFyc2VyL29yZy9lY2xpcHNlL2Nk
dC9jb3JlL2RvbS9hc3QvZ251L2MvR0NDTGFuZ3VhZ2UuamF2YSx2DQpyZXRyaWV2aW5nIHJldmlz
aW9uIDEuMzINCmRpZmYgLXUgLXIxLjMyIEdDQ0xhbmd1YWdlLmphdmENCi0tLSBwYXJzZXIvb3Jn
L2VjbGlwc2UvY2R0L2NvcmUvZG9tL2FzdC9nbnUvYy9HQ0NMYW5ndWFnZS5qYXZhCTcgRGVjIDIw
MDcgMTA6MzM6MzAgLTAwMDAJMS4zMg0KKysrIHBhcnNlci9vcmcvZWNsaXBzZS9jZHQvY29yZS9k
b20vYXN0L2dudS9jL0dDQ0xhbmd1YWdlLmphdmEJMiBKYW4gMjAwOCAxNzoxOToxNyAtMDAwMA0K
QEAgLTEwLDM1ICsxMCw1NCBAQA0KICAqICAgIE1hcmt1cyBTY2hvcm4gKFdpbmQgUml2ZXIgU3lz
dGVtcykNCiAgKiAgICBJQk0gQ29ycG9yYXRpb24NCiAgKiAgICBBbnRvbiBMZWhlcmJhdWVyIChX
aW5kIFJpdmVyIFN5c3RlbXMpDQorICogICAgTWlrZSBLdWNlcmEgLSBJQk0NCiAgKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKi8NCiANCiBwYWNrYWdlIG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5hc3Qu
Z251LmM7DQogDQogaW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLkNDb3JlUGx1Z2luOw0KIGlt
cG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20uSUxpbmthZ2U7DQoraW1wb3J0IG9yZy5lY2xp
cHNlLmNkdC5jb3JlLmRvbS5wYXJzZXIuQWJzdHJhY3RDTGlrZUxhbmd1YWdlOw0KIGltcG9ydCBv
cmcuZWNsaXBzZS5jZHQuY29yZS5kb20ucGFyc2VyLklTY2FubmVyRXh0ZW5zaW9uQ29uZmlndXJh
dGlvbjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLnBhcnNlci5jLkFic3RyYWN0
Q0xhbmd1YWdlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20ucGFyc2VyLklTb3Vy
Y2VDb2RlUGFyc2VyOw0KIGltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20ucGFyc2VyLmMu
R0NDUGFyc2VyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbjsNCiBpbXBvcnQgb3JnLmVjbGlwc2UuY2R0
LmNvcmUuZG9tLnBhcnNlci5jLkdDQ1NjYW5uZXJFeHRlbnNpb25Db25maWd1cmF0aW9uOw0KIGlt
cG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20ucGFyc2VyLmMuSUNQYXJzZXJFeHRlbnNpb25D
b25maWd1cmF0aW9uOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5pbmRleC5JSW5kZXg7
DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLnBhcnNlci5JUGFyc2VyTG9nU2VydmljZTsN
CitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFyc2VyLklTY2FubmVyOw0KK2ltcG9ydCBv
cmcuZWNsaXBzZS5jZHQuY29yZS5wYXJzZXIuUGFyc2VyTGFuZ3VhZ2U7DQoraW1wb3J0IG9yZy5l
Y2xpcHNlLmNkdC5jb3JlLnBhcnNlci5QYXJzZXJNb2RlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5j
ZHQuaW50ZXJuYWwuY29yZS5kb20ucGFyc2VyLmMuR05VQ1NvdXJjZVBhcnNlcjsNCitpbXBvcnQg
b3JnLmVjbGlwc2UuY2R0LmludGVybmFsLmNvcmUucGRvbS5kb20uSVBET01MaW5rYWdlRmFjdG9y
eTsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmludGVybmFsLmNvcmUucGRvbS5kb20uYy5QRE9N
Q0xpbmthZ2VGYWN0b3J5Ow0KIA0KIC8qKg0KLSAqIEBhdXRob3IgRG91ZyBTY2hhZWZlcg0KICAq
DQogICovDQotcHVibGljIGNsYXNzIEdDQ0xhbmd1YWdlIGV4dGVuZHMgQWJzdHJhY3RDTGFuZ3Vh
Z2Ugew0KK3B1YmxpYyBjbGFzcyBHQ0NMYW5ndWFnZSBleHRlbmRzIEFic3RyYWN0Q0xpa2VMYW5n
dWFnZSB7DQogDQogCXByb3RlY3RlZCBzdGF0aWMgZmluYWwgR0NDU2Nhbm5lckV4dGVuc2lvbkNv
bmZpZ3VyYXRpb24gQ19HTlVfU0NBTk5FUl9FWFRFTlNJT04gPSBuZXcgR0NDU2Nhbm5lckV4dGVu
c2lvbkNvbmZpZ3VyYXRpb24oKTsNCiAJcHJvdGVjdGVkIHN0YXRpYyBmaW5hbCBHQ0NQYXJzZXJF
eHRlbnNpb25Db25maWd1cmF0aW9uIENfR05VX1BBUlNFUl9FWFRFTlNJT04gPSBuZXcgR0NDUGFy
c2VyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbigpOw0KIAkvLyBNdXN0IG1hdGNoIHRoZSBpZCBpbiB0
aGUgZXh0ZW5zaW9uDQogCXB1YmxpYyBzdGF0aWMgZmluYWwgU3RyaW5nIElEID0gQ0NvcmVQbHVn
aW4uUExVR0lOX0lEICsgIi5nY2MiOyAvLyROT04tTkxTLTEkIA0KIA0KLQlwcml2YXRlIHN0YXRp
YyBmaW5hbCBHQ0NMYW5ndWFnZSBteURlZmF1bHQgPSBuZXcgR0NDTGFuZ3VhZ2UoKTsNCisJcHJp
dmF0ZSBzdGF0aWMgZmluYWwgR0NDTGFuZ3VhZ2UgREVGQVVMVF9JTlNUQU5DRSA9IG5ldyBHQ0NM
YW5ndWFnZSgpOw0KIAkNCiAJcHVibGljIHN0YXRpYyBHQ0NMYW5ndWFnZSBnZXREZWZhdWx0KCkg
ew0KLQkJcmV0dXJuIG15RGVmYXVsdDsNCisJCXJldHVybiBERUZBVUxUX0lOU1RBTkNFOw0KIAl9
DQogCQ0KKwkNCisJQE92ZXJyaWRlDQorCXB1YmxpYyBPYmplY3QgZ2V0QWRhcHRlcihDbGFzcyBh
ZGFwdGVyKSB7DQorCQlpZiAoYWRhcHRlciA9PSBJUERPTUxpbmthZ2VGYWN0b3J5LmNsYXNzKSB7
DQorCQkJcmV0dXJuIG5ldyBQRE9NQ0xpbmthZ2VGYWN0b3J5KCk7DQorCQl9DQorCQlyZXR1cm4g
c3VwZXIuZ2V0QWRhcHRlcihhZGFwdGVyKTsNCisJfQ0KKwkNCisJDQogCXB1YmxpYyBTdHJpbmcg
Z2V0SWQoKSB7DQogCQlyZXR1cm4gSUQ7IA0KIAl9DQpAQCAtNDcsMTggKzY2LDMxIEBADQogCQly
ZXR1cm4gSUxpbmthZ2UuQ19MSU5LQUdFX0lEOw0KIAl9DQogDQotCS8qDQotCSAqIEBzZWUgb3Jn
LmVjbGlwc2UuY2R0LmNvcmUuZG9tLnBhcnNlci5jLkFic3RyYWN0Q0xhbmd1YWdlI2dldFNjYW5u
ZXJFeHRlbnNpb25Db25maWd1cmF0aW9uKCkNCi0JICovDQorDQorCUBPdmVycmlkZQ0KIAlwcm90
ZWN0ZWQgSVNjYW5uZXJFeHRlbnNpb25Db25maWd1cmF0aW9uIGdldFNjYW5uZXJFeHRlbnNpb25D
b25maWd1cmF0aW9uKCkgew0KIAkJcmV0dXJuIENfR05VX1NDQU5ORVJfRVhURU5TSU9OOw0KIAl9
DQogCQ0KLQkvKg0KLQkgKiBAc2VlIG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5wYXJzZXIuYy5B
YnN0cmFjdENMYW5ndWFnZSNnZXRQYXJzZXJFeHRlbnNpb25Db25maWd1cmF0aW9uKCkNCi0JICov
DQorDQogCXByb3RlY3RlZCBJQ1BhcnNlckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24gZ2V0UGFyc2Vy
RXh0ZW5zaW9uQ29uZmlndXJhdGlvbigpIHsNCiAJCXJldHVybiBDX0dOVV9QQVJTRVJfRVhURU5T
SU9OOw0KIAl9DQogDQorDQorCUBPdmVycmlkZQ0KKwlwcm90ZWN0ZWQgSVNvdXJjZUNvZGVQYXJz
ZXIgY3JlYXRlUGFyc2VyKElTY2FubmVyIHNjYW5uZXIsIFBhcnNlck1vZGUgcGFyc2VyTW9kZSwg
SVBhcnNlckxvZ1NlcnZpY2UgbG9nU2VydmljZSwgSUluZGV4IGluZGV4KSB7DQorCQlyZXR1cm4g
bmV3IEdOVUNTb3VyY2VQYXJzZXIoc2Nhbm5lciwgcGFyc2VyTW9kZSwgbG9nU2VydmljZSwgQ19H
TlVfUEFSU0VSX0VYVEVOU0lPTiwgaW5kZXgpOw0KKwl9DQorDQorDQorCUBPdmVycmlkZQ0KKwlw
cm90ZWN0ZWQgUGFyc2VyTGFuZ3VhZ2UgZ2V0UGFyc2VyTGFuZ3VhZ2UoKSB7DQorCQlyZXR1cm4g
UGFyc2VyTGFuZ3VhZ2UuQzsNCisJfQ0KKw0KKw0KKwkNCisNCisNCiB9DQpJbmRleDogcGFyc2Vy
L29yZy9lY2xpcHNlL2NkdC9jb3JlL2RvbS9hc3QvZ251L2NwcC9HUFBMYW5ndWFnZS5qYXZhDQo9
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvdG9vbHMvb3JnLmVjbGlwc2UuY2R0L2FsbC9v
cmcuZWNsaXBzZS5jZHQuY29yZS9wYXJzZXIvb3JnL2VjbGlwc2UvY2R0L2NvcmUvZG9tL2FzdC9n
bnUvY3BwL0dQUExhbmd1YWdlLmphdmEsdg0KcmV0cmlldmluZyByZXZpc2lvbiAxLjM0DQpkaWZm
IC11IC1yMS4zNCBHUFBMYW5ndWFnZS5qYXZhDQotLS0gcGFyc2VyL29yZy9lY2xpcHNlL2NkdC9j
b3JlL2RvbS9hc3QvZ251L2NwcC9HUFBMYW5ndWFnZS5qYXZhCTcgRGVjIDIwMDcgMTA6MzM6MzEg
LTAwMDAJMS4zNA0KKysrIHBhcnNlci9vcmcvZWNsaXBzZS9jZHQvY29yZS9kb20vYXN0L2dudS9j
cHAvR1BQTGFuZ3VhZ2UuamF2YQkyIEphbiAyMDA4IDE3OjE5OjE3IC0wMDAwDQpAQCAtMTAsMzEg
KzEwLDQ4IEBADQogICogICAgTWFya3VzIFNjaG9ybiAoV2luZCBSaXZlciBTeXN0ZW1zKQ0KICAq
ICAgIElCTSBDb3Jwb3JhdGlvbg0KICAqICAgIEFudG9uIExlaGVyYmF1ZXIgKFdpbmQgUml2ZXIg
U3lzdGVtcykNCisgKiAgICBNaWtlIEt1Y2VyYSAtIElCTQ0KICAqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqLw0KIHBhY2thZ2Ugb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLmFzdC5nbnUuY3BwOw0KIA0K
IGltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5DQ29yZVBsdWdpbjsNCiBpbXBvcnQgb3JnLmVj
bGlwc2UuY2R0LmNvcmUuZG9tLklMaW5rYWdlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29y
ZS5kb20ucGFyc2VyLkFic3RyYWN0Q0xpa2VMYW5ndWFnZTsNCiBpbXBvcnQgb3JnLmVjbGlwc2Uu
Y2R0LmNvcmUuZG9tLnBhcnNlci5JU2Nhbm5lckV4dGVuc2lvbkNvbmZpZ3VyYXRpb247DQotaW1w
b3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5wYXJzZXIuY3BwLkFic3RyYWN0Q1BQTGFuZ3Vh
Z2U7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5wYXJzZXIuSVNvdXJjZUNvZGVQ
YXJzZXI7DQogaW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5wYXJzZXIuY3BwLkFic3Ry
YWN0Q1BQUGFyc2VyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbjsNCiBpbXBvcnQgb3JnLmVjbGlwc2Uu
Y2R0LmNvcmUuZG9tLnBhcnNlci5jcHAuR1BQUGFyc2VyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbjsN
CiBpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLnBhcnNlci5jcHAuR1BQU2Nhbm5lckV4
dGVuc2lvbkNvbmZpZ3VyYXRpb247DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmluZGV4
LklJbmRleDsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFyc2VyLklQYXJzZXJMb2dT
ZXJ2aWNlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5wYXJzZXIuSVNjYW5uZXI7DQor
aW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLnBhcnNlci5QYXJzZXJMYW5ndWFnZTsNCitpbXBv
cnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFyc2VyLlBhcnNlck1vZGU7DQoraW1wb3J0IG9yZy5l
Y2xpcHNlLmNkdC5pbnRlcm5hbC5jb3JlLmRvbS5wYXJzZXIuY3BwLkdOVUNQUFNvdXJjZVBhcnNl
cjsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmludGVybmFsLmNvcmUucGRvbS5kb20uSVBET01M
aW5rYWdlRmFjdG9yeTsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmludGVybmFsLmNvcmUucGRv
bS5kb20uY3BwLlBET01DUFBMaW5rYWdlRmFjdG9yeTsNCiANCiAvKioNCi0gKiBAYXV0aG9yIERv
dWcgU2NoYWVmZXINCiAgKg0KICAqLw0KLXB1YmxpYyBjbGFzcyBHUFBMYW5ndWFnZSBleHRlbmRz
IEFic3RyYWN0Q1BQTGFuZ3VhZ2Ugew0KK3B1YmxpYyBjbGFzcyBHUFBMYW5ndWFnZSBleHRlbmRz
IEFic3RyYWN0Q0xpa2VMYW5ndWFnZSB7DQogDQogCXByb3RlY3RlZCBzdGF0aWMgZmluYWwgR1BQ
U2Nhbm5lckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24gQ1BQX0dOVV9TQ0FOTkVSX0VYVEVOU0lPTiA9
IG5ldyBHUFBTY2FubmVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbigpOw0KIAlwcm90ZWN0ZWQgc3Rh
dGljIGZpbmFsIEdQUFBhcnNlckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24gQ1BQX0dOVV9QQVJTRVJf
RVhURU5TSU9OID0gbmV3IEdQUFBhcnNlckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24oKTsNCiAJcHVi
bGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgSUQgPSBDQ29yZVBsdWdpbi5QTFVHSU5fSUQgKyAiLmcr
KyI7IC8vJE5PTi1OTFMtMSQNCiANCi0JcHJpdmF0ZSBzdGF0aWMgZmluYWwgR1BQTGFuZ3VhZ2Ug
bXlEZWZhdWx0ID0gbmV3IEdQUExhbmd1YWdlKCk7DQorCXByaXZhdGUgc3RhdGljIGZpbmFsIEdQ
UExhbmd1YWdlIERFRkFVTFRfSU5TVEFOQ0UgPSBuZXcgR1BQTGFuZ3VhZ2UoKTsNCiAJDQogCXB1
YmxpYyBzdGF0aWMgR1BQTGFuZ3VhZ2UgZ2V0RGVmYXVsdCgpIHsNCi0JCXJldHVybiBteURlZmF1
bHQ7DQorCQlyZXR1cm4gREVGQVVMVF9JTlNUQU5DRTsNCisJfQ0KKwkNCisJDQorCXB1YmxpYyBP
YmplY3QgZ2V0QWRhcHRlcihDbGFzcyBhZGFwdGVyKSB7DQorCQlpZiAoYWRhcHRlciA9PSBJUERP
TUxpbmthZ2VGYWN0b3J5LmNsYXNzKSB7DQorCQkJcmV0dXJuIG5ldyBQRE9NQ1BQTGlua2FnZUZh
Y3RvcnkoKTsNCisJCX0NCisJCXJldHVybiBzdXBlci5nZXRBZGFwdGVyKGFkYXB0ZXIpOw0KIAl9
DQogCQ0KIAlwdWJsaWMgU3RyaW5nIGdldElkKCkgew0KQEAgLTQ2LDE4ICs2MywyMyBAQA0KIAkJ
cmV0dXJuIElMaW5rYWdlLkNQUF9MSU5LQUdFX0lEOw0KIAl9DQogDQotCS8qDQotCSAqIEBzZWUg
b3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLnBhcnNlci5jcHAuQWJzdHJhY3RDUFBMYW5ndWFnZSNn
ZXRTY2FubmVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbigpDQotCSAqLw0KKwlAT3ZlcnJpZGUNCiAJ
cHJvdGVjdGVkIElTY2FubmVyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbiBnZXRTY2FubmVyRXh0ZW5z
aW9uQ29uZmlndXJhdGlvbigpIHsNCiAJCXJldHVybiBDUFBfR05VX1NDQU5ORVJfRVhURU5TSU9O
Ow0KIAl9DQogDQotCS8qDQotCSAqIEBzZWUgb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLnBhcnNl
ci5jcHAuQWJzdHJhY3RDUFBMYW5ndWFnZSNnZXRQYXJzZXJFeHRlbnNpb25Db25maWd1cmF0aW9u
KCkNCi0JICovDQogCXByb3RlY3RlZCBBYnN0cmFjdENQUFBhcnNlckV4dGVuc2lvbkNvbmZpZ3Vy
YXRpb24gZ2V0UGFyc2VyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbigpIHsNCiAJCXJldHVybiBDUFBf
R05VX1BBUlNFUl9FWFRFTlNJT047DQogCX0NCiANCisJQE92ZXJyaWRlDQorCXByb3RlY3RlZCBJ
U291cmNlQ29kZVBhcnNlciBjcmVhdGVQYXJzZXIoSVNjYW5uZXIgc2Nhbm5lciwgUGFyc2VyTW9k
ZSBwYXJzZXJNb2RlLCBJUGFyc2VyTG9nU2VydmljZSBsb2dTZXJ2aWNlLCBJSW5kZXggaW5kZXgp
IHsNCisJCXJldHVybiBuZXcgR05VQ1BQU291cmNlUGFyc2VyKHNjYW5uZXIsIHBhcnNlck1vZGUs
IGxvZ1NlcnZpY2UsIENQUF9HTlVfUEFSU0VSX0VYVEVOU0lPTiwgaW5kZXgpOw0KKwl9DQorDQor
CUBPdmVycmlkZQ0KKwlwcm90ZWN0ZWQgUGFyc2VyTGFuZ3VhZ2UgZ2V0UGFyc2VyTGFuZ3VhZ2Uo
KSB7DQorCQlyZXR1cm4gUGFyc2VyTGFuZ3VhZ2UuQ1BQOw0KKwl9DQorDQogfQ0KSW5kZXg6IHBh
cnNlci9vcmcvZWNsaXBzZS9jZHQvaW50ZXJuYWwvY29yZS9wYXJzZXIvdG9rZW4vS2V5d29yZFNl
dHMuamF2YQ0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L3Rvb2xzL29yZy5lY2xpcHNl
LmNkdC9hbGwvb3JnLmVjbGlwc2UuY2R0LmNvcmUvcGFyc2VyL29yZy9lY2xpcHNlL2NkdC9pbnRl
cm5hbC9jb3JlL3BhcnNlci90b2tlbi9LZXl3b3JkU2V0cy5qYXZhLHYNCnJldHJpZXZpbmcgcmV2
aXNpb24gMS4xOQ0KZGlmZiAtdSAtcjEuMTkgS2V5d29yZFNldHMuamF2YQ0KLS0tIHBhcnNlci9v
cmcvZWNsaXBzZS9jZHQvaW50ZXJuYWwvY29yZS9wYXJzZXIvdG9rZW4vS2V5d29yZFNldHMuamF2
YQkyMyBKdW4gMjAwNiAxNzoyNzowMCAtMDAwMAkxLjE5DQorKysgcGFyc2VyL29yZy9lY2xpcHNl
L2NkdC9pbnRlcm5hbC9jb3JlL3BhcnNlci90b2tlbi9LZXl3b3JkU2V0cy5qYXZhCTIgSmFuIDIw
MDggMTc6MTk6MTcgLTAwMDANCkBAIC0xMCw4ICsxMCw5IEBADQogICoqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKiovDQogcGFja2FnZSBvcmcuZWNsaXBzZS5jZHQuaW50ZXJuYWwuY29yZS5wYXJzZXIudG9r
ZW47DQogDQoraW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOw0KIGltcG9ydCBqYXZhLnV0aWwuSGFz
aFNldDsNCi1pbXBvcnQgamF2YS51dGlsLkhhc2h0YWJsZTsNCitpbXBvcnQgamF2YS51dGlsLk1h
cDsNCiBpbXBvcnQgamF2YS51dGlsLlNldDsNCiBpbXBvcnQgamF2YS51dGlsLlRyZWVTZXQ7DQog
DQpAQCAtMjUsMTYgKzI2LDE2IEBADQogICovDQogcHVibGljIGNsYXNzIEtleXdvcmRTZXRzIHsN
CiANCi0JcHVibGljIHN0YXRpYyBTZXQgZ2V0S2V5d29yZHMoIEtleXdvcmRTZXRLZXkga2luZCwg
UGFyc2VyTGFuZ3VhZ2UgbGFuZ3VhZ2UgKQ0KKwlwdWJsaWMgc3RhdGljIFNldDxTdHJpbmc+IGdl
dEtleXdvcmRzKCBLZXl3b3JkU2V0S2V5IGtpbmQsIFBhcnNlckxhbmd1YWdlIGxhbmd1YWdlICkN
CiAJew0KIAkJaWYoIGtpbmQgPT0gS2V5d29yZFNldEtleS5FTVBUWSApDQogCQkJcmV0dXJuIEVN
UFRZX1RBQkxFOw0KIAkJaWYoIGtpbmQgPT0gS2V5d29yZFNldEtleS5ERUNMX1NQRUNJRklFUl9T
RVFVRU5DRSApDQotCQkJcmV0dXJuIChTZXQpIERFQ0xfU1BFQ0lGSUVSX1NFUVVFTkNFX1RBQkxF
LmdldCggbGFuZ3VhZ2UgKTsNCisJCQlyZXR1cm4gREVDTF9TUEVDSUZJRVJfU0VRVUVOQ0VfVEFC
TEUuZ2V0KCBsYW5ndWFnZSApOw0KIAkJaWYoIGtpbmQgPT0gS2V5d29yZFNldEtleS5ERUNMQVJB
VElPTiApDQotCQkJcmV0dXJuIChTZXQpIERFQ0xBUkFUSU9OX1RBQkxFLmdldCggbGFuZ3VhZ2Ug
KTsNCisJCQlyZXR1cm4gREVDTEFSQVRJT05fVEFCTEUuZ2V0KCBsYW5ndWFnZSApOw0KIAkJaWYo
IGtpbmQgPT0gS2V5d29yZFNldEtleS5TVEFURU1FTlQgKQ0KLQkJCXJldHVybiAoU2V0KSBTVEFU
RU1FTlRfVEFCTEUuZ2V0KCBsYW5ndWFnZSApOw0KKwkJCXJldHVybiBTVEFURU1FTlRfVEFCTEUu
Z2V0KCBsYW5ndWFnZSApOw0KIAkJaWYoIGtpbmQgPT0gS2V5d29yZFNldEtleS5CQVNFX1NQRUNJ
RklFUiApDQogCQkJcmV0dXJuIEJBU0VfU1BFQ0lGSUVSX0NQUDsNCiAJCWlmKCBraW5kID09IEtl
eXdvcmRTZXRLZXkuTUVNQkVSICkNCkBAIC00Niw0NiArNDcsNDYgQEANCiAJCWlmKCBraW5kID09
IEtleXdvcmRTZXRLZXkuUE9TVF9VU0lORyApDQogCQkJcmV0dXJuIFBPU1RfVVNJTkdfQ1BQOw0K
IAkJaWYoIGtpbmQgPT0gS2V5d29yZFNldEtleS5GVU5DVElPTl9NT0RJRklFUiApDQotCQkJcmV0
dXJuIChTZXQpIEZVTkNUSU9OX01PRElGSUVSX1RBQkxFLmdldCggbGFuZ3VhZ2UgKTsNCisJCQly
ZXR1cm4gRlVOQ1RJT05fTU9ESUZJRVJfVEFCTEUuZ2V0KCBsYW5ndWFnZSApOw0KIAkJaWYoIGtp
bmQgPT0gS2V5d29yZFNldEtleS5OQU1FU1BBQ0VfT05MWSApCQ0KIAkJCXJldHVybiBOQU1FU1BB
Q0VfT05MWV9TRVQ7DQogCQlpZigga2luZCA9PSBLZXl3b3JkU2V0S2V5Lk1BQ1JPICkNCiAJCQly
ZXR1cm4gTUFDUk9fT05MWTsNCiAJCWlmKCBraW5kID09IEtleXdvcmRTZXRLZXkuUFBfRElSRUNU
SVZFICkNCi0JCQlyZXR1cm4gKFNldCkgUFBfRElSRUNUSVZFU19UQUJMRS5nZXQoIGxhbmd1YWdl
ICk7DQorCQkJcmV0dXJuIFBQX0RJUkVDVElWRVNfVEFCTEUuZ2V0KCBsYW5ndWFnZSApOw0KIAkJ
aWYoIGtpbmQgPT0gS2V5d29yZFNldEtleS5FWFBSRVNTSU9OICkNCi0JCQlyZXR1cm4gKFNldCkg
RVhQUkVTU0lPTl9UQUJMRS5nZXQoIGxhbmd1YWdlICk7DQorCQkJcmV0dXJuIEVYUFJFU1NJT05f
VEFCTEUuZ2V0KCBsYW5ndWFnZSApOw0KIAkJaWYoIGtpbmQgPT0gS2V5d29yZFNldEtleS5BTEwg
KQ0KLQkJCXJldHVybiAoU2V0KSBBTExfVEFCTEUuZ2V0KCBsYW5ndWFnZSApOw0KKwkJCXJldHVy
biBBTExfVEFCTEUuZ2V0KCBsYW5ndWFnZSApOw0KIAkJaWYoIGtpbmQgPT0gS2V5d29yZFNldEtl
eS5LRVlXT1JEUyApDQotCQkJcmV0dXJuIChTZXQpIEtFWVdPUkRTX1RBQkxFLmdldCggbGFuZ3Vh
Z2UgKTsNCisJCQlyZXR1cm4gS0VZV09SRFNfVEFCTEUuZ2V0KCBsYW5ndWFnZSApOw0KIAkJaWYo
IGtpbmQgPT0gS2V5d29yZFNldEtleS5UWVBFUyApDQotCQkJcmV0dXJuIChTZXQpIFRZUEVTX1RB
QkxFLmdldCggbGFuZ3VhZ2UgKTsNCisJCQlyZXR1cm4gVFlQRVNfVEFCTEUuZ2V0KCBsYW5ndWFn
ZSApOw0KIAkJLy9UT0RPIGZpbmlzaCB0aGlzDQogCQlyZXR1cm4gbnVsbDsNCiAJfQ0KIAkNCi0J
cHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0IEVNUFRZX1RBQkxFID0gbmV3IEhhc2hTZXQoMCk7DQor
CXByaXZhdGUgc3RhdGljIGZpbmFsIFNldDxTdHJpbmc+IEVNUFRZX1RBQkxFID0gbmV3IEhhc2hT
ZXQ8U3RyaW5nPigwKTsNCiAJDQotCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldCBOQU1FU1BBQ0Vf
T05MWV9TRVQ7DQorCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldDxTdHJpbmc+IE5BTUVTUEFDRV9P
TkxZX1NFVDsNCiAJc3RhdGljIA0KIAl7DQotCQlOQU1FU1BBQ0VfT05MWV9TRVQgPSBuZXcgSGFz
aFNldCgxKTsNCisJCU5BTUVTUEFDRV9PTkxZX1NFVCA9IG5ldyBIYXNoU2V0PFN0cmluZz4oMSk7
DQogCQlOQU1FU1BBQ0VfT05MWV9TRVQuYWRkKEtleXdvcmRzLk5BTUVTUEFDRSApOw0KIAl9DQog
CQ0KLQlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQgTUFDUk9fT05MWTsNCisJcHJpdmF0ZSBzdGF0
aWMgZmluYWwgU2V0PFN0cmluZz4gTUFDUk9fT05MWTsNCiAJc3RhdGljIA0KIAl7DQotCQlNQUNS
T19PTkxZID0gbmV3IEhhc2hTZXQoMSk7DQorCQlNQUNST19PTkxZID0gbmV3IEhhc2hTZXQ8U3Ry
aW5nPigxKTsNCiAJCU1BQ1JPX09OTFkuYWRkKCJkZWZpbmVkKCkiICk7IC8vJE5PTi1OTFMtMSQN
CiAJfQ0KIAkNCiAJDQotCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldCBERUNMX1NQRUNJRklFUl9T
RVFVRU5DRV9DOw0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQ8U3RyaW5nPiBERUNMX1NQRUNJ
RklFUl9TRVFVRU5DRV9DOw0KIAlzdGF0aWMNCiAJew0KLQkJREVDTF9TUEVDSUZJRVJfU0VRVUVO
Q0VfQyA9IG5ldyBUcmVlU2V0KCk7DQorCQlERUNMX1NQRUNJRklFUl9TRVFVRU5DRV9DID0gbmV3
IFRyZWVTZXQ8U3RyaW5nPigpOw0KIAkJREVDTF9TUEVDSUZJRVJfU0VRVUVOQ0VfQy5hZGQoIEtl
eXdvcmRzLklOTElORSApOw0KIAkJREVDTF9TUEVDSUZJRVJfU0VRVUVOQ0VfQy5hZGQoIEtleXdv
cmRzLkFVVE8pOw0KIAkJREVDTF9TUEVDSUZJRVJfU0VRVUVOQ0VfQy5hZGQoIEtleXdvcmRzLlJF
R0lTVEVSKTsNCkBAIC0xMTMsMTAgKzExNCwxMCBAQA0KIAkJREVDTF9TUEVDSUZJRVJfU0VRVUVO
Q0VfQy5hZGQoIEtleXdvcmRzLkVOVU0pOw0KIAl9DQogCQ0KLQlwcml2YXRlIHN0YXRpYyBmaW5h
bCBTZXQgREVDTF9TUEVDSUZJRVJfU0VRVUVOQ0VfQ1BQOw0KKwlwcml2YXRlIHN0YXRpYyBmaW5h
bCBTZXQ8U3RyaW5nPiBERUNMX1NQRUNJRklFUl9TRVFVRU5DRV9DUFA7DQogCXN0YXRpYw0KIAl7
DQotCQlERUNMX1NQRUNJRklFUl9TRVFVRU5DRV9DUFAgPSBuZXcgVHJlZVNldCgpOw0KKwkJREVD
TF9TUEVDSUZJRVJfU0VRVUVOQ0VfQ1BQID0gbmV3IFRyZWVTZXQ8U3RyaW5nPigpOw0KIAkJLy8g
YWRkIGFsbCBvZiBDIHRoZW4gcmVtb3ZlIHRoZSBvbmVzIHdlIGRvbid0IG5lZWQNCiAJCURFQ0xf
U1BFQ0lGSUVSX1NFUVVFTkNFX0NQUC5hZGRBbGwoIERFQ0xfU1BFQ0lGSUVSX1NFUVVFTkNFX0Mg
KTsNCiAJCURFQ0xfU1BFQ0lGSUVSX1NFUVVFTkNFX0NQUC5yZW1vdmUoIEtleXdvcmRzLl9DT01Q
TEVYKTsNCkBAIC0xMzIsMTggKzEzMywxOCBAQA0KIAkJREVDTF9TUEVDSUZJRVJfU0VRVUVOQ0Vf
Q1BQLmFkZCggS2V5d29yZHMuQ0xBU1MpOw0KIAl9DQogCQ0KLQlwcml2YXRlIHN0YXRpYyBmaW5h
bCBIYXNodGFibGUgREVDTF9TUEVDSUZJRVJfU0VRVUVOQ0VfVEFCTEU7IA0KKwlwcml2YXRlIHN0
YXRpYyBmaW5hbCBNYXA8UGFyc2VyTGFuZ3VhZ2UsU2V0PFN0cmluZz4+IERFQ0xfU1BFQ0lGSUVS
X1NFUVVFTkNFX1RBQkxFOyANCiAJc3RhdGljDQogCXsNCi0JCURFQ0xfU1BFQ0lGSUVSX1NFUVVF
TkNFX1RBQkxFID0gbmV3IEhhc2h0YWJsZSgpOyANCisJCURFQ0xfU1BFQ0lGSUVSX1NFUVVFTkNF
X1RBQkxFID0gbmV3IEhhc2hNYXA8UGFyc2VyTGFuZ3VhZ2UsU2V0PFN0cmluZz4+KCk7IA0KIAkJ
REVDTF9TUEVDSUZJRVJfU0VRVUVOQ0VfVEFCTEUucHV0KCBQYXJzZXJMYW5ndWFnZS5DUFAsIERF
Q0xfU1BFQ0lGSUVSX1NFUVVFTkNFX0NQUCApOw0KIAkJREVDTF9TUEVDSUZJRVJfU0VRVUVOQ0Vf
VEFCTEUucHV0KCBQYXJzZXJMYW5ndWFnZS5DLCBERUNMX1NQRUNJRklFUl9TRVFVRU5DRV9DICk7
DQogCX0NCiAJDQotCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldCBERUNMQVJBVElPTl9DUFA7IA0K
Kwlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQ8U3RyaW5nPiBERUNMQVJBVElPTl9DUFA7IA0KIAlz
dGF0aWMNCiAJew0KLQkJREVDTEFSQVRJT05fQ1BQID0gbmV3IFRyZWVTZXQoKTsNCisJCURFQ0xB
UkFUSU9OX0NQUCA9IG5ldyBUcmVlU2V0PFN0cmluZz4oKTsNCiAJCURFQ0xBUkFUSU9OX0NQUC5h
ZGRBbGwoIERFQ0xfU1BFQ0lGSUVSX1NFUVVFTkNFX0NQUCApOw0KIAkJREVDTEFSQVRJT05fQ1BQ
LmFkZCggS2V5d29yZHMuQVNNICk7DQogCQlERUNMQVJBVElPTl9DUFAuYWRkKCBLZXl3b3Jkcy5U
RU1QTEFURSApOw0KQEAgLTE1MiwyNiArMTUzLDI2IEBADQogCQlERUNMQVJBVElPTl9DUFAuYWRk
KCBLZXl3b3Jkcy5FWFBPUlQgKTsNCiAJfQ0KIAkNCi0JcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0
IERFQ0xBUkFUSU9OX0M7IA0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQ8U3RyaW5nPiBERUNM
QVJBVElPTl9DOyANCiAJc3RhdGljDQogCXsNCi0JCURFQ0xBUkFUSU9OX0MgPSBuZXcgVHJlZVNl
dCgpOw0KKwkJREVDTEFSQVRJT05fQyA9IG5ldyBUcmVlU2V0PFN0cmluZz4oKTsNCiAJCURFQ0xB
UkFUSU9OX0MuYWRkQWxsKERFQ0xfU1BFQ0lGSUVSX1NFUVVFTkNFX0MgKTsNCiAJCURFQ0xBUkFU
SU9OX0MuYWRkKEtleXdvcmRzLkFTTSApOw0KIAl9DQogCQ0KLQlwcml2YXRlIHN0YXRpYyBmaW5h
bCBIYXNodGFibGUgREVDTEFSQVRJT05fVEFCTEU7IA0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBN
YXA8UGFyc2VyTGFuZ3VhZ2UsU2V0PFN0cmluZz4+IERFQ0xBUkFUSU9OX1RBQkxFOyANCiAJc3Rh
dGljDQogCXsNCi0JCURFQ0xBUkFUSU9OX1RBQkxFID0gbmV3IEhhc2h0YWJsZSgpOw0KKwkJREVD
TEFSQVRJT05fVEFCTEUgPSBuZXcgSGFzaE1hcDxQYXJzZXJMYW5ndWFnZSxTZXQ8U3RyaW5nPj4o
KTsNCiAJCURFQ0xBUkFUSU9OX1RBQkxFLnB1dCggUGFyc2VyTGFuZ3VhZ2UuQ1BQLCBERUNMQVJB
VElPTl9DUFAgKTsNCiAJCURFQ0xBUkFUSU9OX1RBQkxFLnB1dCggUGFyc2VyTGFuZ3VhZ2UuQywg
REVDTEFSQVRJT05fQyApOw0KIAl9DQogCQ0KLQlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQgRVhQ
UkVTU0lPTl9DOw0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQ8U3RyaW5nPiBFWFBSRVNTSU9O
X0M7DQogCXN0YXRpYw0KIAl7DQotCQlFWFBSRVNTSU9OX0MgPSBuZXcgVHJlZVNldCgpOw0KKwkJ
RVhQUkVTU0lPTl9DID0gbmV3IFRyZWVTZXQ8U3RyaW5nPigpOw0KIAkJRVhQUkVTU0lPTl9DLmFk
ZCggS2V5d29yZHMuQ0hBUiApOw0KIAkJRVhQUkVTU0lPTl9DLmFkZCggS2V5d29yZHMuV0NIQVJf
VCk7DQogCQlFWFBSRVNTSU9OX0MuYWRkKCBLZXl3b3Jkcy5TSE9SVCk7CQkNCkBAIC0xODUsMTAg
KzE4NiwxMCBAQA0KIAkJDQogCX0NCiAJDQotCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldCBFWFBS
RVNTSU9OX0NQUDsNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0PFN0cmluZz4gRVhQUkVTU0lP
Tl9DUFA7DQogCXN0YXRpYw0KIAl7DQotCQlFWFBSRVNTSU9OX0NQUCA9IG5ldyBUcmVlU2V0KEVY
UFJFU1NJT05fQyk7DQorCQlFWFBSRVNTSU9OX0NQUCA9IG5ldyBUcmVlU2V0PFN0cmluZz4oRVhQ
UkVTU0lPTl9DKTsNCiAJCUVYUFJFU1NJT05fQ1BQLmFkZCggS2V5d29yZHMuQk9PTCApOw0KIAkJ
RVhQUkVTU0lPTl9DUFAuYWRkKCBLZXl3b3Jkcy5ORVcgKTsNCiAJCUVYUFJFU1NJT05fQ1BQLmFk
ZCggS2V5d29yZHMuREVMRVRFICk7DQpAQCAtMjA1LDE4ICsyMDYsMTggQEANCiAJCUVYUFJFU1NJ
T05fQ1BQLmFkZCggS2V5d29yZHMuVEhST1cgKTsNCiAJfQ0KIAkNCi0JcHJpdmF0ZSBzdGF0aWMg
ZmluYWwgSGFzaHRhYmxlIEVYUFJFU1NJT05fVEFCTEU7DQorCXByaXZhdGUgc3RhdGljIGZpbmFs
IE1hcDxQYXJzZXJMYW5ndWFnZSxTZXQ8U3RyaW5nPj4gRVhQUkVTU0lPTl9UQUJMRTsNCiAJc3Rh
dGljDQogCXsNCi0JCUVYUFJFU1NJT05fVEFCTEUgPSBuZXcgSGFzaHRhYmxlKCk7DQorCQlFWFBS
RVNTSU9OX1RBQkxFID0gbmV3IEhhc2hNYXA8UGFyc2VyTGFuZ3VhZ2UsU2V0PFN0cmluZz4+KCk7
DQogCQlFWFBSRVNTSU9OX1RBQkxFLnB1dCggUGFyc2VyTGFuZ3VhZ2UuQ1BQLCBFWFBSRVNTSU9O
X0NQUCApOw0KIAkJRVhQUkVTU0lPTl9UQUJMRS5wdXQoIFBhcnNlckxhbmd1YWdlLkMsIEVYUFJF
U1NJT05fQyApOw0KIAl9DQogCQ0KLQlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQgU1RBVEVNRU5U
X0M7DQorCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldDxTdHJpbmc+IFNUQVRFTUVOVF9DOw0KIAlz
dGF0aWMgDQogCXsNCi0JCVNUQVRFTUVOVF9DPSBuZXcgVHJlZVNldCgpOyANCisJCVNUQVRFTUVO
VF9DPSBuZXcgVHJlZVNldDxTdHJpbmc+KCk7IA0KIAkJU1RBVEVNRU5UX0MuYWRkQWxsKCBERUNM
QVJBVElPTl9DICk7DQogCQlTVEFURU1FTlRfQy5hZGRBbGwoIEVYUFJFU1NJT05fQyApOw0KIAkJ
U1RBVEVNRU5UX0MuYWRkKCBLZXl3b3Jkcy5GT1IgKTsNCkBAIC0yMzMsMTAgKzIzNCwxMCBAQA0K
IAkJU1RBVEVNRU5UX0MuYWRkKCBLZXl3b3Jkcy5ETyk7DQogCX0NCiAJDQotCXByaXZhdGUgc3Rh
dGljIGZpbmFsIFNldCBTVEFURU1FTlRfQ1BQOyANCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0
PFN0cmluZz4gU1RBVEVNRU5UX0NQUDsgDQogCXN0YXRpYyANCiAJew0KLQkJU1RBVEVNRU5UX0NQ
UCA9IG5ldyBUcmVlU2V0KCBERUNMQVJBVElPTl9DUFAgKTsNCisJCVNUQVRFTUVOVF9DUFAgPSBu
ZXcgVHJlZVNldDxTdHJpbmc+KCBERUNMQVJBVElPTl9DUFAgKTsNCiAJCVNUQVRFTUVOVF9DUFAu
YWRkQWxsKCBFWFBSRVNTSU9OX0NQUCApOw0KIAkJU1RBVEVNRU5UX0NQUC5hZGQoIEtleXdvcmRz
LlRSWSApOw0KIAkJU1RBVEVNRU5UX0NQUC5hZGQoIEtleXdvcmRzLkZPUiApOw0KQEAgLTI1NCw2
NSArMjU1LDY1IEBADQogCQlTVEFURU1FTlRfQ1BQLmFkZCggS2V5d29yZHMuRE8pOw0KIAl9DQog
CQ0KLQlwcml2YXRlIHN0YXRpYyBmaW5hbCBIYXNodGFibGUgU1RBVEVNRU5UX1RBQkxFOw0KKwlw
cml2YXRlIHN0YXRpYyBmaW5hbCBNYXA8UGFyc2VyTGFuZ3VhZ2UsU2V0PFN0cmluZz4+IFNUQVRF
TUVOVF9UQUJMRTsNCiAJc3RhdGljDQogCXsNCi0JCVNUQVRFTUVOVF9UQUJMRSA9IG5ldyBIYXNo
dGFibGUoKTsgDQorCQlTVEFURU1FTlRfVEFCTEUgPSBuZXcgSGFzaE1hcDxQYXJzZXJMYW5ndWFn
ZSxTZXQ8U3RyaW5nPj4oKTsgDQogCQlTVEFURU1FTlRfVEFCTEUucHV0KCBQYXJzZXJMYW5ndWFn
ZS5DUFAsIFNUQVRFTUVOVF9DUFApOw0KIAkJU1RBVEVNRU5UX1RBQkxFLnB1dCggUGFyc2VyTGFu
Z3VhZ2UuQywgU1RBVEVNRU5UX0MgKTsNCiAJfQ0KIAkNCi0JcHJpdmF0ZSBzdGF0aWMgZmluYWwg
U2V0IEJBU0VfU1BFQ0lGSUVSX0NQUDsNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0PFN0cmlu
Zz4gQkFTRV9TUEVDSUZJRVJfQ1BQOw0KIAlzdGF0aWMNCiAJew0KLQkJQkFTRV9TUEVDSUZJRVJf
Q1BQID0gbmV3IFRyZWVTZXQoKTsNCisJCUJBU0VfU1BFQ0lGSUVSX0NQUCA9IG5ldyBUcmVlU2V0
PFN0cmluZz4oKTsNCiAJCUJBU0VfU1BFQ0lGSUVSX0NQUC5hZGQoS2V5d29yZHMuUFVCTElDKTsN
CiAJCUJBU0VfU1BFQ0lGSUVSX0NQUC5hZGQoS2V5d29yZHMuUFJPVEVDVEVEKTsNCiAJCUJBU0Vf
U1BFQ0lGSUVSX0NQUC5hZGQoS2V5d29yZHMuUFJJVkFURSk7DQogCQlCQVNFX1NQRUNJRklFUl9D
UFAuYWRkKEtleXdvcmRzLlZJUlRVQUwpOw0KIAl9DQogCQ0KLQlwcml2YXRlIHN0YXRpYyBmaW5h
bCBTZXQgQ0xBU1NfTUVNQkVSOw0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQ8U3RyaW5nPiBD
TEFTU19NRU1CRVI7DQogCXN0YXRpYw0KIAl7DQotCQlDTEFTU19NRU1CRVIgPSBuZXcgVHJlZVNl
dChERUNMX1NQRUNJRklFUl9TRVFVRU5DRV9DUFApOw0KKwkJQ0xBU1NfTUVNQkVSID0gbmV3IFRy
ZWVTZXQ8U3RyaW5nPihERUNMX1NQRUNJRklFUl9TRVFVRU5DRV9DUFApOw0KIAkJQ0xBU1NfTUVN
QkVSLmFkZChLZXl3b3Jkcy5QVUJMSUMpOw0KIAkJQ0xBU1NfTUVNQkVSLmFkZChLZXl3b3Jkcy5Q
Uk9URUNURUQpOw0KIAkJQ0xBU1NfTUVNQkVSLmFkZChLZXl3b3Jkcy5QUklWQVRFKTsNCiAJfQ0K
IAkNCi0JcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0IFBPU1RfVVNJTkdfQ1BQOw0KKwlwcml2YXRl
IHN0YXRpYyBmaW5hbCBTZXQ8U3RyaW5nPiBQT1NUX1VTSU5HX0NQUDsNCiAJc3RhdGljDQogCXsN
Ci0JCVBPU1RfVVNJTkdfQ1BQID0gbmV3IFRyZWVTZXQoKTsNCisJCVBPU1RfVVNJTkdfQ1BQID0g
bmV3IFRyZWVTZXQ8U3RyaW5nPigpOw0KIAkJUE9TVF9VU0lOR19DUFAuYWRkKEtleXdvcmRzLk5B
TUVTUEFDRSk7DQogCQlQT1NUX1VTSU5HX0NQUC5hZGQoS2V5d29yZHMuVFlQRU5BTUUpOw0KIAl9
DQogCQ0KLQlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQgRlVOQ1RJT05fTU9ESUZJRVJfQyA9IEVN
UFRZX1RBQkxFOyANCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0PFN0cmluZz4gRlVOQ1RJT05f
TU9ESUZJRVJfQyA9IEVNUFRZX1RBQkxFOyANCiANCi0JcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0
IEZVTkNUSU9OX01PRElGSUVSX0NQUDsNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0PFN0cmlu
Zz4gRlVOQ1RJT05fTU9ESUZJRVJfQ1BQOw0KIAlzdGF0aWMNCiAJew0KLQkJRlVOQ1RJT05fTU9E
SUZJRVJfQ1BQID0gbmV3IFRyZWVTZXQoIEZVTkNUSU9OX01PRElGSUVSX0MgKTsNCisJCUZVTkNU
SU9OX01PRElGSUVSX0NQUCA9IG5ldyBUcmVlU2V0PFN0cmluZz4oIEZVTkNUSU9OX01PRElGSUVS
X0MgKTsNCiAJCQ0KIAkJRlVOQ1RJT05fTU9ESUZJRVJfQ1BQLmFkZCggS2V5d29yZHMuVEhST1cp
Ow0KIAkJRlVOQ1RJT05fTU9ESUZJRVJfQ1BQLmFkZCggS2V5d29yZHMuVFJZICk7DQogCQlGVU5D
VElPTl9NT0RJRklFUl9DUFAuYWRkKCBLZXl3b3Jkcy5WT0xBVElMRSApOw0KIAl9DQogCQ0KLQlw
cml2YXRlIHN0YXRpYyBmaW5hbCBIYXNodGFibGUgRlVOQ1RJT05fTU9ESUZJRVJfVEFCTEU7DQor
CXByaXZhdGUgc3RhdGljIGZpbmFsIE1hcDxQYXJzZXJMYW5ndWFnZSxTZXQ8U3RyaW5nPj4gRlVO
Q1RJT05fTU9ESUZJRVJfVEFCTEU7DQogCXN0YXRpYw0KIAl7DQotCQlGVU5DVElPTl9NT0RJRklF
Ul9UQUJMRT0gbmV3IEhhc2h0YWJsZSgyKTsNCisJCUZVTkNUSU9OX01PRElGSUVSX1RBQkxFPSBu
ZXcgSGFzaE1hcDxQYXJzZXJMYW5ndWFnZSxTZXQ8U3RyaW5nPj4oMik7DQogCQlGVU5DVElPTl9N
T0RJRklFUl9UQUJMRS5wdXQoIFBhcnNlckxhbmd1YWdlLkNQUCwgRlVOQ1RJT05fTU9ESUZJRVJf
Q1BQICk7DQogCQlGVU5DVElPTl9NT0RJRklFUl9UQUJMRS5wdXQoIFBhcnNlckxhbmd1YWdlLkMs
IEZVTkNUSU9OX01PRElGSUVSX0MgKTsNCiAJfQ0KIA0KLQlwcml2YXRlIHN0YXRpYyBmaW5hbCBT
ZXQgUFBfRElSRUNUSVZFU19DOw0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQ8U3RyaW5nPiBQ
UF9ESVJFQ1RJVkVTX0M7DQogCXN0YXRpYw0KIAl7DQotCQlQUF9ESVJFQ1RJVkVTX0MgPSBuZXcg
VHJlZVNldCgpOw0KKwkJUFBfRElSRUNUSVZFU19DID0gbmV3IFRyZWVTZXQ8U3RyaW5nPigpOw0K
IAkJUFBfRElSRUNUSVZFU19DLmFkZChEaXJlY3RpdmVzLlBPVU5EX0JMQU5LKTsNCiAJCVBQX0RJ
UkVDVElWRVNfQy5hZGQoRGlyZWN0aXZlcy5QT1VORF9ERUZJTkUpOw0KIAkJUFBfRElSRUNUSVZF
U19DLmFkZChEaXJlY3RpdmVzLlBPVU5EX1VOREVGKTsNCkBAIC0zMzAsMTAgKzMzMSwxMCBAQA0K
IAl9DQogDQogCQ0KLQlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQgUFBfRElSRUNUSVZFU19DUFA7
DQorCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldDxTdHJpbmc+IFBQX0RJUkVDVElWRVNfQ1BQOw0K
IAlzdGF0aWMNCiAJew0KLQkJUFBfRElSRUNUSVZFU19DUFAgPSBuZXcgVHJlZVNldCgpOw0KKwkJ
UFBfRElSRUNUSVZFU19DUFAgPSBuZXcgVHJlZVNldDxTdHJpbmc+KCk7DQogCQlQUF9ESVJFQ1RJ
VkVTX0NQUC5hZGQoRGlyZWN0aXZlcy5QT1VORF9CTEFOSyk7DQogCQlQUF9ESVJFQ1RJVkVTX0NQ
UC5hZGQoRGlyZWN0aXZlcy5QT1VORF9ERUZJTkUpOw0KIAkJUFBfRElSRUNUSVZFU19DUFAuYWRk
KERpcmVjdGl2ZXMuUE9VTkRfVU5ERUYpOw0KQEAgLTM0OSwxMCArMzUwLDEwIEBADQogCQlQUF9E
SVJFQ1RJVkVTX0NQUC5hZGQoRGlyZWN0aXZlcy5QT1VORF9FTElGKTsNCiAJfQ0KIAkNCi0JcHJp
dmF0ZSBzdGF0aWMgZmluYWwgU2V0IEFMTF9DOw0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBTZXQ8
U3RyaW5nPiBBTExfQzsNCiAJc3RhdGljDQogCXsNCi0JCUFMTF9DID0gbmV3IFRyZWVTZXQoUFBf
RElSRUNUSVZFU19DUFApOw0KKwkJQUxMX0MgPSBuZXcgVHJlZVNldDxTdHJpbmc+KFBQX0RJUkVD
VElWRVNfQ1BQKTsNCiAJCUFMTF9DLmFkZCggS2V5d29yZHMuQVVUTyk7DQogCQlBTExfQy5hZGQo
IEtleXdvcmRzLkJSRUFLKTsNCiAJCUFMTF9DLmFkZCggS2V5d29yZHMuQ0FTRSk7DQpAQCAtMzkz
LDEwICszOTQsMTAgQEANCiAJCUFMTF9DLmFkZCggS2V5d29yZHMuX0lNQUdJTkFSWSk7DQogCX0N
CiAJDQotCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldCBBTExfQ1BQOw0KKwlwcml2YXRlIHN0YXRp
YyBmaW5hbCBTZXQ8U3RyaW5nPiBBTExfQ1BQOw0KIAlzdGF0aWMNCiAJew0KLQkJQUxMX0NQUCA9
IG5ldyBUcmVlU2V0KFBQX0RJUkVDVElWRVNfQ1BQKTsNCisJCUFMTF9DUFAgPSBuZXcgVHJlZVNl
dDxTdHJpbmc+KFBQX0RJUkVDVElWRVNfQ1BQKTsNCiAJCUFMTF9DUFAuYWRkKCBLZXl3b3Jkcy5B
TkQgKTsNCiAJCUFMTF9DUFAuYWRkKCBLZXl3b3Jkcy5BTkRfRVEpOw0KIAkJQUxMX0NQUC5hZGQo
IEtleXdvcmRzLkFTTSk7DQpAQCAtNDczLDE4ICs0NzQsMTggQEANCiAJCUFMTF9DUFAuYWRkKCBL
ZXl3b3Jkcy5YT1JfRVEpOw0KIA0KIAl9DQotCXByaXZhdGUgc3RhdGljIGZpbmFsIEhhc2h0YWJs
ZSBBTExfVEFCTEU7DQorCXByaXZhdGUgc3RhdGljIGZpbmFsIE1hcDxQYXJzZXJMYW5ndWFnZSxT
ZXQ8U3RyaW5nPj4gQUxMX1RBQkxFOw0KIAlzdGF0aWMNCiAJew0KLQkJQUxMX1RBQkxFID0gbmV3
IEhhc2h0YWJsZSggMiApOw0KKwkJQUxMX1RBQkxFID0gbmV3IEhhc2hNYXA8UGFyc2VyTGFuZ3Vh
Z2UsU2V0PFN0cmluZz4+KCAyICk7DQogCQlBTExfVEFCTEUucHV0KCBQYXJzZXJMYW5ndWFnZS5D
LCBBTExfQyApOw0KIAkJQUxMX1RBQkxFLnB1dCggUGFyc2VyTGFuZ3VhZ2UuQ1BQLCBBTExfQ1BQ
ICk7DQogCX0NCiAJDQotCXByaXZhdGUgc3RhdGljIGZpbmFsIFNldCBLRVlXT1JEU19DUFA7DQor
CXByaXZhdGUgc3RhdGljIGZpbmFsIFNldDxTdHJpbmc+IEtFWVdPUkRTX0NQUDsNCiAJc3RhdGlj
DQogCXsNCi0JCUtFWVdPUkRTX0NQUCA9IG5ldyBUcmVlU2V0KCk7DQorCQlLRVlXT1JEU19DUFAg
PSBuZXcgVHJlZVNldDxTdHJpbmc+KCk7DQogCQlLRVlXT1JEU19DUFAuYWRkKCBLZXl3b3Jkcy5B
TkQgKTsNCiAJCUtFWVdPUkRTX0NQUC5hZGQoIEtleXdvcmRzLkFORF9FUSApOw0KIAkJS0VZV09S
RFNfQ1BQLmFkZCggS2V5d29yZHMuQVNNICk7DQpAQCAtNTUyLDEwICs1NTMsMTAgQEANCiANCiAJ
fQ0KIAkNCi0JcHJpdmF0ZSBzdGF0aWMgU2V0IEtFWVdPUkRTX0M7DQorCXByaXZhdGUgc3RhdGlj
IFNldDxTdHJpbmc+IEtFWVdPUkRTX0M7DQogCXN0YXRpYw0KIAl7DQotCQlLRVlXT1JEU19DID0g
bmV3IFRyZWVTZXQoKTsNCisJCUtFWVdPUkRTX0MgPSBuZXcgVHJlZVNldDxTdHJpbmc+KCk7DQog
CQlLRVlXT1JEU19DLmFkZCggS2V5d29yZHMuQVNNICk7DQogCQlLRVlXT1JEU19DLmFkZCggS2V5
d29yZHMuQVVUTyApOw0KIAkJS0VZV09SRFNfQy5hZGQoIEtleXdvcmRzLkJSRUFLICk7DQpAQCAt
NTg2LDE4ICs1ODcsMTggQEANCiAJDQogCQ0KIA0KLQlwcml2YXRlIHN0YXRpYyBmaW5hbCBIYXNo
dGFibGUgS0VZV09SRFNfVEFCTEU7DQorCXByaXZhdGUgc3RhdGljIGZpbmFsIE1hcDxQYXJzZXJM
YW5ndWFnZSxTZXQ8U3RyaW5nPj4gS0VZV09SRFNfVEFCTEU7DQogCXN0YXRpYw0KIAl7DQotCQlL
RVlXT1JEU19UQUJMRSA9IG5ldyBIYXNodGFibGUoMik7DQorCQlLRVlXT1JEU19UQUJMRSA9IG5l
dyBIYXNoTWFwPFBhcnNlckxhbmd1YWdlLFNldDxTdHJpbmc+PigyKTsNCiAJCUtFWVdPUkRTX1RB
QkxFLnB1dCggUGFyc2VyTGFuZ3VhZ2UuQywgS0VZV09SRFNfQyApOw0KIAkJS0VZV09SRFNfVEFC
TEUucHV0KCBQYXJzZXJMYW5ndWFnZS5DUFAsIEtFWVdPUkRTX0NQUCApOw0KIAl9DQogDQotCXBy
aXZhdGUgc3RhdGljIGZpbmFsIFNldCBUWVBFU19DOw0KKwlwcml2YXRlIHN0YXRpYyBmaW5hbCBT
ZXQ8U3RyaW5nPiBUWVBFU19DOw0KIAlzdGF0aWMNCiAJew0KLQkJVFlQRVNfQyA9IG5ldyBUcmVl
U2V0KCk7DQorCQlUWVBFU19DID0gbmV3IFRyZWVTZXQ8U3RyaW5nPigpOw0KIAkJVFlQRVNfQy5h
ZGQoIEtleXdvcmRzLkNIQVIgKTsNCiAJCVRZUEVTX0MuYWRkKCBLZXl3b3Jkcy5ET1VCTEUgKTsN
CiAJCVRZUEVTX0MuYWRkKCBLZXl3b3Jkcy5GTE9BVCApOw0KQEAgLTYxMSwxMCArNjEyLDEwIEBA
DQogCQlUWVBFU19DLmFkZCggS2V5d29yZHMuX0NPTVBMRVggKTsNCiAJCVRZUEVTX0MuYWRkKCBL
ZXl3b3Jkcy5fSU1BR0lOQVJZICk7DQogCX0NCi0JcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0IFRZ
UEVTX0NQUDsNCisJcHJpdmF0ZSBzdGF0aWMgZmluYWwgU2V0PFN0cmluZz4gVFlQRVNfQ1BQOw0K
IAlzdGF0aWMNCiAJew0KLQkJVFlQRVNfQ1BQID0gbmV3IFRyZWVTZXQoKTsNCisJCVRZUEVTX0NQ
UCA9IG5ldyBUcmVlU2V0PFN0cmluZz4oKTsNCiAJCVRZUEVTX0NQUC5hZGQoIEtleXdvcmRzLkJP
T0wgKTsNCiAJCVRZUEVTX0NQUC5hZGQoIEtleXdvcmRzLkNIQVIgKTsNCiAJCVRZUEVTX0NQUC5h
ZGQoIEtleXdvcmRzLkRPVUJMRSApOw0KQEAgLTYyOCwxOCArNjI5LDE4IEBADQogCQlUWVBFU19D
UFAuYWRkKCBLZXl3b3Jkcy5XQ0hBUl9UICk7DQogCX0JDQogCQ0KLQlwcml2YXRlIHN0YXRpYyBI
YXNodGFibGUgVFlQRVNfVEFCTEU7DQorCXByaXZhdGUgc3RhdGljIE1hcDxQYXJzZXJMYW5ndWFn
ZSxTZXQ8U3RyaW5nPj4gVFlQRVNfVEFCTEU7DQogCXN0YXRpYw0KIAl7DQotCQlUWVBFU19UQUJM
RSA9IG5ldyBIYXNodGFibGUoIDIgKTsNCisJCVRZUEVTX1RBQkxFID0gbmV3IEhhc2hNYXA8UGFy
c2VyTGFuZ3VhZ2UsIFNldDxTdHJpbmc+PiggMiApOw0KIAkJVFlQRVNfVEFCTEUucHV0KCBQYXJz
ZXJMYW5ndWFnZS5DLCBUWVBFU19DICk7DQogCQlUWVBFU19UQUJMRS5wdXQoIFBhcnNlckxhbmd1
YWdlLkNQUCwgVFlQRVNfQ1BQICk7DQogCX0NCiAJDQotCXByaXZhdGUgc3RhdGljIEhhc2h0YWJs
ZSBQUF9ESVJFQ1RJVkVTX1RBQkxFOw0KKwlwcml2YXRlIHN0YXRpYyBNYXA8UGFyc2VyTGFuZ3Vh
Z2UsU2V0PFN0cmluZz4+IFBQX0RJUkVDVElWRVNfVEFCTEU7DQogCXN0YXRpYw0KIAl7DQotCQlQ
UF9ESVJFQ1RJVkVTX1RBQkxFID0gbmV3IEhhc2h0YWJsZSggMiApOw0KKwkJUFBfRElSRUNUSVZF
U19UQUJMRSA9IG5ldyBIYXNoTWFwPFBhcnNlckxhbmd1YWdlLFNldDxTdHJpbmc+PiggMiApOw0K
IAkJUFBfRElSRUNUSVZFU19UQUJMRS5wdXQoIFBhcnNlckxhbmd1YWdlLkMsIFBQX0RJUkVDVElW
RVNfQyApOw0KIAkJUFBfRElSRUNUSVZFU19UQUJMRS5wdXQoIFBhcnNlckxhbmd1YWdlLkNQUCwg
UFBfRElSRUNUSVZFU19DUFAgKTsNCiAJfQ0KSW5kZXg6IHBhcnNlci9vcmcvZWNsaXBzZS9jZHQv
Y29yZS9kb20vcGFyc2VyL2NwcC9BYnN0cmFjdENQUExhbmd1YWdlLmphdmENCj09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0N
ClJDUyBmaWxlOiBwYXJzZXIvb3JnL2VjbGlwc2UvY2R0L2NvcmUvZG9tL3BhcnNlci9jcHAvQWJz
dHJhY3RDUFBMYW5ndWFnZS5qYXZhDQpkaWZmIC1OIHBhcnNlci9vcmcvZWNsaXBzZS9jZHQvY29y
ZS9kb20vcGFyc2VyL2NwcC9BYnN0cmFjdENQUExhbmd1YWdlLmphdmENCi0tLSBwYXJzZXIvb3Jn
L2VjbGlwc2UvY2R0L2NvcmUvZG9tL3BhcnNlci9jcHAvQWJzdHJhY3RDUFBMYW5ndWFnZS5qYXZh
CTIxIERlYyAyMDA3IDA5OjM1OjUyIC0wMDAwCTEuMTANCisrKyAvZGV2L251bGwJMSBKYW4gMTk3
MCAwMDowMDowMCAtMDAwMA0KQEAgLTEsMjI4ICswLDAgQEANCi0vKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKg0KLSAqIENvcHlyaWdodCAoYykgMjAwNyBXaW5kIFJpdmVyIFN5c3RlbXMsIEluYy4gYW5k
IG90aGVycy4NCi0gKiBBbGwgcmlnaHRzIHJlc2VydmVkLiBUaGlzIHByb2dyYW0gYW5kIHRoZSBh
Y2NvbXBhbnlpbmcgbWF0ZXJpYWxzDQotICogYXJlIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0
ZXJtcyBvZiB0aGUgRWNsaXBzZSBQdWJsaWMgTGljZW5zZSB2MS4wDQotICogd2hpY2ggYWNjb21w
YW5pZXMgdGhpcyBkaXN0cmlidXRpb24sIGFuZCBpcyBhdmFpbGFibGUgYXQNCi0gKiBodHRwOi8v
d3d3LmVjbGlwc2Uub3JnL2xlZ2FsL2VwbC12MTAuaHRtbA0KLSAqDQotICogQ29udHJpYnV0b3Jz
Og0KLSAqICAgICBBbnRvbiBMZWhlcmJhdWVyIChXaW5kIFJpdmVyIFN5c3RlbXMpIC0gaW5pdGlh
bCBBUEkgYW5kIGltcGxlbWVudGF0aW9uDQotICogICAgIE1hcmt1cyBTY2hvcm4gKFdpbmQgUml2
ZXIgU3lzdGVtcykNCi0gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCi1wYWNrYWdlIG9yZy5lY2xp
cHNlLmNkdC5jb3JlLmRvbS5wYXJzZXIuY3BwOw0KLQ0KLWltcG9ydCBqYXZhLnV0aWwuQXJyYXlM
aXN0Ow0KLWltcG9ydCBqYXZhLnV0aWwuSGFzaFNldDsNCi1pbXBvcnQgamF2YS51dGlsLkl0ZXJh
dG9yOw0KLWltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCi1pbXBvcnQgamF2YS51dGlsLlNldDsNCi0N
Ci1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLklDb2RlUmVhZGVyRmFjdG9yeTsNCi1p
bXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLmFzdC5JQVNUQ29tcGxldGlvbk5vZGU7DQot
aW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5hc3QuSUFTVE5hbWU7DQotaW1wb3J0IG9y
Zy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5hc3QuSUFTVE5vZGU7DQotaW1wb3J0IG9yZy5lY2xpcHNl
LmNkdC5jb3JlLmRvbS5hc3QuSUFTVFRyYW5zbGF0aW9uVW5pdDsNCi1pbXBvcnQgb3JnLmVjbGlw
c2UuY2R0LmNvcmUuZG9tLmFzdC5jcHAuQ1BQQVNUVmlzaXRvcjsNCi1pbXBvcnQgb3JnLmVjbGlw
c2UuY2R0LmNvcmUuZG9tLnBhcnNlci5JU2Nhbm5lckV4dGVuc2lvbkNvbmZpZ3VyYXRpb247DQot
aW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmRvbS5wYXJzZXIuSVNvdXJjZUNvZGVQYXJzZXI7
DQotaW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLmluZGV4LklJbmRleDsNCi1pbXBvcnQgb3Jn
LmVjbGlwc2UuY2R0LmNvcmUubW9kZWwuQWJzdHJhY3RMYW5ndWFnZTsNCi1pbXBvcnQgb3JnLmVj
bGlwc2UuY2R0LmNvcmUubW9kZWwuSUNMYW5ndWFnZUtleXdvcmRzOw0KLWltcG9ydCBvcmcuZWNs
aXBzZS5jZHQuY29yZS5tb2RlbC5JQ29udHJpYnV0ZWRNb2RlbEJ1aWxkZXI7DQotaW1wb3J0IG9y
Zy5lY2xpcHNlLmNkdC5jb3JlLm1vZGVsLklUcmFuc2xhdGlvblVuaXQ7DQotaW1wb3J0IG9yZy5l
Y2xpcHNlLmNkdC5jb3JlLnBhcnNlci5Db2RlUmVhZGVyOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5j
ZHQuY29yZS5wYXJzZXIuSVBhcnNlckxvZ1NlcnZpY2U7DQotaW1wb3J0IG9yZy5lY2xpcHNlLmNk
dC5jb3JlLnBhcnNlci5JU2Nhbm5lcjsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFy
c2VyLklTY2FubmVySW5mbzsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFyc2VyLktl
eXdvcmRTZXRLZXk7DQotaW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLnBhcnNlci5QYXJzZXJM
YW5ndWFnZTsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFyc2VyLlBhcnNlck1vZGU7
DQotaW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLnBhcnNlci51dGlsLkNoYXJBcnJheUludE1h
cDsNCi1pbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmludGVybmFsLmNvcmUuZG9tLnBhcnNlci5jcHAu
R05VQ1BQU291cmNlUGFyc2VyOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQuaW50ZXJuYWwuY29y
ZS5wYXJzZXIuc2Nhbm5lci5DUHJlcHJvY2Vzc29yOw0KLWltcG9ydCBvcmcuZWNsaXBzZS5jZHQu
aW50ZXJuYWwuY29yZS5wYXJzZXIudG9rZW4uS2V5d29yZFNldHM7DQotaW1wb3J0IG9yZy5lY2xp
cHNlLmNkdC5pbnRlcm5hbC5jb3JlLnBkb20uZG9tLklQRE9NTGlua2FnZUZhY3Rvcnk7DQotaW1w
b3J0IG9yZy5lY2xpcHNlLmNkdC5pbnRlcm5hbC5jb3JlLnBkb20uZG9tLmNwcC5QRE9NQ1BQTGlu
a2FnZUZhY3Rvcnk7DQotaW1wb3J0IG9yZy5lY2xpcHNlLmNvcmUucnVudGltZS5Db3JlRXhjZXB0
aW9uOw0KLQ0KLS8qKg0KLSAqIEFic3RyYWN0IEMrKyBsYW5ndWFnZS4gRGVyaXZlZCBjbGFzc2Vz
IG5lZWQgb25seSBpbXBsZW1lbnQNCi0gKiB7QGxpbmsgZ2V0U2Nhbm5lckV4dGVuc2lvbkNvbmZp
Z3VyYXRpb24oKX0gYW5kIA0KLSAqIHtAbGluayBnZXRQYXJzZXJFeHRlbnNpb25Db25maWd1cmF0
aW9uKCl9Lg0KLSAqIA0KLSAqIDxwPg0KLSAqIDxzdHJvbmc+RVhQRVJJTUVOVEFMPC9zdHJvbmc+
LiBUaGlzIGNsYXNzIG9yIGludGVyZmFjZSBoYXMgYmVlbiBhZGRlZCBhcw0KLSAqIHBhcnQgb2Yg
YSB3b3JrIGluIHByb2dyZXNzLiBUaGVyZSBpcyBubyBndWFyYW50ZWUgdGhhdCB0aGlzIEFQSSB3
aWxsIHdvcmsgb3INCi0gKiB0aGF0IGl0IHdpbGwgcmVtYWluIHRoZSBzYW1lLiBQbGVhc2UgZG8g
bm90IHVzZSB0aGlzIEFQSSB3aXRob3V0IGNvbnN1bHRpbmcNCi0gKiB3aXRoIHRoZSBDRFQgdGVh
bS4NCi0gKiA8L3A+DQotICogDQotICogQHNlZSBJU2Nhbm5lckV4dGVuc2lvbkNvbmZpZ3VyYXRp
b24NCi0gKiBAc2VlIElDUFBQYXJzZXJFeHRlbnNpb25Db25maWd1cmF0aW9uDQotICogDQotICog
QHNpbmNlIDQuMA0KLSAqLw0KLXB1YmxpYyBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdENQUExhbmd1
YWdlIGV4dGVuZHMgQWJzdHJhY3RMYW5ndWFnZSBpbXBsZW1lbnRzIElDTGFuZ3VhZ2VLZXl3b3Jk
cyB7DQotDQotCXByb3RlY3RlZCBzdGF0aWMgY2xhc3MgTmFtZUNvbGxlY3RvciBleHRlbmRzIENQ
UEFTVFZpc2l0b3Igew0KLQkJew0KLQkJCXNob3VsZFZpc2l0TmFtZXM9IHRydWU7DQotCQl9DQot
DQotCQlwcml2YXRlIExpc3QgbmFtZUxpc3Q9IG5ldyBBcnJheUxpc3QoKTsNCi0NCi0JCXB1Ymxp
YyBpbnQgdmlzaXQoSUFTVE5hbWUgbmFtZSkgew0KLQkJCW5hbWVMaXN0LmFkZChuYW1lKTsNCi0J
CQlyZXR1cm4gUFJPQ0VTU19DT05USU5VRTsNCi0JCX0NCi0NCi0JCXB1YmxpYyBJQVNUTmFtZVtd
IGdldE5hbWVzKCkgew0KLQkJCXJldHVybiAoSUFTVE5hbWVbXSkgbmFtZUxpc3QudG9BcnJheShu
ZXcgSUFTVE5hbWVbbmFtZUxpc3Quc2l6ZSgpXSk7DQotCQl9DQotCX0NCi0NCi0JcHVibGljIE9i
amVjdCBnZXRBZGFwdGVyKENsYXNzIGFkYXB0ZXIpIHsNCi0JCWlmIChhZGFwdGVyID09IElQRE9N
TGlua2FnZUZhY3RvcnkuY2xhc3MpIHsNCi0JCQlyZXR1cm4gbmV3IFBET01DUFBMaW5rYWdlRmFj
dG9yeSgpOw0KLQkJfQ0KLQkJcmV0dXJuIHN1cGVyLmdldEFkYXB0ZXIoYWRhcHRlcik7DQotCX0N
Ci0NCi0JcHVibGljIElBU1RUcmFuc2xhdGlvblVuaXQgZ2V0QVNUVHJhbnNsYXRpb25Vbml0KENv
ZGVSZWFkZXIgcmVhZGVyLCBJU2Nhbm5lckluZm8gc2NhbkluZm8sDQotCQkJSUNvZGVSZWFkZXJG
YWN0b3J5IGNvZGVSZWFkZXJGYWN0b3J5LCBJSW5kZXggaW5kZXgsSVBhcnNlckxvZ1NlcnZpY2Ug
bG9nKSB0aHJvd3MgQ29yZUV4Y2VwdGlvbiB7DQotCQlyZXR1cm4gZ2V0QVNUVHJhbnNsYXRpb25V
bml0KHJlYWRlciwgc2NhbkluZm8sIGNvZGVSZWFkZXJGYWN0b3J5LCBpbmRleCwgMCwgbG9nKTsN
Ci0JfQ0KLQkNCi0JcHVibGljIElBU1RUcmFuc2xhdGlvblVuaXQgZ2V0QVNUVHJhbnNsYXRpb25V
bml0KENvZGVSZWFkZXIgcmVhZGVyLCBJU2Nhbm5lckluZm8gc2NhbkluZm8sDQotCQkJSUNvZGVS
ZWFkZXJGYWN0b3J5IGNvZGVSZWFkZXJGYWN0b3J5LCBJSW5kZXggaW5kZXgsIGludCBvcHRpb25z
LCBJUGFyc2VyTG9nU2VydmljZSBsb2cpIHRocm93cyBDb3JlRXhjZXB0aW9uIHsNCi0NCi0JCUlT
Y2FubmVyIHNjYW5uZXI9IGNyZWF0ZVNjYW5uZXIocmVhZGVyLCBzY2FuSW5mbywgY29kZVJlYWRl
ckZhY3RvcnksIGxvZyk7DQotCQlzY2FubmVyLnNldFNjYW5Db21tZW50cygob3B0aW9ucyAmIE9Q
VElPTl9BRERfQ09NTUVOVFMpICE9IDApOw0KLQkJSVNvdXJjZUNvZGVQYXJzZXIgcGFyc2VyPSBj
cmVhdGVQYXJzZXIoc2Nhbm5lciwgbG9nLCBpbmRleCwgZmFsc2UsIG9wdGlvbnMpOw0KLQ0KLQkJ
Ly8gUGFyc2UNCi0JCUlBU1RUcmFuc2xhdGlvblVuaXQgYXN0PSBwYXJzZXIucGFyc2UoKTsNCi0J
CXJldHVybiBhc3Q7DQotCX0NCi0NCi0JcHVibGljIElBU1RDb21wbGV0aW9uTm9kZSBnZXRDb21w
bGV0aW9uTm9kZShDb2RlUmVhZGVyIHJlYWRlciwgSVNjYW5uZXJJbmZvIHNjYW5JbmZvLA0KLQkJ
CUlDb2RlUmVhZGVyRmFjdG9yeSBmaWxlQ3JlYXRvciwgSUluZGV4IGluZGV4LCBJUGFyc2VyTG9n
U2VydmljZSBsb2csIGludCBvZmZzZXQpIHRocm93cyBDb3JlRXhjZXB0aW9uIHsNCi0JCUlTY2Fu
bmVyIHNjYW5uZXI9IGNyZWF0ZVNjYW5uZXIocmVhZGVyLCBzY2FuSW5mbywgZmlsZUNyZWF0b3Is
IGxvZyk7DQotCQlzY2FubmVyLnNldENvbnRlbnRBc3Npc3RNb2RlKG9mZnNldCk7DQotDQotCQlJ
U291cmNlQ29kZVBhcnNlciBwYXJzZXI9IGNyZWF0ZVBhcnNlcihzY2FubmVyLCBsb2csIGluZGV4
LCB0cnVlLCAwKTsNCi0NCi0JCS8vIFJ1biB0aGUgcGFyc2UgYW5kIHJldHVybiB0aGUgY29tcGxl
dGlvbiBub2RlDQotCQlwYXJzZXIucGFyc2UoKTsNCi0JCUlBU1RDb21wbGV0aW9uTm9kZSBub2Rl
PSBwYXJzZXIuZ2V0Q29tcGxldGlvbk5vZGUoKTsNCi0JCXJldHVybiBub2RlOw0KLQl9DQotDQot
CXB1YmxpYyBJQVNUTmFtZVtdIGdldFNlbGVjdGVkTmFtZXMoSUFTVFRyYW5zbGF0aW9uVW5pdCBh
c3QsIGludCBzdGFydCwgaW50IGxlbmd0aCkgew0KLQkJSUFTVE5vZGUgc2VsZWN0ZWROb2RlPSBh
c3Quc2VsZWN0Tm9kZUZvckxvY2F0aW9uKGFzdC5nZXRGaWxlUGF0aCgpLCBzdGFydCwgbGVuZ3Ro
KTsNCi0NCi0JCWlmIChzZWxlY3RlZE5vZGUgPT0gbnVsbCkNCi0JCQlyZXR1cm4gbmV3IElBU1RO
YW1lWzBdOw0KLQ0KLQkJaWYgKHNlbGVjdGVkTm9kZSBpbnN0YW5jZW9mIElBU1ROYW1lKQ0KLQkJ
CXJldHVybiBuZXcgSUFTVE5hbWVbXSB7IChJQVNUTmFtZSkgc2VsZWN0ZWROb2RlIH07DQotDQot
CQlOYW1lQ29sbGVjdG9yIGNvbGxlY3Rvcj0gbmV3IE5hbWVDb2xsZWN0b3IoKTsNCi0JCXNlbGVj
dGVkTm9kZS5hY2NlcHQoY29sbGVjdG9yKTsNCi0JCXJldHVybiBjb2xsZWN0b3IuZ2V0TmFtZXMo
KTsNCi0JfQ0KLQ0KLQlwdWJsaWMgSUNvbnRyaWJ1dGVkTW9kZWxCdWlsZGVyIGNyZWF0ZU1vZGVs
QnVpbGRlcihJVHJhbnNsYXRpb25Vbml0IHR1KSB7DQotCQkvLyBVc2UgdGhlIGRlZmF1bHQgQ0RU
IG1vZGVsIGJ1aWxkZXINCi0JCXJldHVybiBudWxsOw0KLQl9DQotDQotCS8qKg0KLQkgKiBDcmVh
dGUgdGhlIHNjYW5uZXIgdG8gYmUgdXNlZCB3aXRoIHRoZSBwYXJzZXIuDQotCSAqIA0KLQkgKiBA
cGFyYW0gcmVhZGVyICB0aGUgY29kZSByZWFkZXIgZm9yIHRoZSBtYWluIGZpbGUNCi0JICogQHBh
cmFtIHNjYW5JbmZvICB0aGUgc2Nhbm5lciBpbmZvcm1hdGlvbiAobWFjcm9zLCBpbmNsdWRlIHBh
dGhlcykNCi0JICogQHBhcmFtIGZpbGVDcmVhdG9yICB0aGUgY29kZSByZWFkZXIgZmFjdG9yeSBm
b3IgaW5jbHVzaW9ucw0KLQkgKiBAcGFyYW0gbG9nICB0aGUgbG9nIGZvciBkZWJ1Z2dpbmcNCi0J
ICogQHJldHVybiBhbiBpbnN0YW5jZSBvZiBJU2Nhbm5lcg0KLQkgKi8NCi0JcHJvdGVjdGVkIElT
Y2FubmVyIGNyZWF0ZVNjYW5uZXIoQ29kZVJlYWRlciByZWFkZXIsIElTY2FubmVySW5mbyBzY2Fu
SW5mbywgSUNvZGVSZWFkZXJGYWN0b3J5IGZpbGVDcmVhdG9yLCBJUGFyc2VyTG9nU2VydmljZSBs
b2cpIHsNCi0JCXJldHVybiBuZXcgQ1ByZXByb2Nlc3NvcihyZWFkZXIsIHNjYW5JbmZvLCBQYXJz
ZXJMYW5ndWFnZS5DUFAsIGxvZywgZ2V0U2Nhbm5lckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24oKSwg
ZmlsZUNyZWF0b3IpOw0KLQl9DQotDQotCS8qKg0KLQkgKiBDcmVhdGUgdGhlIHBhcnNlci4NCi0J
ICogDQotCSAqIEBwYXJhbSBzY2FubmVyICB0aGUgSVNjYW5uZXIgdG8gZ2V0IHRva2VucyBmcm9t
DQotCSAqIEBwYXJhbSBsb2cgIHRoZSBwYXJzZXIgbG9nIHNlcnZpY2UNCi0JICogQHBhcmFtIGlu
ZGV4ICB0aGUgaW5kZXggdG8gaGVscCByZXNvbHZlIGJpbmRpbmdzDQotCSAqIEBwYXJhbSBmb3JD
b21wbGV0aW9uICB3aGV0aGVyIHRoZSBwYXJzZXIgaXMgdXNlZCBmb3IgY29kZSBjb21wbGV0aW9u
DQotCSAqIEBwYXJhbSBvcHRpb25zIGZvciB2YWxpZCBvcHRpb25zIHNlZSB7QGxpbmsgQWJzdHJh
Y3RMYW5ndWFnZSNnZXRBU1RUcmFuc2xhdGlvblVuaXQoQ29kZVJlYWRlciwgSVNjYW5uZXJJbmZv
LCBJQ29kZVJlYWRlckZhY3RvcnksIElJbmRleCwgaW50LCBJUGFyc2VyTG9nU2VydmljZSl9DQot
CSAqIEByZXR1cm4gIGFuIGluc3RhbmNlIG9mIElTb3VyY2VDb2RlUGFyc2VyDQotCSAqLw0KLQlw
cm90ZWN0ZWQgSVNvdXJjZUNvZGVQYXJzZXIgY3JlYXRlUGFyc2VyKElTY2FubmVyIHNjYW5uZXIs
IElQYXJzZXJMb2dTZXJ2aWNlIGxvZywgSUluZGV4IGluZGV4LCBib29sZWFuIGZvckNvbXBsZXRp
b24sIGludCBvcHRpb25zKSB7DQotCQlQYXJzZXJNb2RlIG1vZGU9IG51bGw7DQotCQlpZiAoZm9y
Q29tcGxldGlvbikgew0KLQkJCW1vZGU9IFBhcnNlck1vZGUuQ09NUExFVElPTl9QQVJTRTsNCi0J
CX0NCi0JCWVsc2UgaWYgKChvcHRpb25zICYgT1BUSU9OX1NLSVBfRlVOQ1RJT05fQk9ESUVTKSAh
PSAwKSB7DQotCQkJbW9kZT0gUGFyc2VyTW9kZS5TVFJVQ1RVUkFMX1BBUlNFOw0KLQkJfQ0KLQkJ
ZWxzZSB7DQotCQkJbW9kZT0gUGFyc2VyTW9kZS5DT01QTEVURV9QQVJTRTsNCi0JCX0NCi0JCXJl
dHVybiBuZXcgR05VQ1BQU291cmNlUGFyc2VyKHNjYW5uZXIsIG1vZGUsIGxvZywgZ2V0UGFyc2Vy
RXh0ZW5zaW9uQ29uZmlndXJhdGlvbigpLCBpbmRleCk7DQotCX0NCi0NCi0JLyoqDQotCSAqIEBy
ZXR1cm4gdGhlIHNjYW5uZXIgZXh0ZW5zaW9uIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgbGFuZ3Vh
Z2UsIG1heSBub3QNCi0JICogICAgICAgICByZXR1cm4gPGNvZGU+bnVsbDwvY29kZT4NCi0JICov
DQotCXByb3RlY3RlZCBhYnN0cmFjdCBJU2Nhbm5lckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24gZ2V0
U2Nhbm5lckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24oKTsNCi0NCi0JLyoqDQotCSAqIEByZXR1cm4g
dGhlIHBhcnNlciBleHRlbnNpb24gY29uZmlndXJhdGlvbiBmb3IgdGhpcyBsYW5ndWFnZSwgbWF5
IG5vdA0KLQkgKiAgICAgICAgIHJldHVybiA8Y29kZT5udWxsPC9jb2RlPg0KLQkgKi8NCi0JcHJv
dGVjdGVkIGFic3RyYWN0IEFic3RyYWN0Q1BQUGFyc2VyRXh0ZW5zaW9uQ29uZmlndXJhdGlvbiBn
ZXRQYXJzZXJFeHRlbnNpb25Db25maWd1cmF0aW9uKCk7DQotDQotCS8qDQotCSAqIEBzZWUgb3Jn
LmVjbGlwc2UuY2R0LmNvcmUubW9kZWwuSUNMYW5ndWFnZUtleXdvcmRzI2dldEtleXdvcmRzKCkN
Ci0JICovDQotCXB1YmxpYyBTdHJpbmdbXSBnZXRLZXl3b3JkcygpIHsNCi0JCVNldCBrZXl3b3Jk
cz0gS2V5d29yZFNldHMuZ2V0S2V5d29yZHMoS2V5d29yZFNldEtleS5LRVlXT1JEUywgUGFyc2Vy
TGFuZ3VhZ2UuQ1BQKTsNCi0JCWtleXdvcmRzPSBuZXcgSGFzaFNldChrZXl3b3Jkcyk7DQotCQlD
aGFyQXJyYXlJbnRNYXAgYWRkaXRpb25hbEtleXdvcmRzPSBnZXRTY2FubmVyRXh0ZW5zaW9uQ29u
ZmlndXJhdGlvbigpLmdldEFkZGl0aW9uYWxLZXl3b3JkcygpOw0KLQkJaWYgKGFkZGl0aW9uYWxL
ZXl3b3JkcyAhPSBudWxsKSB7DQotCQkJZm9yIChJdGVyYXRvciBpdGVyYXRvciA9IGFkZGl0aW9u
YWxLZXl3b3Jkcy50b0xpc3QoKS5pdGVyYXRvcigpOyBpdGVyYXRvci5oYXNOZXh0KCk7ICkgew0K
LQkJCQljaGFyW10gbmFtZSA9IChjaGFyW10pIGl0ZXJhdG9yLm5leHQoKTsNCi0JCQkJa2V5d29y
ZHMuYWRkKG5ldyBTdHJpbmcobmFtZSkpOw0KLQkJCX0NCi0JCX0NCi0JCXJldHVybiAoU3RyaW5n
W10pIGtleXdvcmRzLnRvQXJyYXkobmV3IFN0cmluZ1trZXl3b3Jkcy5zaXplKCldKTsNCi0JfQ0K
LQ0KLQkvKg0KLQkgKiBAc2VlIG9yZy5lY2xpcHNlLmNkdC5jb3JlLm1vZGVsLklDTGFuZ3VhZ2VL
ZXl3b3JkcyNnZXRCdWlsdGluVHlwZXMoKQ0KLQkgKi8NCi0JcHVibGljIFN0cmluZ1tdIGdldEJ1
aWx0aW5UeXBlcygpIHsNCi0JCVNldCB0eXBlcz0gS2V5d29yZFNldHMuZ2V0S2V5d29yZHMoS2V5
d29yZFNldEtleS5UWVBFUywgUGFyc2VyTGFuZ3VhZ2UuQ1BQKTsNCi0JCXJldHVybiAoU3RyaW5n
W10pIHR5cGVzLnRvQXJyYXkobmV3IFN0cmluZ1t0eXBlcy5zaXplKCldKTsNCi0JfQ0KLQ0KLQkv
Kg0KLQkgKiBAc2VlIG9yZy5lY2xpcHNlLmNkdC5jb3JlLm1vZGVsLklDTGFuZ3VhZ2VLZXl3b3Jk
cyNnZXRQcmVwcm9jZXNzb3JLZXl3b3JkcygpDQotCSAqLw0KLQlwdWJsaWMgU3RyaW5nW10gZ2V0
UHJlcHJvY2Vzc29yS2V5d29yZHMoKSB7DQotCQlTZXQga2V5d29yZHM9IEtleXdvcmRTZXRzLmdl
dEtleXdvcmRzKEtleXdvcmRTZXRLZXkuUFBfRElSRUNUSVZFLCBQYXJzZXJMYW5ndWFnZS5DUFAp
Ow0KLQkJa2V5d29yZHM9IG5ldyBIYXNoU2V0KGtleXdvcmRzKTsNCi0JCUNoYXJBcnJheUludE1h
cCBhZGRpdGlvbmFsS2V5d29yZHM9IGdldFNjYW5uZXJFeHRlbnNpb25Db25maWd1cmF0aW9uKCku
Z2V0QWRkaXRpb25hbFByZXByb2Nlc3NvcktleXdvcmRzKCk7DQotCQlpZiAoYWRkaXRpb25hbEtl
eXdvcmRzICE9IG51bGwpIHsNCi0JCQlmb3IgKEl0ZXJhdG9yIGl0ZXJhdG9yID0gYWRkaXRpb25h
bEtleXdvcmRzLnRvTGlzdCgpLml0ZXJhdG9yKCk7IGl0ZXJhdG9yLmhhc05leHQoKTsgKSB7DQot
CQkJCWNoYXJbXSBuYW1lID0gKGNoYXJbXSkgaXRlcmF0b3IubmV4dCgpOw0KLQkJCQlrZXl3b3Jk
cy5hZGQobmV3IFN0cmluZyhuYW1lKSk7DQotCQkJfQ0KLQkJfQ0KLQkJcmV0dXJuIChTdHJpbmdb
XSkga2V5d29yZHMudG9BcnJheShuZXcgU3RyaW5nW2tleXdvcmRzLnNpemUoKV0pOw0KLQl9DQot
fQ0KSW5kZXg6IHBhcnNlci9vcmcvZWNsaXBzZS9jZHQvY29yZS9kb20vcGFyc2VyL0Fic3RyYWN0
Q0xpa2VMYW5ndWFnZS5qYXZhDQo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQpSQ1MgZmlsZTogcGFyc2VyL29yZy9lY2xp
cHNlL2NkdC9jb3JlL2RvbS9wYXJzZXIvQWJzdHJhY3RDTGlrZUxhbmd1YWdlLmphdmENCmRpZmYg
LU4gcGFyc2VyL29yZy9lY2xpcHNlL2NkdC9jb3JlL2RvbS9wYXJzZXIvQWJzdHJhY3RDTGlrZUxh
bmd1YWdlLmphdmENCi0tLSAvZGV2L251bGwJMSBKYW4gMTk3MCAwMDowMDowMCAtMDAwMA0KKysr
IHBhcnNlci9vcmcvZWNsaXBzZS9jZHQvY29yZS9kb20vcGFyc2VyL0Fic3RyYWN0Q0xpa2VMYW5n
dWFnZS5qYXZhCTEgSmFuIDE5NzAgMDA6MDA6MDAgLTAwMDANCkBAIC0wLDAgKzEsMTk4IEBADQor
cGFja2FnZSBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20ucGFyc2VyOw0KKw0KK2ltcG9ydCBqYXZh
LnV0aWwuQXJyYXlMaXN0Ow0KK2ltcG9ydCBqYXZhLnV0aWwuSGFzaFNldDsNCitpbXBvcnQgamF2
YS51dGlsLkl0ZXJhdG9yOw0KK2ltcG9ydCBqYXZhLnV0aWwuTGlzdDsNCitpbXBvcnQgamF2YS51
dGlsLlNldDsNCisNCitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLklDb2RlUmVhZGVy
RmFjdG9yeTsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLmFzdC5BU1RWaXNpdG9y
Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5kb20uYXN0LklBU1RDb21wbGV0aW9uTm9k
ZTsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLmFzdC5JQVNUTmFtZTsNCitpbXBv
cnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUuZG9tLmFzdC5JQVNUTm9kZTsNCitpbXBvcnQgb3JnLmVj
bGlwc2UuY2R0LmNvcmUuZG9tLmFzdC5JQVNUVHJhbnNsYXRpb25Vbml0Ow0KK2ltcG9ydCBvcmcu
ZWNsaXBzZS5jZHQuY29yZS5pbmRleC5JSW5kZXg7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5j
b3JlLm1vZGVsLkFic3RyYWN0TGFuZ3VhZ2U7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3Jl
Lm1vZGVsLklDTGFuZ3VhZ2VLZXl3b3JkczsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUu
bW9kZWwuSUNvbnRyaWJ1dGVkTW9kZWxCdWlsZGVyOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQu
Y29yZS5tb2RlbC5JVHJhbnNsYXRpb25Vbml0Ow0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29y
ZS5wYXJzZXIuQ29kZVJlYWRlcjsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY2R0LmNvcmUucGFyc2Vy
LklQYXJzZXJMb2dTZXJ2aWNlOw0KK2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5wYXJzZXIu
SVNjYW5uZXI7DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLnBhcnNlci5JU2Nhbm5lcklu
Zm87DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLnBhcnNlci5LZXl3b3JkU2V0S2V5Ow0K
K2ltcG9ydCBvcmcuZWNsaXBzZS5jZHQuY29yZS5wYXJzZXIuUGFyc2VyTGFuZ3VhZ2U7DQoraW1w
b3J0IG9yZy5lY2xpcHNlLmNkdC5jb3JlLnBhcnNlci5QYXJzZXJNb2RlOw0KK2ltcG9ydCBvcmcu
ZWNsaXBzZS5jZHQuY29yZS5wYXJzZXIudXRpbC5DaGFyQXJyYXlJbnRNYXA7DQoraW1wb3J0IG9y
Zy5lY2xpcHNlLmNkdC5pbnRlcm5hbC5jb3JlLnBhcnNlci5zY2FubmVyLkNQcmVwcm9jZXNzb3I7
DQoraW1wb3J0IG9yZy5lY2xpcHNlLmNkdC5pbnRlcm5hbC5jb3JlLnBhcnNlci50b2tlbi5LZXl3
b3JkU2V0czsNCitpbXBvcnQgb3JnLmVjbGlwc2UuY29yZS5ydW50aW1lLkNvcmVFeGNlcHRpb247
DQorDQorcHVibGljIGFic3RyYWN0IGNsYXNzIEFic3RyYWN0Q0xpa2VMYW5ndWFnZSBleHRlbmRz
IEFic3RyYWN0TGFuZ3VhZ2UgaW1wbGVtZW50cyBJQ0xhbmd1YWdlS2V5d29yZHMgew0KKw0KKwlz
dGF0aWMgY2xhc3MgTmFtZUNvbGxlY3RvciBleHRlbmRzIEFTVFZpc2l0b3Igew0KKwkJew0KKwkJ
CXNob3VsZFZpc2l0TmFtZXM9IHRydWU7DQorCQl9DQorDQorCQlwcml2YXRlIExpc3Q8SUFTVE5h
bWU+IG5hbWVMaXN0PSBuZXcgQXJyYXlMaXN0PElBU1ROYW1lPigpOw0KKw0KKwkJQE92ZXJyaWRl
IHB1YmxpYyBpbnQgdmlzaXQoSUFTVE5hbWUgbmFtZSkgew0KKwkJCW5hbWVMaXN0LmFkZChuYW1l
KTsNCisJCQlyZXR1cm4gUFJPQ0VTU19DT05USU5VRTsNCisJCX0NCisNCisJCXB1YmxpYyBJQVNU
TmFtZVtdIGdldE5hbWVzKCkgew0KKwkJCXJldHVybiBuYW1lTGlzdC50b0FycmF5KG5ldyBJQVNU
TmFtZVtuYW1lTGlzdC5zaXplKCldKTsNCisJCX0NCisJfQ0KKwkNCisJDQorCS8qKg0KKwkgKiBA
cmV0dXJuIHRoZSBzY2FubmVyIGV4dGVuc2lvbiBjb25maWd1cmF0aW9uIGZvciB0aGlzIGxhbmd1
YWdlLCBtYXkgbm90DQorCSAqICAgICAgICAgcmV0dXJuIDxjb2RlPm51bGw8L2NvZGU+DQorCSAq
Lw0KKwlwcm90ZWN0ZWQgYWJzdHJhY3QgSVNjYW5uZXJFeHRlbnNpb25Db25maWd1cmF0aW9uIGdl
dFNjYW5uZXJFeHRlbnNpb25Db25maWd1cmF0aW9uKCk7DQorDQorCQ0KKwkvKioNCisJICogQ3Jl
YXRlIHRoZSBhY3R1YWwgcGFyc2VyIG9iamVjdC4NCisJICovDQorCXByb3RlY3RlZCBhYnN0cmFj
dCBJU291cmNlQ29kZVBhcnNlciBjcmVhdGVQYXJzZXIoSVNjYW5uZXIgc2Nhbm5lciwgUGFyc2Vy
TW9kZSBwYXJzZXJNb2RlLA0KKwkJCUlQYXJzZXJMb2dTZXJ2aWNlIGxvZ1NlcnZpY2UsIElJbmRl
eCBpbmRleCk7DQorCQ0KKwkNCisJLyoqDQorCSAqIEByZXR1cm4gVGhlIFBhcnNlckxhbmd1YWdl
IHZhbHVlIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGxhbmd1YWdlIHN1cHBvcnRlZC4NCisJICovDQor
CXByb3RlY3RlZCBhYnN0cmFjdCBQYXJzZXJMYW5ndWFnZSBnZXRQYXJzZXJMYW5ndWFnZSgpOw0K
KwkNCisJDQorCXB1YmxpYyBJQVNUVHJhbnNsYXRpb25Vbml0IGdldEFTVFRyYW5zbGF0aW9uVW5p
dChDb2RlUmVhZGVyIHJlYWRlciwgSVNjYW5uZXJJbmZvIHNjYW5JbmZvLA0KKwkJCUlDb2RlUmVh
ZGVyRmFjdG9yeSBmaWxlQ3JlYXRvciwgSUluZGV4IGluZGV4LCBJUGFyc2VyTG9nU2VydmljZSBs
b2cpIHRocm93cyBDb3JlRXhjZXB0aW9uIHsNCisJCXJldHVybiBnZXRBU1RUcmFuc2xhdGlvblVu
aXQocmVhZGVyLCBzY2FuSW5mbywgZmlsZUNyZWF0b3IsIGluZGV4LCAwLCBsb2cpOw0KKwl9DQor
CQ0KKwlAT3ZlcnJpZGUNCisJcHVibGljIElBU1RUcmFuc2xhdGlvblVuaXQgZ2V0QVNUVHJhbnNs
YXRpb25Vbml0KENvZGVSZWFkZXIgcmVhZGVyLCBJU2Nhbm5lckluZm8gc2NhbkluZm8sDQorCQkJ
SUNvZGVSZWFkZXJGYWN0b3J5IGNvZGVSZWFkZXJGYWN0b3J5LCBJSW5kZXggaW5kZXgsIGludCBv
cHRpb25zLCBJUGFyc2VyTG9nU2VydmljZSBsb2cpIHRocm93cyBDb3JlRXhjZXB0aW9uIHsNCisN
CisJCUlTY2FubmVyIHNjYW5uZXI9IGNyZWF0ZVNjYW5uZXIocmVhZGVyLCBzY2FuSW5mbywgY29k
ZVJlYWRlckZhY3RvcnksIGxvZyk7DQorCQlzY2FubmVyLnNldFNjYW5Db21tZW50cygob3B0aW9u
cyAmIE9QVElPTl9BRERfQ09NTUVOVFMpICE9IDApOw0KKwkJc2Nhbm5lci5zZXRDb21wdXRlSW1h
Z2VMb2NhdGlvbnMoKG9wdGlvbnMgJiBBYnN0cmFjdExhbmd1YWdlLk9QVElPTl9OT19JTUFHRV9M
T0NBVElPTlMpID09IDApOw0KKw0KKwkJSVNvdXJjZUNvZGVQYXJzZXIgcGFyc2VyPSBjcmVhdGVQ
YXJzZXIoc2Nhbm5lciwgbG9nLCBpbmRleCwgZmFsc2UsIG9wdGlvbnMpOw0KKwkJDQorCQkvLyBQ
YXJzZQ0KKwkJSUFTVFRyYW5zbGF0aW9uVW5pdCBhc3Q9IHBhcnNlci5wYXJzZSgpOw0KKwkJcmV0
dXJuIGFzdDsNCisJfQ0KKw0KKwlwdWJsaWMgSUFTVENvbXBsZXRpb25Ob2RlIGdldENvbXBsZXRp
b25Ob2RlKENvZGVSZWFkZXIgcmVhZGVyLCBJU2Nhbm5lckluZm8gc2NhbkluZm8sDQorCQkJSUNv
ZGVSZWFkZXJGYWN0b3J5IGZpbGVDcmVhdG9yLCBJSW5kZXggaW5kZXgsIElQYXJzZXJMb2dTZXJ2
aWNlIGxvZywgaW50IG9mZnNldCkgdGhyb3dzIENvcmVFeGNlcHRpb24gew0KKw0KKwkJSVNjYW5u
ZXIgc2Nhbm5lcj0gY3JlYXRlU2Nhbm5lcihyZWFkZXIsIHNjYW5JbmZvLCBmaWxlQ3JlYXRvciwg
bG9nKTsNCisJCXNjYW5uZXIuc2V0Q29udGVudEFzc2lzdE1vZGUob2Zmc2V0KTsNCisNCisJCUlT
b3VyY2VDb2RlUGFyc2VyIHBhcnNlcj0gY3JlYXRlUGFyc2VyKHNjYW5uZXIsIGxvZywgaW5kZXgs
IHRydWUsIDApOw0KKw0KKwkJLy8gUnVuIHRoZSBwYXJzZSBhbmQgcmV0dXJuIHRoZSBjb21wbGV0
aW9uIG5vZGUNCisJCXBhcnNlci5wYXJzZSgpOw0KKwkJSUFTVENvbXBsZXRpb25Ob2RlIG5vZGU9
IHBhcnNlci5nZXRDb21wbGV0aW9uTm9kZSgpOw0KKwkJcmV0dXJuIG5vZGU7DQorCX0NCisJDQor
CQ0KKwkvKioNCisJICogQ3JlYXRlIHRoZSBwYXJzZXIuDQorCSAqIA0KKwkgKiBAcGFyYW0gc2Nh
bm5lciAgdGhlIElTY2FubmVyIHRvIGdldCB0b2tlbnMgZnJvbQ0KKwkgKiBAcGFyYW0gbG9nICB0
aGUgcGFyc2VyIGxvZyBzZXJ2aWNlDQorCSAqIEBwYXJhbSBpbmRleCAgdGhlIGluZGV4IHRvIGhl
bHAgcmVzb2x2ZSBiaW5kaW5ncw0KKwkgKiBAcGFyYW0gZm9yQ29tcGxldGlvbiAgd2hldGhlciB0
aGUgcGFyc2VyIGlzIHVzZWQgZm9yIGNvZGUgY29tcGxldGlvbg0KKwkgKiBAcGFyYW0gb3B0aW9u
cyBmb3IgdmFsaWQgb3B0aW9ucyBzZWUge0BsaW5rIEFic3RyYWN0TGFuZ3VhZ2UjZ2V0QVNUVHJh
bnNsYXRpb25Vbml0KENvZGVSZWFkZXIsIElTY2FubmVySW5mbywgSUNvZGVSZWFkZXJGYWN0b3J5
LCBJSW5kZXgsIGludCwgSVBhcnNlckxvZ1NlcnZpY2UpfQ0KKwkgKiBAcmV0dXJuICBhbiBpbnN0
YW5jZSBvZiBJU291cmNlQ29kZVBhcnNlcg0KKwkgKi8NCisJcHJvdGVjdGVkIElTb3VyY2VDb2Rl
UGFyc2VyIGNyZWF0ZVBhcnNlcihJU2Nhbm5lciBzY2FubmVyLCBJUGFyc2VyTG9nU2VydmljZSBs
b2csIElJbmRleCBpbmRleCwgYm9vbGVhbiBmb3JDb21wbGV0aW9uLCBpbnQgb3B0aW9ucykgew0K
KwkJUGFyc2VyTW9kZSBtb2RlPSBudWxsOw0KKwkJaWYgKGZvckNvbXBsZXRpb24pIHsNCisJCQlt
b2RlPSBQYXJzZXJNb2RlLkNPTVBMRVRJT05fUEFSU0U7DQorCQl9DQorCQllbHNlIGlmICgob3B0
aW9ucyAmIE9QVElPTl9TS0lQX0ZVTkNUSU9OX0JPRElFUykgIT0gMCkgew0KKwkJCW1vZGU9IFBh
cnNlck1vZGUuU1RSVUNUVVJBTF9QQVJTRTsNCisJCX0NCisJCWVsc2Ugew0KKwkJCW1vZGU9IFBh
cnNlck1vZGUuQ09NUExFVEVfUEFSU0U7DQorCQl9DQorCQlyZXR1cm4gY3JlYXRlUGFyc2VyKHNj
YW5uZXIsIG1vZGUsIGxvZywgaW5kZXgpOw0KKwl9DQorCQ0KKwkNCisJLyoqDQorCSAqIENyZWF0
ZSB0aGUgc2Nhbm5lciB0byBiZSB1c2VkIHdpdGggdGhlIHBhcnNlci4NCisJICogDQorCSAqIEBw
YXJhbSByZWFkZXIgIHRoZSBjb2RlIHJlYWRlciBmb3IgdGhlIG1haW4gZmlsZQ0KKwkgKiBAcGFy
YW0gc2NhbkluZm8gIHRoZSBzY2FubmVyIGluZm9ybWF0aW9uIChtYWNyb3MsIGluY2x1ZGUgcGF0
aGVzKQ0KKwkgKiBAcGFyYW0gZmlsZUNyZWF0b3IgIHRoZSBjb2RlIHJlYWRlciBmYWN0b3J5IGZv
ciBpbmNsdXNpb25zDQorCSAqIEBwYXJhbSBsb2cgIHRoZSBsb2cgZm9yIGRlYnVnZ2luZw0KKwkg
KiBAcmV0dXJuIGFuIGluc3RhbmNlIG9mIElTY2FubmVyDQorCSAqLw0KKwlwcm90ZWN0ZWQgSVNj
YW5uZXIgY3JlYXRlU2Nhbm5lcihDb2RlUmVhZGVyIHJlYWRlciwgSVNjYW5uZXJJbmZvIHNjYW5J
bmZvLCBJQ29kZVJlYWRlckZhY3RvcnkgZmlsZUNyZWF0b3IsIElQYXJzZXJMb2dTZXJ2aWNlIGxv
Zykgew0KKwkJcmV0dXJuIG5ldyBDUHJlcHJvY2Vzc29yKHJlYWRlciwgc2NhbkluZm8sIGdldFBh
cnNlckxhbmd1YWdlKCksIGxvZywgZ2V0U2Nhbm5lckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24oKSwg
ZmlsZUNyZWF0b3IpOw0KKwl9DQorCQ0KKwlwdWJsaWMgSUFTVE5hbWVbXSBnZXRTZWxlY3RlZE5h
bWVzKElBU1RUcmFuc2xhdGlvblVuaXQgYXN0LCBpbnQgc3RhcnQsIGludCBsZW5ndGgpIHsNCisJ
CUlBU1ROb2RlIHNlbGVjdGVkTm9kZT0gYXN0LnNlbGVjdE5vZGVGb3JMb2NhdGlvbihhc3QuZ2V0
RmlsZVBhdGgoKSwgc3RhcnQsIGxlbmd0aCk7DQorDQorCQlpZiAoc2VsZWN0ZWROb2RlID09IG51
bGwpDQorCQkJcmV0dXJuIG5ldyBJQVNUTmFtZVswXTsNCisNCisJCWlmIChzZWxlY3RlZE5vZGUg
aW5zdGFuY2VvZiBJQVNUTmFtZSkNCisJCQlyZXR1cm4gbmV3IElBU1ROYW1lW10geyAoSUFTVE5h
bWUpIHNlbGVjdGVkTm9kZSB9Ow0KKw0KKwkJTmFtZUNvbGxlY3RvciBjb2xsZWN0b3IgPSBuZXcg
TmFtZUNvbGxlY3RvcigpOw0KKwkJc2VsZWN0ZWROb2RlLmFjY2VwdChjb2xsZWN0b3IpOw0KKwkJ
cmV0dXJuIGNvbGxlY3Rvci5nZXROYW1lcygpOw0KKwl9DQorCQ0KKwkNCisJcHVibGljIElDb250
cmlidXRlZE1vZGVsQnVpbGRlciBjcmVhdGVNb2RlbEJ1aWxkZXIoSVRyYW5zbGF0aW9uVW5pdCB0
dSkgew0KKwkJLy8gdXNlIGRlZmF1bHQgbW9kZWwgYnVpbGRlcg0KKwkJcmV0dXJuIG51bGw7DQor
CX0NCisNCisJDQorCXB1YmxpYyBTdHJpbmdbXSBnZXRLZXl3b3JkcygpIHsNCisJCVNldDxTdHJp
bmc+IGtleXdvcmRzID0gbmV3IEhhc2hTZXQ8U3RyaW5nPihLZXl3b3JkU2V0cy5nZXRLZXl3b3Jk
cyhLZXl3b3JkU2V0S2V5LktFWVdPUkRTLCBnZXRQYXJzZXJMYW5ndWFnZSgpKSk7DQorCQkNCisJ
CUNoYXJBcnJheUludE1hcCBhZGRpdGlvbmFsS2V5d29yZHMgPSBnZXRTY2FubmVyRXh0ZW5zaW9u
Q29uZmlndXJhdGlvbigpLmdldEFkZGl0aW9uYWxLZXl3b3JkcygpOw0KKwkJaWYgKGFkZGl0aW9u
YWxLZXl3b3JkcyAhPSBudWxsKSB7DQorCQkJZm9yIChJdGVyYXRvciBpdGVyYXRvciA9IGFkZGl0
aW9uYWxLZXl3b3Jkcy50b0xpc3QoKS5pdGVyYXRvcigpOyBpdGVyYXRvci5oYXNOZXh0KCk7ICkg
ew0KKwkJCQljaGFyW10gbmFtZSA9IChjaGFyW10pIGl0ZXJhdG9yLm5leHQoKTsNCisJCQkJa2V5
d29yZHMuYWRkKG5ldyBTdHJpbmcobmFtZSkpOw0KKwkJCX0NCisJCX0NCisJCXJldHVybiBrZXl3
b3Jkcy50b0FycmF5KG5ldyBTdHJpbmdba2V5d29yZHMuc2l6ZSgpXSk7DQorCX0NCisNCisNCisJ
cHVibGljIFN0cmluZ1tdIGdldEJ1aWx0aW5UeXBlcygpIHsNCisJCVNldDxTdHJpbmc+IHR5cGVz
ID0gS2V5d29yZFNldHMuZ2V0S2V5d29yZHMoS2V5d29yZFNldEtleS5UWVBFUywgZ2V0UGFyc2Vy
TGFuZ3VhZ2UoKSk7DQorCQlyZXR1cm4gdHlwZXMudG9BcnJheShuZXcgU3RyaW5nW3R5cGVzLnNp
emUoKV0pOw0KKwl9DQorDQorDQorCXB1YmxpYyBTdHJpbmdbXSBnZXRQcmVwcm9jZXNzb3JLZXl3
b3JkcygpIHsNCisJCVNldDxTdHJpbmc+IGtleXdvcmRzID0gbmV3IEhhc2hTZXQ8U3RyaW5nPihL
ZXl3b3JkU2V0cy5nZXRLZXl3b3JkcyhLZXl3b3JkU2V0S2V5LlBQX0RJUkVDVElWRSwgZ2V0UGFy
c2VyTGFuZ3VhZ2UoKSkpOw0KKwkJQ2hhckFycmF5SW50TWFwIGFkZGl0aW9uYWxLZXl3b3Jkcz0g
Z2V0U2Nhbm5lckV4dGVuc2lvbkNvbmZpZ3VyYXRpb24oKS5nZXRBZGRpdGlvbmFsUHJlcHJvY2Vz
c29yS2V5d29yZHMoKTsNCisJCWlmIChhZGRpdGlvbmFsS2V5d29yZHMgIT0gbnVsbCkgew0KKwkJ
CWZvciAoSXRlcmF0b3IgaXRlcmF0b3IgPSBhZGRpdGlvbmFsS2V5d29yZHMudG9MaXN0KCkuaXRl
cmF0b3IoKTsgaXRlcmF0b3IuaGFzTmV4dCgpOyApIHsNCisJCQkJY2hhcltdIG5hbWUgPSAoY2hh
cltdKSBpdGVyYXRvci5uZXh0KCk7DQorCQkJCWtleXdvcmRzLmFkZChuZXcgU3RyaW5nKG5hbWUp
KTsNCisJCQl9DQorCQl9DQorCQlyZXR1cm4ga2V5d29yZHMudG9BcnJheShuZXcgU3RyaW5nW2tl
eXdvcmRzLnNpemUoKV0pOw0KKwl9DQorCQ0KK30NCg==
</data>
<flag name="iplog"
          id="62784"
          type_id="7"
          status="-"
          setter="dschaefer"
    />
          </attachment>
      

    </bug>

</bugzilla>